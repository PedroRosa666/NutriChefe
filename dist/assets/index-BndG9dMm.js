(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Y0={exports:{}},Rl={},J0={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=Symbol.for("react.element"),N1=Symbol.for("react.portal"),T1=Symbol.for("react.fragment"),R1=Symbol.for("react.strict_mode"),P1=Symbol.for("react.profiler"),A1=Symbol.for("react.provider"),M1=Symbol.for("react.context"),I1=Symbol.for("react.forward_ref"),O1=Symbol.for("react.suspense"),L1=Symbol.for("react.memo"),D1=Symbol.for("react.lazy"),tm=Symbol.iterator;function F1(e){return e===null||typeof e!="object"?null:(e=tm&&e[tm]||e["@@iterator"],typeof e=="function"?e:null)}var Q0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X0=Object.assign,Z0={};function Qi(e,t,r){this.props=e,this.context=t,this.refs=Z0,this.updater=r||Q0}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ey(){}ey.prototype=Qi.prototype;function Gd(e,t,r){this.props=e,this.context=t,this.refs=Z0,this.updater=r||Q0}var Wd=Gd.prototype=new ey;Wd.constructor=Gd;X0(Wd,Qi.prototype);Wd.isPureReactComponent=!0;var rm=Array.isArray,ty=Object.prototype.hasOwnProperty,Kd={current:null},ry={key:!0,ref:!0,__self:!0,__source:!0};function ny(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)ty.call(t,n)&&!ry.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:No,type:e,key:s,ref:o,props:i,_owner:Kd.current}}function $1(e,t){return{$$typeof:No,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qd(e){return typeof e=="object"&&e!==null&&e.$$typeof===No}function U1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nm=/\/+/g;function bc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U1(""+e.key):t.toString(36)}function ja(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case No:case N1:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+bc(o,0):n,rm(i)?(r="",e!=null&&(r=e.replace(nm,"$&/")+"/"),ja(i,t,r,"",function(c){return c})):i!=null&&(qd(i)&&(i=$1(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",rm(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+bc(s,a);o+=ja(s,t,r,l,i)}else if(l=F1(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+bc(s,a++),o+=ja(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xo(e,t,r){if(e==null)return e;var n=[],i=0;return ja(e,n,"","",function(s){return t.call(r,s,i++)}),n}function z1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ut={current:null},Ca={transition:null},V1={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Ca,ReactCurrentOwner:Kd};ae.Children={map:Xo,forEach:function(e,t,r){Xo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xo(e,function(){t++}),t},toArray:function(e){return Xo(e,function(t){return t})||[]},only:function(e){if(!qd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Qi;ae.Fragment=T1;ae.Profiler=P1;ae.PureComponent=Gd;ae.StrictMode=R1;ae.Suspense=O1;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V1;ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=X0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Kd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ty.call(t,l)&&!ry.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:No,type:e.type,key:i,ref:s,props:n,_owner:o}};ae.createContext=function(e){return e={$$typeof:M1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:A1,_context:e},e.Consumer=e};ae.createElement=ny;ae.createFactory=function(e){var t=ny.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:I1,render:e}};ae.isValidElement=qd;ae.lazy=function(e){return{$$typeof:D1,_payload:{_status:-1,_result:e},_init:z1}};ae.memo=function(e,t){return{$$typeof:L1,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Ca.transition;Ca.transition={};try{e()}finally{Ca.transition=t}};ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ae.useCallback=function(e,t){return ut.current.useCallback(e,t)};ae.useContext=function(e){return ut.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return ut.current.useDeferredValue(e)};ae.useEffect=function(e,t){return ut.current.useEffect(e,t)};ae.useId=function(){return ut.current.useId()};ae.useImperativeHandle=function(e,t,r){return ut.current.useImperativeHandle(e,t,r)};ae.useInsertionEffect=function(e,t){return ut.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return ut.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return ut.current.useMemo(e,t)};ae.useReducer=function(e,t,r){return ut.current.useReducer(e,t,r)};ae.useRef=function(e){return ut.current.useRef(e)};ae.useState=function(e){return ut.current.useState(e)};ae.useSyncExternalStore=function(e,t,r){return ut.current.useSyncExternalStore(e,t,r)};ae.useTransition=function(){return ut.current.useTransition()};ae.version="18.2.0";J0.exports=ae;var b=J0.exports;const Yd=q0(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1=b,H1=Symbol.for("react.element"),G1=Symbol.for("react.fragment"),W1=Object.prototype.hasOwnProperty,K1=B1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q1={key:!0,ref:!0,__self:!0,__source:!0};function iy(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)W1.call(t,n)&&!q1.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:H1,type:e,key:s,ref:o,props:i,_owner:K1.current}}Rl.Fragment=G1;Rl.jsx=iy;Rl.jsxs=iy;Y0.exports=Rl;var u=Y0.exports,sy={exports:{}},Ct={},oy={exports:{}},ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,O){var U=R.length;R.push(O);e:for(;0<U;){var q=U-1>>>1,he=R[q];if(0<i(he,O))R[q]=O,R[U]=he,U=q;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var O=R[0],U=R.pop();if(U!==O){R[0]=U;e:for(var q=0,he=R.length,ze=he>>>1;q<ze;){var je=2*(q+1)-1,Bt=R[je],Tt=je+1,Rt=R[Tt];if(0>i(Bt,U))Tt<he&&0>i(Rt,Bt)?(R[q]=Rt,R[Tt]=U,q=Tt):(R[q]=Bt,R[je]=U,q=je);else if(Tt<he&&0>i(Rt,U))R[q]=Rt,R[Tt]=U,q=Tt;else break e}}return O}function i(R,O){var U=R.sortIndex-O.sortIndex;return U!==0?U:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var O=r(c);O!==null;){if(O.callback===null)n(c);else if(O.startTime<=R)n(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=r(c)}}function _(R){if(x=!1,v(R),!y)if(r(l)!==null)y=!0,oe(E);else{var O=r(c);O!==null&&W(_,O.startTime-R)}}function E(R,O){y=!1,x&&(x=!1,g(C),C=-1),m=!0;var U=h;try{for(v(O),f=r(l);f!==null&&(!(f.expirationTime>O)||R&&!D());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var he=q(f.expirationTime<=O);O=e.unstable_now(),typeof he=="function"?f.callback=he:f===r(l)&&n(l),v(O)}else n(l);f=r(l)}if(f!==null)var ze=!0;else{var je=r(c);je!==null&&W(_,je.startTime-O),ze=!1}return ze}finally{f=null,h=U,m=!1}}var T=!1,k=null,C=-1,I=5,P=-1;function D(){return!(e.unstable_now()-P<I)}function A(){if(k!==null){var R=e.unstable_now();P=R;var O=!0;try{O=k(!0,R)}finally{O?te():(T=!1,k=null)}}else T=!1}var te;if(typeof p=="function")te=function(){p(A)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Z=ue.port2;ue.port1.onmessage=A,te=function(){Z.postMessage(null)}}else te=function(){w(A,0)};function oe(R){k=R,T||(T=!0,te())}function W(R,O){C=w(function(){R(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,oe(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var U=h;h=O;try{return R()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=h;h=R;try{return O()}finally{h=U}},e.unstable_scheduleCallback=function(R,O,U){var q=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,R){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=U+he,R={id:d++,callback:O,priorityLevel:R,startTime:U,expirationTime:he,sortIndex:-1},U>q?(R.sortIndex=U,t(c,R),r(l)===null&&R===r(c)&&(x?(g(C),C=-1):x=!0,W(_,U-q))):(R.sortIndex=he,t(l,R),y||m||(y=!0,oe(E))),R},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(R){var O=h;return function(){var U=h;h=O;try{return R.apply(this,arguments)}finally{h=U}}}})(ay);oy.exports=ay;var Y1=oy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=b,Et=Y1;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cy=new Set,Js={};function Yn(e,t){Di(e,t),Di(e+"Capture",t)}function Di(e,t){for(Js[e]=t,e=0;e<t.length;e++)cy.add(t[e])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bu=Object.prototype.hasOwnProperty,J1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,im={},sm={};function Q1(e){return bu.call(sm,e)?!0:bu.call(im,e)?!1:J1.test(e)?sm[e]=!0:(im[e]=!0,!1)}function X1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z1(e,t,r,n){if(t===null||typeof t>"u"||X1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jd=/[\-:]([a-z])/g;function Qd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jd,Qd);Je[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jd,Qd);Je[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jd,Qd);Je[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xd(e,t,r,n){var i=Je.hasOwnProperty(t)?Je[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Z1(t,r,i,n)&&(r=null),n||i===null?Q1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ar=ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zo=Symbol.for("react.element"),ui=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),Zd=Symbol.for("react.strict_mode"),ku=Symbol.for("react.profiler"),uy=Symbol.for("react.provider"),dy=Symbol.for("react.context"),ef=Symbol.for("react.forward_ref"),Su=Symbol.for("react.suspense"),_u=Symbol.for("react.suspense_list"),tf=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),fy=Symbol.for("react.offscreen"),om=Symbol.iterator;function cs(e){return e===null||typeof e!="object"?null:(e=om&&e[om]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,kc;function _s(e){if(kc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);kc=t&&t[1]||""}return`
`+kc+e}var Sc=!1;function _c(e,t){if(!e||Sc)return"";Sc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_s(e):""}function ek(e){switch(e.tag){case 5:return _s(e.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 2:case 15:return e=_c(e.type,!1),e;case 11:return e=_c(e.type.render,!1),e;case 1:return e=_c(e.type,!0),e;default:return""}}function Eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case di:return"Fragment";case ui:return"Portal";case ku:return"Profiler";case Zd:return"StrictMode";case Su:return"Suspense";case _u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dy:return(e.displayName||"Context")+".Consumer";case uy:return(e._context.displayName||"Context")+".Provider";case ef:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tf:return t=e.displayName||null,t!==null?t:Eu(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return Eu(e(t))}catch{}}return null}function tk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(t);case 8:return t===Zd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rk(e){var t=hy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ea(e){e._valueTracker||(e._valueTracker=rk(e))}function my(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ju(e,t){var r=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function am(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=cn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function py(e,t){t=t.checked,t!=null&&Xd(e,"checked",t,!1)}function Cu(e,t){py(e,t);var r=cn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nu(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nu(e,t,r){(t!=="number"||Ga(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Es=Array.isArray;function Ni(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+cn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Es(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:cn(r)}}function gy(e,t){var r=cn(t.value),n=cn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function um(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ru(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ta,vy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nk=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(e){nk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Is[t]=Is[e]})});function xy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Is.hasOwnProperty(e)&&Is[e]?(""+t).trim():t+"px"}function wy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=xy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var ik=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pu(e,t){if(t){if(ik[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=null;function rf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Iu=null,Ti=null,Ri=null;function dm(e){if(e=Po(e)){if(typeof Iu!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Ol(t),Iu(e.stateNode,e.type,t))}}function by(e){Ti?Ri?Ri.push(e):Ri=[e]:Ti=e}function ky(){if(Ti){var e=Ti,t=Ri;if(Ri=Ti=null,dm(e),t)for(e=0;e<t.length;e++)dm(t[e])}}function Sy(e,t){return e(t)}function _y(){}var Ec=!1;function Ey(e,t,r){if(Ec)return e(t,r);Ec=!0;try{return Sy(e,t,r)}finally{Ec=!1,(Ti!==null||Ri!==null)&&(_y(),ky())}}function Xs(e,t){var r=e.stateNode;if(r===null)return null;var n=Ol(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Ou=!1;if(Cr)try{var us={};Object.defineProperty(us,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Ou=!1}function sk(e,t,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Os=!1,Wa=null,Ka=!1,Lu=null,ok={onError:function(e){Os=!0,Wa=e}};function ak(e,t,r,n,i,s,o,a,l){Os=!1,Wa=null,sk.apply(ok,arguments)}function lk(e,t,r,n,i,s,o,a,l){if(ak.apply(this,arguments),Os){if(Os){var c=Wa;Os=!1,Wa=null}else throw Error(L(198));Ka||(Ka=!0,Lu=c)}}function Jn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fm(e){if(Jn(e)!==e)throw Error(L(188))}function ck(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return fm(i),e;if(s===n)return fm(i),t;s=s.sibling}throw Error(L(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function Cy(e){return e=ck(e),e!==null?Ny(e):null}function Ny(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ny(e);if(t!==null)return t;e=e.sibling}return null}var Ty=Et.unstable_scheduleCallback,hm=Et.unstable_cancelCallback,uk=Et.unstable_shouldYield,dk=Et.unstable_requestPaint,Le=Et.unstable_now,fk=Et.unstable_getCurrentPriorityLevel,nf=Et.unstable_ImmediatePriority,Ry=Et.unstable_UserBlockingPriority,qa=Et.unstable_NormalPriority,hk=Et.unstable_LowPriority,Py=Et.unstable_IdlePriority,Pl=null,or=null;function mk(e){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:yk,pk=Math.log,gk=Math.LN2;function yk(e){return e>>>=0,e===0?32:31-(pk(e)/gk|0)|0}var ra=64,na=4194304;function js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ya(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=js(a):(s&=o,s!==0&&(n=js(s)))}else o=r&~i,o!==0?n=js(o):s!==0&&(n=js(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Jt(t),i=1<<r,n|=e[r],t&=~i;return n}function vk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=vk(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Du(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ay(){var e=ra;return ra<<=1,!(ra&4194240)&&(ra=64),e}function jc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function To(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=r}function wk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Jt(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function sf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Jt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var pe=0;function My(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Iy,of,Oy,Ly,Dy,Fu=!1,ia=[],Zr=null,en=null,tn=null,Zs=new Map,eo=new Map,Gr=[],bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(t.pointerId)}}function ds(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Po(t),t!==null&&of(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function kk(e,t,r,n,i){switch(t){case"focusin":return Zr=ds(Zr,e,t,r,n,i),!0;case"dragenter":return en=ds(en,e,t,r,n,i),!0;case"mouseover":return tn=ds(tn,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Zs.set(s,ds(Zs.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,eo.set(s,ds(eo.get(s)||null,e,t,r,n,i)),!0}return!1}function Fy(e){var t=In(e.target);if(t!==null){var r=Jn(t);if(r!==null){if(t=r.tag,t===13){if(t=jy(r),t!==null){e.blockedOn=t,Dy(e.priority,function(){Oy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$u(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mu=n,r.target.dispatchEvent(n),Mu=null}else return t=Po(r),t!==null&&of(t),e.blockedOn=r,!1;t.shift()}return!0}function pm(e,t,r){Na(e)&&r.delete(t)}function Sk(){Fu=!1,Zr!==null&&Na(Zr)&&(Zr=null),en!==null&&Na(en)&&(en=null),tn!==null&&Na(tn)&&(tn=null),Zs.forEach(pm),eo.forEach(pm)}function fs(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,Sk)))}function to(e){function t(i){return fs(i,e)}if(0<ia.length){fs(ia[0],e);for(var r=1;r<ia.length;r++){var n=ia[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zr!==null&&fs(Zr,e),en!==null&&fs(en,e),tn!==null&&fs(tn,e),Zs.forEach(t),eo.forEach(t),r=0;r<Gr.length;r++)n=Gr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gr.length&&(r=Gr[0],r.blockedOn===null);)Fy(r),r.blockedOn===null&&Gr.shift()}var Pi=Ar.ReactCurrentBatchConfig,Ja=!0;function _k(e,t,r,n){var i=pe,s=Pi.transition;Pi.transition=null;try{pe=1,af(e,t,r,n)}finally{pe=i,Pi.transition=s}}function Ek(e,t,r,n){var i=pe,s=Pi.transition;Pi.transition=null;try{pe=4,af(e,t,r,n)}finally{pe=i,Pi.transition=s}}function af(e,t,r,n){if(Ja){var i=$u(e,t,r,n);if(i===null)Lc(e,t,n,Qa,r),mm(e,n);else if(kk(i,e,t,r,n))n.stopPropagation();else if(mm(e,n),t&4&&-1<bk.indexOf(e)){for(;i!==null;){var s=Po(i);if(s!==null&&Iy(s),s=$u(e,t,r,n),s===null&&Lc(e,t,n,Qa,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Lc(e,t,n,null,r)}}var Qa=null;function $u(e,t,r,n){if(Qa=null,e=rf(n),e=In(e),e!==null)if(t=Jn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qa=e,null}function $y(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fk()){case nf:return 1;case Ry:return 4;case qa:case hk:return 16;case Py:return 536870912;default:return 16}default:return 16}}var Jr=null,lf=null,Ta=null;function Uy(){if(Ta)return Ta;var e,t=lf,r=t.length,n,i="value"in Jr?Jr.value:Jr.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Ta=i.slice(e,1<n?1-n:void 0)}function Ra(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sa(){return!0}function gm(){return!1}function Nt(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sa:gm,this.isPropagationStopped=gm,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),t}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cf=Nt(Xi),Ro=Re({},Xi,{view:0,detail:0}),jk=Nt(Ro),Cc,Nc,hs,Al=Re({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(Cc=e.screenX-hs.screenX,Nc=e.screenY-hs.screenY):Nc=Cc=0,hs=e),Cc)},movementY:function(e){return"movementY"in e?e.movementY:Nc}}),ym=Nt(Al),Ck=Re({},Al,{dataTransfer:0}),Nk=Nt(Ck),Tk=Re({},Ro,{relatedTarget:0}),Tc=Nt(Tk),Rk=Re({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Pk=Nt(Rk),Ak=Re({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mk=Nt(Ak),Ik=Re({},Xi,{data:0}),vm=Nt(Ik),Ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dk[e])?!!t[e]:!1}function uf(){return Fk}var $k=Re({},Ro,{key:function(e){if(e.key){var t=Ok[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uf,charCode:function(e){return e.type==="keypress"?Ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uk=Nt($k),zk=Re({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xm=Nt(zk),Vk=Re({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uf}),Bk=Nt(Vk),Hk=Re({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gk=Nt(Hk),Wk=Re({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kk=Nt(Wk),qk=[9,13,27,32],df=Cr&&"CompositionEvent"in window,Ls=null;Cr&&"documentMode"in document&&(Ls=document.documentMode);var Yk=Cr&&"TextEvent"in window&&!Ls,zy=Cr&&(!df||Ls&&8<Ls&&11>=Ls),wm=" ",bm=!1;function Vy(e,t){switch(e){case"keyup":return qk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function By(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fi=!1;function Jk(e,t){switch(e){case"compositionend":return By(t);case"keypress":return t.which!==32?null:(bm=!0,wm);case"textInput":return e=t.data,e===wm&&bm?null:e;default:return null}}function Qk(e,t){if(fi)return e==="compositionend"||!df&&Vy(e,t)?(e=Uy(),Ta=lf=Jr=null,fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zy&&t.locale!=="ko"?null:t.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xk[e.type]:t==="textarea"}function Hy(e,t,r,n){by(n),t=Xa(t,"onChange"),0<t.length&&(r=new cf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ds=null,ro=null;function Zk(e){tv(e,0)}function Ml(e){var t=pi(e);if(my(t))return e}function eS(e,t){if(e==="change")return t}var Gy=!1;if(Cr){var Rc;if(Cr){var Pc="oninput"in document;if(!Pc){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),Pc=typeof Sm.oninput=="function"}Rc=Pc}else Rc=!1;Gy=Rc&&(!document.documentMode||9<document.documentMode)}function _m(){Ds&&(Ds.detachEvent("onpropertychange",Wy),ro=Ds=null)}function Wy(e){if(e.propertyName==="value"&&Ml(ro)){var t=[];Hy(t,ro,e,rf(e)),Ey(Zk,t)}}function tS(e,t,r){e==="focusin"?(_m(),Ds=t,ro=r,Ds.attachEvent("onpropertychange",Wy)):e==="focusout"&&_m()}function rS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(ro)}function nS(e,t){if(e==="click")return Ml(t)}function iS(e,t){if(e==="input"||e==="change")return Ml(t)}function sS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:sS;function no(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!bu.call(t,i)||!Zt(e[i],t[i]))return!1}return!0}function Em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jm(e,t){var r=Em(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Em(r)}}function Ky(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ky(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qy(){for(var e=window,t=Ga();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ga(e.document)}return t}function ff(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oS(e){var t=qy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ky(r.ownerDocument.documentElement,r)){if(n!==null&&ff(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=jm(r,s);var o=jm(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aS=Cr&&"documentMode"in document&&11>=document.documentMode,hi=null,Uu=null,Fs=null,zu=!1;function Cm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zu||hi==null||hi!==Ga(n)||(n=hi,"selectionStart"in n&&ff(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fs&&no(Fs,n)||(Fs=n,n=Xa(Uu,"onSelect"),0<n.length&&(t=new cf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hi)))}function oa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mi={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionend:oa("Transition","TransitionEnd")},Ac={},Yy={};Cr&&(Yy=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Il(e){if(Ac[e])return Ac[e];if(!mi[e])return e;var t=mi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yy)return Ac[e]=t[r];return e}var Jy=Il("animationend"),Qy=Il("animationiteration"),Xy=Il("animationstart"),Zy=Il("transitionend"),ev=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){ev.set(e,t),Yn(t,[e])}for(var Mc=0;Mc<Nm.length;Mc++){var Ic=Nm[Mc],lS=Ic.toLowerCase(),cS=Ic[0].toUpperCase()+Ic.slice(1);hn(lS,"on"+cS)}hn(Jy,"onAnimationEnd");hn(Qy,"onAnimationIteration");hn(Xy,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(Zy,"onTransitionEnd");Di("onMouseEnter",["mouseout","mouseover"]);Di("onMouseLeave",["mouseout","mouseover"]);Di("onPointerEnter",["pointerout","pointerover"]);Di("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function Tm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lk(n,t,void 0,e),e.currentTarget=null}function tv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Tm(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Tm(i,a,c),s=l}}}if(Ka)throw e=Lu,Ka=!1,Lu=null,e}function ke(e,t){var r=t[Wu];r===void 0&&(r=t[Wu]=new Set);var n=e+"__bubble";r.has(n)||(rv(t,e,2,!1),r.add(n))}function Oc(e,t,r){var n=0;t&&(n|=4),rv(r,e,n,t)}var aa="_reactListening"+Math.random().toString(36).slice(2);function io(e){if(!e[aa]){e[aa]=!0,cy.forEach(function(r){r!=="selectionchange"&&(uS.has(r)||Oc(r,!1,e),Oc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[aa]||(t[aa]=!0,Oc("selectionchange",!1,t))}}function rv(e,t,r,n){switch($y(t)){case 1:var i=_k;break;case 4:i=Ek;break;default:i=af}r=i.bind(null,t,r,e),i=void 0,!Ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Lc(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=In(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Ey(function(){var c=s,d=rf(r),f=[];e:{var h=ev.get(e);if(h!==void 0){var m=cf,y=e;switch(e){case"keypress":if(Ra(r)===0)break e;case"keydown":case"keyup":m=Uk;break;case"focusin":y="focus",m=Tc;break;case"focusout":y="blur",m=Tc;break;case"beforeblur":case"afterblur":m=Tc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Nk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Bk;break;case Jy:case Qy:case Xy:m=Pk;break;case Zy:m=Gk;break;case"scroll":m=jk;break;case"wheel":m=Kk;break;case"copy":case"cut":case"paste":m=Mk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xm}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var p=c,v;p!==null;){v=p;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,g!==null&&(_=Xs(p,g),_!=null&&x.push(so(p,_,v)))),w)break;p=p.return}0<x.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Mu&&(y=r.relatedTarget||r.fromElement)&&(In(y)||y[Nr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=c,y=y?In(y):null,y!==null&&(w=Jn(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(x=ym,_="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=xm,_="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?h:pi(m),v=y==null?h:pi(y),h=new x(_,p+"leave",m,r,d),h.target=w,h.relatedTarget=v,_=null,In(d)===c&&(x=new x(g,p+"enter",y,r,d),x.target=v,x.relatedTarget=w,_=x),w=_,m&&y)t:{for(x=m,g=y,p=0,v=x;v;v=ni(v))p++;for(v=0,_=g;_;_=ni(_))v++;for(;0<p-v;)x=ni(x),p--;for(;0<v-p;)g=ni(g),v--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=ni(x),g=ni(g)}x=null}else x=null;m!==null&&Rm(f,h,m,x,!1),y!==null&&w!==null&&Rm(f,w,y,x,!0)}}e:{if(h=c?pi(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=eS;else if(km(h))if(Gy)E=iS;else{E=rS;var T=tS}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=nS);if(E&&(E=E(e,c))){Hy(f,E,r,d);break e}T&&T(e,h,c),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Nu(h,"number",h.value)}switch(T=c?pi(c):window,e){case"focusin":(km(T)||T.contentEditable==="true")&&(hi=T,Uu=c,Fs=null);break;case"focusout":Fs=Uu=hi=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,Cm(f,r,d);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":Cm(f,r,d)}var k;if(df)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else fi?Vy(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(zy&&r.locale!=="ko"&&(fi||C!=="onCompositionStart"?C==="onCompositionEnd"&&fi&&(k=Uy()):(Jr=d,lf="value"in Jr?Jr.value:Jr.textContent,fi=!0)),T=Xa(c,C),0<T.length&&(C=new vm(C,e,null,r,d),f.push({event:C,listeners:T}),k?C.data=k:(k=By(r),k!==null&&(C.data=k)))),(k=Yk?Jk(e,r):Qk(e,r))&&(c=Xa(c,"onBeforeInput"),0<c.length&&(d=new vm("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=k))}tv(f,t)})}function so(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xa(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xs(e,r),s!=null&&n.unshift(so(e,s,i)),s=Xs(e,t),s!=null&&n.push(so(e,s,i))),e=e.return}return n}function ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rm(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=Xs(r,s),l!=null&&o.unshift(so(r,l,a))):i||(l=Xs(r,s),l!=null&&o.push(so(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var dS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function Pm(e){return(typeof e=="string"?e:""+e).replace(dS,`
`).replace(fS,"")}function la(e,t,r){if(t=Pm(t),Pm(e)!==t&&r)throw Error(L(425))}function Za(){}var Vu=null,Bu=null;function Hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(e){return Am.resolve(null).then(e).catch(pS)}:Gu;function pS(e){setTimeout(function(){throw e})}function Dc(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),to(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);to(t)}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),sr="__reactFiber$"+Zi,oo="__reactProps$"+Zi,Nr="__reactContainer$"+Zi,Wu="__reactEvents$"+Zi,gS="__reactListeners$"+Zi,yS="__reactHandles$"+Zi;function In(e){var t=e[sr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nr]||r[sr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mm(e);e!==null;){if(r=e[sr])return r;e=Mm(e)}return t}e=r,r=e.parentNode}return null}function Po(e){return e=e[sr]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Ol(e){return e[oo]||null}var Ku=[],gi=-1;function mn(e){return{current:e}}function Se(e){0>gi||(e.current=Ku[gi],Ku[gi]=null,gi--)}function ve(e,t){gi++,Ku[gi]=e.current,e.current=t}var un={},ot=mn(un),gt=mn(!1),Bn=un;function Fi(e,t){var r=e.type.contextTypes;if(!r)return un;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yt(e){return e=e.childContextTypes,e!=null}function el(){Se(gt),Se(ot)}function Im(e,t,r){if(ot.current!==un)throw Error(L(168));ve(ot,t),ve(gt,r)}function nv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(L(108,tk(e)||"Unknown",i));return Re({},r,n)}function tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||un,Bn=ot.current,ve(ot,e),ve(gt,gt.current),!0}function Om(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=nv(e,t,Bn),n.__reactInternalMemoizedMergedChildContext=e,Se(gt),Se(ot),ve(ot,e)):Se(gt),ve(gt,r)}var br=null,Ll=!1,Fc=!1;function iv(e){br===null?br=[e]:br.push(e)}function vS(e){Ll=!0,iv(e)}function pn(){if(!Fc&&br!==null){Fc=!0;var e=0,t=pe;try{var r=br;for(pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}br=null,Ll=!1}catch(i){throw br!==null&&(br=br.slice(e+1)),Ty(nf,pn),i}finally{pe=t,Fc=!1}}return null}var yi=[],vi=0,rl=null,nl=0,It=[],Ot=0,Hn=null,kr=1,Sr="";function Nn(e,t){yi[vi++]=nl,yi[vi++]=rl,rl=e,nl=t}function sv(e,t,r){It[Ot++]=kr,It[Ot++]=Sr,It[Ot++]=Hn,Hn=e;var n=kr;e=Sr;var i=32-Jt(n)-1;n&=~(1<<i),r+=1;var s=32-Jt(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,kr=1<<32-Jt(t)+i|r<<i|n,Sr=s+e}else kr=1<<s|r<<i|n,Sr=e}function hf(e){e.return!==null&&(Nn(e,1),sv(e,1,0))}function mf(e){for(;e===rl;)rl=yi[--vi],yi[vi]=null,nl=yi[--vi],yi[vi]=null;for(;e===Hn;)Hn=It[--Ot],It[Ot]=null,Sr=It[--Ot],It[Ot]=null,kr=It[--Ot],It[Ot]=null}var St=null,kt=null,Ee=!1,Yt=null;function ov(e,t){var r=Lt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,kt=rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hn!==null?{id:kr,overflow:Sr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Lt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,St=e,kt=null,!0):!1;default:return!1}}function qu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yu(e){if(Ee){var t=kt;if(t){var r=t;if(!Lm(e,t)){if(qu(e))throw Error(L(418));t=rn(r.nextSibling);var n=St;t&&Lm(e,t)?ov(n,r):(e.flags=e.flags&-4097|2,Ee=!1,St=e)}}else{if(qu(e))throw Error(L(418));e.flags=e.flags&-4097|2,Ee=!1,St=e}}}function Dm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function ca(e){if(e!==St)return!1;if(!Ee)return Dm(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hu(e.type,e.memoizedProps)),t&&(t=kt)){if(qu(e))throw av(),Error(L(418));for(;t;)ov(e,t),t=rn(t.nextSibling)}if(Dm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kt=rn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=St?rn(e.stateNode.nextSibling):null;return!0}function av(){for(var e=kt;e;)e=rn(e.nextSibling)}function $i(){kt=St=null,Ee=!1}function pf(e){Yt===null?Yt=[e]:Yt.push(e)}var xS=Ar.ReactCurrentBatchConfig;function Wt(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var il=mn(null),sl=null,xi=null,gf=null;function yf(){gf=xi=sl=null}function vf(e){var t=il.current;Se(il),e._currentValue=t}function Ju(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ai(e,t){sl=e,gf=xi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(gf!==e)if(e={context:e,memoizedValue:t,next:null},xi===null){if(sl===null)throw Error(L(308));xi=e,sl.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var On=null;function xf(e){On===null?On=[e]:On.push(e)}function lv(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,xf(t)):(r.next=i.next,i.next=r),t.interleaved=r,Tr(e,n)}function Tr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vr=!1;function wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Tr(e,r)}return i=n.interleaved,i===null?(t.next=t,xf(n)):(t.next=i.next,i.next=t),n.interleaved=t,Tr(e,r)}function Pa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sf(e,r)}}function Fm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ol(e,t,r,n){var i=e.updateQueue;Vr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,x=a;switch(h=t,m=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Re({},f,h);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Wn|=o,e.lanes=o,e.memoizedState=f}}function $m(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(L(191,i));i.call(n)}}}var uv=new ly.Component().refs;function Qu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dl={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ct(),i=on(e),s=_r(n,i);s.payload=t,r!=null&&(s.callback=r),t=nn(e,s,i),t!==null&&(Qt(t,e,i,n),Pa(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ct(),i=on(e),s=_r(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=nn(e,s,i),t!==null&&(Qt(t,e,i,n),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ct(),n=on(e),i=_r(r,n);i.tag=2,t!=null&&(i.callback=t),t=nn(e,i,n),t!==null&&(Qt(t,e,n,r),Pa(t,e,n))}};function Um(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!no(r,n)||!no(i,s):!0}function dv(e,t,r){var n=!1,i=un,s=t.contextType;return typeof s=="object"&&s!==null?s=$t(s):(i=yt(t)?Bn:ot.current,n=t.contextTypes,s=(n=n!=null)?Fi(e,i):un),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function zm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dl.enqueueReplaceState(t,t.state,null)}function Xu(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=uv,wf(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=$t(s):(s=yt(t)?Bn:ot.current,i.context=Fi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Qu(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dl.enqueueReplaceState(i,i.state,null),ol(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ms(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===uv&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function ua(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vm(e){var t=e._init;return t(e._payload)}function fv(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=an(g,p),g.index=0,g.sibling=null,g}function s(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,_){return p===null||p.tag!==6?(p=Gc(v,g.mode,_),p.return=g,p):(p=i(p,v),p.return=g,p)}function l(g,p,v,_){var E=v.type;return E===di?d(g,p,v.props.children,_,v.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===zr&&Vm(E)===p.type)?(_=i(p,v.props),_.ref=ms(g,p,v),_.return=g,_):(_=Da(v.type,v.key,v.props,null,g.mode,_),_.ref=ms(g,p,v),_.return=g,_)}function c(g,p,v,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Wc(v,g.mode,_),p.return=g,p):(p=i(p,v.children||[]),p.return=g,p)}function d(g,p,v,_,E){return p===null||p.tag!==7?(p=zn(v,g.mode,_,E),p.return=g,p):(p=i(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Gc(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zo:return v=Da(p.type,p.key,p.props,null,g.mode,v),v.ref=ms(g,null,p),v.return=g,v;case ui:return p=Wc(p,g.mode,v),p.return=g,p;case zr:var _=p._init;return f(g,_(p._payload),v)}if(Es(p)||cs(p))return p=zn(p,g.mode,v,null),p.return=g,p;ua(g,p)}return null}function h(g,p,v,_){var E=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(g,p,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zo:return v.key===E?l(g,p,v,_):null;case ui:return v.key===E?c(g,p,v,_):null;case zr:return E=v._init,h(g,p,E(v._payload),_)}if(Es(v)||cs(v))return E!==null?null:d(g,p,v,_,null);ua(g,v)}return null}function m(g,p,v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(v)||null,a(p,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zo:return g=g.get(_.key===null?v:_.key)||null,l(p,g,_,E);case ui:return g=g.get(_.key===null?v:_.key)||null,c(p,g,_,E);case zr:var T=_._init;return m(g,p,v,T(_._payload),E)}if(Es(_)||cs(_))return g=g.get(v)||null,d(p,g,_,E,null);ua(p,_)}return null}function y(g,p,v,_){for(var E=null,T=null,k=p,C=p=0,I=null;k!==null&&C<v.length;C++){k.index>C?(I=k,k=null):I=k.sibling;var P=h(g,k,v[C],_);if(P===null){k===null&&(k=I);break}e&&k&&P.alternate===null&&t(g,k),p=s(P,p,C),T===null?E=P:T.sibling=P,T=P,k=I}if(C===v.length)return r(g,k),Ee&&Nn(g,C),E;if(k===null){for(;C<v.length;C++)k=f(g,v[C],_),k!==null&&(p=s(k,p,C),T===null?E=k:T.sibling=k,T=k);return Ee&&Nn(g,C),E}for(k=n(g,k);C<v.length;C++)I=m(k,g,C,v[C],_),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?C:I.key),p=s(I,p,C),T===null?E=I:T.sibling=I,T=I);return e&&k.forEach(function(D){return t(g,D)}),Ee&&Nn(g,C),E}function x(g,p,v,_){var E=cs(v);if(typeof E!="function")throw Error(L(150));if(v=E.call(v),v==null)throw Error(L(151));for(var T=E=null,k=p,C=p=0,I=null,P=v.next();k!==null&&!P.done;C++,P=v.next()){k.index>C?(I=k,k=null):I=k.sibling;var D=h(g,k,P.value,_);if(D===null){k===null&&(k=I);break}e&&k&&D.alternate===null&&t(g,k),p=s(D,p,C),T===null?E=D:T.sibling=D,T=D,k=I}if(P.done)return r(g,k),Ee&&Nn(g,C),E;if(k===null){for(;!P.done;C++,P=v.next())P=f(g,P.value,_),P!==null&&(p=s(P,p,C),T===null?E=P:T.sibling=P,T=P);return Ee&&Nn(g,C),E}for(k=n(g,k);!P.done;C++,P=v.next())P=m(k,g,C,P.value,_),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?C:P.key),p=s(P,p,C),T===null?E=P:T.sibling=P,T=P);return e&&k.forEach(function(A){return t(g,A)}),Ee&&Nn(g,C),E}function w(g,p,v,_){if(typeof v=="object"&&v!==null&&v.type===di&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zo:e:{for(var E=v.key,T=p;T!==null;){if(T.key===E){if(E=v.type,E===di){if(T.tag===7){r(g,T.sibling),p=i(T,v.props.children),p.return=g,g=p;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===zr&&Vm(E)===T.type){r(g,T.sibling),p=i(T,v.props),p.ref=ms(g,T,v),p.return=g,g=p;break e}r(g,T);break}else t(g,T);T=T.sibling}v.type===di?(p=zn(v.props.children,g.mode,_,v.key),p.return=g,g=p):(_=Da(v.type,v.key,v.props,null,g.mode,_),_.ref=ms(g,p,v),_.return=g,g=_)}return o(g);case ui:e:{for(T=v.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(g,p.sibling),p=i(p,v.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=Wc(v,g.mode,_),p.return=g,g=p}return o(g);case zr:return T=v._init,w(g,p,T(v._payload),_)}if(Es(v))return y(g,p,v,_);if(cs(v))return x(g,p,v,_);ua(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(g,p.sibling),p=i(p,v),p.return=g,g=p):(r(g,p),p=Gc(v,g.mode,_),p.return=g,g=p),o(g)):r(g,p)}return w}var Ui=fv(!0),hv=fv(!1),Ao={},ar=mn(Ao),ao=mn(Ao),lo=mn(Ao);function Ln(e){if(e===Ao)throw Error(L(174));return e}function bf(e,t){switch(ve(lo,t),ve(ao,e),ve(ar,Ao),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ru(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ru(t,e)}Se(ar),ve(ar,t)}function zi(){Se(ar),Se(ao),Se(lo)}function mv(e){Ln(lo.current);var t=Ln(ar.current),r=Ru(t,e.type);t!==r&&(ve(ao,e),ve(ar,r))}function kf(e){ao.current===e&&(Se(ar),Se(ao))}var Ce=mn(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $c=[];function Sf(){for(var e=0;e<$c.length;e++)$c[e]._workInProgressVersionPrimary=null;$c.length=0}var Aa=Ar.ReactCurrentDispatcher,Uc=Ar.ReactCurrentBatchConfig,Gn=0,Te=null,$e=null,He=null,ll=!1,$s=!1,co=0,wS=0;function et(){throw Error(L(321))}function _f(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Zt(e[r],t[r]))return!1;return!0}function Ef(e,t,r,n,i,s){if(Gn=s,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Aa.current=e===null||e.memoizedState===null?_S:ES,e=r(n,i),$s){s=0;do{if($s=!1,co=0,25<=s)throw Error(L(301));s+=1,He=$e=null,t.updateQueue=null,Aa.current=jS,e=r(n,i)}while($s)}if(Aa.current=cl,t=$e!==null&&$e.next!==null,Gn=0,He=$e=Te=null,ll=!1,t)throw Error(L(300));return e}function jf(){var e=co!==0;return co=0,e}function ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Te.memoizedState=He=e:He=He.next=e,He}function Ut(){if($e===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=He===null?Te.memoizedState:He.next;if(t!==null)He=t,$e=e;else{if(e===null)throw Error(L(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},He===null?Te.memoizedState=He=e:He=He.next=e}return He}function uo(e,t){return typeof t=="function"?t(e):t}function zc(e){var t=Ut(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=$e,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Gn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,Te.lanes|=d,Wn|=d}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,Zt(n,t.memoizedState)||(pt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Te.lanes|=s,Wn|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vc(e){var t=Ut(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Zt(s,t.memoizedState)||(pt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function pv(){}function gv(e,t){var r=Te,n=Ut(),i=t(),s=!Zt(n.memoizedState,i);if(s&&(n.memoizedState=i,pt=!0),n=n.queue,Cf(xv.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,fo(9,vv.bind(null,r,n,i,t),void 0,null),Ge===null)throw Error(L(349));Gn&30||yv(r,t,i)}return i}function yv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vv(e,t,r,n){t.value=r,t.getSnapshot=n,wv(t)&&bv(e)}function xv(e,t,r){return r(function(){wv(t)&&bv(e)})}function wv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zt(e,r)}catch{return!0}}function bv(e){var t=Tr(e,1);t!==null&&Qt(t,e,1,-1)}function Bm(e){var t=ir();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e},t.queue=e,e=e.dispatch=SS.bind(null,Te,e),[t.memoizedState,e]}function fo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kv(){return Ut().memoizedState}function Ma(e,t,r,n){var i=ir();Te.flags|=e,i.memoizedState=fo(1|t,r,void 0,n===void 0?null:n)}function Fl(e,t,r,n){var i=Ut();n=n===void 0?null:n;var s=void 0;if($e!==null){var o=$e.memoizedState;if(s=o.destroy,n!==null&&_f(n,o.deps)){i.memoizedState=fo(t,r,s,n);return}}Te.flags|=e,i.memoizedState=fo(1|t,r,s,n)}function Hm(e,t){return Ma(8390656,8,e,t)}function Cf(e,t){return Fl(2048,8,e,t)}function Sv(e,t){return Fl(4,2,e,t)}function _v(e,t){return Fl(4,4,e,t)}function Ev(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jv(e,t,r){return r=r!=null?r.concat([e]):null,Fl(4,4,Ev.bind(null,t,e),r)}function Nf(){}function Cv(e,t){var r=Ut();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_f(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Nv(e,t){var r=Ut();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_f(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Tv(e,t,r){return Gn&21?(Zt(r,t)||(r=Ay(),Te.lanes|=r,Wn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=r)}function bS(e,t){var r=pe;pe=r!==0&&4>r?r:4,e(!0);var n=Uc.transition;Uc.transition={};try{e(!1),t()}finally{pe=r,Uc.transition=n}}function Rv(){return Ut().memoizedState}function kS(e,t,r){var n=on(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Pv(e))Av(t,r);else if(r=lv(e,t,r,n),r!==null){var i=ct();Qt(r,e,n,i),Mv(r,t,n)}}function SS(e,t,r){var n=on(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pv(e))Av(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Zt(a,o)){var l=t.interleaved;l===null?(i.next=i,xf(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=lv(e,t,i,n),r!==null&&(i=ct(),Qt(r,e,n,i),Mv(r,t,n))}}function Pv(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Av(e,t){$s=ll=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Mv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sf(e,r)}}var cl={readContext:$t,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},_S={readContext:$t,useCallback:function(e,t){return ir().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Hm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ma(4194308,4,Ev.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var r=ir();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ir();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=kS.bind(null,Te,e),[n.memoizedState,e]},useRef:function(e){var t=ir();return e={current:e},t.memoizedState=e},useState:Bm,useDebugValue:Nf,useDeferredValue:function(e){return ir().memoizedState=e},useTransition:function(){var e=Bm(!1),t=e[0];return e=bS.bind(null,e[1]),ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Te,i=ir();if(Ee){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Ge===null)throw Error(L(349));Gn&30||yv(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Hm(xv.bind(null,n,s,e),[e]),n.flags|=2048,fo(9,vv.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ir(),t=Ge.identifierPrefix;if(Ee){var r=Sr,n=kr;r=(n&~(1<<32-Jt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=co++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ES={readContext:$t,useCallback:Cv,useContext:$t,useEffect:Cf,useImperativeHandle:jv,useInsertionEffect:Sv,useLayoutEffect:_v,useMemo:Nv,useReducer:zc,useRef:kv,useState:function(){return zc(uo)},useDebugValue:Nf,useDeferredValue:function(e){var t=Ut();return Tv(t,$e.memoizedState,e)},useTransition:function(){var e=zc(uo)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:pv,useSyncExternalStore:gv,useId:Rv,unstable_isNewReconciler:!1},jS={readContext:$t,useCallback:Cv,useContext:$t,useEffect:Cf,useImperativeHandle:jv,useInsertionEffect:Sv,useLayoutEffect:_v,useMemo:Nv,useReducer:Vc,useRef:kv,useState:function(){return Vc(uo)},useDebugValue:Nf,useDeferredValue:function(e){var t=Ut();return $e===null?t.memoizedState=e:Tv(t,$e.memoizedState,e)},useTransition:function(){var e=Vc(uo)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:pv,useSyncExternalStore:gv,useId:Rv,unstable_isNewReconciler:!1};function Vi(e,t){try{var r="",n=t;do r+=ek(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Bc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var CS=typeof WeakMap=="function"?WeakMap:Map;function Iv(e,t,r){r=_r(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dl||(dl=!0,cd=n),Zu(e,t)},r}function Ov(e,t,r){r=_r(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Zu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Zu(e,t),typeof n!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Gm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new CS;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=zS.bind(null,e,t,r),t.then(e,e))}function Wm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Km(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_r(-1,1),t.tag=2,nn(r,t,1))),r.lanes|=1),e)}var NS=Ar.ReactCurrentOwner,pt=!1;function at(e,t,r,n){t.child=e===null?hv(t,null,r,n):Ui(t,e.child,r,n)}function qm(e,t,r,n,i){r=r.render;var s=t.ref;return Ai(t,i),n=Ef(e,t,r,n,s,i),r=jf(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rr(e,t,i)):(Ee&&r&&hf(t),t.flags|=1,at(e,t,n,i),t.child)}function Ym(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Lf(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Lv(e,t,s,n,i)):(e=Da(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:no,r(o,n)&&e.ref===t.ref)return Rr(e,t,i)}return t.flags|=1,e=an(s,n),e.ref=t.ref,e.return=t,t.child=e}function Lv(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(no(s,n)&&e.ref===t.ref)if(pt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,Rr(e,t,i)}return ed(e,t,r,n,i)}function Dv(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(bi,wt),wt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(bi,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ve(bi,wt),wt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ve(bi,wt),wt|=n;return at(e,t,i,r),t.child}function Fv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ed(e,t,r,n,i){var s=yt(r)?Bn:ot.current;return s=Fi(t,s),Ai(t,i),r=Ef(e,t,r,n,s,i),n=jf(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rr(e,t,i)):(Ee&&n&&hf(t),t.flags|=1,at(e,t,r,i),t.child)}function Jm(e,t,r,n,i){if(yt(r)){var s=!0;tl(t)}else s=!1;if(Ai(t,i),t.stateNode===null)Ia(e,t),dv(t,r,n),Xu(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=$t(c):(c=yt(r)?Bn:ot.current,c=Fi(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&zm(t,o,n,c),Vr=!1;var h=t.memoizedState;o.state=h,ol(t,n,o,i),l=t.memoizedState,a!==n||h!==l||gt.current||Vr?(typeof d=="function"&&(Qu(t,r,d,n),l=t.memoizedState),(a=Vr||Um(t,r,a,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,cv(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Wt(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=yt(r)?Bn:ot.current,l=Fi(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&zm(t,o,n,l),Vr=!1,h=t.memoizedState,o.state=h,ol(t,n,o,i);var y=t.memoizedState;a!==f||h!==y||gt.current||Vr?(typeof m=="function"&&(Qu(t,r,m,n),y=t.memoizedState),(c=Vr||Um(t,r,c,n,h,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return td(e,t,r,n,s,i)}function td(e,t,r,n,i,s){Fv(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Om(t,r,!1),Rr(e,t,s);n=t.stateNode,NS.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ui(t,e.child,null,s),t.child=Ui(t,null,a,s)):at(e,t,a,s),t.memoizedState=n.state,i&&Om(t,r,!0),t.child}function $v(e){var t=e.stateNode;t.pendingContext?Im(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Im(e,t.context,!1),bf(e,t.containerInfo)}function Qm(e,t,r,n,i){return $i(),pf(i),t.flags|=256,at(e,t,r,n),t.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function nd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uv(e,t,r){var n=t.pendingProps,i=Ce.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ve(Ce,i&1),e===null)return Yu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zl(o,n,0,null),e=zn(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=nd(r),t.memoizedState=rd,e):Tf(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return TS(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=an(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=an(a,s):(s=zn(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?nd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=rd,n}return s=e.child,e=s.sibling,n=an(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Tf(e,t){return t=zl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function da(e,t,r,n){return n!==null&&pf(n),Ui(t,e.child,null,r),e=Tf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TS(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Bc(Error(L(422))),da(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=zl({mode:"visible",children:n.children},i,0,null),s=zn(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ui(t,e.child,null,o),t.child.memoizedState=nd(o),t.memoizedState=rd,s);if(!(t.mode&1))return da(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(L(419)),n=Bc(s,n,void 0),da(e,t,o,n)}if(a=(o&e.childLanes)!==0,pt||a){if(n=Ge,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Tr(e,i),Qt(n,e,i,-1))}return Of(),n=Bc(Error(L(421))),da(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=VS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,kt=rn(i.nextSibling),St=t,Ee=!0,Yt=null,e!==null&&(It[Ot++]=kr,It[Ot++]=Sr,It[Ot++]=Hn,kr=e.id,Sr=e.overflow,Hn=t),t=Tf(t,n.children),t.flags|=4096,t)}function Xm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ju(e.return,t,r)}function Hc(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function zv(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(at(e,t,n.children,r),n=Ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xm(e,r,t);else if(e.tag===19)Xm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ve(Ce,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&al(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Hc(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&al(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Hc(t,!0,r,null,s);break;case"together":Hc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ia(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=an(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=an(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function RS(e,t,r){switch(t.tag){case 3:$v(t),$i();break;case 5:mv(t);break;case 1:yt(t.type)&&tl(t);break;case 4:bf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ve(il,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ve(Ce,Ce.current&1),t.flags|=128,null):r&t.child.childLanes?Uv(e,t,r):(ve(Ce,Ce.current&1),e=Rr(e,t,r),e!==null?e.sibling:null);ve(Ce,Ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return zv(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(Ce,Ce.current),n)break;return null;case 22:case 23:return t.lanes=0,Dv(e,t,r)}return Rr(e,t,r)}var Vv,id,Bv,Hv;Vv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};id=function(){};Bv=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ln(ar.current);var s=null;switch(r){case"input":i=ju(e,i),n=ju(e,n),s=[];break;case"select":i=Re({},i,{value:void 0}),n=Re({},n,{value:void 0}),s=[];break;case"textarea":i=Tu(e,i),n=Tu(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Za)}Pu(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Js.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Js.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ke("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Hv=function(e,t,r,n){r!==n&&(t.flags|=4)};function ps(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function PS(e,t,r){var n=t.pendingProps;switch(mf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return yt(t.type)&&el(),tt(t),null;case 3:return n=t.stateNode,zi(),Se(gt),Se(ot),Sf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(fd(Yt),Yt=null))),id(e,t),tt(t),null;case 5:kf(t);var i=Ln(lo.current);if(r=t.type,e!==null&&t.stateNode!=null)Bv(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return tt(t),null}if(e=Ln(ar.current),ca(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[sr]=t,n[oo]=s,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(i=0;i<Cs.length;i++)ke(Cs[i],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":am(n,s),ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ke("invalid",n);break;case"textarea":cm(n,s),ke("invalid",n)}Pu(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&la(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&la(n.textContent,a,e),i=["children",""+a]):Js.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",n)}switch(r){case"input":ea(n),lm(n,s,!0);break;case"textarea":ea(n),um(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Za)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[sr]=t,e[oo]=n,Vv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Au(r,n),r){case"dialog":ke("cancel",e),ke("close",e),i=n;break;case"iframe":case"object":case"embed":ke("load",e),i=n;break;case"video":case"audio":for(i=0;i<Cs.length;i++)ke(Cs[i],e);i=n;break;case"source":ke("error",e),i=n;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=n;break;case"details":ke("toggle",e),i=n;break;case"input":am(e,n),i=ju(e,n),ke("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Re({},n,{value:void 0}),ke("invalid",e);break;case"textarea":cm(e,n),i=Tu(e,n),ke("invalid",e);break;default:i=n}Pu(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?wy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vy(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Qs(e,l):typeof l=="number"&&Qs(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Js.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",e):l!=null&&Xd(e,s,l,o))}switch(r){case"input":ea(e),lm(e,n,!1);break;case"textarea":ea(e),um(e);break;case"option":n.value!=null&&e.setAttribute("value",""+cn(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ni(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ni(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Za)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Hv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Ln(lo.current),Ln(ar.current),ca(t)){if(n=t.stateNode,r=t.memoizedProps,n[sr]=t,(s=n.nodeValue!==r)&&(e=St,e!==null))switch(e.tag){case 3:la(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&la(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[sr]=t,t.stateNode=n}return tt(t),null;case 13:if(Se(Ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&kt!==null&&t.mode&1&&!(t.flags&128))av(),$i(),t.flags|=98560,s=!1;else if(s=ca(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[sr]=t}else $i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),s=!1}else Yt!==null&&(fd(Yt),Yt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Ue===0&&(Ue=3):Of())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return zi(),id(e,t),e===null&&io(t.stateNode.containerInfo),tt(t),null;case 10:return vf(t.type._context),tt(t),null;case 17:return yt(t.type)&&el(),tt(t),null;case 19:if(Se(Ce),s=t.memoizedState,s===null)return tt(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)ps(s,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=al(e),o!==null){for(t.flags|=128,ps(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(Ce,Ce.current&1|2),t.child}e=e.sibling}s.tail!==null&&Le()>Bi&&(t.flags|=128,n=!0,ps(s,!1),t.lanes=4194304)}else{if(!n)if(e=al(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ps(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return tt(t),null}else 2*Le()-s.renderingStartTime>Bi&&r!==1073741824&&(t.flags|=128,n=!0,ps(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Le(),t.sibling=null,r=Ce.current,ve(Ce,n?r&1|2:r&1),t):(tt(t),null);case 22:case 23:return If(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?wt&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function AS(e,t){switch(mf(t),t.tag){case 1:return yt(t.type)&&el(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zi(),Se(gt),Se(ot),Sf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kf(t),null;case 13:if(Se(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ce),null;case 4:return zi(),null;case 10:return vf(t.type._context),null;case 22:case 23:return If(),null;case 24:return null;default:return null}}var fa=!1,nt=!1,MS=typeof WeakSet=="function"?WeakSet:Set,$=null;function wi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Me(e,t,n)}else r.current=null}function sd(e,t,r){try{r()}catch(n){Me(e,t,n)}}var Zm=!1;function IS(e,t){if(Vu=Ja,e=qy(),ff(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===i&&(a=o),h===s&&++d===n&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bu={focusedElem:e,selectionRange:r},Ja=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Wt(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){Me(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return y=Zm,Zm=!1,y}function Us(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&sd(t,r,s)}i=i.next}while(i!==n)}}function $l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function od(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gv(e){var t=e.alternate;t!==null&&(e.alternate=null,Gv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sr],delete t[oo],delete t[Wu],delete t[gS],delete t[yS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wv(e){return e.tag===5||e.tag===3||e.tag===4}function ep(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ad(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Za));else if(n!==4&&(e=e.child,e!==null))for(ad(e,t,r),e=e.sibling;e!==null;)ad(e,t,r),e=e.sibling}function ld(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ld(e,t,r),e=e.sibling;e!==null;)ld(e,t,r),e=e.sibling}var We=null,Kt=!1;function Or(e,t,r){for(r=r.child;r!==null;)Kv(e,t,r),r=r.sibling}function Kv(e,t,r){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(Pl,r)}catch{}switch(r.tag){case 5:nt||wi(r,t);case 6:var n=We,i=Kt;We=null,Or(e,t,r),We=n,Kt=i,We!==null&&(Kt?(e=We,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):We.removeChild(r.stateNode));break;case 18:We!==null&&(Kt?(e=We,r=r.stateNode,e.nodeType===8?Dc(e.parentNode,r):e.nodeType===1&&Dc(e,r),to(e)):Dc(We,r.stateNode));break;case 4:n=We,i=Kt,We=r.stateNode.containerInfo,Kt=!0,Or(e,t,r),We=n,Kt=i;break;case 0:case 11:case 14:case 15:if(!nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sd(r,t,o),i=i.next}while(i!==n)}Or(e,t,r);break;case 1:if(!nt&&(wi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Me(r,t,a)}Or(e,t,r);break;case 21:Or(e,t,r);break;case 22:r.mode&1?(nt=(n=nt)||r.memoizedState!==null,Or(e,t,r),nt=n):Or(e,t,r);break;default:Or(e,t,r)}}function tp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MS),t.forEach(function(n){var i=BS.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ht(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Kt=!1;break e;case 3:We=a.stateNode.containerInfo,Kt=!0;break e;case 4:We=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(We===null)throw Error(L(160));Kv(s,o,i),We=null,Kt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Me(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qv(t,e),t=t.sibling}function qv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),rr(e),n&4){try{Us(3,e,e.return),$l(3,e)}catch(x){Me(e,e.return,x)}try{Us(5,e,e.return)}catch(x){Me(e,e.return,x)}}break;case 1:Ht(t,e),rr(e),n&512&&r!==null&&wi(r,r.return);break;case 5:if(Ht(t,e),rr(e),n&512&&r!==null&&wi(r,r.return),e.flags&32){var i=e.stateNode;try{Qs(i,"")}catch(x){Me(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&py(i,s),Au(a,o);var c=Au(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?wy(i,f):d==="dangerouslySetInnerHTML"?vy(i,f):d==="children"?Qs(i,f):Xd(i,d,f,c)}switch(a){case"input":Cu(i,s);break;case"textarea":gy(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ni(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ni(i,!!s.multiple,s.defaultValue,!0):Ni(i,!!s.multiple,s.multiple?[]:"",!1))}i[oo]=s}catch(x){Me(e,e.return,x)}}break;case 6:if(Ht(t,e),rr(e),n&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Me(e,e.return,x)}}break;case 3:if(Ht(t,e),rr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{to(t.containerInfo)}catch(x){Me(e,e.return,x)}break;case 4:Ht(t,e),rr(e);break;case 13:Ht(t,e),rr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Af=Le())),n&4&&tp(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(nt=(c=nt)||d,Ht(t,e),nt=c):Ht(t,e),rr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(f=$=d;$!==null;){switch(h=$,m=h.child,h.tag){case 0:case 11:case 14:case 15:Us(4,h,h.return);break;case 1:wi(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Me(n,r,x)}}break;case 5:wi(h,h.return);break;case 22:if(h.memoizedState!==null){np(f);continue}}m!==null?(m.return=h,$=m):np(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xy("display",o))}catch(x){Me(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Me(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ht(t,e),rr(e),n&4&&tp(e);break;case 21:break;default:Ht(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wv(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Qs(i,""),n.flags&=-33);var s=ep(e);ld(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ep(e);ad(e,a,o);break;default:throw Error(L(161))}}catch(l){Me(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OS(e,t,r){$=e,Yv(e)}function Yv(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||fa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nt;a=fa;var c=nt;if(fa=o,(nt=l)&&!c)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?ip(i):l!==null?(l.return=o,$=l):ip(i);for(;s!==null;)$=s,Yv(s),s=s.sibling;$=i,fa=a,nt=c}rp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):rp(e)}}function rp(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||$l(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Wt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&$m(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$m(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&to(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}nt||t.flags&512&&od(t)}catch(h){Me(t,t.return,h)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function np(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function ip(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$l(4,t)}catch(l){Me(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Me(t,i,l)}}var s=t.return;try{od(t)}catch(l){Me(t,s,l)}break;case 5:var o=t.return;try{od(t)}catch(l){Me(t,o,l)}}}catch(l){Me(t,t.return,l)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var LS=Math.ceil,ul=Ar.ReactCurrentDispatcher,Rf=Ar.ReactCurrentOwner,Dt=Ar.ReactCurrentBatchConfig,fe=0,Ge=null,De=null,Ye=0,wt=0,bi=mn(0),Ue=0,ho=null,Wn=0,Ul=0,Pf=0,zs=null,ht=null,Af=0,Bi=1/0,xr=null,dl=!1,cd=null,sn=null,ha=!1,Qr=null,fl=0,Vs=0,ud=null,Oa=-1,La=0;function ct(){return fe&6?Le():Oa!==-1?Oa:Oa=Le()}function on(e){return e.mode&1?fe&2&&Ye!==0?Ye&-Ye:xS.transition!==null?(La===0&&(La=Ay()),La):(e=pe,e!==0||(e=window.event,e=e===void 0?16:$y(e.type)),e):1}function Qt(e,t,r,n){if(50<Vs)throw Vs=0,ud=null,Error(L(185));To(e,r,n),(!(fe&2)||e!==Ge)&&(e===Ge&&(!(fe&2)&&(Ul|=r),Ue===4&&Wr(e,Ye)),vt(e,n),r===1&&fe===0&&!(t.mode&1)&&(Bi=Le()+500,Ll&&pn()))}function vt(e,t){var r=e.callbackNode;xk(e,t);var n=Ya(e,e===Ge?Ye:0);if(n===0)r!==null&&hm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&hm(r),t===1)e.tag===0?vS(sp.bind(null,e)):iv(sp.bind(null,e)),mS(function(){!(fe&6)&&pn()}),r=null;else{switch(My(n)){case 1:r=nf;break;case 4:r=Ry;break;case 16:r=qa;break;case 536870912:r=Py;break;default:r=qa}r=nx(r,Jv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Jv(e,t){if(Oa=-1,La=0,fe&6)throw Error(L(327));var r=e.callbackNode;if(Mi()&&e.callbackNode!==r)return null;var n=Ya(e,e===Ge?Ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hl(e,n);else{t=n;var i=fe;fe|=2;var s=Xv();(Ge!==e||Ye!==t)&&(xr=null,Bi=Le()+500,Un(e,t));do try{$S();break}catch(a){Qv(e,a)}while(!0);yf(),ul.current=s,fe=i,De!==null?t=0:(Ge=null,Ye=0,t=Ue)}if(t!==0){if(t===2&&(i=Du(e),i!==0&&(n=i,t=dd(e,i))),t===1)throw r=ho,Un(e,0),Wr(e,n),vt(e,Le()),r;if(t===6)Wr(e,n);else{if(i=e.current.alternate,!(n&30)&&!DS(i)&&(t=hl(e,n),t===2&&(s=Du(e),s!==0&&(n=s,t=dd(e,s))),t===1))throw r=ho,Un(e,0),Wr(e,n),vt(e,Le()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Tn(e,ht,xr);break;case 3:if(Wr(e,n),(n&130023424)===n&&(t=Af+500-Le(),10<t)){if(Ya(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ct(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gu(Tn.bind(null,e,ht,xr),t);break}Tn(e,ht,xr);break;case 4:if(Wr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Jt(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LS(n/1960))-n,10<n){e.timeoutHandle=Gu(Tn.bind(null,e,ht,xr),n);break}Tn(e,ht,xr);break;case 5:Tn(e,ht,xr);break;default:throw Error(L(329))}}}return vt(e,Le()),e.callbackNode===r?Jv.bind(null,e):null}function dd(e,t){var r=zs;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=hl(e,t),e!==2&&(t=ht,ht=r,t!==null&&fd(t)),e}function fd(e){ht===null?ht=e:ht.push.apply(ht,e)}function DS(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Zt(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wr(e,t){for(t&=~Pf,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Jt(t),n=1<<r;e[r]=-1,t&=~n}}function sp(e){if(fe&6)throw Error(L(327));Mi();var t=Ya(e,0);if(!(t&1))return vt(e,Le()),null;var r=hl(e,t);if(e.tag!==0&&r===2){var n=Du(e);n!==0&&(t=n,r=dd(e,n))}if(r===1)throw r=ho,Un(e,0),Wr(e,t),vt(e,Le()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tn(e,ht,xr),vt(e,Le()),null}function Mf(e,t){var r=fe;fe|=1;try{return e(t)}finally{fe=r,fe===0&&(Bi=Le()+500,Ll&&pn())}}function Kn(e){Qr!==null&&Qr.tag===0&&!(fe&6)&&Mi();var t=fe;fe|=1;var r=Dt.transition,n=pe;try{if(Dt.transition=null,pe=1,e)return e()}finally{pe=n,Dt.transition=r,fe=t,!(fe&6)&&pn()}}function If(){wt=bi.current,Se(bi)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hS(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(mf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&el();break;case 3:zi(),Se(gt),Se(ot),Sf();break;case 5:kf(n);break;case 4:zi();break;case 13:Se(Ce);break;case 19:Se(Ce);break;case 10:vf(n.type._context);break;case 22:case 23:If()}r=r.return}if(Ge=e,De=e=an(e.current,null),Ye=wt=t,Ue=0,ho=null,Pf=Ul=Wn=0,ht=zs=null,On!==null){for(t=0;t<On.length;t++)if(r=On[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}On=null}return e}function Qv(e,t){do{var r=De;try{if(yf(),Aa.current=cl,ll){for(var n=Te.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ll=!1}if(Gn=0,He=$e=Te=null,$s=!1,co=0,Rf.current=null,r===null||r.return===null){Ue=1,ho=t,De=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=Ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Wm(o);if(m!==null){m.flags&=-257,Km(m,o,a,s,t),m.mode&1&&Gm(s,c,t),t=m,l=c;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){Gm(s,c,t),Of();break e}l=Error(L(426))}}else if(Ee&&a.mode&1){var w=Wm(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Km(w,o,a,s,t),pf(Vi(l,a));break e}}s=l=Vi(l,a),Ue!==4&&(Ue=2),zs===null?zs=[s]:zs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Iv(s,l,t);Fm(s,g);break e;case 1:a=l;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(sn===null||!sn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=Ov(s,a,t);Fm(s,_);break e}}s=s.return}while(s!==null)}ex(r)}catch(E){t=E,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function Xv(){var e=ul.current;return ul.current=cl,e===null?cl:e}function Of(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ge===null||!(Wn&268435455)&&!(Ul&268435455)||Wr(Ge,Ye)}function hl(e,t){var r=fe;fe|=2;var n=Xv();(Ge!==e||Ye!==t)&&(xr=null,Un(e,t));do try{FS();break}catch(i){Qv(e,i)}while(!0);if(yf(),fe=r,ul.current=n,De!==null)throw Error(L(261));return Ge=null,Ye=0,Ue}function FS(){for(;De!==null;)Zv(De)}function $S(){for(;De!==null&&!uk();)Zv(De)}function Zv(e){var t=rx(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?ex(e):De=t,Rf.current=null}function ex(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=AS(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,De=null;return}}else if(r=PS(r,t,wt),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Ue===0&&(Ue=5)}function Tn(e,t,r){var n=pe,i=Dt.transition;try{Dt.transition=null,pe=1,US(e,t,r,n)}finally{Dt.transition=i,pe=n}return null}function US(e,t,r,n){do Mi();while(Qr!==null);if(fe&6)throw Error(L(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(wk(e,s),e===Ge&&(De=Ge=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ha||(ha=!0,nx(qa,function(){return Mi(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Dt.transition,Dt.transition=null;var o=pe;pe=1;var a=fe;fe|=4,Rf.current=null,IS(e,r),qv(r,e),oS(Bu),Ja=!!Vu,Bu=Vu=null,e.current=r,OS(r),dk(),fe=a,pe=o,Dt.transition=s}else e.current=r;if(ha&&(ha=!1,Qr=e,fl=i),s=e.pendingLanes,s===0&&(sn=null),mk(r.stateNode),vt(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(dl)throw dl=!1,e=cd,cd=null,e;return fl&1&&e.tag!==0&&Mi(),s=e.pendingLanes,s&1?e===ud?Vs++:(Vs=0,ud=e):Vs=0,pn(),null}function Mi(){if(Qr!==null){var e=My(fl),t=Dt.transition,r=pe;try{if(Dt.transition=null,pe=16>e?16:e,Qr===null)var n=!1;else{if(e=Qr,Qr=null,fl=0,fe&6)throw Error(L(331));var i=fe;for(fe|=4,$=e.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Us(8,d,s)}var f=d.child;if(f!==null)f.return=d,$=f;else for(;$!==null;){d=$;var h=d.sibling,m=d.return;if(Gv(d),d===c){$=null;break}if(h!==null){h.return=m,$=h;break}$=m}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Us(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,$=g;break e}$=s.return}}var p=e.current;for($=p;$!==null;){o=$;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,$=v;else e:for(o=p;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$l(9,a)}}catch(E){Me(a,a.return,E)}if(a===o){$=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,$=_;break e}$=a.return}}if(fe=i,pn(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(Pl,e)}catch{}n=!0}return n}finally{pe=r,Dt.transition=t}}return!1}function op(e,t,r){t=Vi(r,t),t=Iv(e,t,1),e=nn(e,t,1),t=ct(),e!==null&&(To(e,1,t),vt(e,t))}function Me(e,t,r){if(e.tag===3)op(e,e,r);else for(;t!==null;){if(t.tag===3){op(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sn===null||!sn.has(n))){e=Vi(r,e),e=Ov(t,e,1),t=nn(t,e,1),e=ct(),t!==null&&(To(t,1,e),vt(t,e));break}}t=t.return}}function zS(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&r,Ge===e&&(Ye&r)===r&&(Ue===4||Ue===3&&(Ye&130023424)===Ye&&500>Le()-Af?Un(e,0):Pf|=r),vt(e,t)}function tx(e,t){t===0&&(e.mode&1?(t=na,na<<=1,!(na&130023424)&&(na=4194304)):t=1);var r=ct();e=Tr(e,t),e!==null&&(To(e,t,r),vt(e,r))}function VS(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tx(e,r)}function BS(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),tx(e,r)}var rx;rx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)pt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return pt=!1,RS(e,t,r);pt=!!(e.flags&131072)}else pt=!1,Ee&&t.flags&1048576&&sv(t,nl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ia(e,t),e=t.pendingProps;var i=Fi(t,ot.current);Ai(t,r),i=Ef(null,t,n,e,i,r);var s=jf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(n)?(s=!0,tl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wf(t),i.updater=Dl,t.stateNode=i,i._reactInternals=t,Xu(t,n,e,r),t=td(null,t,n,!0,s,r)):(t.tag=0,Ee&&s&&hf(t),at(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ia(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=GS(n),e=Wt(n,e),i){case 0:t=ed(null,t,n,e,r);break e;case 1:t=Jm(null,t,n,e,r);break e;case 11:t=qm(null,t,n,e,r);break e;case 14:t=Ym(null,t,n,Wt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wt(n,i),ed(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wt(n,i),Jm(e,t,n,i,r);case 3:e:{if($v(t),e===null)throw Error(L(387));n=t.pendingProps,s=t.memoizedState,i=s.element,cv(e,t),ol(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Vi(Error(L(423)),t),t=Qm(e,t,n,r,i);break e}else if(n!==i){i=Vi(Error(L(424)),t),t=Qm(e,t,n,r,i);break e}else for(kt=rn(t.stateNode.containerInfo.firstChild),St=t,Ee=!0,Yt=null,r=hv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($i(),n===i){t=Rr(e,t,r);break e}at(e,t,n,r)}t=t.child}return t;case 5:return mv(t),e===null&&Yu(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Hu(n,i)?o=null:s!==null&&Hu(n,s)&&(t.flags|=32),Fv(e,t),at(e,t,o,r),t.child;case 6:return e===null&&Yu(t),null;case 13:return Uv(e,t,r);case 4:return bf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ui(t,null,n,r):at(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wt(n,i),qm(e,t,n,i,r);case 7:return at(e,t,t.pendingProps,r),t.child;case 8:return at(e,t,t.pendingProps.children,r),t.child;case 12:return at(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ve(il,n._currentValue),n._currentValue=o,s!==null)if(Zt(s.value,o)){if(s.children===i.children&&!gt.current){t=Rr(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=_r(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Ju(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Ju(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}at(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ai(t,r),i=$t(i),n=n(i),t.flags|=1,at(e,t,n,r),t.child;case 14:return n=t.type,i=Wt(n,t.pendingProps),i=Wt(n.type,i),Ym(e,t,n,i,r);case 15:return Lv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wt(n,i),Ia(e,t),t.tag=1,yt(n)?(e=!0,tl(t)):e=!1,Ai(t,r),dv(t,n,i),Xu(t,n,i,r),td(null,t,n,!0,e,r);case 19:return zv(e,t,r);case 22:return Dv(e,t,r)}throw Error(L(156,t.tag))};function nx(e,t){return Ty(e,t)}function HS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,r,n){return new HS(e,t,r,n)}function Lf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GS(e){if(typeof e=="function")return Lf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ef)return 11;if(e===tf)return 14}return 2}function an(e,t){var r=e.alternate;return r===null?(r=Lt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Da(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Lf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case di:return zn(r.children,i,s,t);case Zd:o=8,i|=8;break;case ku:return e=Lt(12,r,t,i|2),e.elementType=ku,e.lanes=s,e;case Su:return e=Lt(13,r,t,i),e.elementType=Su,e.lanes=s,e;case _u:return e=Lt(19,r,t,i),e.elementType=_u,e.lanes=s,e;case fy:return zl(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uy:o=10;break e;case dy:o=9;break e;case ef:o=11;break e;case tf:o=14;break e;case zr:o=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Lt(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function zn(e,t,r,n){return e=Lt(7,e,n,t),e.lanes=r,e}function zl(e,t,r,n){return e=Lt(22,e,n,t),e.elementType=fy,e.lanes=r,e.stateNode={isHidden:!1},e}function Gc(e,t,r){return e=Lt(6,e,null,t),e.lanes=r,e}function Wc(e,t,r){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WS(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jc(0),this.expirationTimes=jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Df(e,t,r,n,i,s,o,a,l){return e=new WS(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Lt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wf(s),e}function KS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ui,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ix(e){if(!e)return un;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(yt(r))return nv(e,r,t)}return t}function sx(e,t,r,n,i,s,o,a,l){return e=Df(r,n,!0,e,i,s,o,a,l),e.context=ix(null),r=e.current,n=ct(),i=on(r),s=_r(n,i),s.callback=t??null,nn(r,s,i),e.current.lanes=i,To(e,i,n),vt(e,n),e}function Vl(e,t,r,n){var i=t.current,s=ct(),o=on(i);return r=ix(r),t.context===null?t.context=r:t.pendingContext=r,t=_r(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=nn(i,t,o),e!==null&&(Qt(e,i,o,s),Pa(e,i,o)),o}function ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ap(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ff(e,t){ap(e,t),(e=e.alternate)&&ap(e,t)}function qS(){return null}var ox=typeof reportError=="function"?reportError:function(e){console.error(e)};function $f(e){this._internalRoot=e}Bl.prototype.render=$f.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Vl(e,t,null,null)};Bl.prototype.unmount=$f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kn(function(){Vl(null,e,null,null)}),t[Nr]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ly();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gr.length&&t!==0&&t<Gr[r].priority;r++);Gr.splice(r,0,e),r===0&&Fy(e)}};function Uf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lp(){}function YS(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=ml(o);s.call(c)}}var o=sx(t,n,e,0,null,!1,!1,"",lp);return e._reactRootContainer=o,e[Nr]=o.current,io(e.nodeType===8?e.parentNode:e),Kn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=ml(l);a.call(c)}}var l=Df(e,0,!1,null,null,!1,!1,"",lp);return e._reactRootContainer=l,e[Nr]=l.current,io(e.nodeType===8?e.parentNode:e),Kn(function(){Vl(t,l,r,n)}),l}function Gl(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ml(o);a.call(l)}}Vl(t,o,e,i)}else o=YS(r,t,e,i,n);return ml(o)}Iy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=js(t.pendingLanes);r!==0&&(sf(t,r|1),vt(t,Le()),!(fe&6)&&(Bi=Le()+500,pn()))}break;case 13:Kn(function(){var n=Tr(e,1);if(n!==null){var i=ct();Qt(n,e,1,i)}}),Ff(e,1)}};of=function(e){if(e.tag===13){var t=Tr(e,134217728);if(t!==null){var r=ct();Qt(t,e,134217728,r)}Ff(e,134217728)}};Oy=function(e){if(e.tag===13){var t=on(e),r=Tr(e,t);if(r!==null){var n=ct();Qt(r,e,t,n)}Ff(e,t)}};Ly=function(){return pe};Dy=function(e,t){var r=pe;try{return pe=e,t()}finally{pe=r}};Iu=function(e,t,r){switch(t){case"input":if(Cu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ol(n);if(!i)throw Error(L(90));my(n),Cu(n,i)}}}break;case"textarea":gy(e,r);break;case"select":t=r.value,t!=null&&Ni(e,!!r.multiple,t,!1)}};Sy=Mf;_y=Kn;var JS={usingClientEntryPoint:!1,Events:[Po,pi,Ol,by,ky,Mf]},gs={findFiberByHostInstance:In,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QS={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cy(e),e===null?null:e.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||qS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{Pl=ma.inject(QS),or=ma}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JS;Ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uf(t))throw Error(L(200));return KS(e,t,null,r)};Ct.createRoot=function(e,t){if(!Uf(e))throw Error(L(299));var r=!1,n="",i=ox;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Df(e,1,!1,null,null,r,!1,n,i),e[Nr]=t.current,io(e.nodeType===8?e.parentNode:e),new $f(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Cy(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return Kn(e)};Ct.hydrate=function(e,t,r){if(!Hl(t))throw Error(L(200));return Gl(null,e,t,!0,r)};Ct.hydrateRoot=function(e,t,r){if(!Uf(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=ox;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=sx(t,null,e,1,r??null,i,!1,s,o),e[Nr]=t.current,io(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Bl(t)};Ct.render=function(e,t,r){if(!Hl(t))throw Error(L(200));return Gl(null,e,t,!1,r)};Ct.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(L(40));return e._reactRootContainer?(Kn(function(){Gl(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};Ct.unstable_batchedUpdates=Mf;Ct.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hl(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Gl(e,t,r,!1,n)};Ct.version="18.2.0-next-9e3b772b8-20220608";function ax(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ax)}catch(e){console.error(e)}}ax(),sy.exports=Ct;var lx=sy.exports,cx,cp=lx;cx=cp.createRoot,cp.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ux=e=>{throw TypeError(e)},XS=(e,t,r)=>t.has(e)||ux("Cannot "+r),Kc=(e,t,r)=>(XS(e,t,"read from private field"),r?r.call(e):t.get(e)),ZS=(e,t,r)=>t.has(e)?ux("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),up="popstate";function e_(e={}){function t(n,i){let{pathname:s,search:o,hash:a}=n.location;return mo("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:dr(i)}return r_(t,r,null,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ie(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t_(){return Math.random().toString(36).substring(2,10)}function dp(e,t){return{usr:e.state,key:e.key,idx:t}}function mo(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gn(t):t,state:r,key:t&&t.key||n||t_()}}function dr({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function r_(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let w=d(),g=w==null?null:w-c;c=w,l&&l({action:a,location:x.location,delta:g})}function h(w,g){a="PUSH";let p=mo(x.location,w,g);c=d()+1;let v=dp(p,c),_=x.createHref(p);try{o.pushState(v,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(_)}s&&l&&l({action:a,location:x.location,delta:1})}function m(w,g){a="REPLACE";let p=mo(x.location,w,g);c=d();let v=dp(p,c),_=x.createHref(p);o.replaceState(v,"",_),s&&l&&l({action:a,location:x.location,delta:0})}function y(w){return dx(w)}let x={get action(){return a},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(up,f),l=w,()=>{i.removeEventListener(up,f),l=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(w){return o.go(w)}};return x}function dx(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),se(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:dr(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var Ns,fp=class{constructor(e){if(ZS(this,Ns,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(Kc(this,Ns).has(e))return Kc(this,Ns).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Kc(this,Ns).set(e,t)}};Ns=new WeakMap;var n_=new Set(["lazy","caseSensitive","path","id","index","children"]);function i_(e){return n_.has(e)}var s_=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function o_(e){return s_.has(e)}function a_(e){return e.index===!0}function po(e,t,r=[],n={},i=!1){return e.map((s,o)=>{let a=[...r,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(se(s.index!==!0||!s.children,"Cannot specify children on an index route"),se(i||!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),a_(s)){let c={...s,id:l};return n[l]=hp(c,t(c)),c}else{let c={...s,id:l,children:void 0};return n[l]=hp(c,t(c)),s.children&&(c.children=po(s.children,t,a,n,i)),c}})}function hp(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Kr(e,t,r="/"){return Ts(e,t,r,!1)}function Ts(e,t,r,n){let i=typeof t=="string"?gn(t):t,s=zt(i.pathname||"/",r);if(s==null)return null;let o=fx(e);c_(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=w_(s);a=v_(o[l],c,n)}return a}function l_(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function fx(e,t=[],r=[],n="",i=!1){let s=(o,a,l=i,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;se(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=lr([n,d.relativePath]),h=r.concat(d);o.children&&o.children.length>0&&(se(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),fx(o.children,t,h,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:g_(f,o.index),routesMeta:h})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of hx(o.path))s(o,a,!0,c)}),t}function hx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=hx(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function c_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:y_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var u_=/^:[\w-]+$/,d_=3,f_=2,h_=1,m_=10,p_=-2,mp=e=>e==="*";function g_(e,t){let r=e.split("/"),n=r.length;return r.some(mp)&&(n+=p_),t&&(n+=f_),r.filter(i=>!mp(i)).reduce((i,s)=>i+(u_.test(s)?d_:s===""?h_:m_),n)}function y_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function v_(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=pl({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=pl({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:lr([s,f.pathname]),pathnameBase:__(lr([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=lr([s,f.pathnameBase]))}return o}function pl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=x_(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:f},h)=>{if(d==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[h];return f&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function x_(e,t=!1,r=!0){Ie(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function w_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ie(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function b_({basename:e,pathname:t}){return t==="/"?e:lr([e,t])}var k_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wl=e=>k_.test(e);function S_(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?gn(e):e,s;if(r)if(Wl(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ie(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?s=pp(r.substring(1),"/"):s=pp(r,t)}else s=t;return{pathname:s,search:E_(n),hash:j_(i)}}function pp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function qc(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Kl(e){let t=mx(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function ql(e,t,r,n=!1){let i;typeof e=="string"?i=gn(e):(i={...e},se(!i.pathname||!i.pathname.includes("?"),qc("?","pathname","search",i)),se(!i.pathname||!i.pathname.includes("#"),qc("#","pathname","hash",i)),se(!i.search||!i.search.includes("#"),qc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=S_(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var lr=e=>e.join("/").replace(/\/\/+/g,"/"),__=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,gl=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function go(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function zf(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Xr=Symbol("Uninstrumented");function C_(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(s){let o=Object.keys(r);for(let a of o)s[a]&&r[a].push(s[a])}}));let n={};if(typeof t.lazy=="function"&&r.lazy.length>0){let i=ki(r.lazy,t.lazy,()=>{});i&&(n.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(s=>{let o=i[s],a=r[`lazy.${s}`];if(typeof o=="function"&&a.length>0){let l=ki(a,o,()=>{});l&&(n.lazy=Object.assign(n.lazy||{},{[s]:l}))}})}return["loader","action"].forEach(i=>{let s=t[i];if(typeof s=="function"&&r[i].length>0){let o=s[Xr]??s,a=ki(r[i],o,(...l)=>gp(l[0]));a&&(a[Xr]=o,n[i]=a)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(n.middleware=t.middleware.map(i=>{let s=i[Xr]??i,o=ki(r.middleware,s,(...a)=>gp(a[0]));return o?(o[Xr]=s,o):i})),n}function N_(e,t){let r={navigate:[],fetch:[]};if(t.forEach(n=>n({instrument(i){let s=Object.keys(i);for(let o of s)i[o]&&r[o].push(i[o])}})),r.navigate.length>0){let n=e.navigate[Xr]??e.navigate,i=ki(r.navigate,n,(...s)=>{let[o,a]=s;return{to:typeof o=="number"||typeof o=="string"?o:o?dr(o):".",...yp(e,a??{})}});i&&(i[Xr]=n,e.navigate=i)}if(r.fetch.length>0){let n=e.fetch[Xr]??e.fetch,i=ki(r.fetch,n,(...s)=>{let[o,,a,l]=s;return{href:a??".",fetcherKey:o,...yp(e,l??{})}});i&&(i[Xr]=n,e.fetch=i)}return e}function ki(e,t,r){return e.length===0?null:async(...n)=>{let i=await px(e,r(...n),()=>t(...n),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function px(e,t,r,n){let i=e[n],s;if(i){let o,a=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=px(e,t,r,n-1),s=await o,se(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(a,t)}catch(l){console.error("An instrumentation function threw an error:",l)}o||await a(),await o}else try{s={type:"success",value:await r()}}catch(o){s={type:"error",value:o}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function gp(e){let{request:t,context:r,params:n,unstable_pattern:i}=e;return{request:T_(t),params:{...n},unstable_pattern:i,context:R_(r)}}function yp(e,t){return{currentUrl:dr(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function T_(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function R_(e){if(A_(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var P_=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function A_(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===P_}var gx=["POST","PUT","PATCH","DELETE"],M_=new Set(gx),I_=["GET",...gx],O_=new Set(I_),L_=new Set([301,302,303,307,308]),D_=new Set([307,308]),Yc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},F_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ys={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),yx="remix-router-transitions",vx=Symbol("ResetLoaderData");function U_(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";se(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||$_,s=i;if(e.unstable_instrumentations){let S=e.unstable_instrumentations;s=j=>({...i(j),...C_(S.map(N=>N.route).filter(Boolean),j)})}let o={},a=po(e.routes,s,void 0,o),l,c=e.basename||"/";c.startsWith("/")||(c=`/${c}`);let d=e.dataStrategy||G_,f={...e.future},h=null,m=new Set,y=null,x=null,w=null,g=e.hydrationData!=null,p=Kr(a,e.history.location,c),v=!1,_=null,E;if(p==null&&!e.patchRoutesOnNavigation){let S=Mt(404,{pathname:e.history.location.pathname}),{matches:j,route:N}=pa(a);E=!0,p=j,_={[N.id]:S}}else if(p&&!e.hydrationData&&Ko(p,a,e.history.location.pathname).active&&(p=null),p)if(p.some(S=>S.route.lazy))E=!1;else if(!p.some(S=>Vf(S.route)))E=!0;else{let S=e.hydrationData?e.hydrationData.loaderData:null,j=e.hydrationData?e.hydrationData.errors:null;if(j){let N=p.findIndex(M=>j[M.route.id]!==void 0);E=p.slice(0,N+1).every(M=>!md(M.route,S,j))}else E=p.every(N=>!md(N.route,S,j))}else{E=!1,p=[];let S=Ko(null,a,e.history.location.pathname);S.active&&S.matches&&(v=!0,p=S.matches)}let T,k={historyAction:e.history.action,location:e.history.location,matches:p,initialized:E,navigation:Yc,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},C="POP",I=!1,P,D=!1,A=new Map,te=null,ue=!1,Z=!1,oe=new Set,W=new Map,R=0,O=-1,U=new Map,q=new Set,he=new Map,ze=new Map,je=new Set,Bt=new Map,Tt,Rt=null;function c1(){if(h=e.history.listen(({action:S,location:j,delta:N})=>{if(Tt){Tt(),Tt=void 0;return}Ie(Bt.size===0||N!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let M=Jh({currentLocation:k.location,nextLocation:j,historyAction:S});if(M&&N!=null){let F=new Promise(V=>{Tt=V});e.history.go(N*-1),Wo(M,{state:"blocked",location:j,proceed(){Wo(M,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),F.then(()=>e.history.go(N))},reset(){let V=new Map(k.blockers);V.set(M,ys),Xe({blockers:V})}});return}return bn(S,j)}),r){oE(t,A);let S=()=>aE(t,A);t.addEventListener("pagehide",S),te=()=>t.removeEventListener("pagehide",S)}return k.initialized||bn("POP",k.location,{initialHydration:!0}),T}function u1(){h&&h(),te&&te(),m.clear(),P&&P.abort(),k.fetchers.forEach((S,j)=>vc(j)),k.blockers.forEach((S,j)=>Yh(j))}function d1(S){return m.add(S),()=>m.delete(S)}function Xe(S,j={}){S.matches&&(S.matches=S.matches.map(F=>{let V=o[F.route.id],B=F.route;return B.element!==V.element||B.errorElement!==V.errorElement||B.hydrateFallbackElement!==V.hydrateFallbackElement?{...F,route:V}:F})),k={...k,...S};let N=[],M=[];k.fetchers.forEach((F,V)=>{F.state==="idle"&&(je.has(V)?N.push(V):M.push(V))}),je.forEach(F=>{!k.fetchers.has(F)&&!W.has(F)&&N.push(F)}),[...m].forEach(F=>F(k,{deletedFetchers:N,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),N.forEach(F=>vc(F)),M.forEach(F=>k.fetchers.delete(F))}function ti(S,j,{flushSync:N}={}){var J,G;let M=k.actionData!=null&&k.navigation.formMethod!=null&&lt(k.navigation.formMethod)&&k.navigation.state==="loading"&&((J=S.state)==null?void 0:J._isRedirect)!==!0,F;j.actionData?Object.keys(j.actionData).length>0?F=j.actionData:F=null:M?F=k.actionData:F=null;let V=j.loaderData?Cp(k.loaderData,j.loaderData,j.matches||[],j.errors):k.loaderData,B=k.blockers;B.size>0&&(B=new Map(B),B.forEach((ee,ge)=>B.set(ge,ys)));let z=ue?!1:Xh(S,j.matches||k.matches),H=I===!0||k.navigation.formMethod!=null&&lt(k.navigation.formMethod)&&((G=S.state)==null?void 0:G._isRedirect)!==!0;l&&(a=l,l=void 0),ue||C==="POP"||(C==="PUSH"?e.history.push(S,S.state):C==="REPLACE"&&e.history.replace(S,S.state));let K;if(C==="POP"){let ee=A.get(k.location.pathname);ee&&ee.has(S.pathname)?K={currentLocation:k.location,nextLocation:S}:A.has(S.pathname)&&(K={currentLocation:S,nextLocation:k.location})}else if(D){let ee=A.get(k.location.pathname);ee?ee.add(S.pathname):(ee=new Set([S.pathname]),A.set(k.location.pathname,ee)),K={currentLocation:k.location,nextLocation:S}}Xe({...j,actionData:F,loaderData:V,historyAction:C,location:S,initialized:!0,navigation:Yc,revalidation:"idle",restoreScrollPosition:z,preventScrollReset:H,blockers:B},{viewTransitionOpts:K,flushSync:N===!0}),C="POP",I=!1,D=!1,ue=!1,Z=!1,Rt==null||Rt.resolve(),Rt=null}async function Vh(S,j){if(typeof S=="number"){e.history.go(S);return}let N=hd(k.location,k.matches,c,S,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:M,submission:F,error:V}=vp(!1,N,j),B=k.location,z=mo(k.location,M,j&&j.state);z={...z,...e.history.encodeLocation(z)};let H=j&&j.replace!=null?j.replace:void 0,K="PUSH";H===!0?K="REPLACE":H===!1||F!=null&&lt(F.formMethod)&&F.formAction===k.location.pathname+k.location.search&&(K="REPLACE");let J=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,G=(j&&j.flushSync)===!0,ee=Jh({currentLocation:B,nextLocation:z,historyAction:K});if(ee){Wo(ee,{state:"blocked",location:z,proceed(){Wo(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),Vh(S,j)},reset(){let ge=new Map(k.blockers);ge.set(ee,ys),Xe({blockers:ge})}});return}await bn(K,z,{submission:F,pendingError:V,preventScrollReset:J,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:G})}function f1(){Rt||(Rt=lE()),yc(),Xe({revalidation:"loading"});let S=Rt.promise;return k.navigation.state==="submitting"?S:k.navigation.state==="idle"?(bn(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),S):(bn(C||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:D===!0}),S)}async function bn(S,j,N){P&&P.abort(),P=null,C=S,ue=(N&&N.startUninterruptedRevalidation)===!0,S1(k.location,k.matches),I=(N&&N.preventScrollReset)===!0,D=(N&&N.enableViewTransition)===!0;let M=l||a,F=N&&N.overrideNavigation,V=N!=null&&N.initialHydration&&k.matches&&k.matches.length>0&&!v?k.matches:Kr(M,j,c),B=(N&&N.flushSync)===!0;if(V&&k.initialized&&!Z&&Z_(k.location,j)&&!(N&&N.submission&&lt(N.submission.formMethod))){ti(j,{matches:V},{flushSync:B});return}let z=Ko(V,M,j.pathname);if(z.active&&z.matches&&(V=z.matches),!V){let{error:Ve,notFoundMatches:xe,route:we}=xc(j.pathname);ti(j,{matches:xe,loaderData:{},errors:{[we.id]:Ve}},{flushSync:B});return}P=new AbortController;let H=li(e.history,j,P.signal,N&&N.submission),K=e.getContext?await e.getContext():new fp,J;if(N&&N.pendingError)J=[qr(V).route.id,{type:"error",error:N.pendingError}];else if(N&&N.submission&&lt(N.submission.formMethod)){let Ve=await h1(H,j,N.submission,V,K,z.active,N&&N.initialHydration===!0,{replace:N.replace,flushSync:B});if(Ve.shortCircuited)return;if(Ve.pendingActionResult){let[xe,we]=Ve.pendingActionResult;if(bt(we)&&go(we.error)&&we.error.status===404){P=null,ti(j,{matches:Ve.matches,loaderData:{},errors:{[xe]:we.error}});return}}V=Ve.matches||V,J=Ve.pendingActionResult,F=Jc(j,N.submission),B=!1,z.active=!1,H=li(e.history,H.url,H.signal)}let{shortCircuited:G,matches:ee,loaderData:ge,errors:Fe}=await m1(H,j,V,K,z.active,F,N&&N.submission,N&&N.fetcherSubmission,N&&N.replace,N&&N.initialHydration===!0,B,J);G||(P=null,ti(j,{matches:ee||V,...Np(J),loaderData:ge,errors:Fe}))}async function h1(S,j,N,M,F,V,B,z={}){yc();let H=iE(j,N);if(Xe({navigation:H},{flushSync:z.flushSync===!0}),V){let G=await qo(M,j.pathname,S.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){if(G.partialMatches.length===0){let{matches:ge,route:Fe}=pa(a);return{matches:ge,pendingActionResult:[Fe.id,{type:"error",error:G.error}]}}let ee=qr(G.partialMatches).route.id;return{matches:G.partialMatches,pendingActionResult:[ee,{type:"error",error:G.error}]}}else if(G.matches)M=G.matches;else{let{notFoundMatches:ee,error:ge,route:Fe}=xc(j.pathname);return{matches:ee,pendingActionResult:[Fe.id,{type:"error",error:ge}]}}}let K,J=Fa(M,j);if(!J.route.action&&!J.route.lazy)K={type:"error",error:Mt(405,{method:S.method,pathname:j.pathname,routeId:J.route.id})};else{let G=Ii(s,o,S,M,J,B?[]:n,F),ee=await os(S,G,F,null);if(K=ee[J.route.id],!K){for(let ge of M)if(ee[ge.route.id]){K=ee[ge.route.id];break}}if(S.signal.aborted)return{shortCircuited:!0}}if(Dn(K)){let G;return z&&z.replace!=null?G=z.replace:G=_p(K.response.headers.get("Location"),new URL(S.url),c)===k.location.pathname+k.location.search,await kn(S,K,!0,{submission:N,replace:G}),{shortCircuited:!0}}if(bt(K)){let G=qr(M,J.route.id);return(z&&z.replace)!==!0&&(C="PUSH"),{matches:M,pendingActionResult:[G.route.id,K,J.route.id]}}return{matches:M,pendingActionResult:[J.route.id,K]}}async function m1(S,j,N,M,F,V,B,z,H,K,J,G){let ee=V||Jc(j,B),ge=B||z||Rp(ee),Fe=!ue&&!K;if(F){if(Fe){let Ze=Bh(G);Xe({navigation:ee,...Ze!==void 0?{actionData:Ze}:{}},{flushSync:J})}let de=await qo(N,j.pathname,S.signal);if(de.type==="aborted")return{shortCircuited:!0};if(de.type==="error"){if(de.partialMatches.length===0){let{matches:ri,route:En}=pa(a);return{matches:ri,loaderData:{},errors:{[En.id]:de.error}}}let Ze=qr(de.partialMatches).route.id;return{matches:de.partialMatches,loaderData:{},errors:{[Ze]:de.error}}}else if(de.matches)N=de.matches;else{let{error:Ze,notFoundMatches:ri,route:En}=xc(j.pathname);return{matches:ri,loaderData:{},errors:{[En.id]:Ze}}}}let Ve=l||a,{dsMatches:xe,revalidatingFetchers:we}=xp(S,M,s,o,e.history,k,N,ge,j,K?[]:n,K===!0,Z,oe,je,he,q,Ve,c,e.patchRoutesOnNavigation!=null,G);if(O=++R,!e.dataStrategy&&!xe.some(de=>de.shouldLoad)&&!xe.some(de=>de.route.middleware&&de.route.middleware.length>0)&&we.length===0){let de=Kh();return ti(j,{matches:N,loaderData:{},errors:G&&bt(G[1])?{[G[0]]:G[1].error}:null,...Np(G),...de?{fetchers:new Map(k.fetchers)}:{}},{flushSync:J}),{shortCircuited:!0}}if(Fe){let de={};if(!F){de.navigation=ee;let Ze=Bh(G);Ze!==void 0&&(de.actionData=Ze)}we.length>0&&(de.fetchers=p1(we)),Xe(de,{flushSync:J})}we.forEach(de=>{pr(de.key),de.controller&&W.set(de.key,de.controller)});let Sn=()=>we.forEach(de=>pr(de.key));P&&P.signal.addEventListener("abort",Sn);let{loaderResults:as,fetcherResults:Ir}=await Hh(xe,we,S,M);if(S.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Sn),we.forEach(de=>W.delete(de.key));let tr=ga(as);if(tr)return await kn(S,tr.result,!0,{replace:H}),{shortCircuited:!0};if(tr=ga(Ir),tr)return q.add(tr.key),await kn(S,tr.result,!0,{replace:H}),{shortCircuited:!0};let{loaderData:wc,errors:ls}=jp(k,N,as,G,we,Ir);K&&k.errors&&(ls={...k.errors,...ls});let _n=Kh(),Yo=qh(O),Jo=_n||Yo||we.length>0;return{matches:N,loaderData:wc,errors:ls,...Jo?{fetchers:new Map(k.fetchers)}:{}}}function Bh(S){if(S&&!bt(S[1]))return{[S[0]]:S[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function p1(S){return S.forEach(j=>{let N=k.fetchers.get(j.key),M=vs(void 0,N?N.data:void 0);k.fetchers.set(j.key,M)}),new Map(k.fetchers)}async function g1(S,j,N,M){pr(S);let F=(M&&M.flushSync)===!0,V=l||a,B=hd(k.location,k.matches,c,N,j,M==null?void 0:M.relative),z=Kr(V,B,c),H=Ko(z,V,B);if(H.active&&H.matches&&(z=H.matches),!z){mr(S,j,Mt(404,{pathname:B}),{flushSync:F});return}let{path:K,submission:J,error:G}=vp(!0,B,M);if(G){mr(S,j,G,{flushSync:F});return}let ee=e.getContext?await e.getContext():new fp,ge=(M&&M.preventScrollReset)===!0;if(J&&lt(J.formMethod)){await y1(S,j,K,z,ee,H.active,F,ge,J);return}he.set(S,{routeId:j,path:K}),await v1(S,j,K,z,ee,H.active,F,ge,J)}async function y1(S,j,N,M,F,V,B,z,H){yc(),he.delete(S);let K=k.fetchers.get(S);hr(S,sE(H,K),{flushSync:B});let J=new AbortController,G=li(e.history,N,J.signal,H);if(V){let Pe=await qo(M,new URL(G.url).pathname,G.signal,S);if(Pe.type==="aborted")return;if(Pe.type==="error"){mr(S,j,Pe.error,{flushSync:B});return}else if(Pe.matches)M=Pe.matches;else{mr(S,j,Mt(404,{pathname:N}),{flushSync:B});return}}let ee=Fa(M,N);if(!ee.route.action&&!ee.route.lazy){let Pe=Mt(405,{method:H.formMethod,pathname:N,routeId:j});mr(S,j,Pe,{flushSync:B});return}W.set(S,J);let ge=R,Fe=Ii(s,o,G,M,ee,n,F),Ve=await os(G,Fe,F,S),xe=Ve[ee.route.id];if(!xe){for(let Pe of Fe)if(Ve[Pe.route.id]){xe=Ve[Pe.route.id];break}}if(G.signal.aborted){W.get(S)===J&&W.delete(S);return}if(je.has(S)){if(Dn(xe)||bt(xe)){hr(S,yr(void 0));return}}else{if(Dn(xe))if(W.delete(S),O>ge){hr(S,yr(void 0));return}else return q.add(S),hr(S,vs(H)),kn(G,xe,!1,{fetcherSubmission:H,preventScrollReset:z});if(bt(xe)){mr(S,j,xe.error);return}}let we=k.navigation.location||k.location,Sn=li(e.history,we,J.signal),as=l||a,Ir=k.navigation.state!=="idle"?Kr(as,k.navigation.location,c):k.matches;se(Ir,"Didn't find any matches after fetcher action");let tr=++R;U.set(S,tr);let wc=vs(H,xe.data);k.fetchers.set(S,wc);let{dsMatches:ls,revalidatingFetchers:_n}=xp(Sn,F,s,o,e.history,k,Ir,H,we,n,!1,Z,oe,je,he,q,as,c,e.patchRoutesOnNavigation!=null,[ee.route.id,xe]);_n.filter(Pe=>Pe.key!==S).forEach(Pe=>{let Qo=Pe.key,em=k.fetchers.get(Qo),j1=vs(void 0,em?em.data:void 0);k.fetchers.set(Qo,j1),pr(Qo),Pe.controller&&W.set(Qo,Pe.controller)}),Xe({fetchers:new Map(k.fetchers)});let Yo=()=>_n.forEach(Pe=>pr(Pe.key));J.signal.addEventListener("abort",Yo);let{loaderResults:Jo,fetcherResults:de}=await Hh(ls,_n,Sn,F);if(J.signal.aborted)return;if(J.signal.removeEventListener("abort",Yo),U.delete(S),W.delete(S),_n.forEach(Pe=>W.delete(Pe.key)),k.fetchers.has(S)){let Pe=yr(xe.data);k.fetchers.set(S,Pe)}let Ze=ga(Jo);if(Ze)return kn(Sn,Ze.result,!1,{preventScrollReset:z});if(Ze=ga(de),Ze)return q.add(Ze.key),kn(Sn,Ze.result,!1,{preventScrollReset:z});let{loaderData:ri,errors:En}=jp(k,Ir,Jo,void 0,_n,de);qh(tr),k.navigation.state==="loading"&&tr>O?(se(C,"Expected pending action"),P&&P.abort(),ti(k.navigation.location,{matches:Ir,loaderData:ri,errors:En,fetchers:new Map(k.fetchers)})):(Xe({errors:En,loaderData:Cp(k.loaderData,ri,Ir,En),fetchers:new Map(k.fetchers)}),Z=!1)}async function v1(S,j,N,M,F,V,B,z,H){let K=k.fetchers.get(S);hr(S,vs(H,K?K.data:void 0),{flushSync:B});let J=new AbortController,G=li(e.history,N,J.signal);if(V){let we=await qo(M,new URL(G.url).pathname,G.signal,S);if(we.type==="aborted")return;if(we.type==="error"){mr(S,j,we.error,{flushSync:B});return}else if(we.matches)M=we.matches;else{mr(S,j,Mt(404,{pathname:N}),{flushSync:B});return}}let ee=Fa(M,N);W.set(S,J);let ge=R,Fe=Ii(s,o,G,M,ee,n,F),xe=(await os(G,Fe,F,S))[ee.route.id];if(W.get(S)===J&&W.delete(S),!G.signal.aborted){if(je.has(S)){hr(S,yr(void 0));return}if(Dn(xe))if(O>ge){hr(S,yr(void 0));return}else{q.add(S),await kn(G,xe,!1,{preventScrollReset:z});return}if(bt(xe)){mr(S,j,xe.error);return}hr(S,yr(xe.data))}}async function kn(S,j,N,{submission:M,fetcherSubmission:F,preventScrollReset:V,replace:B}={}){j.response.headers.has("X-Remix-Revalidate")&&(Z=!0);let z=j.response.headers.get("Location");se(z,"Expected a Location header on the redirect Response"),z=_p(z,new URL(S.url),c);let H=mo(k.location,z,{_isRedirect:!0});if(r){let Fe=!1;if(j.response.headers.has("X-Remix-Reload-Document"))Fe=!0;else if(Wl(z)){const Ve=dx(z,!0);Fe=Ve.origin!==t.location.origin||zt(Ve.pathname,c)==null}if(Fe){B?t.location.replace(z):t.location.assign(z);return}}P=null;let K=B===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:J,formAction:G,formEncType:ee}=k.navigation;!M&&!F&&J&&G&&ee&&(M=Rp(k.navigation));let ge=M||F;if(D_.has(j.response.status)&&ge&&lt(ge.formMethod))await bn(K,H,{submission:{...ge,formAction:z},preventScrollReset:V||I,enableViewTransition:N?D:void 0});else{let Fe=Jc(H,M);await bn(K,H,{overrideNavigation:Fe,fetcherSubmission:F,preventScrollReset:V||I,enableViewTransition:N?D:void 0})}}async function os(S,j,N,M){let F,V={};try{F=await K_(d,S,j,M,N,!1)}catch(B){return j.filter(z=>z.shouldLoad).forEach(z=>{V[z.route.id]={type:"error",error:B}}),V}if(S.signal.aborted)return V;for(let[B,z]of Object.entries(F))if(rE(z)){let H=z.result;V[B]={type:"redirect",response:Q_(H,S,B,j,c)}}else V[B]=await J_(z);return V}async function Hh(S,j,N,M){let F=os(N,S,M,null),V=Promise.all(j.map(async H=>{if(H.matches&&H.match&&H.request&&H.controller){let J=(await os(H.request,H.matches,M,H.key))[H.match.route.id];return{[H.key]:J}}else return Promise.resolve({[H.key]:{type:"error",error:Mt(404,{pathname:H.path})}})})),B=await F,z=(await V).reduce((H,K)=>Object.assign(H,K),{});return{loaderResults:B,fetcherResults:z}}function yc(){Z=!0,he.forEach((S,j)=>{W.has(j)&&oe.add(j),pr(j)})}function hr(S,j,N={}){k.fetchers.set(S,j),Xe({fetchers:new Map(k.fetchers)},{flushSync:(N&&N.flushSync)===!0})}function mr(S,j,N,M={}){let F=qr(k.matches,j);vc(S),Xe({errors:{[F.route.id]:N},fetchers:new Map(k.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Gh(S){return ze.set(S,(ze.get(S)||0)+1),je.has(S)&&je.delete(S),k.fetchers.get(S)||F_}function x1(S,j){pr(S,j==null?void 0:j.reason),hr(S,yr(null))}function vc(S){let j=k.fetchers.get(S);W.has(S)&&!(j&&j.state==="loading"&&U.has(S))&&pr(S),he.delete(S),U.delete(S),q.delete(S),je.delete(S),oe.delete(S),k.fetchers.delete(S)}function w1(S){let j=(ze.get(S)||0)-1;j<=0?(ze.delete(S),je.add(S)):ze.set(S,j),Xe({fetchers:new Map(k.fetchers)})}function pr(S,j){let N=W.get(S);N&&(N.abort(j),W.delete(S))}function Wh(S){for(let j of S){let N=Gh(j),M=yr(N.data);k.fetchers.set(j,M)}}function Kh(){let S=[],j=!1;for(let N of q){let M=k.fetchers.get(N);se(M,`Expected fetcher: ${N}`),M.state==="loading"&&(q.delete(N),S.push(N),j=!0)}return Wh(S),j}function qh(S){let j=[];for(let[N,M]of U)if(M<S){let F=k.fetchers.get(N);se(F,`Expected fetcher: ${N}`),F.state==="loading"&&(pr(N),U.delete(N),j.push(N))}return Wh(j),j.length>0}function b1(S,j){let N=k.blockers.get(S)||ys;return Bt.get(S)!==j&&Bt.set(S,j),N}function Yh(S){k.blockers.delete(S),Bt.delete(S)}function Wo(S,j){let N=k.blockers.get(S)||ys;se(N.state==="unblocked"&&j.state==="blocked"||N.state==="blocked"&&j.state==="blocked"||N.state==="blocked"&&j.state==="proceeding"||N.state==="blocked"&&j.state==="unblocked"||N.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${N.state} -> ${j.state}`);let M=new Map(k.blockers);M.set(S,j),Xe({blockers:M})}function Jh({currentLocation:S,nextLocation:j,historyAction:N}){if(Bt.size===0)return;Bt.size>1&&Ie(!1,"A router only supports one blocker at a time");let M=Array.from(Bt.entries()),[F,V]=M[M.length-1],B=k.blockers.get(F);if(!(B&&B.state==="proceeding")&&V({currentLocation:S,nextLocation:j,historyAction:N}))return F}function xc(S){let j=Mt(404,{pathname:S}),N=l||a,{matches:M,route:F}=pa(N);return{notFoundMatches:M,route:F,error:j}}function k1(S,j,N){if(y=S,w=j,x=N||null,!g&&k.navigation===Yc){g=!0;let M=Xh(k.location,k.matches);M!=null&&Xe({restoreScrollPosition:M})}return()=>{y=null,w=null,x=null}}function Qh(S,j){return x&&x(S,j.map(M=>l_(M,k.loaderData)))||S.key}function S1(S,j){if(y&&w){let N=Qh(S,j);y[N]=w()}}function Xh(S,j){if(y){let N=Qh(S,j),M=y[N];if(typeof M=="number")return M}return null}function Ko(S,j,N){if(e.patchRoutesOnNavigation)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:Ts(j,N,c,!0)}}else return{active:!0,matches:Ts(j,N,c,!0)||[]};return{active:!1,matches:null}}async function qo(S,j,N,M){if(!e.patchRoutesOnNavigation)return{type:"success",matches:S};let F=S;for(;;){let V=l==null,B=l||a,z=o;try{await e.patchRoutesOnNavigation({signal:N,path:j,matches:F,fetcherKey:M,patch:(J,G)=>{N.aborted||wp(J,G,B,z,s,!1)}})}catch(J){return{type:"error",error:J,partialMatches:F}}finally{V&&!N.aborted&&(a=[...a])}if(N.aborted)return{type:"aborted"};let H=Kr(B,j,c),K=null;if(H){if(Object.keys(H[0].params).length===0)return{type:"success",matches:H};if(K=Ts(B,j,c,!0),!(K&&F.length<K.length&&Zh(F,K.slice(0,F.length))))return{type:"success",matches:H}}if(K||(K=Ts(B,j,c,!0)),!K||Zh(F,K))return{type:"success",matches:null};F=K}}function Zh(S,j){return S.length===j.length&&S.every((N,M)=>N.route.id===j[M].route.id)}function _1(S){o={},l=po(S,s,void 0,o)}function E1(S,j,N=!1){let M=l==null;wp(S,j,l||a,o,s,N),M&&(a=[...a],Xe({}))}return T={get basename(){return c},get future(){return f},get state(){return k},get routes(){return a},get window(){return t},initialize:c1,subscribe:d1,enableScrollRestoration:k1,navigate:Vh,fetch:g1,revalidate:f1,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:Gh,resetFetcher:x1,deleteFetcher:w1,dispose:u1,getBlocker:b1,deleteBlocker:Yh,patchRoutes:E1,_internalFetchControllers:W,_internalSetRoutes:_1,_internalSetStateDoNotUseOrYouWillBreakYourApp(S){Xe(S)}},e.unstable_instrumentations&&(T=N_(T,e.unstable_instrumentations.map(S=>S.router).filter(Boolean))),T}function z_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function hd(e,t,r,n,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let l=ql(n||".",Kl(o),zt(e.pathname,r)||e.pathname,s==="path");if(n==null&&(l.search=e.search,l.hash=e.hash),(n==null||n===""||n===".")&&a){let c=Bf(l.search);if(a.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let d=new URLSearchParams(l.search),f=d.getAll("index");d.delete("index"),f.filter(m=>m).forEach(m=>d.append("index",m));let h=d.toString();l.search=h?`?${h}`:""}}return r!=="/"&&(l.pathname=b_({basename:r,pathname:l.pathname})),dr(l)}function vp(e,t,r){if(!r||!z_(r))return{path:t};if(r.formMethod&&!nE(r.formMethod))return{path:t,error:Mt(405,{method:r.formMethod})};let n=()=>({path:t,error:Mt(400,{type:"invalid-body"})}),s=(r.formMethod||"get").toUpperCase(),o=_x(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!lt(s))return n();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,[m,y])=>`${h}${m}=${y}
`,""):String(r.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!lt(s))return n();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return n()}}}se(typeof FormData=="function","FormData is not available in this environment");let a,l;if(r.formData)a=gd(r.formData),l=r.formData;else if(r.body instanceof FormData)a=gd(r.body),l=r.body;else if(r.body instanceof URLSearchParams)a=r.body,l=Ep(a);else if(r.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(r.body),l=Ep(a)}catch{return n()}let c={formMethod:s,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(lt(c.formMethod))return{path:t,submission:c};let d=gn(t);return e&&d.search&&Bf(d.search)&&a.append("index",""),d.search=`?${a}`,{path:dr(d),submission:c}}function xp(e,t,r,n,i,s,o,a,l,c,d,f,h,m,y,x,w,g,p,v){var ue;let _=v?bt(v[1])?v[1].error:v[1].data:void 0,E=i.createURL(s.location),T=i.createURL(l),k;if(d&&s.errors){let Z=Object.keys(s.errors)[0];k=o.findIndex(oe=>oe.route.id===Z)}else if(v&&bt(v[1])){let Z=v[0];k=o.findIndex(oe=>oe.route.id===Z)-1}let C=v?v[1].statusCode:void 0,I=C&&C>=400,P={currentUrl:E,currentParams:((ue=s.matches[0])==null?void 0:ue.params)||{},nextUrl:T,nextParams:o[0].params,...a,actionResult:_,actionStatus:C},D=zf(o.map(Z=>Z.route.path)),A=o.map((Z,oe)=>{let{route:W}=Z,R=null;if(k!=null&&oe>k?R=!1:W.lazy?R=!0:Vf(W)?d?R=md(W,s.loaderData,s.errors):V_(s.loaderData,s.matches[oe],Z)&&(R=!0):R=!1,R!==null)return pd(r,n,e,D,Z,c,t,R);let O=I?!1:f||E.pathname+E.search===T.pathname+T.search||E.search!==T.search||B_(s.matches[oe],Z),U={...P,defaultShouldRevalidate:O},q=yl(Z,U);return pd(r,n,e,D,Z,c,t,q,U)}),te=[];return y.forEach((Z,oe)=>{if(d||!o.some(je=>je.route.id===Z.routeId)||m.has(oe))return;let W=s.fetchers.get(oe),R=W&&W.state!=="idle"&&W.data===void 0,O=Kr(w,Z.path,g);if(!O){if(p&&R)return;te.push({key:oe,routeId:Z.routeId,path:Z.path,matches:null,match:null,request:null,controller:null});return}if(x.has(oe))return;let U=Fa(O,Z.path),q=new AbortController,he=li(i,Z.path,q.signal),ze=null;if(h.has(oe))h.delete(oe),ze=Ii(r,n,he,O,U,c,t);else if(R)f&&(ze=Ii(r,n,he,O,U,c,t));else{let je={...P,defaultShouldRevalidate:I?!1:f};yl(U,je)&&(ze=Ii(r,n,he,O,U,c,t,je))}ze&&te.push({key:oe,routeId:Z.routeId,path:Z.path,matches:ze,match:U,request:he,controller:q})}),{dsMatches:A,revalidatingFetchers:te}}function Vf(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function md(e,t,r){if(e.lazy)return!0;if(!Vf(e))return!1;let n=t!=null&&e.id in t,i=r!=null&&r[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function V_(e,t,r){let n=!t||r.route.id!==t.route.id,i=!e.hasOwnProperty(r.route.id);return n||i}function B_(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function yl(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function wp(e,t,r,n,i,s){let o;if(e){let c=n[e];se(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=r;let a=[],l=[];if(t.forEach(c=>{let d=o.find(f=>xx(c,f));d?l.push({existingRoute:d,newRoute:c}):a.push(c)}),a.length>0){let c=po(a,i,[e||"_","patch",String((o==null?void 0:o.length)||"0")],n);o.push(...c)}if(s&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:d,newRoute:f}=l[c],h=d,[m]=po([f],i,[],{},!0);Object.assign(h,{element:m.element?m.element:h.element,errorElement:m.errorElement?m.errorElement:h.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:h.hydrateFallbackElement})}}function xx(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var i;return(i=t.children)==null?void 0:i.some(s=>xx(r,s))}):!1}var bp=new WeakMap,wx=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let i=r[t.id];if(se(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=bp.get(i);o||(o={},bp.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let c=i_(e),f=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)Ie(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(f)Ie(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let h=await s();h!=null&&(Object.assign(i,{[e]:h}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(h=>h===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},kp=new WeakMap;function H_(e,t,r,n,i){let s=r[e.id];if(se(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=kp.get(s);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let f=(async()=>{se(typeof e.lazy=="function","No lazy route function found");let h=await e.lazy(),m={};for(let y in h){let x=h[y];if(x===void 0)continue;let w=o_(y),p=s[y]!==void 0&&y!=="hasErrorBoundary";w?Ie(!w,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):p?Ie(!p,`Route "${s.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):m[y]=x}Object.assign(s,m),Object.assign(s,{...n(s),lazy:void 0})})();return kp.set(s,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let o=Object.keys(e.lazy),a=[],l;for(let d of o){if(i&&i.includes(d))continue;let f=wx({key:d,route:e,manifest:r,mapRouteProperties:n});f&&(a.push(f),d===t&&(l=f))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c==null||c.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function Sp(e){let t=e.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{r[t[s].route.id]=i}),r}async function G_(e){return e.matches.some(t=>t.route.middleware)?bx(e,()=>Sp(e)):Sp(e)}function bx(e,t){return W_(e,t,n=>n,eE,r);function r(n,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:n}}));{let{matches:o}=e,a=Math.min(Math.max(o.findIndex(c=>c.route.id===i),0),Math.max(o.findIndex(c=>c.unstable_shouldCallHandler()),0)),l=qr(o,o[a].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:n}})}}}async function W_(e,t,r,n,i){let{matches:s,request:o,params:a,context:l,unstable_pattern:c}=e,d=s.flatMap(h=>h.route.middleware?h.route.middleware.map(m=>[h.route.id,m]):[]);return await kx({request:o,params:a,context:l,unstable_pattern:c},d,t,r,n,i)}async function kx(e,t,r,n,i,s,o=0){let{request:a}=e;if(a.signal.aborted)throw a.signal.reason??new Error(`Request aborted: ${a.method} ${a.url}`);let l=t[o];if(!l)return await r();let[c,d]=l,f,h=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");try{return f={value:await kx(e,t,r,n,i,s,o+1)},f.value}catch(m){return f={value:await s(m,c,f)},f.value}};try{let m=await d(e,h),y=m!=null?n(m):void 0;return i(y)?y:f?y??f.value:(f={value:await h()},f.value)}catch(m){return await s(m,c,f)}}function Sx(e,t,r,n,i){let s=wx({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),o=H_(n.route,lt(r.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function pd(e,t,r,n,i,s,o,a,l=null){let c=!1,d=Sx(e,t,r,i,s);return{...i,_lazyPromises:d,shouldLoad:a,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(f){return c=!0,l?typeof f=="boolean"?yl(i,{...l,defaultShouldRevalidate:f}):yl(i,l):a},resolve(f){let{lazy:h,loader:m,middleware:y}=i.route,x=c||a||f&&!lt(r.method)&&(h||m),w=y&&y.length>0&&!m&&!h;return x&&(lt(r.method)||!w)?q_({request:r,unstable_pattern:n,match:i,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:f,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Ii(e,t,r,n,i,s,o,a=null){return n.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:Sx(e,t,r,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:pd(e,t,r,zf(n.map(c=>c.route.path)),l,s,o,!0,a))}async function K_(e,t,r,n,i,s){r.some(c=>{var d;return(d=c._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(c=>{var d;return(d=c._lazyPromises)==null?void 0:d.middleware}));let o={request:t,unstable_pattern:zf(r.map(c=>c.route.path)),params:r[0].params,context:i,matches:r},l=await e({...o,fetcherKey:n,runClientMiddleware:c=>{let d=o;return bx(d,()=>c({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(c=>{var d,f;return[(d=c._lazyPromises)==null?void 0:d.handler,(f=c._lazyPromises)==null?void 0:f.route]}))}catch{}return l}async function q_({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:s,scopedContext:o}){let a,l,c=lt(e.method),d=c?"action":"loader",f=h=>{let m,y=new Promise((g,p)=>m=p);l=()=>m(),e.signal.addEventListener("abort",l);let x=g=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${r.route.id}]`)):h({request:e,unstable_pattern:t,params:r.params,context:o},...g!==void 0?[g]:[]),w=(async()=>{try{return{type:"data",result:await(s?s(p=>x(p)):x())}}catch(g){return{type:"error",result:g}}})();return Promise.race([w,y])};try{let h=c?r.route.action:r.route.loader;if(n||i)if(h){let m,[y]=await Promise.all([f(h).catch(x=>{m=x}),n,i]);if(m!==void 0)throw m;a=y}else{await n;let m=c?r.route.action:r.route.loader;if(m)[a]=await Promise.all([f(m),i]);else if(d==="action"){let y=new URL(e.url),x=y.pathname+y.search;throw Mt(405,{method:e.method,pathname:x,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(h)a=await f(h);else{let m=new URL(e.url),y=m.pathname+m.search;throw Mt(404,{pathname:y})}}catch(h){return{type:"error",result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function Y_(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function J_(e){var n,i,s,o,a,l;let{result:t,type:r}=e;if(Ex(t)){let c;try{c=await Y_(t)}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new gl(t.status,t.statusText,c),statusCode:t.status,headers:t.headers}:{type:"data",data:c,statusCode:t.status,headers:t.headers}}return r==="error"?Tp(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new gl(((s=t.init)==null?void 0:s.status)||500,void 0,t.data),statusCode:go(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:go(t)?t.status:void 0}:Tp(t)?{type:"data",data:t.data,statusCode:(a=t.init)==null?void 0:a.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Q_(e,t,r,n,i){let s=e.headers.get("Location");if(se(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wl(s)){let o=n.slice(0,n.findIndex(a=>a.route.id===r)+1);s=hd(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function _p(e,t,r){if(Wl(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),s=zt(i.pathname,r)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function li(e,t,r,n){let i=e.createURL(_x(t)).toString(),s={signal:r};if(n&&lt(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=gd(n.formData):s.body=n.formData}return new Request(i,s)}function gd(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Ep(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function X_(e,t,r,n=!1,i=!1){let s={},o=null,a,l=!1,c={},d=r&&bt(r[1])?r[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,m=t[h];if(se(!Dn(m),"Cannot handle redirect results in processLoaderData"),bt(m)){let y=m.error;if(d!==void 0&&(y=d,d=void 0),o=o||{},i)o[h]=y;else{let x=qr(e,h);o[x.route.id]==null&&(o[x.route.id]=y)}n||(s[h]=vx),l||(l=!0,a=go(m.error)?m.error.status:500),m.headers&&(c[h]=m.headers)}else s[h]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[h]=m.headers)}),d!==void 0&&r&&(o={[r[0]]:d},r[2]&&(s[r[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function jp(e,t,r,n,i,s){let{loaderData:o,errors:a}=X_(t,r,n);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:d,controller:f}=l;if(f&&f.signal.aborted)return;let h=s[c];if(se(h,"Did not find corresponding fetcher result"),bt(h)){let m=qr(e.matches,d==null?void 0:d.route.id);a&&a[m.route.id]||(a={...a,[m.route.id]:h.error}),e.fetchers.delete(c)}else if(Dn(h))se(!1,"Unhandled fetcher revalidation redirect");else{let m=yr(h.data);e.fetchers.set(c,m)}}),{loaderData:o,errors:a}}function Cp(e,t,r,n){let i=Object.entries(t).filter(([,s])=>s!==vx).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of r){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),n&&n.hasOwnProperty(o))break}return i}function Np(e){return e?bt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function qr(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function pa(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Mt(e,{pathname:t,routeId:r,method:n,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",n&&t&&r?a=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${r}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",n&&t&&r?a=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(a=`Invalid request method "${n.toUpperCase()}"`)),new gl(e||500,o,new Error(a),!0)}function ga(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,i]=t[r];if(Dn(i))return{key:n,result:i}}}function _x(e){let t=typeof e=="string"?gn(e):e;return dr({...t,hash:""})}function Z_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function eE(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&tE(r))}function tE(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function rE(e){return Ex(e.result)&&L_.has(e.result.status)}function bt(e){return e.type==="error"}function Dn(e){return(e&&e.type)==="redirect"}function Tp(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Ex(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function nE(e){return O_.has(e.toUpperCase())}function lt(e){return M_.has(e.toUpperCase())}function Bf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Fa(e,t){let r=typeof t=="string"?gn(t).search:t.search;if(e[e.length-1].route.index&&Bf(r||""))return e[e.length-1];let n=mx(e);return n[n.length-1]}function Rp(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:s,json:o}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Jc(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function iE(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function vs(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sE(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function yr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oE(e,t){try{let r=e.sessionStorage.getItem(yx);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function aE(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(yx,JSON.stringify(r))}catch(n){Ie(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function lE(){let e,t,r=new Promise((n,i)=>{e=async s=>{n(s);try{await r}catch{}},t=async s=>{i(s);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Qn=b.createContext(null);Qn.displayName="DataRouter";var Mo=b.createContext(null);Mo.displayName="DataRouterState";b.createContext(!1);var Hf=b.createContext({isTransitioning:!1});Hf.displayName="ViewTransition";var jx=b.createContext(new Map);jx.displayName="Fetchers";var cE=b.createContext(null);cE.displayName="Await";var er=b.createContext(null);er.displayName="Navigation";var Yl=b.createContext(null);Yl.displayName="Location";var Vt=b.createContext({outlet:null,matches:[],isDataRoute:!1});Vt.displayName="Route";var Gf=b.createContext(null);Gf.displayName="RouteError";function uE(e,{relative:t}={}){se(es(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(er),{hash:i,pathname:s,search:o}=Io(e,{relative:t}),a=s;return r!=="/"&&(a=s==="/"?r:lr([r,s])),n.createHref({pathname:a,search:o,hash:i})}function es(){return b.useContext(Yl)!=null}function yn(){return se(es(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Yl).location}var Cx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nx(e){b.useContext(er).static||b.useLayoutEffect(e)}function Mr(){let{isDataRoute:e}=b.useContext(Vt);return e?jE():dE()}function dE(){se(es(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Qn),{basename:t,navigator:r}=b.useContext(er),{matches:n}=b.useContext(Vt),{pathname:i}=yn(),s=JSON.stringify(Kl(n)),o=b.useRef(!1);return Nx(()=>{o.current=!0}),b.useCallback((l,c={})=>{if(Ie(o.current,Cx),!o.current)return;if(typeof l=="number"){r.go(l);return}let d=ql(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:lr([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,s,i,e])}var fE=b.createContext(null);function hE(e){let t=b.useContext(Vt).outlet;return b.useMemo(()=>t&&b.createElement(fE.Provider,{value:e},t),[t,e])}function mE(){let{matches:e}=b.useContext(Vt),t=e[e.length-1];return t?t.params:{}}function Io(e,{relative:t}={}){let{matches:r}=b.useContext(Vt),{pathname:n}=yn(),i=JSON.stringify(Kl(r));return b.useMemo(()=>ql(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function pE(e,t,r,n,i){se(es(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(er),{matches:o}=b.useContext(Vt),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let p=f&&f.path||"";Tx(c,!f||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=yn(),m;m=h;let y=m.pathname||"/",x=y;if(d!=="/"){let p=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=Kr(e,{pathname:x});return Ie(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ie(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),wE(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:lr([d,s.encodeLocation?s.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:lr([d,s.encodeLocation?s.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),o,r,n,i)}function gE(){let e=EE(),t=go(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:i},r):null,o)}var yE=b.createElement(gE,null),vE=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Vt.Provider,{value:this.props.routeContext},b.createElement(Gf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xE({routeContext:e,match:t,children:r}){let n=b.useContext(Qn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Vt.Provider,{value:e},r)}function wE(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);se(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:h,errors:m}=r,y=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=r&&n?(d,f)=>{var h,m;n(d,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},errorInfo:f})}:void 0;return s.reduceRight((d,f,h)=>{let m,y=!1,x=null,w=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||yE,a&&(l<0&&h===0?(Tx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):l===h&&(y=!0,w=f.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,h+1)),p=()=>{let v;return m?v=x:y?v=w:f.route.Component?v=b.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,b.createElement(xE,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(vE,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:c}):p()},null)}function Wf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bE(e){let t=b.useContext(Qn);return se(t,Wf(e)),t}function kE(e){let t=b.useContext(Mo);return se(t,Wf(e)),t}function SE(e){let t=b.useContext(Vt);return se(t,Wf(e)),t}function Kf(e){let t=SE(e),r=t.matches[t.matches.length-1];return se(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function _E(){return Kf("useRouteId")}function EE(){var n;let e=b.useContext(Gf),t=kE("useRouteError"),r=Kf("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function jE(){let{router:e}=bE("useNavigate"),t=Kf("useNavigate"),r=b.useRef(!1);return Nx(()=>{r.current=!0}),b.useCallback(async(i,s={})=>{Ie(r.current,Cx),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Pp={};function Tx(e,t,r){!t&&!Pp[e]&&(Pp[e]=!0,Ie(!1,r))}var Ap={};function Mp(e,t){!e&&!Ap[t]&&(Ap[t]=!0,console.warn(t))}function CE(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Ie(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Ie(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Ie(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var NE=["HydrateFallback","hydrateFallbackElement"],TE=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function RE({router:e,flushSync:t,unstable_onError:r}){let[n,i]=b.useState(e.state),[s,o]=b.useState(),[a,l]=b.useState({isTransitioning:!1}),[c,d]=b.useState(),[f,h]=b.useState(),[m,y]=b.useState(),x=b.useRef(new Map),w=b.useCallback(E=>{i(T=>(E.errors&&r&&Object.entries(E.errors).forEach(([k,C])=>{var I,P;((I=T.errors)==null?void 0:I[k])!==C&&r(C,{location:E.location,params:((P=E.matches[0])==null?void 0:P.params)??{}})}),E))},[r]),g=b.useCallback((E,{deletedFetchers:T,flushSync:k,viewTransitionOpts:C})=>{E.fetchers.forEach((P,D)=>{P.data!==void 0&&x.current.set(D,P.data)}),T.forEach(P=>x.current.delete(P)),Mp(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Mp(C==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!I){t&&k?t(()=>w(E)):b.startTransition(()=>w(E));return}if(t&&k){t(()=>{f&&(c&&c.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let P=e.window.document.startViewTransition(()=>{t(()=>w(E))});P.finished.finally(()=>{t(()=>{d(void 0),h(void 0),o(void 0),l({isTransitioning:!1})})}),t(()=>h(P));return}f?(c&&c.resolve(),f.skipTransition(),y({state:E,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(o(E),l({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[e.window,t,f,c,w]);b.useLayoutEffect(()=>e.subscribe(g),[e,g]),b.useEffect(()=>{a.isTransitioning&&!a.flushSync&&d(new TE)},[a]),b.useEffect(()=>{if(c&&s&&e.window){let E=s,T=c.promise,k=e.window.document.startViewTransition(async()=>{b.startTransition(()=>w(E)),await T});k.finished.finally(()=>{d(void 0),h(void 0),o(void 0),l({isTransitioning:!1})}),h(k)}},[s,c,e.window,w]),b.useEffect(()=>{c&&s&&n.location.key===s.location.key&&c.resolve()},[c,f,n.location,s]),b.useEffect(()=>{!a.isTransitioning&&m&&(o(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[a.isTransitioning,m]);let p=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:E=>e.navigate(E),push:(E,T,k)=>e.navigate(E,{state:T,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(E,T,k)=>e.navigate(E,{replace:!0,state:T,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[e]),v=e.basename||"/",_=b.useMemo(()=>({router:e,navigator:p,static:!1,basename:v,unstable_onError:r}),[e,p,v,r]);return b.createElement(b.Fragment,null,b.createElement(Qn.Provider,{value:_},b.createElement(Mo.Provider,{value:n},b.createElement(jx.Provider,{value:x.current},b.createElement(Hf.Provider,{value:a},b.createElement(OE,{basename:v,location:n.location,navigationType:n.historyAction,navigator:p},b.createElement(PE,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var PE=b.memo(AE);function AE({routes:e,future:t,state:r,unstable_onError:n}){return pE(e,void 0,r,n,t)}function ME({to:e,replace:t,state:r,relative:n}){se(es(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(er);Ie(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(Vt),{pathname:o}=yn(),a=Mr(),l=ql(e,Kl(s),o,n==="path"),c=JSON.stringify(l);return b.useEffect(()=>{a(JSON.parse(c),{replace:t,state:r,relative:n})},[a,c,n,t,r]),null}function IE(e){return hE(e.context)}function OE({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){se(!es(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=b.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=gn(r));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,m=b.useMemo(()=>{let y=zt(l,o);return y==null?null:{location:{pathname:y,search:c,hash:d,state:f,key:h},navigationType:n}},[o,l,c,d,f,h,n]);return Ie(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(er.Provider,{value:a},b.createElement(Yl.Provider,{children:t,value:m}))}var $a="get",Ua="application/x-www-form-urlencoded";function Jl(e){return e!=null&&typeof e.tagName=="string"}function LE(e){return Jl(e)&&e.tagName.toLowerCase()==="button"}function DE(e){return Jl(e)&&e.tagName.toLowerCase()==="form"}function FE(e){return Jl(e)&&e.tagName.toLowerCase()==="input"}function $E(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UE(e,t){return e.button===0&&(!t||t==="_self")&&!$E(e)}var ya=null;function zE(){if(ya===null)try{new FormData(document.createElement("form"),0),ya=!1}catch{ya=!0}return ya}var VE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qc(e){return e!=null&&!VE.has(e)?(Ie(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ua}"`),null):e}function BE(e,t){let r,n,i,s,o;if(DE(e)){let a=e.getAttribute("action");n=a?zt(a,t):null,r=e.getAttribute("method")||$a,i=Qc(e.getAttribute("enctype"))||Ua,s=new FormData(e)}else if(LE(e)||FE(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(n=l?zt(l,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||$a,i=Qc(e.getAttribute("formenctype"))||Qc(a.getAttribute("enctype"))||Ua,s=new FormData(a,e),!zE()){let{name:c,type:d,value:f}=e;if(d==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(Jl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=$a,n=null,i=Ua,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qf(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function HE(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&zt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function GE(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function KE(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await GE(s,r);return o.links?o.links():[]}return[]}));return QE(n.flat(1).filter(WE).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ip(e,t,r,n,i,s){let o=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,a=(l,c)=>{var d;return r[c].pathname!==l.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{var f;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function qE(e,t,{includeHydrateFallback:r}={}){return YE(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function YE(e){return[...new Set(e)]}function JE(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function QE(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(JE(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function Rx(){let e=b.useContext(Qn);return qf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function XE(){let e=b.useContext(Mo);return qf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Yf=b.createContext(void 0);Yf.displayName="FrameworkContext";function Px(){let e=b.useContext(Yf);return qf(e,"You must render this element inside a <HydratedRouter> element"),e}function ZE(e,t){let r=b.useContext(Yf),[n,i]=b.useState(!1),[s,o]=b.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,h=b.useRef(null);b.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=g=>{g.forEach(p=>{o(p.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),b.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{i(!0)},y=()=>{i(!1),o(!1)};return r?e!=="intent"?[s,h,{}]:[s,h,{onFocus:xs(a,m),onBlur:xs(l,y),onMouseEnter:xs(c,m),onMouseLeave:xs(d,y),onTouchStart:xs(f,m)}]:[!1,h,{}]}function xs(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function ej({page:e,...t}){let{router:r}=Rx(),n=b.useMemo(()=>Kr(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(rj,{page:e,matches:n,...t}):null}function tj(e){let{manifest:t,routeModules:r}=Px(),[n,i]=b.useState([]);return b.useEffect(()=>{let s=!1;return KE(e,t,r).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,r]),n}function rj({page:e,matches:t,...r}){let n=yn(),{manifest:i,routeModules:s}=Px(),{basename:o}=Rx(),{loaderData:a,matches:l}=XE(),c=b.useMemo(()=>Ip(e,t,l,i,n,"data"),[e,t,l,i,n]),d=b.useMemo(()=>Ip(e,t,l,i,n,"assets"),[e,t,l,i,n]),f=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,x=!1;if(t.forEach(g=>{var v;let p=i.routes[g.route.id];!p||!p.hasLoader||(!c.some(_=>_.route.id===g.route.id)&&g.route.id in a&&((v=s[g.route.id])!=null&&v.shouldRevalidate)||p.hasClientLoader?x=!0:y.add(g.route.id))}),y.size===0)return[];let w=HE(e,o,"data");return x&&y.size>0&&w.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[o,a,n,i,c,t,e,s]),h=b.useMemo(()=>qE(d,i),[d,i]),m=tj(d);return b.createElement(b.Fragment,null,f.map(y=>b.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),h.map(y=>b.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:x})=>b.createElement("link",{key:y,nonce:r.nonce,...x})))}function nj(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ax&&(window.__reactRouterVersion="7.9.6")}catch{}function ij(e,t){return U_({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:e_({window:t==null?void 0:t.window}),hydrationData:sj(),routes:e,mapRouteProperties:CE,hydrationRouteProperties:NE,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function sj(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:oj(e.errors)}),e}function oj(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new gl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}var Mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ix=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...h},m){let{basename:y}=b.useContext(er),x=typeof c=="string"&&Mx.test(c),w,g=!1;if(typeof c=="string"&&x&&(w=c,Ax))try{let I=new URL(window.location.href),P=c.startsWith("//")?new URL(I.protocol+c):new URL(c),D=zt(P.pathname,y);P.origin===I.origin&&D!=null?c=D+P.search+P.hash:g=!0}catch{Ie(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=uE(c,{relative:i}),[v,_,E]=ZE(n,h),T=uj(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function k(I){t&&t(I),I.defaultPrevented||T(I)}let C=b.createElement("a",{...h,...E,href:w||p,onClick:g||s?t:k,ref:nj(m,_),target:l,"data-discover":!x&&r==="render"?"true":void 0});return v&&!x?b.createElement(b.Fragment,null,C,b.createElement(ej,{page:p})):C});Ix.displayName="Link";var aj=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let f=Io(o,{relative:c.relative}),h=yn(),m=b.useContext(Mo),{navigator:y,basename:x}=b.useContext(er),w=m!=null&&pj(f)&&a===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,p=h.pathname,v=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(p=p.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&x&&(v=zt(v,x)||v);const _=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=p===g||!i&&p.startsWith(g)&&p.charAt(_)==="/",T=v!=null&&(v===g||!i&&v.startsWith(g)&&v.charAt(g.length)==="/"),k={isActive:E,isPending:T,isTransitioning:w},C=E?t:void 0,I;typeof n=="function"?I=n(k):I=[n,E?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(k):s;return b.createElement(Ix,{...c,"aria-current":C,className:I,ref:d,style:P,to:o,viewTransition:a},typeof l=="function"?l(k):l)});aj.displayName="NavLink";var lj=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:o=$a,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...h},m)=>{let y=hj(),x=mj(a,{relative:c}),w=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&Mx.test(a),p=v=>{if(l&&l(v),v.defaultPrevented)return;v.preventDefault();let _=v.nativeEvent.submitter,E=(_==null?void 0:_.getAttribute("formmethod"))||o;y(_||v.currentTarget,{fetcherKey:t,method:E,navigate:r,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:f})};return b.createElement("form",{ref:m,method:w,action:x,onSubmit:n?l:p,...h,"data-discover":!g&&e==="render"?"true":void 0})});lj.displayName="Form";function cj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ox(e){let t=b.useContext(Qn);return se(t,cj(e)),t}function uj(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Mr(),l=yn(),c=Io(e,{relative:s});return b.useCallback(d=>{if(UE(d,t)){d.preventDefault();let f=r!==void 0?r:dr(l)===dr(c);a(e,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,r,n,t,e,i,s,o])}var dj=0,fj=()=>`__${String(++dj)}__`;function hj(){let{router:e}=Ox("useSubmit"),{basename:t}=b.useContext(er),r=_E();return b.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=BE(n,t);if(i.navigate===!1){let d=i.fetcherKey||fj();await e.fetch(d,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function mj(e,{relative:t}={}){let{basename:r}=b.useContext(er),n=b.useContext(Vt);se(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Io(e||".",{relative:t})},o=yn();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:lr([r,s.pathname])),dr(s)}function pj(e,{relative:t}={}){let r=b.useContext(Hf);se(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Ox("useViewTransitionState"),i=Io(e,{relative:t});if(!r.isTransitioning)return!1;let s=zt(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=zt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return pl(i.pathname,o)!=null||pl(i.pathname,s)!=null}function gj(e){return b.createElement(RE,{flushSync:lx.flushSync,...e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>b.createElement("svg",{ref:d,...yj,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${vj(e)}`,a].join(" "),...c},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=X("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=X("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=X("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=X("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=X("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=X("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=X("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=X("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=X("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=X("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=X("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=X("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=X("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Fx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Fx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Vj(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Fx(e))&&(n&&(n+=" "),n+=t);return n}const Qf="-",Bj=e=>{const t=Gj(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(Qf);return a[0]===""&&a.length!==1&&a.shift(),$x(a,t)||Hj(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},$x=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?$x(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Qf);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Up=/^\[(.+)\]$/,Hj=e=>{if(Up.test(e)){const t=Up.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Gj=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Kj(Object.entries(e.classGroups),r).forEach(([s,o])=>{yd(o,n,s,t)}),n},yd=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:zp(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(Wj(i)){yd(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{yd(o,zp(t,s),r,n)})})},zp=(e,t)=>{let r=e;return t.split(Qf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Wj=e=>e.isThemeGetter,Kj=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[t+o,a])):s);return[r,i]}):e,qj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},Ux="!",Yj=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=a=>{const l=[];let c=0,d=0,f;for(let w=0;w<a.length;w++){let g=a[w];if(c===0){if(g===i&&(n||a.slice(w,w+s)===t)){l.push(a.slice(d,w)),d=w+s;continue}if(g==="/"){f=w;continue}}g==="["?c++:g==="]"&&c--}const h=l.length===0?a:a.substring(d),m=h.startsWith(Ux),y=m?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}};return r?a=>r({className:a,parseClassName:o}):o},Jj=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Qj=e=>({cache:qj(e.cacheSize),parseClassName:Yj(e),...Bj(e)}),Xj=/\s+/,Zj=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(Xj);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(c);let y=!!m,x=n(y?h.substring(0,m):h);if(!x){if(!y){a=c+(a.length>0?" "+a:a);continue}if(x=n(h),!x){a=c+(a.length>0?" "+a:a);continue}y=!1}const w=Jj(d).join(":"),g=f?w+Ux:w,p=g+x;if(s.includes(p))continue;s.push(p);const v=i(x,y);for(let _=0;_<v.length;++_){const E=v[_];s.push(g+E)}a=c+(a.length>0?" "+a:a)}return a};function eC(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=zx(t))&&(n&&(n+=" "),n+=r);return n}const zx=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=zx(e[n]))&&(r&&(r+=" "),r+=t);return r};function tC(e,...t){let r,n,i,s=o;function o(l){const c=t.reduce((d,f)=>f(d),e());return r=Qj(c),n=r.cache.get,i=r.cache.set,s=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=Zj(l,r);return i(l,d),d}return function(){return s(eC.apply(null,arguments))}}const be=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Vx=/^\[(?:([a-z-]+):)?(.+)\]$/i,rC=/^\d+\/\d+$/,nC=new Set(["px","full","screen"]),iC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gr=e=>Oi(e)||nC.has(e)||rC.test(e),Lr=e=>ts(e,"length",gC),Oi=e=>!!e&&!Number.isNaN(Number(e)),Zc=e=>ts(e,"number",Oi),ws=e=>!!e&&Number.isInteger(Number(e)),cC=e=>e.endsWith("%")&&Oi(e.slice(0,-1)),re=e=>Vx.test(e),Dr=e=>iC.test(e),uC=new Set(["length","size","percentage"]),dC=e=>ts(e,uC,Bx),fC=e=>ts(e,"position",Bx),hC=new Set(["image","url"]),mC=e=>ts(e,hC,vC),pC=e=>ts(e,"",yC),bs=()=>!0,ts=(e,t,r)=>{const n=Vx.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},gC=e=>sC.test(e)&&!oC.test(e),Bx=()=>!1,yC=e=>aC.test(e),vC=e=>lC.test(e),xC=()=>{const e=be("colors"),t=be("spacing"),r=be("blur"),n=be("brightness"),i=be("borderColor"),s=be("borderRadius"),o=be("borderSpacing"),a=be("borderWidth"),l=be("contrast"),c=be("grayscale"),d=be("hueRotate"),f=be("invert"),h=be("gap"),m=be("gradientColorStops"),y=be("gradientColorStopPositions"),x=be("inset"),w=be("margin"),g=be("opacity"),p=be("padding"),v=be("saturate"),_=be("scale"),E=be("sepia"),T=be("skew"),k=be("space"),C=be("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",re,t],A=()=>[re,t],te=()=>["",gr,Lr],ue=()=>["auto",Oi,re],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],oe=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",re],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Oi,re];return{cacheSize:500,separator:":",theme:{colors:[bs],spacing:[gr,Lr],blur:["none","",Dr,re],brightness:q(),borderColor:[e],borderRadius:["none","","full",Dr,re],borderSpacing:A(),borderWidth:te(),contrast:q(),grayscale:O(),hueRotate:q(),invert:O(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[cC,Lr],inset:D(),margin:D(),opacity:q(),padding:A(),saturate:q(),scale:q(),sepia:O(),skew:q(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[Dr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),re]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ws,re]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",ws,re]}],"grid-cols":[{"grid-cols":[bs]}],"col-start-end":[{col:["auto",{span:["full",ws,re]},re]}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":[bs]}],"row-start-end":[{row:["auto",{span:[ws,re]},re]}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,t]}],"min-w":[{"min-w":[re,t,"min","max","fit"]}],"max-w":[{"max-w":[re,t,"none","full","min","max","fit","prose",{screen:[Dr]},Dr]}],h:[{h:[re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dr,Lr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zc]}],"font-family":[{font:[bs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",Oi,Zc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gr,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gr,Lr]}],"underline-offset":[{"underline-offset":["auto",gr,re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),fC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...oe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:oe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...oe()]}],"outline-offset":[{"outline-offset":[gr,re]}],"outline-w":[{outline:[gr,Lr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[gr,Lr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dr,pC]}],"shadow-color":[{shadow:[bs]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Dr,re]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ws,re]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[gr,Lr,Zc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wC=tC(xC);function me(...e){return wC(Vj(e))}const bC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},Vp=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(y=>y(t,m))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(bC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,i,l);return l},kC=e=>e?Vp(e):Vp;var Hx={exports:{}},Gx={},Wx={exports:{}},Kx={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=b;function SC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _C=typeof Object.is=="function"?Object.is:SC,EC=Gi.useState,jC=Gi.useEffect,CC=Gi.useLayoutEffect,NC=Gi.useDebugValue;function TC(e,t){var r=t(),n=EC({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return CC(function(){i.value=r,i.getSnapshot=t,eu(i)&&s({inst:i})},[e,r,t]),jC(function(){return eu(i)&&s({inst:i}),e(function(){eu(i)&&s({inst:i})})},[e]),NC(r),r}function eu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_C(e,r)}catch{return!0}}function RC(e,t){return t()}var PC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RC:TC;Kx.useSyncExternalStore=Gi.useSyncExternalStore!==void 0?Gi.useSyncExternalStore:PC;Wx.exports=Kx;var AC=Wx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=b,MC=AC;function IC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OC=typeof Object.is=="function"?Object.is:IC,LC=MC.useSyncExternalStore,DC=tc.useRef,FC=tc.useEffect,$C=tc.useMemo,UC=tc.useDebugValue;Gx.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=DC(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=$C(function(){function l(m){if(!c){if(c=!0,d=m,m=n(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return f=y}return f=m}if(y=f,OC(d,m))return y;var x=n(m);return i!==void 0&&i(y,x)?y:(d=m,f=x)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var a=LC(e,s[0],s[1]);return FC(function(){o.hasValue=!0,o.value=a},[a]),UC(a),a};Hx.exports=Gx;var zC=Hx.exports;const VC=q0(zC),qx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},{useDebugValue:BC}=Yd,{useSyncExternalStoreWithSelector:HC}=VC;let Bp=!1;const GC=e=>e;function WC(e,t=GC,r){(qx?"production":void 0)!=="production"&&r&&!Bp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Bp=!0);const n=HC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return BC(n),n}const Hp=e=>{(qx?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?kC(e):e,r=(n,i)=>WC(t,n,i);return Object.assign(r,t),r},xn=e=>e?Hp(e):Hp,KC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"};function qC(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const xo=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return xo(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return xo(n)(r)}}}},YC=(e,t)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,g)=>({...g,...w}),...t},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...w)},n,i);const d=xo(s.serialize),f=()=>{const w=s.partialize({...n()});let g;const p=d({state:w,version:s.version}).then(v=>c.setItem(s.name,v)).catch(v=>{g=v});if(g)throw g;return p},h=i.setState;i.setState=(w,g)=>{h(w,g),f()};const m=e((...w)=>{r(...w),f()},n,i);let y;const x=()=>{var w;if(!c)return;o=!1,a.forEach(p=>p(n()));const g=((w=s.onRehydrateStorage)==null?void 0:w.call(s,n()))||void 0;return xo(c.getItem.bind(c))(s.name).then(p=>{if(p)return s.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==s.version){if(s.migrate)return s.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var v;return y=s.merge(p,(v=n())!=null?v:m),r(y,!0),f()}).then(()=>{g==null||g(y,void 0),o=!0,l.forEach(p=>p(y))}).catch(p=>{g==null||g(void 0,p)})};return i.persist={setOptions:w=>{s={...s,...w},w.getStorage&&(c=w.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},x(),y||m},JC=(e,t)=>(r,n,i)=>{let s={storage:qC(()=>localStorage),partialize:x=>x,version:0,merge:(x,w)=>({...w,...x}),...t},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...x)},n,i);const d=()=>{const x=s.partialize({...n()});return c.setItem(s.name,{state:x,version:s.version})},f=i.setState;i.setState=(x,w)=>{f(x,w),d()};const h=e((...x)=>{r(...x),d()},n,i);i.getInitialState=()=>h;let m;const y=()=>{var x,w;if(!c)return;o=!1,a.forEach(p=>{var v;return p((v=n())!=null?v:h)});const g=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(x=n())!=null?x:h))||void 0;return xo(c.getItem.bind(c))(s.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==s.version){if(s.migrate)return[!0,s.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var v;const[_,E]=p;if(m=s.merge(E,(v=n())!=null?v:h),r(m,!0),_)return d()}).then(()=>{g==null||g(m,void 0),m=n(),o=!0,l.forEach(p=>p(m))}).catch(p=>{g==null||g(void 0,p)})};return i.persist={setOptions:x=>{s={...s,...x},x.storage&&(c=x.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},s.skipHydration||y(),m||h},QC=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((KC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),YC(e,t)):JC(e,t),rc=QC,XC="modulepreload",ZC=function(e){return"/"+e},Gp={},Wi=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=ZC(l),l in Gp)return;Gp[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":XC,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},eN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wi(async()=>{const{default:n}=await Promise.resolve().then(()=>rs);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class tN extends Xf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rN extends Xf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nN extends Xf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vd||(vd={}));var iN=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class sN{constructor(t,{headers:r={},customFetch:n,region:i=vd.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=eN(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return iN(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(y=>{throw new tN(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new rN(d);if(!d.ok)throw new nN(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(i){return{data:null,error:i}}})}}var mt={},Zf={},nc={},Do={},ic={},sc={},oN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ki=oN();const aN=Ki.fetch,Yx=Ki.fetch.bind(Ki),Jx=Ki.Headers,lN=Ki.Request,cN=Ki.Response,rs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jx,Request:lN,Response:cN,default:Yx,fetch:aN},Symbol.toStringTag,{value:"Module"})),uN=C1(rs);var oc={};Object.defineProperty(oc,"__esModule",{value:!0});let dN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};oc.default=dN;var Qx=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sc,"__esModule",{value:!0});const fN=Qx(uN),hN=Qx(oc);let mN=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=fN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await s.text();try{c=JSON.parse(x),Array.isArray(c)&&s.status===404&&(d=[],c=null,h=200,m="OK")}catch{s.status===404&&x===""?(h=204,m="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new hN.default(c)}return{error:c,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};sc.default=mN;var pN=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ic,"__esModule",{value:!0});const gN=pN(sc);let yN=class extends gN.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ic.default=yN;var vN=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Do,"__esModule",{value:!0});const xN=vN(ic);let wN=class extends xN.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Do.default=wN;var bN=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nc,"__esModule",{value:!0});const ks=bN(Do);let kN=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new ks.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ks.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ks.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new ks.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ks.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};nc.default=kN;var ac={},lc={};Object.defineProperty(lc,"__esModule",{value:!0});lc.version=void 0;lc.version="0.0.0-automated";Object.defineProperty(ac,"__esModule",{value:!0});ac.DEFAULT_HEADERS=void 0;const SN=lc;ac.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${SN.version}`};var Xx=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zf,"__esModule",{value:!0});const _N=Xx(nc),EN=Xx(Do),jN=ac;let CN=class Zx{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},jN.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new _N.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Zx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=r);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new EN.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Zf.default=CN;var ns=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mt,"__esModule",{value:!0});mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const ew=ns(Zf);mt.PostgrestClient=ew.default;const tw=ns(nc);mt.PostgrestQueryBuilder=tw.default;const rw=ns(Do);mt.PostgrestFilterBuilder=rw.default;const nw=ns(ic);mt.PostgrestTransformBuilder=nw.default;const iw=ns(sc);mt.PostgrestBuilder=iw.default;const sw=ns(oc);mt.PostgrestError=sw.default;var NN=mt.default={PostgrestClient:ew.default,PostgrestQueryBuilder:tw.default,PostgrestFilterBuilder:rw.default,PostgrestTransformBuilder:nw.default,PostgrestBuilder:iw.default,PostgrestError:sw.default};const{PostgrestClient:TN,PostgrestQueryBuilder:WO,PostgrestFilterBuilder:KO,PostgrestTransformBuilder:qO,PostgrestBuilder:YO,PostgrestError:JO}=NN,RN="2.11.2",PN={"X-Client-Info":`realtime-js/${RN}`},AN="1.0.0",ow=1e4,MN=1e3;var Li;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Li||(Li={}));var xt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xt||(xt={}));var qt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qt||(qt={}));var xd;(function(e){e.websocket="websocket"})(xd||(xd={}));var Mn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mn||(Mn={}));class IN{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class aw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ye||(ye={}));const Wp=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=ON(o,e,t,i),s),{})},ON=(e,t,r,n)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?lw(s,o):wd(o)},lw=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $N(t,r)}switch(e){case ye.bool:return LN(t);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return DN(t);case ye.json:case ye.jsonb:return FN(t);case ye.timestamp:return UN(t);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return wd(t);default:return wd(t)}},wd=e=>e,LN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},FN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$N=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>lw(t,a))}return e},UN=e=>typeof e=="string"?e.replace(" ","T"):e,cw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class tu{constructor(t,r,n={},i=ow){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kp||(Kp={}));class Bs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Bs.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bs.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(s,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=s[c];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),y=d.filter(w=>m.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(a[c]=y),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qp||(qp={}));var Yp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yp||(Yp={}));var wr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class eh{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new tu(this,qt.join,this.params,this.timeout),this.rejoinTimer=new aw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Bs(this),this.broadcastEndpointURL=cw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(wr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(wr.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(wr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let x=0;x<m;x++){const w=h[x],{filter:{event:g,schema:p,table:v,filter:_}}=w,E=d&&d[x];if(E&&E.event===g&&E.schema===p&&E.table===v&&E.filter===_)y.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),t==null||t(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(wr.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new tu(this,qt.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new tu(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=qt;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,x,w;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var y,x,w,g,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,E=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:x,table:w,commit_timestamp:g,type:p,errors:v}=y;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&eh.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qt.close,{},t)}_onError(t){this._on(qt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Wp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Wp(t.columns,t.old_record)),r}}const zN=()=>{},VN=typeof WebSocket<"u",BN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HN{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=PN,this.params={},this.timeout=ow,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zN,this.conn=null,this.sendBuffer=[],this.serializer=new IN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Wi(async()=>{const{default:l}=await Promise.resolve().then(()=>rs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${xd.websocket}`,this.httpEndpoint=cw(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new aw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(VN){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new GN(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Wi(async()=>{const{default:t}=await import("./browser-BjkTdFq4.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AN}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Li.connecting:return Mn.Connecting;case Li.open:return Mn.Open;case Li.closing:return Mn.Closing;default:return Mn.Closed}}isConnected(){return this.connectionState()===Mn.Open}channel(t,r={config:{}}){const n=new eh(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(qt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(MN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(qt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([BN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class GN{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Li.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class th extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WN extends th{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bd extends th{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var KN=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const uw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wi(async()=>{const{default:n}=await Promise.resolve().then(()=>rs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qN=()=>KN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wi(()=>Promise.resolve().then(()=>rs),void 0)).Response:Response}),kd=e=>{if(Array.isArray(e))return e.map(r=>kd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=kd(n)}),t};var Xn=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const ru=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YN=(e,t,r)=>Xn(void 0,void 0,void 0,function*(){const n=yield qN();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new WN(ru(i),e.status||500))}).catch(i=>{t(new bd(ru(i),i))}):t(new bd(ru(e),e))}),JN=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Fo(e,t,r,n,i,s){return Xn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,JN(t,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>YN(l,a,n))})})}function xl(e,t,r,n){return Xn(this,void 0,void 0,function*(){return Fo(e,"GET",t,r,n)})}function Br(e,t,r,n,i){return Xn(this,void 0,void 0,function*(){return Fo(e,"POST",t,n,i,r)})}function QN(e,t,r,n,i){return Xn(this,void 0,void 0,function*(){return Fo(e,"PUT",t,n,i,r)})}function XN(e,t,r,n){return Xn(this,void 0,void 0,function*(){return Fo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function dw(e,t,r,n,i){return Xn(this,void 0,void 0,function*(){return Fo(e,"DELETE",t,n,i,r)})}var ft=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const ZN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eT{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=uw(i)}uploadOrUpdate(t,r,n,i){return ft(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Jp),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}upload(t,r,n){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ft(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Jp.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return ft(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Br(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new th("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}update(t,r,n){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ft(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ft(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Br(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ft(this,void 0,void 0,function*(){try{const i=yield Br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}download(t,r){return ft(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield xl(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}info(t){return ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield xl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:kd(n),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}exists(t){return ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield XN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Be(n)&&n instanceof bd){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return ft(this,void 0,void 0,function*(){try{return{data:yield dw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}list(t,r,n){return ft(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ZN),r),{prefix:t||""});return{data:yield Br(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const tT="2.7.1",rT={"X-Client-Info":`storage-js/${tT}`};var ii=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class nT{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},rT),r),this.fetch=uw(n)}listBuckets(){return ii(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Be(t))return{data:null,error:t};throw t}})}getBucket(t){return ii(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ii(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ii(this,void 0,void 0,function*(){try{return{data:yield QN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ii(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ii(this,void 0,void 0,function*(){try{return{data:yield dw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}}class iT extends nT{constructor(t,r={},n){super(t,r,n)}from(t){return new eT(this.url,this.headers,t,this.fetch)}}const sT="2.49.1";let Rs="";typeof Deno<"u"?Rs="deno":typeof document<"u"?Rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rs="react-native":Rs="node";const oT={"X-Client-Info":`supabase-js-${Rs}/${sT}`},aT={headers:oT},lT={schema:"public"},cT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uT={};var dT=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const fT=e=>{let t;return e?t=e:typeof fetch>"u"?t=Yx:t=fetch,(...r)=>t(...r)},hT=()=>typeof Headers>"u"?Jx:Headers,mT=(e,t,r)=>{const n=fT(r),i=hT();return(s,o)=>dT(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:c}))})};var pT=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function gT(e){return e.replace(/\/$/,"")}function yT(e,t){const{db:r,auth:n,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>pT(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const fw="2.68.0",ci=30*1e3,Sd=3,nu=Sd*ci,vT="http://localhost:9999",xT="supabase.auth.token",wT={"X-Client-Info":`gotrue-js/${fw}`},_d="X-Supabase-Api-Version",hw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function bT(e){return Math.round(Date.now()/1e3)+e}function kT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const nr=()=>typeof window<"u"&&typeof document<"u",jn={tested:!1,writable:!1},Hs=()=>{if(!nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jn.tested)return jn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),jn.tested=!0,jn.writable=!0}catch{jn.tested=!0,jn.writable=!1}return jn.writable};function ST(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const mw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wi(async()=>{const{default:n}=await Promise.resolve().then(()=>rs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_T=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pw=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},va=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xa=async(e,t)=>{await e.removeItem(t)};function ET(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,s,o,a,l,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),n=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&i!=0&&(r=r+String.fromCharCode(i)),c!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class cc{constructor(){this.promise=new cc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}cc.promiseConstructor=Promise;function Qp(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(ET(n))}async function jT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function CT(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function NT(e){return("0"+e.toString(16)).substr(-2)}function TT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,NT).join("")}async function RT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function PT(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function AT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await RT(e);return PT(r)}async function si(e,t,r=!1){const n=TT();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await pw(e,`${t}-code-verifier`,i);const s=await AT(n);return[s,n===s?"plain":"s256"]}const MT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IT(e){const t=e.headers.get(_d);if(!t||!t.match(MT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class rh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class OT extends rh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function LT(e){return ne(e)&&e.name==="AuthApiError"}class gw extends rh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Zn extends rh{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Fr extends Zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DT(e){return ne(e)&&e.name==="AuthSessionMissingError"}class iu extends Zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wa extends Zn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ba extends Zn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FT(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xp extends Zn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ed extends Zn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function su(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class Zp extends Zn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var $T=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UT=[502,503,504];async function eg(e){var t;if(!_T(e))throw new Ed(Rn(e),0);if(UT.includes(e.status))throw new Ed(Rn(e),e.status);let r;try{r=await e.json()}catch(s){throw new gw(Rn(s),s)}let n;const i=IT(e);if(i&&i.getTime()>=hw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zp(Rn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Fr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Zp(Rn(r),e.status,r.weak_password.reasons);throw new OT(Rn(r),e.status||500,n)}const zT=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function le(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[_d]||(s[_d]=hw["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await VT(e,t,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function VT(e,t,r,n,i,s){const o=zT(t,n,i,s);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Ed(Rn(l),0)}if(a.ok||await eg(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await eg(l)}}function $r(e){var t;let r=null;WT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=bT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function tg(e){const t=$r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function BT(e){return{data:e,error:null}}function HT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=$T(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function GT(e){return e}function WT(e){return e.access_token&&e.refresh_token&&e.expires_in}var KT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class qT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=mw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=KT(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:HT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:GT});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ne(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yr})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Yr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}}const YT={getItem:e=>Hs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Hs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Hs()&&globalThis.localStorage.removeItem(e)}};function rg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function JT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const oi={debug:!!(globalThis&&Hs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class QT extends yw{}async function XT(e,t,r){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oi.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}JT();const ZT={url:vT,storageKey:xT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ng(e,t,r){return await r()}class wo{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wo.nextInstanceID,wo.nextInstanceID+=1,this.instanceID>0&&nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ZT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new qT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=mw(i.fetch),this.lock=i.lock||ng,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:nr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=XT:this.lock=ng,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Hs()?this.storage=YT:(this.memoryStorage={},this.storage=rg(this.memoryStorage)):(this.memoryStorage={},this.storage=rg(this.memoryStorage)),nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ST(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),nr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),FT(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?{error:r}:{error:new gw("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:$r}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await si(this.storage,this.storageKey)),s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:$r})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$r})}else throw new wa("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:a}=t;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tg})}else if("phone"in t){const{phone:s,password:o,options:a}=t;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tg})}else throw new wa("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new iu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await va(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:$r});if(await xa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new iu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(ne(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,a=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$r}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new iu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await si(this.storage,this.storageKey));const{error:f}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new wa("You must provide either an email or phone number.")}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:$r});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await si(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:BT})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Fr;const{error:i}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await le(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:a}=await le(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new wa("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<nu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yr}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fr}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Yr})})}catch(r){if(ne(r))return DT(r)&&(await this._removeSession(),await xa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Fr;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await si(this.storage,this.storageKey));const{data:c,error:d}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Yr});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Qp(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fr;const r=Date.now()/1e3;let n=r,i=!0,s=null;const o=Qp(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(ne(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Fr;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!nr())throw new ba("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ba(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ba("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xp("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new ba("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(ne(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await va(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(LT(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await xa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=kT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await si(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,c,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return nr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ne(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await CT(async i=>(i>0&&await jT(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$r})),(i,s)=>{const o=200*Math.pow(2,i);return s&&su(s)&&Date.now()+o-n<ci})}catch(n){if(this._debug(r,"error",n),ne(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),nr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await va(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<nu;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${nu}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),su(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Fr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new cc;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Fr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ne(s)){const o={session:null,error:s};return su(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pw(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await xa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ci);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ci}ms, refresh threshold is ${Sd} ticks`),i<=Sd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await si(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await le(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}wo.nextInstanceID=0;const eR=wo;class tR extends eR{constructor(t){super(t)}}var rR=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class nR{constructor(t,r,n){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=gT(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:lT,realtime:uT,auth:Object.assign(Object.assign({},cT),{storageKey:l}),global:aT},d=yT(n??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=mT(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new TN(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new sN(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new iT(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return rR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tR({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new HN(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iR=(e,t,r)=>new nR(e,t,r),sR="https://ptmfcodrlfufrzkxrtxg.supabase.co",oR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",Q=iR(sR,oR),wl=new Map,nh=new Map;let aR=1;function ih(e){var i,s;let t=wl.get(e.id);t||(t=aR++,wl.set(e.id,t),nh.set(t,e.id));const r=e.reviews||[],n=r.length>0?r.reduce((o,a)=>o+a.rating,0)/r.length:0;return{id:t,title:e.title,description:e.description,image:e.image,prepTime:e.prep_time,difficulty:e.difficulty,rating:Number(n.toFixed(1)),category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutritionFacts:{calories:Number(e.nutrition_facts.calories),protein:Number(e.nutrition_facts.protein),carbs:Number(e.nutrition_facts.carbs),fat:Number(e.nutrition_facts.fat),fiber:Number(e.nutrition_facts.fiber)},reviews:r.map(o=>({id:o.id,userId:o.user_id,userName:o.profiles.full_name,rating:o.rating,comment:o.comment||"",date:new Date(o.created_at).toISOString().split("T")[0]})),authorId:e.author_id,authorName:(i=e.profiles)==null?void 0:i.full_name,authorType:(s=e.profiles)==null?void 0:s.user_type,createdAt:e.created_at,updatedAt:e.updated_at}}function $o(e){return nh.get(e)||null}async function ig(e){console.log("Getting user profile for ID:",e);const{data:t,error:r}=await Q.from("profiles").select("*").eq("id",e).single();if(r)throw console.error("Error getting user profile:",r),r;return console.log("User profile retrieved:",t),t}async function lR(e){console.log("Creating recipe:",e);const{data:t,error:r}=await Q.from("recipes").insert([{title:e.title,description:e.description,image:e.image,prep_time:e.prepTime,difficulty:e.difficulty,category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutrition_facts:{calories:Number(e.nutritionFacts.calories),protein:Number(e.nutritionFacts.protein),carbs:Number(e.nutritionFacts.carbs),fat:Number(e.nutritionFacts.fat),fiber:Number(e.nutritionFacts.fiber)},author_id:e.authorId}]).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(r)throw console.error("Error creating recipe:",r),r;return console.log("Recipe created successfully:",t),ih(t)}async function cR(e,t){const r=$o(e);if(!r)throw new Error("Receita no encontrada");const{data:n,error:i}=await Q.from("recipes").update({title:t.title,description:t.description,image:t.image,prep_time:t.prepTime,difficulty:t.difficulty,category:t.category,ingredients:t.ingredients,instructions:t.instructions,nutrition_facts:t.nutritionFacts?{calories:Number(t.nutritionFacts.calories),protein:Number(t.nutritionFacts.protein),carbs:Number(t.nutritionFacts.carbs),fat:Number(t.nutritionFacts.fat),fiber:Number(t.nutritionFacts.fiber)}:void 0}).eq("id",r).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(i)throw i;return ih(n)}async function uR(e){const t=$o(e);if(!t)throw new Error("Receita no encontrada");const{error:r}=await Q.from("recipes").delete().eq("id",t);if(r)throw r;wl.delete(t),nh.delete(e)}async function dR(){console.log("Fetching recipes from Supabase...");const{data:e,error:t}=await Q.from("recipes").select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),t;if(console.log("Raw recipes from database:",(e==null?void 0:e.length)||0),!e||e.length===0)return console.log("No recipes found in database"),[];const r=e.map(ih);return console.log("Converted recipes:",r.length),r}async function fR(e,t){const r=$o(e);if(!r)throw new Error("Receita no encontrada");console.log("Adding review to recipe:",{recipeId:e,uuid:r,review:t});const{data:n,error:i}=await Q.from("reviews").insert([{recipe_id:r,user_id:t.user_id,rating:t.rating,comment:t.comment}]).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(i)throw console.error("Error adding review:",i),i;return console.log("Review added successfully:",n),n}async function hR(e,t){console.log("Updating review:",{reviewId:e,updates:t});const{data:r,error:n}=await Q.from("reviews").update({rating:t.rating,comment:t.comment}).eq("id",e).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(n)throw console.error("Error updating review:",n),n;return console.log("Review updated successfully:",r),r}async function mR(e){console.log("Deleting review:",e);const{error:t}=await Q.from("reviews").delete().eq("id",e);if(t)throw console.error("Error deleting review:",t),t;console.log("Review deleted successfully")}async function pR(e,t){const r=$o(t);if(!r)throw new Error("Receita no encontrada");const{error:n}=await Q.from("favorites").insert([{user_id:e,recipe_id:r}]);if(n)throw console.error("Error adding to favorites:",n),n}async function gR(e,t){const r=$o(t);if(!r)throw new Error("Receita no encontrada");const{error:n}=await Q.from("favorites").delete().eq("user_id",e).eq("recipe_id",r);if(n)throw console.error("Error removing from favorites:",n),n}async function yR(e){console.log("Fetching favorites for user:",e);const{data:t,error:r}=await Q.from("favorites").select("recipe_id").eq("user_id",e);if(r)throw console.error("Error fetching favorites:",r),r;console.log("Raw favorites data:",t);const n=[];return t==null||t.forEach(i=>{const s=wl.get(i.recipe_id);s&&n.push(s)}),console.log("Converted favorite IDs:",n),n}async function vR(e){try{console.log("Checking if email exists:",e);const{data:t,error:r}=await Q.from("profiles").select("email").eq("email",e.toLowerCase().trim()).single();return r?r.code==="PGRST116"?(console.log("Email not found in profiles table"),!1):(console.error("Error checking email:",r),!1):(console.log("Email found in profiles table:",!!t),!!t)}catch(t){return console.error("Error checking email existence:",t),!1}}async function xR(e){console.log("Sending password reset email to:",e);const{error:t}=await Q.auth.resetPasswordForEmail(e.toLowerCase().trim(),{redirectTo:`${window.location.origin}/reset-password`});if(t)throw console.error("Error sending password reset email:",t),t.message.includes("Email rate limit exceeded")?new Error("Muitas tentativas de recuperao. Aguarde alguns minutos antes de tentar novamente."):t.message.includes("For security purposes")?new Error("Por motivos de segurana, aguarde alguns minutos antes de solicitar outro email."):t.message.includes("Invalid email")?new Error("Email invlido. Verifique o formato do email."):t.message.includes("User not found")?new Error("Email no encontrado. Verifique se o email est correto ou crie uma conta."):new Error("Erro ao enviar email de recuperao. Tente novamente em alguns minutos.");console.log("Password reset email sent successfully")}async function wR(e){console.log("Updating user password");const{error:t}=await Q.auth.updateUser({password:e});if(t)throw console.error("Error updating password:",t),t.message.includes("session_not_found")?new Error("Sesso expirada. Solicite um novo link de recuperao."):t.message.includes("same_password")?new Error("A nova senha deve ser diferente da senha atual."):t.message.includes("Password should be at least")?new Error("A senha deve ter pelo menos 6 caracteres."):new Error("Erro ao atualizar senha. Tente novamente.");console.log("Password updated successfully")}async function bR(){try{const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),r=e.get("type");if(!t||r!=="recovery")return{valid:!1};const{data:{user:n},error:i}=await Q.auth.getUser(t);if(i||!n)return console.error("Invalid recovery token:",i),{valid:!1};const{error:s}=await Q.auth.setSession({access_token:t,refresh_token:e.get("refresh_token")||""});return s?(console.error("Error setting session:",s),{valid:!1}):{valid:!0,user:n}}catch(e){return console.error("Error validating recovery token:",e),{valid:!1}}}const ie=xn(e=>({message:null,type:"info",showToast:(t,r)=>e({message:t,type:r}),hideToast:()=>e({message:null})})),vw=window.location.origin,kR=/webcontainer-api\.io|credentialless|\.local-credentialless\./.test(vw),SR=kR?"http://localhost:5173":vw;function sg(e){return!!(e!=null&&e.email_confirmed_at||e!=null&&e.confirmed_at)}const qe=xn()(rc((e,t)=>({user:null,token:null,isAuthenticated:!1,error:null,loading:!1,initializeAuth:async()=>{var r,n;try{const{data:i}=await Q.auth.getSession(),s=i.session;if(!(s!=null&&s.user)){e({user:null,token:null,isAuthenticated:!1});return}const o=s.user;if(!sg(o)){await Q.auth.signOut(),e({user:null,token:null,isAuthenticated:!1});return}const a=await ig(o.id).catch(()=>null),l={id:o.id,email:o.email??"",name:((r=o.user_metadata)==null?void 0:r.full_name)||(a==null?void 0:a.full_name)||"",type:(((n=o.user_metadata)==null?void 0:n.user_type)||(a==null?void 0:a.user_type))??"Client",profile:void 0};e({user:l,token:s.access_token,isAuthenticated:!0})}catch(i){console.error("initializeAuth error:",i),e({user:null,token:null,isAuthenticated:!1})}},signIn:async(r,n)=>{var i,s;e({loading:!0,error:null});try{const{data:o,error:a}=await Q.auth.signInWithPassword({email:r,password:n});if(a){let h="Erro ao fazer login";a.message.includes("Invalid login credentials")&&(h="Email ou senha incorretos."),a.message.includes("Email not confirmed")&&(h="Email no confirmado. Verifique sua caixa de entrada."),a.message.includes("Too many requests")&&(h="Muitas tentativas. Tente mais tarde."),ie.getState().showToast(h,"error"),e({error:h,loading:!1});return}const l=o.user;if(!sg(l)){await Q.auth.signOut();const h="Email no confirmado. Verifique sua caixa de entrada e clique no link de confirmao.";ie.getState().showToast(h,"error"),e({error:h,loading:!1,isAuthenticated:!1,user:null,token:null});return}const c=o.session??(await Q.auth.getSession()).data.session,d=await ig(l.id).catch(()=>null),f={id:l.id,email:l.email??"",name:((i=l.user_metadata)==null?void 0:i.full_name)||(d==null?void 0:d.full_name)||"",type:(((s=l.user_metadata)==null?void 0:s.user_type)||(d==null?void 0:d.user_type))??"Client",profile:void 0};e({user:f,token:(c==null?void 0:c.access_token)??null,isAuthenticated:!0,loading:!1}),ie.getState().showToast("Login realizado com sucesso!","success")}catch(o){console.error("signIn error:",o),ie.getState().showToast("Erro inesperado ao fazer login.","error"),e({error:"Erro inesperado",loading:!1})}},signUp:async(r,n,i,s)=>{e({loading:!0,error:null});try{const{data:o,error:a}=await Q.auth.signUp({email:r,password:n,options:{emailRedirectTo:`${SR}/auth/confirm`,data:{full_name:i,user_type:s}}});if(ie.getState().showToast("Conta criada! Confirme seu e-mail para acessar.","info"),a){let l="Erro ao criar conta";a.message.includes("User already registered")&&(l="Este e-mail j est cadastrado."),a.message.includes("Password should be at least")&&(l="A senha deve ter pelo menos 6 caracteres."),a.message.includes("Invalid email")&&(l="E-mail invlido."),ie.getState().showToast(l,"error"),e({error:l,loading:!1});return}e({loading:!1})}catch(o){console.error("signUp error:",o),ie.getState().showToast("Erro inesperado ao criar conta.","error"),e({error:"Erro inesperado",loading:!1})}},signOut:async()=>{try{await Q.auth.signOut(),e({user:null,token:null,isAuthenticated:!1}),ie.getState().showToast("Logout realizado!","info")}catch(r){console.error("signOut error:",r),ie.getState().showToast("Logout realizado","info")}},clearError:()=>e({error:null}),isNutritionist:()=>{var r;return((r=t().user)==null?void 0:r.type)==="Nutritionist"}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));async function xw(){const{data:e,error:t}=await Q.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return e||[]}async function _R(e){const{data:t,error:r}=await Q.from("user_subscriptions").select(`
      *,
      plan:subscription_plans(*)
    `).eq("user_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(r&&r.code!=="PGRST116")throw r;return t??null}async function ER(e){const{data:t,error:r}=await Q.from("user_subscriptions").insert(e).select(`
      *,
      plan:subscription_plans(*)
    `).single();if(r)throw r;return t}async function jR({priceId:e,planId:t,successUrl:r,cancelUrl:n}){var c,d,f;let{data:{session:i},error:s}=await Q.auth.getSession();if(s||!(i!=null&&i.access_token)){const h=await Q.auth.refreshSession().catch(()=>null);i=((c=h==null?void 0:h.data)==null?void 0:c.session)??null}const o=i==null?void 0:i.access_token;if(!o)throw new Error("Voc precisa estar logado para assinar. Faa login e tente novamente.");const{data:a}=await Q.functions.invoke("create-checkout-session",{body:{priceId:e,planId:t,successUrl:r,cancelUrl:n},headers:{Authorization:`Bearer ${o}`}});if(!a)throw new Error("Checkout failed: sem resposta do servidor");if(a.error){const h=(d=a.debug)!=null&&d.priceId?` (priceId: ${a.debug.priceId}${(f=a.debug)!=null&&f.message?`  ${a.debug.message}`:""})`:"";throw new Error(`Checkout failed: ${a.error}${h}`)}if(!a.url)throw new Error("Falha ao criar sesso de pagamento (sem URL)");const l=a.url;try{if(typeof window<"u"&&window.top&&window.top!==window){window.top.location.href=l;return}}catch{}try{window.location.assign(l)}catch{window.open(l,"_blank","noopener,noreferrer")}}const ww=xn()(rc((e,t)=>({plans:[],userSubscription:null,loading:!1,error:null,fetchPlans:async()=>{e({loading:!0,error:null});try{const r=await xw();e({plans:r,loading:!1})}catch(r){console.error("Error fetching plans:",r);const n=r instanceof Error?r.message:"Erro ao carregar planos";e({error:n,loading:!1}),ie.getState().showToast("Erro ao carregar planos de assinatura","error")}},fetchUserSubscription:async r=>{try{const n=await _R(r);e({userSubscription:n})}catch(n){console.error("Error fetching user subscription:",n),e({userSubscription:null})}},hasFeatureAccess:r=>{const{userSubscription:n}=t();return!n||!n.plan?!1:n.plan.features.includes(r)},isPremium:()=>t().hasFeatureAccess("ai_mentoring"),createSubscription:async r=>{e({loading:!0,error:null});try{const n=await ER(r);e({userSubscription:n,loading:!1}),ie.getState().showToast("Assinatura ativada com sucesso!","success")}catch(n){console.error("Error creating subscription:",n);const i=n instanceof Error?n.message:"Erro ao criar assinatura";throw e({error:i,loading:!1}),ie.getState().showToast("Erro ao ativar assinatura","error"),n}},reset:()=>e({plans:[],userSubscription:null,loading:!1,error:null})}),{name:"subscription-storage",partialize:e=>({userSubscription:e.userSubscription})})),sh=xn(e=>({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:"",setCategory:t=>e({category:t}),setSearchQuery:t=>e({searchQuery:t}),setDifficulty:t=>e({difficulty:t}),setPrepTimeRange:t=>e({prepTimeRange:t}),setMinRating:t=>e({minRating:t}),setSortBy:t=>e({sortBy:t}),resetFilters:()=>e({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:""})})),oh=b.createContext({});function ah(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const uc=b.createContext(null),lh=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class CR extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function NR({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=b.useContext(lh);return b.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(t||!n.current||!o||!a)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),u.jsx(CR,{isPresent:t,childRef:n,sizeRef:i,children:b.cloneElement(e,{ref:n})})}const TR=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=ah(RR),l=b.useId(),c=b.useCallback(f=>{a.set(f,!0);for(const h of a.values())if(!h)return;n&&n()},[a,n]),d=b.useMemo(()=>({id:l,initial:t,isPresent:r,custom:i,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),c]:[r,c]);return b.useMemo(()=>{a.forEach((f,h)=>a.set(h,!1))},[r]),b.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=u.jsx(NR,{isPresent:r,children:e})),u.jsx(uc.Provider,{value:d,children:e})};function RR(){return new Map}function bw(e=!0){const t=b.useContext(uc);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=b.useId();b.useEffect(()=>{e&&i(s)},[e]);const o=b.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}const ka=e=>e.key||"";function og(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const ch=typeof window<"u",kw=ch?b.useLayoutEffect:b.useEffect,Uo=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=bw(o),c=b.useMemo(()=>og(e),[e]),d=o&&!a?[]:c.map(ka),f=b.useRef(!0),h=b.useRef(c),m=ah(()=>new Map),[y,x]=b.useState(c),[w,g]=b.useState(c);kw(()=>{f.current=!1,h.current=c;for(let _=0;_<w.length;_++){const E=ka(w[_]);d.includes(E)?m.delete(E):m.get(E)!==!0&&m.set(E,!1)}},[w,d.length,d.join("-")]);const p=[];if(c!==y){let _=[...c];for(let E=0;E<w.length;E++){const T=w[E],k=ka(T);d.includes(k)||(_.splice(E,0,T),p.push(T))}s==="wait"&&p.length&&(_=p),g(og(_)),x(c);return}const{forceRender:v}=b.useContext(oh);return u.jsx(u.Fragment,{children:w.map(_=>{const E=ka(_),T=o&&!a?!1:c===w||d.includes(E),k=()=>{if(m.has(E))m.set(E,!0);else return;let C=!0;m.forEach(I=>{I||(C=!1)}),C&&(v==null||v(),g(h.current),o&&(l==null||l()),n&&n())};return u.jsx(TR,{isPresent:T,initial:!f.current||r?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:T?void 0:k,children:_},E)})})},_t=e=>e;let jd=_t;function uh(e){let t;return()=>(t===void 0&&(t=e()),t)}const qi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Er=e=>e*1e3,jr=e=>e/1e3,PR={skipAnimations:!1,useManualTiming:!1};function AR(e){let t=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,d=!1,f=!1)=>{const m=f&&n?t:r;return d&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{r.delete(c),s.delete(c)},process:c=>{if(o=c,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(a),t.clear(),n=!1,i&&(i=!1,l.process(c))}};return l}const Sa=["read","resolveKeyframes","update","preRender","render","postRender"],MR=40;function Sw(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=Sa.reduce((g,p)=>(g[p]=AR(s),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:f,postRender:h}=o,m=()=>{const g=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(g-i.timestamp,MR),1),i.timestamp=g,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),f.process(i),h.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(m))},y=()=>{r=!0,n=!0,i.isProcessing||e(m)};return{schedule:Sa.reduce((g,p)=>{const v=o[p];return g[p]=(_,E=!1,T=!1)=>(r||y(),v.schedule(_,E,T)),g},{}),cancel:g=>{for(let p=0;p<Sa.length;p++)o[Sa[p]].cancel(g)},state:i,steps:o}}const{schedule:_e,cancel:dn,state:Ke,steps:ou}=Sw(typeof requestAnimationFrame<"u"?requestAnimationFrame:_t,!0),_w=b.createContext({strict:!1}),ag={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yi={};for(const e in ag)Yi[e]={isEnabled:t=>ag[e].some(r=>!!t[r])};function IR(e){for(const t in e)Yi[t]={...Yi[t],...e[t]}}const OR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||OR.has(e)}let Ew=e=>!bl(e);function LR(e){e&&(Ew=t=>t.startsWith("on")?!bl(t):e(t))}try{LR(require("@emotion/is-prop-valid").default)}catch{}function DR(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(Ew(i)||r===!0&&bl(i)||!t&&!bl(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function FR(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const dc=b.createContext({});function bo(e){return typeof e=="string"||Array.isArray(e)}function fc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const dh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fh=["initial",...dh];function hc(e){return fc(e.animate)||fh.some(t=>bo(e[t]))}function jw(e){return!!(hc(e)||e.variants)}function $R(e,t){if(hc(e)){const{initial:r,animate:n}=e;return{initial:r===!1||bo(r)?r:void 0,animate:bo(n)?n:void 0}}return e.inherit!==!1?t:{}}function UR(e){const{initial:t,animate:r}=$R(e,b.useContext(dc));return b.useMemo(()=>({initial:t,animate:r}),[lg(t),lg(r)])}function lg(e){return Array.isArray(e)?e.join(" "):e}const zR=Symbol.for("motionComponentSymbol");function Si(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VR(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Si(r)&&(r.current=n))},[t])}const hh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BR="framerAppearId",Cw="data-"+hh(BR),{schedule:mh,cancel:QO}=Sw(queueMicrotask,!1),Nw=b.createContext({});function HR(e,t,r,n,i){var s,o;const{visualElement:a}=b.useContext(dc),l=b.useContext(_w),c=b.useContext(uc),d=b.useContext(lh).reducedMotion,f=b.useRef(null);n=n||l.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:a,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=b.useContext(Nw);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&GR(f.current,r,i,m);const y=b.useRef(!1);b.useInsertionEffect(()=>{h&&y.current&&h.update(r,c)});const x=r[Cw],w=b.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return kw(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),mh.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),b.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,x)}),w.current=!1))}),h}function GR(e,t,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Tw(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Si(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function Tw(e){if(e)return e.options.allowProjection!==!1?e.projection:Tw(e.parent)}function WR({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var s,o;e&&IR(e);function a(c,d){let f;const h={...b.useContext(lh),...c,layoutId:KR(c)},{isStatic:m}=h,y=UR(c),x=n(c,m);if(!m&&ch){qR();const w=YR(h);f=w.MeasureLayout,y.visualElement=HR(i,x,h,t,w.ProjectionNode)}return u.jsxs(dc.Provider,{value:y,children:[f&&y.visualElement?u.jsx(f,{visualElement:y.visualElement,...h}):null,r(i,c,VR(x,y.visualElement,d),x,m,y.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=b.forwardRef(a);return l[zR]=i,l}function KR({layoutId:e}){const t=b.useContext(oh).id;return t&&e!==void 0?t+"-"+e:e}function qR(e,t){b.useContext(_w).strict}function YR(e){const{drag:t,layout:r}=Yi;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const JR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ph(e){return typeof e!="string"||e.includes("-")?!1:!!(JR.indexOf(e)>-1||/[A-Z]/u.test(e))}function cg(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function gh(e,t,r,n){if(typeof t=="function"){const[i,s]=cg(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=cg(n);t=t(r!==void 0?r:e.custom,i,s)}return t}const Cd=e=>Array.isArray(e),QR=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),XR=e=>Cd(e)?e[e.length-1]||0:e,st=e=>!!(e&&e.getVelocity);function za(e){const t=st(e)?e.get():e;return QR(t)?t.toValue():t}function ZR({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,s){const o={latestValues:eP(n,i,s,e),renderState:t()};return r&&(o.onMount=a=>r({props:n,current:a,...o}),o.onUpdate=a=>r(a)),o}const Rw=e=>(t,r)=>{const n=b.useContext(dc),i=b.useContext(uc),s=()=>ZR(e,t,n,i);return r?s():ah(s)};function eP(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=za(s[h]);let{initial:o,animate:a}=e;const l=hc(e),c=jw(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!fc(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const y=gh(e,h[m]);if(y){const{transitionEnd:x,transition:w,...g}=y;for(const p in g){let v=g[p];if(Array.isArray(v)){const _=d?v.length-1:0;v=v[_]}v!==null&&(i[p]=v)}for(const p in x)i[p]=x[p]}}}return i}const is=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ei=new Set(is),Pw=e=>t=>typeof t=="string"&&t.startsWith(e),Aw=Pw("--"),tP=Pw("var(--"),yh=e=>tP(e)?rP.test(e.split("/*")[0].trim()):!1,rP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Pr=(e,t,r)=>r>t?t:r<e?e:r,ss={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ko={...ss,transform:e=>Pr(0,1,e)},_a={...ss,default:1},zo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ur=zo("deg"),cr=zo("%"),Y=zo("px"),nP=zo("vh"),iP=zo("vw"),ug={...cr,parse:e=>cr.parse(e)/100,transform:e=>cr.transform(e*100)},sP={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y},oP={rotate:Ur,rotateX:Ur,rotateY:Ur,rotateZ:Ur,scale:_a,scaleX:_a,scaleY:_a,scaleZ:_a,skew:Ur,skewX:Ur,skewY:Ur,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:ko,originX:ug,originY:ug,originZ:Y},dg={...ss,transform:Math.round},vh={...sP,...oP,zIndex:dg,size:Y,fillOpacity:ko,strokeOpacity:ko,numOctaves:dg},aP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lP=is.length;function cP(e,t,r){let n="",i=!0;for(let s=0;s<lP;s++){const o=is[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const c=Mw(a,vh[o]);if(!l){i=!1;const d=aP[o]||o;n+=`${d}(${c}) `}r&&(t[o]=c)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function xh(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(ei.has(l)){o=!0;continue}else if(Aw(l)){i[l]=c;continue}else{const d=Mw(c,vh[l]);l.startsWith("origin")?(a=!0,s[l]=d):n[l]=d}}if(t.transform||(o||r?n.transform=cP(t,e.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;n.transformOrigin=`${l} ${c} ${d}`}}const uP={offset:"stroke-dashoffset",array:"stroke-dasharray"},dP={offset:"strokeDashoffset",array:"strokeDasharray"};function fP(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?uP:dP;e[s.offset]=Y.transform(-n);const o=Y.transform(t),a=Y.transform(r);e[s.array]=`${o} ${a}`}function fg(e,t,r){return typeof e=="string"?e:Y.transform(t+r*e)}function hP(e,t,r){const n=fg(t,e.x,e.width),i=fg(r,e.y,e.height);return`${n} ${i}`}function wh(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f){if(xh(e,c,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:y}=e;h.transform&&(y&&(m.transform=h.transform),delete h.transform),y&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=hP(y,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&fP(h,o,a,l,!1)}const bh=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Iw=()=>({...bh(),attrs:{}}),kh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ow(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const Lw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dw(e,t,r,n){Ow(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(Lw.has(i)?i:hh(i),t.attrs[i])}const kl={};function mP(e){Object.assign(kl,e)}function Fw(e,{layout:t,layoutId:r}){return ei.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!kl[e]||e==="opacity")}function Sh(e,t,r){var n;const{style:i}=e,s={};for(const o in i)(st(i[o])||t.style&&st(t.style[o])||Fw(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function $w(e,t,r){const n=Sh(e,t,r);for(const i in e)if(st(e[i])||st(t[i])){const s=is.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}function pP(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const hg=["x","y","width","height","cx","cy","r"],gP={useVisualState:Rw({scrapeMotionValuesFromProps:$w,createRenderState:Iw,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let s=!!e.drag;if(!s){for(const a in i)if(ei.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<hg.length;a++){const l=hg[a];e[l]!==t[l]&&(o=!0)}o&&_e.read(()=>{pP(r,n),_e.render(()=>{wh(n,i,kh(r.tagName),e.transformTemplate),Dw(r,n)})})}})},yP={useVisualState:Rw({scrapeMotionValuesFromProps:Sh,createRenderState:bh})};function Uw(e,t,r){for(const n in t)!st(t[n])&&!Fw(n,r)&&(e[n]=t[n])}function vP({transformTemplate:e},t){return b.useMemo(()=>{const r=bh();return xh(r,t,e),Object.assign({},r.vars,r.style)},[t])}function xP(e,t){const r=e.style||{},n={};return Uw(n,r,e),Object.assign(n,vP(e,t)),n}function wP(e,t){const r={},n=xP(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function bP(e,t,r,n){const i=b.useMemo(()=>{const s=Iw();return wh(s,t,kh(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Uw(s,e.style,e),i.style={...s,...i.style}}return i}function kP(e=!1){return(r,n,i,{latestValues:s},o)=>{const l=(ph(r)?bP:wP)(n,s,o,r),c=DR(n,typeof r=="string",e),d=r!==b.Fragment?{...c,...l,ref:i}:{},{children:f}=n,h=b.useMemo(()=>st(f)?f.get():f,[f]);return b.createElement(r,{...d,children:h})}}function SP(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...ph(n)?gP:yP,preloadedFeatures:e,useRender:kP(i),createVisualElement:t,Component:n};return WR(o)}}function zw(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function mc(e,t,r){const n=e.getProps();return gh(n,t,r!==void 0?r:n.custom,e)}const _P=uh(()=>window.ScrollTimeline!==void 0);class EP{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>{if(_P()&&i.attachTimeline)return i.attachTimeline(t);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jP extends EP{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function _h(e,t){return e?e[t]||e.default||e:void 0}const Nd=2e4;function Vw(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Nd;)t+=r,n=e.next(t);return t>=Nd?1/0:t}function Eh(e){return typeof e=="function"}function mg(e,t){e.timeline=t,e.onfinish=null}const jh=e=>Array.isArray(e)&&typeof e[0]=="number",CP={linearEasing:void 0};function NP(e,t){const r=uh(e);return()=>{var n;return(n=CP[t])!==null&&n!==void 0?n:r()}}const Sl=NP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bw=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=e(qi(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function Hw(e){return!!(typeof e=="function"&&Sl()||!e||typeof e=="string"&&(e in Td||Sl())||jh(e)||Array.isArray(e)&&e.every(Hw))}const Ps=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Td={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ps([0,.65,.55,1]),circOut:Ps([.55,0,1,.45]),backIn:Ps([.31,.01,.66,-.59]),backOut:Ps([.33,1.53,.69,.99])};function Gw(e,t){if(e)return typeof e=="function"&&Sl()?Bw(e,t):jh(e)?Ps(e):Array.isArray(e)?e.map(r=>Gw(r,t)||Td.easeOut):Td[e]}const Gt={x:!1,y:!1};function Ww(){return Gt.x||Gt.y}function TP(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function Kw(e,t){const r=TP(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function pg(e){return t=>{t.pointerType==="touch"||Ww()||e(t)}}function RP(e,t,r={}){const[n,i,s]=Kw(e,r),o=pg(a=>{const{target:l}=a,c=t(a);if(typeof c!="function"||!l)return;const d=pg(f=>{c(f),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const qw=(e,t)=>t?e===t?!0:qw(e,t.parentElement):!1,Ch=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,PP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AP(e){return PP.has(e.tagName)||e.tabIndex!==-1}const As=new WeakSet;function gg(e){return t=>{t.key==="Enter"&&e(t)}}function au(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const MP=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=gg(()=>{if(As.has(r))return;au(r,"down");const i=gg(()=>{au(r,"up")}),s=()=>au(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function yg(e){return Ch(e)&&!Ww()}function IP(e,t,r={}){const[n,i,s]=Kw(e,r),o=a=>{const l=a.currentTarget;if(!yg(a)||As.has(l))return;As.add(l);const c=t(a),d=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!yg(m)||!As.has(l))&&(As.delete(l),typeof c=="function"&&c(m,{success:y}))},f=m=>{d(m,r.useGlobalTarget||qw(l,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(a=>{!AP(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>MP(c,i),i)}),s}function OP(e){return e==="x"||e==="y"?Gt[e]?null:(Gt[e]=!0,()=>{Gt[e]=!1}):Gt.x||Gt.y?null:(Gt.x=Gt.y=!0,()=>{Gt.x=Gt.y=!1})}const Yw=new Set(["width","height","top","left","right","bottom",...is]);let Va;function LP(){Va=void 0}const ur={now:()=>(Va===void 0&&ur.set(Ke.isProcessing||PR.useManualTiming?Ke.timestamp:performance.now()),Va),set:e=>{Va=e,queueMicrotask(LP)}};function Nh(e,t){e.indexOf(t)===-1&&e.push(t)}function Th(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Rh{constructor(){this.subscriptions=[]}add(t){return Nh(this.subscriptions,t),()=>Th(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Jw(e,t){return t?e*(1e3/t):0}const vg=30,DP=e=>!isNaN(parseFloat(e));class FP{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=ur.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ur.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=DP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Rh);const n=this.events[t].add(r);return t==="change"?()=>{n(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>vg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,vg);return Jw(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function So(e,t){return new FP(e,t)}function $P(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,So(r))}function UP(e,t){const r=mc(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const a=XR(s[o]);$P(e,o,a)}}function zP(e){return!!(st(e)&&e.add)}function Rd(e,t){const r=e.getValue("willChange");if(zP(r))return r.add(t)}function Qw(e){return e.props[Cw]}const Xw=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,VP=1e-7,BP=12;function HP(e,t,r,n,i){let s,o,a=0;do o=t+(r-t)/2,s=Xw(o,n,i)-e,s>0?r=o:t=o;while(Math.abs(s)>VP&&++a<BP);return o}function Vo(e,t,r,n){if(e===t&&r===n)return _t;const i=s=>HP(s,0,1,e,r);return s=>s===0||s===1?s:Xw(i(s),t,n)}const Zw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eb=e=>t=>1-e(1-t),tb=Vo(.33,1.53,.69,.99),Ph=eb(tb),rb=Zw(Ph),nb=e=>(e*=2)<1?.5*Ph(e):.5*(2-Math.pow(2,-10*(e-1))),Ah=e=>1-Math.sin(Math.acos(e)),ib=eb(Ah),sb=Zw(Ah),ob=e=>/^0[^.\s]+$/u.test(e);function GP(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ob(e):!0}const Gs=e=>Math.round(e*1e5)/1e5,Mh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WP(e){return e==null}const KP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ih=(e,t)=>r=>!!(typeof r=="string"&&KP.test(r)&&r.startsWith(e)||t&&!WP(r)&&Object.prototype.hasOwnProperty.call(r,t)),ab=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,a]=n.match(Mh);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qP=e=>Pr(0,255,e),lu={...ss,transform:e=>Math.round(qP(e))},$n={test:Ih("rgb","red"),parse:ab("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+lu.transform(e)+", "+lu.transform(t)+", "+lu.transform(r)+", "+Gs(ko.transform(n))+")"};function YP(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Pd={test:Ih("#"),parse:YP,transform:$n.transform},_i={test:Ih("hsl","hue"),parse:ab("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+cr.transform(Gs(t))+", "+cr.transform(Gs(r))+", "+Gs(ko.transform(n))+")"},rt={test:e=>$n.test(e)||Pd.test(e)||_i.test(e),parse:e=>$n.test(e)?$n.parse(e):_i.test(e)?_i.parse(e):Pd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?$n.transform(e):_i.transform(e)},JP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function QP(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Mh))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(JP))===null||r===void 0?void 0:r.length)||0)>0}const lb="number",cb="color",XP="var",ZP="var(",xg="${}",e2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _o(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(e2,l=>(rt.test(l)?(n.color.push(s),i.push(cb),r.push(rt.parse(l))):l.startsWith(ZP)?(n.var.push(s),i.push(XP),r.push(l)):(n.number.push(s),i.push(lb),r.push(parseFloat(l))),++s,xg)).split(xg);return{values:r,split:a,indexes:n,types:i}}function ub(e){return _o(e).values}function db(e){const{split:t,types:r}=_o(e),n=t.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],i[o]!==void 0){const a=r[o];a===lb?s+=Gs(i[o]):a===cb?s+=rt.transform(i[o]):s+=i[o]}return s}}const t2=e=>typeof e=="number"?0:e;function r2(e){const t=ub(e);return db(e)(t.map(t2))}const fn={test:QP,parse:ub,createTransformer:db,getAnimatableNone:r2},n2=new Set(["brightness","contrast","saturate","opacity"]);function i2(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Mh)||[];if(!n)return e;const i=r.replace(n,"");let s=n2.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const s2=/\b([a-z-]*)\(.*?\)/gu,Ad={...fn,getAnimatableNone:e=>{const t=e.match(s2);return t?t.map(i2).join(" "):e}},o2={...vh,color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:Ad,WebkitFilter:Ad},Oh=e=>o2[e];function fb(e,t){let r=Oh(e);return r!==Ad&&(r=fn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const a2=new Set(["auto","none","0"]);function l2(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!a2.has(s)&&_o(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=fb(r,i)}const wg=e=>e===ss||e===Y,bg=(e,t)=>parseFloat(e.split(", ")[t]),kg=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return bg(i[1],t);{const s=n.match(/^matrix\((.+)\)$/u);return s?bg(s[1],e):0}},c2=new Set(["x","y","z"]),u2=is.filter(e=>!c2.has(e));function d2(e){const t=[];return u2.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ji={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:kg(4,13),y:kg(5,14)};Ji.translateX=Ji.x;Ji.translateY=Ji.y;const Vn=new Set;let Md=!1,Id=!1;function hb(){if(Id){const e=Array.from(Vn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=d2(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var a;(a=n.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Id=!1,Md=!1,Vn.forEach(e=>e.complete()),Vn.clear()}function mb(){Vn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Id=!0)})}function f2(){mb(),hb()}class Lh{constructor(t,r,n,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vn.add(this),Md||(Md=!0,_e.read(mb),_e.resolveKeyframes(hb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),h2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function m2(e){const t=h2.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function gb(e,t,r=1){const[n,i]=m2(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return pb(o)?parseFloat(o):o}return yh(i)?gb(i,t,r+1):i}const yb=e=>t=>t.test(e),p2={test:e=>e==="auto",parse:e=>e},vb=[ss,Y,cr,Ur,iP,nP,p2],Sg=e=>vb.find(yb(e));class xb extends Lh{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),yh(c))){const d=gb(c,r.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Yw.has(n)||t.length!==2)return;const[i,s]=t,o=Sg(i),a=Sg(s);if(o!==a)if(wg(o)&&wg(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)GP(t[i])&&n.push(i);n.length&&l2(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ji[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Ji[n](r.measureViewportBox(),window.getComputedStyle(r.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{r.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const _g=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fn.test(e)||e==="0")&&!e.startsWith("url("));function g2(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function y2(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=_g(i,t),a=_g(s,t);return!o||!a?!1:g2(e)||(r==="spring"||Eh(r))&&n}const v2=e=>e!==null;function pc(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(v2),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const x2=40;class wb{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ur.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>x2?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&f2(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=ur.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!y2(t,n,i,s))if(o)this.options.duration=0;else{l&&l(pc(t,this.options,r)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ne=(e,t,r)=>e+(t-e)*r;function cu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function w2({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,o=0;if(!t)i=s=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;i=cu(l,a,e+1/3),s=cu(l,a,e),o=cu(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function _l(e,t){return r=>r>0?t:e}const uu=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},b2=[Pd,$n,_i],k2=e=>b2.find(t=>t.test(e));function Eg(e){const t=k2(e);if(!t)return!1;let r=t.parse(e);return t===_i&&(r=w2(r)),r}const jg=(e,t)=>{const r=Eg(e),n=Eg(t);if(!r||!n)return _l(e,t);const i={...r};return s=>(i.red=uu(r.red,n.red,s),i.green=uu(r.green,n.green,s),i.blue=uu(r.blue,n.blue,s),i.alpha=Ne(r.alpha,n.alpha,s),$n.transform(i))},S2=(e,t)=>r=>t(e(r)),Bo=(...e)=>e.reduce(S2),Od=new Set(["none","hidden"]);function _2(e,t){return Od.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function E2(e,t){return r=>Ne(e,t,r)}function Dh(e){return typeof e=="number"?E2:typeof e=="string"?yh(e)?_l:rt.test(e)?jg:N2:Array.isArray(e)?bb:typeof e=="object"?rt.test(e)?jg:j2:_l}function bb(e,t){const r=[...e],n=r.length,i=e.map((s,o)=>Dh(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function j2(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Dh(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function C2(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(r=e.values[a])!==null&&r!==void 0?r:0;n[s]=l,i[o]++}return n}const N2=(e,t)=>{const r=fn.createTransformer(t),n=_o(e),i=_o(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Od.has(e)&&!i.values.length||Od.has(t)&&!n.values.length?_2(e,t):Bo(bb(C2(n,i),i.values),r):_l(e,t)};function kb(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ne(e,t,r):Dh(e)(e,t)}const T2=5;function Sb(e,t,r){const n=Math.max(t-T2,0);return Jw(r-e(n),t-n)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},du=.001;function R2({duration:e=Ae.duration,bounce:t=Ae.bounce,velocity:r=Ae.velocity,mass:n=Ae.mass}){let i,s,o=1-t;o=Pr(Ae.minDamping,Ae.maxDamping,o),e=Pr(Ae.minDuration,Ae.maxDuration,jr(e)),o<1?(i=c=>{const d=c*o,f=d*e,h=d-r,m=Ld(c,o),y=Math.exp(-f);return du-h/m*y},s=c=>{const f=c*o*e,h=f*r+r,m=Math.pow(o,2)*Math.pow(c,2)*e,y=Math.exp(-f),x=Ld(Math.pow(c,2),o);return(-i(c)+du>0?-1:1)*((h-m)*y)/x}):(i=c=>{const d=Math.exp(-c*e),f=(c-r)*e+1;return-du+d*f},s=c=>{const d=Math.exp(-c*e),f=(r-c)*(e*e);return d*f});const a=5/e,l=A2(i,s,a);if(e=Er(e),isNaN(l))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:e}}}const P2=12;function A2(e,t,r){let n=r;for(let i=1;i<P2;i++)n=n-e(n)/t(n);return n}function Ld(e,t){return e*Math.sqrt(1-t*t)}const M2=["duration","bounce"],I2=["stiffness","damping","mass"];function Cg(e,t){return t.some(r=>e[r]!==void 0)}function O2(e){let t={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...e};if(!Cg(e,I2)&&Cg(e,M2))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Pr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ae.mass,stiffness:i,damping:s}}else{const r=R2(e);t={...t,...r,mass:Ae.mass},t.isResolvedFromDuration=!0}return t}function _b(e=Ae.visualDuration,t=Ae.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=O2({...r,velocity:-jr(r.velocity||0)}),y=h||0,x=c/(2*Math.sqrt(l*d)),w=o-s,g=jr(Math.sqrt(l/d)),p=Math.abs(w)<5;n||(n=p?Ae.restSpeed.granular:Ae.restSpeed.default),i||(i=p?Ae.restDelta.granular:Ae.restDelta.default);let v;if(x<1){const E=Ld(g,x);v=T=>{const k=Math.exp(-x*g*T);return o-k*((y+x*g*w)/E*Math.sin(E*T)+w*Math.cos(E*T))}}else if(x===1)v=E=>o-Math.exp(-g*E)*(w+(y+g*w)*E);else{const E=g*Math.sqrt(x*x-1);v=T=>{const k=Math.exp(-x*g*T),C=Math.min(E*T,300);return o-k*((y+x*g*w)*Math.sinh(C)+E*w*Math.cosh(C))/E}}const _={calculatedDuration:m&&f||null,next:E=>{const T=v(E);if(m)a.done=E>=f;else{let k=0;x<1&&(k=E===0?Er(y):Sb(v,E,T));const C=Math.abs(k)<=n,I=Math.abs(o-T)<=i;a.done=C&&I}return a.value=a.done?o:T,a},toString:()=>{const E=Math.min(Vw(_),Nd),T=Bw(k=>_.next(E*k).value,E,30);return E+"ms "+T}};return _}function Ng({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,y=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let x=r*t;const w=f+x,g=o===void 0?w:o(w);g!==w&&(x=g-f);const p=C=>-x*Math.exp(-C/n),v=C=>g+p(C),_=C=>{const I=p(C),P=v(C);h.done=Math.abs(I)<=c,h.value=h.done?g:P};let E,T;const k=C=>{m(h.value)&&(E=C,T=_b({keyframes:[h.value,y(h.value)],velocity:Sb(v,C,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:C=>{let I=!1;return!T&&E===void 0&&(I=!0,_(C),k(C)),E!==void 0&&C>=E?T.next(C-E):(!I&&_(C),h)}}}const L2=Vo(.42,0,1,1),D2=Vo(0,0,.58,1),Eb=Vo(.42,0,.58,1),F2=e=>Array.isArray(e)&&typeof e[0]!="number",Tg={linear:_t,easeIn:L2,easeInOut:Eb,easeOut:D2,circIn:Ah,circInOut:sb,circOut:ib,backIn:Ph,backInOut:rb,backOut:tb,anticipate:nb},Rg=e=>{if(jh(e)){jd(e.length===4);const[t,r,n,i]=e;return Vo(t,r,n,i)}else if(typeof e=="string")return jd(Tg[e]!==void 0),Tg[e];return e};function $2(e,t,r){const n=[],i=r||kb,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||_t:t;a=Bo(l,a)}n.push(a)}return n}function U2(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(jd(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=$2(t,n,i),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=qi(e[f],e[f+1],d);return a[f](h)};return r?d=>c(Pr(e[0],e[s-1],d)):c}function z2(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=qi(0,t,n);e.push(Ne(r,1,i))}}function V2(e){const t=[0];return z2(t,e.length-1),t}function B2(e,t){return e.map(r=>r*t)}function H2(e,t){return e.map(()=>t||Eb).splice(0,e.length-1)}function El({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=F2(n)?n.map(Rg):Rg(n),s={done:!1,value:t[0]},o=B2(r&&r.length===t.length?r:V2(t),e),a=U2(o,t,{ease:Array.isArray(i)?i:H2(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const G2=e=>{const t=({timestamp:r})=>e(r);return{start:()=>_e.update(t,!0),stop:()=>dn(t),now:()=>Ke.isProcessing?Ke.timestamp:ur.now()}},W2={decay:Ng,inertia:Ng,tween:El,keyframes:El,spring:_b},K2=e=>e/100;class Fh extends wb{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Lh,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Eh(r)?r:W2[r]||El;let l,c;a!==El&&typeof t[0]!="number"&&(l=Bo(K2,kb(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Vw(d));const{calculatedDuration:f}=d,h=f+i,m=h*(n+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return s.next(0);const{delay:h,repeat:m,repeatType:y,repeatDelay:x,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),p=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let v=this.currentTime,_=s;if(m){const C=Math.min(this.currentTime,d)/f;let I=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(y==="reverse"?(P=1-P,x&&(P-=x/f)):y==="mirror"&&(_=o)),v=Pr(0,1,P)*f}const E=p?{done:!1,value:l[0]}:_.next(v);a&&(E.value=a(E.value));let{done:T}=E;!p&&c!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return k&&i!==void 0&&(E.value=pc(l,this.options,i)),w&&w(E.value),k&&this.finish(),E}get duration(){const{resolved:t}=this;return t?jr(t.calculatedDuration):0}get time(){return jr(this.currentTime)}set time(t){t=Er(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=jr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=G2,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const q2=new Set(["opacity","clipPath","filter","transform"]);function Y2(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[t]:r};l&&(c.offset=l);const d=Gw(a,i);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const J2=uh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jl=10,Q2=2e4;function X2(e){return Eh(e.type)||e.type==="spring"||!Hw(e.ease)}function Z2(e,t){const r=new Fh({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let s=0;for(;!n.done&&s<Q2;)n=r.sample(s),i.push(n.value),s+=jl;return{times:void 0,keyframes:i,duration:s-jl,ease:"linear"}}const jb={anticipate:nb,backInOut:rb,circInOut:sb};function eA(e){return e in jb}class Pg extends wb{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new xb(s,(o,a)=>this.onKeyframesResolved(o,a),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Sl()&&eA(s)&&(s=jb[s]),X2(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:y,...x}=this.options,w=Z2(t,x);t=w.keyframes,t.length===1&&(t[1]=t[0]),n=w.duration,i=w.times,s=w.ease,o="keyframes"}const d=Y2(a.owner.current,l,t,{...this.options,duration:n,times:i,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(mg(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;a.set(pc(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return jr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return jr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Er(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return _t;const{animation:n}=r;mg(n,t)}return _t}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:s,ease:o,times:a}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:f,element:h,...m}=this.options,y=new Fh({...m,keyframes:n,duration:i,type:s,ease:o,times:a,isGenerator:!0}),x=Er(this.time);c.setWithVelocity(y.sample(x-jl).value,y.sample(x).value,jl)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=r.owner.getProps();return J2()&&n&&q2.has(n)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const tA={type:"spring",stiffness:500,damping:25,restSpeed:10},rA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nA={type:"keyframes",duration:.8},iA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sA=(e,{keyframes:t})=>t.length>2?nA:ei.has(e)?e.startsWith("scale")?rA(t[1]):tA:iA;function oA({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const $h=(e,t,r,n={},i,s)=>o=>{const a=_h(n,e)||{},l=a.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Er(l);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};oA(a)||(d={...d,...sA(e,d)}),d.duration&&(d.duration=Er(d.duration)),d.repeatDelay&&(d.repeatDelay=Er(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const h=pc(d.keyframes,a);if(h!==void 0)return _e.update(()=>{d.onUpdate(h),d.onComplete()}),new jP([])}return!s&&Pg.supports(d)?new Pg(d):new Fh(d)};function aA({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Cb(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(o=n);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const h=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||d&&aA(d,f))continue;const y={delay:r,..._h(o||{},f)};let x=!1;if(window.MotionHandoffAnimation){const g=Qw(e);if(g){const p=window.MotionHandoffAnimation(g,f,_e);p!==null&&(y.startTime=p,x=!0)}}Rd(e,f),h.start($h(f,h,m,e.shouldReduceMotion&&Yw.has(f)?{type:!1}:y,e,x));const w=h.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{_e.update(()=>{a&&UP(e,a)})}),c}function Dd(e,t,r={}){var n;const i=mc(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const o=i?()=>Promise.all(Cb(e,i,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return lA(e,t,d+c,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(r.delay)])}function lA(e,t,r=0,n=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*n,l=i===1?(c=0)=>c*n:(c=0)=>a-c*n;return Array.from(e.variantChildren).sort(cA).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(Dd(c,t,{...s,delay:r+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function cA(e,t){return e.sortNodePosition(t)}function uA(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Dd(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Dd(e,t,r);else{const i=typeof t=="function"?mc(e,t,r.custom):t;n=Promise.all(Cb(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const dA=fh.length;function Nb(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Nb(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<dA;r++){const n=fh[r],i=e.props[n];(bo(i)||i===!1)&&(t[n]=i)}return t}const fA=[...dh].reverse(),hA=dh.length;function mA(e){return t=>Promise.all(t.map(({animation:r,options:n})=>uA(e,r,n)))}function pA(e){let t=mA(e),r=Ag(),n=!0;const i=l=>(c,d)=>{var f;const h=mc(e,d,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:y,...x}=h;c={...c,...x,...y}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,d=Nb(e.parent)||{},f=[],h=new Set;let m={},y=1/0;for(let w=0;w<hA;w++){const g=fA[w],p=r[g],v=c[g]!==void 0?c[g]:d[g],_=bo(v),E=g===l?p.isActive:null;E===!1&&(y=w);let T=v===d[g]&&v!==c[g]&&_;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),p.protectedKeys={...m},!p.isActive&&E===null||!v&&!p.prevProp||fc(v)||typeof v=="boolean")continue;const k=gA(p.prevProp,v);let C=k||g===l&&p.isActive&&!T&&_||w>y&&_,I=!1;const P=Array.isArray(v)?v:[v];let D=P.reduce(i(g),{});E===!1&&(D={});const{prevResolvedValues:A={}}=p,te={...A,...D},ue=W=>{C=!0,h.has(W)&&(I=!0,h.delete(W)),p.needsAnimating[W]=!0;const R=e.getValue(W);R&&(R.liveStyle=!1)};for(const W in te){const R=D[W],O=A[W];if(m.hasOwnProperty(W))continue;let U=!1;Cd(R)&&Cd(O)?U=!zw(R,O):U=R!==O,U?R!=null?ue(W):h.add(W):R!==void 0&&h.has(W)?ue(W):p.protectedKeys[W]=!0}p.prevProp=v,p.prevResolvedValues=D,p.isActive&&(m={...m,...D}),n&&e.blockInitialAnimation&&(C=!1),C&&(!(T&&k)||I)&&f.push(...P.map(W=>({animation:W,options:{type:g}})))}if(h.size){const w={};h.forEach(g=>{const p=e.getBaseTarget(g),v=e.getValue(g);v&&(v.liveStyle=!0),w[g]=p??null}),f.push({animation:w})}let x=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function a(l,c){var d;if(r[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),r[l].isActive=c;const f=o(l);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r,reset:()=>{r=Ag(),n=!0}}}function gA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zw(t,e):!1}function Cn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ag(){return{animate:Cn(!0),whileInView:Cn(),whileHover:Cn(),whileTap:Cn(),whileDrag:Cn(),whileFocus:Cn(),exit:Cn()}}class wn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class yA extends wn{constructor(t){super(t),t.animationState||(t.animationState=pA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let vA=0;class xA extends wn{constructor(){super(...arguments),this.id=vA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const wA={animation:{Feature:yA},exit:{Feature:xA}};function Eo(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ho(e){return{point:{x:e.pageX,y:e.pageY}}}const bA=e=>t=>Ch(t)&&e(t,Ho(t));function Ws(e,t,r,n){return Eo(e,t,bA(r),n)}const Mg=(e,t)=>Math.abs(e-t);function kA(e,t){const r=Mg(e.x,t.x),n=Mg(e.y,t.y);return Math.sqrt(r**2+n**2)}class Tb{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=hu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=kA(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=f,{timestamp:x}=Ke;this.history.push({...y,timestamp:x});const{onStart:w,onMove:g}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=fu(h,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=hu(f.type==="pointercancel"?this.lastMoveEventInfo:fu(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,w),y&&y(f,w)},!Ch(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=Ho(t),a=fu(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ke;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=r;d&&d(t,hu(a,this.history)),this.removeListeners=Bo(Ws(this.contextWindow,"pointermove",this.handlePointerMove),Ws(this.contextWindow,"pointerup",this.handlePointerUp),Ws(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dn(this.updatePoint)}}function fu(e,t){return t?{point:t(e.point)}:e}function Ig(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hu({point:e},t){return{point:e,delta:Ig(e,Rb(t)),offset:Ig(e,SA(t)),velocity:_A(t,.1)}}function SA(e){return e[0]}function Rb(e){return e[e.length-1]}function _A(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=Rb(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Er(t)));)r--;if(!n)return{x:0,y:0};const s=jr(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Pb=1e-4,EA=1-Pb,jA=1+Pb,Ab=.01,CA=0-Ab,NA=0+Ab;function jt(e){return e.max-e.min}function TA(e,t,r){return Math.abs(e-t)<=r}function Og(e,t,r,n=.5){e.origin=n,e.originPoint=Ne(t.min,t.max,e.origin),e.scale=jt(r)/jt(t),e.translate=Ne(r.min,r.max,e.origin)-e.originPoint,(e.scale>=EA&&e.scale<=jA||isNaN(e.scale))&&(e.scale=1),(e.translate>=CA&&e.translate<=NA||isNaN(e.translate))&&(e.translate=0)}function Ks(e,t,r,n){Og(e.x,t.x,r.x,n?n.originX:void 0),Og(e.y,t.y,r.y,n?n.originY:void 0)}function Lg(e,t,r){e.min=r.min+t.min,e.max=e.min+jt(t)}function RA(e,t,r){Lg(e.x,t.x,r.x),Lg(e.y,t.y,r.y)}function Dg(e,t,r){e.min=t.min-r.min,e.max=e.min+jt(t)}function qs(e,t,r){Dg(e.x,t.x,r.x),Dg(e.y,t.y,r.y)}function PA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ne(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ne(r,e,n.max):Math.min(e,r)),e}function Fg(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function AA(e,{top:t,left:r,bottom:n,right:i}){return{x:Fg(e.x,r,i),y:Fg(e.y,t,n)}}function $g(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function MA(e,t){return{x:$g(e.x,t.x),y:$g(e.y,t.y)}}function IA(e,t){let r=.5;const n=jt(e),i=jt(t);return i>n?r=qi(t.min,t.max-n,e.min):n>i&&(r=qi(e.min,e.max-i,t.min)),Pr(0,1,r)}function OA(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Fd=.35;function LA(e=Fd){return e===!1?e=0:e===!0&&(e=Fd),{x:Ug(e,"left","right"),y:Ug(e,"top","bottom")}}function Ug(e,t,r){return{min:zg(e,t),max:zg(e,r)}}function zg(e,t){return typeof e=="number"?e:e[t]||0}const Vg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ei=()=>({x:Vg(),y:Vg()}),Bg=()=>({min:0,max:0}),Oe=()=>({x:Bg(),y:Bg()});function At(e){return[e("x"),e("y")]}function Mb({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function DA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function FA(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function mu(e){return e===void 0||e===1}function $d({scale:e,scaleX:t,scaleY:r}){return!mu(e)||!mu(t)||!mu(r)}function Pn(e){return $d(e)||Ib(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ib(e){return Hg(e.x)||Hg(e.y)}function Hg(e){return e&&e!=="0%"}function Cl(e,t,r){const n=e-r,i=t*n;return r+i}function Gg(e,t,r,n,i){return i!==void 0&&(e=Cl(e,i,n)),Cl(e,r,n)+t}function Ud(e,t=0,r=1,n,i){e.min=Gg(e.min,t,r,n,i),e.max=Gg(e.max,t,r,n,i)}function Ob(e,{x:t,y:r}){Ud(e.x,t.translate,t.scale,t.originPoint),Ud(e.y,r.translate,r.scale,r.originPoint)}const Wg=.999999999999,Kg=1.0000000000001;function $A(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ci(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ob(e,o)),n&&Pn(s.latestValues)&&Ci(e,s.latestValues))}t.x<Kg&&t.x>Wg&&(t.x=1),t.y<Kg&&t.y>Wg&&(t.y=1)}function ji(e,t){e.min=e.min+t,e.max=e.max+t}function qg(e,t,r,n,i=.5){const s=Ne(e.min,e.max,i);Ud(e,t,r,s,n)}function Ci(e,t){qg(e.x,t.x,t.scaleX,t.scale,t.originX),qg(e.y,t.y,t.scaleY,t.scale,t.originY)}function Lb(e,t){return Mb(FA(e.getBoundingClientRect(),t))}function UA(e,t,r){const n=Lb(e,r),{scroll:i}=t;return i&&(ji(n.x,i.offset.x),ji(n.y,i.offset.y)),n}const Db=({current:e})=>e?e.ownerDocument.defaultView:null,zA=new WeakMap;class VA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ho(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OP(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),At(w=>{let g=this.getAxisMotionValue(w).get()||0;if(cr.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const v=p.layout.layoutBox[w];v&&(g=jt(v)*(parseFloat(g)/100))}}this.originPoint[w]=g}),y&&_e.postRender(()=>y(d,f)),Rd(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:w}=f;if(m&&this.currentDirection===null){this.currentDirection=BA(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),x&&x(d,f)},a=(d,f)=>this.stop(d,f),l=()=>At(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Tb(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Db(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&_e.postRender(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Ea(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=PA(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&Si(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=AA(i.layoutBox,r):this.constraints=!1,this.elastic=LA(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&At(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=OA(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Si(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=UA(n,i.root,this.visualElement.getTransformPagePoint());let o=MA(i.layout.layoutBox,s);if(r){const a=r(DA(o));this.hasMutatedConstraints=!!a,a&&(o=Mb(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=At(d=>{if(!Ea(d,r,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Rd(this.visualElement,t),n.start($h(t,n,0,r,this.visualElement,!1))}stopAnimation(){At(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){At(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){At(r=>{const{drag:n}=this.getProps();if(!Ea(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(t[r]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Si(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};At(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=IA({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),At(o=>{if(!Ea(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ne(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;zA.set(this.visualElement,this);const t=this.visualElement.current,r=Ws(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Si(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),_e.read(n);const o=Eo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(At(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Fd,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ea(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function BA(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class HA extends wn{constructor(t){super(t),this.removeGroupControls=_t,this.removeListeners=_t,this.controls=new VA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_t}unmount(){this.removeGroupControls(),this.removeListeners()}}const Yg=e=>(t,r)=>{e&&_e.postRender(()=>e(t,r))};class GA extends wn{constructor(){super(...arguments),this.removePointerDownListener=_t}onPointerDown(t){this.session=new Tb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Db(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Yg(t),onStart:Yg(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&_e.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ws(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ba={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ss={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Y.test(e))e=parseFloat(e);else return e;const r=Jg(e,t.target.x),n=Jg(e,t.target.y);return`${r}% ${n}%`}},WA={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=fn.parse(e);if(i.length>5)return n;const s=fn.createTransformer(e),o=typeof i[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=Ne(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class KA extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;mP(qA),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ba.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||_e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Fb(e){const[t,r]=bw(),n=b.useContext(oh);return u.jsx(KA,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(Nw),isPresent:t,safeToRemove:r})}const qA={borderRadius:{...Ss,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ss,borderTopRightRadius:Ss,borderBottomLeftRadius:Ss,borderBottomRightRadius:Ss,boxShadow:WA};function YA(e,t,r){const n=st(e)?e:So(e);return n.start($h("",n,t,r)),n.animation}function JA(e){return e instanceof SVGElement&&e.tagName!=="svg"}const QA=(e,t)=>e.depth-t.depth;class XA{constructor(){this.children=[],this.isDirty=!1}add(t){Nh(this.children,t),this.isDirty=!0}remove(t){Th(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QA),this.isDirty=!1,this.children.forEach(t)}}function ZA(e,t){const r=ur.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(dn(n),e(s-t))};return _e.read(n,!0),()=>dn(n)}const $b=["TopLeft","TopRight","BottomLeft","BottomRight"],eM=$b.length,Qg=e=>typeof e=="string"?parseFloat(e):e,Xg=e=>typeof e=="number"||Y.test(e);function tM(e,t,r,n,i,s){i?(e.opacity=Ne(0,r.opacity!==void 0?r.opacity:1,rM(n)),e.opacityExit=Ne(t.opacity!==void 0?t.opacity:1,0,nM(n))):s&&(e.opacity=Ne(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<eM;o++){const a=`border${$b[o]}Radius`;let l=Zg(t,a),c=Zg(r,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Xg(l)===Xg(c)?(e[a]=Math.max(Ne(Qg(l),Qg(c),n),0),(cr.test(c)||cr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||r.rotate)&&(e.rotate=Ne(t.rotate||0,r.rotate||0,n))}function Zg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rM=Ub(0,.5,ib),nM=Ub(.5,.95,_t);function Ub(e,t,r){return n=>n<e?0:n>t?1:r(qi(e,t,n))}function e0(e,t){e.min=t.min,e.max=t.max}function Pt(e,t){e0(e.x,t.x),e0(e.y,t.y)}function t0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function r0(e,t,r,n,i){return e-=t,e=Cl(e,1/r,n),i!==void 0&&(e=Cl(e,1/i,n)),e}function iM(e,t=0,r=1,n=.5,i,s=e,o=e){if(cr.test(t)&&(t=parseFloat(t),t=Ne(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ne(s.min,s.max,n);e===s&&(a-=t),e.min=r0(e.min,t,r,a,i),e.max=r0(e.max,t,r,a,i)}function n0(e,t,[r,n,i],s,o){iM(e,t[r],t[n],t[i],t.scale,s,o)}const sM=["x","scaleX","originX"],oM=["y","scaleY","originY"];function i0(e,t,r,n){n0(e.x,t,sM,r?r.x:void 0,n?n.x:void 0),n0(e.y,t,oM,r?r.y:void 0,n?n.y:void 0)}function s0(e){return e.translate===0&&e.scale===1}function zb(e){return s0(e.x)&&s0(e.y)}function o0(e,t){return e.min===t.min&&e.max===t.max}function aM(e,t){return o0(e.x,t.x)&&o0(e.y,t.y)}function a0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Vb(e,t){return a0(e.x,t.x)&&a0(e.y,t.y)}function l0(e){return jt(e.x)/jt(e.y)}function c0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class lM{constructor(){this.members=[]}add(t){Nh(this.members,t),t.scheduleRender()}remove(t){if(Th(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cM(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:y}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),y&&(n+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const An={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ms=typeof window<"u"&&window.MotionDebug!==void 0,pu=["","X","Y","Z"],uM={visibility:"hidden"},u0=1e3;let dM=0;function gu(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Bb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Qw(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",_e,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Bb(n)}function Hb({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=dM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ms&&(An.totalNodes=An.resolvedTargetDeltas=An.recalculatedProjection=0),this.nodes.forEach(mM),this.nodes.forEach(xM),this.nodes.forEach(wM),this.nodes.forEach(pM),Ms&&window.MotionDebug.record(An)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new XA)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Rh),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JA(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=ZA(h,250),Ba.hasAnimatedSinceResize&&(Ba.hasAnimatedSinceResize=!1,this.nodes.forEach(f0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||EM,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=d.getProps(),p=!this.targetLayout||!Vb(this.targetLayout,y)||m,v=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const _={..._h(x,"layout"),onPlay:w,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||f0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bM),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d0);return}this.isUpdating||this.nodes.forEach(yM),this.isUpdating=!1,this.nodes.forEach(vM),this.nodes.forEach(fM),this.nodes.forEach(hM),this.clearAllSnapshots();const a=ur.now();Ke.delta=Pr(0,1e3/60,a-Ke.timestamp),Ke.timestamp=a,Ke.isProcessing=!0,ou.update.process(Ke),ou.preRender.process(Ke),ou.render.process(Ke),Ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gM),this.sharedNodes.forEach(kM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!zb(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Pn(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jM(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Oe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(CM))){const{scroll:d}=this.root;d&&(ji(l.x,d.offset.x),ji(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Oe();if(Pt(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Pt(l,o),ji(l.x,f.offset.x),ji(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Oe();Pt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ci(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Pn(d.latestValues)&&Ci(l,d.latestValues)}return Pn(this.latestValues)&&Ci(l,this.latestValues),l}removeTransform(o){const a=Oe();Pt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Pn(c.latestValues))continue;$d(c.latestValues)&&c.updateSnapshot();const d=Oe(),f=c.measurePageBox();Pt(d,f),i0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Pn(this.latestValues)&&i0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ke.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),qs(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pt(this.target,this.layout.layoutBox),Ob(this.target,this.targetDelta)):Pt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),qs(this.relativeTargetOrigin,this.target,m.target),Pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ms&&An.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$d(this.parent.latestValues)||Ib(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ke.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Pt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;$A(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Oe());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t0(this.prevProjectionDelta.x,this.projectionDelta.x),t0(this.prevProjectionDelta.y,this.projectionDelta.y)),Ks(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!c0(this.projectionDelta.x,this.prevProjectionDelta.x)||!c0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Ms&&An.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ei(),this.projectionDelta=Ei(),this.projectionDeltaWithTransform=Ei()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Ei();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Oe(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,w=this.getStack(),g=!w||w.members.length<=1,p=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(_M));this.animationProgress=0;let v;this.mixTargetDelta=_=>{const E=_/1e3;h0(f.x,o.x,E),h0(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qs(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SM(this.relativeTarget,this.relativeTargetOrigin,h,E),v&&aM(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Oe()),Pt(v,this.relativeTarget)),x&&(this.animationValues=d,tM(d,c,this.latestValues,E,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{Ba.hasAnimatedSinceResize=!0,this.currentAnimation=YA(0,u0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Gb(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Oe();const f=jt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=jt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Pt(a,l),Ci(a,d),Ks(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lM),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&gu("z",o,c,this.animationValues);for(let d=0;d<pu.length;d++)gu(`rotate${pu[d]}`,o,c,this.animationValues),gu(`skew${pu[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uM;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=za(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=za(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Pn(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=cM(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in kl){if(h[x]===void 0)continue;const{correct:w,applyTo:g}=kl[x],p=c.transform==="none"?h[x]:w(h[x],f);if(g){const v=g.length;for(let _=0;_<v;_++)c[g[_]]=p}else c[x]=p}return this.options.layoutId&&(c.pointerEvents=f===this?za(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(d0),this.root.sharedNodes.clear()}}}function fM(e){e.updateLayout()}function hM(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?At(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],m=jt(h);h.min=n[f].min,h.max=h.min+m}):Gb(s,r.layoutBox,n)&&At(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],m=jt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Ei();Ks(a,n,r.layoutBox);const l=Ei();o?Ks(l,e.applyTransform(i,!0),r.measuredBox):Ks(l,n,r.layoutBox);const c=!zb(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const y=Oe();qs(y,r.layoutBox,h.layoutBox);const x=Oe();qs(x,n,m.layoutBox),Vb(y,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function mM(e){Ms&&An.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function gM(e){e.clearSnapshot()}function d0(e){e.clearMeasurements()}function yM(e){e.isLayoutDirty=!1}function vM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function f0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xM(e){e.resolveTargetDelta()}function wM(e){e.calcProjection()}function bM(e){e.resetSkewAndRotation()}function kM(e){e.removeLeadSnapshot()}function h0(e,t,r){e.translate=Ne(t.translate,0,r),e.scale=Ne(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function m0(e,t,r,n){e.min=Ne(t.min,r.min,n),e.max=Ne(t.max,r.max,n)}function SM(e,t,r,n){m0(e.x,t.x,r.x,n),m0(e.y,t.y,r.y,n)}function _M(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const EM={duration:.45,ease:[.4,0,.1,1]},p0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),g0=p0("applewebkit/")&&!p0("chrome/")?Math.round:_t;function y0(e){e.min=g0(e.min),e.max=g0(e.max)}function jM(e){y0(e.x),y0(e.y)}function Gb(e,t,r){return e==="position"||e==="preserve-aspect"&&!TA(l0(t),l0(r),.2)}function CM(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const NM=Hb({attachResizeListener:(e,t)=>Eo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yu={current:void 0},Wb=Hb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yu.current){const e=new NM({});e.mount(window),e.setOptions({layoutScroll:!0}),yu.current=e}return yu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),TM={pan:{Feature:GA},drag:{Feature:HA,ProjectionNode:Wb,MeasureLayout:Fb}};function v0(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&_e.postRender(()=>s(t,Ho(t)))}class RM extends wn{mount(){const{current:t}=this.node;t&&(this.unmount=RP(t,r=>(v0(this.node,r,"Start"),n=>v0(this.node,n,"End"))))}unmount(){}}class PM extends wn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bo(Eo(this.node.current,"focus",()=>this.onFocus()),Eo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x0(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&_e.postRender(()=>s(t,Ho(t)))}class AM extends wn{mount(){const{current:t}=this.node;t&&(this.unmount=IP(t,r=>(x0(this.node,r,"Start"),(n,{success:i})=>x0(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zd=new WeakMap,vu=new WeakMap,MM=e=>{const t=zd.get(e.target);t&&t(e)},IM=e=>{e.forEach(MM)};function OM({root:e,...t}){const r=e||document;vu.has(r)||vu.set(r,{});const n=vu.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(IM,{root:e,...t})),n[i]}function LM(e,t,r){const n=OM(t);return zd.set(e,r),n.observe(e),()=>{zd.delete(e),n.unobserve(e)}}const DM={some:0,all:1};class FM extends wn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:DM[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return LM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some($M(t,r))&&this.startObserver()}unmount(){}}function $M({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const UM={inView:{Feature:FM},tap:{Feature:AM},focus:{Feature:PM},hover:{Feature:RM}},zM={layout:{ProjectionNode:Wb,MeasureLayout:Fb}},Vd={current:null},Kb={current:!1};function VM(){if(Kb.current=!0,!!ch)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vd.current=e.matches;e.addListener(t),t()}else Vd.current=!1}const BM=[...vb,rt,fn],HM=e=>BM.find(yb(e)),w0=new WeakMap;function GM(e,t,r){for(const n in t){const i=t[n],s=r[n];if(st(i))e.addValue(n,i);else if(st(s))e.addValue(n,So(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,So(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const b0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WM{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ur.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,_e.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=hc(r),this.isVariantNode=jw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const y=h[m];l[m]!==void 0&&st(y)&&y.set(l[m],!1)}}mount(t){this.current=t,w0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Kb.current||VM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){w0.delete(this.current),this.projection&&this.projection.unmount(),dn(this.notifyUpdate),dn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ei.has(t),i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&_e.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Yi){const r=Yi[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<b0.length;n++){const i=b0[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=GM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=So(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(pb(i)||ob(i))?i=parseFloat(i):!HM(i)&&fn.test(r)&&(i=fb(t,r)),this.setBaseTarget(t,st(i)?i.get():i)),st(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=gh(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!st(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Rh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class qb extends WM{constructor(){super(...arguments),this.KeyframeResolver=xb}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;st(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function KM(e){return window.getComputedStyle(e)}class qM extends qb{constructor(){super(...arguments),this.type="html",this.renderInstance=Ow}readValueFromInstance(t,r){if(ei.has(r)){const n=Oh(r);return n&&n.default||0}else{const n=KM(t),i=(Aw(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Lb(t,r)}build(t,r,n){xh(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Sh(t,r,n)}}class YM extends qb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oe}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ei.has(r)){const n=Oh(r);return n&&n.default||0}return r=Lw.has(r)?r:hh(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return $w(t,r,n)}build(t,r,n){wh(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){Dw(t,r,n,i)}mount(t){this.isSVGTag=kh(t.tagName),super.mount(t)}}const JM=(e,t)=>ph(e)?new YM(t):new qM(t,{allowProjection:e!==b.Fragment}),QM=SP({...wA,...UM,...TM,...zM},JM),ce=FR(QM),gc=xn()(rc(e=>({theme:"system",language:"pt",setTheme:t=>e({theme:t}),setLanguage:t=>e({language:t})}),{name:"settings"})),XM={en:{common:{search:"Search for recipes...",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",profile:"Profile",darkMode:"Dark Mode",language:"Language",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",settings:"Settings",createaccount:"Create Account",dontHaveAccount:"Don't have an account? ",alreadyHaveAccount:"Already have an account? ",theme:{light:"Light",dark:"Dark",system:"System"}},buttons:{BackToRecipes:"Back to Recipes",My_recipes:"My recipes",Favorites:"Favorites",Nutrition_goal:"Nutrition Goals"},filters:{advanced:"Advanced Filters",minRating:"Minimum Rating",clearAll:"Clear All Filters",prepTime:{quick:"Quick (15 min)",medium:"Medium (30 min)",long:"Long (>30 min)"}},home:{title:"Discover Healthy Recipes",subtitle:"Find and share nutritious recipes that match your dietary preferences.",createRecipe:"Create Recipe",noRecipes:"No recipes found. Try adjusting your filters, or log in to see the recipes."},profile:{myRecipes:"My Recipes",favorites:"Favorites",nutritionGoals:"Nutrition Goals",settings:"Settings",noRecipesYet:"You haven't published any recipes yet.",noFavorites:"You haven't saved any recipes as favorites yet.",statistics:"Statistics",publishedRecipes:"Published Recipes",totalReviews:"Total Reviews",averageRating:"Average Rating",experience:"Experience",healthGoals:"Health Goals",dietaryPreferences:"Dietary Preferences",allergies:"Allergies",dailyGoals:"Daily Goals",recentFavorites:"Recent Favorites",personalInfo:"Personal Information",accountType:"Account Type",email:"Email",name:"Name",password:"Password",nutricionist:"Nutricionist",client:"Client",saveGoals:"Save goals",nutritionGoalsnames:{calories:"Calories",protein:"Protein",carbs:"Carbs",fat:"Fat",fiber:"Fiber"}},categories:{all:"All",vegan:"Vegan",lowCarb:"Low Carb",highProtein:"High Protein",glutenFree:"Gluten Free",vegetarian:"Vegetarian"},recipe:{recipeTitle:"Title",recipeImageURL:"Image URL",recipeDescription:"Description",prepTime:"Preparation Time",difficulty:"Difficulty",recipeCategory:"Category",ingredients:"Ingredients",instructions:"Instructions",nutritionFacts:"Nutrition Facts (Per Serving)",reviews:"Reviews",writeReview:"Write your review...",submitReview:"Submit Review",signInToReview:"Please sign in to leave a review.",addIngredient:"Add Ingredient",addStep:"Add Step",step:"Step",Step:"Step",example:'"2 cups flour"',perServing:"per serving",deleteConfirm:"Are you sure you want to delete this recipe?",share:"Share Recipe",edit:"Edit Recipe",delete:"Delete Recipe",difficultyLevels:{easy:"Easy",medium:"Medium",hard:"Hard"},CreateNewRecipe:"Create new recipe",CreateRecipe:"Create recipe",rating:"Rating",noReviews:"No reviews"}},pt:{common:{search:"Buscar receitas...",signIn:"Entrar",signUp:"Cadastrar",signOut:"Sair",profile:"Perfil",darkMode:"Modo Escuro",language:"Idioma",loading:"Carregando...",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",back:"Voltar",settings:"Configuraes",createaccount:"Criar conta",dontHaveAccount:"No tem uma conta? ",alreadyHaveAccount:"J tem uma conta? ",theme:{light:"Claro",dark:"Escuro",system:"Sistema"}},buttons:{BackToRecipes:"Voltar para as receitas",My_recipes:"Minhas receitas",Favorites:"Favoritos",Nutrition_goal:"Metas Nutricionais"},filters:{advanced:"Filtros Avanados",minRating:"Avaliao Mnima",clearAll:"Limpar Todos os Filtros",prepTime:{quick:"Rpido (15 min)",medium:"Mdio (30 min)",long:"Longo (>30 min)"}},home:{title:"Descubra Receitas Saudveis",subtitle:"Encontre e compartilhe receitas nutritivas que combinam com suas preferncias alimentares.",createRecipe:"Criar Receita",noRecipes:"Nenhuma receita encontrada. Tente ajustar seus filtros ou faa login para ver as receitas."},profile:{myRecipes:"Minhas Receitas",favorites:"Favoritos",nutritionGoals:"Metas Nutricionais",settings:"Configuraes",noRecipesYet:"Voc ainda no publicou nenhuma receita.",noFavorites:"Voc ainda no salvou nenhuma receita como favorita.",statistics:"Estatsticas",publishedRecipes:"Receitas Publicadas",totalReviews:"Total de Avaliaes",averageRating:"Avaliao Mdia",experience:"Experincia",healthGoals:"Objetivos de Sade",dietaryPreferences:"Preferncias Alimentares",allergies:"Alergias",dailyGoals:"Metas Dirias",recentFavorites:"Favoritos Recentes",personalInfo:"Informaes Pessoais",accountType:"Tipo de Conta",email:"Email",name:"Nome completo",password:"Senha",nutricionist:"Nutricionista",client:"Cliente",saveGoals:"Salvar metas",nutritionGoalsnames:{calories:"Calorias",protein:"Protena",carbs:"Carboidratos",fat:"Gordura",fiber:"Fibra"}},categories:{all:"Todas",vegan:"Vegana",lowCarb:"Baixo Carboidrato",highProtein:"Rica em Protena",glutenFree:"Sem Glten",vegetarian:"Vegetariana"},recipe:{recipeTitle:"Titulo",recipeImageURL:"URL da imagem",recipeDescription:"Descrio",prepTime:"Tempo de Preparo",difficulty:"Dificuldade",recipeCategory:"Categoria",ingredients:"Ingredientes",addIngredient:"Adicionar Ingrediente",instructions:"Modo de Preparo",addStep:"Adicionar Passo",step:"Passo a passo",Step:"Passo",example:"Exemplo: 2 xcaras de aucar",nutritionFacts:"Informao Nutricional (Por poro)",reviews:"Avaliaes",writeReview:"Escreva sua avaliao...",submitReview:"Enviar Avaliao",signInToReview:"Faa login para deixar uma avaliao.",perServing:"por poro",deleteConfirm:"Tem certeza que deseja excluir esta receita?",share:"Compartilhar Receita",edit:"Editar Receita",delete:"Excluir Receita",difficultyLevels:{easy:"Fcil",medium:"Mdio",hard:"Difcil"},CreateNewRecipe:"Criar nova receita",CreateRecipe:"Criar receita",rating:"Avalie essa receita",noReviews:"Sem Avaliaes"}}};function Qe(){const{language:e}=gc();return XM[e]}function ZM({isOpen:e,onClose:t}){const[r,n]=b.useState(""),[i,s]=b.useState(!1),[o,a]=b.useState("email"),[l,c]=b.useState("");if(Qe(),!e)return null;const d=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y),f=async y=>{y.preventDefault();const x=r.toLowerCase().trim();if(!x){c("Por favor, digite seu email.");return}if(!d(x)){c("Por favor, digite um email vlido.");return}s(!0),c("");try{if(console.log("Starting password reset process for:",x),!await vR(x)){c("Email no encontrado. Verifique se o email est correto ou crie uma conta."),a("error");return}console.log("Email exists, sending reset email..."),await xR(x),console.log("Reset email sent successfully"),a("sent")}catch(w){console.error("Password reset error:",w);let g="Erro ao enviar email de recuperao. Tente novamente em alguns minutos.";w.message&&(g=w.message),c(g),a("error")}finally{s(!1)}},h=()=>{n(""),a("email"),c(""),s(!1),t()},m=()=>{a("email"),c(""),s(!1)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[u.jsx("button",{onClick:h,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:i,children:u.jsx(vn,{className:"w-6 h-6"})}),o==="email"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:u.jsx(Rj,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Esqueci minha senha"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite seu email para receber o link de recuperao"})]})]}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsx("input",{type:"email",id:"email",value:r,onChange:y=>n(y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"seu@email.com",required:!0,disabled:i,autoComplete:"email"})]}),l&&u.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),u.jsxs("button",{type:"submit",disabled:i||!r.trim(),className:me("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",i||!r.trim()?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[i&&u.jsx(Hi,{className:"w-4 h-4 animate-spin"}),i?"Verificando...":"Enviar link de recuperao"]})]}),u.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:u.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[u.jsx("strong",{children:"Dica:"})," Verifique sua pasta de spam caso no receba o email em alguns minutos."]})})]}),o==="sent"&&u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx(Xl,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Email enviado!"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Enviamos um link de recuperao para ",u.jsx("strong",{children:r}),". Verifique sua caixa de entrada e pasta de spam."]}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:u.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[u.jsx("strong",{children:"Importante:"})," O link expira em 1 hora. Se no receber o email em alguns minutos, verifique sua pasta de spam ou tente novamente."]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:h,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Fechar"}),u.jsx("button",{onClick:m,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Enviar novamente"})]})]}),o==="error"&&u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:u.jsx(Ql,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao enviar"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:m,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Tentar novamente"}),u.jsx("button",{onClick:h,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Fechar"})]})]})]})})}const k0="authMode@NutriChefe";function eI({isOpen:e,onClose:t,initialMode:r="signin"}){const[n,i]=b.useState(r),[s,o]=b.useState(""),[a,l]=b.useState(""),[c,d]=b.useState(""),[f,h]=b.useState("Client"),[m,y]=b.useState(!1),[x,w]=b.useState(!1),g=Qe(),{signIn:p,signUp:v}=qe();b.useEffect(()=>{if(!e)return;let k=r;try{const C=localStorage.getItem(k0);!r&&C&&(k=C)}catch{}i(k)},[e,r]),b.useEffect(()=>{try{localStorage.setItem(k0,n)}catch{}},[n]);const _=n==="signup";if(!e)return null;const E=async k=>{k.preventDefault(),y(!0);try{n==="signin"?await p(s,a,c):await v(s,a,c,f),t()}catch(C){console.error("Auth error:",C)}finally{y(!1)}},T=()=>{w(!0)};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[u.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:u.jsx(vn,{className:"w-6 h-6"})}),u.jsx("h2",{className:"sr-only",children:_?g.common.createaccount:g.common.signIn}),u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[_&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:g.profile.name}),u.jsx("input",{type:"text",id:"name",name:"name",value:c,onChange:k=>d(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:g.profile.accountType}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("button",{type:"button",onClick:()=>h("Client"),className:me("px-4 py-2 rounded-lg border-2 transition-colors dark:bg-white dark:text-black",f==="Client"?"border-green-500 bg-green-50 dark:bg-green-50 text-green-700 dark:text-green-700":"border-gray-200 hover:border-green-200"),children:g.profile.client}),u.jsx("button",{type:"button",onClick:()=>h("Nutritionist"),className:me("px-4 py-2 rounded-lg border-2 transition-colors dark:bg-white dark:text-black",f==="Nutritionist"?"border-green-500 bg-green-50 dark:bg-green-50 text-green-700 dark:text-green-700":"border-gray-200 hover:border-green-200"),children:g.profile.nutricionist})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:"Email"}),u.jsx("input",{type:"email",id:"email",name:"email",value:s,onChange:k=>o(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:g.profile.password}),u.jsx("input",{type:"password",id:"password",name:"password",value:a,onChange:k=>l(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),n==="signin"&&u.jsx("div",{className:"text-right",children:u.jsx("button",{type:"button",onClick:T,className:"text-sm text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 font-medium",children:"Esqueci minha senha"})}),u.jsx("button",{type:"submit",disabled:m,className:me("w-full py-2 rounded-lg text-white font-medium transition-colors",m?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:m?g.common.loading:n==="signin"?g.common.signIn:g.common.signUp})]}),u.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-300",children:[n==="signin"?g.common.dontHaveAccount:g.common.alreadyHaveAccount,u.jsx("button",{type:"button",onClick:()=>i(n==="signin"?"signup":"signin"),className:"text-green-600 hover:text-green-700 font-medium ml-1",children:n==="signin"?g.common.signUp:g.common.signIn})]})]})}),u.jsx(ZM,{isOpen:x,onClose:()=>w(!1)})]})}function S0(){const{theme:e,setTheme:t}=gc(),r=Qe(),n=[{id:"light",icon:Dj,label:r.common.theme.light},{id:"dark",icon:Aj,label:r.common.theme.dark}];return u.jsx("div",{className:"flex items-center gap-2",children:n.map(({id:i,icon:s,label:o})=>u.jsx("button",{onClick:()=>t(i),className:`p-2 rounded-lg transition-colors ${e===i?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,title:o,children:u.jsx(s,{className:"w-5 h-5"})},i))})}function _0(){const{language:e,setLanguage:t}=gc(),[r,n]=b.useState(!1),i=[{value:"en",label:"English",flag:""},{value:"pt",label:"Portugus",flag:""}],s=i.find(o=>o.value===e);return u.jsxs("div",{className:"relative",children:[u.jsxs(ce.button,{onClick:()=>n(!r),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(jj,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),u.jsx("span",{className:"text-lg",children:s==null?void 0:s.flag}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 hidden sm:block",children:s==null?void 0:s.label})]}),u.jsx(ce.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:u.jsx(_j,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),u.jsx(Uo,{children:r&&u.jsxs(u.Fragment,{children:[u.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>n(!1)}),u.jsx(ce.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:i.map((o,a)=>u.jsxs(ce.button,{onClick:()=>{t(o.value),n(!1)},className:`w-full px-4 py-3 text-left flex items-center gap-3 transition-colors ${e===o.value?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},whileHover:{x:4},children:[u.jsx("span",{className:"text-xl",children:o.flag}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:o.label}),e===o.value&&u.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Selecionado"})]}),e===o.value&&u.jsx(ce.div,{className:"ml-auto w-2 h-2 bg-green-500 rounded-full",initial:{scale:0},animate:{scale:1},transition:{delay:.1}})]},o.value))})]})})]})}function tI({onProfileClick:e,onAIMentoringClick:t}){const[r,n]=b.useState(!1),[i,s]=b.useState("signin"),[o,a]=b.useState(!1),{user:l,isAuthenticated:c,signOut:d,isNutritionist:f}=qe(),{hasFeatureAccess:h}=ww(),{searchQuery:m,setSearchQuery:y}=sh(),x=Qe(),w=p=>{s(p),n(!0)},g=c&&(f()||h("ai_mentoring"));return u.jsxs(u.Fragment,{children:[u.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsx("div",{className:"flex items-center",children:u.jsx(ce.h1,{className:"text-2xl font-bold text-green-600 dark:text-green-400 cursor-pointer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"NutriChef"})}),u.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-8",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:m,onChange:p=>y(p.target.value),placeholder:x.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),u.jsx(Fp,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),u.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-200 dark:border-gray-600 pr-4 mr-4",children:[u.jsx(S0,{}),u.jsx(_0,{})]}),c?u.jsxs(ce.div,{className:"flex items-center space-x-4",initial:{opacity:0},animate:{opacity:1},children:[u.jsxs("button",{onClick:t,className:me("flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors",g?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),title:g?"Mentoria IA":"Mentoria IA (Premium)",children:[u.jsx(Fn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden lg:inline",children:"Mentoria IA"}),!g&&u.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:"Premium"})]}),u.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[u.jsx(vo,{className:"w-4 h-4"}),u.jsx("span",{children:l==null?void 0:l.name})]}),u.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[u.jsx(Dp,{className:"w-4 h-4"}),u.jsx("span",{children:x.common.signOut})]})]}):u.jsxs("div",{className:"flex space-x-4",children:[u.jsx(ce.button,{onClick:()=>w("signin"),className:"px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:x.common.signIn}),u.jsx(ce.button,{onClick:()=>w("signup"),className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:x.common.signUp})]})]}),u.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[u.jsx(S0,{}),u.jsx(_0,{}),u.jsx("button",{onClick:()=>a(!o),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:u.jsx(Pj,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})]})]})}),u.jsx(Uo,{children:o&&u.jsx(ce.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:u.jsxs("div",{className:"px-4 py-3 space-y-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:m,onChange:p=>y(p.target.value),placeholder:x.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),u.jsx(Fp,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),c?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:()=>{t(),a(!1)},className:me("w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors",g?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),children:[u.jsx(Fn,{className:"w-4 h-4"}),u.jsx("span",{children:"Mentoria IA"}),!g&&u.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:"Premium"})]}),u.jsxs("button",{onClick:()=>{e(),a(!1)},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[u.jsx(vo,{className:"w-4 h-4"}),u.jsx("span",{children:x.common.profile})]}),u.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[u.jsx(Dp,{className:"w-4 h-4"}),u.jsx("span",{children:x.common.signOut})]})]}):u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:()=>{w("signin"),a(!1)},className:"w-full px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:x.common.signIn}),u.jsx("button",{onClick:()=>{w("signup"),a(!1)},className:"w-full px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:x.common.signUp})]})]})})})]}),u.jsx(eI,{isOpen:r,onClose:()=>n(!1),initialMode:i})]})}const fr=xn((e,t)=>({recipes:[],favoriteRecipes:[],loading:!1,error:null,clearUserData:()=>{console.log("Clearing user data from recipes store"),e({favoriteRecipes:[]})},initializeAuth:async()=>{const{user:r}=qe.getState();r&&await t().fetchFavorites(r.id)},fetchRecipes:async()=>{e({loading:!0,error:null});try{console.log("Fetching recipes from database...");const r=await dR();console.log("Recipes fetched successfully:",r.length),e({recipes:r,loading:!1});const{user:n}=qe.getState();n&&await t().fetchFavorites(n.id)}catch(r){console.error("Error fetching recipes:",r);const n=r instanceof Error?r.message:"Failed to fetch recipes";e({error:n,loading:!1}),ie.getState().showToast("Erro ao carregar receitas","error")}},fetchFavorites:async r=>{try{console.log("Fetching favorites for user:",r);const n=await yR(r);console.log("Favorites fetched:",n),e({favoriteRecipes:n})}catch(n){console.error("Failed to fetch favorites:",n)}},addToFavorites:async r=>{const{user:n}=qe.getState();if(!n){ie.getState().showToast("Faa login para favoritar receitas","error");return}try{console.log("Adding to favorites:",{userId:n.id,recipeId:r}),await pR(n.id,r),e(i=>({favoriteRecipes:[...i.favoriteRecipes,r]})),ie.getState().showToast("Adicionado aos favoritos","success")}catch(i){console.error("Failed to add favorite:",i);const s=i instanceof Error?i.message:"Erro ao adicionar aos favoritos";ie.getState().showToast(s,"error")}},removeFromFavorites:async r=>{const{user:n}=qe.getState();if(!n){ie.getState().showToast("Faa login para gerenciar favoritos","error");return}try{console.log("Removing from favorites:",{userId:n.id,recipeId:r}),await gR(n.id,r),e(i=>({favoriteRecipes:i.favoriteRecipes.filter(s=>s!==r)})),ie.getState().showToast("Removido dos favoritos","info")}catch(i){console.error("Failed to remove favorite:",i);const s=i instanceof Error?i.message:"Erro ao remover dos favoritos";ie.getState().showToast(s,"error")}},addReview:async(r,n)=>{try{console.log("Adding review:",{recipeId:r,review:n}),await fR(r,{user_id:n.userId,rating:n.rating,comment:n.comment}),await t().fetchRecipes(),ie.getState().showToast("Avaliao adicionada com sucesso!","success")}catch(i){console.error("Failed to add review:",i);const s=i instanceof Error?i.message:"Erro ao adicionar avaliao";throw ie.getState().showToast(s,"error"),i}},updateReview:async(r,n)=>{try{console.log("Updating review:",{reviewId:r,updates:n}),await hR(r,n),await t().fetchRecipes(),ie.getState().showToast("Avaliao atualizada com sucesso!","success")}catch(i){console.error("Failed to update review:",i);const s=i instanceof Error?i.message:"Erro ao atualizar avaliao";throw ie.getState().showToast(s,"error"),i}},deleteReview:async r=>{try{console.log("Deleting review:",r),await mR(r),await t().fetchRecipes(),ie.getState().showToast("Avaliao excluda com sucesso!","success")}catch(n){console.error("Failed to delete review:",n);const i=n instanceof Error?n.message:"Erro ao excluir avaliao";throw ie.getState().showToast(i,"error"),n}},createRecipe:async r=>{e({loading:!0,error:null});try{console.log("Creating recipe:",r),await lR(r),await t().fetchRecipes(),ie.getState().showToast("Receita criada com sucesso!","success")}catch(n){console.error("Failed to create recipe:",n);const i=n instanceof Error?n.message:"Failed to create recipe";throw e({error:i}),ie.getState().showToast("Erro ao criar receita","error"),n}finally{e({loading:!1})}},updateRecipe:async r=>{e({loading:!0,error:null});try{console.log("Updating recipe:",r),await cR(r.id,r),await t().fetchRecipes(),ie.getState().showToast("Receita atualizada com sucesso!","success")}catch(n){console.error("Failed to update recipe:",n);const i=n instanceof Error?n.message:"Failed to update recipe";throw e({error:i}),ie.getState().showToast("Erro ao atualizar receita","error"),n}finally{e({loading:!1})}},deleteRecipe:async r=>{e({loading:!0,error:null});try{console.log("Deleting recipe:",r),await uR(r),e(n=>({recipes:n.recipes.filter(i=>i.id!==r),favoriteRecipes:n.favoriteRecipes.filter(i=>i!==r)})),ie.getState().showToast("Receita excluda com sucesso!","success")}catch(n){console.error("Failed to delete recipe:",n);const i=n instanceof Error?n.message:"Failed to delete recipe";throw e({error:i}),ie.getState().showToast("Erro ao excluir receita","error"),n}finally{e({loading:!1})}}}));function Bd({recipe:e,onClick:t}){const{favoriteRecipes:r,addToFavorites:n,removeFromFavorites:i}=fr(),{isAuthenticated:s}=qe(),o=Qe(),l=o.recipe.difficultyLevels[e.difficulty]||e.difficulty,c=o.categories,f=(x=>{const w={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},g=x.toLowerCase().replace(/\s+/g,""),p=Object.keys(w).find(_=>_.toLowerCase().replace(/\s+/g,"")===g);return p?c[w[p]]:c[x]||x})(e.category),h=r.includes(e.id),m=async x=>{if(x.stopPropagation(),!!s)try{h?await i(e.id):await n(e.id)}catch(w){console.error("Error toggling favorite:",w)}},y=()=>e.rating===0||!e.rating?"Sem avaliaes":e.rating.toFixed(1);return u.jsxs("div",{onClick:t,className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer flex flex-col h-full",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover",onError:x=>{const w=x.target;w.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop"}}),u.jsx("span",{className:"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:f}),s&&u.jsx("button",{onClick:m,className:me("absolute top-4 left-4 p-2 rounded-full bg-white dark:bg-gray-800 shadow-md transition-colors",h?"text-red-500":"text-gray-400 hover:text-red-500"),children:u.jsx(Jf,{className:me("w-5 h-5",h&&"fill-current")})})]}),u.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[u.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white line-clamp-2",children:e.title}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3 flex-grow",children:e.description}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mt-auto pt-4 border-t border-gray-100 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ec,{className:"w-4 h-4 flex-shrink-0"}),u.jsxs("span",{className:"whitespace-nowrap",children:[e.prepTime,"min"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Zl,{className:"w-4 h-4 flex-shrink-0"}),u.jsx("span",{className:me("capitalize whitespace-nowrap",e.difficulty==="easy"&&"text-green-500",e.difficulty==="medium"&&"text-yellow-500",e.difficulty==="hard"&&"text-red-500"),children:l})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Lo,{className:"w-4 h-4 fill-yellow-400 text-yellow-400 flex-shrink-0"}),u.jsx("span",{className:"whitespace-nowrap text-xs",children:y()})]})]})]})]})}function rI({categories:e,selectedCategory:t,onSelectCategory:r}){const i=Qe().categories;return u.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(s=>{const o=i[s]||s;return u.jsx("button",{onClick:()=>r(s),className:me("px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium transition-all duration-200 whitespace-nowrap",t===s?"bg-green-500 text-white shadow-md transform scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:scale-105"),children:o},s)})})}function nI(){const[e,t]=b.useState(!1),[r,n]=b.useState("right"),i=b.useRef(null),s=b.useRef(null),{difficulty:o,prepTimeRange:a,minRating:l,setDifficulty:c,setPrepTimeRange:d,setMinRating:f,resetFilters:h}=sh(),m=Qe(),y=[{value:"quick",label:m.filters.prepTime.quick,max:15},{value:"medium",label:m.filters.prepTime.medium,max:30},{value:"long",label:m.filters.prepTime.long,max:null}],x=[{value:"easy",label:m.recipe.difficultyLevels.easy},{value:"medium",label:m.recipe.difficultyLevels.medium},{value:"hard",label:m.recipe.difficultyLevels.hard}],w=[{value:4,label:"4+ "},{value:4.5,label:"4.5+ "},{value:5,label:"5 "}],g=o||a||l;return b.useEffect(()=>{if(e&&i.current){const p=i.current.getBoundingClientRect(),v=window.innerWidth;p.right+320+16>v?n("left"):n("right")}},[e]),b.useEffect(()=>{function p(v){s.current&&!s.current.contains(v.target)&&i.current&&!i.current.contains(v.target)&&t(!1)}if(e)return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[e]),b.useEffect(()=>{function p(v){v.key==="Escape"&&t(!1)}if(e)return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e]),u.jsxs("div",{className:"relative",children:[u.jsxs(ce.button,{ref:i,onClick:()=>t(!e),className:me("flex items-center gap-2 px-3 sm:px-4 py-2 rounded-lg border transition-all duration-200 whitespace-nowrap text-sm font-medium",g?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-700 dark:text-green-400":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[u.jsx(Ej,{className:"w-4 h-4 flex-shrink-0"}),u.jsx("span",{className:"hidden sm:inline",children:m.filters.advanced}),u.jsx("span",{className:"sm:hidden",children:"Filtros"}),g&&u.jsx(ce.span,{initial:{scale:0},animate:{scale:1},className:"bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:[o,a,l].filter(Boolean).length})]}),u.jsx(Uo,{children:e&&u.jsxs(ce.div,{ref:s,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:me("absolute top-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-6 z-50 max-h-[80vh] overflow-y-auto","right-0",r==="left"&&"sm:right-0 sm:left-auto",r==="right"&&"sm:left-0 sm:right-auto","w-72 sm:w-80"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:m.filters.advanced}),u.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:u.jsx(vn,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[u.jsx(Zl,{className:"w-4 h-4 flex-shrink-0"}),m.recipe.difficulty]}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:x.map(p=>u.jsx(ce.button,{onClick:()=>c(o===p.value?null:p.value),className:me("px-2 sm:px-3 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-center",o===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.02},whileTap:{scale:.98},children:p.label},p.value))})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[u.jsx(ec,{className:"w-4 h-4 flex-shrink-0"}),m.recipe.prepTime]}),u.jsx("div",{className:"space-y-2",children:y.map(p=>u.jsx(ce.button,{onClick:()=>d(a===p.value?null:p.value),className:me("w-full px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-left",a===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[u.jsx(Lo,{className:"w-4 h-4 flex-shrink-0"}),m.filters.minRating]}),u.jsx("div",{className:"space-y-2",children:w.map(p=>u.jsx(ce.button,{onClick:()=>f(l===p.value?null:p.value),className:me("w-full px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-left",l===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),g&&u.jsx(ce.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>{h(),t(!1)},className:"w-full px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 text-sm font-medium",whileHover:{scale:1.01},whileTap:{scale:.99},children:m.filters.clearAll})]})]})})]})}function iI({recipe:e,isOpen:t,onClose:r}){const{updateRecipe:n}=fr(),i=Qe(),[s,o]=b.useState(!1),[a,l]=b.useState(e);if(!t)return null;const c=async D=>{D.preventDefault(),o(!0);try{await n(a),r()}catch(A){console.error("Error updating recipe:",A)}finally{o(!1)}},d=(D,A,te)=>{l(ue=>({...ue,[D]:ue[D].map((Z,oe)=>oe===A?te:Z)}))},f=D=>{l(A=>({...A,[D]:[...A[D],""]}))},h=(D,A)=>{l(te=>({...te,[D]:te[D].filter((ue,Z)=>Z!==A)}))},m=(D,A)=>{const te=parseFloat(A)||0;l(ue=>({...ue,nutritionFacts:{...ue.nutritionFacts,[D]:te}}))},y=i.recipe.edit||"Editar Receita",x=i.recipe.recipeTitle,w=i.recipe.recipeDescription,g=i.recipe.recipeImageURL,p=i.recipe.prepTime,v=i.recipe.difficulty,_=i.recipe.recipeCategory,E=i.recipe.ingredients,T=i.recipe.instructions,k=i.recipe.nutritionFacts,C=i.recipe.addIngredient,I=i.recipe.addStep,P=Object.keys(i.categories).map(D=>({value:D,label:i.categories[D]}));return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-900 text-black dark:text-gray-400 rounded-xl max-w-3xl w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[u.jsx("button",{onClick:r,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:u.jsx(vn,{className:"w-6 h-6"})}),u.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:y}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:x}),u.jsx("input",{type:"text",value:a.title,onChange:D=>l(A=>({...A,title:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:g}),u.jsx("input",{type:"url",value:a.image,onChange:D=>l(A=>({...A,image:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:w}),u.jsx("textarea",{value:a.description,onChange:D=>l(A=>({...A,description:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",rows:3,required:!0})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:p}),u.jsx("input",{type:"number",value:a.prepTime,onChange:D=>l(A=>({...A,prepTime:Number(D.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",min:"1",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:v}),u.jsxs("select",{value:a.difficulty,onChange:D=>l(A=>({...A,difficulty:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:[u.jsx("option",{value:"easy",children:i.recipe.difficultyLevels.easy}),u.jsx("option",{value:"medium",children:i.recipe.difficultyLevels.medium}),u.jsx("option",{value:"hard",children:i.recipe.difficultyLevels.hard})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:_}),u.jsx("select",{value:a.category,onChange:D=>l(A=>({...A,category:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:P.map(D=>u.jsx("option",{value:D.value,children:D.label},D.value))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:E}),a.ingredients.map((D,A)=>u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("input",{type:"text",value:D,onChange:te=>d("ingredients",A,te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:i.recipe.example,required:!0}),u.jsx("button",{type:"button",onClick:()=>h("ingredients",A),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:u.jsx(vl,{className:"w-5 h-5"})})]},A)),u.jsxs("button",{type:"button",onClick:()=>f("ingredients"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[u.jsx(yo,{className:"w-4 h-4"})," ",C]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:T}),a.instructions.map((D,A)=>u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("input",{type:"text",value:D,onChange:te=>d("instructions",A,te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:`${i.recipe.Step} ${A+1}`,required:!0}),u.jsx("button",{type:"button",onClick:()=>h("instructions",A),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:u.jsx(vl,{className:"w-5 h-5"})})]},A)),u.jsxs("button",{type:"button",onClick:()=>f("instructions"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[u.jsx(yo,{className:"w-4 h-4"})," ",I]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2 dark:text-white",children:k}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(a.nutritionFacts).map(([D,A])=>{const te=D;return u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 mb-1 capitalize dark:text-white",children:i.profile.nutritionGoalsnames[te]}),u.jsx("input",{type:"number",step:"0.01",min:"0",value:A,onChange:ue=>m(D,ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.00",required:!0})]},D)})})]}),u.jsx("button",{type:"submit",disabled:s,className:me("w-full py-3 rounded-lg text-white font-medium transition-colors",s?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:s?"Salvando...":"Salvar Alteraes"})]})]})})}function Yb({recipe:e,onClose:t}){const[r,n]=b.useState({rating:5,comment:""}),[i,s]=b.useState(null),[o,a]=b.useState(!1),{user:l,isAuthenticated:c}=qe(),{favoriteRecipes:d,addToFavorites:f,removeFromFavorites:h,addReview:m,updateReview:y,deleteReview:x,deleteRecipe:w}=fr(),g=Qe(),v=g.recipe.difficultyLevels[e.difficulty]||e.difficulty,_=g.categories,T=(R=>{const O={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},U=R.toLowerCase().replace(/\s+/g,""),q=Object.keys(O).find(ze=>ze.toLowerCase().replace(/\s+/g,"")===U);return q?_[O[q]]:_[R]||R})(e.category),k=d.includes(e.id),C=(l==null?void 0:l.id)===e.authorId,I=async R=>{if(R.preventDefault(),!!l)try{await m(e.id,{userId:l.id,userName:l.name,rating:r.rating,comment:r.comment,date:new Date().toISOString().split("T")[0]}),n({rating:5,comment:""})}catch(O){console.error("Error adding review:",O)}},P=async R=>{if(R.preventDefault(),!!i)try{await y(i.id,{rating:i.rating,comment:i.comment}),s(null)}catch(O){console.error("Error updating review:",O)}},D=async R=>{if(window.confirm("Tem certeza que deseja excluir esta avaliao?"))try{await x(R)}catch(O){console.error("Error deleting review:",O)}},A=async()=>{window.confirm("Tem certeza que deseja excluir esta receita?")&&(await w(e.id),t())},te=R=>Number(R).toFixed(1),ue=R=>new Date(R).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),Z=()=>e.rating===0||!e.rating?"Sem avaliaes":`${e.rating.toFixed(1)} (${e.reviews.length} ${e.reviews.length===1?"avaliao":"avaliaes"})`,oe=e.reviews.find(R=>R.userId===(l==null?void 0:l.id)),W=c&&!oe;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto z-50",children:u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full p-6 relative text-gray-600 dark:text-white dark:bg-gray-800",children:[u.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 text-2xl",children:""}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-lg"}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[u.jsxs("h4",{className:"font-medium mb-2 text-gray-900 dark:text-white flex items-center gap-2 text-sm",children:[u.jsx(vo,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),"Informaes do Autor"]}),u.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nome:"}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.authorName||"Usurio"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tipo:"}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.authorType==="Nutritionist"?"Nutricionista":"Cliente"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[u.jsx(Sj,{className:"w-3 h-3"}),"Postado em:"]}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ue(e.createdAt)})]})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),u.jsx("span",{className:"inline-block bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium mb-4",children:T})]}),u.jsxs("div",{className:"flex gap-2",children:[c&&u.jsx("button",{onClick:()=>k?h(e.id):f(e.id),className:me("p-2 rounded-full",k?"text-red-500":"text-gray-400"),children:u.jsx(Jf,{className:me("w-5 h-5",k&&"fill-current")})}),C&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>a(!0),className:"p-2 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors",title:"Editar receita",children:u.jsx(Lj,{className:"w-5 h-5"})}),u.jsx("button",{onClick:A,className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors",title:"Excluir receita",children:u.jsx($p,{className:"w-5 h-5"})})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4 dark:text-gray-300",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ec,{className:"w-4 h-4"}),u.jsxs("span",{children:[e.prepTime,"min"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Zl,{className:"w-4 h-4"}),u.jsx("span",{className:me("capitalize",e.difficulty==="easy"&&"text-green-500",e.difficulty==="medium"&&"text-yellow-500",e.difficulty==="hard"&&"text-red-500"),children:v})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Lo,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),u.jsx("span",{children:Z()})]})]}),u.jsx("p",{className:"text-gray-600 mb-4 dark:text-gray-300",children:e.description}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg mb-4",children:[u.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:g.recipe.nutritionFacts}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700 dark:text-gray-300",children:[u.jsxs("div",{children:[g.profile.nutritionGoalsnames.calories,": ",te(e.nutritionFacts.calories)," kcal"]}),u.jsxs("div",{children:[g.profile.nutritionGoalsnames.protein,": ",te(e.nutritionFacts.protein)," g"]}),u.jsxs("div",{children:[g.profile.nutritionGoalsnames.carbs,": ",te(e.nutritionFacts.carbs)," g"]}),u.jsxs("div",{children:[g.profile.nutritionGoalsnames.fat,": ",te(e.nutritionFacts.fat)," g"]}),u.jsxs("div",{children:[g.profile.nutritionGoalsnames.fiber,": ",te(e.nutritionFacts.fiber)," g"]})]})]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:g.recipe.ingredients}),u.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.ingredients.map((R,O)=>u.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:R},O))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:g.recipe.instructions}),u.jsx("ol",{className:"list-decimal list-inside space-y-2",children:e.instructions.map((R,O)=>u.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:R},O))})]})]}),u.jsxs("div",{className:"mt-8",children:[u.jsxs("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:[g.recipe.reviews," (",e.reviews.length,")"]}),W&&u.jsxs("form",{onSubmit:I,className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsx("h4",{className:"font-medium mb-3 text-gray-900 dark:text-white",children:"Adicionar Avaliao"}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[g.recipe.rating,":"]}),[1,2,3,4,5].map(R=>u.jsx("button",{type:"button",onClick:()=>n(O=>({...O,rating:R})),className:me("text-2xl transition-colors",R<=r.rating?"text-yellow-400":"text-gray-300"),children:""},R))]}),u.jsx("textarea",{value:r.comment,onChange:R=>n(O=>({...O,comment:R.target.value})),placeholder:g.recipe.writeReview,className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-black",rows:3,required:!0}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:g.recipe.submitReview})]}),i&&u.jsxs("form",{onSubmit:P,className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Editar Avaliao"}),u.jsx("button",{type:"button",onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:u.jsx(vn,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Avaliao:"}),[1,2,3,4,5].map(R=>u.jsx("button",{type:"button",onClick:()=>s(O=>O?{...O,rating:R}:null),className:me("text-2xl transition-colors",R<=i.rating?"text-yellow-400":"text-gray-300"),children:""},R))]}),u.jsx("textarea",{value:i.comment,onChange:R=>s(O=>O?{...O,comment:R.target.value}:null),placeholder:"Escreva sua avaliao...",className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-black",rows:3,required:!0}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar Alteraes"}),u.jsx("button",{type:"button",onClick:()=>s(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]}),!c&&u.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:g.recipe.signInToReview}),u.jsx("div",{className:"space-y-4",children:e.reviews.length===0?u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:g.recipe.noReviews||"Nenhuma avaliao ainda"}):e.reviews.map(R=>{const O=(l==null?void 0:l.id)===R.userId;return u.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:R.userName}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex items-center",children:[...Array(5)].map((U,q)=>u.jsx("span",{className:me("text-lg",q<R.rating?"text-yellow-400":"text-gray-300"),children:""},q))}),O&&u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>s({id:R.id,rating:R.rating,comment:R.comment}),className:"p-1 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Editar avaliao",children:u.jsx(Mj,{className:"w-3 h-3"})}),u.jsx("button",{onClick:()=>D(R.id),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Excluir avaliao",children:u.jsx($p,{className:"w-3 h-3"})})]})]})]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:R.comment}),u.jsx("span",{className:"text-sm text-gray-400",children:R.date})]},R.id)})})]})]})})}),o&&u.jsx(iI,{recipe:e,isOpen:o,onClose:()=>a(!1)})]})}function sI({isOpen:e,onClose:t}){var x,w;const{user:r}=qe(),{createRecipe:n}=fr(),i=Qe(),[s,o]=b.useState(!1),[a,l]=b.useState({title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}});if(!e||!r)return null;const c=async g=>{if(g.preventDefault(),!r){console.error("User not authenticated");return}o(!0);try{console.log("Submitting recipe:",a),console.log("User ID:",r.id);const p={...a,authorId:r.id,rating:0,reviews:[]};await n(p),l({title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}}),t()}catch(p){console.error("Error creating recipe:",p)}finally{o(!1)}},d=(g,p,v)=>{l(_=>{var E;return{..._,[g]:(E=_[g])==null?void 0:E.map((T,k)=>k===p?v:T)}})},f=g=>{l(p=>({...p,[g]:[...p[g]||[],""]}))},h=(g,p)=>{l(v=>{var _;return{...v,[g]:(_=v[g])==null?void 0:_.filter((E,T)=>T!==p)}})},m=(g,p)=>{const v=parseFloat(p)||0;l(_=>({..._,nutritionFacts:{..._.nutritionFacts,[g]:v}}))},y=Object.keys(i.categories).filter(g=>g!=="all").map(g=>({value:g,label:i.categories[g]}));return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-900 text-black dark:text-gray-400 rounded-xl max-w-3xl w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[u.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:u.jsx(vn,{className:"w-6 h-6"})}),u.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:i.recipe.CreateNewRecipe}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:i.recipe.recipeTitle}),u.jsx("input",{type:"text",value:a.title,onChange:g=>l(p=>({...p,title:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:i.recipe.recipeImageURL}),u.jsx("input",{type:"url",value:a.image,onChange:g=>l(p=>({...p,image:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"https://example.com/image.jpg",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:i.recipe.recipeDescription}),u.jsx("textarea",{value:a.description,onChange:g=>l(p=>({...p,description:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",rows:3,required:!0})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:[i.recipe.prepTime," (minutos)"]}),u.jsx("input",{type:"number",value:a.prepTime,onChange:g=>l(p=>({...p,prepTime:Number(g.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",min:"1",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:i.recipe.difficulty}),u.jsxs("select",{value:a.difficulty,onChange:g=>l(p=>({...p,difficulty:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:[u.jsx("option",{value:"easy",children:i.recipe.difficultyLevels.easy}),u.jsx("option",{value:"medium",children:i.recipe.difficultyLevels.medium}),u.jsx("option",{value:"hard",children:i.recipe.difficultyLevels.hard})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:i.recipe.recipeCategory}),u.jsx("select",{value:a.category,onChange:g=>l(p=>({...p,category:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:y.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:i.recipe.ingredients}),(x=a.ingredients)==null?void 0:x.map((g,p)=>u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("input",{type:"text",value:g,onChange:v=>d("ingredients",p,v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:i.recipe.example,required:!0}),a.ingredients.length>1&&u.jsx("button",{type:"button",onClick:()=>h("ingredients",p),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:u.jsx(vl,{className:"w-5 h-5"})})]},p)),u.jsxs("button",{type:"button",onClick:()=>f("ingredients"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[u.jsx(yo,{className:"w-4 h-4"})," ",i.recipe.addIngredient]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:i.recipe.instructions}),(w=a.instructions)==null?void 0:w.map((g,p)=>u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("input",{type:"text",value:g,onChange:v=>d("instructions",p,v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:`${i.recipe.Step} ${p+1}`,required:!0}),a.instructions.length>1&&u.jsx("button",{type:"button",onClick:()=>h("instructions",p),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:u.jsx(vl,{className:"w-5 h-5"})})]},p)),u.jsxs("button",{type:"button",onClick:()=>f("instructions"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[u.jsx(yo,{className:"w-4 h-4"})," ",i.recipe.addStep]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2 dark:text-white",children:i.recipe.nutritionFacts}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(a.nutritionFacts||{}).map(([g,p])=>{const v=g;return u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-600 mb-1 capitalize dark:text-white",children:i.profile.nutritionGoalsnames[v]}),u.jsx("input",{type:"number",step:"0.01",min:"0",value:p,onChange:_=>m(g,_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.00",required:!0})]},g)})})]}),u.jsx("button",{type:"submit",disabled:s,className:me("w-full py-3 rounded-lg text-white font-medium transition-colors",s?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:s?"Criando...":i.recipe.CreateRecipe})]})]})})}function oI({message:e,type:t,onClose:r,duration:n=3e3}){Yd.useEffect(()=>{const s=setTimeout(r,n);return()=>clearTimeout(s)},[n,r]);const i={success:u.jsx(Xl,{className:"w-5 h-5 text-green-500"}),error:u.jsx(Ql,{className:"w-5 h-5 text-red-500"}),info:u.jsx(Nj,{className:"w-5 h-5 text-blue-500"})};return u.jsx(Uo,{children:u.jsxs(ce.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:me("fixed bottom-4 right-4 flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg",t==="success"&&"bg-green-50 border border-green-200",t==="error"&&"bg-red-50 border border-red-200",t==="info"&&"bg-blue-50 border border-blue-200"),children:[i[t],u.jsx("span",{className:"text-gray-700",children:e}),u.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-full",children:u.jsx(vn,{className:"w-4 h-4 text-gray-500"})})]})})}function Uh({size:e="md",className:t}){const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return u.jsx(Hi,{className:me("animate-spin",r[e],t)})}function aI(){const e=Mr(),[t,r]=b.useState(null),[n,i]=b.useState(!1),[s,o]=b.useState(!1),{category:a,searchQuery:l,difficulty:c,prepTimeRange:d,minRating:f,setCategory:h}=sh(),{recipes:m,loading:y,fetchRecipes:x}=fr(),{isAuthenticated:w,isNutritionist:g,initializeAuth:p}=qe(),{message:v,type:_,hideToast:E}=ie(),T=Qe(),k=["all","vegan","lowCarb","highProtein","glutenFree","vegetarian"];b.useEffect(()=>{(async()=>{if(!s)try{await p(),await x(),o(!0)}catch(te){console.error("Error initializing app:",te),o(!0)}})()},[p,x,s]),b.useEffect(()=>{s&&h("all")},[h,s]);const C=A=>A.toLowerCase().replace(/\s+/g,""),I=A=>{if(!d)return!0;switch(d){case"quick":return A.prepTime<=15;case"medium":return A.prepTime<=30;case"long":return A.prepTime>30;default:return!0}},P=m.filter(A=>{const te=C(A.category),ue=C(a),Z=ue==="all"||te===ue,oe=A.title.toLowerCase().includes(l.toLowerCase())||A.description.toLowerCase().includes(l.toLowerCase()),W=!c||A.difficulty===c,R=!f||A.rating>=f,O=I(A);return Z&&oe&&W&&R&&O}),D=m.find(A=>A.id===t);return u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[u.jsx(tI,{onProfileClick:()=>e("/perfil"),onAIMentoringClick:()=>e("/mentoria-ia")}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-4",children:T.home.title}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl text-sm sm:text-base",children:T.home.subtitle})]}),w&&g()&&u.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm sm:text-base",children:[u.jsx(yo,{className:"w-4 h-4 sm:w-5 sm:h-5"}),T.home.createRecipe]})]}),u.jsxs("div",{className:"mb-8 space-y-4",children:[u.jsx("div",{className:"w-full",children:u.jsx(rI,{categories:k,selectedCategory:a,onSelectCategory:h})}),u.jsx("div",{className:"flex justify-center sm:justify-end",children:u.jsx(nI,{})})]}),y?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(Uh,{size:"lg"})}):P.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:T.home.noRecipes}),m.length===0&&!y&&u.jsx("button",{onClick:x,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar novamente"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(A=>u.jsx(Bd,{recipe:A,onClick:()=>r(A.id)},A.id))})]}),D&&u.jsx(Yb,{recipe:D,onClose:()=>r(null)}),u.jsx(sI,{isOpen:n,onClose:()=>i(!1)}),v&&u.jsx(oI,{message:v,type:_,onClose:E})]})}function lI(){const{user:e}=qe(),{recipes:t}=fr();if(t.filter(r=>r.authorId===(e==null?void 0:e.id)),!e)return null}const cI={calories:2e3,protein:50,carbs:250,fat:70,fiber:25},Jb=xn()(rc(e=>({goals:cI,setGoals:t=>e(r=>({goals:{...r.goals,...Object.fromEntries(Object.entries(t).map(([n,i])=>[n,Number(i)]))}}))}),{name:"nutrition-goals"}));function uI(){const{goals:e,setGoals:t}=Jb(),[r,n]=b.useState(e),i=Qe(),s=i.profile.saveGoals,o=i.profile.dailyGoals,a=i.profile.nutritionGoalsnames,l=d=>{d.preventDefault(),t(r)},c=(d,f)=>{const h=parseFloat(f)||0;n(m=>({...m,[d]:h}))};return u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:o}),Object.entries(r).map(([d,f])=>u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1 capitalize",children:[a[d]," ",d==="calories"?"(kcal)":"(g)"]}),u.jsx("input",{type:"number",step:"0.1",min:"0",value:f,onChange:h=>c(d,h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.0",required:!0})]},d)),u.jsx("button",{type:"submit",className:"w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:s})]})}function xu({active:e,onClick:t,children:r}){return u.jsx("button",{onClick:t,className:`px-4 py-2 font-medium rounded-lg transition-colors ${e?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"}`,children:r})}function dI(){const[e,t]=Yd.useState("recipes"),{user:r}=qe(),{recipes:n,favoriteRecipes:i}=fr(),s=n.filter(f=>f.authorId===(r==null?void 0:r.id)),o=n.filter(f=>i.includes(f.id)),a=Qe(),l=a.buttons.My_recipes,c=a.buttons.Favorites,d=a.buttons.Nutrition_goal;return u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex gap-2 mb-6",children:[(r==null?void 0:r.type)==="Nutritionist"&&u.jsx(xu,{active:e==="recipes",onClick:()=>t("recipes"),children:l}),u.jsx(xu,{active:e==="favorites",onClick:()=>t("favorites"),children:c}),u.jsx(xu,{active:e==="nutrition",onClick:()=>t("nutrition"),children:d})]}),u.jsxs("div",{className:"mt-6",children:[e==="recipes"&&(r==null?void 0:r.type)==="Nutritionist"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.map(f=>u.jsx(Bd,{recipe:f,onClick:()=>{}},f.id)),s.length===0&&u.jsx("p",{className:"text-gray-500 col-span-full text-center py-8",children:a.profile.noRecipesYet})]}),e==="favorites"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.map(f=>u.jsx(Bd,{recipe:f,onClick:()=>{}},f.id)),o.length===0&&u.jsx("p",{className:"text-gray-500 col-span-full text-center py-8",children:a.profile.noFavorites})]}),e==="nutrition"&&u.jsx("div",{className:"max-w-md mx-auto",children:u.jsx(uI,{})})]})]})}function fI(){var d;const{user:e}=qe(),{recipes:t,favoriteRecipes:r}=fr(),{goals:n}=Jb(),i=Qe();if(!e||e.type!=="Client")return null;const s=e.profile||{},o=t.filter(f=>r.includes(f.id)),a=o.length,l=o.reduce((f,h)=>f+h.nutritionFacts.calories,0)/(a||1),c=o.reduce((f,h)=>f+h.prepTime,0)/(a||1);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:i.profile.personalInfo}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[u.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:i.profile.name}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[u.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:i.profile.email}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[u.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:i.profile.accountType}),u.jsx("p",{className:"font-medium capitalize text-gray-900 dark:text-white",children:i.profile.client})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(Jf,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:i.profile.favorites})]}),u.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:a})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(xj,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:i.profile.nutritionGoalsnames.calories})]}),u.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:l.toFixed(0)})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(ec,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:i.recipe.prepTime})]}),u.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[c.toFixed(0),"min"]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(Fj,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:i.profile.healthGoals})]}),u.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:((d=s.healthGoals)==null?void 0:d.length)||0})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:i.profile.dailyGoals}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(n).map(([f,h])=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:h}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:f})]},f))})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:i.profile.recentFavorites}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.slice(0,3).map(f=>u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsx("img",{src:f.image,alt:f.title,className:"w-16 h-16 object-cover rounded-lg"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:f.title}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.category}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[u.jsxs("span",{children:[" ",f.rating.toFixed(1)]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[f.prepTime,"min"]})]})]})]},f.id))})]})]})}function hI(){const{user:e}=qe(),{recipes:t}=fr(),r=Qe();if(!e||e.type!=="Nutritionist")return null;const n=e.profile||{},i=t.filter(a=>a.authorId===e.id),s=i.reduce((a,l)=>a+l.reviews.length,0),o=i.reduce((a,l)=>a+l.rating,0)/i.length||0;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:r.profile.personalInfo}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[u.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.profile.name}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[u.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.profile.email}),u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[u.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.profile.accountType}),u.jsx("p",{className:"font-medium capitalize text-gray-900 dark:text-white",children:r.profile.nutricionist})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(kj,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.profile.publishedRecipes})]}),u.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:i.length})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(Uj,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.profile.totalReviews})]}),u.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:s})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx($j,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.profile.averageRating})]}),u.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:o.toFixed(1)})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(bj,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.profile.experience})]}),u.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:n.experience||"N/A"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[u.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:r.profile.myRecipes}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.slice(-3).map(a=>u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsx("img",{src:a.image,alt:a.title,className:"w-16 h-16 object-cover rounded-lg"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.title}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[u.jsxs("span",{children:[" ",a.rating.toFixed(1)]}),u.jsx("span",{children:""}),u.jsxs("span",{children:[a.reviews.length," ",r.recipe.reviews]})]})]})]},a.id))})]})]})}function mI({onBackToRecipes:e}){const{user:t}=qe(),n=Qe().buttons.BackToRecipes;return u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 group",children:[u.jsx(Oo,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),n]}),u.jsxs("div",{className:"space-y-8",children:[u.jsx(lI,{}),(t==null?void 0:t.type)==="Client"?u.jsx(fI,{}):u.jsx(hI,{}),u.jsx(dI,{})]})]})}function pI(){const e=Mr();return u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 mb-6",children:[u.jsx(Oo,{className:"w-5 h-5"}),"Voltar"]}),u.jsx(mI,{onBackToRecipes:()=>e("/")})]})})}function gI(){const e=Mr(),{id:t}=mE(),{recipes:r,loading:n,fetchRecipes:i}=fr(),[s,o]=b.useState(!1);b.useEffect(()=>{!s&&r.length===0?i().then(()=>o(!0)):o(!0)},[i,s,r.length]);const a=r.find(l=>l.id===parseInt(t||"0"));return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:u.jsx(Uh,{size:"lg"})}):a?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 mb-6",children:[u.jsx(Oo,{className:"w-5 h-5"}),"Voltar"]}),u.jsx(Yb,{recipe:a,onClose:()=>e("/")})]})}):u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Receita no encontrada"}),u.jsx("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Voltar ao Incio"})]})})}var E0;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(E0||(E0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j0;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(j0||(j0={}));var C0;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(C0||(C0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=["user","model","function","system"];var Nl;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Nl||(Nl={}));var Tl;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Tl||(Tl={}));var T0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(T0||(T0={}));var R0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(R0||(R0={}));var Ys;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Ys||(Ys={}));var P0;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(P0||(P0={}));var A0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(A0||(A0={}));var M0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(M0||(M0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class ai extends it{constructor(t,r){super(t),this.response=r}}class Qb extends it{constructor(t,r,n,i){super(t),this.status=r,this.statusText=n,this.errorDetails=i}}class ln extends it{}class Xb extends it{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="https://generativelanguage.googleapis.com",vI="v1beta",xI="0.24.1",wI="genai-js";var qn;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(qn||(qn={}));class bI{constructor(t,r,n,i,s){this.model=t,this.task=r,this.apiKey=n,this.stream=i,this.requestOptions=s}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||vI;let s=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||yI}/${n}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function kI(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${wI}/${xI}`),t.join(" ")}async function SI(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",kI(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(i){throw new ln(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${i.message}`)}for(const[i,s]of n.entries()){if(i==="x-goog-api-key")throw new ln(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new ln(`Header name ${i} can only be set using the apiClient field`);r.append(i,s)}}return r}async function _I(e,t,r,n,i,s){const o=new bI(e,t,r,n,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},NI(s)),{method:"POST",headers:await SI(o),body:i})}}async function Go(e,t,r,n,i,s={},o=fetch){const{url:a,fetchOptions:l}=await _I(e,t,r,n,i,s);return EI(a,l,o)}async function EI(e,t,r=fetch){let n;try{n=await r(e,t)}catch(i){jI(i,e)}return n.ok||await CI(n,e),n}function jI(e,t){let r=e;throw r.name==="AbortError"?(r=new Xb(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof Qb||e instanceof ln||(r=new it(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function CI(e,t){let r="",n;try{const i=await e.json();r=i.error.message,i.error.details&&(r+=` ${JSON.stringify(i.error.details)}`,n=i.error.details)}catch{}throw new Qb(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function NI(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ha(e.candidates[0]))throw new ai(`${Hr(e)}`,e);return TI(e)}else if(e.promptFeedback)throw new ai(`Text not available. ${Hr(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ha(e.candidates[0]))throw new ai(`${Hr(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),I0(e)[0]}else if(e.promptFeedback)throw new ai(`Function call not available. ${Hr(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ha(e.candidates[0]))throw new ai(`${Hr(e)}`,e);return I0(e)}else if(e.promptFeedback)throw new ai(`Function call not available. ${Hr(e)}`,e)},e}function TI(e){var t,r,n,i;const s=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const o of(i=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function I0(e){var t,r,n,i;const s=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const o of(i=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const RI=[Ys.RECITATION,Ys.SAFETY,Ys.LANGUAGE];function Ha(e){return!!e.finishReason&&RI.includes(e.finishReason)}function Hr(e){var t,r,n;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const s=e.candidates[0];Ha(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function jo(e){return this instanceof jo?(this.v=e,this):new jo(e)}function PI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(m){return new Promise(function(y,x){s.push([h,m,y,x])>1||a(h,m)})})}function a(h,m){try{l(n[h](m))}catch(y){f(s[0][3],y)}}function l(h){h.value instanceof jo?Promise.resolve(h.value.v).then(c,d):f(s[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function f(h,m){h(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function AI(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=OI(t),[n,i]=r.tee();return{stream:II(n),response:MI(i)}}async function MI(e){const t=[],r=e.getReader();for(;;){const{done:n,value:i}=await r.read();if(n)return zh(LI(t));t.push(i)}}function II(e){return PI(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:i}=yield jo(r.read());if(i)break;yield yield jo(zh(n))}})}function OI(e){const t=e.getReader();return new ReadableStream({start(n){let i="";return s();function s(){return t.read().then(({value:o,done:a})=>{if(a){if(i.trim()){n.error(new it("Failed to parse stream"));return}n.close();return}i+=o;let l=i.match(O0),c;for(;l;){try{c=JSON.parse(l[1])}catch{n.error(new it(`Error parsing JSON response: "${l[1]}"`));return}n.enqueue(c),i=i.substring(l[0].length),l=i.match(O0)}return s()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new Xb("Request aborted when reading from the stream"):a=new it("Error reading from the stream"),a})}}})}function LI(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let i=0;for(const s of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[i]||(r.candidates[i]={index:i}),r.candidates[i].citationMetadata=s.citationMetadata,r.candidates[i].groundingMetadata=s.groundingMetadata,r.candidates[i].finishReason=s.finishReason,r.candidates[i].finishMessage=s.finishMessage,r.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){r.candidates[i].content||(r.candidates[i].content={role:s.content.role||"user",parts:[]});const o={};for(const a of s.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),r.candidates[i].content.parts.push(o)}i++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(e,t,r,n){const i=await Go(t,qn.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return AI(i)}async function e1(e,t,r,n){const s=await(await Go(t,qn.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:zh(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Co(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return DI(t)}function DI(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,i=!1;for(const s of e)"functionResponse"in s?(r.parts.push(s),i=!0):(t.parts.push(s),n=!0);if(n&&i)throw new it("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!i)throw new it("No content is provided for sending chat message.");return n?t:r}function FI(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new ln("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(i)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const s=Co(e);n.contents=[s]}return{generateContentRequest:n}}function L0(e){let t;return e.contents?t=e:t={contents:[Co(e)]},e.systemInstruction&&(t.systemInstruction=t1(e.systemInstruction)),t}function $I(e){return typeof e=="string"||Array.isArray(e)?{content:Co(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],UI={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function zI(e){let t=!1;for(const r of e){const{role:n,parts:i}=r;if(!t&&n!=="user")throw new it(`First content should be with role 'user', got ${n}`);if(!N0.includes(n))throw new it(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(N0)}`);if(!Array.isArray(i))throw new it("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new it("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const l of D0)l in a&&(s[l]+=1);const o=UI[n];for(const a of D0)if(!o.includes(a)&&s[a]>0)throw new it(`Content with role '${n}' can't contain '${a}' part`);t=!0}}function F0(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="SILENT_ERROR";class VI{constructor(t,r,n,i={}){this.model=r,this.params=n,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(zI(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,i,s,o,a,l;await this._sendPromise;const c=Co(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),r);let h;return this._sendPromise=this._sendPromise.then(()=>e1(this._apiKey,this.model,d,f)).then(m=>{var y;if(F0(m.response)){this._history.push(c);const x=Object.assign({parts:[],role:"model"},(y=m.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(x)}else{const x=Hr(m.response);x&&console.warn(`sendMessage() was unsuccessful. ${x}. Inspect response object for details.`)}h=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,h}async sendMessageStream(t,r={}){var n,i,s,o,a,l;await this._sendPromise;const c=Co(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),r),h=Zb(this._apiKey,this.model,d,f);return this._sendPromise=this._sendPromise.then(()=>h).catch(m=>{throw new Error($0)}).then(m=>m.response).then(m=>{if(F0(m)){this._history.push(c);const y=Object.assign({},m.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=Hr(m);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(m=>{m.message!==$0&&console.error(m)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(e,t,r,n){return(await Go(t,qn.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(e,t,r,n){return(await Go(t,qn.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function GI(e,t,r,n){const i=r.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await Go(t,qn.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=t1(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const i=L0(t),s=Object.assign(Object.assign({},this._requestOptions),r);return e1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),s)}async generateContentStream(t,r={}){var n;const i=L0(t),s=Object.assign(Object.assign({},this._requestOptions),r);return Zb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),s)}startChat(t){var r;return new VI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=FI(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),r);return BI(this.apiKey,this.model,n,i)}async embedContent(t,r={}){const n=$I(t),i=Object.assign(Object.assign({},this._requestOptions),r);return HI(this.apiKey,this.model,n,i)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return GI(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new it("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new U0(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new ln("Cached content must contain a `name` field.");if(!t.model)throw new ln("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(r!=null&&r[o]&&t[o]&&(r==null?void 0:r[o])!==t[o]){if(o==="model"){const a=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(a===l)continue}throw new ln(`Different value for "${o}" specified in modelParams (${r[o]}) and cachedContent (${t[o]})`)}const s=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new U0(this.apiKey,s,n)}}const KI="gemini-2.5-flash",qI=10,r1="AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",YI=new WI(r1);async function z0(e,t,r=[]){var n;try{const i=JI(t),s=QI(r,t),c=(await YI.getGenerativeModel({model:KI,systemInstruction:{role:"system",parts:[{text:i}]},safetySettings:[{category:Nl.HARM_CATEGORY_HARASSMENT,threshold:Tl.BLOCK_MEDIUM_AND_ABOVE},{category:Nl.HARM_CATEGORY_HATE_SPEECH,threshold:Tl.BLOCK_MEDIUM_AND_ABOVE}]}).startChat({history:s}).sendMessage(e)).response;return{content:(((n=c==null?void 0:c.text)==null?void 0:n.call(c))||"").trim()||"Oi! Como posso te ajudar hoje? Posso sugerir receitas por dificuldade (easy/medium/hard), tempo (ex.: at 30 min) e avaliao (ex.: 4.5+ )."}}catch(i){console.error("Erro ao chamar a API do Gemini:",i);let s="Desculpe, ocorreu um erro ao tentar processar sua solicitao. Tente novamente em alguns instantes.";return i instanceof Error&&(i.message.includes("API_KEY")?s="Erro de configurao da IA. Entre em contato com o suporte.":i.message.includes("quota")?s="Limite de uso da IA atingido. Tente novamente mais tarde.":(i.message.includes("network")||i.message.includes("fetch"))&&(s="Erro de conexo. Verifique sua internet e tente novamente.")),{content:s,error:i instanceof Error?i.message:"Unknown error"}}}function JI(e){return`
Voc  NutriBot, um assistente virtual geral do site NutriChefe.

Papel:
- Responder a QUALQUER pergunta do usurio (receitas, nutrio, treino/alimentao, curiosidades ou at que dia  hoje?).
- Quando a pergunta envolver receitas (fcil/medium/hard, vegana etc.), o backend aplica filtros e envia os cards; voc pode responder curto e encorajar refinamentos.
- Quando envolver metas nutricionais (emagrecimento, ganho de massa, definio etc.), oferea recomendaes prticas e seguras.

Estilo:
- Tom humano, acolhedor e objetivo. Sem texto robtico.
- Prefira listas curtas e exemplos prticos.
- Se algo estiver ambguo, faa no mximo 1 pergunta curta para destravar.

Boas prticas para nutrio:
- Emagrecimento: foco em dficit calrico sustentvel, protenas, fibras, hidratao e movimento dirio; evitar ultraprocessados e bebidas aucaradas.
- Ganho de massa: supervit leve, 1,62,2 g/kg/dia de protena distribuda, carboidratos suficientes para treino, sono e consistncia.
- Sempre adaptao  realidade do usurio; evite prescries fechadas.

Regras:
1) Orientao educativa  para plano individual, recomende consultar nutricionista.
2) No faa diagnstico mdico.
3) Responda em PT-BR por padro.
4) Mapeie dificuldade: fcil/fceiseasy, mdio/mdiamedium, difcil/difceishard (tambm em EN).
5) Se perguntarem a data/hora, use o contexto: hoje  ${new Intl.DateTimeFormat("pt-BR",{dateStyle:"full",timeStyle:"short",timeZone:"America/Sao_Paulo"}).format(new Date)} (America/Sao_Paulo).
  `.trim()}function QI(e,t){return e.slice(-qI).map(r=>({role:r.sender_type==="user"?"user":"model",parts:[{text:r.content}]}))}function XI(){return r1!=="your-api-key-here"}const ZI={easy:["fcil","facil","fceis","faceis","facinha","facinho","facinhas","facinhos","simples","iniciante","tranquila","descomplicada","easy","simple","beginner","quick"],medium:["mdio","medio","intermedirio","intermediario","mdia","mediana","medium","average","intermediate","normal"],hard:["difcil","dificil","difceis","dificeis","avanado","avancado","complexo","trabalhosa","desafiadora","hard","difficult","advanced","complex","challenging"]},n1=["Vegana","Baixo Carboidrato","Rica em Protena","Sem Glten","Vegetariana"],i1={Vegana:["vegana","vegano","vegan"],"Baixo Carboidrato":["baixo carboidrato","low carb","pouco carbo","baixo carb","lowcarb"],"Rica em Protena":["rica em protena","muita proteina","alta protena","alto teor proteico","proteica","proteinado","protein rich","high protein"],"Sem Glten":["sem glten","sem gluten","gluten free","sg","livre de glten"],Vegetariana:["vegetariana","vegetariano","veggie","ovo-lacto","ovolacto","vegetarian"]},V0={vegan:"Vegana",vegetarian:"Vegetariana","gluten-free":"Sem Glten","gluten free":"Sem Glten","low carb":"Baixo Carboidrato","low-carb":"Baixo Carboidrato","high protein":"Rica em Protena","protein rich":"Rica em Protena"},B0=/(\d+(?:[.,]\d+)?)/,eO=new Set(["receita","receitas","quero","queria","gostaria","me","mostra","mostrar","mostre","traga","trazer","uma","umas","um","uns","de","do","da","no","na","em","pra","para","por","a","o","as","os","ai","ia","porfavor","por","favor"]);function tO(e){const t=e.replace(/-/g,"").slice(0,8);return parseInt(t,16)}function rO(e){return e==null?"":typeof e=="string"?e:String(e)}function Xt(e){return rO(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim()}function Hd(e){return e==null||Number.isNaN(e)?0:Math.round(Number(e)*10)/10}function nO(e){if(!(e!=null&&e.length))return 0;const t=e.reduce((r,n)=>r+(n.rating??0),0)/e.length;return Hd(t)}function iO(e){const t=(typeof e.rating=="number"?e.rating:nO(e.reviews))||0;return{id:tO(e.id),title:e.title,description:e.description,author:e.author_name||"NutriChefe",rating:t}}function s1(e){const t=Xt(e).trim();if(V0[t])return V0[t];for(const r of n1)if(i1[r].map(Xt).some(i=>t===i||t.includes(i)||i.includes(t)))return r;return null}function sO(e){const t=Xt(e);return t==="easy"||t==="medium"||t==="hard"?t:/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||t.includes("simples")?"easy":/\bmedi/.test(t)?"medium":/\bdific/.test(t)||/\bhard\b/.test(t)||/\bdifficult\b/.test(t)?"hard":"medium"}function oO(e){const t=e.match(/\b(top|s[o]|somente|apenas|mostrar|mostra|traga|trazer)?\s*(\d{1,3})\b/);if(!t)return;const r=parseInt(t[2],10);if(!(!Number.isFinite(r)||r<=0))return Math.min(r,100)}function aO(e){if(/\b(nota|avalia|melhores|melhor|maior(es)? nota|rank|mais bem avaliadas?)\b/.test(e))return"rating";if(/\btempo|rapidez|mais r[a]pidas?|r[a]pido(s)? primeiro\b/.test(e))return"prepTime";if(/\bnovo(s)?|recent(es)?|mais recente(s)?\b/.test(e))return"newest"}function lO(e){const t=Xt(e).split(/\s+/).filter(Boolean).filter(r=>!eO.has(r)).join(" ").trim();if(!(!t||t.length<=2))return t}function cO(e){const t=Xt(e),r={};for(const o of n1)if(i1[o].map(Xt).some(l=>t.includes(l))){r.category=o;break}for(const[o,a]of Object.entries(ZI))if(a.some(l=>t.includes(Xt(l)))){r.difficulty=o;break}r.difficulty||(/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||/\beasy\b|\bsimple\b/.test(t)?r.difficulty="easy":/\bm[e]di[oa]\b|\bmedium\b/.test(t)?r.difficulty="medium":/\bdific(?:eis|il)\b|\bhard\b|\bdifficult\b/.test(t)&&(r.difficulty="hard")),(/\br[a]pid[oa]s?\b/.test(t)||/\b<=?\s*15\b/.test(t))&&(r.maxPrep=15),(/\bm[e]di[oa]\b/.test(t)||/\b<=?\s*30\b/.test(t))&&(r.maxPrep=r.maxPrep??30),/\blongo?s?\b|\b>?\s*30\b/.test(t)&&(r.minPrep=31);const n=t.match(new RegExp(`\\b(em|ate|at|<=?)\\s*${B0.source}\\s*(min|mins|minutos)\\b`));if(n){const o=parseFloat(n[2].replace(",","."));isNaN(o)||(r.maxPrep=Math.min(r.maxPrep??1/0,o))}const i=t.match(new RegExp(`${B0.source}\\s*(\\+|mais)?\\s*(\\*|estrela|estrelas)?`));if(i){const o=parseFloat(i[1].replace(",","."));!isNaN(o)&&o>=0&&o<=5&&(/\+|mais/.test(i[2]||"")||/estrela|\*/.test(i[3]||""))&&(r.minRating=o)}/\b4\+\b/.test(t)&&(r.minRating=Math.max(r.minRating??0,4)),/\b4[.,]5\+\b/.test(t)&&(r.minRating=Math.max(r.minRating??0,4.5)),/\b5\s*(\*|estrelas?)?\b/.test(t)&&(r.minRating=5),/\btod[ao]s?\b|\bqualquer\b/.test(t)&&(r.wantAll=!0),r.limit=oO(t)??void 0,r.sort=aO(t)??void 0,r.hasStructuredFilter=!!(r.category||r.difficulty||r.maxPrep||r.minPrep||r.minRating);const s=lO(e);return!r.hasStructuredFilter&&s&&(r.plainSearch=s),r}async function uO(){const{data:e,error:t}=await Q.from("recipes").select("id, title, description, image, prep_time, difficulty, category, rating, nutrition_facts, author_id, created_at, updated_at");if(t)throw t;const r=e||[];if(r.length===0)return[];const n=Array.from(new Set(r.map(c=>c.author_id).filter(Boolean)));let i={};if(n.length>0){const{data:c}=await Q.from("profiles").select("id, full_name").in("id",n);c&&(i=Object.fromEntries(c.map(d=>[d.id,d.full_name||"NutriChefe"])))}const s=r.map(c=>c.id),{data:o}=await Q.from("reviews").select("recipe_id, rating").in("recipe_id",s),a={};if(o&&o.length)for(const c of o)a[c.recipe_id]||(a[c.recipe_id]={sum:0,count:0}),a[c.recipe_id].sum+=c.rating??0,a[c.recipe_id].count+=1;return r.map(c=>{const d=a[c.id];let f=null;if(d&&d.count>0)f=Hd(d.sum/d.count);else if(c.rating!==null&&c.rating!==void 0){const m=Number(c.rating);f=Number.isFinite(m)&&m>0?Hd(m):null}const h=s1(c.category)??c.category;return{id:c.id,title:c.title,description:c.description,image:c.image,prep_time:c.prep_time,difficulty:sO(c.difficulty),category:h,rating:f,author_id:c.author_id,author_name:c.author_id&&i[c.author_id]?i[c.author_id]:"NutriChefe",nutrition_facts:c.nutrition_facts||null,reviews:[],created_at:c.created_at,updated_at:c.updated_at}})}function o1(e,t){let r=e.slice();if(t.category&&(r=r.filter(n=>(s1(n.category)??n.category)===t.category)),t.difficulty&&(r=r.filter(n=>n.difficulty===t.difficulty)),typeof t.maxPrep=="number"&&(r=r.filter(n=>n.prep_time<=t.maxPrep)),typeof t.minPrep=="number"&&(r=r.filter(n=>n.prep_time>=t.minPrep)),typeof t.minRating=="number"&&(r=r.filter(n=>(typeof n.rating=="number"?n.rating:0)>=t.minRating)),t.plainSearch){const n=Xt(t.plainSearch);r=r.filter(i=>Xt(i.title).includes(n)||Xt(i.description||"").includes(n))}return r}function dO(e,t){const r=e.slice();return t==="prepTime"?r.sort((n,i)=>n.prep_time-i.prep_time||(i.rating??0)-(n.rating??0)):t==="newest"?r.sort((n,i)=>new Date(i.created_at||0).getTime()-new Date(n.created_at||0).getTime()):r.sort((n,i)=>{const s=n.rating??0,o=i.rating??0;return o!==s?o-s:n.prep_time-i.prep_time}),r}function fO(e,t=12){return e.slice(0,t).map(iO)}function hO(e,t){const r=[n=>{typeof n.minRating=="number"&&delete n.minRating},n=>{typeof n.maxPrep=="number"&&delete n.maxPrep},n=>{n.category&&delete n.category},n=>{n.difficulty&&delete n.difficulty}];for(const n of r){const i={...t};n(i);const s=o1(e,i);if(s.length>0)return{list:s}}return{list:e.slice()}}function mO(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Math.abs(t)}function wu(e,t=0){if(!e.length)return e[0];const r=t%e.length;return e[r]}function pO(e){const t=e.filter(Boolean);return t.length===0?"":t.length===1?t[0]:t.length===2?`${t[0]} e ${t[1]}`:`${t.slice(0,-1).join(", ")} e ${t[t.length-1]}`}function gO(e,t){const{f0:r,shown:n,matchedExactly:i,sortKey:s}=t,o=mO(e),a=[];r.category&&a.push(r.category),r.difficulty&&a.push(r.difficulty==="easy"?"fceis":r.difficulty==="medium"?"mdias":"difceis"),typeof r.maxPrep=="number"&&a.push(`at ${r.maxPrep} min`),typeof r.minRating=="number"&&a.push(`${r.minRating}+ `),s==="prepTime"&&a.push("mais rpidas primeiro"),s==="newest"&&a.push("mais recentes"),s==="rating"&&a.push("bem avaliadas");const l=pO(a),c=typeof r.limit=="number",d=[`Separei estas ${l?`**${l}**`:"opes"} pra voc:`,`Olha s algumas ideias ${l?`**${l}**`:""}:`,`Que tal comear por estas ${l?`**${l}**`:"sugestes"}:`],f=["Separei algumas das favoritas do pessoal:","Aqui vo algumas ideias legais do nosso acervo:","Peguei algumas sugestes que costumam agradar:"],y=[!!r.difficulty&&!r.category&&typeof r.maxPrep!="number"&&typeof r.minPrep!="number"&&typeof r.minRating!="number"||r.category||r.maxPrep||r.minRating||s?wu(d,o):wu(f,o)];if(c?y.push(n<(r.limit??n)?`Consegui **${n}** no momento.`:`Mostrando **${n}** como voc pediu.`):!r.hasStructuredFilter&&!r.plainSearch&&y.push(`Mostrando ${n}.`),!i&&n>0&&!c){const x=["Ajustei um pouquinho os critrios pra ampliar as ideias.","Dei uma flexionada nos filtros pra te trazer opes parecidas.","Expandi levemente os critrios pra no te deixar na mo."];y.push(wu(x,o))}return y.join(`
`)}async function H0(e){const t=cO(e),r=await uO();let i=o1(r,t),s=i.length>0;i.length===0&&(i=hO(r,t).list,s=!1);const o=!t.hasStructuredFilter&&!t.plainSearch;let a=t.sort??(o?"rating":void 0);!t.sort&&t.difficulty==="easy"&&(a="prepTime"),!t.sort&&t.difficulty==="hard"&&(a="rating");const l=t.limit??(t.wantAll?100:12),c=dO(i,a),d=fO(c,l);return d.length===0?{content:"No pintou nada com esses critrios. Quer tentar vegana fcil, rpida 4.5+ ou sem glten em 15 min?",recipes:[],suggestions:["receitas fceis","vegana rpida","rica em protena 5"]}:{content:gO(e,{f0:t,shown:d.length,total:i.length,matchedExactly:s,sortKey:a}),recipes:d,suggestions:d.length<5?["receitas rpidas","vegana fcil","5 "]:[]}}async function G0(e){const{data:t,error:r}=await Q.from("ai_configurations").select("*").eq("nutritionist_id",e).single();if(r&&r.code!=="PGRST116")throw r;return t}async function yO(e){const{data:t,error:r}=await Q.from("ai_configurations").insert([e]).select().single();if(r)throw r;return t}async function vO(e,t){const{data:r,error:n}=await Q.from("ai_configurations").update(t).eq("id",e).select().single();if(n)throw n;return r}async function xO(e){let t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{throw new Error("createAIConversation: payload invlido (string no  JSON)")}const r={client_id:t.client_id,nutritionist_id:t.nutritionist_id??null,ai_config_id:t.ai_config_id??null,title:t.title??"Nova conversa com IA",is_active:t.is_active??!0},{data:n,error:i}=await Q.from("ai_conversations").insert([r]).select("*").single();if(i)throw i;return n}async function wO(e){const{data:t,error:r}=await Q.from("ai_conversations").select("*").eq("client_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function bO(e){const{data:t,error:r}=await Q.from("ai_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return t||[]}async function W0(e){const{data:t,error:r}=await Q.from("ai_messages").insert([e]).select().single();if(r)throw r;return t}function kO(e){const t=Xt(e);return/\bemagrec|perder peso|perda de gordura|defini[c][a]o|definir|secar\b/.test(t)||/\bganhar massa|hipertrof|massa magra|bulking|volume\b/.test(t)}async function SO(e,t,r){let n="";typeof e=="string"?n=e:e&&typeof e=="object"&&"content"in e&&(n=String(e.content));const i=n.toLowerCase(),s=/\breceit|\bprato|\bingredient|\bvegana|\bgluten|\bcarbo|\bprote[i]na|\bfac(eis|il)|\bhard\b|\bdifficult\b|\bmedium\b/.test(i),o=kO(n);if(s&&o){const[l,c]=await Promise.all([H0(n),z0(`Contexto: o usurio quer sugestes voltadas para objetivo corporal/nutricional.
Pergunta: "${n}"
Responda de forma direta e til, em 35 bullets, incluindo:
- princpios prticos para o objetivo (emagrecer/ganhar massa);
- 24 ideias de refeies;
- lembrete curto de consultar nutricionista para plano individual.`)]);return{content:`${c.content}

${l.content}`,recipes:l.recipes,suggestions:l.suggestions}}return s?H0(n):{content:(await z0(n)).content,recipes:[],suggestions:[]}}const _O=xn((e,t)=>({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null,fetchAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await G0(r);e({aiConfig:n,loading:!1})}catch(n){console.error("Error fetching AI configuration:",n);const i=n instanceof Error?n.message:"Erro ao carregar configurao da IA";e({error:i,loading:!1})}},createAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await yO(r);e({aiConfig:n,loading:!1}),ie.getState().showToast("Configurao da IA criada com sucesso!","success")}catch(n){console.error("Error creating AI configuration:",n);const i=n instanceof Error?n.message:"Erro ao criar configurao da IA";throw e({error:i,loading:!1}),ie.getState().showToast("Erro ao criar configurao da IA","error"),n}},updateAIConfiguration:async(r,n)=>{e({loading:!0,error:null});try{const i=await vO(r,n);e({aiConfig:i,loading:!1}),ie.getState().showToast("Configurao da IA atualizada com sucesso!","success")}catch(i){console.error("Error updating AI configuration:",i);const s=i instanceof Error?i.message:"Erro ao atualizar configurao da IA";throw e({error:s,loading:!1}),ie.getState().showToast("Erro ao atualizar configurao da IA","error"),i}},fetchConversations:async r=>{e({loading:!0,error:null});try{const n=await wO(r);e({conversations:n,loading:!1})}catch(n){console.error("Error fetching conversations:",n);const i=n instanceof Error?n.message:"Erro ao carregar conversas";e({error:i,loading:!1})}},createConversation:async(r,n)=>{e({loading:!0,error:null});try{let i=null;if(n){const o=await G0(n);i=(o==null?void 0:o.id)||null}const s=await xO({client_id:r,nutritionist_id:n,ai_config_id:i,title:"Nova conversa com IA",is_active:!0});return e(o=>({conversations:[s,...o.conversations],currentConversation:s,loading:!1})),s}catch(i){console.error("Error creating conversation:",i);const s=i instanceof Error?i.message:"Erro ao criar conversa";throw e({error:s,loading:!1}),ie.getState().showToast("Erro ao criar conversa","error"),i}},setCurrentConversation:r=>{e({currentConversation:r,messages:[]}),r&&t().fetchMessages(r.id)},fetchMessages:async r=>{e({loading:!0,error:null});try{const n=await bO(r);e({messages:n,loading:!1})}catch(n){console.error("Error fetching messages:",n);const i=n instanceof Error?n.message:"Erro ao carregar mensagens";e({error:i,loading:!1})}},sendMessage:async(r,n)=>{const{currentConversation:i}=t();if(i){e({sendingMessage:!0,error:null});try{const s=await W0({conversation_id:r,sender_type:"user",content:n,metadata:{}});e(c=>({messages:[...c.messages,s]}));let o=t().aiConfig;if(!o&&i.ai_config_id){const{data:c}=await Q.from("ai_configurations").select("*").eq("id",i.ai_config_id).single();o=c}const a=await SO(n,o||{id:"default",nutritionist_id:"default",ai_name:"NutriBot",personality:"empathetic",custom_instructions:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t().messages),l=await W0({conversation_id:r,sender_type:"ai",content:a.content,metadata:{recipes:a.recipes,suggestions:a.suggestions}});e(c=>({messages:[...c.messages,l],sendingMessage:!1}))}catch(s){console.error("Error sending message:",s);const o=s instanceof Error?s.message:"Erro ao enviar mensagem";e({error:o,sendingMessage:!1}),ie.getState().showToast("Erro ao enviar mensagem","error")}}},clearError:()=>e({error:null}),reset:()=>e({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null})}));function EO(){var p;const{user:e}=qe(),{conversations:t,currentConversation:r,messages:n,sendingMessage:i,createConversation:s,setCurrentConversation:o,sendMessage:a,fetchMessages:l}=_O(),[c,d]=b.useState(""),f=b.useRef(null),h=b.useRef(null),m=XI();b.useEffect(()=>{var v;(v=f.current)==null||v.scrollIntoView({behavior:"smooth"})},[n]),b.useEffect(()=>{!i&&h.current&&h.current.focus()},[i]);const y=async()=>{if(e)try{const v=await s(e.id);o(v)}catch(v){console.error("Error starting conversation:",v)}},x=async v=>{if(v.preventDefault(),!c.trim()||!r||i)return;const _=c.trim();d("");try{await a(r.id,_)}catch(E){console.error("Error sending message:",E),d(_)}},w=v=>v.split(`
`).map((_,E)=>{if(_.startsWith("# "))return u.jsx("h3",{className:"text-lg font-bold mt-4 mb-2",children:_.substring(2)},E);if(_.startsWith("## "))return u.jsx("h4",{className:"text-md font-semibold mt-3 mb-1",children:_.substring(3)},E);if(_.startsWith("- ")||_.startsWith(" "))return u.jsxs("div",{className:"flex items-start gap-2 my-1",children:[u.jsx("span",{className:"text-purple-500 mt-1",children:""}),u.jsx("span",{children:_.substring(2)})]},E);const T=_.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return _.trim()?u.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:T}},E):u.jsx("br",{},E)}),g=v=>u.jsx(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-purple-200 dark:border-purple-700 mt-3",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Zl,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:v.title}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:v.description}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(vo,{className:"w-3 h-3"}),v.author]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Lo,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),v.rating>0?v.rating.toFixed(1):"Sem avaliaes"]})]})]})]})});return r?u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:u.jsx(Fn,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-white",children:((p=r.ai_config)==null?void 0:p.ai_name)||"NutriBot"}),u.jsx("p",{className:"text-purple-100 text-sm",children:"Assistente de Nutrio  Online"})]})]})}),u.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[u.jsx(Uo,{children:n.map(v=>{var _;return u.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:me("flex gap-3",v.sender_type==="user"?"justify-end":"justify-start"),children:[v.sender_type==="ai"&&u.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex-shrink-0",children:u.jsx(Fn,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{className:me("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",v.sender_type==="user"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"),children:[u.jsx("div",{className:"text-sm",children:w(v.content)}),((_=v.metadata)==null?void 0:_.recipes)&&v.metadata.recipes.length>0&&u.jsx("div",{className:"mt-3 space-y-2",children:v.metadata.recipes.map((E,T)=>g(E))}),u.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(v.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),v.sender_type==="user"&&u.jsx("div",{className:"p-2 bg-green-600 rounded-full flex-shrink-0",children:u.jsx(vo,{className:"w-4 h-4 text-white"})})]},v.id)})}),i&&u.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[u.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full",children:u.jsx(Fn,{className:"w-4 h-4 text-white"})}),u.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Uh,{size:"sm"}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digitando..."})]})})]}),u.jsx("div",{ref:f})]}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[u.jsxs("form",{onSubmit:x,className:"flex gap-3",children:[u.jsx("input",{ref:h,type:"text",value:c,onChange:v=>d(v.target.value),placeholder:"Digite sua pergunta sobre nutrio...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",disabled:i}),u.jsx(ce.button,{type:"submit",disabled:!c.trim()||i,className:me("px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",!c.trim()||i?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700"),whileHover:!i&&c.trim()?{scale:1.05}:{},whileTap:!i&&c.trim()?{scale:.95}:{},children:i?u.jsx(Hi,{className:"w-4 h-4 animate-spin"}):u.jsx(Ij,{className:"w-4 h-4"})})]}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["A IA pode cometer erros. Sempre consulte seu nutricionista para orientaes personalizadas.",!m]})]})]})}):u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:u.jsx(Fn,{className:"w-12 h-12 text-white"})}),u.jsx(ce.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1",children:u.jsx(Dx,{className:"w-6 h-6 text-yellow-500"})})]})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Bem-vindo  Mentoria IA!"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:"Sua assistente de nutrio inteligente est pronta para ajudar com receitas, dicas alimentares, uso da plataforma e muito mais. Inicie uma conversa agora!"}),!m,u.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:" Receitas"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Me mostre receitas de bolo fit"'})]}),u.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:" Dicas"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Como posso melhorar minha alimentao?"'})]}),u.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-green-700 dark:text-green-300 mb-2",children:" Ajuda"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Como salvo receitas nos favoritos?"'})]})]}),u.jsxs(ce.button,{onClick:y,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 mx-auto",whileHover:{scale:1.05},whileTap:{scale:.95},children:[u.jsx(Lx,{className:"w-5 h-5"}),"Iniciar Conversa"]})]})})}const jO="price_1S8hUJRvfweGXYGcPyJ9VAR9",CO=19.9;function NO(){Qe();const{showToast:e}=ie(),[t,r]=b.useState([]),[n,i]=b.useState(!1),[s,o]=b.useState(null);b.useEffect(()=>{Q.auth.getUser().then(({data:y})=>o(y.user?{id:y.user.id}:null));const{data:m}=Q.auth.onAuthStateChange((y,x)=>{o(x!=null&&x.user?{id:x.user.id}:null)});return()=>{var y,x;(x=(y=m==null?void 0:m.subscription)==null?void 0:y.unsubscribe)==null||x.call(y)}},[]),b.useEffect(()=>{xw().then(m=>r(m||[])).catch(m=>{console.error(m),e("Erro ao carregar planos")})},[e]);const a=b.useMemo(()=>t.find(m=>m.stripe_price_id)??t[0]??null,[t]),l=a&&typeof a.price=="number"&&a.price>0?a.price:CO,c=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),d=(a==null?void 0:a.billing_period)||"monthly",f=[{icon:u.jsx(Fn,{className:"w-5 h-5"}),title:"Mentoria IA Ilimitada",description:"Chat 24/7 com IA especializada em nutrio"},{icon:u.jsx(Lx,{className:"w-5 h-5"}),title:"Consultas Personalizadas",description:"IA configurada pelo seu nutricionista"},{icon:u.jsx(Lo,{className:"w-5 h-5"}),title:"Recomendaes Inteligentes",description:"Sugestes de receitas baseadas no seu perfil"},{icon:u.jsx(zj,{className:"w-5 h-5"}),title:"Suporte Prioritrio",description:"Atendimento rpido e especializado"}],h=async()=>{try{if(i(!0),!s){e("Faa login para assinar"),window.location.href="/login";return}const m=(a==null?void 0:a.stripe_price_id)||jO;await jR({planId:a==null?void 0:a.id,priceId:m})}catch(m){console.error(m),e((m==null?void 0:m.message)||"No foi possvel iniciar o checkout")}finally{i(!1)}};return u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-2xl p-8 text-center border border-purple-200 dark:border-purple-700",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:u.jsx(Xc,{className:"w-12 h-12 text-white"})}),u.jsx(ce.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:u.jsx(Dx,{className:"w-6 h-6 text-yellow-500"})})]})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Desbloqueie a Mentoria IA"}),u.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:["Para ter acesso ilimitado  nossa Mentoria IA e outras funcionalidades exclusivas, assine o nosso ",u.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"Plano Premium"}),"!"]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 mb-8 border border-purple-200 dark:border-purple-700",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(Xc,{className:"w-6 h-6 text-purple-600"}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Plano Premium"})]}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("span",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400",children:c}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["/ ",d==="monthly"?"ms":d]})]}),u.jsx("div",{className:"rounded-xl border border-purple-100 dark:border-purple-900/40 bg-white/70 dark:bg-white/5 backdrop-blur p-4 md:p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[u.jsxs("ul",{className:"space-y-3",children:[u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(vr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Acesso a ",u.jsx("span",{className:"font-medium",children:"nutricionistas certificados"})]})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(vr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[u.jsx("span",{className:"font-medium",children:"WhatsApp direto"})," com nutricionistas"]})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(vr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[u.jsx("span",{className:"font-medium",children:"Metas personalizadas"})," e periodizao"]})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(vr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[u.jsx("span",{className:"font-medium",children:"Planos alimentares"})," ajustados ao seu perfil"]})]})]}),u.jsx("div",{className:"md:pl-6 md:border-l md:border-purple-200/60 dark:md:border-purple-900/40",children:u.jsxs("ul",{className:"space-y-3",children:[u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(vr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[u.jsx("span",{className:"font-medium",children:"Acompanhamento semanal"})," e ajustes contnuos"]})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(vr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[u.jsx("span",{className:"font-medium",children:"Relatrios de progresso"})," com grficos"]})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(vr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[u.jsx("span",{className:"font-medium",children:"Receitas premium"})," exclusivas"]})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(vr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[u.jsx("span",{className:"font-medium",children:"Comunidade VIP"})," e desafios mensais"]})]})]})})]})}),u.jsxs(ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,disabled:n,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[u.jsx(Xc,{className:"w-5 h-5"}),n?"Iniciando...":"Assinar Plano Premium"]})]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-2",children:f.map((m,y)=>u.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"flex items-start gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[u.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg text-white",children:m.icon}),u.jsxs("div",{className:"text-left",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:m.title}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.description})]})]},y))}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cancele a qualquer momento  Sem compromisso  Suporte 24/7"})]})})}function TO({onBack:e}){const{user:t,isNutritionist:r}=qe(),{hasFeatureAccess:n}=ww(),i=t&&(r()||n("ai_mentoring"));return u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 group",children:[u.jsx(Oo,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),"Voltar"]}),i?u.jsx(EO,{}):u.jsx(NO,{})]})}function RO(){const e=Mr();return u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 mb-6",children:[u.jsx(Oo,{className:"w-5 h-5"}),"Voltar"]}),u.jsx(TO,{onBack:()=>e("/")})]})})}function PO(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[i,s]=b.useState(!1),[o,a]=b.useState(!1),[l,c]=b.useState(!1),[d,f]=b.useState(!0),[h,m]=b.useState("idle"),[y,x]=b.useState(""),[w,g]=b.useState(!1);b.useEffect(()=>{(async()=>{try{console.log("Checking recovery token..."),(await bR()).valid?(console.log("Valid recovery token found"),g(!0)):(m("error"),x("Link de recuperao invlido ou expirado. Solicite um novo link."),g(!1))}catch(I){console.error("Token validation error:",I),m("error"),x("Erro ao validar link de recuperao. Tente novamente."),g(!1)}finally{f(!1)}})()},[]);const p=C=>{const I=[];return C.length<6&&I.push("A senha deve ter pelo menos 6 caracteres"),/(?=.*[a-z])/.test(C)||I.push("A senha deve conter pelo menos uma letra minscula"),/(?=.*[A-Z])/.test(C)||I.push("A senha deve conter pelo menos uma letra maiscula"),/(?=.*\d)/.test(C)||I.push("A senha deve conter pelo menos um nmero"),I},v=async C=>{C.preventDefault(),c(!0),x("");const I=p(e);if(I.length>0){x(I[0]),c(!1);return}if(e!==r){x("As senhas no coincidem"),c(!1);return}try{console.log("Updating password..."),await wR(e),console.log("Password updated successfully"),m("success"),setTimeout(async()=>{await Q.auth.signOut(),setTimeout(()=>{window.location.href="/"},3e3)},1e3)}catch(P){console.error("Password reset error:",P),x(P.message||"Erro inesperado. Tente novamente."),m("error")}finally{c(!1)}},E=(C=>{let I=0;return C.length>=6&&I++,C.match(/[a-z]/)&&I++,C.match(/[A-Z]/)&&I++,C.match(/[0-9]/)&&I++,C.match(/[^a-zA-Z0-9]/)&&I++,I})(e),T=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"],k=["Muito fraca","Fraca","Regular","Boa","Forte"];return d?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[u.jsx(Hi,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-green-600"}),u.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Verificando link de recuperao..."}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto validamos seu link de recuperao."})]})}):h==="success"?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:u.jsx(Xl,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Senha redefinida com sucesso!"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua senha foi alterada com sucesso. Voc ser redirecionado para a pgina de login em alguns segundos."}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:u.jsx(ce.div,{className:"bg-green-600 h-2 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:3}})}),u.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Ir para login agora"})]})}):h==="error"||!w?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:u.jsx(Ql,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Link invlido ou expirado"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:y||"Este link de recuperao  invlido ou expirou. Solicite um novo link de recuperao."}),u.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Voltar ao login"})]})}):u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[u.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:u.jsx(Tj,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Nova senha"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite sua nova senha segura"})]})]}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(Oj,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Dicas para uma senha segura:"}),u.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[u.jsx("li",{children:" Pelo menos 6 caracteres"}),u.jsx("li",{children:" Combine letras maisculas e minsculas"}),u.jsx("li",{children:" Inclua nmeros e smbolos"}),u.jsx("li",{children:" Evite informaes pessoais"})]})]})]})}),u.jsxs("form",{onSubmit:v,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:i?"text":"password",id:"password",value:e,onChange:C=>t(C.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite sua nova senha",required:!0,disabled:l}),u.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:i?u.jsx(Op,{className:"w-5 h-5"}):u.jsx(Lp,{className:"w-5 h-5"})})]}),e&&u.jsx("div",{className:"mt-2",children:u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:me("h-2 rounded-full transition-all duration-300",T[Math.max(0,E-1)]),style:{width:`${E/5*100}%`}})}),u.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:k[Math.max(0,E-1)]})]})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:o?"text":"password",id:"confirmPassword",value:r,onChange:C=>n(C.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirme sua nova senha",required:!0,disabled:l}),u.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:o?u.jsx(Op,{className:"w-5 h-5"}):u.jsx(Lp,{className:"w-5 h-5"})})]}),r&&e!==r&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"As senhas no coincidem"})]}),y&&u.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:y})}),u.jsxs("button",{type:"submit",disabled:l||e!==r||E<3,className:me("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",l||e!==r||E<3?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[l&&u.jsx(Hi,{className:"w-4 h-4 animate-spin"}),l?"Redefinindo...":"Redefinir senha"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium",disabled:l,children:"Voltar ao login"})})]})})}function AO(){return u.jsx(PO,{})}function MO(){const[e,t]=b.useState("loading"),[r,n]=b.useState("Confirmando seu e-mail...");return b.useEffect(()=>{(async()=>{var i;try{const s=new URL(window.location.href),o=s.searchParams.get("code");if(o){const{data:c,error:d}=await Q.auth.exchangeCodeForSession(o);if(d)throw d;if(c!=null&&c.user){t("ok"),n("E-mail confirmado com sucesso! Voc j pode acessar o sistema.");return}}if(window.location.hash.includes("access_token")){const c=new URLSearchParams(window.location.hash.substring(1)),d=c.get("access_token")||"",f=c.get("refresh_token")||"";if(d){const{error:h}=await Q.auth.setSession({access_token:d,refresh_token:f});if(h)throw h;t("ok"),n("E-mail confirmado com sucesso! Voc j pode acessar o sistema.");return}}const a=s.searchParams.get("token_hash"),l=s.searchParams.get("type")||"signup";if(a){const{data:c,error:d}=await Q.auth.verifyOtp({type:l,token_hash:a});if(d)throw d;if(c!=null&&c.user){t("ok"),n("E-mail confirmado com sucesso! Voc j pode acessar o sistema.");return}}t("error"),n("Link invlido ou expirado. Solicite um novo e-mail de confirmao.")}catch(s){console.error("Erro ao confirmar e-mail:",s),t("error");const o=(i=s==null?void 0:s.message)!=null&&i.includes("expired")?"Seu link expirou. Solicite um novo e-mail de confirmao.":"No foi possvel confirmar seu e-mail. Tente novamente.";n(o)}})()},[]),u.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full text-center p-8",children:[e==="loading"&&u.jsx(Hi,{className:"mx-auto animate-spin"}),e==="ok"&&u.jsx(Xl,{className:"mx-auto text-green-600"}),e==="error"&&u.jsx(Ql,{className:"mx-auto text-red-600"}),u.jsx("p",{className:"mt-4 text-lg",children:r})]})})}function IO(){return u.jsx(MO,{})}function OO(){const e=Mr();return b.useEffect(()=>{const t=setTimeout(()=>{e("/perfil")},5e3);return()=>clearTimeout(t)},[e]),u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx("div",{className:"mb-6 flex justify-center",children:u.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-4 rounded-full",children:u.jsx(vr,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Assinatura Confirmada!"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua assinatura foi processada com sucesso. Voc agora tem acesso a todos os recursos premium."}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Redirecionando para seu perfil em 5 segundos..."}),u.jsx("button",{onClick:()=>e("/perfil"),className:"mt-6 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Ir para o Perfil Agora"})]})})}function LO(){const e=Mr();return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx("div",{className:"mb-6 flex justify-center",children:u.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-4 rounded-full",children:u.jsx(vn,{className:"w-12 h-12 text-red-600 dark:text-red-400"})})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pagamento Cancelado"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Seu pagamento foi cancelado. Sua assinatura no foi processada."}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-6",children:"Voc pode tentar novamente a qualquer momento."}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:()=>e("/mentoria-ia"),className:"w-full px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar Novamente"}),u.jsx("button",{onClick:()=>e("/"),className:"w-full px-6 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors",children:"Voltar ao Incio"})]})]})})}function K0(){const e=Mr();return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx("div",{className:"mb-6 flex justify-center",children:u.jsx("div",{className:"text-6xl font-bold text-gray-300 dark:text-gray-700",children:"404"})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pgina no encontrada"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Desculpe, a pgina que voc est procurando no existe ou foi removida."}),u.jsxs("button",{onClick:()=>e("/"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(Cj,{className:"w-5 h-5"}),"Voltar ao Incio"]})]})})}class a1 extends b.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx(wj,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),u.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function l1({children:e}){const{theme:t}=gc();return b.useEffect(()=>{const r=()=>{const n=t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",n)};if(r(),t==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addEventListener("change",r),()=>n.removeEventListener("change",r)}},[t]),u.jsx(u.Fragment,{children:e})}function DO(){return u.jsx(a1,{children:u.jsx(l1,{children:u.jsx(IE,{})})})}const FO=ij([{path:"/",element:u.jsx(DO,{}),errorElement:u.jsx(K0,{}),children:[{index:!0,element:u.jsx(aI,{})},{path:"perfil",element:u.jsx(pI,{})},{path:"receita/:id",element:u.jsx(gI,{})},{path:"mentoria-ia",element:u.jsx(RO,{})},{path:"reset-password",element:u.jsx(AO,{})},{path:"auth/confirm",element:u.jsx(IO,{})},{path:"assinatura/sucesso",element:u.jsx(OO,{})},{path:"assinatura/cancelada",element:u.jsx(LO,{})},{path:"404",element:u.jsx(K0,{})},{path:"*",element:u.jsx(ME,{to:"/404",replace:!0})}]}]);function $O(){return u.jsx(gj,{router:FO})}cx(document.getElementById("root")).render(u.jsx(b.StrictMode,{children:u.jsx(a1,{children:u.jsx(l1,{children:u.jsx($O,{})})})}));export{q0 as g};
