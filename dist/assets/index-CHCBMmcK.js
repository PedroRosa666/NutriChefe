(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Jy={exports:{}},gc={},Zy={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),Bk=Symbol.for("react.portal"),Hk=Symbol.for("react.fragment"),Gk=Symbol.for("react.strict_mode"),Wk=Symbol.for("react.profiler"),Kk=Symbol.for("react.provider"),qk=Symbol.for("react.context"),Yk=Symbol.for("react.forward_ref"),Jk=Symbol.for("react.suspense"),Zk=Symbol.for("react.memo"),Qk=Symbol.for("react.lazy"),Jm=Symbol.iterator;function Xk(e){return e===null||typeof e!="object"?null:(e=Jm&&e[Jm]||e["@@iterator"],typeof e=="function"?e:null)}var Qy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xy=Object.assign,ev={};function vi(e,t,r){this.props=e,this.context=t,this.refs=ev,this.updater=r||Qy}vi.prototype.isReactComponent={};vi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tv(){}tv.prototype=vi.prototype;function $h(e,t,r){this.props=e,this.context=t,this.refs=ev,this.updater=r||Qy}var Uh=$h.prototype=new tv;Uh.constructor=$h;Xy(Uh,vi.prototype);Uh.isPureReactComponent=!0;var Zm=Array.isArray,rv=Object.prototype.hasOwnProperty,Vh={current:null},nv={key:!0,ref:!0,__self:!0,__source:!0};function sv(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)rv.call(t,n)&&!nv.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Xa,type:e,key:i,ref:a,props:s,_owner:Vh.current}}function ej(e,t){return{$$typeof:Xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xa}function tj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qm=/\/+/g;function iu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tj(""+e.key):t.toString(36)}function il(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Xa:case Bk:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+iu(a,0):n,Zm(s)?(r="",e!=null&&(r=e.replace(Qm,"$&/")+"/"),il(s,t,r,"",function(u){return u})):s!=null&&(Bh(s)&&(s=ej(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Qm,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Zm(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+iu(i,o);a+=il(i,t,r,c,s)}else if(c=Xk(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+iu(i,o++),a+=il(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function No(e,t,r){if(e==null)return e;var n=[],s=0;return il(e,n,"","",function(i){return t.call(r,i,s++)}),n}function rj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},al={transition:null},nj={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:al,ReactCurrentOwner:Vh};le.Children={map:No,forEach:function(e,t,r){No(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return No(e,function(){t++}),t},toArray:function(e){return No(e,function(t){return t})||[]},only:function(e){if(!Bh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=vi;le.Fragment=Hk;le.Profiler=Wk;le.PureComponent=$h;le.StrictMode=Gk;le.Suspense=Jk;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nj;le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Xy({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Vh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)rv.call(t,c)&&!nv.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Xa,type:e.type,key:s,ref:i,props:n,_owner:a}};le.createContext=function(e){return e={$$typeof:qk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kk,_context:e},e.Consumer=e};le.createElement=sv;le.createFactory=function(e){var t=sv.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Yk,render:e}};le.isValidElement=Bh;le.lazy=function(e){return{$$typeof:Qk,_payload:{_status:-1,_result:e},_init:rj}};le.memo=function(e,t){return{$$typeof:Zk,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=al.transition;al.transition={};try{e()}finally{al.transition=t}};le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};le.useCallback=function(e,t){return mt.current.useCallback(e,t)};le.useContext=function(e){return mt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};le.useEffect=function(e,t){return mt.current.useEffect(e,t)};le.useId=function(){return mt.current.useId()};le.useImperativeHandle=function(e,t,r){return mt.current.useImperativeHandle(e,t,r)};le.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return mt.current.useMemo(e,t)};le.useReducer=function(e,t,r){return mt.current.useReducer(e,t,r)};le.useRef=function(e){return mt.current.useRef(e)};le.useState=function(e){return mt.current.useState(e)};le.useSyncExternalStore=function(e,t,r){return mt.current.useSyncExternalStore(e,t,r)};le.useTransition=function(){return mt.current.useTransition()};le.version="18.2.0";Zy.exports=le;var b=Zy.exports;const Xn=zh(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj=b,ij=Symbol.for("react.element"),aj=Symbol.for("react.fragment"),oj=Object.prototype.hasOwnProperty,lj=sj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cj={key:!0,ref:!0,__self:!0,__source:!0};function iv(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)oj.call(t,n)&&!cj.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ij,type:e,key:i,ref:a,props:s,_owner:lj.current}}gc.Fragment=aj;gc.jsx=iv;gc.jsxs=iv;Jy.exports=gc;var l=Jy.exports,av={exports:{}},It={},ov={exports:{}},lv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,O){var z=A.length;A.push(O);e:for(;0<z;){var Y=z-1>>>1,me=A[Y];if(0<s(me,O))A[Y]=O,A[z]=me,z=Y;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var O=A[0],z=A.pop();if(z!==O){A[0]=z;e:for(var Y=0,me=A.length,We=me>>>1;Y<We;){var be=2*(Y+1)-1,Nt=A[be],gt=be+1,ut=A[gt];if(0>s(Nt,z))gt<me&&0>s(ut,Nt)?(A[Y]=ut,A[gt]=z,Y=gt):(A[Y]=Nt,A[be]=z,Y=be);else if(gt<me&&0>s(ut,z))A[Y]=ut,A[gt]=z,Y=gt;else break e}}return O}function s(A,O){var z=A.sortIndex-O.sortIndex;return z!==0?z:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,f=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=A)n(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(u)}}function j(A){if(v=!1,w(A),!y)if(r(c)!==null)y=!0,ue(_);else{var O=r(u);O!==null&&J(j,O.startTime-A)}}function _(A,O){y=!1,v&&(v=!1,p(P),P=-1),m=!0;var z=f;try{for(w(O),h=r(c);h!==null&&(!(h.expirationTime>O)||A&&!ee());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var me=Y(h.expirationTime<=O);O=e.unstable_now(),typeof me=="function"?h.callback=me:h===r(c)&&n(c),w(O)}else n(c);h=r(c)}if(h!==null)var We=!0;else{var be=r(u);be!==null&&J(j,be.startTime-O),We=!1}return We}finally{h=null,f=z,m=!1}}var E=!1,k=null,P=-1,C=5,R=-1;function ee(){return!(e.unstable_now()-R<C)}function Q(){if(k!==null){var A=e.unstable_now();R=A;var O=!0;try{O=k(!0,A)}finally{O?Fe():(E=!1,k=null)}}else E=!1}var Fe;if(typeof g=="function")Fe=function(){g(Q)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ne=Ee.port2;Ee.port1.onmessage=Q,Fe=function(){ne.postMessage(null)}}else Fe=function(){x(Q,0)};function ue(A){k=A,E||(E=!0,Fe())}function J(A,O){P=x(function(){A(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,ue(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var z=f;f=O;try{return A()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=f;f=A;try{return O()}finally{f=z}},e.unstable_scheduleCallback=function(A,O,z){var Y=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,A){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=z+me,A={id:d++,callback:O,priorityLevel:A,startTime:z,expirationTime:me,sortIndex:-1},z>Y?(A.sortIndex=z,t(u,A),r(c)===null&&A===r(u)&&(v?(p(P),P=-1):v=!0,J(j,z-Y))):(A.sortIndex=me,t(c,A),y||m||(y=!0,ue(_))),A},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(A){var O=f;return function(){var z=f;f=O;try{return A.apply(this,arguments)}finally{f=z}}}})(lv);ov.exports=lv;var uj=ov.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv=b,Mt=uj;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uv=new Set,ka={};function us(e,t){ri(e,t),ri(e+"Capture",t)}function ri(e,t){for(ka[e]=t,e=0;e<t.length;e++)uv.add(t[e])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),id=Object.prototype.hasOwnProperty,dj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xm={},ep={};function hj(e){return id.call(ep,e)?!0:id.call(Xm,e)?!1:dj.test(e)?ep[e]=!0:(Xm[e]=!0,!1)}function fj(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mj(e,t,r,n){if(t===null||typeof t>"u"||fj(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hh=/[\-:]([a-z])/g;function Gh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hh,Gh);tt[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hh,Gh);tt[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hh,Gh);tt[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wh(e,t,r,n){var s=tt.hasOwnProperty(t)?tt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mj(t,r,s,n)&&(r=null),n||s===null?hj(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vr=cv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),Ps=Symbol.for("react.portal"),Ts=Symbol.for("react.fragment"),Kh=Symbol.for("react.strict_mode"),ad=Symbol.for("react.profiler"),dv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),qh=Symbol.for("react.forward_ref"),od=Symbol.for("react.suspense"),ld=Symbol.for("react.suspense_list"),Yh=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),fv=Symbol.for("react.offscreen"),tp=Symbol.iterator;function Ai(e){return e===null||typeof e!="object"?null:(e=tp&&e[tp]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,au;function Yi(e){if(au===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);au=t&&t[1]||""}return`
`+au+e}var ou=!1;function lu(e,t){if(!e||ou)return"";ou=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{ou=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Yi(e):""}function pj(e){switch(e.tag){case 5:return Yi(e.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return e=lu(e.type,!1),e;case 11:return e=lu(e.type.render,!1),e;case 1:return e=lu(e.type,!0),e;default:return""}}function cd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ts:return"Fragment";case Ps:return"Portal";case ad:return"Profiler";case Kh:return"StrictMode";case od:return"Suspense";case ld:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hv:return(e.displayName||"Context")+".Consumer";case dv:return(e._context.displayName||"Context")+".Provider";case qh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yh:return t=e.displayName||null,t!==null?t:cd(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return cd(e(t))}catch{}}return null}function gj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cd(t);case 8:return t===Kh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yj(e){var t=mv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eo(e){e._valueTracker||(e._valueTracker=yj(e))}function pv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=mv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ud(e,t){var r=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=bn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gv(e,t){t=t.checked,t!=null&&Wh(e,"checked",t,!1)}function dd(e,t){gv(e,t);var r=bn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hd(e,t.type,r):t.hasOwnProperty("defaultValue")&&hd(e,t.type,bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function np(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hd(e,t,r){(t!=="number"||Cl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ji=Array.isArray;function Ks(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+bn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(D(92));if(Ji(r)){if(1<r.length)throw Error(D(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:bn(r)}}function yv(e,t){var r=bn(t.value),n=bn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ip(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function md(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Po,xv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ja(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vj=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(e){vj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ia[t]=ia[e]})});function wv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ia.hasOwnProperty(e)&&ia[e]?(""+t).trim():t+"px"}function bv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=wv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var xj=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pd(e,t){if(t){if(xj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function gd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yd=null;function Jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vd=null,qs=null,Ys=null;function ap(e){if(e=ro(e)){if(typeof vd!="function")throw Error(D(280));var t=e.stateNode;t&&(t=bc(t),vd(e.stateNode,e.type,t))}}function kv(e){qs?Ys?Ys.push(e):Ys=[e]:qs=e}function jv(){if(qs){var e=qs,t=Ys;if(Ys=qs=null,ap(e),t)for(e=0;e<t.length;e++)ap(t[e])}}function _v(e,t){return e(t)}function Sv(){}var cu=!1;function Nv(e,t,r){if(cu)return e(t,r);cu=!0;try{return _v(e,t,r)}finally{cu=!1,(qs!==null||Ys!==null)&&(Sv(),jv())}}function _a(e,t){var r=e.stateNode;if(r===null)return null;var n=bc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var xd=!1;if(Lr)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){xd=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{xd=!1}function wj(e,t,r,n,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var aa=!1,El=null,Pl=!1,wd=null,bj={onError:function(e){aa=!0,El=e}};function kj(e,t,r,n,s,i,a,o,c){aa=!1,El=null,wj.apply(bj,arguments)}function jj(e,t,r,n,s,i,a,o,c){if(kj.apply(this,arguments),aa){if(aa){var u=El;aa=!1,El=null}else throw Error(D(198));Pl||(Pl=!0,wd=u)}}function ds(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Cv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function op(e){if(ds(e)!==e)throw Error(D(188))}function _j(e){var t=e.alternate;if(!t){if(t=ds(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return op(s),e;if(i===n)return op(s),t;i=i.sibling}throw Error(D(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function Ev(e){return e=_j(e),e!==null?Pv(e):null}function Pv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pv(e);if(t!==null)return t;e=e.sibling}return null}var Tv=Mt.unstable_scheduleCallback,lp=Mt.unstable_cancelCallback,Sj=Mt.unstable_shouldYield,Nj=Mt.unstable_requestPaint,$e=Mt.unstable_now,Cj=Mt.unstable_getCurrentPriorityLevel,Zh=Mt.unstable_ImmediatePriority,Rv=Mt.unstable_UserBlockingPriority,Tl=Mt.unstable_NormalPriority,Ej=Mt.unstable_LowPriority,Av=Mt.unstable_IdlePriority,yc=null,mr=null;function Pj(e){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(yc,e,void 0,(e.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:Aj,Tj=Math.log,Rj=Math.LN2;function Aj(e){return e>>>=0,e===0?32:31-(Tj(e)/Rj|0)|0}var To=64,Ro=4194304;function Zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Zi(o):(i&=a,i!==0&&(n=Zi(i)))}else a=r&~s,a!==0?n=Zi(a):i!==0&&(n=Zi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-nr(t),s=1<<r,n|=e[r],t&=~s;return n}function Mj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dj(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-nr(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=Mj(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function bd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mv(){var e=To;return To<<=1,!(To&4194240)&&(To=64),e}function uu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function eo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nr(t),e[t]=r}function Ij(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-nr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Qh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-nr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var pe=0;function Dv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Iv,Xh,Lv,Ov,Fv,kd=!1,Ao=[],dn=null,hn=null,fn=null,Sa=new Map,Na=new Map,rn=[],Lj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cp(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Sa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(t.pointerId)}}function Di(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ro(t),t!==null&&Xh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Oj(e,t,r,n,s){switch(t){case"focusin":return dn=Di(dn,e,t,r,n,s),!0;case"dragenter":return hn=Di(hn,e,t,r,n,s),!0;case"mouseover":return fn=Di(fn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Sa.set(i,Di(Sa.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Na.set(i,Di(Na.get(i)||null,e,t,r,n,s)),!0}return!1}function zv(e){var t=Kn(e.target);if(t!==null){var r=ds(t);if(r!==null){if(t=r.tag,t===13){if(t=Cv(r),t!==null){e.blockedOn=t,Fv(e.priority,function(){Lv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);yd=n,r.target.dispatchEvent(n),yd=null}else return t=ro(r),t!==null&&Xh(t),e.blockedOn=r,!1;t.shift()}return!0}function up(e,t,r){ol(e)&&r.delete(t)}function Fj(){kd=!1,dn!==null&&ol(dn)&&(dn=null),hn!==null&&ol(hn)&&(hn=null),fn!==null&&ol(fn)&&(fn=null),Sa.forEach(up),Na.forEach(up)}function Ii(e,t){e.blockedOn===t&&(e.blockedOn=null,kd||(kd=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,Fj)))}function Ca(e){function t(s){return Ii(s,e)}if(0<Ao.length){Ii(Ao[0],e);for(var r=1;r<Ao.length;r++){var n=Ao[r];n.blockedOn===e&&(n.blockedOn=null)}}for(dn!==null&&Ii(dn,e),hn!==null&&Ii(hn,e),fn!==null&&Ii(fn,e),Sa.forEach(t),Na.forEach(t),r=0;r<rn.length;r++)n=rn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<rn.length&&(r=rn[0],r.blockedOn===null);)zv(r),r.blockedOn===null&&rn.shift()}var Js=Vr.ReactCurrentBatchConfig,Al=!0;function zj(e,t,r,n){var s=pe,i=Js.transition;Js.transition=null;try{pe=1,ef(e,t,r,n)}finally{pe=s,Js.transition=i}}function $j(e,t,r,n){var s=pe,i=Js.transition;Js.transition=null;try{pe=4,ef(e,t,r,n)}finally{pe=s,Js.transition=i}}function ef(e,t,r,n){if(Al){var s=jd(e,t,r,n);if(s===null)wu(e,t,n,Ml,r),cp(e,n);else if(Oj(s,e,t,r,n))n.stopPropagation();else if(cp(e,n),t&4&&-1<Lj.indexOf(e)){for(;s!==null;){var i=ro(s);if(i!==null&&Iv(i),i=jd(e,t,r,n),i===null&&wu(e,t,n,Ml,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wu(e,t,n,null,r)}}var Ml=null;function jd(e,t,r,n){if(Ml=null,e=Jh(n),e=Kn(e),e!==null)if(t=ds(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Cv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ml=e,null}function $v(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cj()){case Zh:return 1;case Rv:return 4;case Tl:case Ej:return 16;case Av:return 536870912;default:return 16}default:return 16}}var ln=null,tf=null,ll=null;function Uv(){if(ll)return ll;var e,t=tf,r=t.length,n,s="value"in ln?ln.value:ln.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ll=s.slice(e,1<n?1-n:void 0)}function cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mo(){return!0}function dp(){return!1}function Lt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mo:dp,this.isPropagationStopped=dp,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),t}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rf=Lt(xi),to=Me({},xi,{view:0,detail:0}),Uj=Lt(to),du,hu,Li,vc=Me({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(du=e.screenX-Li.screenX,hu=e.screenY-Li.screenY):hu=du=0,Li=e),du)},movementY:function(e){return"movementY"in e?e.movementY:hu}}),hp=Lt(vc),Vj=Me({},vc,{dataTransfer:0}),Bj=Lt(Vj),Hj=Me({},to,{relatedTarget:0}),fu=Lt(Hj),Gj=Me({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Wj=Lt(Gj),Kj=Me({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qj=Lt(Kj),Yj=Me({},xi,{data:0}),fp=Lt(Yj),Jj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qj[e])?!!t[e]:!1}function nf(){return Xj}var e_=Me({},to,{key:function(e){if(e.key){var t=Jj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t_=Lt(e_),r_=Me({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=Lt(r_),n_=Me({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),s_=Lt(n_),i_=Me({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),a_=Lt(i_),o_=Me({},vc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),l_=Lt(o_),c_=[9,13,27,32],sf=Lr&&"CompositionEvent"in window,oa=null;Lr&&"documentMode"in document&&(oa=document.documentMode);var u_=Lr&&"TextEvent"in window&&!oa,Vv=Lr&&(!sf||oa&&8<oa&&11>=oa),pp=" ",gp=!1;function Bv(e,t){switch(e){case"keyup":return c_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function d_(e,t){switch(e){case"compositionend":return Hv(t);case"keypress":return t.which!==32?null:(gp=!0,pp);case"textInput":return e=t.data,e===pp&&gp?null:e;default:return null}}function h_(e,t){if(Rs)return e==="compositionend"||!sf&&Bv(e,t)?(e=Uv(),ll=tf=ln=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vv&&t.locale!=="ko"?null:t.data;default:return null}}var f_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!f_[e.type]:t==="textarea"}function Gv(e,t,r,n){kv(n),t=Dl(t,"onChange"),0<t.length&&(r=new rf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var la=null,Ea=null;function m_(e){rx(e,0)}function xc(e){var t=Ds(e);if(pv(t))return e}function p_(e,t){if(e==="change")return t}var Wv=!1;if(Lr){var mu;if(Lr){var pu="oninput"in document;if(!pu){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),pu=typeof vp.oninput=="function"}mu=pu}else mu=!1;Wv=mu&&(!document.documentMode||9<document.documentMode)}function xp(){la&&(la.detachEvent("onpropertychange",Kv),Ea=la=null)}function Kv(e){if(e.propertyName==="value"&&xc(Ea)){var t=[];Gv(t,Ea,e,Jh(e)),Nv(m_,t)}}function g_(e,t,r){e==="focusin"?(xp(),la=t,Ea=r,la.attachEvent("onpropertychange",Kv)):e==="focusout"&&xp()}function y_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xc(Ea)}function v_(e,t){if(e==="click")return xc(t)}function x_(e,t){if(e==="input"||e==="change")return xc(t)}function w_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:w_;function Pa(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!id.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,t){var r=wp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wp(r)}}function qv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yv(){for(var e=window,t=Cl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Cl(e.document)}return t}function af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function b_(e){var t=Yv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qv(r.ownerDocument.documentElement,r)){if(n!==null&&af(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=bp(r,i);var a=bp(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k_=Lr&&"documentMode"in document&&11>=document.documentMode,As=null,_d=null,ca=null,Sd=!1;function kp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sd||As==null||As!==Cl(n)||(n=As,"selectionStart"in n&&af(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ca&&Pa(ca,n)||(ca=n,n=Dl(_d,"onSelect"),0<n.length&&(t=new rf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=As)))}function Do(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ms={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},gu={},Jv={};Lr&&(Jv=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function wc(e){if(gu[e])return gu[e];if(!Ms[e])return e;var t=Ms[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Jv)return gu[e]=t[r];return e}var Zv=wc("animationend"),Qv=wc("animationiteration"),Xv=wc("animationstart"),ex=wc("transitionend"),tx=new Map,jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){tx.set(e,t),us(t,[e])}for(var yu=0;yu<jp.length;yu++){var vu=jp[yu],j_=vu.toLowerCase(),__=vu[0].toUpperCase()+vu.slice(1);Sn(j_,"on"+__)}Sn(Zv,"onAnimationEnd");Sn(Qv,"onAnimationIteration");Sn(Xv,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(ex,"onTransitionEnd");ri("onMouseEnter",["mouseout","mouseover"]);ri("onMouseLeave",["mouseout","mouseover"]);ri("onPointerEnter",["pointerout","pointerover"]);ri("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function _p(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,jj(n,t,void 0,e),e.currentTarget=null}function rx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;_p(s,o,u),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;_p(s,o,u),i=c}}}if(Pl)throw e=wd,Pl=!1,wd=null,e}function Se(e,t){var r=t[Td];r===void 0&&(r=t[Td]=new Set);var n=e+"__bubble";r.has(n)||(nx(t,e,2,!1),r.add(n))}function xu(e,t,r){var n=0;t&&(n|=4),nx(r,e,n,t)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Ta(e){if(!e[Io]){e[Io]=!0,uv.forEach(function(r){r!=="selectionchange"&&(S_.has(r)||xu(r,!1,e),xu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Io]||(t[Io]=!0,xu("selectionchange",!1,t))}}function nx(e,t,r,n){switch($v(t)){case 1:var s=zj;break;case 4:s=$j;break;default:s=ef}r=s.bind(null,t,r,e),s=void 0,!xd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function wu(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Kn(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Nv(function(){var u=i,d=Jh(r),h=[];e:{var f=tx.get(e);if(f!==void 0){var m=rf,y=e;switch(e){case"keypress":if(cl(r)===0)break e;case"keydown":case"keyup":m=t_;break;case"focusin":y="focus",m=fu;break;case"focusout":y="blur",m=fu;break;case"beforeblur":case"afterblur":m=fu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Bj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=s_;break;case Zv:case Qv:case Xv:m=Wj;break;case ex:m=a_;break;case"scroll":m=Uj;break;case"wheel":m=l_;break;case"copy":case"cut":case"paste":m=qj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mp}var v=(t&4)!==0,x=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,w;g!==null;){w=g;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,p!==null&&(j=_a(g,p),j!=null&&v.push(Ra(g,j,w)))),x)break;g=g.return}0<v.length&&(f=new m(f,y,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==yd&&(y=r.relatedTarget||r.fromElement)&&(Kn(y)||y[Or]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Kn(y):null,y!==null&&(x=ds(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=hp,j="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=mp,j="onPointerLeave",p="onPointerEnter",g="pointer"),x=m==null?f:Ds(m),w=y==null?f:Ds(y),f=new v(j,g+"leave",m,r,d),f.target=x,f.relatedTarget=w,j=null,Kn(d)===u&&(v=new v(p,g+"enter",y,r,d),v.target=w,v.relatedTarget=x,j=v),x=j,m&&y)t:{for(v=m,p=y,g=0,w=v;w;w=ys(w))g++;for(w=0,j=p;j;j=ys(j))w++;for(;0<g-w;)v=ys(v),g--;for(;0<w-g;)p=ys(p),w--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=ys(v),p=ys(p)}v=null}else v=null;m!==null&&Sp(h,f,m,v,!1),y!==null&&x!==null&&Sp(h,x,y,v,!0)}}e:{if(f=u?Ds(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=p_;else if(yp(f))if(Wv)_=x_;else{_=y_;var E=g_}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=v_);if(_&&(_=_(e,u))){Gv(h,_,r,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&hd(f,"number",f.value)}switch(E=u?Ds(u):window,e){case"focusin":(yp(E)||E.contentEditable==="true")&&(As=E,_d=u,ca=null);break;case"focusout":ca=_d=As=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,kp(h,r,d);break;case"selectionchange":if(k_)break;case"keydown":case"keyup":kp(h,r,d)}var k;if(sf)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Rs?Bv(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Vv&&r.locale!=="ko"&&(Rs||P!=="onCompositionStart"?P==="onCompositionEnd"&&Rs&&(k=Uv()):(ln=d,tf="value"in ln?ln.value:ln.textContent,Rs=!0)),E=Dl(u,P),0<E.length&&(P=new fp(P,e,null,r,d),h.push({event:P,listeners:E}),k?P.data=k:(k=Hv(r),k!==null&&(P.data=k)))),(k=u_?d_(e,r):h_(e,r))&&(u=Dl(u,"onBeforeInput"),0<u.length&&(d=new fp("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}rx(h,t)})}function Ra(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Dl(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_a(e,r),i!=null&&n.unshift(Ra(e,i,s)),i=_a(e,t),i!=null&&n.push(Ra(e,i,s))),e=e.return}return n}function ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sp(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=_a(r,i),c!=null&&a.unshift(Ra(r,c,o))):s||(c=_a(r,i),c!=null&&a.push(Ra(r,c,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var N_=/\r\n?/g,C_=/\u0000|\uFFFD/g;function Np(e){return(typeof e=="string"?e:""+e).replace(N_,`
`).replace(C_,"")}function Lo(e,t,r){if(t=Np(t),Np(e)!==t&&r)throw Error(D(425))}function Il(){}var Nd=null,Cd=null;function Ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pd=typeof setTimeout=="function"?setTimeout:void 0,E_=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,P_=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(e){return Cp.resolve(null).then(e).catch(T_)}:Pd;function T_(e){setTimeout(function(){throw e})}function bu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ca(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ca(t)}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ep(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),fr="__reactFiber$"+wi,Aa="__reactProps$"+wi,Or="__reactContainer$"+wi,Td="__reactEvents$"+wi,R_="__reactListeners$"+wi,A_="__reactHandles$"+wi;function Kn(e){var t=e[fr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Or]||r[fr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ep(e);e!==null;){if(r=e[fr])return r;e=Ep(e)}return t}e=r,r=e.parentNode}return null}function ro(e){return e=e[fr]||e[Or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ds(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function bc(e){return e[Aa]||null}var Rd=[],Is=-1;function Nn(e){return{current:e}}function Ne(e){0>Is||(e.current=Rd[Is],Rd[Is]=null,Is--)}function we(e,t){Is++,Rd[Is]=e.current,e.current=t}var kn={},ct=Nn(kn),kt=Nn(!1),ns=kn;function ni(e,t){var r=e.type.contextTypes;if(!r)return kn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function jt(e){return e=e.childContextTypes,e!=null}function Ll(){Ne(kt),Ne(ct)}function Pp(e,t,r){if(ct.current!==kn)throw Error(D(168));we(ct,t),we(kt,r)}function sx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(D(108,gj(e)||"Unknown",s));return Me({},r,n)}function Ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,ns=ct.current,we(ct,e),we(kt,kt.current),!0}function Tp(e,t,r){var n=e.stateNode;if(!n)throw Error(D(169));r?(e=sx(e,t,ns),n.__reactInternalMemoizedMergedChildContext=e,Ne(kt),Ne(ct),we(ct,e)):Ne(kt),we(kt,r)}var Tr=null,kc=!1,ku=!1;function ix(e){Tr===null?Tr=[e]:Tr.push(e)}function M_(e){kc=!0,ix(e)}function Cn(){if(!ku&&Tr!==null){ku=!0;var e=0,t=pe;try{var r=Tr;for(pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Tr=null,kc=!1}catch(s){throw Tr!==null&&(Tr=Tr.slice(e+1)),Tv(Zh,Cn),s}finally{pe=t,ku=!1}}return null}var Ls=[],Os=0,Fl=null,zl=0,$t=[],Ut=0,ss=null,Rr=1,Ar="";function $n(e,t){Ls[Os++]=zl,Ls[Os++]=Fl,Fl=e,zl=t}function ax(e,t,r){$t[Ut++]=Rr,$t[Ut++]=Ar,$t[Ut++]=ss,ss=e;var n=Rr;e=Ar;var s=32-nr(n)-1;n&=~(1<<s),r+=1;var i=32-nr(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Rr=1<<32-nr(t)+s|r<<s|n,Ar=i+e}else Rr=1<<i|r<<s|n,Ar=e}function of(e){e.return!==null&&($n(e,1),ax(e,1,0))}function lf(e){for(;e===Fl;)Fl=Ls[--Os],Ls[Os]=null,zl=Ls[--Os],Ls[Os]=null;for(;e===ss;)ss=$t[--Ut],$t[Ut]=null,Ar=$t[--Ut],$t[Ut]=null,Rr=$t[--Ut],$t[Ut]=null}var Rt=null,Tt=null,Pe=!1,rr=null;function ox(e,t){var r=Vt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rt=e,Tt=mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rt=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ss!==null?{id:Rr,overflow:Ar}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Rt=e,Tt=null,!0):!1;default:return!1}}function Ad(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Md(e){if(Pe){var t=Tt;if(t){var r=t;if(!Rp(e,t)){if(Ad(e))throw Error(D(418));t=mn(r.nextSibling);var n=Rt;t&&Rp(e,t)?ox(n,r):(e.flags=e.flags&-4097|2,Pe=!1,Rt=e)}}else{if(Ad(e))throw Error(D(418));e.flags=e.flags&-4097|2,Pe=!1,Rt=e}}}function Ap(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function Oo(e){if(e!==Rt)return!1;if(!Pe)return Ap(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ed(e.type,e.memoizedProps)),t&&(t=Tt)){if(Ad(e))throw lx(),Error(D(418));for(;t;)ox(e,t),t=mn(t.nextSibling)}if(Ap(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tt=mn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Rt?mn(e.stateNode.nextSibling):null;return!0}function lx(){for(var e=Tt;e;)e=mn(e.nextSibling)}function si(){Tt=Rt=null,Pe=!1}function cf(e){rr===null?rr=[e]:rr.push(e)}var D_=Vr.ReactCurrentBatchConfig;function Qt(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var $l=Nn(null),Ul=null,Fs=null,uf=null;function df(){uf=Fs=Ul=null}function hf(e){var t=$l.current;Ne($l),e._currentValue=t}function Dd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zs(e,t){Ul=e,uf=Fs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(uf!==e)if(e={context:e,memoizedValue:t,next:null},Fs===null){if(Ul===null)throw Error(D(308));Fs=e,Ul.dependencies={lanes:0,firstContext:e}}else Fs=Fs.next=e;return t}var qn=null;function ff(e){qn===null?qn=[e]:qn.push(e)}function cx(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ff(t)):(r.next=s.next,s.next=r),t.interleaved=r,Fr(e,n)}function Fr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xr=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ux(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Fr(e,r)}return s=n.interleaved,s===null?(t.next=t,ff(n)):(t.next=s.next,s.next=t),n.interleaved=t,Fr(e,r)}function ul(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qh(e,r)}}function Mp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vl(e,t,r,n){var s=e.updateQueue;Xr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,o=i;do{var f=o.lane,m=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,v=o;switch(f=t,m=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=Me({},h,f);break e;case 2:Xr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);as|=a,e.lanes=a,e.memoizedState=h}}function Dp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(D(191,s));s.call(n)}}}var dx=new cv.Component().refs;function Id(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jc={isMounted:function(e){return(e=e._reactInternals)?ds(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ft(),s=yn(e),i=Mr(n,s);i.payload=t,r!=null&&(i.callback=r),t=pn(e,i,s),t!==null&&(sr(t,e,s,n),ul(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ft(),s=yn(e),i=Mr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=pn(e,i,s),t!==null&&(sr(t,e,s,n),ul(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ft(),n=yn(e),s=Mr(r,n);s.tag=2,t!=null&&(s.callback=t),t=pn(e,s,n),t!==null&&(sr(t,e,n,r),ul(t,e,n))}};function Ip(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Pa(r,n)||!Pa(s,i):!0}function hx(e,t,r){var n=!1,s=kn,i=t.contextType;return typeof i=="object"&&i!==null?i=Wt(i):(s=jt(t)?ns:ct.current,n=t.contextTypes,i=(n=n!=null)?ni(e,s):kn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jc.enqueueReplaceState(t,t.state,null)}function Ld(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=dx,mf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Wt(i):(i=jt(t)?ns:ct.current,s.context=ni(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Id(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&jc.enqueueReplaceState(s,s.state,null),Vl(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Oi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;o===dx&&(o=s.refs={}),a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Op(e){var t=e._init;return t(e._payload)}function fx(e){function t(p,g){if(e){var w=p.deletions;w===null?(p.deletions=[g],p.flags|=16):w.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=vn(p,g),p.index=0,p.sibling=null,p}function i(p,g,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<g?(p.flags|=2,g):w):(p.flags|=2,g)):(p.flags|=1048576,g)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,g,w,j){return g===null||g.tag!==6?(g=Pu(w,p.mode,j),g.return=p,g):(g=s(g,w),g.return=p,g)}function c(p,g,w,j){var _=w.type;return _===Ts?d(p,g,w.props.children,j,w.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Qr&&Op(_)===g.type)?(j=s(g,w.props),j.ref=Oi(p,g,w),j.return=p,j):(j=gl(w.type,w.key,w.props,null,p.mode,j),j.ref=Oi(p,g,w),j.return=p,j)}function u(p,g,w,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Tu(w,p.mode,j),g.return=p,g):(g=s(g,w.children||[]),g.return=p,g)}function d(p,g,w,j,_){return g===null||g.tag!==7?(g=ts(w,p.mode,j,_),g.return=p,g):(g=s(g,w),g.return=p,g)}function h(p,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Pu(""+g,p.mode,w),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Co:return w=gl(g.type,g.key,g.props,null,p.mode,w),w.ref=Oi(p,null,g),w.return=p,w;case Ps:return g=Tu(g,p.mode,w),g.return=p,g;case Qr:var j=g._init;return h(p,j(g._payload),w)}if(Ji(g)||Ai(g))return g=ts(g,p.mode,w,null),g.return=p,g;Fo(p,g)}return null}function f(p,g,w,j){var _=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(p,g,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Co:return w.key===_?c(p,g,w,j):null;case Ps:return w.key===_?u(p,g,w,j):null;case Qr:return _=w._init,f(p,g,_(w._payload),j)}if(Ji(w)||Ai(w))return _!==null?null:d(p,g,w,j,null);Fo(p,w)}return null}function m(p,g,w,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(w)||null,o(g,p,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Co:return p=p.get(j.key===null?w:j.key)||null,c(g,p,j,_);case Ps:return p=p.get(j.key===null?w:j.key)||null,u(g,p,j,_);case Qr:var E=j._init;return m(p,g,w,E(j._payload),_)}if(Ji(j)||Ai(j))return p=p.get(w)||null,d(g,p,j,_,null);Fo(g,j)}return null}function y(p,g,w,j){for(var _=null,E=null,k=g,P=g=0,C=null;k!==null&&P<w.length;P++){k.index>P?(C=k,k=null):C=k.sibling;var R=f(p,k,w[P],j);if(R===null){k===null&&(k=C);break}e&&k&&R.alternate===null&&t(p,k),g=i(R,g,P),E===null?_=R:E.sibling=R,E=R,k=C}if(P===w.length)return r(p,k),Pe&&$n(p,P),_;if(k===null){for(;P<w.length;P++)k=h(p,w[P],j),k!==null&&(g=i(k,g,P),E===null?_=k:E.sibling=k,E=k);return Pe&&$n(p,P),_}for(k=n(p,k);P<w.length;P++)C=m(k,p,P,w[P],j),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?P:C.key),g=i(C,g,P),E===null?_=C:E.sibling=C,E=C);return e&&k.forEach(function(ee){return t(p,ee)}),Pe&&$n(p,P),_}function v(p,g,w,j){var _=Ai(w);if(typeof _!="function")throw Error(D(150));if(w=_.call(w),w==null)throw Error(D(151));for(var E=_=null,k=g,P=g=0,C=null,R=w.next();k!==null&&!R.done;P++,R=w.next()){k.index>P?(C=k,k=null):C=k.sibling;var ee=f(p,k,R.value,j);if(ee===null){k===null&&(k=C);break}e&&k&&ee.alternate===null&&t(p,k),g=i(ee,g,P),E===null?_=ee:E.sibling=ee,E=ee,k=C}if(R.done)return r(p,k),Pe&&$n(p,P),_;if(k===null){for(;!R.done;P++,R=w.next())R=h(p,R.value,j),R!==null&&(g=i(R,g,P),E===null?_=R:E.sibling=R,E=R);return Pe&&$n(p,P),_}for(k=n(p,k);!R.done;P++,R=w.next())R=m(k,p,P,R.value,j),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?P:R.key),g=i(R,g,P),E===null?_=R:E.sibling=R,E=R);return e&&k.forEach(function(Q){return t(p,Q)}),Pe&&$n(p,P),_}function x(p,g,w,j){if(typeof w=="object"&&w!==null&&w.type===Ts&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Co:e:{for(var _=w.key,E=g;E!==null;){if(E.key===_){if(_=w.type,_===Ts){if(E.tag===7){r(p,E.sibling),g=s(E,w.props.children),g.return=p,p=g;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Qr&&Op(_)===E.type){r(p,E.sibling),g=s(E,w.props),g.ref=Oi(p,E,w),g.return=p,p=g;break e}r(p,E);break}else t(p,E);E=E.sibling}w.type===Ts?(g=ts(w.props.children,p.mode,j,w.key),g.return=p,p=g):(j=gl(w.type,w.key,w.props,null,p.mode,j),j.ref=Oi(p,g,w),j.return=p,p=j)}return a(p);case Ps:e:{for(E=w.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(p,g.sibling),g=s(g,w.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=Tu(w,p.mode,j),g.return=p,p=g}return a(p);case Qr:return E=w._init,x(p,g,E(w._payload),j)}if(Ji(w))return y(p,g,w,j);if(Ai(w))return v(p,g,w,j);Fo(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(p,g.sibling),g=s(g,w),g.return=p,p=g):(r(p,g),g=Pu(w,p.mode,j),g.return=p,p=g),a(p)):r(p,g)}return x}var ii=fx(!0),mx=fx(!1),no={},pr=Nn(no),Ma=Nn(no),Da=Nn(no);function Yn(e){if(e===no)throw Error(D(174));return e}function pf(e,t){switch(we(Da,t),we(Ma,e),we(pr,no),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:md(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=md(t,e)}Ne(pr),we(pr,t)}function ai(){Ne(pr),Ne(Ma),Ne(Da)}function px(e){Yn(Da.current);var t=Yn(pr.current),r=md(t,e.type);t!==r&&(we(Ma,e),we(pr,r))}function gf(e){Ma.current===e&&(Ne(pr),Ne(Ma))}var Te=Nn(0);function Bl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ju=[];function yf(){for(var e=0;e<ju.length;e++)ju[e]._workInProgressVersionPrimary=null;ju.length=0}var dl=Vr.ReactCurrentDispatcher,_u=Vr.ReactCurrentBatchConfig,is=0,Ae=null,He=null,Je=null,Hl=!1,ua=!1,Ia=0,I_=0;function nt(){throw Error(D(321))}function vf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ar(e[r],t[r]))return!1;return!0}function xf(e,t,r,n,s,i){if(is=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dl.current=e===null||e.memoizedState===null?z_:$_,e=r(n,s),ua){i=0;do{if(ua=!1,Ia=0,25<=i)throw Error(D(301));i+=1,Je=He=null,t.updateQueue=null,dl.current=U_,e=r(n,s)}while(ua)}if(dl.current=Gl,t=He!==null&&He.next!==null,is=0,Je=He=Ae=null,Hl=!1,t)throw Error(D(300));return e}function wf(){var e=Ia!==0;return Ia=0,e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ae.memoizedState=Je=e:Je=Je.next=e,Je}function Kt(){if(He===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Je===null?Ae.memoizedState:Je.next;if(t!==null)Je=t,He=e;else{if(e===null)throw Error(D(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Je===null?Ae.memoizedState=Je=e:Je=Je.next=e}return Je}function La(e,t){return typeof t=="function"?t(e):t}function Su(e){var t=Kt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=He,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((is&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=n):c=c.next=h,Ae.lanes|=d,as|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=o,ar(n,t.memoizedState)||(bt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ae.lanes|=i,as|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nu(e){var t=Kt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ar(i,t.memoizedState)||(bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function gx(){}function yx(e,t){var r=Ae,n=Kt(),s=t(),i=!ar(n.memoizedState,s);if(i&&(n.memoizedState=s,bt=!0),n=n.queue,bf(wx.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,Oa(9,xx.bind(null,r,n,s,t),void 0,null),Ze===null)throw Error(D(349));is&30||vx(r,t,s)}return s}function vx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xx(e,t,r,n){t.value=r,t.getSnapshot=n,bx(t)&&kx(e)}function wx(e,t,r){return r(function(){bx(t)&&kx(e)})}function bx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ar(e,r)}catch{return!0}}function kx(e){var t=Fr(e,1);t!==null&&sr(t,e,1,-1)}function Fp(e){var t=hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},t.queue=e,e=e.dispatch=F_.bind(null,Ae,e),[t.memoizedState,e]}function Oa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function jx(){return Kt().memoizedState}function hl(e,t,r,n){var s=hr();Ae.flags|=e,s.memoizedState=Oa(1|t,r,void 0,n===void 0?null:n)}function _c(e,t,r,n){var s=Kt();n=n===void 0?null:n;var i=void 0;if(He!==null){var a=He.memoizedState;if(i=a.destroy,n!==null&&vf(n,a.deps)){s.memoizedState=Oa(t,r,i,n);return}}Ae.flags|=e,s.memoizedState=Oa(1|t,r,i,n)}function zp(e,t){return hl(8390656,8,e,t)}function bf(e,t){return _c(2048,8,e,t)}function _x(e,t){return _c(4,2,e,t)}function Sx(e,t){return _c(4,4,e,t)}function Nx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cx(e,t,r){return r=r!=null?r.concat([e]):null,_c(4,4,Nx.bind(null,t,e),r)}function kf(){}function Ex(e,t){var r=Kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Px(e,t){var r=Kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Tx(e,t,r){return is&21?(ar(r,t)||(r=Mv(),Ae.lanes|=r,as|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=r)}function L_(e,t){var r=pe;pe=r!==0&&4>r?r:4,e(!0);var n=_u.transition;_u.transition={};try{e(!1),t()}finally{pe=r,_u.transition=n}}function Rx(){return Kt().memoizedState}function O_(e,t,r){var n=yn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ax(e))Mx(t,r);else if(r=cx(e,t,r,n),r!==null){var s=ft();sr(r,e,n,s),Dx(r,t,n)}}function F_(e,t,r){var n=yn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ax(e))Mx(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,ar(o,a)){var c=t.interleaved;c===null?(s.next=s,ff(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=cx(e,t,s,n),r!==null&&(s=ft(),sr(r,e,n,s),Dx(r,t,n))}}function Ax(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Mx(e,t){ua=Hl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Dx(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qh(e,r)}}var Gl={readContext:Wt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},z_={readContext:Wt,useCallback:function(e,t){return hr().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:zp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hl(4194308,4,Nx.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return hl(4,2,e,t)},useMemo:function(e,t){var r=hr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=hr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=O_.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=hr();return e={current:e},t.memoizedState=e},useState:Fp,useDebugValue:kf,useDeferredValue:function(e){return hr().memoizedState=e},useTransition:function(){var e=Fp(!1),t=e[0];return e=L_.bind(null,e[1]),hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ae,s=hr();if(Pe){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),Ze===null)throw Error(D(349));is&30||vx(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,zp(wx.bind(null,n,i,e),[e]),n.flags|=2048,Oa(9,xx.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=hr(),t=Ze.identifierPrefix;if(Pe){var r=Ar,n=Rr;r=(n&~(1<<32-nr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ia++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=I_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$_={readContext:Wt,useCallback:Ex,useContext:Wt,useEffect:bf,useImperativeHandle:Cx,useInsertionEffect:_x,useLayoutEffect:Sx,useMemo:Px,useReducer:Su,useRef:jx,useState:function(){return Su(La)},useDebugValue:kf,useDeferredValue:function(e){var t=Kt();return Tx(t,He.memoizedState,e)},useTransition:function(){var e=Su(La)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:gx,useSyncExternalStore:yx,useId:Rx,unstable_isNewReconciler:!1},U_={readContext:Wt,useCallback:Ex,useContext:Wt,useEffect:bf,useImperativeHandle:Cx,useInsertionEffect:_x,useLayoutEffect:Sx,useMemo:Px,useReducer:Nu,useRef:jx,useState:function(){return Nu(La)},useDebugValue:kf,useDeferredValue:function(e){var t=Kt();return He===null?t.memoizedState=e:Tx(t,He.memoizedState,e)},useTransition:function(){var e=Nu(La)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:gx,useSyncExternalStore:yx,useId:Rx,unstable_isNewReconciler:!1};function oi(e,t){try{var r="",n=t;do r+=pj(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Cu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Od(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var V_=typeof WeakMap=="function"?WeakMap:Map;function Ix(e,t,r){r=Mr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Kl||(Kl=!0,Kd=n),Od(e,t)},r}function Lx(e,t,r){r=Mr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Od(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Od(e,t),typeof n!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function $p(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new V_;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=rS.bind(null,e,t,r),t.then(e,e))}function Up(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mr(-1,1),t.tag=2,pn(r,t,1))),r.lanes|=1),e)}var B_=Vr.ReactCurrentOwner,bt=!1;function dt(e,t,r,n){t.child=e===null?mx(t,null,r,n):ii(t,e.child,r,n)}function Bp(e,t,r,n,s){r=r.render;var i=t.ref;return Zs(t,s),n=xf(e,t,r,n,i,s),r=wf(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zr(e,t,s)):(Pe&&r&&of(t),t.flags|=1,dt(e,t,n,s),t.child)}function Hp(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Tf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ox(e,t,i,n,s)):(e=gl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Pa,r(a,n)&&e.ref===t.ref)return zr(e,t,s)}return t.flags|=1,e=vn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ox(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Pa(i,n)&&e.ref===t.ref)if(bt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,zr(e,t,s)}return Fd(e,t,r,n,s)}function Fx(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we($s,Et),Et|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we($s,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,we($s,Et),Et|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,we($s,Et),Et|=n;return dt(e,t,s,r),t.child}function zx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Fd(e,t,r,n,s){var i=jt(r)?ns:ct.current;return i=ni(t,i),Zs(t,s),r=xf(e,t,r,n,i,s),n=wf(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zr(e,t,s)):(Pe&&n&&of(t),t.flags|=1,dt(e,t,r,s),t.child)}function Gp(e,t,r,n,s){if(jt(r)){var i=!0;Ol(t)}else i=!1;if(Zs(t,s),t.stateNode===null)fl(e,t),hx(t,r,n),Ld(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=jt(r)?ns:ct.current,u=ni(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Lp(t,a,n,u),Xr=!1;var f=t.memoizedState;a.state=f,Vl(t,n,a,s),c=t.memoizedState,o!==n||f!==c||kt.current||Xr?(typeof d=="function"&&(Id(t,r,d,n),c=t.memoizedState),(o=Xr||Ip(t,r,o,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,ux(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Qt(t.type,o),a.props=u,h=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Wt(c):(c=jt(r)?ns:ct.current,c=ni(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&Lp(t,a,n,c),Xr=!1,f=t.memoizedState,a.state=f,Vl(t,n,a,s);var y=t.memoizedState;o!==h||f!==y||kt.current||Xr?(typeof m=="function"&&(Id(t,r,m,n),y=t.memoizedState),(u=Xr||Ip(t,r,u,n,f,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return zd(e,t,r,n,i,s)}function zd(e,t,r,n,s,i){zx(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Tp(t,r,!1),zr(e,t,i);n=t.stateNode,B_.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ii(t,e.child,null,i),t.child=ii(t,null,o,i)):dt(e,t,o,i),t.memoizedState=n.state,s&&Tp(t,r,!0),t.child}function $x(e){var t=e.stateNode;t.pendingContext?Pp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pp(e,t.context,!1),pf(e,t.containerInfo)}function Wp(e,t,r,n,s){return si(),cf(s),t.flags|=256,dt(e,t,r,n),t.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ux(e,t,r){var n=t.pendingProps,s=Te.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),we(Te,s&1),e===null)return Md(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Cc(a,n,0,null),e=ts(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ud(r),t.memoizedState=$d,e):jf(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return H_(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=vn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=vn(o,i):(i=ts(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Ud(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=$d,n}return i=e.child,e=i.sibling,n=vn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jf(e,t){return t=Cc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zo(e,t,r,n){return n!==null&&cf(n),ii(t,e.child,null,r),e=jf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H_(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Cu(Error(D(422))),zo(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Cc({mode:"visible",children:n.children},s,0,null),i=ts(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ii(t,e.child,null,a),t.child.memoizedState=Ud(a),t.memoizedState=$d,i);if(!(t.mode&1))return zo(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(D(419)),n=Cu(i,n,void 0),zo(e,t,a,n)}if(o=(a&e.childLanes)!==0,bt||o){if(n=Ze,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Fr(e,s),sr(n,e,s,-1))}return Pf(),n=Cu(Error(D(421))),zo(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=nS.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Tt=mn(s.nextSibling),Rt=t,Pe=!0,rr=null,e!==null&&($t[Ut++]=Rr,$t[Ut++]=Ar,$t[Ut++]=ss,Rr=e.id,Ar=e.overflow,ss=t),t=jf(t,n.children),t.flags|=4096,t)}function Kp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Dd(e.return,t,r)}function Eu(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Vx(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(dt(e,t,n.children,r),n=Te.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,r,t);else if(e.tag===19)Kp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(we(Te,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Bl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Eu(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Bl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Eu(t,!0,r,null,i);break;case"together":Eu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),as|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=vn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function G_(e,t,r){switch(t.tag){case 3:$x(t),si();break;case 5:px(t);break;case 1:jt(t.type)&&Ol(t);break;case 4:pf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;we($l,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(we(Te,Te.current&1),t.flags|=128,null):r&t.child.childLanes?Ux(e,t,r):(we(Te,Te.current&1),e=zr(e,t,r),e!==null?e.sibling:null);we(Te,Te.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Vx(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Te,Te.current),n)break;return null;case 22:case 23:return t.lanes=0,Fx(e,t,r)}return zr(e,t,r)}var Bx,Vd,Hx,Gx;Bx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vd=function(){};Hx=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Yn(pr.current);var i=null;switch(r){case"input":s=ud(e,s),n=ud(e,n),i=[];break;case"select":s=Me({},s,{value:void 0}),n=Me({},n,{value:void 0}),i=[];break;case"textarea":s=fd(e,s),n=fd(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Il)}pd(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ka.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ka.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Se("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Gx=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fi(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function W_(e,t,r){var n=t.pendingProps;switch(lf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return jt(t.type)&&Ll(),st(t),null;case 3:return n=t.stateNode,ai(),Ne(kt),Ne(ct),yf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rr!==null&&(Jd(rr),rr=null))),Vd(e,t),st(t),null;case 5:gf(t);var s=Yn(Da.current);if(r=t.type,e!==null&&t.stateNode!=null)Hx(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(D(166));return st(t),null}if(e=Yn(pr.current),Oo(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fr]=t,n[Aa]=i,e=(t.mode&1)!==0,r){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(s=0;s<Qi.length;s++)Se(Qi[s],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":rp(n,i),Se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Se("invalid",n);break;case"textarea":sp(n,i),Se("invalid",n)}pd(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Lo(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Lo(n.textContent,o,e),s=["children",""+o]):ka.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Se("scroll",n)}switch(r){case"input":Eo(n),np(n,i,!0);break;case"textarea":Eo(n),ip(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Il)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[fr]=t,e[Aa]=n,Bx(e,t,!1,!1),t.stateNode=e;e:{switch(a=gd(r,n),r){case"dialog":Se("cancel",e),Se("close",e),s=n;break;case"iframe":case"object":case"embed":Se("load",e),s=n;break;case"video":case"audio":for(s=0;s<Qi.length;s++)Se(Qi[s],e);s=n;break;case"source":Se("error",e),s=n;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=n;break;case"details":Se("toggle",e),s=n;break;case"input":rp(e,n),s=ud(e,n),Se("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Me({},n,{value:void 0}),Se("invalid",e);break;case"textarea":sp(e,n),s=fd(e,n),Se("invalid",e);break;default:s=n}pd(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?bv(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xv(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ja(e,c):typeof c=="number"&&ja(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ka.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Se("scroll",e):c!=null&&Wh(e,i,c,a))}switch(r){case"input":Eo(e),np(e,n,!1);break;case"textarea":Eo(e),ip(e);break;case"option":n.value!=null&&e.setAttribute("value",""+bn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ks(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ks(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Il)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)Gx(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(r=Yn(Da.current),Yn(pr.current),Oo(t)){if(n=t.stateNode,r=t.memoizedProps,n[fr]=t,(i=n.nodeValue!==r)&&(e=Rt,e!==null))switch(e.tag){case 3:Lo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lo(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fr]=t,t.stateNode=n}return st(t),null;case 13:if(Ne(Te),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Tt!==null&&t.mode&1&&!(t.flags&128))lx(),si(),t.flags|=98560,i=!1;else if(i=Oo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[fr]=t}else si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),i=!1}else rr!==null&&(Jd(rr),rr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ge===0&&(Ge=3):Pf())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return ai(),Vd(e,t),e===null&&Ta(t.stateNode.containerInfo),st(t),null;case 10:return hf(t.type._context),st(t),null;case 17:return jt(t.type)&&Ll(),st(t),null;case 19:if(Ne(Te),i=t.memoizedState,i===null)return st(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Fi(i,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Bl(e),a!==null){for(t.flags|=128,Fi(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return we(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&$e()>li&&(t.flags|=128,n=!0,Fi(i,!1),t.lanes=4194304)}else{if(!n)if(e=Bl(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Pe)return st(t),null}else 2*$e()-i.renderingStartTime>li&&r!==1073741824&&(t.flags|=128,n=!0,Fi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,r=Te.current,we(Te,n?r&1|2:r&1),t):(st(t),null);case 22:case 23:return Ef(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Et&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function K_(e,t){switch(lf(t),t.tag){case 1:return jt(t.type)&&Ll(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(),Ne(kt),Ne(ct),yf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gf(t),null;case 13:if(Ne(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Te),null;case 4:return ai(),null;case 10:return hf(t.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var $o=!1,at=!1,q_=typeof WeakSet=="function"?WeakSet:Set,F=null;function zs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Le(e,t,n)}else r.current=null}function Bd(e,t,r){try{r()}catch(n){Le(e,t,n)}}var qp=!1;function Y_(e,t){if(Nd=Al,e=Yv(),af(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=a),f===i&&++d===n&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cd={focusedElem:e,selectionRange:r},Al=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Qt(t.type,v),x);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Le(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return y=qp,qp=!1,y}function da(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bd(t,r,i)}s=s.next}while(s!==n)}}function Sc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Wx(e){var t=e.alternate;t!==null&&(e.alternate=null,Wx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fr],delete t[Aa],delete t[Td],delete t[R_],delete t[A_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kx(e){return e.tag===5||e.tag===3||e.tag===4}function Yp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Il));else if(n!==4&&(e=e.child,e!==null))for(Gd(e,t,r),e=e.sibling;e!==null;)Gd(e,t,r),e=e.sibling}function Wd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wd(e,t,r),e=e.sibling;e!==null;)Wd(e,t,r),e=e.sibling}var Qe=null,er=!1;function Wr(e,t,r){for(r=r.child;r!==null;)qx(e,t,r),r=r.sibling}function qx(e,t,r){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(yc,r)}catch{}switch(r.tag){case 5:at||zs(r,t);case 6:var n=Qe,s=er;Qe=null,Wr(e,t,r),Qe=n,er=s,Qe!==null&&(er?(e=Qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qe.removeChild(r.stateNode));break;case 18:Qe!==null&&(er?(e=Qe,r=r.stateNode,e.nodeType===8?bu(e.parentNode,r):e.nodeType===1&&bu(e,r),Ca(e)):bu(Qe,r.stateNode));break;case 4:n=Qe,s=er,Qe=r.stateNode.containerInfo,er=!0,Wr(e,t,r),Qe=n,er=s;break;case 0:case 11:case 14:case 15:if(!at&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Bd(r,t,a),s=s.next}while(s!==n)}Wr(e,t,r);break;case 1:if(!at&&(zs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Le(r,t,o)}Wr(e,t,r);break;case 21:Wr(e,t,r);break;case 22:r.mode&1?(at=(n=at)||r.memoizedState!==null,Wr(e,t,r),at=n):Wr(e,t,r);break;default:Wr(e,t,r)}}function Jp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new q_),t.forEach(function(n){var s=sS.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Jt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Qe=o.stateNode,er=!1;break e;case 3:Qe=o.stateNode.containerInfo,er=!0;break e;case 4:Qe=o.stateNode.containerInfo,er=!0;break e}o=o.return}if(Qe===null)throw Error(D(160));qx(i,a,s),Qe=null,er=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Le(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yx(t,e),t=t.sibling}function Yx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),ur(e),n&4){try{da(3,e,e.return),Sc(3,e)}catch(v){Le(e,e.return,v)}try{da(5,e,e.return)}catch(v){Le(e,e.return,v)}}break;case 1:Jt(t,e),ur(e),n&512&&r!==null&&zs(r,r.return);break;case 5:if(Jt(t,e),ur(e),n&512&&r!==null&&zs(r,r.return),e.flags&32){var s=e.stateNode;try{ja(s,"")}catch(v){Le(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&gv(s,i),gd(o,a);var u=gd(o,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?bv(s,h):d==="dangerouslySetInnerHTML"?xv(s,h):d==="children"?ja(s,h):Wh(s,d,h,u)}switch(o){case"input":dd(s,i);break;case"textarea":yv(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ks(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ks(s,!!i.multiple,i.defaultValue,!0):Ks(s,!!i.multiple,i.multiple?[]:"",!1))}s[Aa]=i}catch(v){Le(e,e.return,v)}}break;case 6:if(Jt(t,e),ur(e),n&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Le(e,e.return,v)}}break;case 3:if(Jt(t,e),ur(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ca(t.containerInfo)}catch(v){Le(e,e.return,v)}break;case 4:Jt(t,e),ur(e);break;case 13:Jt(t,e),ur(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Nf=$e())),n&4&&Jp(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(at=(u=at)||d,Jt(t,e),at=u):Jt(t,e),ur(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(h=F=d;F!==null;){switch(f=F,m=f.child,f.tag){case 0:case 11:case 14:case 15:da(4,f,f.return);break;case 1:zs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Le(n,r,v)}}break;case 5:zs(f,f.return);break;case 22:if(f.memoizedState!==null){Qp(h);continue}}m!==null?(m.return=f,F=m):Qp(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=wv("display",a))}catch(v){Le(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Le(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jt(t,e),ur(e),n&4&&Jp(e);break;case 21:break;default:Jt(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Kx(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ja(s,""),n.flags&=-33);var i=Yp(e);Wd(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Yp(e);Gd(e,o,a);break;default:throw Error(D(161))}}catch(c){Le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function J_(e,t,r){F=e,Jx(e)}function Jx(e,t,r){for(var n=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||$o;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||at;o=$o;var u=at;if($o=a,(at=c)&&!u)for(F=s;F!==null;)a=F,c=a.child,a.tag===22&&a.memoizedState!==null?Xp(s):c!==null?(c.return=a,F=c):Xp(s);for(;i!==null;)F=i,Jx(i),i=i.sibling;F=s,$o=o,at=u}Zp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):Zp(e)}}function Zp(e){for(;F!==null;){var t=F;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||Sc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!at)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Qt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Dp(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dp(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ca(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}at||t.flags&512&&Hd(t)}catch(f){Le(t,t.return,f)}}if(t===e){F=null;break}if(r=t.sibling,r!==null){r.return=t.return,F=r;break}F=t.return}}function Qp(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var r=t.sibling;if(r!==null){r.return=t.return,F=r;break}F=t.return}}function Xp(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sc(4,t)}catch(c){Le(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Le(t,s,c)}}var i=t.return;try{Hd(t)}catch(c){Le(t,i,c)}break;case 5:var a=t.return;try{Hd(t)}catch(c){Le(t,a,c)}}}catch(c){Le(t,t.return,c)}if(t===e){F=null;break}var o=t.sibling;if(o!==null){o.return=t.return,F=o;break}F=t.return}}var Z_=Math.ceil,Wl=Vr.ReactCurrentDispatcher,_f=Vr.ReactCurrentOwner,Bt=Vr.ReactCurrentBatchConfig,fe=0,Ze=null,Ue=null,et=0,Et=0,$s=Nn(0),Ge=0,Fa=null,as=0,Nc=0,Sf=0,ha=null,xt=null,Nf=0,li=1/0,Er=null,Kl=!1,Kd=null,gn=null,Uo=!1,cn=null,ql=0,fa=0,qd=null,ml=-1,pl=0;function ft(){return fe&6?$e():ml!==-1?ml:ml=$e()}function yn(e){return e.mode&1?fe&2&&et!==0?et&-et:D_.transition!==null?(pl===0&&(pl=Mv()),pl):(e=pe,e!==0||(e=window.event,e=e===void 0?16:$v(e.type)),e):1}function sr(e,t,r,n){if(50<fa)throw fa=0,qd=null,Error(D(185));eo(e,r,n),(!(fe&2)||e!==Ze)&&(e===Ze&&(!(fe&2)&&(Nc|=r),Ge===4&&nn(e,et)),_t(e,n),r===1&&fe===0&&!(t.mode&1)&&(li=$e()+500,kc&&Cn()))}function _t(e,t){var r=e.callbackNode;Dj(e,t);var n=Rl(e,e===Ze?et:0);if(n===0)r!==null&&lp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lp(r),t===1)e.tag===0?M_(eg.bind(null,e)):ix(eg.bind(null,e)),P_(function(){!(fe&6)&&Cn()}),r=null;else{switch(Dv(n)){case 1:r=Zh;break;case 4:r=Rv;break;case 16:r=Tl;break;case 536870912:r=Av;break;default:r=Tl}r=sw(r,Zx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Zx(e,t){if(ml=-1,pl=0,fe&6)throw Error(D(327));var r=e.callbackNode;if(Qs()&&e.callbackNode!==r)return null;var n=Rl(e,e===Ze?et:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Yl(e,n);else{t=n;var s=fe;fe|=2;var i=Xx();(Ze!==e||et!==t)&&(Er=null,li=$e()+500,es(e,t));do try{eS();break}catch(o){Qx(e,o)}while(!0);df(),Wl.current=i,fe=s,Ue!==null?t=0:(Ze=null,et=0,t=Ge)}if(t!==0){if(t===2&&(s=bd(e),s!==0&&(n=s,t=Yd(e,s))),t===1)throw r=Fa,es(e,0),nn(e,n),_t(e,$e()),r;if(t===6)nn(e,n);else{if(s=e.current.alternate,!(n&30)&&!Q_(s)&&(t=Yl(e,n),t===2&&(i=bd(e),i!==0&&(n=i,t=Yd(e,i))),t===1))throw r=Fa,es(e,0),nn(e,n),_t(e,$e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(D(345));case 2:Un(e,xt,Er);break;case 3:if(nn(e,n),(n&130023424)===n&&(t=Nf+500-$e(),10<t)){if(Rl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pd(Un.bind(null,e,xt,Er),t);break}Un(e,xt,Er);break;case 4:if(nn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-nr(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Z_(n/1960))-n,10<n){e.timeoutHandle=Pd(Un.bind(null,e,xt,Er),n);break}Un(e,xt,Er);break;case 5:Un(e,xt,Er);break;default:throw Error(D(329))}}}return _t(e,$e()),e.callbackNode===r?Zx.bind(null,e):null}function Yd(e,t){var r=ha;return e.current.memoizedState.isDehydrated&&(es(e,t).flags|=256),e=Yl(e,t),e!==2&&(t=xt,xt=r,t!==null&&Jd(t)),e}function Jd(e){xt===null?xt=e:xt.push.apply(xt,e)}function Q_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~Sf,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nr(t),n=1<<r;e[r]=-1,t&=~n}}function eg(e){if(fe&6)throw Error(D(327));Qs();var t=Rl(e,0);if(!(t&1))return _t(e,$e()),null;var r=Yl(e,t);if(e.tag!==0&&r===2){var n=bd(e);n!==0&&(t=n,r=Yd(e,n))}if(r===1)throw r=Fa,es(e,0),nn(e,t),_t(e,$e()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Un(e,xt,Er),_t(e,$e()),null}function Cf(e,t){var r=fe;fe|=1;try{return e(t)}finally{fe=r,fe===0&&(li=$e()+500,kc&&Cn())}}function os(e){cn!==null&&cn.tag===0&&!(fe&6)&&Qs();var t=fe;fe|=1;var r=Bt.transition,n=pe;try{if(Bt.transition=null,pe=1,e)return e()}finally{pe=n,Bt.transition=r,fe=t,!(fe&6)&&Cn()}}function Ef(){Et=$s.current,Ne($s)}function es(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,E_(r)),Ue!==null)for(r=Ue.return;r!==null;){var n=r;switch(lf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ll();break;case 3:ai(),Ne(kt),Ne(ct),yf();break;case 5:gf(n);break;case 4:ai();break;case 13:Ne(Te);break;case 19:Ne(Te);break;case 10:hf(n.type._context);break;case 22:case 23:Ef()}r=r.return}if(Ze=e,Ue=e=vn(e.current,null),et=Et=t,Ge=0,Fa=null,Sf=Nc=as=0,xt=ha=null,qn!==null){for(t=0;t<qn.length;t++)if(r=qn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}qn=null}return e}function Qx(e,t){do{var r=Ue;try{if(df(),dl.current=Gl,Hl){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Hl=!1}if(is=0,Je=He=Ae=null,ua=!1,Ia=0,_f.current=null,r===null||r.return===null){Ge=1,Fa=t,Ue=null;break}e:{var i=e,a=r.return,o=r,c=t;if(t=et,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Up(a);if(m!==null){m.flags&=-257,Vp(m,a,o,i,t),m.mode&1&&$p(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){$p(i,u,t),Pf();break e}c=Error(D(426))}}else if(Pe&&o.mode&1){var x=Up(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Vp(x,a,o,i,t),cf(oi(c,o));break e}}i=c=oi(c,o),Ge!==4&&(Ge=2),ha===null?ha=[i]:ha.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Ix(i,c,t);Mp(i,p);break e;case 1:o=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gn===null||!gn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Lx(i,o,t);Mp(i,j);break e}}i=i.return}while(i!==null)}tw(r)}catch(_){t=_,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function Xx(){var e=Wl.current;return Wl.current=Gl,e===null?Gl:e}function Pf(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ze===null||!(as&268435455)&&!(Nc&268435455)||nn(Ze,et)}function Yl(e,t){var r=fe;fe|=2;var n=Xx();(Ze!==e||et!==t)&&(Er=null,es(e,t));do try{X_();break}catch(s){Qx(e,s)}while(!0);if(df(),fe=r,Wl.current=n,Ue!==null)throw Error(D(261));return Ze=null,et=0,Ge}function X_(){for(;Ue!==null;)ew(Ue)}function eS(){for(;Ue!==null&&!Sj();)ew(Ue)}function ew(e){var t=nw(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?tw(e):Ue=t,_f.current=null}function tw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=K_(r,t),r!==null){r.flags&=32767,Ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Ue=null;return}}else if(r=W_(r,t,Et),r!==null){Ue=r;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ge===0&&(Ge=5)}function Un(e,t,r){var n=pe,s=Bt.transition;try{Bt.transition=null,pe=1,tS(e,t,r,n)}finally{Bt.transition=s,pe=n}return null}function tS(e,t,r,n){do Qs();while(cn!==null);if(fe&6)throw Error(D(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Ij(e,i),e===Ze&&(Ue=Ze=null,et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uo||(Uo=!0,sw(Tl,function(){return Qs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Bt.transition,Bt.transition=null;var a=pe;pe=1;var o=fe;fe|=4,_f.current=null,Y_(e,r),Yx(r,e),b_(Cd),Al=!!Nd,Cd=Nd=null,e.current=r,J_(r),Nj(),fe=o,pe=a,Bt.transition=i}else e.current=r;if(Uo&&(Uo=!1,cn=e,ql=s),i=e.pendingLanes,i===0&&(gn=null),Pj(r.stateNode),_t(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,e=Kd,Kd=null,e;return ql&1&&e.tag!==0&&Qs(),i=e.pendingLanes,i&1?e===qd?fa++:(fa=0,qd=e):fa=0,Cn(),null}function Qs(){if(cn!==null){var e=Dv(ql),t=Bt.transition,r=pe;try{if(Bt.transition=null,pe=16>e?16:e,cn===null)var n=!1;else{if(e=cn,cn=null,ql=0,fe&6)throw Error(D(331));var s=fe;for(fe|=4,F=e.current;F!==null;){var i=F,a=i.child;if(F.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(F=u;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:da(8,d,i)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var f=d.sibling,m=d.return;if(Wx(d),d===u){F=null;break}if(f!==null){f.return=m,F=f;break}F=m}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}F=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,F=a;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:da(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,F=p;break e}F=i.return}}var g=e.current;for(F=g;F!==null;){a=F;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,F=w;else e:for(a=g;F!==null;){if(o=F,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sc(9,o)}}catch(_){Le(o,o.return,_)}if(o===a){F=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,F=j;break e}F=o.return}}if(fe=s,Cn(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(yc,e)}catch{}n=!0}return n}finally{pe=r,Bt.transition=t}}return!1}function tg(e,t,r){t=oi(r,t),t=Ix(e,t,1),e=pn(e,t,1),t=ft(),e!==null&&(eo(e,1,t),_t(e,t))}function Le(e,t,r){if(e.tag===3)tg(e,e,r);else for(;t!==null;){if(t.tag===3){tg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gn===null||!gn.has(n))){e=oi(r,e),e=Lx(t,e,1),t=pn(t,e,1),e=ft(),t!==null&&(eo(t,1,e),_t(t,e));break}}t=t.return}}function rS(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&r,Ze===e&&(et&r)===r&&(Ge===4||Ge===3&&(et&130023424)===et&&500>$e()-Nf?es(e,0):Sf|=r),_t(e,t)}function rw(e,t){t===0&&(e.mode&1?(t=Ro,Ro<<=1,!(Ro&130023424)&&(Ro=4194304)):t=1);var r=ft();e=Fr(e,t),e!==null&&(eo(e,t,r),_t(e,r))}function nS(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rw(e,r)}function sS(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(t),rw(e,r)}var nw;nw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return bt=!1,G_(e,t,r);bt=!!(e.flags&131072)}else bt=!1,Pe&&t.flags&1048576&&ax(t,zl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fl(e,t),e=t.pendingProps;var s=ni(t,ct.current);Zs(t,r),s=xf(null,t,n,e,s,r);var i=wf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(n)?(i=!0,Ol(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mf(t),s.updater=jc,t.stateNode=s,s._reactInternals=t,Ld(t,n,e,r),t=zd(null,t,n,!0,i,r)):(t.tag=0,Pe&&i&&of(t),dt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=aS(n),e=Qt(n,e),s){case 0:t=Fd(null,t,n,e,r);break e;case 1:t=Gp(null,t,n,e,r);break e;case 11:t=Bp(null,t,n,e,r);break e;case 14:t=Hp(null,t,n,Qt(n.type,e),r);break e}throw Error(D(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qt(n,s),Fd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qt(n,s),Gp(e,t,n,s,r);case 3:e:{if($x(t),e===null)throw Error(D(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ux(e,t),Vl(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=oi(Error(D(423)),t),t=Wp(e,t,n,r,s);break e}else if(n!==s){s=oi(Error(D(424)),t),t=Wp(e,t,n,r,s);break e}else for(Tt=mn(t.stateNode.containerInfo.firstChild),Rt=t,Pe=!0,rr=null,r=mx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(si(),n===s){t=zr(e,t,r);break e}dt(e,t,n,r)}t=t.child}return t;case 5:return px(t),e===null&&Md(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Ed(n,s)?a=null:i!==null&&Ed(n,i)&&(t.flags|=32),zx(e,t),dt(e,t,a,r),t.child;case 6:return e===null&&Md(t),null;case 13:return Ux(e,t,r);case 4:return pf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ii(t,null,n,r):dt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qt(n,s),Bp(e,t,n,s,r);case 7:return dt(e,t,t.pendingProps,r),t.child;case 8:return dt(e,t,t.pendingProps.children,r),t.child;case 12:return dt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,we($l,n._currentValue),n._currentValue=a,i!==null)if(ar(i.value,a)){if(i.children===s.children&&!kt.current){t=zr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Mr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Dd(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(D(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Dd(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}dt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Zs(t,r),s=Wt(s),n=n(s),t.flags|=1,dt(e,t,n,r),t.child;case 14:return n=t.type,s=Qt(n,t.pendingProps),s=Qt(n.type,s),Hp(e,t,n,s,r);case 15:return Ox(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qt(n,s),fl(e,t),t.tag=1,jt(n)?(e=!0,Ol(t)):e=!1,Zs(t,r),hx(t,n,s),Ld(t,n,s,r),zd(null,t,n,!0,e,r);case 19:return Vx(e,t,r);case 22:return Fx(e,t,r)}throw Error(D(156,t.tag))};function sw(e,t){return Tv(e,t)}function iS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,r,n){return new iS(e,t,r,n)}function Tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aS(e){if(typeof e=="function")return Tf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qh)return 11;if(e===Yh)return 14}return 2}function vn(e,t){var r=e.alternate;return r===null?(r=Vt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gl(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Tf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ts:return ts(r.children,s,i,t);case Kh:a=8,s|=8;break;case ad:return e=Vt(12,r,t,s|2),e.elementType=ad,e.lanes=i,e;case od:return e=Vt(13,r,t,s),e.elementType=od,e.lanes=i,e;case ld:return e=Vt(19,r,t,s),e.elementType=ld,e.lanes=i,e;case fv:return Cc(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dv:a=10;break e;case hv:a=9;break e;case qh:a=11;break e;case Yh:a=14;break e;case Qr:a=16,n=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Vt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ts(e,t,r,n){return e=Vt(7,e,n,t),e.lanes=r,e}function Cc(e,t,r,n){return e=Vt(22,e,n,t),e.elementType=fv,e.lanes=r,e.stateNode={isHidden:!1},e}function Pu(e,t,r){return e=Vt(6,e,null,t),e.lanes=r,e}function Tu(e,t,r){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oS(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uu(0),this.expirationTimes=uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rf(e,t,r,n,s,i,a,o,c){return e=new oS(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mf(i),e}function lS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function iw(e){if(!e)return kn;e=e._reactInternals;e:{if(ds(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(jt(r))return sx(e,r,t)}return t}function aw(e,t,r,n,s,i,a,o,c){return e=Rf(r,n,!0,e,s,i,a,o,c),e.context=iw(null),r=e.current,n=ft(),s=yn(r),i=Mr(n,s),i.callback=t??null,pn(r,i,s),e.current.lanes=s,eo(e,s,n),_t(e,n),e}function Ec(e,t,r,n){var s=t.current,i=ft(),a=yn(s);return r=iw(r),t.context===null?t.context=r:t.pendingContext=r,t=Mr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=pn(s,t,a),e!==null&&(sr(e,s,a,i),ul(e,s,a)),a}function Jl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Af(e,t){rg(e,t),(e=e.alternate)&&rg(e,t)}function cS(){return null}var ow=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mf(e){this._internalRoot=e}Pc.prototype.render=Mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ec(e,t,null,null)};Pc.prototype.unmount=Mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;os(function(){Ec(null,e,null,null)}),t[Or]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ov();e={blockedOn:null,target:e,priority:t};for(var r=0;r<rn.length&&t!==0&&t<rn[r].priority;r++);rn.splice(r,0,e),r===0&&zv(e)}};function Df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ng(){}function uS(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Jl(a);i.call(u)}}var a=aw(t,n,e,0,null,!1,!1,"",ng);return e._reactRootContainer=a,e[Or]=a.current,Ta(e.nodeType===8?e.parentNode:e),os(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Jl(c);o.call(u)}}var c=Rf(e,0,!1,null,null,!1,!1,"",ng);return e._reactRootContainer=c,e[Or]=c.current,Ta(e.nodeType===8?e.parentNode:e),os(function(){Ec(t,c,r,n)}),c}function Rc(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=Jl(a);o.call(c)}}Ec(t,a,e,s)}else a=uS(r,t,e,s,n);return Jl(a)}Iv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zi(t.pendingLanes);r!==0&&(Qh(t,r|1),_t(t,$e()),!(fe&6)&&(li=$e()+500,Cn()))}break;case 13:os(function(){var n=Fr(e,1);if(n!==null){var s=ft();sr(n,e,1,s)}}),Af(e,1)}};Xh=function(e){if(e.tag===13){var t=Fr(e,134217728);if(t!==null){var r=ft();sr(t,e,134217728,r)}Af(e,134217728)}};Lv=function(e){if(e.tag===13){var t=yn(e),r=Fr(e,t);if(r!==null){var n=ft();sr(r,e,t,n)}Af(e,t)}};Ov=function(){return pe};Fv=function(e,t){var r=pe;try{return pe=e,t()}finally{pe=r}};vd=function(e,t,r){switch(t){case"input":if(dd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=bc(n);if(!s)throw Error(D(90));pv(n),dd(n,s)}}}break;case"textarea":yv(e,r);break;case"select":t=r.value,t!=null&&Ks(e,!!r.multiple,t,!1)}};_v=Cf;Sv=os;var dS={usingClientEntryPoint:!1,Events:[ro,Ds,bc,kv,jv,Cf]},zi={findFiberByHostInstance:Kn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hS={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ev(e),e===null?null:e.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||cS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{yc=Vo.inject(hS),mr=Vo}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dS;It.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Df(t))throw Error(D(200));return lS(e,t,null,r)};It.createRoot=function(e,t){if(!Df(e))throw Error(D(299));var r=!1,n="",s=ow;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Rf(e,1,!1,null,null,r,!1,n,s),e[Or]=t.current,Ta(e.nodeType===8?e.parentNode:e),new Mf(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Ev(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return os(e)};It.hydrate=function(e,t,r){if(!Tc(t))throw Error(D(200));return Rc(null,e,t,!0,r)};It.hydrateRoot=function(e,t,r){if(!Df(e))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ow;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=aw(t,null,e,1,r??null,s,!1,i,a),e[Or]=t.current,Ta(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pc(t)};It.render=function(e,t,r){if(!Tc(t))throw Error(D(200));return Rc(null,e,t,!1,r)};It.unmountComponentAtNode=function(e){if(!Tc(e))throw Error(D(40));return e._reactRootContainer?(os(function(){Rc(null,null,e,!1,function(){e._reactRootContainer=null,e[Or]=null})}),!0):!1};It.unstable_batchedUpdates=Cf;It.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Tc(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Rc(e,t,r,!1,n)};It.version="18.2.0-next-9e3b772b8-20220608";function lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lw)}catch(e){console.error(e)}}lw(),av.exports=It;var cw=av.exports,uw,sg=cw;uw=sg.createRoot,sg.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dw=e=>{throw TypeError(e)},fS=(e,t,r)=>t.has(e)||dw("Cannot "+r),Ru=(e,t,r)=>(fS(e,t,"read from private field"),r?r.call(e):t.get(e)),mS=(e,t,r)=>t.has(e)?dw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ig="popstate";function pS(e={}){function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return za("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:wr(s)}return yS(t,r,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gS(){return Math.random().toString(36).substring(2,10)}function ag(e,t){return{usr:e.state,key:e.key,idx:t}}function za(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?En(t):t,state:r,key:t&&t.key||n||gS()}}function wr({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function En(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function yS(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let x=d(),p=x==null?null:x-u;u=x,c&&c({action:o,location:v.location,delta:p})}function f(x,p){o="PUSH";let g=za(v.location,x,p);u=d()+1;let w=ag(g,u),j=v.createHref(g);try{a.pushState(w,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}i&&c&&c({action:o,location:v.location,delta:1})}function m(x,p){o="REPLACE";let g=za(v.location,x,p);u=d();let w=ag(g,u),j=v.createHref(g);a.replaceState(w,"",j),i&&c&&c({action:o,location:v.location,delta:0})}function y(x){return hw(x)}let v={get action(){return o},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ig,h),c=x,()=>{s.removeEventListener(ig,h),c=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let p=y(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(x){return a.go(x)}};return v}function hw(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),oe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:wr(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var Xi,og=class{constructor(e){if(mS(this,Xi,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(Ru(this,Xi).has(e))return Ru(this,Xi).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Ru(this,Xi).set(e,t)}};Xi=new WeakMap;var vS=new Set(["lazy","caseSensitive","path","id","index","children"]);function xS(e){return vS.has(e)}var wS=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function bS(e){return wS.has(e)}function kS(e){return e.index===!0}function $a(e,t,r=[],n={},s=!1){return e.map((i,a)=>{let o=[...r,String(a)],c=typeof i.id=="string"?i.id:o.join("-");if(oe(i.index!==!0||!i.children,"Cannot specify children on an index route"),oe(s||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),kS(i)){let u={...i,id:c};return n[c]=lg(u,t(u)),u}else{let u={...i,id:c,children:void 0};return n[c]=lg(u,t(u)),i.children&&(u.children=$a(i.children,t,o,n,s)),u}})}function lg(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function sn(e,t,r="/"){return ea(e,t,r,!1)}function ea(e,t,r,n){let s=typeof t=="string"?En(t):t,i=qt(s.pathname||"/",r);if(i==null)return null;let a=fw(e);_S(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=IS(i);o=MS(a[c],u,n)}return o}function jS(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function fw(e,t=[],r=[],n="",s=!1){let i=(a,o,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;oe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=gr([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(oe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),fw(a.children,t,f,h,c)),!(a.path==null&&!a.index)&&t.push({path:h,score:RS(h,a.index),routesMeta:f})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let u of mw(a.path))i(a,o,!0,u)}),t}function mw(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=mw(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function _S(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:AS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var SS=/^:[\w-]+$/,NS=3,CS=2,ES=1,PS=10,TS=-2,cg=e=>e==="*";function RS(e,t){let r=e.split("/"),n=r.length;return r.some(cg)&&(n+=TS),t&&(n+=CS),r.filter(s=>!cg(s)).reduce((s,i)=>s+(SS.test(i)?NS:i===""?ES:PS),n)}function AS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function MS(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Zl({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Zl({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:gr([i,h.pathname]),pathnameBase:zS(gr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=gr([i,h.pathnameBase]))}return a}function Zl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=DS(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=o[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function DS(e,t=!1,r=!0){Oe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function IS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oe(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function LS({basename:e,pathname:t}){return t==="/"?e:gr([e,t])}var OS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ac=e=>OS.test(e);function FS(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?En(e):e,i;if(r)if(Ac(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Oe(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=ug(r.substring(1),"/"):i=ug(r,t)}else i=t;return{pathname:i,search:$S(n),hash:US(s)}}function ug(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Au(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pw(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Mc(e){let t=pw(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Dc(e,t,r,n=!1){let s;typeof e=="string"?s=En(e):(s={...e},oe(!s.pathname||!s.pathname.includes("?"),Au("?","pathname","search",s)),oe(!s.pathname||!s.pathname.includes("#"),Au("#","pathname","hash",s)),oe(!s.search||!s.search.includes("#"),Au("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=FS(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var gr=e=>e.join("/").replace(/\/\/+/g,"/"),zS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$S=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,US=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ql=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Ua(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function If(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var un=Symbol("Uninstrumented");function VS(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(s=>s({id:t.id,index:t.index,path:t.path,instrument(i){let a=Object.keys(r);for(let o of a)i[o]&&r[o].push(i[o])}}));let n={};if(typeof t.lazy=="function"&&r.lazy.length>0){let s=Us(r.lazy,t.lazy,()=>{});s&&(n.lazy=s)}if(typeof t.lazy=="object"){let s=t.lazy;["middleware","loader","action"].forEach(i=>{let a=s[i],o=r[`lazy.${i}`];if(typeof a=="function"&&o.length>0){let c=Us(o,a,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[i]:c}))}})}return["loader","action"].forEach(s=>{let i=t[s];if(typeof i=="function"&&r[s].length>0){let a=i[un]??i,o=Us(r[s],a,(...c)=>dg(c[0]));o&&(o[un]=a,n[s]=o)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(n.middleware=t.middleware.map(s=>{let i=s[un]??s,a=Us(r.middleware,i,(...o)=>dg(o[0]));return a?(a[un]=i,a):s})),n}function BS(e,t){let r={navigate:[],fetch:[]};if(t.forEach(n=>n({instrument(s){let i=Object.keys(s);for(let a of i)s[a]&&r[a].push(s[a])}})),r.navigate.length>0){let n=e.navigate[un]??e.navigate,s=Us(r.navigate,n,(...i)=>{let[a,o]=i;return{to:typeof a=="number"||typeof a=="string"?a:a?wr(a):".",...hg(e,o??{})}});s&&(s[un]=n,e.navigate=s)}if(r.fetch.length>0){let n=e.fetch[un]??e.fetch,s=Us(r.fetch,n,(...i)=>{let[a,,o,c]=i;return{href:o??".",fetcherKey:a,...hg(e,c??{})}});s&&(s[un]=n,e.fetch=s)}return e}function Us(e,t,r){return e.length===0?null:async(...n)=>{let s=await gw(e,r(...n),()=>t(...n),e.length-1);if(s.type==="error")throw s.value;return s.value}}async function gw(e,t,r,n){let s=e[n],i;if(s){let a,o=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=gw(e,t,r,n-1),i=await a,oe(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await s(o,t)}catch(c){console.error("An instrumentation function threw an error:",c)}a||await o(),await a}else try{i={type:"success",value:await r()}}catch(a){i={type:"error",value:a}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function dg(e){let{request:t,context:r,params:n,unstable_pattern:s}=e;return{request:HS(t),params:{...n},unstable_pattern:s,context:GS(r)}}function hg(e,t){return{currentUrl:wr(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function HS(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function GS(e){if(KS(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var WS=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function KS(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===WS}var yw=["POST","PUT","PATCH","DELETE"],qS=new Set(yw),YS=["GET",...yw],JS=new Set(YS),ZS=new Set([301,302,303,307,308]),QS=new Set([307,308]),Mu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},XS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$i={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eN=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),vw="remix-router-transitions",xw=Symbol("ResetLoaderData");function tN(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";oe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],s=e.mapRouteProperties||eN,i=s;if(e.unstable_instrumentations){let S=e.unstable_instrumentations;i=N=>({...s(N),...VS(S.map(T=>T.route).filter(Boolean),N)})}let a={},o=$a(e.routes,i,void 0,a),c,u=e.basename||"/";u.startsWith("/")||(u=`/${u}`);let d=e.dataStrategy||aN,h={...e.future},f=null,m=new Set,y=null,v=null,x=null,p=e.hydrationData!=null,g=sn(o,e.history.location,u),w=!1,j=null,_;if(g==null&&!e.patchRoutesOnNavigation){let S=zt(404,{pathname:e.history.location.pathname}),{matches:N,route:T}=Bo(o);_=!0,g=N,j={[T.id]:S}}else if(g&&!e.hydrationData&&bo(g,o,e.history.location.pathname).active&&(g=null),g)if(g.some(S=>S.route.lazy))_=!1;else if(!g.some(S=>Lf(S.route)))_=!0;else{let S=e.hydrationData?e.hydrationData.loaderData:null,N=e.hydrationData?e.hydrationData.errors:null;if(N){let T=g.findIndex(M=>N[M.route.id]!==void 0);_=g.slice(0,T+1).every(M=>!Qd(M.route,S,N))}else _=g.every(T=>!Qd(T.route,S,N))}else{_=!1,g=[];let S=bo(null,o,e.history.location.pathname);S.active&&S.matches&&(w=!0,g=S.matches)}let E,k={historyAction:e.history.action,location:e.history.location,matches:g,initialized:_,navigation:Mu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||j,fetchers:new Map,blockers:new Map},P="POP",C=!1,R,ee=!1,Q=new Map,Fe=null,Ee=!1,ne=!1,ue=new Set,J=new Map,A=0,O=-1,z=new Map,Y=new Set,me=new Map,We=new Map,be=new Set,Nt=new Map,gt,ut=null;function B(){if(f=e.history.listen(({action:S,location:N,delta:T})=>{if(gt){gt(),gt=void 0;return}Oe(Nt.size===0||T!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let M=Gm({currentLocation:k.location,nextLocation:N,historyAction:S});if(M&&T!=null){let I=new Promise(H=>{gt=H});e.history.go(T*-1),wo(M,{state:"blocked",location:N,proceed(){wo(M,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),I.then(()=>e.history.go(T))},reset(){let H=new Map(k.blockers);H.set(M,$i),ye({blockers:H})}});return}return Mn(S,N)}),r){bN(t,Q);let S=()=>kN(t,Q);t.addEventListener("pagehide",S),Fe=()=>t.removeEventListener("pagehide",S)}return k.initialized||Mn("POP",k.location,{initialHydration:!0}),E}function de(){f&&f(),Fe&&Fe(),m.clear(),R&&R.abort(),k.fetchers.forEach((S,N)=>ru(N)),k.blockers.forEach((S,N)=>Hm(N))}function Hr(S){return m.add(S),()=>m.delete(S)}function ye(S,N={}){S.matches&&(S.matches=S.matches.map(I=>{let H=a[I.route.id],G=I.route;return G.element!==H.element||G.errorElement!==H.errorElement||G.hydrateFallbackElement!==H.hydrateFallbackElement?{...I,route:H}:I})),k={...k,...S};let T=[],M=[];k.fetchers.forEach((I,H)=>{I.state==="idle"&&(be.has(H)?T.push(H):M.push(H))}),be.forEach(I=>{!k.fetchers.has(I)&&!J.has(I)&&T.push(I)}),[...m].forEach(I=>I(k,{deletedFetchers:T,viewTransitionOpts:N.viewTransitionOpts,flushSync:N.flushSync===!0})),T.forEach(I=>ru(I)),M.forEach(I=>k.fetchers.delete(I))}function An(S,N,{flushSync:T}={}){var X,K;let M=k.actionData!=null&&k.navigation.formMethod!=null&&ht(k.navigation.formMethod)&&k.navigation.state==="loading"&&((X=S.state)==null?void 0:X._isRedirect)!==!0,I;N.actionData?Object.keys(N.actionData).length>0?I=N.actionData:I=null:M?I=k.actionData:I=null;let H=N.loaderData?kg(k.loaderData,N.loaderData,N.matches||[],N.errors):k.loaderData,G=k.blockers;G.size>0&&(G=new Map(G),G.forEach((re,ve)=>G.set(ve,$i)));let U=Ee?!1:Km(S,N.matches||k.matches),W=C===!0||k.navigation.formMethod!=null&&ht(k.navigation.formMethod)&&((K=S.state)==null?void 0:K._isRedirect)!==!0;c&&(o=c,c=void 0),Ee||P==="POP"||(P==="PUSH"?e.history.push(S,S.state):P==="REPLACE"&&e.history.replace(S,S.state));let q;if(P==="POP"){let re=Q.get(k.location.pathname);re&&re.has(S.pathname)?q={currentLocation:k.location,nextLocation:S}:Q.has(S.pathname)&&(q={currentLocation:S,nextLocation:k.location})}else if(ee){let re=Q.get(k.location.pathname);re?re.add(S.pathname):(re=new Set([S.pathname]),Q.set(k.location.pathname,re)),q={currentLocation:k.location,nextLocation:S}}ye({...N,actionData:I,loaderData:H,historyAction:P,location:S,initialized:!0,navigation:Mu,revalidation:"idle",restoreScrollPosition:U,preventScrollReset:W,blockers:G},{viewTransitionOpts:q,flushSync:T===!0}),P="POP",C=!1,ee=!1,Ee=!1,ne=!1,ut==null||ut.resolve(),ut=null}async function xo(S,N){if(typeof S=="number"){e.history.go(S);return}let T=Zd(k.location,k.matches,u,S,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:M,submission:I,error:H}=fg(!1,T,N),G=k.location,U=za(k.location,M,N&&N.state);U={...U,...e.history.encodeLocation(U)};let W=N&&N.replace!=null?N.replace:void 0,q="PUSH";W===!0?q="REPLACE":W===!1||I!=null&&ht(I.formMethod)&&I.formAction===k.location.pathname+k.location.search&&(q="REPLACE");let X=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,K=(N&&N.flushSync)===!0,re=Gm({currentLocation:G,nextLocation:U,historyAction:q});if(re){wo(re,{state:"blocked",location:U,proceed(){wo(re,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),xo(S,N)},reset(){let ve=new Map(k.blockers);ve.set(re,$i),ye({blockers:ve})}});return}await Mn(q,U,{submission:I,pendingError:H,preventScrollReset:X,replace:N&&N.replace,enableViewTransition:N&&N.viewTransition,flushSync:K})}function Ck(){ut||(ut=jN()),tu(),ye({revalidation:"loading"});let S=ut.promise;return k.navigation.state==="submitting"?S:k.navigation.state==="idle"?(Mn(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),S):(Mn(P||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:ee===!0}),S)}async function Mn(S,N,T){R&&R.abort(),R=null,P=S,Ee=(T&&T.startUninterruptedRevalidation)===!0,Fk(k.location,k.matches),C=(T&&T.preventScrollReset)===!0,ee=(T&&T.enableViewTransition)===!0;let M=c||o,I=T&&T.overrideNavigation,H=T!=null&&T.initialHydration&&k.matches&&k.matches.length>0&&!w?k.matches:sn(M,N,u),G=(T&&T.flushSync)===!0;if(H&&k.initialized&&!ne&&mN(k.location,N)&&!(T&&T.submission&&ht(T.submission.formMethod))){An(N,{matches:H},{flushSync:G});return}let U=bo(H,M,N.pathname);if(U.active&&U.matches&&(H=U.matches),!H){let{error:Ke,notFoundMatches:ke,route:je}=nu(N.pathname);An(N,{matches:ke,loaderData:{},errors:{[je.id]:Ke}},{flushSync:G});return}R=new AbortController;let W=Cs(e.history,N,R.signal,T&&T.submission),q=e.getContext?await e.getContext():new og,X;if(T&&T.pendingError)X=[an(H).route.id,{type:"error",error:T.pendingError}];else if(T&&T.submission&&ht(T.submission.formMethod)){let Ke=await Ek(W,N,T.submission,H,q,U.active,T&&T.initialHydration===!0,{replace:T.replace,flushSync:G});if(Ke.shortCircuited)return;if(Ke.pendingActionResult){let[ke,je]=Ke.pendingActionResult;if(Pt(je)&&Ua(je.error)&&je.error.status===404){R=null,An(N,{matches:Ke.matches,loaderData:{},errors:{[ke]:je.error}});return}}H=Ke.matches||H,X=Ke.pendingActionResult,I=Du(N,T.submission),G=!1,U.active=!1,W=Cs(e.history,W.url,W.signal)}let{shortCircuited:K,matches:re,loaderData:ve,errors:Be}=await Pk(W,N,H,q,U.active,I,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,G,X);K||(R=null,An(N,{matches:re||H,...jg(X),loaderData:ve,errors:Be}))}async function Ek(S,N,T,M,I,H,G,U={}){tu();let W=xN(N,T);if(ye({navigation:W},{flushSync:U.flushSync===!0}),H){let K=await ko(M,N.pathname,S.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){if(K.partialMatches.length===0){let{matches:ve,route:Be}=Bo(o);return{matches:ve,pendingActionResult:[Be.id,{type:"error",error:K.error}]}}let re=an(K.partialMatches).route.id;return{matches:K.partialMatches,pendingActionResult:[re,{type:"error",error:K.error}]}}else if(K.matches)M=K.matches;else{let{notFoundMatches:re,error:ve,route:Be}=nu(N.pathname);return{matches:re,pendingActionResult:[Be.id,{type:"error",error:ve}]}}}let q,X=yl(M,N);if(!X.route.action&&!X.route.lazy)q={type:"error",error:zt(405,{method:S.method,pathname:N.pathname,routeId:X.route.id})};else{let K=Xs(i,a,S,M,X,G?[]:n,I),re=await Pi(S,K,I,null);if(q=re[X.route.id],!q){for(let ve of M)if(re[ve.route.id]){q=re[ve.route.id];break}}if(S.signal.aborted)return{shortCircuited:!0}}if(Jn(q)){let K;return U&&U.replace!=null?K=U.replace:K=xg(q.response.headers.get("Location"),new URL(S.url),u)===k.location.pathname+k.location.search,await Dn(S,q,!0,{submission:T,replace:K}),{shortCircuited:!0}}if(Pt(q)){let K=an(M,X.route.id);return(U&&U.replace)!==!0&&(P="PUSH"),{matches:M,pendingActionResult:[K.route.id,q,X.route.id]}}return{matches:M,pendingActionResult:[X.route.id,q]}}async function Pk(S,N,T,M,I,H,G,U,W,q,X,K){let re=H||Du(N,G),ve=G||U||Sg(re),Be=!Ee&&!q;if(I){if(Be){let rt=Fm(K);ye({navigation:re,...rt!==void 0?{actionData:rt}:{}},{flushSync:X})}let he=await ko(T,N.pathname,S.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){if(he.partialMatches.length===0){let{matches:gs,route:On}=Bo(o);return{matches:gs,loaderData:{},errors:{[On.id]:he.error}}}let rt=an(he.partialMatches).route.id;return{matches:he.partialMatches,loaderData:{},errors:{[rt]:he.error}}}else if(he.matches)T=he.matches;else{let{error:rt,notFoundMatches:gs,route:On}=nu(N.pathname);return{matches:gs,loaderData:{},errors:{[On.id]:rt}}}}let Ke=c||o,{dsMatches:ke,revalidatingFetchers:je}=mg(S,M,i,a,e.history,k,T,ve,N,q?[]:n,q===!0,ne,ue,be,me,Y,Ke,u,e.patchRoutesOnNavigation!=null,K);if(O=++A,!e.dataStrategy&&!ke.some(he=>he.shouldLoad)&&!ke.some(he=>he.route.middleware&&he.route.middleware.length>0)&&je.length===0){let he=Vm();return An(N,{matches:T,loaderData:{},errors:K&&Pt(K[1])?{[K[0]]:K[1].error}:null,...jg(K),...he?{fetchers:new Map(k.fetchers)}:{}},{flushSync:X}),{shortCircuited:!0}}if(Be){let he={};if(!I){he.navigation=re;let rt=Fm(K);rt!==void 0&&(he.actionData=rt)}je.length>0&&(he.fetchers=Tk(je)),ye(he,{flushSync:X})}je.forEach(he=>{jr(he.key),he.controller&&J.set(he.key,he.controller)});let In=()=>je.forEach(he=>jr(he.key));R&&R.signal.addEventListener("abort",In);let{loaderResults:Ti,fetcherResults:Gr}=await zm(ke,je,S,M);if(S.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",In),je.forEach(he=>J.delete(he.key));let cr=Ho(Ti);if(cr)return await Dn(S,cr.result,!0,{replace:W}),{shortCircuited:!0};if(cr=Ho(Gr),cr)return Y.add(cr.key),await Dn(S,cr.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:su,errors:Ri}=bg(k,T,Ti,K,je,Gr);q&&k.errors&&(Ri={...k.errors,...Ri});let Ln=Vm(),jo=Bm(O),_o=Ln||jo||je.length>0;return{matches:T,loaderData:su,errors:Ri,..._o?{fetchers:new Map(k.fetchers)}:{}}}function Fm(S){if(S&&!Pt(S[1]))return{[S[0]]:S[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Tk(S){return S.forEach(N=>{let T=k.fetchers.get(N.key),M=Ui(void 0,T?T.data:void 0);k.fetchers.set(N.key,M)}),new Map(k.fetchers)}async function Rk(S,N,T,M){jr(S);let I=(M&&M.flushSync)===!0,H=c||o,G=Zd(k.location,k.matches,u,T,N,M==null?void 0:M.relative),U=sn(H,G,u),W=bo(U,H,G);if(W.active&&W.matches&&(U=W.matches),!U){kr(S,N,zt(404,{pathname:G}),{flushSync:I});return}let{path:q,submission:X,error:K}=fg(!0,G,M);if(K){kr(S,N,K,{flushSync:I});return}let re=e.getContext?await e.getContext():new og,ve=(M&&M.preventScrollReset)===!0;if(X&&ht(X.formMethod)){await Ak(S,N,q,U,re,W.active,I,ve,X);return}me.set(S,{routeId:N,path:q}),await Mk(S,N,q,U,re,W.active,I,ve,X)}async function Ak(S,N,T,M,I,H,G,U,W){tu(),me.delete(S);let q=k.fetchers.get(S);br(S,wN(W,q),{flushSync:G});let X=new AbortController,K=Cs(e.history,T,X.signal,W);if(H){let De=await ko(M,new URL(K.url).pathname,K.signal,S);if(De.type==="aborted")return;if(De.type==="error"){kr(S,N,De.error,{flushSync:G});return}else if(De.matches)M=De.matches;else{kr(S,N,zt(404,{pathname:T}),{flushSync:G});return}}let re=yl(M,T);if(!re.route.action&&!re.route.lazy){let De=zt(405,{method:W.formMethod,pathname:T,routeId:N});kr(S,N,De,{flushSync:G});return}J.set(S,X);let ve=A,Be=Xs(i,a,K,M,re,n,I),Ke=await Pi(K,Be,I,S),ke=Ke[re.route.id];if(!ke){for(let De of Be)if(Ke[De.route.id]){ke=Ke[De.route.id];break}}if(K.signal.aborted){J.get(S)===X&&J.delete(S);return}if(be.has(S)){if(Jn(ke)||Pt(ke)){br(S,Cr(void 0));return}}else{if(Jn(ke))if(J.delete(S),O>ve){br(S,Cr(void 0));return}else return Y.add(S),br(S,Ui(W)),Dn(K,ke,!1,{fetcherSubmission:W,preventScrollReset:U});if(Pt(ke)){kr(S,N,ke.error);return}}let je=k.navigation.location||k.location,In=Cs(e.history,je,X.signal),Ti=c||o,Gr=k.navigation.state!=="idle"?sn(Ti,k.navigation.location,u):k.matches;oe(Gr,"Didn't find any matches after fetcher action");let cr=++A;z.set(S,cr);let su=Ui(W,ke.data);k.fetchers.set(S,su);let{dsMatches:Ri,revalidatingFetchers:Ln}=mg(In,I,i,a,e.history,k,Gr,W,je,n,!1,ne,ue,be,me,Y,Ti,u,e.patchRoutesOnNavigation!=null,[re.route.id,ke]);Ln.filter(De=>De.key!==S).forEach(De=>{let So=De.key,Ym=k.fetchers.get(So),Uk=Ui(void 0,Ym?Ym.data:void 0);k.fetchers.set(So,Uk),jr(So),De.controller&&J.set(So,De.controller)}),ye({fetchers:new Map(k.fetchers)});let jo=()=>Ln.forEach(De=>jr(De.key));X.signal.addEventListener("abort",jo);let{loaderResults:_o,fetcherResults:he}=await zm(Ri,Ln,In,I);if(X.signal.aborted)return;if(X.signal.removeEventListener("abort",jo),z.delete(S),J.delete(S),Ln.forEach(De=>J.delete(De.key)),k.fetchers.has(S)){let De=Cr(ke.data);k.fetchers.set(S,De)}let rt=Ho(_o);if(rt)return Dn(In,rt.result,!1,{preventScrollReset:U});if(rt=Ho(he),rt)return Y.add(rt.key),Dn(In,rt.result,!1,{preventScrollReset:U});let{loaderData:gs,errors:On}=bg(k,Gr,_o,void 0,Ln,he);Bm(cr),k.navigation.state==="loading"&&cr>O?(oe(P,"Expected pending action"),R&&R.abort(),An(k.navigation.location,{matches:Gr,loaderData:gs,errors:On,fetchers:new Map(k.fetchers)})):(ye({errors:On,loaderData:kg(k.loaderData,gs,Gr,On),fetchers:new Map(k.fetchers)}),ne=!1)}async function Mk(S,N,T,M,I,H,G,U,W){let q=k.fetchers.get(S);br(S,Ui(W,q?q.data:void 0),{flushSync:G});let X=new AbortController,K=Cs(e.history,T,X.signal);if(H){let je=await ko(M,new URL(K.url).pathname,K.signal,S);if(je.type==="aborted")return;if(je.type==="error"){kr(S,N,je.error,{flushSync:G});return}else if(je.matches)M=je.matches;else{kr(S,N,zt(404,{pathname:T}),{flushSync:G});return}}let re=yl(M,T);J.set(S,X);let ve=A,Be=Xs(i,a,K,M,re,n,I),ke=(await Pi(K,Be,I,S))[re.route.id];if(J.get(S)===X&&J.delete(S),!K.signal.aborted){if(be.has(S)){br(S,Cr(void 0));return}if(Jn(ke))if(O>ve){br(S,Cr(void 0));return}else{Y.add(S),await Dn(K,ke,!1,{preventScrollReset:U});return}if(Pt(ke)){kr(S,N,ke.error);return}br(S,Cr(ke.data))}}async function Dn(S,N,T,{submission:M,fetcherSubmission:I,preventScrollReset:H,replace:G}={}){N.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let U=N.response.headers.get("Location");oe(U,"Expected a Location header on the redirect Response"),U=xg(U,new URL(S.url),u);let W=za(k.location,U,{_isRedirect:!0});if(r){let Be=!1;if(N.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(Ac(U)){const Ke=hw(U,!0);Be=Ke.origin!==t.location.origin||qt(Ke.pathname,u)==null}if(Be){G?t.location.replace(U):t.location.assign(U);return}}R=null;let q=G===!0||N.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:X,formAction:K,formEncType:re}=k.navigation;!M&&!I&&X&&K&&re&&(M=Sg(k.navigation));let ve=M||I;if(QS.has(N.response.status)&&ve&&ht(ve.formMethod))await Mn(q,W,{submission:{...ve,formAction:U},preventScrollReset:H||C,enableViewTransition:T?ee:void 0});else{let Be=Du(W,M);await Mn(q,W,{overrideNavigation:Be,fetcherSubmission:I,preventScrollReset:H||C,enableViewTransition:T?ee:void 0})}}async function Pi(S,N,T,M){let I,H={};try{I=await lN(d,S,N,M,T,!1)}catch(G){return N.filter(U=>U.shouldLoad).forEach(U=>{H[U.route.id]={type:"error",error:G}}),H}if(S.signal.aborted)return H;for(let[G,U]of Object.entries(I))if(yN(U)){let W=U.result;H[G]={type:"redirect",response:hN(W,S,G,N,u)}}else H[G]=await dN(U);return H}async function zm(S,N,T,M){let I=Pi(T,S,M,null),H=Promise.all(N.map(async W=>{if(W.matches&&W.match&&W.request&&W.controller){let X=(await Pi(W.request,W.matches,M,W.key))[W.match.route.id];return{[W.key]:X}}else return Promise.resolve({[W.key]:{type:"error",error:zt(404,{pathname:W.path})}})})),G=await I,U=(await H).reduce((W,q)=>Object.assign(W,q),{});return{loaderResults:G,fetcherResults:U}}function tu(){ne=!0,me.forEach((S,N)=>{J.has(N)&&ue.add(N),jr(N)})}function br(S,N,T={}){k.fetchers.set(S,N),ye({fetchers:new Map(k.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function kr(S,N,T,M={}){let I=an(k.matches,N);ru(S),ye({errors:{[I.route.id]:T},fetchers:new Map(k.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function $m(S){return We.set(S,(We.get(S)||0)+1),be.has(S)&&be.delete(S),k.fetchers.get(S)||XS}function Dk(S,N){jr(S,N==null?void 0:N.reason),br(S,Cr(null))}function ru(S){let N=k.fetchers.get(S);J.has(S)&&!(N&&N.state==="loading"&&z.has(S))&&jr(S),me.delete(S),z.delete(S),Y.delete(S),be.delete(S),ue.delete(S),k.fetchers.delete(S)}function Ik(S){let N=(We.get(S)||0)-1;N<=0?(We.delete(S),be.add(S)):We.set(S,N),ye({fetchers:new Map(k.fetchers)})}function jr(S,N){let T=J.get(S);T&&(T.abort(N),J.delete(S))}function Um(S){for(let N of S){let T=$m(N),M=Cr(T.data);k.fetchers.set(N,M)}}function Vm(){let S=[],N=!1;for(let T of Y){let M=k.fetchers.get(T);oe(M,`Expected fetcher: ${T}`),M.state==="loading"&&(Y.delete(T),S.push(T),N=!0)}return Um(S),N}function Bm(S){let N=[];for(let[T,M]of z)if(M<S){let I=k.fetchers.get(T);oe(I,`Expected fetcher: ${T}`),I.state==="loading"&&(jr(T),z.delete(T),N.push(T))}return Um(N),N.length>0}function Lk(S,N){let T=k.blockers.get(S)||$i;return Nt.get(S)!==N&&Nt.set(S,N),T}function Hm(S){k.blockers.delete(S),Nt.delete(S)}function wo(S,N){let T=k.blockers.get(S)||$i;oe(T.state==="unblocked"&&N.state==="blocked"||T.state==="blocked"&&N.state==="blocked"||T.state==="blocked"&&N.state==="proceeding"||T.state==="blocked"&&N.state==="unblocked"||T.state==="proceeding"&&N.state==="unblocked",`Invalid blocker state transition: ${T.state} -> ${N.state}`);let M=new Map(k.blockers);M.set(S,N),ye({blockers:M})}function Gm({currentLocation:S,nextLocation:N,historyAction:T}){if(Nt.size===0)return;Nt.size>1&&Oe(!1,"A router only supports one blocker at a time");let M=Array.from(Nt.entries()),[I,H]=M[M.length-1],G=k.blockers.get(I);if(!(G&&G.state==="proceeding")&&H({currentLocation:S,nextLocation:N,historyAction:T}))return I}function nu(S){let N=zt(404,{pathname:S}),T=c||o,{matches:M,route:I}=Bo(T);return{notFoundMatches:M,route:I,error:N}}function Ok(S,N,T){if(y=S,x=N,v=T||null,!p&&k.navigation===Mu){p=!0;let M=Km(k.location,k.matches);M!=null&&ye({restoreScrollPosition:M})}return()=>{y=null,x=null,v=null}}function Wm(S,N){return v&&v(S,N.map(M=>jS(M,k.loaderData)))||S.key}function Fk(S,N){if(y&&x){let T=Wm(S,N);y[T]=x()}}function Km(S,N){if(y){let T=Wm(S,N),M=y[T];if(typeof M=="number")return M}return null}function bo(S,N,T){if(e.patchRoutesOnNavigation)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:ea(N,T,u,!0)}}else return{active:!0,matches:ea(N,T,u,!0)||[]};return{active:!1,matches:null}}async function ko(S,N,T,M){if(!e.patchRoutesOnNavigation)return{type:"success",matches:S};let I=S;for(;;){let H=c==null,G=c||o,U=a;try{await e.patchRoutesOnNavigation({signal:T,path:N,matches:I,fetcherKey:M,patch:(X,K)=>{T.aborted||pg(X,K,G,U,i,!1)}})}catch(X){return{type:"error",error:X,partialMatches:I}}finally{H&&!T.aborted&&(o=[...o])}if(T.aborted)return{type:"aborted"};let W=sn(G,N,u),q=null;if(W){if(Object.keys(W[0].params).length===0)return{type:"success",matches:W};if(q=ea(G,N,u,!0),!(q&&I.length<q.length&&qm(I,q.slice(0,I.length))))return{type:"success",matches:W}}if(q||(q=ea(G,N,u,!0)),!q||qm(I,q))return{type:"success",matches:null};I=q}}function qm(S,N){return S.length===N.length&&S.every((T,M)=>T.route.id===N[M].route.id)}function zk(S){a={},c=$a(S,i,void 0,a)}function $k(S,N,T=!1){let M=c==null;pg(S,N,c||o,a,i,T),M&&(o=[...o],ye({}))}return E={get basename(){return u},get future(){return h},get state(){return k},get routes(){return o},get window(){return t},initialize:B,subscribe:Hr,enableScrollRestoration:Ok,navigate:xo,fetch:Rk,revalidate:Ck,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:$m,resetFetcher:Dk,deleteFetcher:Ik,dispose:de,getBlocker:Lk,deleteBlocker:Hm,patchRoutes:$k,_internalFetchControllers:J,_internalSetRoutes:zk,_internalSetStateDoNotUseOrYouWillBreakYourApp(S){ye(S)}},e.unstable_instrumentations&&(E=BS(E,e.unstable_instrumentations.map(S=>S.router).filter(Boolean))),E}function rN(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Zd(e,t,r,n,s,i){let a,o;if(s){a=[];for(let u of t)if(a.push(u),u.route.id===s){o=u;break}}else a=t,o=t[t.length-1];let c=Dc(n||".",Mc(a),qt(e.pathname,r)||e.pathname,i==="path");if(n==null&&(c.search=e.search,c.hash=e.hash),(n==null||n===""||n===".")&&o){let u=Of(c.search);if(o.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let f=d.toString();c.search=f?`?${f}`:""}}return r!=="/"&&(c.pathname=LS({basename:r,pathname:c.pathname})),wr(c)}function fg(e,t,r){if(!r||!rN(r))return{path:t};if(r.formMethod&&!vN(r.formMethod))return{path:t,error:zt(405,{method:r.formMethod})};let n=()=>({path:t,error:zt(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),a=Sw(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ht(i))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[m,y])=>`${f}${m}=${y}
`,""):String(r.body);return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ht(i))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}oe(typeof FormData=="function","FormData is not available in this environment");let o,c;if(r.formData)o=eh(r.formData),c=r.formData;else if(r.body instanceof FormData)o=eh(r.body),c=r.body;else if(r.body instanceof URLSearchParams)o=r.body,c=wg(o);else if(r.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(r.body),c=wg(o)}catch{return n()}let u={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ht(u.formMethod))return{path:t,submission:u};let d=En(t);return e&&d.search&&Of(d.search)&&o.append("index",""),d.search=`?${o}`,{path:wr(d),submission:u}}function mg(e,t,r,n,s,i,a,o,c,u,d,h,f,m,y,v,x,p,g,w){var Ee;let j=w?Pt(w[1])?w[1].error:w[1].data:void 0,_=s.createURL(i.location),E=s.createURL(c),k;if(d&&i.errors){let ne=Object.keys(i.errors)[0];k=a.findIndex(ue=>ue.route.id===ne)}else if(w&&Pt(w[1])){let ne=w[0];k=a.findIndex(ue=>ue.route.id===ne)-1}let P=w?w[1].statusCode:void 0,C=P&&P>=400,R={currentUrl:_,currentParams:((Ee=i.matches[0])==null?void 0:Ee.params)||{},nextUrl:E,nextParams:a[0].params,...o,actionResult:j,actionStatus:P},ee=If(a.map(ne=>ne.route.path)),Q=a.map((ne,ue)=>{let{route:J}=ne,A=null;if(k!=null&&ue>k?A=!1:J.lazy?A=!0:Lf(J)?d?A=Qd(J,i.loaderData,i.errors):nN(i.loaderData,i.matches[ue],ne)&&(A=!0):A=!1,A!==null)return Xd(r,n,e,ee,ne,u,t,A);let O=C?!1:h||_.pathname+_.search===E.pathname+E.search||_.search!==E.search||sN(i.matches[ue],ne),z={...R,defaultShouldRevalidate:O},Y=Xl(ne,z);return Xd(r,n,e,ee,ne,u,t,Y,z)}),Fe=[];return y.forEach((ne,ue)=>{if(d||!a.some(be=>be.route.id===ne.routeId)||m.has(ue))return;let J=i.fetchers.get(ue),A=J&&J.state!=="idle"&&J.data===void 0,O=sn(x,ne.path,p);if(!O){if(g&&A)return;Fe.push({key:ue,routeId:ne.routeId,path:ne.path,matches:null,match:null,request:null,controller:null});return}if(v.has(ue))return;let z=yl(O,ne.path),Y=new AbortController,me=Cs(s,ne.path,Y.signal),We=null;if(f.has(ue))f.delete(ue),We=Xs(r,n,me,O,z,u,t);else if(A)h&&(We=Xs(r,n,me,O,z,u,t));else{let be={...R,defaultShouldRevalidate:C?!1:h};Xl(z,be)&&(We=Xs(r,n,me,O,z,u,t,be))}We&&Fe.push({key:ue,routeId:ne.routeId,path:ne.path,matches:We,match:z,request:me,controller:Y})}),{dsMatches:Q,revalidatingFetchers:Fe}}function Lf(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Qd(e,t,r){if(e.lazy)return!0;if(!Lf(e))return!1;let n=t!=null&&e.id in t,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function nN(e,t,r){let n=!t||r.route.id!==t.route.id,s=!e.hasOwnProperty(r.route.id);return n||s}function sN(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Xl(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function pg(e,t,r,n,s,i){let a;if(e){let u=n[e];oe(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),a=u.children}else a=r;let o=[],c=[];if(t.forEach(u=>{let d=a.find(h=>ww(u,h));d?c.push({existingRoute:d,newRoute:u}):o.push(u)}),o.length>0){let u=$a(o,s,[e||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...u)}if(i&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:d,newRoute:h}=c[u],f=d,[m]=$a([h],s,[],{},!0);Object.assign(f,{element:m.element?m.element:f.element,errorElement:m.errorElement?m.errorElement:f.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:f.hydrateFallbackElement})}}function ww(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(i=>ww(r,i))}):!1}var gg=new WeakMap,bw=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let s=r[t.id];if(oe(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[e];if(!i)return;let a=gg.get(s);a||(a={},gg.set(s,a));let o=a[e];if(o)return o;let c=(async()=>{let u=xS(e),h=s[e]!==void 0&&e!=="hasErrorBoundary";if(u)Oe(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(h)Oe(!1,`Route "${s.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(s,{[e]:f}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[e]=void 0,Object.values(s.lazy).every(f=>f===void 0)&&(s.lazy=void 0))})();return a[e]=c,c},yg=new WeakMap;function iN(e,t,r,n,s){let i=r[e.id];if(oe(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=yg.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{oe(typeof e.lazy=="function","No lazy route function found");let f=await e.lazy(),m={};for(let y in f){let v=f[y];if(v===void 0)continue;let x=bS(y),g=i[y]!==void 0&&y!=="hasErrorBoundary";x?Oe(!x,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):g?Oe(!g,`Route "${i.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):m[y]=v}Object.assign(i,m),Object.assign(i,{...n(i),lazy:void 0})})();return yg.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(e.lazy),o=[],c;for(let d of a){if(s&&s.includes(d))continue;let h=bw({key:d,route:e,manifest:r,mapRouteProperties:n});h&&(o.push(h),d===t&&(c=h))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function vg(e){let t=e.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(t.map(s=>s.resolve()))).forEach((s,i)=>{r[t[i].route.id]=s}),r}async function aN(e){return e.matches.some(t=>t.route.middleware)?kw(e,()=>vg(e)):vg(e)}function kw(e,t){return oN(e,t,n=>n,pN,r);function r(n,s,i){if(i)return Promise.resolve(Object.assign(i.value,{[s]:{type:"error",result:n}}));{let{matches:a}=e,o=Math.min(Math.max(a.findIndex(u=>u.route.id===s),0),Math.max(a.findIndex(u=>u.unstable_shouldCallHandler()),0)),c=an(a,a[o].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function oN(e,t,r,n,s){let{matches:i,request:a,params:o,context:c,unstable_pattern:u}=e,d=i.flatMap(f=>f.route.middleware?f.route.middleware.map(m=>[f.route.id,m]):[]);return await jw({request:a,params:o,context:c,unstable_pattern:u},d,t,r,n,s)}async function jw(e,t,r,n,s,i,a=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let c=t[a];if(!c)return await r();let[u,d]=c,h,f=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await jw(e,t,r,n,s,i,a+1)},h.value}catch(m){return h={value:await i(m,u,h)},h.value}};try{let m=await d(e,f),y=m!=null?n(m):void 0;return s(y)?y:h?y??h.value:(h={value:await f()},h.value)}catch(m){return await i(m,u,h)}}function _w(e,t,r,n,s){let i=bw({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),a=iN(n.route,ht(r.method)?"action":"loader",t,e,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Xd(e,t,r,n,s,i,a,o,c=null){let u=!1,d=_w(e,t,r,s,i);return{...s,_lazyPromises:d,shouldLoad:o,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(h){return u=!0,c?typeof h=="boolean"?Xl(s,{...c,defaultShouldRevalidate:h}):Xl(s,c):o},resolve(h){let{lazy:f,loader:m,middleware:y}=s.route,v=u||o||h&&!ht(r.method)&&(f||m),x=y&&y.length>0&&!m&&!f;return v&&(ht(r.method)||!x)?cN({request:r,unstable_pattern:n,match:s,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:h,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Xs(e,t,r,n,s,i,a,o=null){return n.map(c=>c.route.id!==s.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:_w(e,t,r,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Xd(e,t,r,If(n.map(u=>u.route.path)),c,i,a,!0,o))}async function lN(e,t,r,n,s,i){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:t,unstable_pattern:If(r.map(u=>u.route.path)),params:r[0].params,context:s,matches:r},c=await e({...a,fetcherKey:n,runClientMiddleware:u=>{let d=a;return kw(d,()=>u({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return c}async function cN({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:i,scopedContext:a}){let o,c,u=ht(e.method),d=u?"action":"loader",h=f=>{let m,y=new Promise((p,g)=>m=g);c=()=>m(),e.signal.addEventListener("abort",c);let v=p=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${r.route.id}]`)):f({request:e,unstable_pattern:t,params:r.params,context:a},...p!==void 0?[p]:[]),x=(async()=>{try{return{type:"data",result:await(i?i(g=>v(g)):v())}}catch(p){return{type:"error",result:p}}})();return Promise.race([x,y])};try{let f=u?r.route.action:r.route.loader;if(n||s)if(f){let m,[y]=await Promise.all([h(f).catch(v=>{m=v}),n,s]);if(m!==void 0)throw m;o=y}else{await n;let m=u?r.route.action:r.route.loader;if(m)[o]=await Promise.all([h(m),s]);else if(d==="action"){let y=new URL(e.url),v=y.pathname+y.search;throw zt(405,{method:e.method,pathname:v,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(f)o=await h(f);else{let m=new URL(e.url),y=m.pathname+m.search;throw zt(404,{pathname:y})}}catch(f){return{type:"error",result:f}}finally{c&&e.signal.removeEventListener("abort",c)}return o}async function uN(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function dN(e){var n,s,i,a,o,c;let{result:t,type:r}=e;if(Nw(t)){let u;try{u=await uN(t)}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new Ql(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?_g(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Ql(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:Ua(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Ua(t)?t.status:void 0}:_g(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function hN(e,t,r,n,s){let i=e.headers.get("Location");if(oe(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ac(i)){let a=n.slice(0,n.findIndex(o=>o.route.id===r)+1);i=Zd(new URL(t.url),a,s,i),e.headers.set("Location",i)}return e}function xg(e,t,r){if(Ac(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=qt(s.pathname,r)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function Cs(e,t,r,n){let s=e.createURL(Sw(t)).toString(),i={signal:r};if(n&&ht(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=eh(n.formData):i.body=n.formData}return new Request(s,i)}function eh(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function wg(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function fN(e,t,r,n=!1,s=!1){let i={},a=null,o,c=!1,u={},d=r&&Pt(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,m=t[f];if(oe(!Jn(m),"Cannot handle redirect results in processLoaderData"),Pt(m)){let y=m.error;if(d!==void 0&&(y=d,d=void 0),a=a||{},s)a[f]=y;else{let v=an(e,f);a[v.route.id]==null&&(a[v.route.id]=y)}n||(i[f]=xw),c||(c=!0,o=Ua(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else i[f]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(o=m.statusCode),m.headers&&(u[f]=m.headers)}),d!==void 0&&r&&(a={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:u}}function bg(e,t,r,n,s,i){let{loaderData:a,errors:o}=fN(t,r,n);return s.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:h}=c;if(h&&h.signal.aborted)return;let f=i[u];if(oe(f,"Did not find corresponding fetcher result"),Pt(f)){let m=an(e.matches,d==null?void 0:d.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:f.error}),e.fetchers.delete(u)}else if(Jn(f))oe(!1,"Unhandled fetcher revalidation redirect");else{let m=Cr(f.data);e.fetchers.set(u,m)}}),{loaderData:a,errors:o}}function kg(e,t,r,n){let s=Object.entries(t).filter(([,i])=>i!==xw).reduce((i,[a,o])=>(i[a]=o,i),{});for(let i of r){let a=i.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&i.route.loader&&(s[a]=e[a]),n&&n.hasOwnProperty(a))break}return s}function jg(e){return e?Pt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function an(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Bo(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function zt(e,{pathname:t,routeId:r,method:n,type:s,message:i}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(a="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(o="Unable to encode submission body")):e===403?(a="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(a="Not Found",o=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new Ql(e||500,a,new Error(o),!0)}function Ho(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(Jn(s))return{key:n,result:s}}}function Sw(e){let t=typeof e=="string"?En(e):e;return wr({...t,hash:""})}function mN(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function pN(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&gN(r))}function gN(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function yN(e){return Nw(e.result)&&ZS.has(e.result.status)}function Pt(e){return e.type==="error"}function Jn(e){return(e&&e.type)==="redirect"}function _g(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Nw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function vN(e){return JS.has(e.toUpperCase())}function ht(e){return qS.has(e.toUpperCase())}function Of(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function yl(e,t){let r=typeof t=="string"?En(t).search:t.search;if(e[e.length-1].route.index&&Of(r||""))return e[e.length-1];let n=pw(e);return n[n.length-1]}function Sg(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:i,json:a}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Du(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function xN(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ui(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function wN(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Cr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function bN(e,t){try{let r=e.sessionStorage.getItem(vw);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function kN(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(vw,JSON.stringify(r))}catch(n){Oe(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function jN(){let e,t,r=new Promise((n,s)=>{e=async i=>{n(i);try{await r}catch{}},t=async i=>{s(i);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var hs=b.createContext(null);hs.displayName="DataRouter";var so=b.createContext(null);so.displayName="DataRouterState";b.createContext(!1);var Ff=b.createContext({isTransitioning:!1});Ff.displayName="ViewTransition";var Cw=b.createContext(new Map);Cw.displayName="Fetchers";var _N=b.createContext(null);_N.displayName="Await";var or=b.createContext(null);or.displayName="Navigation";var Ic=b.createContext(null);Ic.displayName="Location";var Yt=b.createContext({outlet:null,matches:[],isDataRoute:!1});Yt.displayName="Route";var zf=b.createContext(null);zf.displayName="RouteError";function SN(e,{relative:t}={}){oe(bi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(or),{hash:s,pathname:i,search:a}=io(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:gr([r,i])),n.createHref({pathname:o,search:a,hash:s})}function bi(){return b.useContext(Ic)!=null}function Pn(){return oe(bi(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ic).location}var Ew="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pw(e){b.useContext(or).static||b.useLayoutEffect(e)}function St(){let{isDataRoute:e}=b.useContext(Yt);return e?$N():NN()}function NN(){oe(bi(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(hs),{basename:t,navigator:r}=b.useContext(or),{matches:n}=b.useContext(Yt),{pathname:s}=Pn(),i=JSON.stringify(Mc(n)),a=b.useRef(!1);return Pw(()=>{a.current=!0}),b.useCallback((c,u={})=>{if(Oe(a.current,Ew),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Dc(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:gr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}var CN=b.createContext(null);function EN(e){let t=b.useContext(Yt).outlet;return b.useMemo(()=>t&&b.createElement(CN.Provider,{value:e},t),[t,e])}function Tw(){let{matches:e}=b.useContext(Yt),t=e[e.length-1];return t?t.params:{}}function io(e,{relative:t}={}){let{matches:r}=b.useContext(Yt),{pathname:n}=Pn(),s=JSON.stringify(Mc(r));return b.useMemo(()=>Dc(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function PN(e,t,r,n,s){oe(bi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(or),{matches:a}=b.useContext(Yt),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let g=h&&h.path||"";Rw(u,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=Pn(),m;m=f;let y=m.pathname||"/",v=y;if(d!=="/"){let g=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=sn(e,{pathname:v});return Oe(h||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Oe(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),DN(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:gr([d,i.encodeLocation?i.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:gr([d,i.encodeLocation?i.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),a,r,n,s)}function TN(){let e=zN(),t=Ua(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,a)}var RN=b.createElement(TN,null),AN=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Yt.Provider,{value:this.props.routeContext},b.createElement(zf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MN({routeContext:e,match:t,children:r}){let n=b.useContext(hs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Yt.Provider,{value:e},r)}function DN(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);oe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=r,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var f,m;n(d,{location:r.location,params:((m=(f=r.matches)==null?void 0:f[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return i.reduceRight((d,h,f)=>{let m,y=!1,v=null,x=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||RN,o&&(c<0&&f===0?(Rw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):c===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,f+1)),g=()=>{let w;return m?w=v:y?w=x:h.route.Component?w=b.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,b.createElement(MN,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(AN,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:u}):g()},null)}function $f(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IN(e){let t=b.useContext(hs);return oe(t,$f(e)),t}function LN(e){let t=b.useContext(so);return oe(t,$f(e)),t}function ON(e){let t=b.useContext(Yt);return oe(t,$f(e)),t}function Uf(e){let t=ON(e),r=t.matches[t.matches.length-1];return oe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function FN(){return Uf("useRouteId")}function zN(){var n;let e=b.useContext(zf),t=LN("useRouteError"),r=Uf("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function $N(){let{router:e}=IN("useNavigate"),t=Uf("useNavigate"),r=b.useRef(!1);return Pw(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{Oe(r.current,Ew),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Ng={};function Rw(e,t,r){!t&&!Ng[e]&&(Ng[e]=!0,Oe(!1,r))}var Cg={};function Eg(e,t){!e&&!Cg[t]&&(Cg[t]=!0,console.warn(t))}function UN(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Oe(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Oe(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Oe(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var VN=["HydrateFallback","hydrateFallbackElement"],BN=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function HN({router:e,flushSync:t,unstable_onError:r}){let[n,s]=b.useState(e.state),[i,a]=b.useState(),[o,c]=b.useState({isTransitioning:!1}),[u,d]=b.useState(),[h,f]=b.useState(),[m,y]=b.useState(),v=b.useRef(new Map),x=b.useCallback(_=>{s(E=>(_.errors&&r&&Object.entries(_.errors).forEach(([k,P])=>{var C,R;((C=E.errors)==null?void 0:C[k])!==P&&r(P,{location:_.location,params:((R=_.matches[0])==null?void 0:R.params)??{}})}),_))},[r]),p=b.useCallback((_,{deletedFetchers:E,flushSync:k,viewTransitionOpts:P})=>{_.fetchers.forEach((R,ee)=>{R.data!==void 0&&v.current.set(ee,R.data)}),E.forEach(R=>v.current.delete(R)),Eg(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Eg(P==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!C){t&&k?t(()=>x(_)):b.startTransition(()=>x(_));return}if(t&&k){t(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let R=e.window.document.startViewTransition(()=>{t(()=>x(_))});R.finished.finally(()=>{t(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),t(()=>f(R));return}h?(u&&u.resolve(),h.skipTransition(),y({state:_,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(a(_),c({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[e.window,t,h,u,x]);b.useLayoutEffect(()=>e.subscribe(p),[e,p]),b.useEffect(()=>{o.isTransitioning&&!o.flushSync&&d(new BN)},[o]),b.useEffect(()=>{if(u&&i&&e.window){let _=i,E=u.promise,k=e.window.document.startViewTransition(async()=>{b.startTransition(()=>x(_)),await E});k.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(k)}},[i,u,e.window,x]),b.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,h,n.location,i]),b.useEffect(()=>{!o.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[o.isTransitioning,m]);let g=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:_=>e.navigate(_),push:(_,E,k)=>e.navigate(_,{state:E,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(_,E,k)=>e.navigate(_,{replace:!0,state:E,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[e]),w=e.basename||"/",j=b.useMemo(()=>({router:e,navigator:g,static:!1,basename:w,unstable_onError:r}),[e,g,w,r]);return b.createElement(b.Fragment,null,b.createElement(hs.Provider,{value:j},b.createElement(so.Provider,{value:n},b.createElement(Cw.Provider,{value:v.current},b.createElement(Ff.Provider,{value:o},b.createElement(YN,{basename:w,location:n.location,navigationType:n.historyAction,navigator:g},b.createElement(GN,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var GN=b.memo(WN);function WN({routes:e,future:t,state:r,unstable_onError:n}){return PN(e,void 0,r,n,t)}function KN({to:e,replace:t,state:r,relative:n}){oe(bi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(or);Oe(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Yt),{pathname:a}=Pn(),o=St(),c=Dc(e,Mc(i),a,n==="path"),u=JSON.stringify(c);return b.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function qN(e){return EN(e.context)}function YN({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){oe(!bi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=En(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,m=b.useMemo(()=>{let y=qt(c,a);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:f},navigationType:n}},[a,c,u,d,h,f,n]);return Oe(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(or.Provider,{value:o},b.createElement(Ic.Provider,{children:t,value:m}))}var vl="get",xl="application/x-www-form-urlencoded";function Lc(e){return e!=null&&typeof e.tagName=="string"}function JN(e){return Lc(e)&&e.tagName.toLowerCase()==="button"}function ZN(e){return Lc(e)&&e.tagName.toLowerCase()==="form"}function QN(e){return Lc(e)&&e.tagName.toLowerCase()==="input"}function XN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function e2(e,t){return e.button===0&&(!t||t==="_self")&&!XN(e)}var Go=null;function t2(){if(Go===null)try{new FormData(document.createElement("form"),0),Go=!1}catch{Go=!0}return Go}var r2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Iu(e){return e!=null&&!r2.has(e)?(Oe(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xl}"`),null):e}function n2(e,t){let r,n,s,i,a;if(ZN(e)){let o=e.getAttribute("action");n=o?qt(o,t):null,r=e.getAttribute("method")||vl,s=Iu(e.getAttribute("enctype"))||xl,i=new FormData(e)}else if(JN(e)||QN(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?qt(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||vl,s=Iu(e.getAttribute("formenctype"))||Iu(o.getAttribute("enctype"))||xl,i=new FormData(o,e),!t2()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(Lc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vl,n=null,s=xl,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vf(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function s2(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&qt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function i2(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function o2(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await i2(i,r);return a.links?a.links():[]}return[]}));return d2(n.flat(1).filter(a2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Pg(e,t,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>a(c,u)||o(c,u)):i==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function l2(e,t,{includeHydrateFallback:r}={}){return c2(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function c2(e){return[...new Set(e)]}function u2(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function d2(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(u2(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Aw(){let e=b.useContext(hs);return Vf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function h2(){let e=b.useContext(so);return Vf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bf=b.createContext(void 0);Bf.displayName="FrameworkContext";function Mw(){let e=b.useContext(Bf);return Vf(e,"You must render this element inside a <HydratedRouter> element"),e}function f2(e,t){let r=b.useContext(Bf),[n,s]=b.useState(!1),[i,a]=b.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=b.useRef(null);b.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let v=p=>{p.forEach(g=>{a(g.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[e]),b.useEffect(()=>{if(n){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{s(!0)},y=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Vi(o,m),onBlur:Vi(c,y),onMouseEnter:Vi(u,m),onMouseLeave:Vi(d,y),onTouchStart:Vi(h,m)}]:[!1,f,{}]}function Vi(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function m2({page:e,...t}){let{router:r}=Aw(),n=b.useMemo(()=>sn(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(g2,{page:e,matches:n,...t}):null}function p2(e){let{manifest:t,routeModules:r}=Mw(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return o2(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function g2({page:e,matches:t,...r}){let n=Pn(),{manifest:s,routeModules:i}=Mw(),{basename:a}=Aw(),{loaderData:o,matches:c}=h2(),u=b.useMemo(()=>Pg(e,t,c,s,n,"data"),[e,t,c,s,n]),d=b.useMemo(()=>Pg(e,t,c,s,n,"assets"),[e,t,c,s,n]),h=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,v=!1;if(t.forEach(p=>{var w;let g=s.routes[p.route.id];!g||!g.hasLoader||(!u.some(j=>j.route.id===p.route.id)&&p.route.id in o&&((w=i[p.route.id])!=null&&w.shouldRevalidate)||g.hasClientLoader?v=!0:y.add(p.route.id))}),y.size===0)return[];let x=s2(e,a,"data");return v&&y.size>0&&x.searchParams.set("_routes",t.filter(p=>y.has(p.route.id)).map(p=>p.route.id).join(",")),[x.pathname+x.search]},[a,o,n,s,u,t,e,i]),f=b.useMemo(()=>l2(d,s),[d,s]),m=p2(d);return b.createElement(b.Fragment,null,h.map(y=>b.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),f.map(y=>b.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:v})=>b.createElement("link",{key:y,nonce:r.nonce,...v})))}function y2(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.9.6")}catch{}function v2(e,t){return tN({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:pS({window:t==null?void 0:t.window}),hydrationData:x2(),routes:e,mapRouteProperties:UN,hydrationRouteProperties:VN,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function x2(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:w2(e.errors)}),e}function w2(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new Ql(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}var Iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Va=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:y}=b.useContext(or),v=typeof u=="string"&&Iw.test(u),x,p=!1;if(typeof u=="string"&&v&&(x=u,Dw))try{let C=new URL(window.location.href),R=u.startsWith("//")?new URL(C.protocol+u):new URL(u),ee=qt(R.pathname,y);R.origin===C.origin&&ee!=null?u=ee+R.search+R.hash:p=!0}catch{Oe(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=SN(u,{relative:s}),[w,j,_]=f2(n,f),E=_2(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function k(C){t&&t(C),C.defaultPrevented||E(C)}let P=b.createElement("a",{...f,..._,href:x||g,onClick:p||i?t:k,ref:y2(m,j),target:c,"data-discover":!v&&r==="render"?"true":void 0});return w&&!v?b.createElement(b.Fragment,null,P,b.createElement(m2,{page:g})):P});Va.displayName="Link";var b2=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:c,...u},d){let h=io(a,{relative:u.relative}),f=Pn(),m=b.useContext(so),{navigator:y,basename:v}=b.useContext(or),x=m!=null&&P2(h)&&o===!0,p=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,g=f.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(g=g.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&v&&(w=qt(w,v)||w);const j=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let _=g===p||!s&&g.startsWith(p)&&g.charAt(j)==="/",E=w!=null&&(w===p||!s&&w.startsWith(p)&&w.charAt(p.length)==="/"),k={isActive:_,isPending:E,isTransitioning:x},P=_?t:void 0,C;typeof n=="function"?C=n(k):C=[n,_?"active":null,E?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(k):i;return b.createElement(Va,{...u,"aria-current":P,className:C,ref:d,style:R,to:a,viewTransition:o},typeof c=="function"?c(k):c)});b2.displayName="NavLink";var k2=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=vl,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let y=C2(),v=E2(o,{relative:u}),x=a.toLowerCase()==="get"?"get":"post",p=typeof o=="string"&&Iw.test(o),g=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let j=w.nativeEvent.submitter,_=(j==null?void 0:j.getAttribute("formmethod"))||a;y(j||w.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return b.createElement("form",{ref:m,method:x,action:v,onSubmit:n?c:g,...f,"data-discover":!p&&e==="render"?"true":void 0})});k2.displayName="Form";function j2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lw(e){let t=b.useContext(hs);return oe(t,j2(e)),t}function _2(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=St(),c=Pn(),u=io(e,{relative:i});return b.useCallback(d=>{if(e2(d,t)){d.preventDefault();let h=r!==void 0?r:wr(c)===wr(u);o(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[c,o,u,r,n,t,e,s,i,a])}var S2=0,N2=()=>`__${String(++S2)}__`;function C2(){let{router:e}=Lw("useSubmit"),{basename:t}=b.useContext(or),r=FN();return b.useCallback(async(n,s={})=>{let{action:i,method:a,encType:o,formData:c,body:u}=n2(n,t);if(s.navigate===!1){let d=s.fetcherKey||N2();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function E2(e,{relative:t}={}){let{basename:r}=b.useContext(or),n=b.useContext(Yt);oe(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...io(e||".",{relative:t})},a=Pn();if(e==null){i.search=a.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:gr([r,i.pathname])),wr(i)}function P2(e,{relative:t}={}){let r=b.useContext(Ff);oe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Lw("useViewTransitionState"),s=io(e,{relative:t});if(!r.isTransitioning)return!1;let i=qt(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=qt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zl(s.pathname,a)!=null||Zl(s.pathname,i)!=null}function T2(e){return b.createElement(HN,{flushSync:cw.flushSync,...e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),L=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...u},d)=>b.createElement("svg",{ref:d,...R2,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${A2(e)}`,o].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=L("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=L("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=L("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=L("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=L("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=L("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=L("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=L("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=L("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=L("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=L("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=L("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=L("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=L("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=L("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=L("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=L("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=L("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=L("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=L("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=L("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=L("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=L("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=L("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=L("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=L("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=L("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=L("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=L("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=L("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=L("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=L("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=L("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=L("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=L("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=L("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=L("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=L("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=L("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=L("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=L("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=L("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=L("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=L("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=L("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=L("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=L("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=L("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=L("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=L("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=L("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=L("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=L("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=L("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=L("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=L("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=L("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=L("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=L("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=L("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=L("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=L("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=L("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=L("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=L("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Yw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Yw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function hC(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Yw(e))&&(n&&(n+=" "),n+=t);return n}const Kf="-",fC=e=>{const t=pC(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(Kf);return o[0]===""&&o.length!==1&&o.shift(),Jw(o,t)||mC(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},Jw=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Jw(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Kf);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},Dg=/^\[(.+)\]$/,mC=e=>{if(Dg.test(e)){const t=Dg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},pC=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return yC(Object.entries(e.classGroups),r).forEach(([i,a])=>{rh(a,n,i,t)}),n},rh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ig(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(gC(s)){rh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{rh(a,Ig(t,i),r,n)})})},Ig=(e,t)=>{let r=e;return t.split(Kf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},gC=e=>e.isThemeGetter,yC=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[r,s]}):e,vC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},Zw="!",xC=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=o=>{const c=[];let u=0,d=0,h;for(let x=0;x<o.length;x++){let p=o[x];if(u===0){if(p===s&&(n||o.slice(x,x+i)===t)){c.push(o.slice(d,x)),d=x+i;continue}if(p==="/"){h=x;continue}}p==="["?u++:p==="]"&&u--}const f=c.length===0?o:o.substring(d),m=f.startsWith(Zw),y=m?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:a}):a},wC=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},bC=e=>({cache:vC(e.cacheSize),parseClassName:xC(e),...fC(e)}),kC=/\s+/,jC=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(kC);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let y=!!m,v=n(y?f.substring(0,m):f);if(!v){if(!y){o=u+(o.length>0?" "+o:o);continue}if(v=n(f),!v){o=u+(o.length>0?" "+o:o);continue}y=!1}const x=wC(d).join(":"),p=h?x+Zw:x,g=p+v;if(i.includes(g))continue;i.push(g);const w=s(v,y);for(let j=0;j<w.length;++j){const _=w[j];i.push(p+_)}o=u+(o.length>0?" "+o:o)}return o};function _C(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Qw(t))&&(n&&(n+=" "),n+=r);return n}const Qw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Qw(e[n]))&&(r&&(r+=" "),r+=t);return r};function SC(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=bC(u),n=r.cache.get,s=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=jC(c,r);return s(c,d),d}return function(){return i(_C.apply(null,arguments))}}const _e=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Xw=/^\[(?:([a-z-]+):)?(.+)\]$/i,NC=/^\d+\/\d+$/,CC=new Set(["px","full","screen"]),EC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=e=>ei(e)||CC.has(e)||NC.test(e),Kr=e=>ki(e,"length",$C),ei=e=>!!e&&!Number.isNaN(Number(e)),Lu=e=>ki(e,"number",ei),Bi=e=>!!e&&Number.isInteger(Number(e)),MC=e=>e.endsWith("%")&&ei(e.slice(0,-1)),se=e=>Xw.test(e),qr=e=>EC.test(e),DC=new Set(["length","size","percentage"]),IC=e=>ki(e,DC,eb),LC=e=>ki(e,"position",eb),OC=new Set(["image","url"]),FC=e=>ki(e,OC,VC),zC=e=>ki(e,"",UC),Hi=()=>!0,ki=(e,t,r)=>{const n=Xw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$C=e=>PC.test(e)&&!TC.test(e),eb=()=>!1,UC=e=>RC.test(e),VC=e=>AC.test(e),BC=()=>{const e=_e("colors"),t=_e("spacing"),r=_e("blur"),n=_e("brightness"),s=_e("borderColor"),i=_e("borderRadius"),a=_e("borderSpacing"),o=_e("borderWidth"),c=_e("contrast"),u=_e("grayscale"),d=_e("hueRotate"),h=_e("invert"),f=_e("gap"),m=_e("gradientColorStops"),y=_e("gradientColorStopPositions"),v=_e("inset"),x=_e("margin"),p=_e("opacity"),g=_e("padding"),w=_e("saturate"),j=_e("scale"),_=_e("sepia"),E=_e("skew"),k=_e("space"),P=_e("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",se,t],Q=()=>[se,t],Fe=()=>["",_r,Kr],Ee=()=>["auto",ei,se],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",se],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[ei,se];return{cacheSize:500,separator:":",theme:{colors:[Hi],spacing:[_r,Kr],blur:["none","",qr,se],brightness:Y(),borderColor:[e],borderRadius:["none","","full",qr,se],borderSpacing:Q(),borderWidth:Fe(),contrast:Y(),grayscale:O(),hueRotate:Y(),invert:O(),gap:Q(),gradientColorStops:[e],gradientColorStopPositions:[MC,Kr],inset:ee(),margin:ee(),opacity:Y(),padding:Q(),saturate:Y(),scale:Y(),sepia:O(),skew:Y(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[qr]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),se]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bi,se]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Bi,se]}],"grid-cols":[{"grid-cols":[Hi]}],"col-start-end":[{col:["auto",{span:["full",Bi,se]},se]}],"col-start":[{"col-start":Ee()}],"col-end":[{"col-end":Ee()}],"grid-rows":[{"grid-rows":[Hi]}],"row-start-end":[{row:["auto",{span:[Bi,se]},se]}],"row-start":[{"row-start":Ee()}],"row-end":[{"row-end":Ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,t]}],"min-w":[{"min-w":[se,t,"min","max","fit"]}],"max-w":[{"max-w":[se,t,"none","full","min","max","fit","prose",{screen:[qr]},qr]}],h:[{h:[se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qr,Kr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lu]}],"font-family":[{font:[Hi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",ei,Lu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_r,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_r,Kr]}],"underline-offset":[{"underline-offset":["auto",_r,se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),LC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:ue()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[_r,se]}],"outline-w":[{outline:[_r,Kr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[_r,Kr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qr,zC]}],"shadow-color":[{shadow:[Hi]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qr,se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Bi,se]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[_r,Kr,Lu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},HC=SC(BC);function V(...e){return HC(hC(e))}const GC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},Lg=e=>{let t;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(y=>y(t,m))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(GC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},WC=e=>e?Lg(e):Lg;var tb={exports:{}},rb={},nb={exports:{}},sb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=b;function KC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qC=typeof Object.is=="function"?Object.is:KC,YC=di.useState,JC=di.useEffect,ZC=di.useLayoutEffect,QC=di.useDebugValue;function XC(e,t){var r=t(),n=YC({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return ZC(function(){s.value=r,s.getSnapshot=t,Ou(s)&&i({inst:s})},[e,r,t]),JC(function(){return Ou(s)&&i({inst:s}),e(function(){Ou(s)&&i({inst:s})})},[e]),QC(r),r}function Ou(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qC(e,r)}catch{return!0}}function eE(e,t){return t()}var tE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eE:XC;sb.useSyncExternalStore=di.useSyncExternalStore!==void 0?di.useSyncExternalStore:tE;nb.exports=sb;var rE=nb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=b,nE=rE;function sE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iE=typeof Object.is=="function"?Object.is:sE,aE=nE.useSyncExternalStore,oE=Fc.useRef,lE=Fc.useEffect,cE=Fc.useMemo,uE=Fc.useDebugValue;rb.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=oE(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=cE(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&a.hasValue){var y=a.value;if(s(y,m))return h=y}return h=m}if(y=h,iE(d,m))return y;var v=n(m);return s!==void 0&&s(y,v)?y:(d=m,h=v)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var o=aE(e,i[0],i[1]);return lE(function(){a.hasValue=!0,a.value=o},[o]),uE(o),o};tb.exports=rb;var dE=tb.exports;const hE=zh(dE),ib={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},{useDebugValue:fE}=Xn,{useSyncExternalStoreWithSelector:mE}=hE;let Og=!1;const pE=e=>e;function gE(e,t=pE,r){(ib?"production":void 0)!=="production"&&r&&!Og&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Og=!0);const n=mE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return fE(n),n}const Fg=e=>{(ib?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?WC(e):e,r=(n,s)=>gE(t,n,s);return Object.assign(r,t),r},Br=e=>e?Fg(e):Fg,yE={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"};function vE(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),o=(i=r.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const Ha=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Ha(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Ha(n)(r)}}}},xE=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,p)=>({...p,...x}),...t},a=!1;const o=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,s);const d=Ha(i.serialize),h=()=>{const x=i.partialize({...n()});let p;const g=d({state:x,version:i.version}).then(w=>u.setItem(i.name,w)).catch(w=>{p=w});if(p)throw p;return g},f=s.setState;s.setState=(x,p)=>{f(x,p),h()};const m=e((...x)=>{r(...x),h()},n,s);let y;const v=()=>{var x;if(!u)return;a=!1,o.forEach(g=>g(n()));const p=((x=i.onRehydrateStorage)==null?void 0:x.call(i,n()))||void 0;return Ha(u.getItem.bind(u))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var w;return y=i.merge(g,(w=n())!=null?w:m),r(y,!0),h()}).then(()=>{p==null||p(y,void 0),a=!0,c.forEach(g=>g(y))}).catch(g=>{p==null||p(void 0,g)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},v(),y||m},wE=(e,t)=>(r,n,s)=>{let i={storage:vE(()=>localStorage),partialize:v=>v,version:0,merge:(v,x)=>({...x,...v}),...t},a=!1;const o=new Set,c=new Set;let u=i.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...v)},n,s);const d=()=>{const v=i.partialize({...n()});return u.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,x)=>{h(v,x),d()};const f=e((...v)=>{r(...v),d()},n,s);s.getInitialState=()=>f;let m;const y=()=>{var v,x;if(!u)return;a=!1,o.forEach(g=>{var w;return g((w=n())!=null?w:f)});const p=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(v=n())!=null?v:f))||void 0;return Ha(u.getItem.bind(u))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var w;const[j,_]=g;if(m=i.merge(_,(w=n())!=null?w:f),r(m,!0),j)return d()}).then(()=>{p==null||p(m,void 0),m=n(),a=!0,c.forEach(g=>g(m))}).catch(g=>{p==null||p(void 0,g)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},i.skipHydration||y(),m||f},bE=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((yE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),xE(e,t)):wE(e,t),lo=bE,kE="modulepreload",jE=function(e){return"/"+e},zg={},hi=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=jE(c),c in zg)return;zg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":kE,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},_E=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hi(async()=>{const{default:n}=await Promise.resolve().then(()=>ji);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class qf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class SE extends qf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class NE extends qf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class CE extends qf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nh||(nh={}));var EE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class PE{constructor(t,{headers:r={},customFetch:n,region:s=nh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=_E(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return EE(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(y=>{throw new SE(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new NE(d);if(!d.ok)throw new CE(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var wt={},Yf={},zc={},co={},$c={},Uc={},TE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fi=TE();const RE=fi.fetch,ab=fi.fetch.bind(fi),ob=fi.Headers,AE=fi.Request,ME=fi.Response,ji=Object.freeze(Object.defineProperty({__proto__:null,Headers:ob,Request:AE,Response:ME,default:ab,fetch:RE},Symbol.toStringTag,{value:"Module"})),DE=Vk(ji);var Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});let IE=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Vc.default=IE;var lb=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uc,"__esModule",{value:!0});const LE=lb(DE),OE=lb(Vc);let FE=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=LE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&v===""?(f=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new OE.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Uc.default=FE;var zE=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($c,"__esModule",{value:!0});const $E=zE(Uc);let UE=class extends $E.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$c.default=UE;var VE=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(co,"__esModule",{value:!0});const BE=VE($c);let HE=class extends BE.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};co.default=HE;var GE=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zc,"__esModule",{value:!0});const Gi=GE(co);let WE=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Gi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Gi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Gi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zc.default=WE;var Bc={},Hc={};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.version=void 0;Hc.version="0.0.0-automated";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.DEFAULT_HEADERS=void 0;const KE=Hc;Bc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${KE.version}`};var cb=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yf,"__esModule",{value:!0});const qE=cb(zc),YE=cb(co),JE=Bc;let ZE=class ub{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},JE.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new qE.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ub(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new YE.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Yf.default=ZE;var _i=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wt,"__esModule",{value:!0});wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const db=_i(Yf);wt.PostgrestClient=db.default;const hb=_i(zc);wt.PostgrestQueryBuilder=hb.default;const fb=_i(co);wt.PostgrestFilterBuilder=fb.default;const mb=_i($c);wt.PostgrestTransformBuilder=mb.default;const pb=_i(Uc);wt.PostgrestBuilder=pb.default;const gb=_i(Vc);wt.PostgrestError=gb.default;var QE=wt.default={PostgrestClient:db.default,PostgrestQueryBuilder:hb.default,PostgrestFilterBuilder:fb.default,PostgrestTransformBuilder:mb.default,PostgrestBuilder:pb.default,PostgrestError:gb.default};const{PostgrestClient:XE,PostgrestQueryBuilder:oI,PostgrestFilterBuilder:lI,PostgrestTransformBuilder:cI,PostgrestBuilder:uI,PostgrestError:dI}=QE,eP="2.11.2",tP={"X-Client-Info":`realtime-js/${eP}`},rP="1.0.0",yb=1e4,nP=1e3;var ti;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ti||(ti={}));var Ct;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ct||(Ct={}));var tr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tr||(tr={}));var sh;(function(e){e.websocket="websocket"})(sh||(sh={}));var Gn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Gn||(Gn={}));class sP{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class vb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xe||(xe={}));const $g=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=iP(a,e,t,s),i),{})},iP=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?xb(i,a):ih(a)},xb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return cP(t,r)}switch(e){case xe.bool:return aP(t);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return oP(t);case xe.json:case xe.jsonb:return lP(t);case xe.timestamp:return uP(t);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return ih(t);default:return ih(t)}},ih=e=>e,aP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cP=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>xb(t,o))}return e},uP=e=>typeof e=="string"?e.replace(" ","T"):e,wb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Fu{constructor(t,r,n={},s=yb){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ug;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ug||(Ug={}));class pa{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pa.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=pa.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=pa.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),y=d.filter(x=>m.indexOf(x.presence_ref)<0),v=h.filter(x=>f.indexOf(x.presence_ref)<0);y.length>0&&(o[u]=y),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[o].unshift(...f)}n(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vg||(Vg={}));var Bg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bg||(Bg={}));var Pr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pr||(Pr={}));class Jf{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fu(this,tr.join,this.params,this.timeout),this.rejoinTimer=new vb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new pa(this),this.broadcastEndpointURL=wb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Pr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Pr.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Pr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let v=0;v<m;v++){const x=f[v],{filter:{event:p,schema:g,table:w,filter:j}}=x,_=d&&d[v];if(_&&_.event===p&&_.schema===g&&_.table===w&&_.filter===j)y.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),t==null||t(Pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Pr.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ct.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Fu(this,tr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Fu(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=tr;if(n&&[o,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,v,x;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(v=m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var y,v,x,p,g,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,_=(y=m.filter)===null||y===void 0?void 0:y.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(g=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:v,table:x,commit_timestamp:p,type:g,errors:w}=y;f=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:p,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(y))}m.callback(f,n)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Jf.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tr.close,{},t)}_onError(t){this._on(tr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=$g(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=$g(t.columns,t.old_record)),r}}const dP=()=>{},hP=typeof WebSocket<"u",fP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mP{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=tP,this.params={},this.timeout=yb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=dP,this.conn=null,this.sendBuffer=[],this.serializer=new sP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>hi(async()=>{const{default:c}=await Promise.resolve().then(()=>ji);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${sh.websocket}`,this.httpEndpoint=wb(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(hP){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new pP(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),hi(async()=>{const{default:t}=await import("./browser-CIZJGnhO.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rP}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ti.connecting:return Gn.Connecting;case ti.open:return Gn.Open;case ti.closing:return Gn.Closing;default:return Gn.Closed}}isConnected(){return this.connectionState()===Gn.Open}channel(t,r={config:{}}){const n=new Jf(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(tr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(nP,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class pP{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ti.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Zf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gP extends Zf{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ah extends Zf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var yP=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const bb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hi(async()=>{const{default:n}=await Promise.resolve().then(()=>ji);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vP=()=>yP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hi(()=>Promise.resolve().then(()=>ji),void 0)).Response:Response}),oh=e=>{if(Array.isArray(e))return e.map(r=>oh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=oh(n)}),t};var fs=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const zu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xP=(e,t,r)=>fs(void 0,void 0,void 0,function*(){const n=yield vP();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new gP(zu(s),e.status||500))}).catch(s=>{t(new ah(zu(s),s))}):t(new ah(zu(e),e))}),wP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function uo(e,t,r,n,s,i){return fs(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,wP(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>xP(c,o,n))})})}function nc(e,t,r,n){return fs(this,void 0,void 0,function*(){return uo(e,"GET",t,r,n)})}function en(e,t,r,n,s){return fs(this,void 0,void 0,function*(){return uo(e,"POST",t,n,s,r)})}function bP(e,t,r,n,s){return fs(this,void 0,void 0,function*(){return uo(e,"PUT",t,n,s,r)})}function kP(e,t,r,n){return fs(this,void 0,void 0,function*(){return uo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function kb(e,t,r,n,s){return fs(this,void 0,void 0,function*(){return uo(e,"DELETE",t,n,s,r)})}var yt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const jP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _P{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=bb(s)}uploadOrUpdate(t,r,n,s){return yt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Hg),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}upload(t,r,n){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return yt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Hg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return yt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield en(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Zf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return yt(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}copy(t,r,n){return yt(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return yt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield en(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return yt(this,void 0,void 0,function*(){try{const s=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}download(t,r){return yt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield nc(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ye(o))return{data:null,error:o};throw o}})}info(t){return yt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield nc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:oh(n),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}exists(t){return yt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield kP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ye(n)&&n instanceof ah){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return yt(this,void 0,void 0,function*(){try{return{data:yield kb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return yt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},jP),r),{prefix:t||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const SP="2.7.1",NP={"X-Client-Info":`storage-js/${SP}`};var vs=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class CP{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},NP),r),this.fetch=bb(n)}listBuckets(){return vs(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield nc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return vs(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return vs(this,void 0,void 0,function*(){try{return{data:yield bP(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vs(this,void 0,void 0,function*(){try{return{data:yield kb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}}class EP extends CP{constructor(t,r={},n){super(t,r,n)}from(t){return new _P(this.url,this.headers,t,this.fetch)}}const PP="2.49.1";let ta="";typeof Deno<"u"?ta="deno":typeof document<"u"?ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ta="react-native":ta="node";const TP={"X-Client-Info":`supabase-js-${ta}/${PP}`},RP={headers:TP},AP={schema:"public"},MP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DP={};var IP=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const LP=e=>{let t;return e?t=e:typeof fetch>"u"?t=ab:t=fetch,(...r)=>t(...r)},OP=()=>typeof Headers>"u"?ob:Headers,FP=(e,t,r)=>{const n=LP(r),s=OP();return(i,a)=>IP(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var zP=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function $P(e){return e.replace(/\/$/,"")}function UP(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:a,auth:o,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>zP(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const jb="2.68.0",Es=30*1e3,lh=3,$u=lh*Es,VP="http://localhost:9999",BP="supabase.auth.token",HP={"X-Client-Info":`gotrue-js/${jb}`},ch="X-Supabase-Api-Version",_b={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function GP(e){return Math.round(Date.now()/1e3)+e}function WP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dr=()=>typeof window<"u"&&typeof document<"u",Fn={tested:!1,writable:!1},ga=()=>{if(!dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fn.tested)return Fn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fn.tested=!0,Fn.writable=!0}catch{Fn.tested=!0,Fn.writable=!1}return Fn.writable};function KP(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Sb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hi(async()=>{const{default:n}=await Promise.resolve().then(()=>ji);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Nb=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ko=async(e,t)=>{await e.removeItem(t)};function YP(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,a,o,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)a=t.indexOf(e.charAt(d++)),o=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=a<<2|o>>4,s=(o&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Gc{constructor(){this.promise=new Gc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Gc.promiseConstructor=Promise;function Gg(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(YP(n))}async function JP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ZP(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function QP(e){return("0"+e.toString(16)).substr(-2)}function XP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,QP).join("")}async function eT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function tT(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await eT(e);return tT(r)}async function xs(e,t,r=!1){const n=XP();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Nb(e,`${t}-code-verifier`,s);const i=await rT(n);return[i,n===i?"plain":"s256"]}const nT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sT(e){const t=e.headers.get(ch);if(!t||!t.match(nT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Qf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class iT extends Qf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aT(e){return ie(e)&&e.name==="AuthApiError"}class Cb extends Qf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ms extends Qf{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Yr extends ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oT(e){return ie(e)&&e.name==="AuthSessionMissingError"}class Uu extends ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qo extends ms{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yo extends ms{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lT(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class Wg extends ms{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uh extends ms{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Vu(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class Kg extends ms{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var cT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Vn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uT=[502,503,504];async function qg(e){var t;if(!qP(e))throw new uh(Vn(e),0);if(uT.includes(e.status))throw new uh(Vn(e),e.status);let r;try{r=await e.json()}catch(i){throw new Cb(Vn(i),i)}let n;const s=sT(e);if(s&&s.getTime()>=_b["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Kg(Vn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Kg(Vn(r),e.status,r.weak_password.reasons);throw new iT(Vn(r),e.status||500,n)}const dT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ce(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ch]||(i[ch]=_b["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await hT(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function hT(e,t,r,n,s,i){const a=dT(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new uh(Vn(c),0)}if(o.ok||await qg(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await qg(c)}}function Jr(e){var t;let r=null;gT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=GP(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Yg(e){const t=Jr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function on(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fT(e){return{data:e,error:null}}function mT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=cT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function pT(e){return e}function gT(e){return e.access_token&&e.refresh_token&&e.expires_in}var yT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class vT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Sb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:on})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yT(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:on})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pT});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:on})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:on})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:on})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}const xT={getItem:e=>ga()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ga()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ga()&&globalThis.localStorage.removeItem(e)}};function Jg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function wT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ws={debug:!!(globalThis&&ga()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Eb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bT extends Eb{}async function kT(e,t,r){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ws.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}wT();const jT={url:VP,storageKey:BP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zg(e,t,r){return await r()}class Ga{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ga.nextInstanceID,Ga.nextInstanceID+=1,this.instanceID>0&&dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Sb(s.fetch),this.lock=s.lock||Zg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:dr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=kT:this.lock=Zg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ga()?this.storage=xT:(this.memoryStorage={},this.storage=Jg(this.memoryStorage)):(this.memoryStorage={},this.storage=Jg(this.memoryStorage)),dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=KP(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),dr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lT(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?{error:r}:{error:new Cb("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Jr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await xs(this.storage,this.storageKey)),i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},xform:Jr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jr})}else throw new qo("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Yg})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Yg})}else throw new qo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Uu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Wo(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Jr});if(await Ko(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Uu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ie(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jr}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Uu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xs(this.storage,this.storageKey));const{error:h}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new qo("You must provide either an email or phone number.")}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Jr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await xs(this.storage,this.storageKey)),await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:fT})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yr;const{error:s}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ie(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new qo("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<$u:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:on}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yr}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:on})})}catch(r){if(ie(r))return oT(r)&&(await this._removeSession(),await Ko(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Yr;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await xs(this.storage,this.storageKey));const{data:u,error:d}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:on});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Gg(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const a=Gg(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!dr())throw new Yo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wg("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!a||!u)throw new Yo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(ie(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(aT(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ko(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=WP(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await xs(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return dr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ie(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ZP(async s=>(s>0&&await JP(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Vu(i)&&Date.now()+a-n<Es})}catch(n){if(this._debug(r,"error",n),ie(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),dr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Wo(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<$u;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${$u}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Vu(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gc;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Yr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),ie(i)){const a={session:null,error:i};return Vu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Nb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ko(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Es);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Es}ms, refresh threshold is ${lh} ticks`),s<=lh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Eb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await xs(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}Ga.nextInstanceID=0;const _T=Ga;class ST extends _T{constructor(t){super(t)}}var NT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class CT{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=$P(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:AP,realtime:DP,auth:Object.assign(Object.assign({},MP),{storageKey:c}),global:RP},d=UP(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=FP(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new XE(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new PE(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new EP(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return NT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ST({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new mP(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ET=(e,t,r)=>new CT(e,t,r),PT="https://ptmfcodrlfufrzkxrtxg.supabase.co",TT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",$=ET(PT,TT),sc=new Map,Xf=new Map;let RT=1;function em(e){var s,i,a;let t=sc.get(e.id);t||(t=RT++,sc.set(e.id,t),Xf.set(t,e.id));const r=e.reviews||[],n=r.length>0?r.reduce((o,c)=>o+c.rating,0)/r.length:0;return{id:t,title:e.title,description:e.description,image:e.image,prepTime:e.prep_time,difficulty:e.difficulty,rating:Number(n.toFixed(1)),category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutritionFacts:{calories:Number(e.nutrition_facts.calories),protein:Number(e.nutrition_facts.protein),carbs:Number(e.nutrition_facts.carbs),fat:Number(e.nutrition_facts.fat),fiber:Number(e.nutrition_facts.fiber)},reviews:r.map(o=>({id:o.id,userId:o.user_id,userName:o.profiles.full_name,rating:o.rating,comment:o.comment||"",date:new Date(o.created_at).toISOString().split("T")[0]})),authorId:e.author_id,authorName:(s=e.profiles)==null?void 0:s.full_name,authorType:(i=e.profiles)==null?void 0:i.user_type,authorAvatarUrl:((a=e.profiles)==null?void 0:a.avatar_url)||null,createdAt:e.created_at,updatedAt:e.updated_at}}function ho(e){return Xf.get(e)||null}async function Bu(e){console.log("Getting user profile for ID:",e);const{data:t,error:r}=await $.from("profiles").select("*").eq("id",e).single();if(r)throw console.error("Error getting user profile:",r),r;return console.log("User profile retrieved:",t),t}async function AT(e){console.log("Creating recipe:",e);const{data:t,error:r}=await $.from("recipes").insert([{title:e.title,description:e.description,image:e.image,prep_time:e.prepTime,difficulty:e.difficulty,category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutrition_facts:{calories:Number(e.nutritionFacts.calories),protein:Number(e.nutritionFacts.protein),carbs:Number(e.nutritionFacts.carbs),fat:Number(e.nutritionFacts.fat),fiber:Number(e.nutritionFacts.fiber)},author_id:e.authorId}]).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type, avatar_url),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(r)throw console.error("Error creating recipe:",r),r;return console.log("Recipe created successfully:",t),em(t)}async function MT(e,t){const r=ho(e);if(!r)throw new Error("Receita no encontrada");const{data:n,error:s}=await $.from("recipes").update({title:t.title,description:t.description,image:t.image,prep_time:t.prepTime,difficulty:t.difficulty,category:t.category,ingredients:t.ingredients,instructions:t.instructions,nutrition_facts:t.nutritionFacts?{calories:Number(t.nutritionFacts.calories),protein:Number(t.nutritionFacts.protein),carbs:Number(t.nutritionFacts.carbs),fat:Number(t.nutritionFacts.fat),fiber:Number(t.nutritionFacts.fiber)}:void 0}).eq("id",r).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type, avatar_url),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(s)throw s;return em(n)}async function DT(e){const t=ho(e);if(!t)throw new Error("Receita no encontrada");const{error:r}=await $.from("recipes").delete().eq("id",t);if(r)throw r;sc.delete(t),Xf.delete(e)}async function IT(){console.log("Fetching recipes from Supabase...");const{data:e,error:t}=await $.from("recipes").select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type, avatar_url),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),t;if(console.log("Raw recipes from database:",(e==null?void 0:e.length)||0),!e||e.length===0)return console.log("No recipes found in database"),[];const r=e.map(em);return console.log("Converted recipes:",r.length),r}async function LT(e,t){const r=ho(e);if(!r)throw new Error("Receita no encontrada");console.log("Adding review to recipe:",{recipeId:e,uuid:r,review:t});const{data:n,error:s}=await $.from("reviews").insert([{recipe_id:r,user_id:t.user_id,rating:t.rating,comment:t.comment}]).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(s)throw console.error("Error adding review:",s),s;return console.log("Review added successfully:",n),n}async function OT(e,t){console.log("Updating review:",{reviewId:e,updates:t});const{data:r,error:n}=await $.from("reviews").update({rating:t.rating,comment:t.comment}).eq("id",e).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(n)throw console.error("Error updating review:",n),n;return console.log("Review updated successfully:",r),r}async function FT(e){console.log("Deleting review:",e);const{error:t}=await $.from("reviews").delete().eq("id",e);if(t)throw console.error("Error deleting review:",t),t;console.log("Review deleted successfully")}async function zT(e,t){const r=ho(t);if(!r)throw new Error("Receita no encontrada");const{error:n}=await $.from("favorites").insert([{user_id:e,recipe_id:r}]);if(n)throw console.error("Error adding to favorites:",n),n}async function $T(e,t){const r=ho(t);if(!r)throw new Error("Receita no encontrada");const{error:n}=await $.from("favorites").delete().eq("user_id",e).eq("recipe_id",r);if(n)throw console.error("Error removing from favorites:",n),n}async function UT(e){console.log("Fetching favorites for user:",e);const{data:t,error:r}=await $.from("favorites").select("recipe_id").eq("user_id",e);if(r)throw console.error("Error fetching favorites:",r),r;console.log("Raw favorites data:",t);const n=[];return t==null||t.forEach(s=>{const i=sc.get(s.recipe_id);i&&n.push(i)}),console.log("Converted favorite IDs:",n),n}async function VT(e){try{console.log("Checking if email exists:",e);const{data:t,error:r}=await $.from("profiles").select("email").eq("email",e.toLowerCase().trim()).single();return r?r.code==="PGRST116"?(console.log("Email not found in profiles table"),!1):(console.error("Error checking email:",r),!1):(console.log("Email found in profiles table:",!!t),!!t)}catch(t){return console.error("Error checking email existence:",t),!1}}async function BT(e){console.log("Sending password reset email to:",e);const{error:t}=await $.auth.resetPasswordForEmail(e.toLowerCase().trim(),{redirectTo:`${window.location.origin}/reset-password`});if(t)throw console.error("Error sending password reset email:",t),t.message.includes("Email rate limit exceeded")?new Error("Muitas tentativas de recuperao. Aguarde alguns minutos antes de tentar novamente."):t.message.includes("For security purposes")?new Error("Por motivos de segurana, aguarde alguns minutos antes de solicitar outro email."):t.message.includes("Invalid email")?new Error("Email invlido. Verifique o formato do email."):t.message.includes("User not found")?new Error("Email no encontrado. Verifique se o email est correto ou crie uma conta."):new Error("Erro ao enviar email de recuperao. Tente novamente em alguns minutos.");console.log("Password reset email sent successfully")}async function HT(e){console.log("Updating user password");const{error:t}=await $.auth.updateUser({password:e});if(t)throw console.error("Error updating password:",t),t.message.includes("session_not_found")?new Error("Sesso expirada. Solicite um novo link de recuperao."):t.message.includes("same_password")?new Error("A nova senha deve ser diferente da senha atual."):t.message.includes("Password should be at least")?new Error("A senha deve ter pelo menos 6 caracteres."):new Error("Erro ao atualizar senha. Tente novamente.");console.log("Password updated successfully")}async function GT(){try{const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),r=e.get("type");if(!t||r!=="recovery")return{valid:!1};const{data:{user:n},error:s}=await $.auth.getUser(t);if(s||!n)return console.error("Invalid recovery token:",s),{valid:!1};const{error:i}=await $.auth.setSession({access_token:t,refresh_token:e.get("refresh_token")||""});return i?(console.error("Error setting session:",i),{valid:!1}):{valid:!0,user:n}}catch(e){return console.error("Error validating recovery token:",e),{valid:!1}}}const te=Br(e=>({message:null,type:"info",showToast:(t,r)=>e({message:t,type:r}),hideToast:()=>e({message:null})})),Ve=Br()(lo((e,t)=>({user:null,token:null,isAuthenticated:!1,error:null,loading:!1,initializeAuth:async()=>{var r,n;try{const{data:s}=await $.auth.getSession(),i=s.session;if(!(i!=null&&i.user)){e({user:null,token:null,isAuthenticated:!1});return}const a=i.user,o=await Bu(a.id).catch(()=>null),c={id:a.id,email:a.email??"",name:((r=a.user_metadata)==null?void 0:r.full_name)||(o==null?void 0:o.full_name)||"",type:(((n=a.user_metadata)==null?void 0:n.user_type)||(o==null?void 0:o.user_type))??"Client",avatar_url:(o==null?void 0:o.avatar_url)||null,profile:void 0};e({user:c,token:i.access_token,isAuthenticated:!0})}catch(s){console.error("initializeAuth error:",s),e({user:null,token:null,isAuthenticated:!1})}},signIn:async(r,n)=>{var s,i;e({loading:!0,error:null});try{const{data:a,error:o}=await $.auth.signInWithPassword({email:r,password:n});if(o){let f="Erro ao fazer login";o.message.includes("Invalid login credentials")&&(f="Email ou senha incorretos."),o.message.includes("Email not confirmed")&&(f="Email no confirmado. Verifique sua caixa de entrada."),o.message.includes("Too many requests")&&(f="Muitas tentativas. Tente mais tarde."),te.getState().showToast(f,"error"),e({error:f,loading:!1});return}const c=a.user,u=a.session??(await $.auth.getSession()).data.session,d=await Bu(c.id).catch(()=>null),h={id:c.id,email:c.email??"",name:((s=c.user_metadata)==null?void 0:s.full_name)||(d==null?void 0:d.full_name)||"",type:(((i=c.user_metadata)==null?void 0:i.user_type)||(d==null?void 0:d.user_type))??"Client",avatar_url:(d==null?void 0:d.avatar_url)||null,profile:void 0};e({user:h,token:(u==null?void 0:u.access_token)??null,isAuthenticated:!0,loading:!1}),te.getState().showToast("Login realizado com sucesso!","success")}catch(a){console.error("signIn error:",a),te.getState().showToast("Erro inesperado ao fazer login.","error"),e({error:"Erro inesperado",loading:!1})}},signUp:async(r,n,s,i)=>{var a,o;e({loading:!0,error:null});try{const{data:c,error:u}=await $.auth.signUp({email:r,password:n,options:{data:{full_name:s,user_type:i}}});if(u){let f="Erro ao criar conta";u.message.includes("User already registered")&&(f="Este e-mail j est cadastrado."),u.message.includes("Password should be at least")&&(f="A senha deve ter pelo menos 6 caracteres."),u.message.includes("Invalid email")&&(f="E-mail invlido."),te.getState().showToast(f,"error"),e({error:f,loading:!1});return}const d=c.user,h=c.session??(await $.auth.getSession()).data.session;if(d&&(h!=null&&h.access_token)){const f=await Bu(d.id).catch(()=>null),m={id:d.id,email:d.email??"",name:((a=d.user_metadata)==null?void 0:a.full_name)||(f==null?void 0:f.full_name)||"",type:(((o=d.user_metadata)==null?void 0:o.user_type)||(f==null?void 0:f.user_type))??"Client",avatar_url:(f==null?void 0:f.avatar_url)||null,profile:void 0};e({user:m,token:h.access_token,isAuthenticated:!0,loading:!1}),te.getState().showToast("Conta criada com sucesso!","success");return}te.getState().showToast("Conta criada com sucesso! Agora faa login.","success"),e({loading:!1})}catch(c){console.error("signUp error:",c),te.getState().showToast("Erro inesperado ao criar conta.","error"),e({error:"Erro inesperado",loading:!1})}},signOut:async()=>{try{await $.auth.signOut(),e({user:null,token:null,isAuthenticated:!1}),te.getState().showToast("Logout realizado!","info")}catch(r){console.error("signOut error:",r),te.getState().showToast("Logout realizado","info")}},updateProfile:async r=>{const n=t().user;n&&e({user:{...n,...r}})},clearError:()=>e({error:null}),isNutritionist:()=>{var r;return((r=t().user)==null?void 0:r.type)==="Nutritionist"}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));async function Pb(){const{data:e,error:t}=await $.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return e||[]}async function WT(e){const{data:t,error:r}=await $.from("user_subscriptions").select(`
      *,
      plan:subscription_plans(*)
    `).eq("user_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(r&&r.code!=="PGRST116")throw r;return t??null}async function KT(e){const{data:t,error:r}=await $.from("user_subscriptions").insert(e).select(`
      *,
      plan:subscription_plans(*)
    `).single();if(r)throw r;return t}async function qT({priceId:e,planId:t,successUrl:r,cancelUrl:n}){var u,d,h;let{data:{session:s},error:i}=await $.auth.getSession();if(i||!(s!=null&&s.access_token)){const f=await $.auth.refreshSession().catch(()=>null);s=((u=f==null?void 0:f.data)==null?void 0:u.session)??null}const a=s==null?void 0:s.access_token;if(!a)throw new Error("Voc precisa estar logado para assinar. Faa login e tente novamente.");const{data:o}=await $.functions.invoke("create-checkout-session",{body:{priceId:e,planId:t,successUrl:r,cancelUrl:n},headers:{Authorization:`Bearer ${a}`}});if(!o)throw new Error("Checkout failed: sem resposta do servidor");if(o.error){const f=(d=o.debug)!=null&&d.priceId?` (priceId: ${o.debug.priceId}${(h=o.debug)!=null&&h.message?`  ${o.debug.message}`:""})`:"";throw new Error(`Checkout failed: ${o.error}${f}`)}if(!o.url)throw new Error("Falha ao criar sesso de pagamento (sem URL)");const c=o.url;try{if(typeof window<"u"&&window.top&&window.top!==window){window.top.location.href=c;return}}catch{}try{window.location.assign(c)}catch{window.open(c,"_blank","noopener,noreferrer")}}const Wc=Br()(lo((e,t)=>({plans:[],userSubscription:null,loading:!1,error:null,fetchPlans:async()=>{e({loading:!0,error:null});try{const r=await Pb();e({plans:r,loading:!1})}catch(r){console.error("Error fetching plans:",r);const n=r instanceof Error?r.message:"Erro ao carregar planos";e({error:n,loading:!1}),te.getState().showToast("Erro ao carregar planos de assinatura","error")}},fetchUserSubscription:async r=>{try{const n=await WT(r);e({userSubscription:n})}catch(n){console.error("Error fetching user subscription:",n),e({userSubscription:null})}},hasFeatureAccess:r=>{const{userSubscription:n}=t();return!n||!n.plan?!1:n.plan.features.includes(r)},isPremium:()=>t().hasFeatureAccess("ai_mentoring"),createSubscription:async r=>{e({loading:!0,error:null});try{const n=await KT(r);e({userSubscription:n,loading:!1}),te.getState().showToast("Assinatura ativada com sucesso!","success")}catch(n){console.error("Error creating subscription:",n);const s=n instanceof Error?n.message:"Erro ao criar assinatura";throw e({error:s,loading:!1}),te.getState().showToast("Erro ao ativar assinatura","error"),n}},reset:()=>e({plans:[],userSubscription:null,loading:!1,error:null})}),{name:"subscription-storage",partialize:e=>({userSubscription:e.userSubscription})})),tm=Br(e=>({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:"",setCategory:t=>e({category:t}),setSearchQuery:t=>e({searchQuery:t}),setDifficulty:t=>e({difficulty:t}),setPrepTimeRange:t=>e({prepTimeRange:t}),setMinRating:t=>e({minRating:t}),setSortBy:t=>e({sortBy:t}),resetFilters:()=>e({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:""})})),rm=b.createContext({});function nm(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kc=b.createContext(null),sm=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class YT extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function JT({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=b.useContext(sm);return b.useInsertionEffect(()=>{const{width:a,height:o,top:c,left:u}=s.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),l.jsx(YT,{isPresent:t,childRef:n,sizeRef:s,children:b.cloneElement(e,{ref:n})})}const ZT=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=nm(QT),c=b.useId(),u=b.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;n&&n()},[o,n]),d=b.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),i?[Math.random(),u]:[r,u]);return b.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[r]),b.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(e=l.jsx(JT,{isPresent:r,children:e})),l.jsx(Kc.Provider,{value:d,children:e})};function QT(){return new Map}function Tb(e=!0){const t=b.useContext(Kc);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=b.useId();b.useEffect(()=>{e&&s(i)},[e]);const a=b.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const Jo=e=>e.key||"";function Qg(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const im=typeof window<"u",Rb=im?b.useLayoutEffect:b.useEffect,Si=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,c]=Tb(a),u=b.useMemo(()=>Qg(e),[e]),d=a&&!o?[]:u.map(Jo),h=b.useRef(!0),f=b.useRef(u),m=nm(()=>new Map),[y,v]=b.useState(u),[x,p]=b.useState(u);Rb(()=>{h.current=!1,f.current=u;for(let j=0;j<x.length;j++){const _=Jo(x[j]);d.includes(_)?m.delete(_):m.get(_)!==!0&&m.set(_,!1)}},[x,d.length,d.join("-")]);const g=[];if(u!==y){let j=[...u];for(let _=0;_<x.length;_++){const E=x[_],k=Jo(E);d.includes(k)||(j.splice(_,0,E),g.push(E))}i==="wait"&&g.length&&(j=g),p(Qg(j)),v(u);return}const{forceRender:w}=b.useContext(rm);return l.jsx(l.Fragment,{children:x.map(j=>{const _=Jo(j),E=a&&!o?!1:u===x||d.includes(_),k=()=>{if(m.has(_))m.set(_,!0);else return;let P=!0;m.forEach(C=>{C||(P=!1)}),P&&(w==null||w(),p(f.current),a&&(c==null||c()),n&&n())};return l.jsx(ZT,{isPresent:E,initial:!h.current||r?void 0:!1,custom:E?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:k,children:j},_)})})},At=e=>e;let dh=At;function am(e){let t;return()=>(t===void 0&&(t=e()),t)}const mi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Dr=e=>e*1e3,Ir=e=>e/1e3,XT={skipAnimations:!1,useManualTiming:!1};function eR(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){i.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&n?t:r;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(a=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,s&&(s=!1,c.process(u))}};return c}const Zo=["read","resolveKeyframes","update","preRender","render","postRender"],tR=40;function Ab(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=Zo.reduce((p,g)=>(p[g]=eR(i),p),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,m=()=>{const p=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(p-s.timestamp,tR),1),s.timestamp=p,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},y=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:Zo.reduce((p,g)=>{const w=a[g];return p[g]=(j,_=!1,E=!1)=>(r||y(),w.schedule(j,_,E)),p},{}),cancel:p=>{for(let g=0;g<Zo.length;g++)a[Zo[g]].cancel(p)},state:s,steps:a}}const{schedule:Ce,cancel:jn,state:Xe,steps:Hu}=Ab(typeof requestAnimationFrame<"u"?requestAnimationFrame:At,!0),Mb=b.createContext({strict:!1}),Xg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pi={};for(const e in Xg)pi[e]={isEnabled:t=>Xg[e].some(r=>!!t[r])};function rR(e){for(const t in e)pi[t]={...pi[t],...e[t]}}const nR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ic(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nR.has(e)}let Db=e=>!ic(e);function sR(e){e&&(Db=t=>t.startsWith("on")?!ic(t):e(t))}try{sR(require("@emotion/is-prop-valid").default)}catch{}function iR(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Db(s)||r===!0&&ic(s)||!t&&!ic(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function aR(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const qc=b.createContext({});function Wa(e){return typeof e=="string"||Array.isArray(e)}function Yc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const om=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lm=["initial",...om];function Jc(e){return Yc(e.animate)||lm.some(t=>Wa(e[t]))}function Ib(e){return!!(Jc(e)||e.variants)}function oR(e,t){if(Jc(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Wa(r)?r:void 0,animate:Wa(n)?n:void 0}}return e.inherit!==!1?t:{}}function lR(e){const{initial:t,animate:r}=oR(e,b.useContext(qc));return b.useMemo(()=>({initial:t,animate:r}),[e0(t),e0(r)])}function e0(e){return Array.isArray(e)?e.join(" "):e}const cR=Symbol.for("motionComponentSymbol");function Vs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function uR(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Vs(r)&&(r.current=n))},[t])}const cm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dR="framerAppearId",Lb="data-"+cm(dR),{schedule:um,cancel:hI}=Ab(queueMicrotask,!1),Ob=b.createContext({});function hR(e,t,r,n,s){var i,a;const{visualElement:o}=b.useContext(qc),c=b.useContext(Mb),u=b.useContext(Kc),d=b.useContext(sm).reducedMotion,h=b.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=b.useContext(Ob);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&fR(h.current,r,s,m);const y=b.useRef(!1);b.useInsertionEffect(()=>{f&&y.current&&f.update(r,u)});const v=r[Lb],x=b.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return Rb(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),um.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,v)}),x.current=!1))}),f}function fR(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Fb(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Vs(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function Fb(e){if(e)return e.options.allowProjection!==!1?e.projection:Fb(e.parent)}function mR({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,a;e&&rR(e);function o(u,d){let h;const f={...b.useContext(sm),...u,layoutId:pR(u)},{isStatic:m}=f,y=lR(u),v=n(u,m);if(!m&&im){gR();const x=yR(f);h=x.MeasureLayout,y.visualElement=hR(s,v,f,t,x.ProjectionNode)}return l.jsxs(qc.Provider,{value:y,children:[h&&y.visualElement?l.jsx(h,{visualElement:y.visualElement,...f}):null,r(s,u,uR(v,y.visualElement,d),v,m,y.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=b.forwardRef(o);return c[cR]=s,c}function pR({layoutId:e}){const t=b.useContext(rm).id;return t&&e!==void 0?t+"-"+e:e}function gR(e,t){b.useContext(Mb).strict}function yR(e){const{drag:t,layout:r}=pi;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const vR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dm(e){return typeof e!="string"||e.includes("-")?!1:!!(vR.indexOf(e)>-1||/[A-Z]/u.test(e))}function t0(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function hm(e,t,r,n){if(typeof t=="function"){const[s,i]=t0(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=t0(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const hh=e=>Array.isArray(e),xR=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),wR=e=>hh(e)?e[e.length-1]||0:e,lt=e=>!!(e&&e.getVelocity);function wl(e){const t=lt(e)?e.get():e;return xR(t)?t.toValue():t}function bR({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const a={latestValues:kR(n,s,i,e),renderState:t()};return r&&(a.onMount=o=>r({props:n,current:o,...a}),a.onUpdate=o=>r(o)),a}const zb=e=>(t,r)=>{const n=b.useContext(qc),s=b.useContext(Kc),i=()=>bR(e,t,n,s);return r?i():nm(i)};function kR(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=wl(i[f]);let{initial:a,animate:o}=e;const c=Jc(e),u=Ib(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Yc(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=hm(e,f[m]);if(y){const{transitionEnd:v,transition:x,...p}=y;for(const g in p){let w=p[g];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(s[g]=w)}for(const g in v)s[g]=v[g]}}}return s}const Ni=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ps=new Set(Ni),$b=e=>t=>typeof t=="string"&&t.startsWith(e),Ub=$b("--"),jR=$b("var(--"),fm=e=>jR(e)?_R.test(e.split("/*")[0].trim()):!1,_R=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vb=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ur=(e,t,r)=>r>t?t:r<e?e:r,Ci={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ka={...Ci,transform:e=>Ur(0,1,e)},Qo={...Ci,default:1},fo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zr=fo("deg"),vr=fo("%"),Z=fo("px"),SR=fo("vh"),NR=fo("vw"),r0={...vr,parse:e=>vr.parse(e)/100,transform:e=>vr.transform(e*100)},CR={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z},ER={rotate:Zr,rotateX:Zr,rotateY:Zr,rotateZ:Zr,scale:Qo,scaleX:Qo,scaleY:Qo,scaleZ:Qo,skew:Zr,skewX:Zr,skewY:Zr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Ka,originX:r0,originY:r0,originZ:Z},n0={...Ci,transform:Math.round},mm={...CR,...ER,zIndex:n0,size:Z,fillOpacity:Ka,strokeOpacity:Ka,numOctaves:n0},PR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TR=Ni.length;function RR(e,t,r){let n="",s=!0;for(let i=0;i<TR;i++){const a=Ni[i],o=e[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const u=Vb(o,mm[a]);if(!c){s=!1;const d=PR[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function pm(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const c in t){const u=t[c];if(ps.has(c)){a=!0;continue}else if(Ub(c)){s[c]=u;continue}else{const d=Vb(u,mm[c]);c.startsWith("origin")?(o=!0,i[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=RR(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const AR={offset:"stroke-dashoffset",array:"stroke-dasharray"},MR={offset:"strokeDashoffset",array:"strokeDasharray"};function DR(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?AR:MR;e[i.offset]=Z.transform(-n);const a=Z.transform(t),o=Z.transform(r);e[i.array]=`${a} ${o}`}function s0(e,t,r){return typeof e=="string"?e:Z.transform(t+r*e)}function IR(e,t,r){const n=s0(t,e.x,e.width),s=s0(r,e.y,e.height);return`${n} ${s}`}function gm(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if(pm(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:y}=e;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=IR(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&DR(f,a,o,c,!1)}const ym=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Bb=()=>({...ym(),attrs:{}}),vm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Hb(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const Gb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wb(e,t,r,n){Hb(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(Gb.has(s)?s:cm(s),t.attrs[s])}const ac={};function LR(e){Object.assign(ac,e)}function Kb(e,{layout:t,layoutId:r}){return ps.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ac[e]||e==="opacity")}function xm(e,t,r){var n;const{style:s}=e,i={};for(const a in s)(lt(s[a])||t.style&&lt(t.style[a])||Kb(a,e)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function qb(e,t,r){const n=xm(e,t,r);for(const s in e)if(lt(e[s])||lt(t[s])){const i=Ni.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function OR(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const i0=["x","y","width","height","cx","cy","r"],FR={useVisualState:zb({scrapeMotionValuesFromProps:qb,createRenderState:Bb,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const o in s)if(ps.has(o)){i=!0;break}}if(!i)return;let a=!t;if(t)for(let o=0;o<i0.length;o++){const c=i0[o];e[c]!==t[c]&&(a=!0)}a&&Ce.read(()=>{OR(r,n),Ce.render(()=>{gm(n,s,vm(r.tagName),e.transformTemplate),Wb(r,n)})})}})},zR={useVisualState:zb({scrapeMotionValuesFromProps:xm,createRenderState:ym})};function Yb(e,t,r){for(const n in t)!lt(t[n])&&!Kb(n,r)&&(e[n]=t[n])}function $R({transformTemplate:e},t){return b.useMemo(()=>{const r=ym();return pm(r,t,e),Object.assign({},r.vars,r.style)},[t])}function UR(e,t){const r=e.style||{},n={};return Yb(n,r,e),Object.assign(n,$R(e,t)),n}function VR(e,t){const r={},n=UR(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function BR(e,t,r,n){const s=b.useMemo(()=>{const i=Bb();return gm(i,t,vm(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Yb(i,e.style,e),s.style={...i,...s.style}}return s}function HR(e=!1){return(r,n,s,{latestValues:i},a)=>{const c=(dm(r)?BR:VR)(n,i,a,r),u=iR(n,typeof r=="string",e),d=r!==b.Fragment?{...u,...c,ref:s}:{},{children:h}=n,f=b.useMemo(()=>lt(h)?h.get():h,[h]);return b.createElement(r,{...d,children:f})}}function GR(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...dm(n)?FR:zR,preloadedFeatures:e,useRender:HR(s),createVisualElement:t,Component:n};return mR(a)}}function Jb(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Zc(e,t,r){const n=e.getProps();return hm(n,t,r!==void 0?r:n.custom,e)}const WR=am(()=>window.ScrollTimeline!==void 0);class KR{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(WR()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class qR extends KR{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function wm(e,t){return e?e[t]||e.default||e:void 0}const fh=2e4;function Zb(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<fh;)t+=r,n=e.next(t);return t>=fh?1/0:t}function bm(e){return typeof e=="function"}function a0(e,t){e.timeline=t,e.onfinish=null}const km=e=>Array.isArray(e)&&typeof e[0]=="number",YR={linearEasing:void 0};function JR(e,t){const r=am(e);return()=>{var n;return(n=YR[t])!==null&&n!==void 0?n:r()}}const oc=JR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qb=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(mi(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Xb(e){return!!(typeof e=="function"&&oc()||!e||typeof e=="string"&&(e in mh||oc())||km(e)||Array.isArray(e)&&e.every(Xb))}const ra=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,mh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ra([0,.65,.55,1]),circOut:ra([.55,0,1,.45]),backIn:ra([.31,.01,.66,-.59]),backOut:ra([.33,1.53,.69,.99])};function e1(e,t){if(e)return typeof e=="function"&&oc()?Qb(e,t):km(e)?ra(e):Array.isArray(e)?e.map(r=>e1(r,t)||mh.easeOut):mh[e]}const Zt={x:!1,y:!1};function t1(){return Zt.x||Zt.y}function ZR(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function r1(e,t){const r=ZR(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function o0(e){return t=>{t.pointerType==="touch"||t1()||e(t)}}function QR(e,t,r={}){const[n,s,i]=r1(e,r),a=o0(o=>{const{target:c}=o,u=t(o);if(typeof u!="function"||!c)return;const d=o0(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return n.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const n1=(e,t)=>t?e===t?!0:n1(e,t.parentElement):!1,jm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,XR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e4(e){return XR.has(e.tagName)||e.tabIndex!==-1}const na=new WeakSet;function l0(e){return t=>{t.key==="Enter"&&e(t)}}function Gu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const t4=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=l0(()=>{if(na.has(r))return;Gu(r,"down");const s=l0(()=>{Gu(r,"up")}),i=()=>Gu(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function c0(e){return jm(e)&&!t1()}function r4(e,t,r={}){const[n,s,i]=r1(e,r),a=o=>{const c=o.currentTarget;if(!c0(o)||na.has(c))return;na.add(c);const u=t(o),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!c0(m)||!na.has(c))&&(na.delete(c),typeof u=="function"&&u(m,{success:y}))},h=m=>{d(m,r.useGlobalTarget||n1(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(o=>{!e4(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",u=>t4(u,s),s)}),i}function n4(e){return e==="x"||e==="y"?Zt[e]?null:(Zt[e]=!0,()=>{Zt[e]=!1}):Zt.x||Zt.y?null:(Zt.x=Zt.y=!0,()=>{Zt.x=Zt.y=!1})}const s1=new Set(["width","height","top","left","right","bottom",...Ni]);let bl;function s4(){bl=void 0}const xr={now:()=>(bl===void 0&&xr.set(Xe.isProcessing||XT.useManualTiming?Xe.timestamp:performance.now()),bl),set:e=>{bl=e,queueMicrotask(s4)}};function _m(e,t){e.indexOf(t)===-1&&e.push(t)}function Sm(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Nm{constructor(){this.subscriptions=[]}add(t){return _m(this.subscriptions,t),()=>Sm(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function i1(e,t){return t?e*(1e3/t):0}const u0=30,i4=e=>!isNaN(parseFloat(e));class a4{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=xr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=xr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=i4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Nm);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>u0)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,u0);return i1(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qa(e,t){return new a4(e,t)}function o4(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,qa(r))}function l4(e,t){const r=Zc(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=wR(i[a]);o4(e,a,o)}}function c4(e){return!!(lt(e)&&e.add)}function ph(e,t){const r=e.getValue("willChange");if(c4(r))return r.add(t)}function a1(e){return e.props[Lb]}const o1=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,u4=1e-7,d4=12;function h4(e,t,r,n,s){let i,a,o=0;do a=t+(r-t)/2,i=o1(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>u4&&++o<d4);return a}function mo(e,t,r,n){if(e===t&&r===n)return At;const s=i=>h4(i,0,1,e,r);return i=>i===0||i===1?i:o1(s(i),t,n)}const l1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,c1=e=>t=>1-e(1-t),u1=mo(.33,1.53,.69,.99),Cm=c1(u1),d1=l1(Cm),h1=e=>(e*=2)<1?.5*Cm(e):.5*(2-Math.pow(2,-10*(e-1))),Em=e=>1-Math.sin(Math.acos(e)),f1=c1(Em),m1=l1(Em),p1=e=>/^0[^.\s]+$/u.test(e);function f4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||p1(e):!0}const ya=e=>Math.round(e*1e5)/1e5,Pm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function m4(e){return e==null}const p4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tm=(e,t)=>r=>!!(typeof r=="string"&&p4.test(r)&&r.startsWith(e)||t&&!m4(r)&&Object.prototype.hasOwnProperty.call(r,t)),g1=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(Pm);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},g4=e=>Ur(0,255,e),Wu={...Ci,transform:e=>Math.round(g4(e))},Qn={test:Tm("rgb","red"),parse:g1("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Wu.transform(e)+", "+Wu.transform(t)+", "+Wu.transform(r)+", "+ya(Ka.transform(n))+")"};function y4(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const gh={test:Tm("#"),parse:y4,transform:Qn.transform},Bs={test:Tm("hsl","hue"),parse:g1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+vr.transform(ya(t))+", "+vr.transform(ya(r))+", "+ya(Ka.transform(n))+")"},it={test:e=>Qn.test(e)||gh.test(e)||Bs.test(e),parse:e=>Qn.test(e)?Qn.parse(e):Bs.test(e)?Bs.parse(e):gh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Qn.transform(e):Bs.transform(e)},v4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function x4(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Pm))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(v4))===null||r===void 0?void 0:r.length)||0)>0}const y1="number",v1="color",w4="var",b4="var(",d0="${}",k4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ya(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(k4,c=>(it.test(c)?(n.color.push(i),s.push(v1),r.push(it.parse(c))):c.startsWith(b4)?(n.var.push(i),s.push(w4),r.push(c)):(n.number.push(i),s.push(y1),r.push(parseFloat(c))),++i,d0)).split(d0);return{values:r,split:o,indexes:n,types:s}}function x1(e){return Ya(e).values}function w1(e){const{split:t,types:r}=Ya(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const o=r[a];o===y1?i+=ya(s[a]):o===v1?i+=it.transform(s[a]):i+=s[a]}return i}}const j4=e=>typeof e=="number"?0:e;function _4(e){const t=x1(e);return w1(e)(t.map(j4))}const _n={test:x4,parse:x1,createTransformer:w1,getAnimatableNone:_4},S4=new Set(["brightness","contrast","saturate","opacity"]);function N4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Pm)||[];if(!n)return e;const s=r.replace(n,"");let i=S4.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const C4=/\b([a-z-]*)\(.*?\)/gu,yh={..._n,getAnimatableNone:e=>{const t=e.match(C4);return t?t.map(N4).join(" "):e}},E4={...mm,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:yh,WebkitFilter:yh},Rm=e=>E4[e];function b1(e,t){let r=Rm(e);return r!==yh&&(r=_n),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const P4=new Set(["auto","none","0"]);function T4(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!P4.has(i)&&Ya(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=b1(r,s)}const h0=e=>e===Ci||e===Z,f0=(e,t)=>parseFloat(e.split(", ")[t]),m0=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return f0(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?f0(i[1],e):0}},R4=new Set(["x","y","z"]),A4=Ni.filter(e=>!R4.has(e));function M4(e){const t=[];return A4.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const gi={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:m0(4,13),y:m0(5,14)};gi.translateX=gi.x;gi.translateY=gi.y;const rs=new Set;let vh=!1,xh=!1;function k1(){if(xh){const e=Array.from(rs).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=M4(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}xh=!1,vh=!1,rs.forEach(e=>e.complete()),rs.clear()}function j1(){rs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xh=!0)})}function D4(){j1(),k1()}class Am{constructor(t,r,n,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rs.add(this),vh||(vh=!0,Ce.read(j1),Ce.resolveKeyframes(k1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const c=n.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),I4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L4(e){const t=I4.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function S1(e,t,r=1){const[n,s]=L4(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return _1(a)?parseFloat(a):a}return fm(s)?S1(s,t,r+1):s}const N1=e=>t=>t.test(e),O4={test:e=>e==="auto",parse:e=>e},C1=[Ci,Z,vr,Zr,NR,SR,O4],p0=e=>C1.find(N1(e));class E1 extends Am{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),fm(u))){const d=S1(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!s1.has(n)||t.length!==2)return;const[s,i]=t,a=p0(s),o=p0(i);if(a!==o)if(h0(a)&&h0(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)f4(t[s])&&n.push(s);n.length&&T4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=gi[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const g0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_n.test(e)||e==="0")&&!e.startsWith("url("));function F4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function z4(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=g0(s,t),o=g0(i,t);return!a||!o?!1:F4(e)||(r==="spring"||bm(r))&&n}const $4=e=>e!==null;function Qc(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter($4),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const U4=40;class P1{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=xr.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>U4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&D4(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=xr.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:a,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!z4(t,n,s,i))if(a)this.options.duration=0;else{c&&c(Qc(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Re=(e,t,r)=>e+(t-e)*r;function Ku(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function V4({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;s=Ku(c,o,e+1/3),i=Ku(c,o,e),a=Ku(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function lc(e,t){return r=>r>0?t:e}const qu=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},B4=[gh,Qn,Bs],H4=e=>B4.find(t=>t.test(e));function y0(e){const t=H4(e);if(!t)return!1;let r=t.parse(e);return t===Bs&&(r=V4(r)),r}const v0=(e,t)=>{const r=y0(e),n=y0(t);if(!r||!n)return lc(e,t);const s={...r};return i=>(s.red=qu(r.red,n.red,i),s.green=qu(r.green,n.green,i),s.blue=qu(r.blue,n.blue,i),s.alpha=Re(r.alpha,n.alpha,i),Qn.transform(s))},G4=(e,t)=>r=>t(e(r)),po=(...e)=>e.reduce(G4),wh=new Set(["none","hidden"]);function W4(e,t){return wh.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function K4(e,t){return r=>Re(e,t,r)}function Mm(e){return typeof e=="number"?K4:typeof e=="string"?fm(e)?lc:it.test(e)?v0:J4:Array.isArray(e)?T1:typeof e=="object"?it.test(e)?v0:q4:lc}function T1(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>Mm(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function q4(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Mm(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function Y4(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],c=(r=e.values[o])!==null&&r!==void 0?r:0;n[i]=c,s[a]++}return n}const J4=(e,t)=>{const r=_n.createTransformer(t),n=Ya(e),s=Ya(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?wh.has(e)&&!s.values.length||wh.has(t)&&!n.values.length?W4(e,t):po(T1(Y4(n,s),s.values),r):lc(e,t)};function R1(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Re(e,t,r):Mm(e)(e,t)}const Z4=5;function A1(e,t,r){const n=Math.max(t-Z4,0);return i1(r-e(n),t-n)}const Ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yu=.001;function Q4({duration:e=Ie.duration,bounce:t=Ie.bounce,velocity:r=Ie.velocity,mass:n=Ie.mass}){let s,i,a=1-t;a=Ur(Ie.minDamping,Ie.maxDamping,a),e=Ur(Ie.minDuration,Ie.maxDuration,Ir(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-r,m=bh(u,a),y=Math.exp(-h);return Yu-f/m*y},i=u=>{const h=u*a*e,f=h*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,y=Math.exp(-h),v=bh(Math.pow(u,2),a);return(-s(u)+Yu>0?-1:1)*((f-m)*y)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-Yu+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const o=5/e,c=eA(s,i,o);if(e=Dr(e),isNaN(c))return{stiffness:Ie.stiffness,damping:Ie.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const X4=12;function eA(e,t,r){let n=r;for(let s=1;s<X4;s++)n=n-e(n)/t(n);return n}function bh(e,t){return e*Math.sqrt(1-t*t)}const tA=["duration","bounce"],rA=["stiffness","damping","mass"];function x0(e,t){return t.some(r=>e[r]!==void 0)}function nA(e){let t={velocity:Ie.velocity,stiffness:Ie.stiffness,damping:Ie.damping,mass:Ie.mass,isResolvedFromDuration:!1,...e};if(!x0(e,rA)&&x0(e,tA))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Ur(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ie.mass,stiffness:s,damping:i}}else{const r=Q4(e);t={...t,...r,mass:Ie.mass},t.isResolvedFromDuration=!0}return t}function M1(e=Ie.visualDuration,t=Ie.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=nA({...r,velocity:-Ir(r.velocity||0)}),y=f||0,v=u/(2*Math.sqrt(c*d)),x=a-i,p=Ir(Math.sqrt(c/d)),g=Math.abs(x)<5;n||(n=g?Ie.restSpeed.granular:Ie.restSpeed.default),s||(s=g?Ie.restDelta.granular:Ie.restDelta.default);let w;if(v<1){const _=bh(p,v);w=E=>{const k=Math.exp(-v*p*E);return a-k*((y+v*p*x)/_*Math.sin(_*E)+x*Math.cos(_*E))}}else if(v===1)w=_=>a-Math.exp(-p*_)*(x+(y+p*x)*_);else{const _=p*Math.sqrt(v*v-1);w=E=>{const k=Math.exp(-v*p*E),P=Math.min(_*E,300);return a-k*((y+v*p*x)*Math.sinh(P)+_*x*Math.cosh(P))/_}}const j={calculatedDuration:m&&h||null,next:_=>{const E=w(_);if(m)o.done=_>=h;else{let k=0;v<1&&(k=_===0?Dr(y):A1(w,_,E));const P=Math.abs(k)<=n,C=Math.abs(a-E)<=s;o.done=P&&C}return o.value=o.done?a:E,o},toString:()=>{const _=Math.min(Zb(j),fh),E=Qb(k=>j.next(_*k).value,_,30);return _+"ms "+E}};return j}function w0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=P=>o!==void 0&&P<o||c!==void 0&&P>c,y=P=>o===void 0?c:c===void 0||Math.abs(o-P)<Math.abs(c-P)?o:c;let v=r*t;const x=h+v,p=a===void 0?x:a(x);p!==x&&(v=p-h);const g=P=>-v*Math.exp(-P/n),w=P=>p+g(P),j=P=>{const C=g(P),R=w(P);f.done=Math.abs(C)<=u,f.value=f.done?p:R};let _,E;const k=P=>{m(f.value)&&(_=P,E=M1({keyframes:[f.value,y(f.value)],velocity:A1(w,P,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:P=>{let C=!1;return!E&&_===void 0&&(C=!0,j(P),k(P)),_!==void 0&&P>=_?E.next(P-_):(!C&&j(P),f)}}}const sA=mo(.42,0,1,1),iA=mo(0,0,.58,1),D1=mo(.42,0,.58,1),aA=e=>Array.isArray(e)&&typeof e[0]!="number",b0={linear:At,easeIn:sA,easeInOut:D1,easeOut:iA,circIn:Em,circInOut:m1,circOut:f1,backIn:Cm,backInOut:d1,backOut:u1,anticipate:h1},k0=e=>{if(km(e)){dh(e.length===4);const[t,r,n,s]=e;return mo(t,r,n,s)}else if(typeof e=="string")return dh(b0[e]!==void 0),b0[e];return e};function oA(e,t,r){const n=[],s=r||R1,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||At:t;o=po(c,o)}n.push(o)}return n}function lA(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(dh(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=oA(t,n,s),c=o.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=mi(e[h],e[h+1],d);return o[h](f)};return r?d=>u(Ur(e[0],e[i-1],d)):u}function cA(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=mi(0,t,n);e.push(Re(r,1,s))}}function uA(e){const t=[0];return cA(t,e.length-1),t}function dA(e,t){return e.map(r=>r*t)}function hA(e,t){return e.map(()=>t||D1).splice(0,e.length-1)}function cc({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=aA(n)?n.map(k0):k0(n),i={done:!1,value:t[0]},a=dA(r&&r.length===t.length?r:uA(t),e),o=lA(a,t,{ease:Array.isArray(s)?s:hA(t,s)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const fA=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ce.update(t,!0),stop:()=>jn(t),now:()=>Xe.isProcessing?Xe.timestamp:xr.now()}},mA={decay:w0,inertia:w0,tween:cc,keyframes:cc,spring:M1},pA=e=>e/100;class Dm extends P1{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Am,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,o,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=bm(r)?r:mA[r]||cc;let c,u;o!==cc&&typeof t[0]!="number"&&(c=po(pA,R1(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});i==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Zb(d));const{calculatedDuration:h}=d,f=h+s,m=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const p=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?p<0:p>d;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,j=i;if(m){const P=Math.min(this.currentTime,d)/h;let C=Math.floor(P),R=P%1;!R&&P>=1&&(R=1),R===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(y==="reverse"?(R=1-R,v&&(R-=v/h)):y==="mirror"&&(j=a)),w=Ur(0,1,R)*h}const _=g?{done:!1,value:c[0]}:j.next(w);o&&(_.value=o(_.value));let{done:E}=_;!g&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&s!==void 0&&(_.value=Qc(c,this.options,s)),x&&x(_.value),k&&this.finish(),_}get duration(){const{resolved:t}=this;return t?Ir(t.calculatedDuration):0}get time(){return Ir(this.currentTime)}set time(t){t=Dr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ir(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=fA,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const gA=new Set(["opacity","clipPath","filter","transform"]);function yA(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=e1(o,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const vA=am(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uc=10,xA=2e4;function wA(e){return bm(e.type)||e.type==="spring"||!Xb(e.ease)}function bA(e,t){const r=new Dm({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<xA;)n=r.sample(i),s.push(n.value),i+=uc;return{times:void 0,keyframes:s,duration:i-uc,ease:"linear"}}const I1={anticipate:h1,backInOut:d1,circInOut:m1};function kA(e){return e in I1}class j0 extends P1{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new E1(i,(a,o)=>this.onKeyframesResolved(a,o),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:a,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&oc()&&kA(i)&&(i=I1[i]),wA(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:y,...v}=this.options,x=bA(t,v);t=x.keyframes,t.length===1&&(t[1]=t[0]),n=x.duration,s=x.times,i=x.ease,a="keyframes"}const d=yA(o.owner.current,c,t,{...this.options,duration:n,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(a0(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Qc(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Ir(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Ir(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Dr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return At;const{animation:n}=r;a0(n,t)}return At}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:a,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,y=new Dm({...m,keyframes:n,duration:s,type:i,ease:a,times:o,isGenerator:!0}),v=Dr(this.time);u.setWithVelocity(y.sample(v-uc).value,y.sample(v).value,uc)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return vA()&&n&&gA.has(n)&&!c&&!u&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const jA={type:"spring",stiffness:500,damping:25,restSpeed:10},_A=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),SA={type:"keyframes",duration:.8},NA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CA=(e,{keyframes:t})=>t.length>2?SA:ps.has(e)?e.startsWith("scale")?_A(t[1]):jA:NA;function EA({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Im=(e,t,r,n={},s,i)=>a=>{const o=wm(n,e)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Dr(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};EA(o)||(d={...d,...CA(e,d)}),d.duration&&(d.duration=Dr(d.duration)),d.repeatDelay&&(d.repeatDelay=Dr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Qc(d.keyframes,o);if(f!==void 0)return Ce.update(()=>{d.onUpdate(f),d.onComplete()}),new qR([])}return!i&&j0.supports(d)?new j0(d):new Dm(d)};function PA({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function L1(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;n&&(a=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),m=c[h];if(m===void 0||d&&PA(d,h))continue;const y={delay:r,...wm(a||{},h)};let v=!1;if(window.MotionHandoffAnimation){const p=a1(e);if(p){const g=window.MotionHandoffAnimation(p,h,Ce);g!==null&&(y.startTime=g,v=!0)}}ph(e,h),f.start(Im(h,f,m,e.shouldReduceMotion&&s1.has(h)?{type:!1}:y,e,v));const x=f.animation;x&&u.push(x)}return o&&Promise.all(u).then(()=>{Ce.update(()=>{o&&l4(e,o)})}),u}function kh(e,t,r={}){var n;const s=Zc(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(L1(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return TA(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function TA(e,t,r=0,n=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort(RA).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(kh(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function RA(e,t){return e.sortNodePosition(t)}function AA(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>kh(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=kh(e,t,r);else{const s=typeof t=="function"?Zc(e,t,r.custom):t;n=Promise.all(L1(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const MA=lm.length;function O1(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?O1(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<MA;r++){const n=lm[r],s=e.props[n];(Wa(s)||s===!1)&&(t[n]=s)}return t}const DA=[...om].reverse(),IA=om.length;function LA(e){return t=>Promise.all(t.map(({animation:r,options:n})=>AA(e,r,n)))}function OA(e){let t=LA(e),r=_0(),n=!0;const s=c=>(u,d)=>{var h;const f=Zc(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...v}=f;u={...u,...v,...y}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=O1(e.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let x=0;x<IA;x++){const p=DA[x],g=r[p],w=u[p]!==void 0?u[p]:d[p],j=Wa(w),_=p===c?g.isActive:null;_===!1&&(y=x);let E=w===d[p]&&w!==u[p]&&j;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...m},!g.isActive&&_===null||!w&&!g.prevProp||Yc(w)||typeof w=="boolean")continue;const k=FA(g.prevProp,w);let P=k||p===c&&g.isActive&&!E&&j||x>y&&j,C=!1;const R=Array.isArray(w)?w:[w];let ee=R.reduce(s(p),{});_===!1&&(ee={});const{prevResolvedValues:Q={}}=g,Fe={...Q,...ee},Ee=J=>{P=!0,f.has(J)&&(C=!0,f.delete(J)),g.needsAnimating[J]=!0;const A=e.getValue(J);A&&(A.liveStyle=!1)};for(const J in Fe){const A=ee[J],O=Q[J];if(m.hasOwnProperty(J))continue;let z=!1;hh(A)&&hh(O)?z=!Jb(A,O):z=A!==O,z?A!=null?Ee(J):f.add(J):A!==void 0&&f.has(J)?Ee(J):g.protectedKeys[J]=!0}g.prevProp=w,g.prevResolvedValues=ee,g.isActive&&(m={...m,...ee}),n&&e.blockInitialAnimation&&(P=!1),P&&(!(E&&k)||C)&&h.push(...R.map(J=>({animation:J,options:{type:p}})))}if(f.size){const x={};f.forEach(p=>{const g=e.getBaseTarget(p),w=e.getValue(p);w&&(w.liveStyle=!0),x[p]=g??null}),h.push({animation:x})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(h):Promise.resolve()}function o(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const h=a(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=_0(),n=!0}}}function FA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Jb(t,e):!1}function zn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _0(){return{animate:zn(!0),whileInView:zn(),whileHover:zn(),whileTap:zn(),whileDrag:zn(),whileFocus:zn(),exit:zn()}}class Rn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zA extends Rn{constructor(t){super(t),t.animationState||(t.animationState=OA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Yc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let $A=0;class UA extends Rn{constructor(){super(...arguments),this.id=$A++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const VA={animation:{Feature:zA},exit:{Feature:UA}};function Ja(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function go(e){return{point:{x:e.pageX,y:e.pageY}}}const BA=e=>t=>jm(t)&&e(t,go(t));function va(e,t,r,n){return Ja(e,t,BA(r),n)}const S0=(e,t)=>Math.abs(e-t);function HA(e,t){const r=S0(e.x,t.x),n=S0(e.y,t.y);return Math.sqrt(r**2+n**2)}class F1{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Zu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=HA(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:v}=Xe;this.history.push({...y,timestamp:v});const{onStart:x,onMove:p}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ju(f,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Zu(h.type==="pointercancel"?this.lastMoveEventInfo:Ju(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),y&&y(h,x)},!jm(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=go(t),o=Ju(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=Xe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Zu(o,this.history)),this.removeListeners=po(va(this.contextWindow,"pointermove",this.handlePointerMove),va(this.contextWindow,"pointerup",this.handlePointerUp),va(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),jn(this.updatePoint)}}function Ju(e,t){return t?{point:t(e.point)}:e}function N0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zu({point:e},t){return{point:e,delta:N0(e,z1(t)),offset:N0(e,GA(t)),velocity:WA(t,.1)}}function GA(e){return e[0]}function z1(e){return e[e.length-1]}function WA(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=z1(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Dr(t)));)r--;if(!n)return{x:0,y:0};const i=Ir(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const $1=1e-4,KA=1-$1,qA=1+$1,U1=.01,YA=0-U1,JA=0+U1;function Dt(e){return e.max-e.min}function ZA(e,t,r){return Math.abs(e-t)<=r}function C0(e,t,r,n=.5){e.origin=n,e.originPoint=Re(t.min,t.max,e.origin),e.scale=Dt(r)/Dt(t),e.translate=Re(r.min,r.max,e.origin)-e.originPoint,(e.scale>=KA&&e.scale<=qA||isNaN(e.scale))&&(e.scale=1),(e.translate>=YA&&e.translate<=JA||isNaN(e.translate))&&(e.translate=0)}function xa(e,t,r,n){C0(e.x,t.x,r.x,n?n.originX:void 0),C0(e.y,t.y,r.y,n?n.originY:void 0)}function E0(e,t,r){e.min=r.min+t.min,e.max=e.min+Dt(t)}function QA(e,t,r){E0(e.x,t.x,r.x),E0(e.y,t.y,r.y)}function P0(e,t,r){e.min=t.min-r.min,e.max=e.min+Dt(t)}function wa(e,t,r){P0(e.x,t.x,r.x),P0(e.y,t.y,r.y)}function XA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Re(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Re(r,e,n.max):Math.min(e,r)),e}function T0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function e5(e,{top:t,left:r,bottom:n,right:s}){return{x:T0(e.x,r,s),y:T0(e.y,t,n)}}function R0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function t5(e,t){return{x:R0(e.x,t.x),y:R0(e.y,t.y)}}function r5(e,t){let r=.5;const n=Dt(e),s=Dt(t);return s>n?r=mi(t.min,t.max-n,e.min):n>s&&(r=mi(e.min,e.max-s,t.min)),Ur(0,1,r)}function n5(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const jh=.35;function s5(e=jh){return e===!1?e=0:e===!0&&(e=jh),{x:A0(e,"left","right"),y:A0(e,"top","bottom")}}function A0(e,t,r){return{min:M0(e,t),max:M0(e,r)}}function M0(e,t){return typeof e=="number"?e:e[t]||0}const D0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hs=()=>({x:D0(),y:D0()}),I0=()=>({min:0,max:0}),ze=()=>({x:I0(),y:I0()});function Ft(e){return[e("x"),e("y")]}function V1({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function i5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function a5(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Qu(e){return e===void 0||e===1}function _h({scale:e,scaleX:t,scaleY:r}){return!Qu(e)||!Qu(t)||!Qu(r)}function Bn(e){return _h(e)||B1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function B1(e){return L0(e.x)||L0(e.y)}function L0(e){return e&&e!=="0%"}function dc(e,t,r){const n=e-r,s=t*n;return r+s}function O0(e,t,r,n,s){return s!==void 0&&(e=dc(e,s,n)),dc(e,r,n)+t}function Sh(e,t=0,r=1,n,s){e.min=O0(e.min,t,r,n,s),e.max=O0(e.max,t,r,n,s)}function H1(e,{x:t,y:r}){Sh(e.x,t.translate,t.scale,t.originPoint),Sh(e.y,r.translate,r.scale,r.originPoint)}const F0=.999999999999,z0=1.0000000000001;function o5(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ws(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,H1(e,a)),n&&Bn(i.latestValues)&&Ws(e,i.latestValues))}t.x<z0&&t.x>F0&&(t.x=1),t.y<z0&&t.y>F0&&(t.y=1)}function Gs(e,t){e.min=e.min+t,e.max=e.max+t}function $0(e,t,r,n,s=.5){const i=Re(e.min,e.max,s);Sh(e,t,r,i,n)}function Ws(e,t){$0(e.x,t.x,t.scaleX,t.scale,t.originX),$0(e.y,t.y,t.scaleY,t.scale,t.originY)}function G1(e,t){return V1(a5(e.getBoundingClientRect(),t))}function l5(e,t,r){const n=G1(e,r),{scroll:s}=t;return s&&(Gs(n.x,s.offset.x),Gs(n.y,s.offset.y)),n}const W1=({current:e})=>e?e.ownerDocument.defaultView:null,c5=new WeakMap;class u5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(go(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=n4(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ft(x=>{let p=this.getAxisMotionValue(x).get()||0;if(vr.test(p)){const{projection:g}=this.visualElement;if(g&&g.layout){const w=g.layout.layoutBox[x];w&&(p=Dt(w)*(parseFloat(p)/100))}}this.originPoint[x]=p}),y&&Ce.postRender(()=>y(d,h)),ph(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=d5(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&v(d,h)},o=(d,h)=>this.stop(d,h),c=()=>Ft(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new F1(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:W1(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ce.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Xo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=XA(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Vs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=e5(s.layoutBox,r):this.constraints=!1,this.elastic=s5(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ft(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=n5(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Vs(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=l5(n,s.root,this.visualElement.getTransformPagePoint());let a=t5(s.layout.layoutBox,i);if(r){const o=r(i5(a));this.hasMutatedConstraints=!!o,o&&(a=V1(o))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Ft(d=>{if(!Xo(d,r,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return ph(this.visualElement,t),n.start(Im(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ft(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ft(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ft(r=>{const{drag:n}=this.getProps();if(!Xo(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(t[r]-Re(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Vs(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ft(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=r5({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ft(a=>{if(!Xo(a,t,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(Re(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;c5.set(this.visualElement,this);const t=this.visualElement.current,r=va(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Vs(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ce.read(n);const a=Ja(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ft(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=jh,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Xo(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function d5(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class h5 extends Rn{constructor(t){super(t),this.removeGroupControls=At,this.removeListeners=At,this.controls=new u5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||At}unmount(){this.removeGroupControls(),this.removeListeners()}}const U0=e=>(t,r)=>{e&&Ce.postRender(()=>e(t,r))};class f5 extends Rn{constructor(){super(...arguments),this.removePointerDownListener=At}onPointerDown(t){this.session=new F1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:U0(t),onStart:U0(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&Ce.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=va(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function V0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Z.test(e))e=parseFloat(e);else return e;const r=V0(e,t.target.x),n=V0(e,t.target.y);return`${r}% ${n}%`}},m5={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=_n.parse(e);if(s.length>5)return n;const i=_n.createTransformer(e),a=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=o,s[1+a]/=c;const u=Re(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class p5 extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;LR(g5),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),kl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ce.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),um.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function K1(e){const[t,r]=Tb(),n=b.useContext(rm);return l.jsx(p5,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(Ob),isPresent:t,safeToRemove:r})}const g5={borderRadius:{...Wi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wi,borderTopRightRadius:Wi,borderBottomLeftRadius:Wi,borderBottomRightRadius:Wi,boxShadow:m5};function y5(e,t,r){const n=lt(e)?e:qa(e);return n.start(Im("",n,t,r)),n.animation}function v5(e){return e instanceof SVGElement&&e.tagName!=="svg"}const x5=(e,t)=>e.depth-t.depth;class w5{constructor(){this.children=[],this.isDirty=!1}add(t){_m(this.children,t),this.isDirty=!0}remove(t){Sm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(x5),this.isDirty=!1,this.children.forEach(t)}}function b5(e,t){const r=xr.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(jn(n),e(i-t))};return Ce.read(n,!0),()=>jn(n)}const q1=["TopLeft","TopRight","BottomLeft","BottomRight"],k5=q1.length,B0=e=>typeof e=="string"?parseFloat(e):e,H0=e=>typeof e=="number"||Z.test(e);function j5(e,t,r,n,s,i){s?(e.opacity=Re(0,r.opacity!==void 0?r.opacity:1,_5(n)),e.opacityExit=Re(t.opacity!==void 0?t.opacity:1,0,S5(n))):i&&(e.opacity=Re(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<k5;a++){const o=`border${q1[a]}Radius`;let c=G0(t,o),u=G0(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||H0(c)===H0(u)?(e[o]=Math.max(Re(B0(c),B0(u),n),0),(vr.test(u)||vr.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=Re(t.rotate||0,r.rotate||0,n))}function G0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _5=Y1(0,.5,f1),S5=Y1(.5,.95,At);function Y1(e,t,r){return n=>n<e?0:n>t?1:r(mi(e,t,n))}function W0(e,t){e.min=t.min,e.max=t.max}function Ot(e,t){W0(e.x,t.x),W0(e.y,t.y)}function K0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function q0(e,t,r,n,s){return e-=t,e=dc(e,1/r,n),s!==void 0&&(e=dc(e,1/s,n)),e}function N5(e,t=0,r=1,n=.5,s,i=e,a=e){if(vr.test(t)&&(t=parseFloat(t),t=Re(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Re(i.min,i.max,n);e===i&&(o-=t),e.min=q0(e.min,t,r,o,s),e.max=q0(e.max,t,r,o,s)}function Y0(e,t,[r,n,s],i,a){N5(e,t[r],t[n],t[s],t.scale,i,a)}const C5=["x","scaleX","originX"],E5=["y","scaleY","originY"];function J0(e,t,r,n){Y0(e.x,t,C5,r?r.x:void 0,n?n.x:void 0),Y0(e.y,t,E5,r?r.y:void 0,n?n.y:void 0)}function Z0(e){return e.translate===0&&e.scale===1}function J1(e){return Z0(e.x)&&Z0(e.y)}function Q0(e,t){return e.min===t.min&&e.max===t.max}function P5(e,t){return Q0(e.x,t.x)&&Q0(e.y,t.y)}function X0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Z1(e,t){return X0(e.x,t.x)&&X0(e.y,t.y)}function ey(e){return Dt(e.x)/Dt(e.y)}function ty(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class T5{constructor(){this.members=[]}add(t){_m(this.members,t),t.scheduleRender()}remove(t){if(Sm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R5(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const Hn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sa=typeof window<"u"&&window.MotionDebug!==void 0,Xu=["","X","Y","Z"],A5={visibility:"hidden"},ry=1e3;let M5=0;function ed(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Q1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=a1(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ce,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Q1(n)}function X1({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=M5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sa&&(Hn.totalNodes=Hn.resolvedTargetDeltas=Hn.recalculatedProjection=0),this.nodes.forEach(L5),this.nodes.forEach(U5),this.nodes.forEach(V5),this.nodes.forEach(O5),sa&&window.MotionDebug.record(Hn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new w5)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Nm),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v5(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=b5(f,250),kl.hasAnimatedSinceResize&&(kl.hasAnimatedSinceResize=!1,this.nodes.forEach(sy))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||K5,{onLayoutAnimationStart:x,onLayoutAnimationComplete:p}=d.getProps(),g=!this.targetLayout||!Z1(this.targetLayout,y)||m,w=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const j={...wm(v,"layout"),onPlay:x,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||sy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,jn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B5),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ny);return}this.isUpdating||this.nodes.forEach(z5),this.isUpdating=!1,this.nodes.forEach($5),this.nodes.forEach(D5),this.nodes.forEach(I5),this.clearAllSnapshots();const o=xr.now();Xe.delta=Ur(0,1e3/60,o-Xe.timestamp),Xe.timestamp=o,Xe.isProcessing=!0,Hu.update.process(Xe),Hu.preRender.process(Xe),Hu.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,um.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(F5),this.sharedNodes.forEach(H5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!J1(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||Bn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),q5(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return ze();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Y5))){const{scroll:d}=this.root;d&&(Gs(c.x,d.offset.x),Gs(c.y,d.offset.y))}return c}removeElementScroll(a){var o;const c=ze();if(Ot(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ot(c,a),Gs(c.x,h.offset.x),Gs(c.y,h.offset.y))}return c}applyTransform(a,o=!1){const c=ze();Ot(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ws(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Bn(d.latestValues)&&Ws(c,d.latestValues)}return Bn(this.latestValues)&&Ws(c,this.latestValues),c}removeTransform(a){const o=ze();Ot(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Bn(u.latestValues))continue;_h(u.latestValues)&&u.updateSnapshot();const d=ze(),h=u.measurePageBox();Ot(d,h),J0(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Bn(this.latestValues)&&J0(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),wa(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ot(this.target,this.layout.layoutBox),H1(this.target,this.targetDelta)):Ot(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),wa(this.relativeTargetOrigin,this.target,m.target),Ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sa&&Hn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_h(this.parent.latestValues)||B1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ot(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;o5(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ze());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(K0(this.prevProjectionDelta.x,this.projectionDelta.x),K0(this.prevProjectionDelta.y,this.projectionDelta.y)),xa(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!ty(this.projectionDelta.x,this.prevProjectionDelta.x)||!ty(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),sa&&Hn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hs(),this.projectionDelta=Hs(),this.projectionDeltaWithTransform=Hs()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Hs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ze(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,x=this.getStack(),p=!x||x.members.length<=1,g=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(W5));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const _=j/1e3;iy(h.x,a.x,_),iy(h.y,a.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wa(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G5(this.relativeTarget,this.relativeTargetOrigin,f,_),w&&P5(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ze()),Ot(w,this.relativeTarget)),v&&(this.animationValues=d,j5(d,u,this.latestValues,_,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(jn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{kl.hasAnimatedSinceResize=!0,this.currentAnimation=y5(0,ry,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ry),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&ek(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ze();const h=Dt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Dt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Ot(o,c),Ws(o,d),xa(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new T5),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&ed("z",a,u,this.animationValues);for(let d=0;d<Xu.length;d++)ed(`rotate${Xu[d]}`,a,u,this.animationValues),ed(`skew${Xu[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return A5;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=wl(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=wl(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Bn(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=R5(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in ac){if(f[v]===void 0)continue;const{correct:x,applyTo:p}=ac[v],g=u.transform==="none"?f[v]:x(f[v],h);if(p){const w=p.length;for(let j=0;j<w;j++)u[p[j]]=g}else u[v]=g}return this.options.layoutId&&(u.pointerEvents=h===this?wl(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(ny),this.root.sharedNodes.clear()}}}function D5(e){e.updateLayout()}function I5(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=r.source!==e.layout.source;i==="size"?Ft(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],m=Dt(f);f.min=n[h].min,f.max=f.min+m}):ek(i,r.layoutBox,n)&&Ft(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],m=Dt(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const o=Hs();xa(o,n,r.layoutBox);const c=Hs();a?xa(c,e.applyTransform(s,!0),r.measuredBox):xa(c,n,r.layoutBox);const u=!J1(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=ze();wa(y,r.layoutBox,f.layoutBox);const v=ze();wa(v,n,m.layoutBox),Z1(y,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function L5(e){sa&&Hn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function O5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function F5(e){e.clearSnapshot()}function ny(e){e.clearMeasurements()}function z5(e){e.isLayoutDirty=!1}function $5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function U5(e){e.resolveTargetDelta()}function V5(e){e.calcProjection()}function B5(e){e.resetSkewAndRotation()}function H5(e){e.removeLeadSnapshot()}function iy(e,t,r){e.translate=Re(t.translate,0,r),e.scale=Re(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ay(e,t,r,n){e.min=Re(t.min,r.min,n),e.max=Re(t.max,r.max,n)}function G5(e,t,r,n){ay(e.x,t.x,r.x,n),ay(e.y,t.y,r.y,n)}function W5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const K5={duration:.45,ease:[.4,0,.1,1]},oy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ly=oy("applewebkit/")&&!oy("chrome/")?Math.round:At;function cy(e){e.min=ly(e.min),e.max=ly(e.max)}function q5(e){cy(e.x),cy(e.y)}function ek(e,t,r){return e==="position"||e==="preserve-aspect"&&!ZA(ey(t),ey(r),.2)}function Y5(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const J5=X1({attachResizeListener:(e,t)=>Ja(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),td={current:void 0},tk=X1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!td.current){const e=new J5({});e.mount(window),e.setOptions({layoutScroll:!0}),td.current=e}return td.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Z5={pan:{Feature:f5},drag:{Feature:h5,ProjectionNode:tk,MeasureLayout:K1}};function uy(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Ce.postRender(()=>i(t,go(t)))}class Q5 extends Rn{mount(){const{current:t}=this.node;t&&(this.unmount=QR(t,r=>(uy(this.node,r,"Start"),n=>uy(this.node,n,"End"))))}unmount(){}}class X5 extends Rn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=po(Ja(this.node.current,"focus",()=>this.onFocus()),Ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dy(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Ce.postRender(()=>i(t,go(t)))}class e3 extends Rn{mount(){const{current:t}=this.node;t&&(this.unmount=r4(t,r=>(dy(this.node,r,"Start"),(n,{success:s})=>dy(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nh=new WeakMap,rd=new WeakMap,t3=e=>{const t=Nh.get(e.target);t&&t(e)},r3=e=>{e.forEach(t3)};function n3({root:e,...t}){const r=e||document;rd.has(r)||rd.set(r,{});const n=rd.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(r3,{root:e,...t})),n[s]}function s3(e,t,r){const n=n3(t);return Nh.set(e,r),n.observe(e),()=>{Nh.delete(e),n.unobserve(e)}}const i3={some:0,all:1};class a3 extends Rn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:i3[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return s3(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(o3(t,r))&&this.startObserver()}unmount(){}}function o3({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const l3={inView:{Feature:a3},tap:{Feature:e3},focus:{Feature:X5},hover:{Feature:Q5}},c3={layout:{ProjectionNode:tk,MeasureLayout:K1}},Ch={current:null},rk={current:!1};function u3(){if(rk.current=!0,!!im)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ch.current=e.matches;e.addListener(t),t()}else Ch.current=!1}const d3=[...C1,it,_n],h3=e=>d3.find(N1(e)),hy=new WeakMap;function f3(e,t,r){for(const n in t){const s=t[n],i=r[n];if(lt(s))e.addValue(n,s);else if(lt(i))e.addValue(n,qa(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,qa(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const fy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class m3{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Am,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=xr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ce.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Jc(r),this.isVariantNode=Ib(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const y=f[m];c[m]!==void 0&&lt(y)&&y.set(c[m],!1)}}mount(t){this.current=t,hy.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),rk.current||u3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ch.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hy.delete(this.current),this.projection&&this.projection.unmount(),jn(this.notifyUpdate),jn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ps.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pi){const r=pi[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<fy.length;n++){const s=fy[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=f3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=qa(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(_1(s)||p1(s))?s=parseFloat(s):!h3(s)&&_n.test(r)&&(s=b1(t,r)),this.setBaseTarget(t,lt(s)?s.get():s)),lt(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=hm(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!lt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Nm),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class nk extends m3{constructor(){super(...arguments),this.KeyframeResolver=E1}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;lt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function p3(e){return window.getComputedStyle(e)}class g3 extends nk{constructor(){super(...arguments),this.type="html",this.renderInstance=Hb}readValueFromInstance(t,r){if(ps.has(r)){const n=Rm(r);return n&&n.default||0}else{const n=p3(t),s=(Ub(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return G1(t,r)}build(t,r,n){pm(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return xm(t,r,n)}}class y3 extends nk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ps.has(r)){const n=Rm(r);return n&&n.default||0}return r=Gb.has(r)?r:cm(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return qb(t,r,n)}build(t,r,n){gm(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){Wb(t,r,n,s)}mount(t){this.isSVGTag=vm(t.tagName),super.mount(t)}}const v3=(e,t)=>dm(e)?new y3(t):new g3(t,{allowProjection:e!==b.Fragment}),x3=GR({...VA,...l3,...Z5,...c3},v3),ae=aR(x3),Ei=Br()(lo(e=>({theme:"system",language:"pt",setTheme:t=>e({theme:t}),setLanguage:t=>e({language:t})}),{name:"settings"})),sk={en:{common:{forgotPassword:"Forgot my password",selected:"Selected",search:"Search for recipes...",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",profile:"Profile",darkMode:"Dark Mode",language:"Language",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",remove:"Remove",edit:"Edit",back:"Back",settings:"Settings",createaccount:"Create Account",dontHaveAccount:"Don't have an account? ",alreadyHaveAccount:"Already have an account? ",theme:{light:"Light",dark:"Dark",system:"System"},close:"Close"},buttons:{BackToRecipes:"Back to Recipes",My_recipes:"My recipes",Favorites:"Favorites",Nutrition_goal:"Nutrition Goals",findNutritionists:"Find Nutritionists"},labels:{time:"Time",rating:"Rating",level:"Level",aiMentoring:"AI Mentoring",premium:"Premium",activeGoals:"Active Goals",unlimitedAccess:"Unlimited access"},filters:{advanced:"Advanced Filters",minRating:"Minimum Rating",clearAll:"Clear All Filters",prepTime:{quick:"Quick (15 min)",medium:"Medium (30 min)",long:"Long (>30 min)"}},home:{title:"Discover Healthy Recipes",subtitle:"Find and share nutritious recipes that match your dietary preferences.",createRecipe:"Create Recipe",noRecipes:"No recipes found. Try adjusting your filters, or log in to see more."},profile:{title:"My profile",subtitle:"View your personal information, goals, and activity within the platform.",overviewClient:"My activity",overviewClientDescription:"Track your favorites, goals, and the impact of your daily choices.",overviewNutritionist:"My activity",overviewNutritionistDescription:"See the performance of your recipes, client reviews, and your presence on the platform.",myRecipes:"My Recipes",favorites:"Favorites",nutritionGoals:"Nutrition Goals",settings:"Settings",noRecipesYet:"You haven't published any recipes yet.",noFavorites:"You haven't saved any recipes as favorites yet.",statistics:"Statistics",publishedRecipes:"Published Recipes",totalReviews:"Total Reviews",averageRating:"Average Rating",experience:"Experience",healthGoals:"Health Goals",dietaryPreferences:"Dietary Preferences",allergies:"Allergies",dailyGoals:"Daily Goals",viewDiaryAndGoals:"View diary & goals",remaining:"Remaining",progressBasedOnDiary:"Progress is calculated from what you log in your food diary.",diaryTitle:"Food diary",addToDiary:"Add to diary",addToDiaryHelper:"Log this recipe to track your daily goals.",loggedToDiary:"Added to diary.",clearDay:"Clear",clearDiaryConfirm:"Clear this days diary?",diaryCleared:"Diary cleared.",todayProgress:"Day progress",loggedMeals:"Entries",items:"items",noDiaryEntries:"No entries for this day yet.",chooseRecipe:"Choose a recipe...",servings:"Servings",perServing:"serving",perServingHint:"Nutrition values are multiplied by servings.",confirmAdd:"Add",entryRemoved:"Entry removed.",pickARecipe:"Pick a recipe first.",date:"Date",recentFavorites:"Recent Favorites",activeGoalsLabel:"Active goals",trackedDays:"Tracked days",personalInfo:"Personal Information",accountType:"Account Type",email:"Email",name:"Name",password:"Password",nutricionist:"Nutritionist",client:"Client",clientPremium:"Premium Client",saveGoals:"Save goals",nutritionGoalsnames:{calories:"Calories",protein:"Protein",carbs:"Carbs",fat:"Fat",fiber:"Fiber"},avatarTooLarge:"File too large. Maximum size is 10MB.",avatarUpdated:"Profile photo updated!",avatarRemoved:"Profile photo removed!",changePhoto:"Change photo",removePhoto:"Remove photo",editProfilePhoto:"Edit Profile Photo",cropApply:"Apply",cropProcessing:"Processing..."},categories:{all:"All",vegan:"Vegan",lowCarb:"Low Carb",highProtein:"High Protein",glutenFree:"Gluten Free",vegetarian:"Vegetarian"},recipe:{recipeTitle:"Title",recipeImageURL:"Image URL",recipeDescription:"Description",prepTime:"Preparation Time",difficulty:"Difficulty",recipeCategory:"Category",ingredients:"Ingredients",instructions:"Instructions",nutritionFacts:"Nutrition Facts (Per Serving)",reviews:"Notes and ratings",writeReview:"Write your review...",submitReview:"Submit Review",signInToReview:"Please sign in to leave a review.",addIngredient:"Add Ingredient",addStep:"Add Step",step:"Step",Step:"Step",example:'"2 cups flour"',perServing:"per serving",deleteConfirm:"Are you sure you want to delete this recipe?",share:"Share Recipe",edit:"Edit Recipe",delete:"Delete Recipe",difficultyLevels:{easy:"Easy",medium:"Medium",hard:"Hard"},CreateNewRecipe:"Create new recipe",CreateRecipe:"Create recipe",rating:"Rating",noReviews:"No reviews",details:"Recipe details",recipe:"Recipe",author:"Author",authorFallbackName:"User",postedOn:"Posted on",reviewSingular:"review",reviewPlural:"reviews",deleteReviewConfirm:"Are you sure you want to delete this review?",addReviewTitle:"Add review",editReviewTitle:"Edit review"},aiChat:{welcomeTitle:"Welcome to AI Mentoring!",welcomeDescription:"Your intelligent nutrition assistant is ready to help with recipes, nutrition tips, how to use the platform and much more. Start a conversation now!",limitedModeNoticeTitle:"Notice:",limitedModeNoticeBody:"The AI is currently running in limited mode. For the full experience, configure the Gemini API key.",examples:{recipesTitle:" Recipes",recipesExample:'"Show me healthy cake recipes"',tipsTitle:" Tips",tipsExample:'"How can I improve my diet?"',helpTitle:" Help",helpExample:'"How do I save recipes to favorites?"'},startConversationButton:"Start conversation",headerSubtitle:"Nutrition assistant  Online",typing:"Typing...",inputPlaceholder:"Type your question about nutrition...",disclaimer:"AI can make mistakes. Always consult your nutritionist for personalized guidance.",limitedModeSuffix:"  Running in limited mode."},premium:{title:"Unlock AI Mentoring",descriptionPrefix:"To get unlimited access to our AI Mentoring and other exclusive features, subscribe to our ",planName:"Premium Plan",descriptionSuffix:"!",perMonthLabel:"month",features:{mentoringUnlimitedTitle:"Unlimited AI mentoring",mentoringUnlimitedDescription:"24/7 chat with a nutrition-focused AI assistant.",personalizedConsultationsTitle:"Personalized consultations",personalizedConsultationsDescription:"AI configured and guided by your nutritionist.",smartRecommendationsTitle:"Smart recommendations",smartRecommendationsDescription:"Recipe suggestions tailored to your profile.",prioritySupportTitle:"Priority support",prioritySupportDescription:"Fast and specialized support whenever you need it."},benefits:{accessNutritionists:"Access to certified nutritionists",whatsappDirect:"Direct WhatsApp contact with nutritionists",personalizedGoals:"Personalized goals and periodization",mealPlans:"Meal plans adjusted to your profile",weeklyFollowup:"Weekly follow-up and continuous adjustments",progressReports:"Progress reports with charts",premiumRecipes:"Exclusive premium recipes",vipCommunity:"VIP community and monthly challenges"},ctaSubscribe:"Subscribe to Premium Plan",ctaLoading:"Starting...",footerNote:"Cancel anytime  No commitment  24/7 support",loginRequired:"Sign in to subscribe",loadPlansError:"Error loading plans",checkoutErrorGeneric:"Unable to start checkout"},nutritionists:{title:"Find Your Nutritionist",subtitle:"Connect with certified nutrition professionals",noNutritionists:"No nutritionists found",viewProfile:"View Profile",contact:"Contact",acceptingClients:"Accepting new clients",notAcceptingClients:"Not accepting new clients",specializations:{title:"Specializations",sports:"Sports Nutrition",clinical:"Clinical Nutrition",weightLoss:"Weight Loss",womensHealth:"Women's Health",pediatric:"Pediatric Nutrition",geriatric:"Geriatric Nutrition",vegetarian:"Vegetarian/Vegan",diabetes:"Diabetes Management",cardiovascular:"Cardiovascular Health",gastrointestinal:"Gastrointestinal Health"},profile:{about:"About",education:"Education",certifications:"Certifications",approach:"Professional Approach",experience:"Years of Experience",consultationInfo:"Consultation Information",price:"Price",duration:"Duration",minutes:"minutes",consultationTypes:"Consultation Types",online:"Online",inPerson:"In-Person",acceptsInsurance:"Accepts Health Insurance",insurances:"Accepted Insurances",contactInfo:"Contact Information",phone:"Phone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Website",address:"Clinic Address",publishedRecipes:"Published Recipes",averageRating:"Average Rating"},editProfile:{title:"Professional Profile",subtitle:"Manage your professional information",basicInfo:"Basic Information",professionalInfo:"Professional Information",consultationSettings:"Consultation Settings",contactInfo:"Contact Information",visibility:"Profile Visibility",public:"Public",private:"Private",save:"Save Changes",saved:"Great! Your professional profile has been updated successfully.",error:"Oops! We couldn't save your changes. Please check your connection and try again.",fields:{bio:"Professional Bio",bioPlaceholder:"Tell clients about your experience and approach...",specializations:"Specializations",specializationsPlaceholder:"Select your specializations",education:"Education",educationPlaceholder:"Your degree and academic background",certifications:"Certifications",certificationsPlaceholder:"Additional certifications (one per line)",yearsOfExperience:"Years of Experience",approach:"Professional Approach",approachPlaceholder:"Describe your working philosophy and methodology...",consultationPrice:"Consultation Price",consultationDuration:"Duration (minutes)",acceptsInsurance:"Accepts Health Insurance",insurances:"Accepted Insurances",insurancesPlaceholder:"List accepted insurances (one per line)",phone:"Phone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Website",address:"Clinic Address",acceptingClients:"Accepting New Clients"}}}},pt:{common:{forgotPassword:"Esqueci minha senha",selected:"Selecionado",search:"Buscar receitas...",signIn:"Entrar",signUp:"Cadastrar",signOut:"Sair",profile:"Perfil",darkMode:"Modo Escuro",language:"Idioma",loading:"Carregando...",save:"Salvar",cancel:"Cancelar",close:"Fechar",delete:"Excluir",remove:"Remover",edit:"Editar",back:"Voltar",settings:"Configuraes",createaccount:"Criar conta",dontHaveAccount:"No tem uma conta? ",alreadyHaveAccount:"J tem uma conta? ",theme:{light:"Claro",dark:"Escuro",system:"Sistema"}},buttons:{BackToRecipes:"Voltar para as receitas",My_recipes:"Minhas receitas",Favorites:"Favoritos",Nutrition_goal:"Metas Nutricionais",findNutritionists:"Encontrar Nutricionistas"},labels:{time:"Tempo",rating:"Avaliao",level:"Nvel",aiMentoring:"Mentoria IA",premium:"Premium",activeGoals:"Metas Ativas",unlimitedAccess:"Acesso ilimitado"},filters:{advanced:"Filtros Avanados",minRating:"Avaliao Mnima",clearAll:"Limpar Todos os Filtros",prepTime:{quick:"Rpido (15 min)",medium:"Mdio (30 min)",long:"Longo (>30 min)"}},home:{title:"Descubra Receitas Saudveis",subtitle:"Encontre e compartilhe receitas nutritivas que combinam com suas preferncias alimentares.",createRecipe:"Criar Receita",noRecipes:"Nenhuma receita encontrada. Tente ajustar seus filtros ou faa login para ver mais."},profile:{title:"Meu perfil",subtitle:"Veja suas informaes pessoais, metas e atividades dentro da plataforma.",overviewClient:"Minha atividade",overviewClientDescription:"Acompanhe seus favoritos, metas e impacto das suas escolhas no dia a dia.",overviewNutritionist:"Minha atividade",overviewNutritionistDescription:"Veja o desempenho das suas receitas, avaliaes dos clientes e sua presena na plataforma.",myRecipes:"Minhas Receitas",favorites:"Favoritos",nutritionGoals:"Metas Nutricionais",settings:"Configuraes",noRecipesYet:"Voc ainda no publicou nenhuma receita.",noFavorites:"Voc ainda no salvou nenhuma receita como favorita.",statistics:"Estatsticas",publishedRecipes:"Receitas Publicadas",totalReviews:"Total de Avaliaes",averageRating:"Avaliao Mdia",experience:"Experincia",healthGoals:"Objetivos de Sade",dietaryPreferences:"Preferncias Alimentares",allergies:"Alergias",dailyGoals:"Metas Dirias",recentFavorites:"Favoritos Recentes",personalInfo:"Informaes Pessoais",accountType:"Tipo de Conta",email:"Email",name:"Nome completo",password:"Senha",nutricionist:"Nutricionista",client:"Cliente",clientPremium:"Cliente Premium",saveGoals:"Salvar metas",nutritionGoalsnames:{calories:"Calorias",protein:"Protena",carbs:"Carboidratos",fat:"Gordura",fiber:"Fibra"},viewDiaryAndGoals:"Ver dirio e metas",remaining:"Restante",progressBasedOnDiary:"O progresso  calculado com base no que voc registra no dirio alimentar.",diaryTitle:"Dirio alimentar",addToDiary:"Adicionar ao dirio",addToDiaryHelper:"Registre esta receita para acompanhar as metas.",loggedToDiary:"Adicionado ao dirio.",clearDay:"Limpar",clearDiaryConfirm:"Limpar o dirio deste dia?",diaryCleared:"Dirio limpo.",todayProgress:"Progresso do dia",loggedMeals:"Registros",items:"itens",noDiaryEntries:"Nenhum registro para este dia ainda.",chooseRecipe:"Escolha uma receita...",servings:"Pores",perServing:"poro",perServingHint:"Os valores nutricionais so multiplicados pelas pores.",confirmAdd:"Adicionar",entryRemoved:"Registro removido.",pickARecipe:"Escolha uma receita primeiro.",date:"Data",activeGoalsLabel:"Metas ativas",trackedDays:"Dias rastreados",avatarTooLarge:"Arquivo muito grande. O tamanho maximo e 10MB.",avatarUpdated:"Foto de perfil atualizada!",avatarRemoved:"Foto de perfil removida!",changePhoto:"Alterar foto",removePhoto:"Remover foto",editProfilePhoto:"Editar Foto de Perfil",cropApply:"Aplicar",cropProcessing:"Processando..."},categories:{all:"Todas",vegan:"Vegana",lowCarb:"Baixo Carboidrato",highProtein:"Rica em Protena",glutenFree:"Sem Glten",vegetarian:"Vegetariana"},recipe:{recipeTitle:"Titulo",recipeImageURL:"URL da imagem",recipeDescription:"Descrio",prepTime:"Tempo de Preparo",difficulty:"Dificuldade",recipeCategory:"Categoria",ingredients:"Ingredientes",addIngredient:"Adicionar Ingrediente",instructions:"Modo de Preparo",addStep:"Adicionar Passo",step:"Passo a passo",Step:"Passo",example:"Exemplo: 2 xcaras de aucar",nutritionFacts:"Informao Nutricional (Por poro)",reviews:"Notas e avaliaes",writeReview:"Compartilhe sua opinio",submitReview:"Enviar Avaliao",signInToReview:"Faa login para deixar uma avaliao.",perServing:"por poro",deleteConfirm:"Tem certeza que deseja excluir esta receita?",share:"Compartilhar Receita",edit:"Editar Receita",delete:"Excluir Receita",difficultyLevels:{easy:"Fcil",medium:"Mdio",hard:"Difcil"},CreateNewRecipe:"Criar nova receita",CreateRecipe:"Criar receita",rating:"Classifique essa receita",noReviews:"Sem Avaliaes",details:"Detalhes da receita",recipe:"Receita",author:"Autor",authorFallbackName:"Usurio",postedOn:"Postado em",reviewSingular:"avaliao",reviewPlural:"avaliaes",deleteReviewConfirm:"Tem certeza que deseja excluir esta avaliao?",addReviewTitle:"Adicionar avaliao",editReviewTitle:"Editar avaliao"},aiChat:{welcomeTitle:"Bem-vindo  Mentoria IA!",welcomeDescription:"Sua assistente de nutrio inteligente est pronta para ajudar com receitas, dicas alimentares, uso da plataforma e muito mais. Inicie uma conversa agora!",limitedModeNoticeTitle:"Aviso:",limitedModeNoticeBody:"A IA est funcionando em modo limitado. Para uma experincia completa, configure a chave da API do Gemini.",examples:{recipesTitle:" Receitas",recipesExample:'"Me mostre receitas de bolo fit"',tipsTitle:" Dicas",tipsExample:'"Como posso melhorar minha alimentao?"',helpTitle:" Ajuda",helpExample:'"Como salvo receitas nos favoritos?"'},startConversationButton:"Iniciar conversa",headerSubtitle:"Assistente de Nutrio  Online",typing:"Digitando...",inputPlaceholder:"Digite sua pergunta sobre nutrio...",disclaimer:"A IA pode cometer erros. Sempre consulte seu nutricionista para orientaes personalizadas.",limitedModeSuffix:"  Funcionando em modo limitado."},premium:{title:"Desbloqueie a Mentoria IA",descriptionPrefix:"Para ter acesso ilimitado  nossa Mentoria IA e outras funcionalidades exclusivas, assine o nosso ",planName:"Plano Premium",descriptionSuffix:"!",perMonthLabel:"ms",features:{mentoringUnlimitedTitle:"Mentoria IA ilimitada",mentoringUnlimitedDescription:"Chat 24/7 com IA especializada em nutrio.",personalizedConsultationsTitle:"Consultas personalizadas",personalizedConsultationsDescription:"IA configurada e orientada pelo seu nutricionista.",smartRecommendationsTitle:"Recomendaes inteligentes",smartRecommendationsDescription:"Sugestes de receitas baseadas no seu perfil.",prioritySupportTitle:"Suporte prioritrio",prioritySupportDescription:"Atendimento rpido e especializado."},benefits:{accessNutritionists:"Acesso a nutricionistas certificados",whatsappDirect:"WhatsApp direto com nutricionistas",personalizedGoals:"Metas personalizadas e periodizao",mealPlans:"Planos alimentares ajustados ao seu perfil",weeklyFollowup:"Acompanhamento semanal e ajustes contnuos",progressReports:"Relatrios de progresso com grficos",premiumRecipes:"Receitas premium exclusivas",vipCommunity:"Comunidade VIP e desafios mensais"},ctaSubscribe:"Assinar Plano Premium",ctaLoading:"Iniciando...",footerNote:"Cancele a qualquer momento  Sem compromisso  Suporte 24/7",loginRequired:"Faa login para assinar",loadPlansError:"Erro ao carregar planos",checkoutErrorGeneric:"No foi possvel iniciar o checkout"},nutritionists:{title:"Encontre seu Nutricionista",subtitle:"Conecte-se com profissionais certificados em nutrio",noNutritionists:"Nenhum nutricionista encontrado",viewProfile:"Ver Perfil",contact:"Entrar em Contato",acceptingClients:"Aceitando novos clientes",notAcceptingClients:"No est aceitando novos clientes",specializations:{title:"Especializaes",sports:"Nutrio Esportiva",clinical:"Nutrio Clnica",weightLoss:"Emagrecimento",womensHealth:"Sade da Mulher",pediatric:"Nutrio Peditrica",geriatric:"Nutrio Geritrica",vegetarian:"Vegetariano/Vegano",diabetes:"Controle de Diabetes",cardiovascular:"Sade Cardiovascular",gastrointestinal:"Sade Gastrointestinal"},profile:{about:"Sobre",education:"Formao",certifications:"Certificaes",approach:"Abordagem Profissional",experience:"Anos de Experincia",consultationInfo:"Informaes de Consulta",price:"Valor",duration:"Durao",minutes:"minutos",consultationTypes:"Tipos de Atendimento",online:"Online",inPerson:"Presencial",acceptsInsurance:"Aceita Plano de Sade",insurances:"Planos Aceitos",contactInfo:"Informaes de Contato",phone:"Telefone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Site",address:"Endereo do Consultrio",publishedRecipes:"Receitas Publicadas",averageRating:"Avaliao Mdia"},editProfile:{title:"Perfil Profissional",subtitle:"Gerencie suas informaes profissionais",basicInfo:"Informaes Bsicas",professionalInfo:"Informaes Profissionais",consultationSettings:"Configuraes de Consulta",contactInfo:"Informaes de Contato",visibility:"Visibilidade do Perfil",public:"Pblico",private:"Privado",save:"Salvar Alteraes",saved:"timo! Seu perfil profissional foi atualizado com sucesso.",error:"Ops! No conseguimos salvar suas alteraes. Por favor, verifique sua conexo e tente novamente.",fields:{bio:"Biografia Profissional",bioPlaceholder:"Conte aos clientes sobre sua experincia e abordagem...",specializations:"Especializaes",specializationsPlaceholder:"Selecione suas especializaes",education:"Formao",educationPlaceholder:"Seu diploma e formao acadmica",certifications:"Certificaes",certificationsPlaceholder:"Certificaes adicionais (uma por linha)",yearsOfExperience:"Anos de Experincia",approach:"Abordagem Profissional",approachPlaceholder:"Descreva sua filosofia e metodologia de trabalho...",consultationPrice:"Valor da Consulta",consultationDuration:"Durao (minutos)",acceptsInsurance:"Aceita Plano de Sade",insurances:"Planos Aceitos",insurancesPlaceholder:"Liste os planos aceitos (um por linha)",phone:"Telefone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Site",address:"Endereo do Consultrio",acceptingClients:"Aceitando Novos Clientes"}}}}};function ik(e,t){const n={sports:"sports","Sports Nutrition":"sports","Nutrio Esportiva":"sports",clinical:"clinical","Clinical Nutrition":"clinical","Nutrio Clnica":"clinical",weightLoss:"weightLoss","Weight Loss":"weightLoss",Emagrecimento:"weightLoss",womensHealth:"womensHealth","Women's Health":"womensHealth","Sade da Mulher":"womensHealth",pediatric:"pediatric","Pediatric Nutrition":"pediatric","Nutrio Peditrica":"pediatric",geriatric:"geriatric","Geriatric Nutrition":"geriatric","Nutrio Geritrica":"geriatric",vegetarian:"vegetarian","Vegetarian/Vegan":"vegetarian","Vegetariano/Vegano":"vegetarian",diabetes:"diabetes","Diabetes Management":"diabetes","Controle de Diabetes":"diabetes",cardiovascular:"cardiovascular","Cardiovascular Health":"cardiovascular","Sade Cardiovascular":"cardiovascular",gastrointestinal:"gastrointestinal","Gastrointestinal Health":"gastrointestinal","Sade Gastrointestinal":"gastrointestinal"}[e];return n?sk[t].nutritionists.specializations[n]:e}function ge(){const{language:e}=Ei();return sk[e]}function w3({isOpen:e,onClose:t}){const[r,n]=b.useState(""),[s,i]=b.useState(!1),[a,o]=b.useState("email"),[c,u]=b.useState("");if(ge(),!e)return null;const d=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y),h=async y=>{y.preventDefault();const v=r.toLowerCase().trim();if(!v){u("Por favor, digite seu email.");return}if(!d(v)){u("Por favor, digite um email vlido.");return}i(!0),u("");try{if(console.log("Starting password reset process for:",v),!await VT(v)){u("Email no encontrado. Verifique se o email est correto ou crie uma conta."),o("error");return}console.log("Email exists, sending reset email..."),await BT(v),console.log("Reset email sent successfully"),o("sent")}catch(x){console.error("Password reset error:",x);let p="Erro ao enviar email de recuperao. Tente novamente em alguns minutos.";x.message&&(p=x.message),u(p),o("error")}finally{i(!1)}},f=()=>{n(""),o("email"),u(""),i(!1),t()},m=()=>{o("email"),u(""),i(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[l.jsx("button",{onClick:f,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:s,children:l.jsx(Ht,{className:"w-6 h-6"})}),a==="email"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:l.jsx(Hw,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Esqueci minha senha"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite seu email para receber o link de recuperao"})]})]}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:r,onChange:y=>n(y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"seu@email.com",required:!0,disabled:s,autoComplete:"email"})]}),c&&l.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c})}),l.jsxs("button",{type:"submit",disabled:s||!r.trim(),className:V("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",s||!r.trim()?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[s&&l.jsx(ls,{className:"w-4 h-4 animate-spin"}),s?"Verificando...":"Enviar link de recuperao"]})]}),l.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:l.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[l.jsx("strong",{children:"Dica:"})," Verifique sua pasta de spam caso no receba o email em alguns minutos."]})})]}),a==="sent"&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:l.jsx(ci,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Email enviado!"}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Enviamos um link de recuperao para ",l.jsx("strong",{children:r}),". Verifique sua caixa de entrada e pasta de spam."]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:l.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[l.jsx("strong",{children:"Importante:"})," O link expira em 1 hora. Se no receber o email em alguns minutos, verifique sua pasta de spam ou tente novamente."]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:f,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Fechar"}),l.jsx("button",{onClick:m,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Enviar novamente"})]})]}),a==="error"&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:l.jsx(Hf,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao enviar"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:c}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:m,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Tentar novamente"}),l.jsx("button",{onClick:f,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Fechar"})]})]})]})})}const my="authMode@NutriChefe";function b3({isOpen:e,onClose:t,initialMode:r="signin"}){const[n,s]=b.useState(r),[i,a]=b.useState(""),[o,c]=b.useState(""),[u,d]=b.useState(""),[h,f]=b.useState("Client"),[m,y]=b.useState(!1),[v,x]=b.useState(!1),p=ge(),{signIn:g,signUp:w}=Ve();b.useEffect(()=>{if(!e)return;let k=r;try{const P=localStorage.getItem(my);!r&&P&&(k=P)}catch{}s(k)},[e,r]),b.useEffect(()=>{try{localStorage.setItem(my,n)}catch{}},[n]);const j=n==="signup";if(!e)return null;const _=async k=>{k.preventDefault(),y(!0);try{n==="signin"?await g(i,o,u):await w(i,o,u,h),t()}catch(P){console.error("Auth error:",P)}finally{y(!1)}},E=()=>{x(!0)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"relative w-full max-w-md rounded-2xl bg-white/95 shadow-2xl dark:bg-slate-900/95 border border-slate-100/70 dark:border-slate-800",children:[l.jsxs("button",{onClick:t,className:"absolute right-4 top-4 inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-700 dark:hover:bg-slate-800",children:[l.jsx(Ht,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:p.common.close})]}),l.jsxs("div",{className:"flex items-center gap-3 px-6 pt-6 pb-3",children:[l.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-emerald-50 text-emerald-600 dark:bg-emerald-900/40 dark:text-emerald-300",children:l.jsx(Oc,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.16em] text-emerald-600 dark:text-emerald-300",children:"NutriChef"}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:j?p.common.createaccount:p.common.signIn})]})]}),l.jsx("div",{className:"px-6 pb-3",children:l.jsxs("div",{className:"flex rounded-full bg-slate-100 p-1.5 text-sm dark:bg-slate-800",children:[l.jsx("button",{type:"button",onClick:()=>s("signin"),className:V("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",n==="signin"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:p.common.signIn}),l.jsx("button",{type:"button",onClick:()=>s("signup"),className:V("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",n==="signup"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:p.common.signUp})]})}),l.jsxs("form",{onSubmit:_,className:"space-y-3 border-t border-slate-100 px-6 pb-5 pt-4 dark:border-slate-800 text-sm",children:[j&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:p.profile.name}),l.jsx("input",{type:"text",id:"name",name:"name",value:u,autoComplete:"name",onChange:k=>d(k.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:p.profile.accountType}),l.jsxs("div",{className:"flex rounded-full bg-slate-100 p-1.5 text-sm dark:bg-slate-800",children:[l.jsx("button",{type:"button",onClick:()=>f("Client"),className:V("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",h==="Client"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:p.profile.client}),l.jsx("button",{type:"button",onClick:()=>f("Nutritionist"),className:V("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",h==="Nutritionist"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:p.profile.nutricionist})]})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:p.profile.email}),l.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",value:i,onChange:k=>a(k.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:p.profile.password}),l.jsx("input",{type:"password",id:"password",name:"password",autoComplete:j?"new-password":"current-password",value:o,onChange:k=>c(k.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),n==="signin"&&l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"button",onClick:E,className:"text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:p.common.forgotPassword})}),l.jsx("button",{type:"submit",disabled:m,className:V("mt-2 inline-flex w-full items-center justify-center rounded-xl bg-emerald-600 px-4 py-2.5 text-base font-semibold text-white shadow-sm hover:bg-emerald-700 transition disabled:cursor-not-allowed disabled:bg-emerald-400",m&&"opacity-80"),children:m?p.common.loading:n==="signin"?p.common.signIn:p.common.signUp}),l.jsxs("p",{className:"mt-3 text-center text-sm text-slate-500 dark:text-slate-400",children:[n==="signin"?p.common.dontHaveAccount:p.common.alreadyHaveAccount,l.jsx("button",{type:"button",onClick:()=>s(n==="signin"?"signup":"signin"),className:"ml-1 font-semibold text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:n==="signin"?p.common.signUp:p.common.signIn})]})]})]})}),l.jsx(w3,{isOpen:v,onClose:()=>x(!1)})]})}function py(){const{theme:e,setTheme:t}=Ei(),r=ge(),n=[{id:"light",icon:oC,label:r.common.theme.light},{id:"dark",icon:Y2,label:r.common.theme.dark}];return l.jsx("div",{className:"flex items-center gap-2",children:n.map(({id:s,icon:i,label:a})=>l.jsx("button",{onClick:()=>t(s),className:`p-2 rounded-lg transition-colors ${e===s?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,title:a,children:l.jsx(i,{className:"w-5 h-5"})},s))})}function gy(){var c;const{language:e,setLanguage:t}=Ei(),[r,n]=b.useState(!1),i=((c=ge().common)==null?void 0:c.selected)||"Selecionado",a=[{value:"en",label:"English",flagUrl:"https://flagcdn.com/us.svg"},{value:"pt",label:"Portugus",flagUrl:"https://flagcdn.com/br.svg"}],o=a.find(u=>u.value===e)??a[0];return l.jsxs("div",{className:"relative",children:[l.jsxs(ae.button,{onClick:()=>n(!r),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vw,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),l.jsx("span",{className:"relative inline-flex h-5 w-7 overflow-hidden rounded-sm ring-1 ring-gray-200 dark:ring-gray-700",children:l.jsx("img",{src:o.flagUrl,alt:o.label,className:"h-full w-full object-cover"})}),l.jsx("span",{className:"hidden text-sm font-medium text-gray-700 dark:text-gray-300 sm:block",children:o.label})]}),l.jsx(ae.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:l.jsx($w,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})})]}),l.jsx(Si,{children:r&&l.jsxs(l.Fragment,{children:[l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>n(!1)}),l.jsx(ae.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full z-50 mt-2 w-48 overflow-hidden rounded-xl border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",children:a.map((u,d)=>l.jsxs(ae.button,{onClick:()=>{t(u.value),n(!1)},className:`flex w-full items-center gap-3 px-4 py-3 text-left transition-colors ${e===u.value?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},whileHover:{x:4},children:[l.jsx("span",{className:"relative inline-flex h-6 w-8 overflow-hidden rounded-sm ring-1 ring-gray-200 dark:ring-gray-700",children:l.jsx("img",{src:u.flagUrl,alt:u.label,className:"h-full w-full object-cover"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:u.label}),e===u.value&&l.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:i})]}),e===u.value&&l.jsx(ae.div,{className:"ml-auto h-2 w-2 rounded-full bg-green-500",initial:{scale:0},animate:{scale:1},transition:{delay:.1}})]},u.value))})]})})]})}function k3({user:e,onProfileClick:t,onSignOut:r,t:n}){const[s,i]=b.useState(!1),a=b.useRef(null);b.useEffect(()=>{function c(u){a.current&&!a.current.contains(u.target)&&i(!1)}return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const o=()=>e!=null&&e.name?e.name.split(" ").map(c=>c[0]).slice(0,2).join("").toUpperCase():"?";return l.jsxs("div",{className:"relative",ref:a,children:[l.jsxs("button",{onClick:()=>i(!s),className:"flex items-center space-x-2 px-2 py-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg overflow-hidden bg-gradient-to-br from-emerald-400 to-teal-600 flex items-center justify-center shadow-sm",children:e!=null&&e.avatar_url?l.jsx("img",{src:e.avatar_url,alt:e.name||"User",className:"w-full h-full object-cover"}):l.jsx("span",{className:"text-white font-bold text-xs",children:o()})}),l.jsx("span",{className:"hidden lg:block text-sm font-medium text-gray-700 dark:text-gray-200 max-w-[120px] truncate",children:e==null?void 0:e.name}),l.jsx($w,{className:V("hidden lg:block w-4 h-4 text-gray-400 transition-transform",s&&"rotate-180")})]}),l.jsx(Si,{children:s&&l.jsxs(ae.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:e==null?void 0:e.name}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e==null?void 0:e.email})]}),l.jsxs("button",{onClick:()=>{t(),i(!1)},className:"w-full flex items-center space-x-3 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[l.jsx($r,{className:"w-4 h-4"}),l.jsx("span",{children:n.common.profile})]}),l.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),l.jsxs("button",{onClick:()=>{r(),i(!1)},className:"w-full flex items-center space-x-3 px-4 py-2.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[l.jsx(Bw,{className:"w-4 h-4"}),l.jsx("span",{children:n.common.signOut})]})]})})]})}function j3({onProfileClick:e,onAIMentoringClick:t}){var w;const r=St(),[n,s]=b.useState(!1),[i,a]=b.useState("signin"),[o,c]=b.useState(!1),{user:u,isAuthenticated:d,signOut:h,isNutritionist:f}=Ve(),{hasFeatureAccess:m}=Wc(),{searchQuery:y,setSearchQuery:v}=tm(),x=ge(),p=j=>{a(j),s(!0)},g=d&&(f()||m("ai_mentoring"));return l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(ae.h1,{className:"text-2xl font-bold text-green-600 dark:text-green-400 cursor-pointer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"NutriChef"})}),l.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-8",children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:y,onChange:j=>v(j.target.value),placeholder:x.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),l.jsx(Mg,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),l.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[l.jsx(py,{}),l.jsx(gy,{}),d?l.jsxs(ae.div,{className:"flex items-center space-x-2 ml-2",initial:{opacity:0},animate:{opacity:1},children:[l.jsxs("button",{onClick:()=>r("/nutricionistas"),className:"flex items-center space-x-1.5 px-3 py-2 rounded-lg text-sm font-medium text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",title:x.buttons.findNutritionists,children:[l.jsx(th,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden xl:inline",children:x.buttons.findNutritionists})]}),l.jsxs("button",{onClick:t,className:V("relative flex items-center space-x-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors",g?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800"),title:g?x.labels.aiMentoring:`${x.labels.aiMentoring} (${x.labels.premium})`,children:[l.jsx(Zn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden xl:inline",children:x.labels.aiMentoring}),!g&&l.jsx("span",{className:"absolute -top-2 -right-2 text-[9px] bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-0.5 rounded-full font-bold shadow-md uppercase tracking-wider",children:x.labels.premium})]}),l.jsx("div",{className:"h-8 w-px bg-gray-200 dark:bg-gray-600 mx-1"}),l.jsx(k3,{user:u,onProfileClick:e,onSignOut:h,t:x})]}):l.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[l.jsx(ae.button,{onClick:()=>p("signin"),className:"px-4 py-2 rounded-lg text-sm font-medium text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:x.common.signIn}),l.jsx(ae.button,{onClick:()=>p("signup"),className:"px-4 py-2 rounded-lg text-sm font-medium bg-green-600 text-white hover:bg-green-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:x.common.signUp})]})]}),l.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[l.jsx(py,{}),l.jsx(gy,{}),l.jsx("button",{onClick:()=>c(!o),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(q2,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})]})]})}),l.jsx(Si,{children:o&&l.jsx(ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:l.jsxs("div",{className:"px-4 py-3 space-y-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:y,onChange:j=>v(j.target.value),placeholder:x.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),l.jsx(Mg,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),d?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-3 px-4 py-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg overflow-hidden bg-gradient-to-br from-emerald-400 to-teal-600 flex items-center justify-center shadow-sm flex-shrink-0",children:u!=null&&u.avatar_url?l.jsx("img",{src:u.avatar_url,alt:u.name||"User",className:"w-full h-full object-cover"}):l.jsx("span",{className:"text-white font-bold text-sm",children:((w=u==null?void 0:u.name)==null?void 0:w.split(" ").map(j=>j[0]).slice(0,2).join("").toUpperCase())||"?"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:u==null?void 0:u.name}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:u==null?void 0:u.email})]})]}),l.jsxs("button",{onClick:()=>{r("/nutricionistas"),c(!1)},className:"w-full flex items-center space-x-3 px-4 py-2.5 rounded-lg text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[l.jsx(th,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:x.buttons.findNutritionists})]}),l.jsxs("button",{onClick:()=>{t(),c(!1)},className:V("w-full flex items-center space-x-3 px-4 py-2.5 rounded-lg transition-colors relative",g?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800"),children:[l.jsx(Zn,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:x.labels.aiMentoring}),!g&&l.jsx("span",{className:"ml-auto text-[10px] bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2.5 py-1 rounded-full font-bold shadow-md uppercase tracking-wider",children:x.labels.premium})]}),l.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),l.jsxs("button",{onClick:()=>{e(),c(!1)},className:"w-full flex items-center space-x-3 px-4 py-2.5 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[l.jsx($r,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:x.common.profile})]}),l.jsxs("button",{onClick:()=>{h(),c(!1)},className:"w-full flex items-center space-x-3 px-4 py-2.5 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[l.jsx(Bw,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:x.common.signOut})]})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>{p("signin"),c(!1)},className:"w-full px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:x.common.signIn}),l.jsx("button",{onClick:()=>{p("signup"),c(!1)},className:"w-full px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:x.common.signUp})]})]})})})]}),l.jsx(b3,{isOpen:n,onClose:()=>s(!1),initialMode:i})]})}const lr=Br((e,t)=>({recipes:[],favoriteRecipes:[],loading:!1,error:null,clearUserData:()=>{console.log("Clearing user data from recipes store"),e({favoriteRecipes:[]})},initializeAuth:async()=>{const{user:r}=Ve.getState();r&&await t().fetchFavorites(r.id)},fetchRecipes:async()=>{e({loading:!0,error:null});try{console.log("Fetching recipes from database...");const r=await IT();console.log("Recipes fetched successfully:",r.length),e({recipes:r,loading:!1});const{user:n}=Ve.getState();n&&await t().fetchFavorites(n.id)}catch(r){console.error("Error fetching recipes:",r);const n=r instanceof Error?r.message:"Failed to fetch recipes";e({error:n,loading:!1}),te.getState().showToast("Erro ao carregar receitas","error")}},fetchFavorites:async r=>{try{console.log("Fetching favorites for user:",r);const n=await UT(r);console.log("Favorites fetched:",n),e({favoriteRecipes:n})}catch(n){console.error("Failed to fetch favorites:",n)}},addToFavorites:async r=>{const{user:n}=Ve.getState();if(!n){te.getState().showToast("Faa login para favoritar receitas","error");return}try{console.log("Adding to favorites:",{userId:n.id,recipeId:r}),await zT(n.id,r),e(s=>({favoriteRecipes:[...s.favoriteRecipes,r]})),te.getState().showToast("Adicionado aos favoritos","success")}catch(s){console.error("Failed to add favorite:",s);const i=s instanceof Error?s.message:"Erro ao adicionar aos favoritos";te.getState().showToast(i,"error")}},removeFromFavorites:async r=>{const{user:n}=Ve.getState();if(!n){te.getState().showToast("Faa login para gerenciar favoritos","error");return}try{console.log("Removing from favorites:",{userId:n.id,recipeId:r}),await $T(n.id,r),e(s=>({favoriteRecipes:s.favoriteRecipes.filter(i=>i!==r)})),te.getState().showToast("Removido dos favoritos","info")}catch(s){console.error("Failed to remove favorite:",s);const i=s instanceof Error?s.message:"Erro ao remover dos favoritos";te.getState().showToast(i,"error")}},addReview:async(r,n)=>{try{console.log("Adding review:",{recipeId:r,review:n}),await LT(r,{user_id:n.userId,rating:n.rating,comment:n.comment}),await t().fetchRecipes(),te.getState().showToast("Avaliao adicionada com sucesso!","success")}catch(s){console.error("Failed to add review:",s);const i=s instanceof Error?s.message:"Erro ao adicionar avaliao";throw te.getState().showToast(i,"error"),s}},updateReview:async(r,n)=>{try{console.log("Updating review:",{reviewId:r,updates:n}),await OT(r,n),await t().fetchRecipes(),te.getState().showToast("Avaliao atualizada com sucesso!","success")}catch(s){console.error("Failed to update review:",s);const i=s instanceof Error?s.message:"Erro ao atualizar avaliao";throw te.getState().showToast(i,"error"),s}},deleteReview:async r=>{try{console.log("Deleting review:",r),await FT(r),await t().fetchRecipes(),te.getState().showToast("Avaliao excluda com sucesso!","success")}catch(n){console.error("Failed to delete review:",n);const s=n instanceof Error?n.message:"Erro ao excluir avaliao";throw te.getState().showToast(s,"error"),n}},createRecipe:async r=>{e({loading:!0,error:null});try{console.log("Creating recipe:",r),await AT(r),await t().fetchRecipes(),te.getState().showToast("Receita criada com sucesso!","success")}catch(n){console.error("Failed to create recipe:",n);const s=n instanceof Error?n.message:"Failed to create recipe";throw e({error:s}),te.getState().showToast("Erro ao criar receita","error"),n}finally{e({loading:!1})}},updateRecipe:async r=>{e({loading:!0,error:null});try{console.log("Updating recipe:",r),await MT(r.id,r),await t().fetchRecipes(),te.getState().showToast("Receita atualizada com sucesso!","success")}catch(n){console.error("Failed to update recipe:",n);const s=n instanceof Error?n.message:"Failed to update recipe";throw e({error:s}),te.getState().showToast("Erro ao atualizar receita","error"),n}finally{e({loading:!1})}},deleteRecipe:async r=>{e({loading:!0,error:null});try{console.log("Deleting recipe:",r),await DT(r),e(n=>({recipes:n.recipes.filter(s=>s.id!==r),favoriteRecipes:n.favoriteRecipes.filter(s=>s!==r)})),te.getState().showToast("Receita excluda com sucesso!","success")}catch(n){console.error("Failed to delete recipe:",n);const s=n instanceof Error?n.message:"Failed to delete recipe";throw e({error:s}),te.getState().showToast("Erro ao excluir receita","error"),n}finally{e({loading:!1})}}}));function Eh({recipe:e}){const t=St(),{favoriteRecipes:r,addToFavorites:n,removeFromFavorites:s}=lr(),{isAuthenticated:i}=Ve(),a=ge(),c=a.recipe.difficultyLevels[e.difficulty]||e.difficulty,u=a.categories,h=(v=>{const x={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},p=v.toLowerCase().replace(/\s+/g,""),g=Object.keys(x).find(j=>j.toLowerCase().replace(/\s+/g,"")===p);return g?u[x[g]]:u[v]||v})(e.category),f=r.includes(e.id),m=async v=>{if(v.stopPropagation(),!!i)try{f?await s(e.id):await n(e.id)}catch(x){console.error("Error toggling favorite:",x)}},y=()=>{var x,p,g;const v=((x=a.recipes)==null?void 0:x.noReviews)||((p=a.recipe)==null?void 0:p.noReviews)||"Sem avaliaes";return e.rating===0||!e.rating||((g=e.reviews)==null?void 0:g.length)===0?v:e.rating.toFixed(1)};return l.jsxs("div",{onClick:()=>t(`/receita/${e.id}`),className:`
        group relative flex h-full cursor-pointer flex-col overflow-hidden
        rounded-xl border shadow-sm transition-all duration-200
        translate-y-0 hover:-translate-y-1 hover:shadow-lg hover:border-emerald-300
        bg-white border-gray-200
        dark:bg-slate-800 dark:border-slate-700
      `,children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{src:e.image,alt:e.title,className:"h-52 w-full object-cover transition-transform duration-300 group-hover:scale-105",onError:v=>{const x=v.target;x.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop"}}),l.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"}),l.jsxs("span",{className:"absolute bottom-3 left-3 inline-flex items-center gap-1.5 rounded-lg bg-white/90 dark:bg-slate-900/90 px-3 py-1.5 text-xs font-medium shadow-md backdrop-blur-sm",children:[l.jsx(xn,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"}),l.jsx("span",{className:"truncate max-w-[130px] text-gray-900 dark:text-white",children:h})]}),l.jsxs("div",{className:"absolute top-3 left-3 inline-flex items-center gap-1 rounded-lg bg-white/90 dark:bg-slate-900/90 px-2.5 py-1 text-xs font-semibold shadow-md backdrop-blur-sm",children:[l.jsx(yr,{className:"h-3.5 w-3.5 fill-amber-500 text-amber-500"}),l.jsx("span",{className:"text-gray-900 dark:text-white",children:y()})]}),i&&l.jsx("button",{onClick:m,className:V("absolute top-3 right-3 inline-flex h-8 w-8 items-center justify-center rounded-lg shadow-md transition-all duration-200 backdrop-blur-sm","bg-white/90 dark:bg-slate-900/90",f?"text-rose-500":"text-gray-400 dark:text-gray-500 hover:text-rose-500"),children:l.jsx(oo,{className:V("h-4 w-4 transition-all",f&&"fill-current")})})]}),l.jsxs("div",{className:"flex flex-grow flex-col p-5",children:[l.jsx("h3",{className:"mb-2 line-clamp-2 text-lg font-semibold leading-snug text-gray-900 dark:text-white",children:e.title}),l.jsx("p",{className:"mb-4 flex-grow line-clamp-3 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:e.description}),l.jsxs("div",{className:"mt-auto flex items-center justify-between gap-3 border-t border-gray-100 dark:border-slate-700 pt-3",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-900/20 shadow-sm",children:l.jsx(Tn,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.time}),l.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[e.prepTime,"min"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-900/20 shadow-sm",children:l.jsx(yr,{className:"h-4 w-4 fill-amber-500 text-amber-500"})}),l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.rating}),l.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:y()})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx("div",{className:V("flex items-center justify-center w-9 h-9 rounded-xl shadow-sm bg-gradient-to-br",e.difficulty==="easy"&&"from-emerald-50 to-emerald-100 dark:from-emerald-900/30 dark:to-emerald-900/20",e.difficulty==="medium"&&"from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-900/20",e.difficulty==="hard"&&"from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-900/20"),children:l.jsx(xn,{className:V("h-4 w-4",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-orange-600 dark:text-orange-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400")})}),l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.level}),l.jsx("span",{className:V("text-sm font-bold capitalize",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-orange-600 dark:text-orange-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400"),children:c})]})]})]}),e.authorName&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-slate-700 flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gradient-to-br from-emerald-400 to-teal-600 flex items-center justify-center text-white text-xs font-bold shadow-sm",children:e.authorAvatarUrl?l.jsx("img",{src:e.authorAvatarUrl,alt:e.authorName,className:"w-full h-full object-cover"}):l.jsx($r,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.recipe.by||"Por"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.authorName})]})]})]})]})}const _3={all:Ba,vegan:Oc,lowCarb:ec,highProtein:ec,glutenFree:sC,vegetarian:eC};function S3({categories:e,selectedCategory:t,onSelectCategory:r}){const s=ge().categories;return l.jsx(l.Fragment,{children:e.map(i=>{const a=s[i]||i,o=_3[i]||Ba,c=t===i;return l.jsxs(ae.button,{onClick:()=>r(i),className:V("group relative px-4 sm:px-5 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 whitespace-nowrap","flex items-center gap-2",c?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[l.jsx(o,{className:V("w-3.5 h-3.5 sm:w-4 sm:h-4 transition-colors duration-200",c?"text-emerald-600 dark:text-emerald-400":"text-slate-400 dark:text-slate-500")}),l.jsx("span",{children:a})]},i)})})}function N3(){const[e,t]=b.useState(!1),[r,n]=b.useState("right"),s=b.useRef(null),i=b.useRef(null),{difficulty:a,prepTimeRange:o,minRating:c,setDifficulty:u,setPrepTimeRange:d,setMinRating:h,resetFilters:f}=tm(),m=ge(),y=[{value:"quick",label:m.filters.prepTime.quick,max:15},{value:"medium",label:m.filters.prepTime.medium,max:30},{value:"long",label:m.filters.prepTime.long,max:null}],v=[{value:"easy",label:m.recipe.difficultyLevels.easy},{value:"medium",label:m.recipe.difficultyLevels.medium},{value:"hard",label:m.recipe.difficultyLevels.hard}],x=[{value:4,label:"4+ "},{value:4.5,label:"4.5+ "},{value:5,label:"5 "}],p=a||o||c;return b.useEffect(()=>{if(e&&s.current){const g=s.current.getBoundingClientRect(),w=window.innerWidth;g.right+320+16>w?n("left"):n("right")}},[e]),b.useEffect(()=>{function g(w){i.current&&!i.current.contains(w.target)&&s.current&&!s.current.contains(w.target)&&t(!1)}if(e)return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[e]),b.useEffect(()=>{function g(w){w.key==="Escape"&&t(!1)}if(e)return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[e]),l.jsxs("div",{className:"relative",children:[l.jsxs(ae.button,{ref:s,onClick:()=>t(!e),className:V("group flex items-center gap-2 px-4 sm:px-5 py-2.5 rounded-lg transition-all duration-200 whitespace-nowrap text-sm font-medium",p?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-300 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[l.jsx(z2,{className:V("w-4 h-4 flex-shrink-0 transition-colors duration-200",p?"text-emerald-600 dark:text-emerald-400":"text-slate-400 dark:text-slate-500")}),l.jsx("span",{className:"hidden sm:inline",children:m.filters.advanced}),l.jsx("span",{className:"sm:hidden",children:"Filtros"}),p&&l.jsx(ae.span,{initial:{scale:0},animate:{scale:1},className:"bg-emerald-600 dark:bg-emerald-500 text-white text-xs rounded-full min-w-[18px] h-[18px] px-1 flex items-center justify-center flex-shrink-0 font-medium",children:[a,o,c].filter(Boolean).length})]}),l.jsx(Si,{children:e&&l.jsxs(ae.div,{ref:i,initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},className:V("absolute top-full mt-2 bg-white dark:bg-slate-900 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-5 z-50 max-h-[80vh] overflow-y-auto","right-0",r==="left"&&"sm:right-0 sm:left-auto",r==="right"&&"sm:left-0 sm:right-auto","w-72 sm:w-80"),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm",children:m.filters.advanced}),l.jsx(ae.button,{onClick:()=>t(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:l.jsx(Ht,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"space-y-2.5",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.jsx(xn,{className:"w-3.5 h-3.5 text-slate-400"}),m.recipe.difficulty]}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:v.map(g=>l.jsx(ae.button,{onClick:()=>u(a===g.value?null:g.value),className:V("px-2 sm:px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-center",a===g.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:g.label},g.value))})]}),l.jsxs("div",{className:"space-y-2.5",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.jsx(Tn,{className:"w-3.5 h-3.5 text-slate-400"}),m.recipe.prepTime]}),l.jsx("div",{className:"space-y-1.5",children:y.map(g=>l.jsx(ae.button,{onClick:()=>d(o===g.value?null:g.value),className:V("w-full px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-left",o===g.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.01},whileTap:{scale:.99},children:g.label},g.value))})]}),l.jsxs("div",{className:"space-y-2.5",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.jsx(yr,{className:"w-3.5 h-3.5 text-slate-400"}),m.filters.minRating]}),l.jsx("div",{className:"space-y-1.5",children:x.map(g=>l.jsx(ae.button,{onClick:()=>h(c===g.value?null:g.value),className:V("w-full px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-left",c===g.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.01},whileTap:{scale:.99},children:g.label},g.value))})]}),p&&l.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},className:"pt-3 border-t border-slate-100 dark:border-slate-800",children:l.jsx(ae.button,{onClick:()=>{f(),t(!1)},className:"w-full px-3 py-2 bg-slate-50 text-slate-600 rounded-lg hover:bg-slate-100 transition-colors duration-150 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50 text-xs font-medium",whileHover:{scale:1.01},whileTap:{scale:.99},children:m.filters.clearAll})})]})]})})]})}const yy={title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}},Sr="w-full rounded-lg border border-slate-200/90 bg-white/90 px-3 py-2.5 text-sm md:text-base text-slate-900 shadow-sm outline-none transition focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/60 dark:border-slate-700 dark:bg-slate-900/80 dark:text-slate-50",bs="block text-sm md:text-base font-medium text-slate-700 dark:text-slate-100",C3="text-base font-semibold text-slate-800 dark:text-slate-100";function ks({title:e,description:t,children:r,className:n}){return l.jsxs("section",{className:V("space-y-3",n),children:[(e||t)&&l.jsxs("header",{className:"space-y-1",children:[e&&l.jsx("h3",{className:C3,children:e}),t&&l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t})]}),r]})}function E3({isOpen:e,onClose:t}){var v,x;const{user:r}=Ve(),{createRecipe:n}=lr(),s=ge(),[i,a]=b.useState(!1),[o,c]=b.useState(yy);if(!e||!r)return null;const u=async p=>{if(p.preventDefault(),!!r){a(!0);try{const g={...o,authorId:r.id,rating:0,reviews:[]};await n(g),c(yy),t()}catch(g){console.error("Error creating recipe:",g)}finally{a(!1)}}},d=(p,g,w)=>{c(j=>{var _;return{...j,[p]:(_=j[p])==null?void 0:_.map((E,k)=>k===g?w:E)}})},h=p=>{c(g=>({...g,[p]:[...g[p]||[],""]}))},f=(p,g)=>{c(w=>{var j;return{...w,[p]:(j=w[p])==null?void 0:j.filter((_,E)=>E!==g)}})},m=(p,g)=>{const w=parseFloat(g)||0;c(j=>({...j,nutritionFacts:{...j.nutritionFacts,[p]:w}}))},y=Object.keys(s.categories).filter(p=>p!=="all").map(p=>({value:p,label:s.categories[p]}));return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-2xl border border-slate-200/80 bg-gradient-to-br from-white via-white to-emerald-50/40 shadow-2xl dark:border-slate-800 dark:from-slate-900 dark:via-slate-900 dark:to-slate-950",children:[l.jsxs("button",{onClick:t,className:"absolute right-4 top-4 inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 text-slate-500 shadow-sm transition hover:scale-105 hover:bg-white hover:text-slate-700 dark:bg-slate-900/80 dark:text-slate-400 dark:hover:bg-slate-900",children:[l.jsx(Ht,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:s.common.close})]}),l.jsx("div",{className:"border-b border-slate-100/80 px-6 pb-4 pt-5 dark:border-slate-800/80 sm:px-7",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("p",{className:"inline-flex w-fit items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium uppercase tracking-wide text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",children:s.recipe.CreateRecipe}),l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50 sm:text-2xl",children:s.recipe.CreateNewRecipe}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 sm:text-base",children:s.recipe.details})]})}),l.jsxs("form",{onSubmit:u,className:"space-y-8 px-6 pb-7 pt-5 text-sm sm:text-base sm:px-7",children:[l.jsx(ks,{children:l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:bs,children:s.recipe.recipeTitle}),l.jsx("input",{type:"text",value:o.title,onChange:p=>c(g=>({...g,title:p.target.value})),className:Sr,required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:bs,children:s.recipe.recipeImageURL}),l.jsx("input",{type:"url",value:o.image,onChange:p=>c(g=>({...g,image:p.target.value})),className:Sr,placeholder:"https://example.com/image.jpg",required:!0})]})]})}),l.jsx(ks,{description:s.recipe.details,children:l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:bs,children:s.recipe.recipeDescription}),l.jsx("textarea",{value:o.description,onChange:p=>c(g=>({...g,description:p.target.value})),className:V(Sr,"min-h-[90px] resize-y"),rows:3,required:!0})]})}),l.jsx(ks,{children:l.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:bs,children:[s.recipe.prepTime," (min)"]}),l.jsx("input",{type:"number",value:o.prepTime,onChange:p=>c(g=>({...g,prepTime:Number(p.target.value)})),className:Sr,min:1,required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:bs,children:s.recipe.difficulty}),l.jsxs("select",{value:o.difficulty,onChange:p=>c(g=>({...g,difficulty:p.target.value})),className:Sr,required:!0,children:[l.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),l.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),l.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:bs,children:s.recipe.recipeCategory}),l.jsx("select",{value:o.category,onChange:p=>c(g=>({...g,category:p.target.value})),className:Sr,required:!0,children:y.map(p=>l.jsx("option",{value:p.value,children:p.label},p.value))})]})]})}),l.jsxs(ks,{title:s.recipe.ingredients,description:s.recipe.addIngredient,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:s.common.add}),l.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 dark:border-emerald-900 dark:bg-emerald-950/50 dark:text-emerald-300 dark:hover:bg-emerald-900/60",children:[l.jsx(ui,{className:"h-4 w-4"}),s.recipe.addIngredient]})]}),l.jsx("div",{className:"mt-2 space-y-2",children:(v=o.ingredients)==null?void 0:v.map((p,g)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:p,onChange:w=>d("ingredients",g,w.target.value),className:Sr,placeholder:s.recipe.example,required:!0}),o.ingredients.length>1&&l.jsx("button",{type:"button",onClick:()=>f("ingredients",g),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white/80 px-2 text-slate-400 shadow-sm transition hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:bg-slate-900/70 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(tc,{className:"h-4 w-4"})})]},g))})]}),l.jsxs(ks,{title:s.recipe.instructions,description:s.recipe.addStep,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:s.common.add}),l.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 dark:border-emerald-900 dark:bg-emerald-950/50 dark:text-emerald-300 dark:hover:bg-emerald-900/60",children:[l.jsx(ui,{className:"h-4 w-4"}),s.recipe.addStep]})]}),l.jsx("div",{className:"mt-2 space-y-2",children:(x=o.instructions)==null?void 0:x.map((p,g)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:p,onChange:w=>d("instructions",g,w.target.value),className:Sr,placeholder:`${s.recipe.Step} ${g+1}`,required:!0}),o.instructions.length>1&&l.jsx("button",{type:"button",onClick:()=>f("instructions",g),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white/80 px-2 text-slate-400 shadow-sm transition hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:bg-slate-900/70 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(tc,{className:"h-4 w-4"})})]},g))})]}),l.jsx(ks,{title:s.recipe.nutritionFacts,children:l.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-5",children:Object.entries(o.nutritionFacts||{}).map(([p,g])=>{const w=p;return l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-200 sm:text-sm",children:s.profile.nutritionGoalsnames[w]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:g,onChange:j=>m(p,j.target.value),className:Sr,placeholder:"0.00",required:!0})]},p)})})}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",disabled:i,className:V("inline-flex w-full items-center justify-center rounded-lg bg-gradient-to-r from-emerald-600 via-emerald-500 to-emerald-600 px-4 py-3 text-base font-semibold text-white shadow-md transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-80 dark:focus-visible:ring-offset-slate-900",i&&"opacity-80"),children:i?s.common.loading:s.recipe.CreateRecipe})})]})]})})}function ak({message:e,type:t,onClose:r,duration:n=3e3}){Xn.useEffect(()=>{const i=setTimeout(r,n);return()=>clearTimeout(i)},[n,r]);const s={success:l.jsx(ci,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),error:l.jsx(Hf,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),info:l.jsx(B2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})};return l.jsx(Si,{children:l.jsxs(ae.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:V("fixed bottom-4 right-4 flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg backdrop-blur-sm z-50",t==="success"&&"bg-green-50/95 dark:bg-green-900/90 border-2 border-green-500 dark:border-green-400",t==="error"&&"bg-red-50/95 dark:bg-red-900/90 border-2 border-red-500 dark:border-red-400",t==="info"&&"bg-blue-50/95 dark:bg-blue-900/90 border-2 border-blue-500 dark:border-blue-400"),children:[s[t],l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e}),l.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(Ht,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]})})}function Lm({size:e="md",className:t}){const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return l.jsx(ls,{className:V("animate-spin",r[e],t)})}function P3(){const e=St(),[t,r]=b.useState(!1),[n,s]=b.useState(!1),{category:i,searchQuery:a,difficulty:o,prepTimeRange:c,minRating:u,setCategory:d}=tm(),{recipes:h,loading:f,fetchRecipes:m}=lr(),{isAuthenticated:y,isNutritionist:v,initializeAuth:x}=Ve(),{message:p,type:g,hideToast:w}=te(),j=ge(),_=["all","vegan","lowCarb","highProtein","glutenFree"];b.useEffect(()=>{(async()=>{if(!n)try{await x(),await m(),s(!0)}catch(R){console.error("Error initializing app:",R),s(!0)}})()},[x,m,n]),b.useEffect(()=>{n&&d("all")},[d,n]);const E=C=>C.toLowerCase().replace(/\s+/g,""),k=C=>{if(!c)return!0;switch(c){case"quick":return C.prepTime<=15;case"medium":return C.prepTime<=30;case"long":return C.prepTime>30;default:return!0}},P=h.filter(C=>{const R=E(C.category),ee=E(i),Q=ee==="all"||R===ee,Fe=C.title.toLowerCase().includes(a.toLowerCase())||C.description.toLowerCase().includes(a.toLowerCase()),Ee=!o||C.difficulty===o,ne=!u||C.rating>=u,ue=k(C);return Q&&Fe&&Ee&&ne&&ue});return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l.jsx(j3,{onProfileClick:()=>e("/perfil"),onAIMentoringClick:()=>e("/mentoria-ia")}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-4",children:j.home.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl text-sm sm:text-base",children:j.home.subtitle})]}),y&&v()&&l.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm sm:text-base",children:[l.jsx(ui,{className:"w-4 h-4 sm:w-5 sm:h-5"}),j.home.createRecipe]})]}),l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"bg-white dark:bg-slate-800/30 rounded-xl p-4 sm:p-5 border border-slate-100 dark:border-slate-700/50",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(S3,{categories:_,selectedCategory:i,onSelectCategory:d}),l.jsx("div",{className:"ml-auto",children:l.jsx(N3,{})})]})})}),f?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(Lm,{size:"lg"})}):P.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:j.home.noRecipes}),h.length===0&&!f&&l.jsx("button",{onClick:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar novamente"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(C=>l.jsx(Eh,{recipe:C},C.id))})]}),l.jsx(E3,{isOpen:t,onClose:()=>r(!1)}),p&&l.jsx(ak,{message:p,type:g,onClose:w})]})}const js={calories:2e3,protein:50,carbs:250,fat:70,fiber:25},vy=["calories","protein","carbs","fat","fiber"],yo=Br()(lo(e=>({goals:js,activeGoals:vy,loading:!1,fetchGoals:async t=>{e({loading:!0});try{const{data:r,error:n}=await $.from("nutrition_goals").select("*").eq("user_id",t).maybeSingle();if(n)throw n;e(r?{goals:{calories:r.calories||js.calories,protein:r.protein||js.protein,carbs:r.carbs||js.carbs,fat:r.fat||js.fat,fiber:r.fiber||js.fiber},activeGoals:r.active_goals||vy,loading:!1}:{loading:!1})}catch(r){console.error("Error fetching nutrition goals:",r),e({loading:!1})}},setActiveGoals:async(t,r)=>{try{const{error:n}=await $.from("nutrition_goals").update({active_goals:r}).eq("user_id",t);if(n)throw n;e({activeGoals:r})}catch(n){throw console.error("Error updating active goals:",n),n}},toggleGoal:async(t,r)=>{e(n=>{const s=n.activeGoals.includes(r)?n.activeGoals.filter(i=>i!==r):[...n.activeGoals,r];return(async()=>{try{const{error:i}=await $.from("nutrition_goals").update({active_goals:s}).eq("user_id",t);if(i)throw i}catch(i){console.error("Error toggling goal:",i)}})(),{activeGoals:s}})},setGoals:t=>e(r=>({goals:{...r.goals,...Object.fromEntries(Object.entries(t).map(([n,s])=>[n,Number(s)]))}}))}),{name:"nutrition-goals"})),T3=()=>({calories:0,protein:0,carbs:0,fat:0,fiber:0}),R3=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},A3=e=>{const t=Number(e??1);return!Number.isFinite(t)||t<=0?1:Math.round(t*10)/10},Xc=Br()(lo((e,t)=>({entries:[],addRecipeToLog:(r,n=1,s)=>{var c,u,d,h,f,m;const i=A3(n),a=s??R3(new Date),o={id:((c=crypto==null?void 0:crypto.randomUUID)==null?void 0:c.call(crypto))??`${Date.now()}-${Math.random()}`,date:a,recipeId:r.id,recipeTitle:r.title,servings:i,perServing:{calories:Number(((u=r.nutritionFacts)==null?void 0:u.calories)??0),protein:Number(((d=r.nutritionFacts)==null?void 0:d.protein)??0),carbs:Number(((h=r.nutritionFacts)==null?void 0:h.carbs)??0),fat:Number(((f=r.nutritionFacts)==null?void 0:f.fat)??0),fiber:Number(((m=r.nutritionFacts)==null?void 0:m.fiber)??0)},createdAt:new Date().toISOString()};e(y=>({entries:[o,...y.entries]}))},removeEntry:r=>e(n=>({entries:n.entries.filter(s=>s.id!==r)})),clearDate:r=>e(n=>({entries:n.entries.filter(s=>s.date!==r)})),getEntriesForDate:r=>t().entries.filter(n=>n.date===r),getTotalsForDate:r=>{const n=T3();for(const s of t().entries)s.date===r&&(n.calories+=s.perServing.calories*s.servings,n.protein+=s.perServing.protein*s.servings,n.carbs+=s.perServing.carbs*s.servings,n.fat+=s.perServing.fat*s.servings,n.fiber+=s.perServing.fiber*s.servings);return{calories:Math.round(n.calories*10)/10,protein:Math.round(n.protein*10)/10,carbs:Math.round(n.carbs*10)/10,fat:Math.round(n.fat*10)/10,fiber:Math.round(n.fiber*10)/10}}}),{name:"nutrition-tracking",version:1})),pc=class pc{static async uploadAvatar(t,r){if(r.size>this.MAX_FILE_SIZE)throw new Error("Imagem muito grande. O tamanho mximo  2MB.");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type))throw new Error("Formato no suportado. Use JPG, PNG, GIF ou WebP.");const s=r.name.split(".").pop(),i=`${t}/avatar.${s}`,{error:a}=await $.storage.from(this.AVATARS_BUCKET).upload(i,r,{cacheControl:"3600",upsert:!0});if(a)throw a;const{data:o}=$.storage.from(this.AVATARS_BUCKET).getPublicUrl(i);return`${o.publicUrl}?t=${Date.now()}`}static async deleteAvatar(t){const{data:r}=await $.storage.from(this.AVATARS_BUCKET).list(t);if(r&&r.length>0){const n=r.map(i=>`${t}/${i.name}`),{error:s}=await $.storage.from(this.AVATARS_BUCKET).remove(n);if(s)throw s}}static getAvatarUrl(t,r){const{data:n}=$.storage.from(this.AVATARS_BUCKET).getPublicUrl(`${t}/${r}`);return n.publicUrl}};pc.AVATARS_BUCKET="avatars",pc.MAX_FILE_SIZE=2*1024*1024;let hc=pc;var Ph=function(e,t){return Ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ph(e,t)};function M3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ph(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qe=function(){return qe=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qe.apply(this,arguments)};var xy=!1,Wn,Th,Rh,jl,_l,ok,Sl,Ah,Mh,Dh,lk,Ih,Lh,ck,uk;function vt(){if(!xy){xy=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Ih=/\b(iPhone|iP[ao]d)/.exec(e),Lh=/\b(iP[ao]d)/.exec(e),Dh=/Android/i.exec(e),ck=/FBAN\/\w+;/i.exec(e),uk=/Mobile/i.exec(e),lk=!!/Win64/.exec(e),t){Wn=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Wn&&document&&document.documentMode&&(Wn=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(e);ok=n?parseFloat(n[1])+4:Wn,Th=t[2]?parseFloat(t[2]):NaN,Rh=t[3]?parseFloat(t[3]):NaN,jl=t[4]?parseFloat(t[4]):NaN,jl?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),_l=t&&t[1]?parseFloat(t[1]):NaN):_l=NaN}else Wn=Th=Rh=_l=jl=NaN;if(r){if(r[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Sl=s?parseFloat(s[1].replace("_",".")):!0}else Sl=!1;Ah=!!r[2],Mh=!!r[3]}else Sl=Ah=Mh=!1}}var Oh={ie:function(){return vt()||Wn},ieCompatibilityMode:function(){return vt()||ok>Wn},ie64:function(){return Oh.ie()&&lk},firefox:function(){return vt()||Th},opera:function(){return vt()||Rh},webkit:function(){return vt()||jl},safari:function(){return Oh.webkit()},chrome:function(){return vt()||_l},windows:function(){return vt()||Ah},osx:function(){return vt()||Sl},linux:function(){return vt()||Mh},iphone:function(){return vt()||Ih},mobile:function(){return vt()||Ih||Lh||Dh||uk},nativeApp:function(){return vt()||ck},android:function(){return vt()||Dh},ipad:function(){return vt()||Lh}},D3=Oh,el=!!(typeof window<"u"&&window.document&&window.document.createElement),I3={canUseDOM:el,canUseWorkers:typeof Worker<"u",canUseEventListeners:el&&!!(window.addEventListener||window.attachEvent),canUseViewport:el&&!!window.screen,isInWorker:!el},L3=I3,dk=L3,hk;dk.canUseDOM&&(hk=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function O3(e,t){if(!dk.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,n=r in document;if(!n){var s=document.createElement("div");s.setAttribute(r,"return;"),n=typeof s[r]=="function"}return!n&&hk&&e==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var F3=O3,z3=D3,$3=F3,wy=10,by=40,ky=800;function fk(e){var t=0,r=0,n=0,s=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=t*wy,s=r*wy,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||s)&&e.deltaMode&&(e.deltaMode==1?(n*=by,s*=by):(n*=ky,s*=ky)),n&&!t&&(t=n<1?-1:1),s&&!r&&(r=s<1?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:s}}fk.getEventType=function(){return z3.firefox()?"DOMMouseScroll":$3("wheel")?"wheel":"mousewheel"};var U3=fk,V3=U3;const B3=zh(V3);function H3(e,t,r,n,s,i){i===void 0&&(i=0);var a=yi(e,t,i),o=a.width,c=a.height,u=Math.min(o,r),d=Math.min(c,n);return u>d*s?{width:d*s,height:d}:{width:u,height:u/s}}function G3(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Ki(e,t,r,n,s){s===void 0&&(s=0);var i=yi(t.width,t.height,s),a=i.width,o=i.height;return{x:jy(e.x,a,r.width,n),y:jy(e.y,o,r.height,n)}}function jy(e,t,r,n){var s=t*n/2-r/2;return eu(e,-s,s)}function _y(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function Sy(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function W3(e,t,r,n,s,i,a){i===void 0&&(i=0),a===void 0&&(a=!0);var o=a?K3:q3,c=yi(t.width,t.height,i),u=yi(t.naturalWidth,t.naturalHeight,i),d={x:o(100,((c.width-r.width/s)/2-e.x/s)/c.width*100),y:o(100,((c.height-r.height/s)/2-e.y/s)/c.height*100),width:o(100,r.width/c.width*100/s),height:o(100,r.height/c.height*100/s)},h=Math.round(o(u.width,d.width*u.width/100)),f=Math.round(o(u.height,d.height*u.height/100)),m=u.width>=u.height*n,y=m?{width:Math.round(f*n),height:f}:{width:h,height:Math.round(h/n)},v=qe(qe({},y),{x:Math.round(o(u.width-y.width,d.x*u.width/100)),y:Math.round(o(u.height-y.height,d.y*u.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:v}}function K3(e,t){return Math.min(e,Math.max(0,t))}function q3(e,t){return t}function Y3(e,t,r,n,s,i){var a=yi(t.width,t.height,r),o=eu(n.width/a.width*(100/e.width),s,i),c={x:o*a.width/2-n.width/2-a.width*o*(e.x/100),y:o*a.height/2-n.height/2-a.height*o*(e.y/100)};return{crop:c,zoom:o}}function J3(e,t,r){var n=G3(t);return r.height>r.width?r.height/(e.height*n):r.width/(e.width*n)}function Z3(e,t,r,n,s,i){r===void 0&&(r=0);var a=yi(t.naturalWidth,t.naturalHeight,r),o=eu(J3(e,t,n),s,i),c=n.height>n.width?n.height/e.height:n.width/e.width,u={x:((a.width-e.width)/2-e.x)*c,y:((a.height-e.height)/2-e.y)*c};return{crop:u,zoom:o}}function Ny(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function Q3(e){return e*Math.PI/180}function yi(e,t,r){var n=Q3(r);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*t)}}function eu(e,t,r){return Math.min(Math.max(e,t),r)}function tl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(r){return typeof r=="string"&&r.length>0}).join(" ").trim()}var X3=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,eM=1,tM=3,rM=1,nM=function(e){M3(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.cropperRef=b.createRef(),r.imageRef=b.createRef(),r.videoRef=b.createRef(),r.containerPosition={x:0,y:0},r.containerRef=null,r.styleRef=null,r.containerRect=null,r.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},r.dragStartPosition={x:0,y:0},r.dragStartCrop={x:0,y:0},r.gestureZoomStart=0,r.gestureRotationStart=0,r.isTouching=!1,r.lastPinchDistance=0,r.lastPinchRotation=0,r.rafDragTimeout=null,r.rafPinchTimeout=null,r.wheelTimer=null,r.currentDoc=typeof document<"u"?document:null,r.currentWindow=typeof window<"u"?window:null,r.resizeObserver=null,r.previousCropSize=null,r.isInitialized=!1,r.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},r.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!r.containerRef)){var n=!0;r.resizeObserver=new window.ResizeObserver(function(s){if(n){n=!1;return}r.computeSizes()}),r.resizeObserver.observe(r.containerRef)}},r.preventZoomSafari=function(n){return n.preventDefault()},r.cleanEvents=function(){r.currentDoc&&(r.currentDoc.removeEventListener("mousemove",r.onMouseMove),r.currentDoc.removeEventListener("mouseup",r.onDragStopped),r.currentDoc.removeEventListener("touchmove",r.onTouchMove),r.currentDoc.removeEventListener("touchend",r.onDragStopped),r.currentDoc.removeEventListener("gesturechange",r.onGestureChange),r.currentDoc.removeEventListener("gestureend",r.onGestureEnd),r.currentDoc.removeEventListener("scroll",r.onScroll))},r.clearScrollEvent=function(){r.containerRef&&r.containerRef.removeEventListener("wheel",r.onWheel),r.wheelTimer&&clearTimeout(r.wheelTimer)},r.onMediaLoad=function(){var n=r.computeSizes();n&&(r.previousCropSize=n,r.emitCropData(),r.setInitialCrop(n),r.isInitialized=!0),r.props.onMediaLoaded&&r.props.onMediaLoaded(r.mediaSize)},r.setInitialCrop=function(n){if(r.props.initialCroppedAreaPercentages){var s=Y3(r.props.initialCroppedAreaPercentages,r.mediaSize,r.props.rotation,n,r.props.minZoom,r.props.maxZoom),i=s.crop,a=s.zoom;r.props.onCropChange(i),r.props.onZoomChange&&r.props.onZoomChange(a)}else if(r.props.initialCroppedAreaPixels){var o=Z3(r.props.initialCroppedAreaPixels,r.mediaSize,r.props.rotation,n,r.props.minZoom,r.props.maxZoom),i=o.crop,a=o.zoom;r.props.onCropChange(i),r.props.onZoomChange&&r.props.onZoomChange(a)}},r.computeSizes=function(){var n,s,i,a,o,c,u=r.imageRef.current||r.videoRef.current;if(u&&r.containerRef){r.containerRect=r.containerRef.getBoundingClientRect(),r.saveContainerPosition();var d=r.containerRect.width/r.containerRect.height,h=((n=r.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((s=r.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,f=((i=r.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=r.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,m=u.offsetWidth<h||u.offsetHeight<f,y=h/f,v=void 0;if(m)switch(r.state.mediaObjectFit){default:case"contain":v=d>y?{width:r.containerRect.height*y,height:r.containerRect.height}:{width:r.containerRect.width,height:r.containerRect.width/y};break;case"horizontal-cover":v={width:r.containerRect.width,height:r.containerRect.width/y};break;case"vertical-cover":v={width:r.containerRect.height*y,height:r.containerRect.height};break}else v={width:u.offsetWidth,height:u.offsetHeight};r.mediaSize=qe(qe({},v),{naturalWidth:h,naturalHeight:f}),r.props.setMediaSize&&r.props.setMediaSize(r.mediaSize);var x=r.props.cropSize?r.props.cropSize:H3(r.mediaSize.width,r.mediaSize.height,r.containerRect.width,r.containerRect.height,r.props.aspect,r.props.rotation);return(((o=r.state.cropSize)===null||o===void 0?void 0:o.height)!==x.height||((c=r.state.cropSize)===null||c===void 0?void 0:c.width)!==x.width)&&r.props.onCropSizeChange&&r.props.onCropSizeChange(x),r.setState({cropSize:x},r.recomputeCropPosition),r.props.setCropSize&&r.props.setCropSize(x),x}},r.saveContainerPosition=function(){if(r.containerRef){var n=r.containerRef.getBoundingClientRect();r.containerPosition={x:n.left,y:n.top}}},r.onMouseDown=function(n){r.currentDoc&&(n.preventDefault(),r.currentDoc.addEventListener("mousemove",r.onMouseMove),r.currentDoc.addEventListener("mouseup",r.onDragStopped),r.saveContainerPosition(),r.onDragStart(t.getMousePoint(n)))},r.onMouseMove=function(n){return r.onDrag(t.getMousePoint(n))},r.onScroll=function(n){r.currentDoc&&(n.preventDefault(),r.saveContainerPosition())},r.onTouchStart=function(n){r.currentDoc&&(r.isTouching=!0,!(r.props.onTouchRequest&&!r.props.onTouchRequest(n))&&(r.currentDoc.addEventListener("touchmove",r.onTouchMove,{passive:!1}),r.currentDoc.addEventListener("touchend",r.onDragStopped),r.saveContainerPosition(),n.touches.length===2?r.onPinchStart(n):n.touches.length===1&&r.onDragStart(t.getTouchPoint(n.touches[0]))))},r.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?r.onPinchMove(n):n.touches.length===1&&r.onDrag(t.getTouchPoint(n.touches[0]))},r.onGestureStart=function(n){r.currentDoc&&(n.preventDefault(),r.currentDoc.addEventListener("gesturechange",r.onGestureChange),r.currentDoc.addEventListener("gestureend",r.onGestureEnd),r.gestureZoomStart=r.props.zoom,r.gestureRotationStart=r.props.rotation)},r.onGestureChange=function(n){if(n.preventDefault(),!r.isTouching){var s=t.getMousePoint(n),i=r.gestureZoomStart-1+n.scale;if(r.setNewZoom(i,s,{shouldUpdatePosition:!0}),r.props.onRotationChange){var a=r.gestureRotationStart+n.rotation;r.props.onRotationChange(a)}}},r.onGestureEnd=function(n){r.cleanEvents()},r.onDragStart=function(n){var s,i,a=n.x,o=n.y;r.dragStartPosition={x:a,y:o},r.dragStartCrop=qe({},r.props.crop),(i=(s=r.props).onInteractionStart)===null||i===void 0||i.call(s)},r.onDrag=function(n){var s=n.x,i=n.y;r.currentWindow&&(r.rafDragTimeout&&r.currentWindow.cancelAnimationFrame(r.rafDragTimeout),r.rafDragTimeout=r.currentWindow.requestAnimationFrame(function(){if(r.state.cropSize&&!(s===void 0||i===void 0)){var a=s-r.dragStartPosition.x,o=i-r.dragStartPosition.y,c={x:r.dragStartCrop.x+a,y:r.dragStartCrop.y+o},u=r.props.restrictPosition?Ki(c,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):c;r.props.onCropChange(u)}}))},r.onDragStopped=function(){var n,s;r.isTouching=!1,r.cleanEvents(),r.emitCropData(),(s=(n=r.props).onInteractionEnd)===null||s===void 0||s.call(n)},r.onWheel=function(n){if(r.currentWindow&&!(r.props.onWheelRequest&&!r.props.onWheelRequest(n))){n.preventDefault();var s=t.getMousePoint(n),i=B3(n).pixelY,a=r.props.zoom-i*r.props.zoomSpeed/200;r.setNewZoom(a,s,{shouldUpdatePosition:!0}),r.state.hasWheelJustStarted||r.setState({hasWheelJustStarted:!0},function(){var o,c;return(c=(o=r.props).onInteractionStart)===null||c===void 0?void 0:c.call(o)}),r.wheelTimer&&clearTimeout(r.wheelTimer),r.wheelTimer=r.currentWindow.setTimeout(function(){return r.setState({hasWheelJustStarted:!1},function(){var o,c;return(c=(o=r.props).onInteractionEnd)===null||c===void 0?void 0:c.call(o)})},250)}},r.getPointOnContainer=function(n,s){var i=n.x,a=n.y;if(!r.containerRect)throw new Error("The Cropper is not mounted");return{x:r.containerRect.width/2-(i-s.x),y:r.containerRect.height/2-(a-s.y)}},r.getPointOnMedia=function(n){var s=n.x,i=n.y,a=r.props,o=a.crop,c=a.zoom;return{x:(s+o.x)/c,y:(i+o.y)/c}},r.setNewZoom=function(n,s,i){var a=i===void 0?{}:i,o=a.shouldUpdatePosition,c=o===void 0?!0:o;if(!(!r.state.cropSize||!r.props.onZoomChange)){var u=eu(n,r.props.minZoom,r.props.maxZoom);if(c){var d=r.getPointOnContainer(s,r.containerPosition),h=r.getPointOnMedia(d),f={x:h.x*u-d.x,y:h.y*u-d.y},m=r.props.restrictPosition?Ki(f,r.mediaSize,r.state.cropSize,u,r.props.rotation):f;r.props.onCropChange(m)}r.props.onZoomChange(u)}},r.getCropData=function(){if(!r.state.cropSize)return null;var n=r.props.restrictPosition?Ki(r.props.crop,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):r.props.crop;return W3(n,r.mediaSize,r.state.cropSize,r.getAspect(),r.props.zoom,r.props.rotation,r.props.restrictPosition)},r.emitCropData=function(){var n=r.getCropData();if(n){var s=n.croppedAreaPercentages,i=n.croppedAreaPixels;r.props.onCropComplete&&r.props.onCropComplete(s,i),r.props.onCropAreaChange&&r.props.onCropAreaChange(s,i)}},r.emitCropAreaChange=function(){var n=r.getCropData();if(n){var s=n.croppedAreaPercentages,i=n.croppedAreaPixels;r.props.onCropAreaChange&&r.props.onCropAreaChange(s,i)}},r.recomputeCropPosition=function(){var n,s;if(r.state.cropSize){var i=r.props.crop;if(r.isInitialized&&(!((n=r.previousCropSize)===null||n===void 0)&&n.width)&&(!((s=r.previousCropSize)===null||s===void 0)&&s.height)){var a=Math.abs(r.previousCropSize.width-r.state.cropSize.width)>1e-6||Math.abs(r.previousCropSize.height-r.state.cropSize.height)>1e-6;if(a){var o=r.state.cropSize.width/r.previousCropSize.width,c=r.state.cropSize.height/r.previousCropSize.height;i={x:r.props.crop.x*o,y:r.props.crop.y*c}}}var u=r.props.restrictPosition?Ki(i,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):i;r.previousCropSize=r.state.cropSize,r.props.onCropChange(u),r.emitCropData()}},r.onKeyDown=function(n){var s,i,a=r.props,o=a.crop,c=a.onCropChange,u=a.keyboardStep,d=a.zoom,h=a.rotation,f=u;if(r.state.cropSize){n.shiftKey&&(f*=.2);var m=qe({},o);switch(n.key){case"ArrowUp":m.y-=f,n.preventDefault();break;case"ArrowDown":m.y+=f,n.preventDefault();break;case"ArrowLeft":m.x-=f,n.preventDefault();break;case"ArrowRight":m.x+=f,n.preventDefault();break;default:return}r.props.restrictPosition&&(m=Ki(m,r.mediaSize,r.state.cropSize,d,h)),n.repeat||(i=(s=r.props).onInteractionStart)===null||i===void 0||i.call(s),c(m)}},r.onKeyUp=function(n){var s,i;switch(n.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault();break;default:return}r.emitCropData(),(i=(s=r.props).onInteractionEnd)===null||i===void 0||i.call(s)},r}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=X3,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var r,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(r=this.resizeObserver)===null||r===void 0||r.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(r){var n,s,i,a,o,c,u,d,h;r.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):r.aspect!==this.props.aspect?this.computeSizes():r.objectFit!==this.props.objectFit?this.computeSizes():r.zoom!==this.props.zoom?this.recomputeCropPosition():((n=r.cropSize)===null||n===void 0?void 0:n.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((i=r.cropSize)===null||i===void 0?void 0:i.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((o=r.crop)===null||o===void 0?void 0:o.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((u=r.crop)===null||u===void 0?void 0:u.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),r.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),r.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},t.prototype.getAspect=function(){var r=this.props,n=r.cropSize,s=r.aspect;return n?n.width/n.height:s},t.prototype.getObjectFit=function(){var r,n,s,i;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var o=this.containerRect.width/this.containerRect.height,c=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,u=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,d=c/u;return d<o?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(r){var n=t.getTouchPoint(r.touches[0]),s=t.getTouchPoint(r.touches[1]);this.lastPinchDistance=_y(n,s),this.lastPinchRotation=Sy(n,s),this.onDragStart(Ny(n,s))},t.prototype.onPinchMove=function(r){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var s=t.getTouchPoint(r.touches[0]),i=t.getTouchPoint(r.touches[1]),a=Ny(s,i);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var o=_y(s,i),c=n.props.zoom*(o/n.lastPinchDistance);n.setNewZoom(c,a,{shouldUpdatePosition:!1}),n.lastPinchDistance=o;var u=Sy(s,i),d=n.props.rotation+(u-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(d),n.lastPinchRotation=u})}},t.prototype.render=function(){var r=this,n,s=this.props,i=s.image,a=s.video,o=s.mediaProps,c=s.cropperProps,u=s.transform,d=s.crop,h=d.x,f=d.y,m=s.rotation,y=s.zoom,v=s.cropShape,x=s.showGrid,p=s.roundCropAreaPixels,g=s.style,w=g.containerStyle,j=g.cropAreaStyle,_=g.mediaStyle,E=s.classes,k=E.containerClassName,P=E.cropAreaClassName,C=E.mediaClassName,R=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return b.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Q){return r.containerRef=Q},"data-testid":"container",style:w,className:tl("reactEasyCrop_Container",k)},i?b.createElement("img",qe({alt:"",className:tl("reactEasyCrop_Image",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},o,{src:i,ref:this.imageRef,style:qe(qe({},_),{transform:u||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(y,")")}),onLoad:this.onMediaLoad})):a&&b.createElement("video",qe({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:tl("reactEasyCrop_Video",R==="contain"&&"reactEasyCrop_Contain",R==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",R==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},o,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:qe(qe({},_),{transform:u||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(y,")")}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(ee){return b.createElement("source",qe({key:ee.src},ee))})),this.state.cropSize&&b.createElement("div",qe({ref:this.cropperRef,style:qe(qe({},j),{width:p?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:p?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:tl("reactEasyCrop_CropArea",v==="round"&&"reactEasyCrop_CropAreaRound",x&&"reactEasyCrop_CropAreaGrid",P)},c)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:tM,minZoom:eM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:rM},t.getMousePoint=function(r){return{x:Number(r.clientX),y:Number(r.clientY)}},t.getTouchPoint=function(r){return{x:Number(r.clientX),y:Number(r.clientY)}},t}(b.Component);const sM=e=>new Promise((t,r)=>{const n=new Image;n.addEventListener("load",()=>t(n)),n.addEventListener("error",s=>r(s)),n.setAttribute("crossOrigin","anonymous"),n.src=e});function mk(e){return e*Math.PI/180}function iM(e,t,r){const n=mk(r);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*t)}}async function aM(e,t,r=0,n={horizontal:!1,vertical:!1}){const s=await sM(e),i=document.createElement("canvas"),a=i.getContext("2d");if(!a)throw new Error("No 2d context");const o=mk(r),{width:c,height:u}=iM(s.width,s.height,r);i.width=c,i.height=u,a.translate(c/2,u/2),a.rotate(o),a.scale(n.horizontal?-1:1,n.vertical?-1:1),a.translate(-s.width/2,-s.height/2),a.drawImage(s,0,0);const d=document.createElement("canvas"),h=d.getContext("2d");if(!h)throw new Error("No 2d context");return d.width=t.width,d.height=t.height,h.drawImage(i,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise((f,m)=>{d.toBlob(y=>{if(!y){m(new Error("Canvas is empty"));return}f(y)},"image/jpeg")})}function oM({imageSrc:e,onComplete:t,onCancel:r}){const[n,s]=b.useState({x:0,y:0}),[i,a]=b.useState(1),[o,c]=b.useState(0),[u,d]=b.useState(null),[h,f]=b.useState(!1),m=ge(),y=b.useCallback((x,p)=>{d(p)},[]),v=b.useCallback(async()=>{if(u)try{f(!0);const x=await aM(e,u,o);t(x)}catch(x){console.error("Error cropping image:",x)}finally{f(!1)}},[e,u,o,t]);return l.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/70 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-2xl overflow-hidden rounded-2xl border border-slate-200/80 bg-white shadow-2xl dark:border-slate-800 dark:bg-slate-900",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4 dark:border-slate-800",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:m.profile.editProfilePhoto}),l.jsx("button",{onClick:r,className:"inline-flex h-9 w-9 items-center justify-center rounded-full text-slate-400 transition hover:bg-slate-100 hover:text-slate-700 dark:hover:bg-slate-800 dark:hover:text-slate-200",children:l.jsx(Ht,{className:"h-5 w-5"})})]}),l.jsx("div",{className:"relative h-80 bg-slate-950 sm:h-96",children:l.jsx(nM,{image:e,crop:n,zoom:i,rotation:o,aspect:1,cropShape:"round",showGrid:!1,onCropChange:s,onCropComplete:y,onZoomChange:a,onRotationChange:c})}),l.jsxs("div",{className:"space-y-4 border-t border-slate-100 p-5 dark:border-slate-800",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(dC,{className:"h-4 w-4 flex-shrink-0 text-slate-400 dark:text-slate-500"}),l.jsx("input",{type:"range",min:1,max:3,step:.1,value:i,onChange:x=>a(Number(x.target.value)),className:"h-2 flex-1 cursor-pointer appearance-none rounded-lg bg-slate-200 accent-emerald-600 dark:bg-slate-700"}),l.jsx(uC,{className:"h-4 w-4 flex-shrink-0 text-slate-400 dark:text-slate-500"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(X2,{className:"h-4 w-4 flex-shrink-0 text-slate-400 dark:text-slate-500"}),l.jsx("input",{type:"range",min:0,max:360,step:1,value:o,onChange:x=>c(Number(x.target.value)),className:"h-2 flex-1 cursor-pointer appearance-none rounded-lg bg-slate-200 accent-emerald-600 dark:bg-slate-700"}),l.jsx("span",{className:"w-12 text-right text-sm font-medium text-slate-500 dark:text-slate-400",children:o})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:r,className:"flex-1 rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-base font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200 dark:hover:bg-slate-800",children:m.common.cancel}),l.jsxs("button",{onClick:v,disabled:h,className:V("flex-1 inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2.5 text-base font-semibold text-white shadow-md transition","bg-gradient-to-r from-emerald-600 via-emerald-500 to-emerald-600 hover:brightness-110","disabled:cursor-not-allowed disabled:opacity-60"),children:[l.jsx(Xt,{className:"h-5 w-5"}),h?m.profile.cropProcessing:m.profile.cropApply]})]})]})]})})}const lM={sm:"w-12 h-12",md:"w-20 h-20",lg:"w-32 h-32",xl:"w-40 h-40"},nd={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-6 h-6",xl:"w-8 h-8"},cM={sm:"p-1",md:"p-1.5",lg:"p-2",xl:"p-2.5"},uM={sm:"w-3 h-3",md:"w-3.5 h-3.5",lg:"w-4 h-4",xl:"w-4.5 h-4.5"},dM={sm:"p-0.5",md:"p-1",lg:"p-1.5",xl:"p-1.5"},hM={sm:"w-2.5 h-2.5",md:"w-3 h-3",lg:"w-3.5 h-3.5",xl:"w-3.5 h-3.5"},fM={sm:"text-xs",md:"text-sm",lg:"text-xl",xl:"text-3xl"};function mM({currentAvatarUrl:e,onAvatarUpdate:t,size:r="lg",editable:n=!0}){const[s,i]=b.useState(!1),[a,o]=b.useState(e||null),[c,u]=b.useState(!1),[d,h]=b.useState(null),f=b.useRef(null),{user:m,updateProfile:y}=Ve(),{showToast:v}=te(),x=ge(),p=async E=>{var P;const k=(P=E.target.files)==null?void 0:P[0];if(!(!k||!m))try{if(k.size>10*1024*1024){v(x.profile.avatarTooLarge||"Arquivo muito grande. Max 10MB.","error");return}const C=new FileReader;C.onloadend=()=>{h(C.result),u(!0)},C.readAsDataURL(k)}catch(C){console.error("Error reading file:",C),v(C.message||"Erro ao ler arquivo","error")}finally{f.current&&(f.current.value="")}},g=async E=>{if(m)try{i(!0),u(!1);const k=new File([E],"avatar.jpg",{type:"image/jpeg"}),P=new FileReader;P.onloadend=()=>{o(P.result)},P.readAsDataURL(k);const C=await hc.uploadAvatar(m.id,k),{error:R}=await $.from("profiles").update({avatar_url:C}).eq("id",m.id);if(R)throw R;await y({avatar_url:C}),t&&t(C),v(x.profile.avatarUpdated||"Foto de perfil atualizada!","success")}catch(k){console.error("Error uploading avatar:",k),v(k.message||"Erro ao fazer upload da foto","error"),o(e||null)}finally{i(!1),h(null)}},w=()=>{u(!1),h(null)},j=async()=>{if(m)try{i(!0),await hc.deleteAvatar(m.id);const{error:E}=await $.from("profiles").update({avatar_url:null}).eq("id",m.id);if(E)throw E;await y({avatar_url:null}),o(null),t&&t(""),v(x.profile.avatarRemoved||"Foto de perfil removida!","success")}catch(E){console.error("Error removing avatar:",E),v(E.message||"Erro ao remover foto","error")}finally{i(!1)}},_=()=>m!=null&&m.name?m.name.split(" ").map(E=>E[0]).slice(0,2).join("").toUpperCase():"?";return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative inline-block group",children:[l.jsxs("div",{className:V(lM[r],"rounded-full overflow-hidden bg-gradient-to-br from-emerald-400 to-teal-600","flex items-center justify-center text-white font-bold shadow-lg relative","ring-4 ring-white dark:ring-slate-900 transition-shadow duration-200",n&&"cursor-pointer group-hover:shadow-xl"),onClick:n?()=>{var E;return(E=f.current)==null?void 0:E.click()}:void 0,children:[a?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:a,alt:"Avatar",className:"w-full h-full object-cover"}),n&&l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:l.jsx(Tg,{className:V(nd[r],"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300")})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:fM[r],children:_()}),n&&l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center",children:l.jsx(Tg,{className:V(nd[r],"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300")})})]}),s&&l.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:l.jsx(ls,{className:V(nd[r],"text-white animate-spin")})})]}),n&&l.jsxs(l.Fragment,{children:[l.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:p,className:"hidden",disabled:s}),l.jsx("button",{onClick:E=>{var k;E.stopPropagation(),(k=f.current)==null||k.click()},disabled:s,className:V("absolute bottom-0 right-0 bg-emerald-500 text-white rounded-full shadow-lg","hover:bg-emerald-600 hover:scale-110 transition-all duration-200","ring-2 ring-white dark:ring-slate-900","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",cM[r]),title:x.profile.changePhoto||"Alterar foto",children:l.jsx(lC,{className:uM[r]})}),a&&l.jsx("button",{onClick:E=>{E.stopPropagation(),j()},disabled:s,className:V("absolute top-0 right-0 bg-red-500 text-white rounded-full shadow-lg","hover:bg-red-600 hover:scale-110 transition-all duration-200","ring-2 ring-white dark:ring-slate-900","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",dM[r]),title:x.profile.removePhoto||"Remover foto",children:l.jsx(Ht,{className:hM[r]})})]})]}),c&&d&&l.jsx(oM,{imageSrc:d,onComplete:g,onCancel:w})]})}function pM(){const{user:e}=Ve(),{recipes:t,favoriteRecipes:r}=lr(),{goals:n,activeGoals:s}=yo(),{entries:i}=Xc(),{isPremium:a}=Wc(),o=ge();if(!e)return null;const c=t.filter(y=>y.authorId===e.id),u=t.filter(y=>r.includes(y.id)).length,d=e.type==="Nutritionist",h=a(),f=s.length>0,m=new Set(i.map(y=>y.date)).size;return l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/90 flex flex-col sm:flex-row sm:items-center gap-6",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(mM,{currentAvatarUrl:e.avatar_url,size:"xl",editable:!0})}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:e.name}),l.jsxs("div",{className:"flex flex-col gap-1 text-sm text-slate-600 dark:text-slate-400",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hw,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-300"}),e.email]}),l.jsxs("div",{className:"flex items-center gap-2",children:[h&&!d?l.jsx(ma,{className:"h-4 w-4 text-amber-500 dark:text-amber-400"}):l.jsx(xn,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-300"}),d?o.profile.nutricionist:h?o.profile.clientPremium:o.profile.client]})]}),d&&l.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[l.jsx("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300",children:c.length}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.publishedRecipes})]}),l.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[l.jsx("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300",children:u}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.favorites})]})]}),!d&&l.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[l.jsxs("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300 flex items-center justify-center gap-1",children:[l.jsx(oo,{className:"h-4 w-4"}),u]}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.favorites})]}),f&&l.jsxs("div",{className:"rounded-xl bg-blue-50 dark:bg-blue-900/20 p-3 text-center border border-blue-100 dark:border-blue-800/60",children:[l.jsxs("p",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300 flex items-center justify-center gap-1",children:[l.jsx(Kw,{className:"h-4 w-4"}),s.length]}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.activeGoalsLabel})]}),m>0&&l.jsxs("div",{className:"rounded-xl bg-purple-50 dark:bg-purple-900/20 p-3 text-center border border-purple-100 dark:border-purple-800/60",children:[l.jsxs("p",{className:"text-lg font-semibold text-purple-700 dark:text-purple-300 flex items-center justify-center gap-1",children:[l.jsx(Tn,{className:"h-4 w-4"}),m]}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.trackedDays})]})]})]})]})}function gM(){const{goals:e,setGoals:t}=yo(),[r,n]=b.useState(e),s=ge(),i=s.profile.saveGoals,a=s.profile.dailyGoals,o=s.profile.nutritionGoalsnames,c=h=>{h.preventDefault(),t(r)},u=b.useMemo(()=>({calories:{icon:ec,unit:"kcal",accent:"text-amber-300",ring:"focus-visible:ring-amber-400/40"},protein:{icon:zw,unit:"g",accent:"text-rose-300",ring:"focus-visible:ring-rose-400/40"},carbs:{icon:qw,unit:"g",accent:"text-sky-300",ring:"focus-visible:ring-sky-400/40"},fat:{icon:Uw,unit:"g",accent:"text-emerald-300",ring:"focus-visible:ring-emerald-400/40"},fiber:{icon:Oc,unit:"g",accent:"text-lime-300",ring:"focus-visible:ring-lime-400/40"}}),[r]),d=(h,f)=>{const m=Number.isFinite(Number(f))?parseFloat(f):0;n(y=>({...y,[h]:m<0?0:m}))};return l.jsxs("form",{onSubmit:c,className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-sm backdrop-blur md:p-6",children:[l.jsx("div",{className:"mb-4 flex items-start justify-between gap-3",children:l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-white/10 ring-1 ring-white/10",children:l.jsx(Ww,{className:"h-5 w-5 text-emerald-300"})}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:a})]})})}),l.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:Object.entries(r).map(([h,f])=>{const m=u[h],y=m.icon,v=o[h];return l.jsxs("div",{className:"group rounded-2xl border border-white/10 bg-slate-950/30 p-4 transition hover:border-white/15 hover:bg-slate-950/40",children:[l.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-white/5 ring-1 ring-white/10",children:l.jsx(y,{className:`h-5 w-5 ${m.accent}`})}),l.jsx("div",{className:"min-w-0",children:l.jsx("div",{className:"truncate text-sm font-medium text-white",children:v})})]}),l.jsx("span",{className:"shrink-0 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-xs text-white/70",children:m.unit})]}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"number",step:"0.1",min:"0",value:Number.isFinite(f)?f:0,onChange:x=>d(h,x.target.value),inputMode:"decimal",className:"w-full rounded-xl border border-white/10 bg-slate-950/40 px-4 py-3 text-base text-white outline-none transition placeholder:text-white/30 hover:border-white/15 focus-visible:ring-4 focus-visible:ring-emerald-400/20 "+m.ring,placeholder:"0.0","aria-label":`${v} (${m.unit})`})})]},h)})}),l.jsx("div",{className:"mt-5 flex flex-col-reverse gap-3 md:flex-row md:items-center md:justify-between",children:l.jsx("button",{type:"submit",className:"inline-flex w-full items-center justify-center rounded-xl bg-emerald-500 px-4 py-3 font-medium text-slate-950 shadow-sm transition hover:bg-emerald-400 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-emerald-400/30 md:w-auto",children:i})})]})}function yM(){const{activeGoals:e,toggleGoal:t}=yo(),{user:r}=Ve(),s=ge().profile.nutritionGoalsnames,i=b.useMemo(()=>[{key:"calories",icon:ec,accent:"text-amber-300",color:"bg-amber-500/20 border-amber-500/50 hover:bg-amber-500/30"},{key:"protein",icon:zw,accent:"text-rose-300",color:"bg-rose-500/20 border-rose-500/50 hover:bg-rose-500/30"},{key:"carbs",icon:qw,accent:"text-sky-300",color:"bg-sky-500/20 border-sky-500/50 hover:bg-sky-500/30"},{key:"fat",icon:Uw,accent:"text-emerald-300",color:"bg-emerald-500/20 border-emerald-500/50 hover:bg-emerald-500/30"},{key:"fiber",icon:Oc,accent:"text-lime-300",color:"bg-lime-500/20 border-lime-500/50 hover:bg-lime-500/30"}],[]),a=async o=>{r!=null&&r.id&&await t(r.id,o)};return l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/90",children:[l.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[l.jsx(nC,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Metas para Acompanhar"})]}),l.jsx("p",{className:"mb-4 text-sm text-slate-600 dark:text-slate-400",children:"Selecione quais metas nutricionais voc deseja acompanhar diariamente"}),l.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-5",children:i.map(({key:o,icon:c,accent:u,color:d})=>{const h=e.includes(o),f=s[o];return l.jsxs("button",{onClick:()=>a(o),className:`relative flex flex-col items-center gap-2 rounded-xl border-2 p-4 transition ${h?`${d} border-current`:"border-slate-200 bg-slate-50 hover:bg-slate-100 dark:border-slate-700 dark:bg-slate-800/50 dark:hover:bg-slate-800"}`,children:[l.jsx(c,{className:`h-6 w-6 ${u}`}),l.jsx("span",{className:"text-xs font-medium text-slate-900 dark:text-slate-200",children:f}),h&&l.jsx("div",{className:"absolute -right-2 -top-2 flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500",children:l.jsx("svg",{className:"h-3 w-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},o)})})]})}const vM=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},xM=e=>Number.isFinite(e)?Math.max(0,Math.min(1,e)):0;function qi({label:e,value:t,goal:r,unit:n}){const s=xM(r>0?t/r:0),i=`${t.toFixed(1)} / ${r.toFixed(1)} ${n}`,a=Math.round(s*100);return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:e}),l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:i})]}),l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:l.jsx("div",{className:`h-full rounded-full transition-all ${s<=1?"bg-emerald-500":"bg-rose-500"}`,style:{width:`${a}%`}})})]})}function wM(){const e=ge(),{recipes:t}=lr(),{showToast:r}=te(),{goals:n}=yo(),{entries:s,addRecipeToLog:i,removeEntry:a,clearDate:o,getEntriesForDate:c,getTotalsForDate:u}=Xc(),[d,h]=Xn.useState(()=>vM(new Date)),[f,m]=Xn.useState(""),[y,v]=Xn.useState(1),x=b.useMemo(()=>c(d),[c,d,s]),p=b.useMemo(()=>u(d),[u,d,s]),g=t.slice().sort((_,E)=>_.title.localeCompare(E.title)),w=()=>{const _=Number(f),E=t.find(k=>k.id===_);if(!E){r(e.profile.pickARecipe??"Selecione uma receita.","warning");return}i(E,y,d),r(e.profile.loggedToDiary??"Adicionado ao dirio.","success")},j=()=>{!x.length||!window.confirm(e.profile.clearDiaryConfirm??"Limpar o dirio deste dia?")||(o(d),r(e.profile.diaryCleared??"Dirio limpo.","info"))};return l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-100 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(I2,{className:"h-5 w-5 text-emerald-500"}),l.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-white",children:e.profile.diaryTitle??"Dirio alimentar"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"date",value:d,onChange:_=>h(_.target.value),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100"}),l.jsxs("button",{type:"button",onClick:j,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-900",children:[l.jsx(rc,{className:"h-4 w-4"}),e.profile.clearDay??"Limpar"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[l.jsxs("select",{value:f,onChange:_=>m(_.target.value===""?"":Number(_.target.value)),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",children:[l.jsx("option",{value:"",children:e.profile.chooseRecipe??"Escolher receita..."}),g.map(_=>l.jsx("option",{value:_.id,children:_.title},_.id))]}),l.jsx("input",{type:"number",min:.1,step:.1,value:y,onChange:_=>v(Math.max(.1,Number(_.target.value)||1)),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:e.profile.servings??"Pores"}),l.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700",children:[l.jsx(ui,{className:"h-4 w-4"}),e.profile.addToDiary??"Adicionar"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:e.profile.todayProgress??"Progresso do dia"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(qi,{label:e.profile.nutritionGoalsnames.calories,value:p.calories,goal:n.calories,unit:"kcal"}),l.jsx(qi,{label:e.profile.nutritionGoalsnames.protein,value:p.protein,goal:n.protein,unit:"g"}),l.jsx(qi,{label:e.profile.nutritionGoalsnames.carbs,value:p.carbs,goal:n.carbs,unit:"g"}),l.jsx(qi,{label:e.profile.nutritionGoalsnames.fat,value:p.fat,goal:n.fat,unit:"g"}),l.jsx(qi,{label:e.profile.nutritionGoalsnames.fiber,value:p.fiber,goal:n.fiber,unit:"g"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:e.profile.loggedMeals??"Registros"}),l.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:[x.length," ",e.profile.items??"itens"]})]}),x.length?l.jsx("div",{className:"space-y-2",children:x.map(_=>l.jsxs("div",{className:"flex items-start justify-between gap-3 rounded-xl border border-slate-100 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate text-sm font-semibold text-slate-900 dark:text-white",children:_.recipeTitle}),l.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300",children:[e.profile.servings??"Pores",": ",l.jsx("span",{className:"font-medium",children:_.servings}),"  ",_.perServing.calories.toFixed(0)," kcal/",e.profile.perServing??"poro"]})]}),l.jsx("button",{type:"button",onClick:()=>{a(_.id),r(e.profile.entryRemoved??"Item removido.","info")},className:"shrink-0 rounded-lg p-2 text-slate-600 hover:bg-white hover:text-rose-600 dark:text-slate-300 dark:hover:bg-slate-900","aria-label":e.profile.remove??"Remover",children:l.jsx(rc,{className:"h-4 w-4"})})]},_.id))}):l.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 p-4 text-sm text-slate-600 dark:border-slate-700 dark:text-slate-300",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Wf,{className:"mt-0.5 h-4 w-4 text-slate-400"}),l.jsx("p",{children:e.profile.noDiaryEntries??"Nenhum item registrado neste dia."})]})})]})]})}const bM=["sports","clinical","weightLoss","womensHealth","pediatric","geriatric","vegetarian","diabetes","cardiovascular","gastrointestinal"],rl=e=>({sports:"sports","Sports Nutrition":"sports","Nutrio Esportiva":"sports",clinical:"clinical","Clinical Nutrition":"clinical","Nutrio Clnica":"clinical",weightLoss:"weightLoss","Weight Loss":"weightLoss",Emagrecimento:"weightLoss",womensHealth:"womensHealth","Women's Health":"womensHealth","Sade da Mulher":"womensHealth",pediatric:"pediatric","Pediatric Nutrition":"pediatric","Nutrio Peditrica":"pediatric",geriatric:"geriatric","Geriatric Nutrition":"geriatric","Nutrio Geritrica":"geriatric",vegetarian:"vegetarian","Vegetarian/Vegan":"vegetarian","Vegetariano/Vegano":"vegetarian",diabetes:"diabetes","Diabetes Management":"diabetes","Controle de Diabetes":"diabetes",cardiovascular:"cardiovascular","Cardiovascular Health":"cardiovascular","Sade Cardiovascular":"cardiovascular",gastrointestinal:"gastrointestinal","Gastrointestinal Health":"gastrointestinal","Sade Gastrointestinal":"gastrointestinal"})[e]||e;function kM(){const{user:e}=Ve(),{showToast:t}=te(),r=ge();St();const[n,s]=b.useState(!1),[i,a]=b.useState(!0),[o,c]=b.useState(!1),[u,d]=b.useState({professional_bio:"",specializations:[],education:"",certifications:"",years_of_experience:0,approach:"",consultation_price:0,consultation_duration:60,accepts_health_insurance:!1,health_insurances:"",phone:"",whatsapp:"",instagram:"",website:"",clinic_address:"",profile_visibility:"public",accepting_new_clients:!0});b.useEffect(()=>{h()},[]);const h=async()=>{if(e)try{const{data:v}=await $.from("profiles").select("*").eq("id",e.id).maybeSingle();v&&d({professional_bio:v.professional_bio||"",specializations:(v.specializations||[]).map(rl),education:v.education||"",certifications:(v.certifications||[]).join(`
`),years_of_experience:v.years_of_experience||0,approach:v.approach||"",consultation_price:v.consultation_price||0,consultation_duration:v.consultation_duration||60,accepts_health_insurance:v.accepts_health_insurance||!1,health_insurances:(v.health_insurances||[]).join(`
`),phone:v.phone||"",whatsapp:v.whatsapp||"",instagram:v.instagram||"",website:v.website||"",clinic_address:v.clinic_address||"",profile_visibility:v.profile_visibility||"public",accepting_new_clients:v.accepting_new_clients??!0})}catch(v){console.error("Error loading profile:",v),t("Erro ao carregar perfil","error")}finally{a(!1)}},f=async v=>{if(v.preventDefault(),!!e){s(!0);try{const{error:x}=await $.from("profiles").update({professional_bio:u.professional_bio,specializations:u.specializations,education:u.education,certifications:u.certifications.split(`
`).map(p=>p.trim()).filter(p=>p),years_of_experience:u.years_of_experience,approach:u.approach,consultation_price:u.consultation_price,consultation_duration:u.consultation_duration,accepts_health_insurance:u.accepts_health_insurance,health_insurances:u.health_insurances.split(`
`).map(p=>p.trim()).filter(p=>p),phone:u.phone,whatsapp:u.whatsapp,instagram:u.instagram,website:u.website,clinic_address:u.clinic_address,profile_visibility:u.profile_visibility,accepting_new_clients:u.accepting_new_clients}).eq("id",e.id);if(x)throw x;c(!1),t(r.nutritionists.editProfile.saved,"success")}catch(x){console.error("Error updating profile:",x),t(r.nutritionists.editProfile.error,"error")}finally{s(!1)}}},m=v=>{d(x=>x.specializations.map(rl).includes(v)?{...x,specializations:x.specializations.filter(w=>rl(w)!==v)}:{...x,specializations:[...x.specializations,v]}),c(!0)},y=(v,x)=>{d(p=>({...p,[v]:x})),c(!0)};return i?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):l.jsxs("form",{onSubmit:f,className:"space-y-8 relative",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.nutritionists.editProfile.professionalInfo}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.bio}),l.jsx("textarea",{value:u.professional_bio,onChange:v=>y("professional_bio",v.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.bioPlaceholder})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.specializations}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:bM.map(v=>{const p=u.specializations.map(rl).includes(v);return l.jsx("button",{type:"button",onClick:()=>m(v),className:V("px-3 py-2 rounded-lg text-sm font-medium transition-colors",p?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 border-2 border-emerald-500":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-2 border-transparent hover:border-gray-300"),children:r.nutritionists.specializations[v]},v)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.education}),l.jsx("input",{type:"text",value:u.education,onChange:v=>y("education",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.educationPlaceholder})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.certifications}),l.jsx("textarea",{value:u.certifications,onChange:v=>y("certifications",v.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.certificationsPlaceholder})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.yearsOfExperience}),l.jsx("input",{type:"number",min:"0",value:u.years_of_experience,onChange:v=>y("years_of_experience",parseInt(v.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.approach}),l.jsx("textarea",{value:u.approach,onChange:v=>y("approach",v.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.approachPlaceholder})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.nutritionists.editProfile.consultationSettings}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.consultationPrice}),l.jsx("input",{type:"number",min:"0",step:"0.01",value:u.consultation_price,onChange:v=>y("consultation_price",parseFloat(v.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.consultationDuration}),l.jsx("input",{type:"number",min:"15",step:"15",value:u.consultation_duration,onChange:v=>y("consultation_duration",parseInt(v.target.value)||60),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"accepts_insurance",checked:u.accepts_health_insurance,onChange:v=>y("accepts_health_insurance",v.target.checked),className:"w-4 h-4 text-emerald-600 rounded focus:ring-emerald-500"}),l.jsx("label",{htmlFor:"accepts_insurance",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.fields.acceptsInsurance})]}),u.accepts_health_insurance&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.insurances}),l.jsx("textarea",{value:u.health_insurances,onChange:v=>y("health_insurances",v.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.insurancesPlaceholder})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.nutritionists.editProfile.contactInfo}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.phone}),l.jsx("input",{type:"tel",value:u.phone,onChange:v=>y("phone",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.whatsapp}),l.jsx("input",{type:"tel",value:u.whatsapp,onChange:v=>y("whatsapp",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.instagram}),l.jsx("input",{type:"text",value:u.instagram,onChange:v=>y("instagram",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:"@seuusuario"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.website}),l.jsx("input",{type:"url",value:u.website,onChange:v=>y("website",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.address}),l.jsx("input",{type:"text",value:u.clinic_address,onChange:v=>y("clinic_address",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.common.settings}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"accepting_clients",checked:u.accepting_new_clients,onChange:v=>y("accepting_new_clients",v.target.checked),className:"w-4 h-4 text-emerald-600 rounded focus:ring-emerald-500"}),l.jsx("label",{htmlFor:"accepting_clients",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.fields.acceptingClients})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.visibility}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"visibility",value:"public",checked:u.profile_visibility==="public",onChange:v=>y("profile_visibility",v.target.value),className:"text-emerald-600 focus:ring-emerald-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.public})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"visibility",value:"private",checked:u.profile_visibility==="private",onChange:v=>y("profile_visibility",v.target.value),className:"text-emerald-600 focus:ring-emerald-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.private})]})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[l.jsxs("button",{type:"button",onClick:()=>window.history.back(),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:[l.jsx(ao,{className:"h-5 w-5"}),r.common.cancel]}),l.jsx("button",{type:"submit",disabled:n||!o,className:V("flex items-center gap-2 px-6 py-3 font-medium rounded-lg transition-colors",n||!o?"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700 text-white"),children:n?l.jsxs(l.Fragment,{children:[l.jsx(ls,{className:"h-5 w-5 animate-spin"}),r.common.loading]}):l.jsxs(l.Fragment,{children:[l.jsx(tC,{className:"h-5 w-5"}),r.nutritionists.editProfile.save]})})]})]})}function nl({active:e,onClick:t,children:r}){return l.jsx("button",{onClick:t,className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${e?"bg-emerald-500 text-white shadow-sm":"text-slate-500 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:r})}function jM(){const[e,t]=Xn.useState("favorites"),{user:r}=Ve(),{recipes:n,favoriteRecipes:s}=lr(),i=ge(),a=n.filter(m=>m.authorId===(r==null?void 0:r.id)),o=n.filter(m=>s.includes(m.id)),c=i.buttons.My_recipes,u=i.buttons.Favorites,d=i.buttons.Nutrition_goal,h=i.nutritionists.editProfile.title,f=(r==null?void 0:r.type)==="Nutritionist";return Xn.useEffect(()=>{if(f){e==="nutrition"&&t("recipes");return}(e==="recipes"||e==="professional")&&t("favorites")},[f,e]),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"inline-flex rounded-full border border-slate-100 bg-slate-50 p-1 dark:border-slate-800 dark:bg-slate-900",children:[f&&l.jsx(nl,{active:e==="recipes",onClick:()=>t("recipes"),children:c}),l.jsx(nl,{active:e==="favorites",onClick:()=>t("favorites"),children:u}),!f&&l.jsx(nl,{active:e==="nutrition",onClick:()=>t("nutrition"),children:d}),f&&l.jsx(nl,{active:e==="professional",onClick:()=>t("professional"),children:h})]}),l.jsxs("div",{className:"mt-2",children:[e==="recipes"&&f&&l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[a.map(m=>l.jsx(Eh,{recipe:m},m.id)),a.length===0&&l.jsx("p",{className:"col-span-full py-8 text-center text-sm text-slate-500 dark:text-slate-400",children:i.profile.noRecipesYet})]}),e==="favorites"&&l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.map(m=>l.jsx(Eh,{recipe:m},m.id)),o.length===0&&l.jsx("p",{className:"col-span-full py-8 text-center text-sm text-slate-500 dark:text-slate-400",children:i.profile.noFavorites})]}),e==="nutrition"&&!f&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(yM,{}),l.jsxs("div",{className:"mx-auto grid max-w-5xl grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white/90 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/90 sm:p-5",children:l.jsx(gM,{})}),l.jsx(wM,{})]})]}),e==="professional"&&f&&l.jsx("div",{className:"max-w-4xl",children:l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:i.nutritionists.editProfile.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:i.nutritionists.editProfile.subtitle})]}),l.jsx(kM,{})]})})]})]})}function _M(){const{user:e}=Ve(),{recipes:t,favoriteRecipes:r}=lr(),{goals:n,activeGoals:s}=yo(),{getTotalsForDate:i,entries:a}=Xc(),{isPremium:o}=Wc(),c=ge(),u=o();if(!e||e.type!=="Client")return null;e.profile;const d=t.filter(p=>r.includes(p.id)),h=d.length,f=d.reduce((p,g)=>p+g.nutritionFacts.calories,0)/(h||1),m=d.reduce((p,g)=>p+g.prepTime,0)/(h||1),y=b.useMemo(()=>{const p=new Date,g=p.getFullYear(),w=String(p.getMonth()+1).padStart(2,"0"),j=String(p.getDate()).padStart(2,"0");return`${g}-${w}-${j}`},[]),v=b.useMemo(()=>i(y),[i,y,a]),x=c.profile.nutritionGoalsnames;return l.jsxs("div",{className:"space-y-8",children:[u&&l.jsx("div",{className:"rounded-2xl border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-800/40 p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/40",children:l.jsx(ma,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-amber-900 dark:text-amber-200",children:c.profile.clientPremium}),l.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[c.labels.aiMentoring,"  ",c.labels.unlimitedAccess]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(oo,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.profile.favorites})]}),l.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:h})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(Ow,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.profile.nutritionGoalsnames.calories})]}),l.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:f.toFixed(0)})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(Tn,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.recipe.prepTime})]}),l.jsxs("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:[m.toFixed(0),"min"]})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(Ww,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.labels.activeGoals})]}),l.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:s.length})]})]}),Object.keys(n).length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:c.profile.dailyGoals}),l.jsx(Va,{to:"/perfil?tab=nutrition",className:"text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:c.profile.viewDiaryAndGoals??"Ver dirio e metas"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:["calories","protein","carbs","fat","fiber"].map(p=>{if(!s.includes(p))return null;const g=n[p]??0,w=v[p]??0,j=g>0?Math.min(1,w/g):0,_=p==="calories"?"kcal":"g",E=Math.max(0,g-w);return l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:x[p]}),l.jsxs("p",{className:"mt-1 text-xs text-slate-600 dark:text-slate-300",children:[w.toFixed(1)," / ",g.toFixed(1)," ",_,"  ",c.profile.remaining??"Restante",": ",E.toFixed(1)," ",_]})]}),l.jsx("div",{className:"shrink-0 text-right",children:l.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[Math.round(j*100),"%"]})})]}),l.jsx("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:l.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all",style:{width:`${Math.round(j*100)}%`}})})]},p)})}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:c.profile.progressBasedOnDiary??"O progresso  calculado com base no que voc registra no dirio alimentar."})]}),d.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:c.profile.recentFavorites}),l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.slice(0,3).map(p=>l.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-slate-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60",children:[l.jsx("img",{src:p.image,alt:p.title,className:"h-16 w-16 rounded-lg object-cover"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:p.title}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 sm:text-sm",children:p.category}),l.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[l.jsxs("span",{children:[" ",p.rating.toFixed(1)]}),l.jsxs("span",{children:[p.prepTime,"min"]})]})]})]},p.id))})]})]})}const SM={emerald:{ring:"ring-emerald-500/10 dark:ring-emerald-400/10",icon:"text-emerald-600 dark:text-emerald-400",value:"text-emerald-700 dark:text-emerald-300",pillBg:"bg-emerald-50 dark:bg-emerald-900/30",pillText:"text-emerald-700 dark:text-emerald-200"},slate:{ring:"ring-slate-500/10 dark:ring-slate-400/10",icon:"text-slate-600 dark:text-slate-300",value:"text-slate-900 dark:text-slate-50",pillBg:"bg-slate-100 dark:bg-slate-800/60",pillText:"text-slate-600 dark:text-slate-200"},amber:{ring:"ring-amber-500/10 dark:ring-amber-400/10",icon:"text-amber-600 dark:text-amber-400",value:"text-amber-700 dark:text-amber-300",pillBg:"bg-amber-50 dark:bg-amber-900/30",pillText:"text-amber-700 dark:text-amber-200"},rose:{ring:"ring-rose-500/10 dark:ring-rose-400/10",icon:"text-rose-600 dark:text-rose-400",value:"text-rose-700 dark:text-rose-300",pillBg:"bg-rose-50 dark:bg-rose-900/30",pillText:"text-rose-700 dark:text-rose-200"},sky:{ring:"ring-sky-500/10 dark:ring-sky-400/10",icon:"text-sky-600 dark:text-sky-400",value:"text-sky-700 dark:text-sky-300",pillBg:"bg-sky-50 dark:bg-sky-900/30",pillText:"text-sky-700 dark:text-sky-200"}};function sl({icon:e,label:t,value:r,helperText:n,tone:s="emerald"}){const i=SM[s];return l.jsx("div",{className:`group rounded-2xl border border-slate-100 bg-white p-4 shadow-sm ring-1 transition hover:-translate-y-0.5 hover:shadow-md dark:border-slate-800 dark:bg-slate-900/60 ${i.ring}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:[l.jsx("span",{className:`inline-flex h-8 w-8 items-center justify-center rounded-xl ${i.pillBg}`,children:l.jsx("span",{className:i.icon,children:e})}),l.jsx("span",{className:"truncate",children:t})]}),l.jsx("div",{className:`mt-2 text-3xl font-bold leading-none ${i.value}`,children:r}),n&&l.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n})]}),l.jsx("span",{className:`mt-1 hidden rounded-full px-2 py-1 text-[11px] font-semibold sm:inline-flex ${i.pillBg} ${i.pillText}`,children:""})]})})}function NM(){const{user:e}=Ve(),{recipes:t}=lr(),r=ge();if(!e||e.type!=="Nutritionist")return null;const n=e.profile||{},s=b.useMemo(()=>t.filter(o=>o.authorId===e.id),[t,e.id]),i=b.useMemo(()=>s.reduce((o,c)=>o+c.reviews.length,0),[s]),a=b.useMemo(()=>{const o=s.reduce((c,u)=>c+u.rating,0);return s.length?o/s.length:0},[s]);return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[l.jsx(sl,{icon:l.jsx(D2,{className:"h-4 w-4"}),label:r.profile.publishedRecipes,value:s.length,helperText:s.length?void 0:r.profile.noRecipesYet,tone:"emerald"}),l.jsx(sl,{icon:l.jsx(th,{className:"h-4 w-4"}),label:r.profile.totalReviews,value:i,tone:"sky"}),l.jsx(sl,{icon:l.jsx(Kw,{className:"h-4 w-4"}),label:r.profile.averageRating,value:a.toFixed(1),helperText:s.length?void 0:r.profile.publishToGetReviews??void 0,tone:"amber"}),l.jsx(sl,{icon:l.jsx(Fw,{className:"h-4 w-4"}),label:r.profile.experience,value:n.experience||"N/A",tone:"slate"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-end justify-between gap-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:r.profile.myRecipes}),s.length>0&&l.jsx(Va,{to:"/perfil?tab=recipes",className:"text-xs font-semibold text-emerald-700 hover:underline dark:text-emerald-300",children:r.profile.viewAll??r.common.search})]}),s.length===0?l.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center dark:border-slate-800 dark:bg-slate-900/40",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:r.profile.noRecipesYet}),l.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:r.profile.publishFirstRecipe??"Publish your first recipe to start receiving reviews."})]}):l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.slice(-3).reverse().map(o=>l.jsxs(Va,{to:`/receita/${o.id}`,className:"group flex items-center gap-4 rounded-xl border border-slate-100 bg-white p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md dark:border-slate-800 dark:bg-slate-900/60",children:[l.jsx("img",{src:o.image,alt:o.title,loading:"lazy",className:"h-16 w-16 rounded-lg object-cover ring-1 ring-slate-200/40 dark:ring-slate-800/50"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h4",{className:"truncate text-sm font-semibold text-slate-900 group-hover:text-emerald-700 dark:text-slate-50 dark:group-hover:text-emerald-300",children:o.title}),l.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[l.jsxs("span",{children:[" ",o.rating.toFixed(1)]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[o.reviews.length," ",r.recipe.reviews]})]})]})]},o.id))})]})]})}function CM({onBackToRecipes:e}){var f,m,y,v,x,p;const{user:t}=Ve(),{message:r,type:n,hideToast:s}=te(),i=ge(),a=i.buttons.BackToRecipes,o=(t==null?void 0:t.type)==="Client",c=(f=i.profile)==null?void 0:f.title,u=(m=i.profile)==null?void 0:m.subtitle,d=o?(y=i.profile)==null?void 0:y.overviewClient:(v=i.profile)==null?void 0:v.overviewNutritionist,h=o?(x=i.profile)==null?void 0:x.overviewClientDescription:(p=i.profile)==null?void 0:p.overviewNutritionistDescription;return l.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[e&&l.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-sm font-medium text-emerald-700 transition-colors hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-200 dark:hover:bg-emerald-900/50",children:[l.jsx(ao,{className:"h-4 w-4"}),l.jsx("span",{children:a})]}),t&&l.jsx("span",{className:"ml-auto inline-flex items-center rounded-full border border-emerald-100 bg-emerald-50 px-3 py-1 text-xs font-semibold uppercase tracking-[0.12em] text-emerald-700 dark:border-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200",children:o?i.profile.client:i.profile.nutricionist})]}),l.jsxs("header",{className:"mb-8 space-y-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50 sm:text-3xl",children:c}),l.jsx("p",{className:"max-w-2xl text-sm text-slate-500 dark:text-slate-400 sm:text-base",children:u})]}),l.jsxs("div",{className:"space-y-10",children:[l.jsx(pM,{}),l.jsxs("section",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 sm:text-xl",children:d}),l.jsx("p",{className:"max-w-2xl text-sm text-slate-500 dark:text-slate-400",children:h})]}),o?l.jsx(_M,{}):l.jsx(NM,{}),l.jsx("div",{className:"border-t border-slate-100 pt-6 dark:border-slate-800",children:l.jsx(jM,{})})]})]}),r&&l.jsx(ak,{message:r,type:n,onClose:s})]})}function EM(){const e=St();return l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(CM,{onBackToRecipes:()=>e("/")})})})}const Nr="w-full rounded-lg border border-slate-200/90 bg-white/90 px-3 py-2.5 text-sm md:text-base text-slate-900 shadow-sm outline-none transition focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/60 dark:border-slate-700 dark:bg-slate-900/80 dark:text-slate-50",_s="block text-sm md:text-base font-medium text-slate-700 dark:text-slate-100";function Ss({title:e,icon:t,action:r,children:n}){return l.jsxs("section",{className:"space-y-3",children:[(e||r)&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[t&&l.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center rounded-lg bg-emerald-50 dark:bg-emerald-900/30",children:t}),e&&l.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:e})]}),r]}),n]})}function PM({recipe:e,isOpen:t,onClose:r}){const{updateRecipe:n}=lr(),s=ge(),[i,a]=b.useState(!1),[o,c]=b.useState(e);if(!t)return null;const u=async x=>{x.preventDefault(),a(!0);try{await n(o),r()}catch(p){console.error("Error updating recipe:",p)}finally{a(!1)}},d=(x,p,g)=>{c(w=>({...w,[x]:w[x].map((j,_)=>_===p?g:j)}))},h=x=>{c(p=>({...p,[x]:[...p[x],""]}))},f=(x,p)=>{c(g=>({...g,[x]:g[x].filter((w,j)=>j!==p)}))},m=(x,p)=>{const g=parseFloat(p)||0;c(w=>({...w,nutritionFacts:{...w.nutritionFacts,[x]:g}}))},y=Object.keys(s.categories).filter(x=>x!=="all").map(x=>({value:x,label:s.categories[x]})),v={calories:"kcal",protein:"g",carbs:"g",fat:"g",fiber:"g"};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-2xl border border-slate-200/80 bg-gradient-to-br from-white via-white to-emerald-50/40 shadow-2xl dark:border-slate-800 dark:from-slate-900 dark:via-slate-900 dark:to-slate-950",children:[l.jsxs("button",{onClick:r,className:"absolute right-4 top-4 z-10 inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 text-slate-500 shadow-sm transition hover:scale-105 hover:bg-white hover:text-slate-700 dark:bg-slate-900/80 dark:text-slate-400 dark:hover:bg-slate-900",children:[l.jsx(Ht,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:s.common.close})]}),l.jsx("div",{className:"border-b border-slate-100/80 px-6 pb-4 pt-5 dark:border-slate-800/80 sm:px-7",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("p",{className:"inline-flex w-fit items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium uppercase tracking-wide text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",children:s.recipe.edit||"Editar Receita"}),l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50 sm:text-2xl",children:o.title||s.recipe.edit}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 sm:text-base",children:s.recipe.details})]})}),l.jsxs("form",{onSubmit:u,className:"space-y-8 px-6 pb-7 pt-5 text-sm sm:text-base sm:px-7",children:[l.jsxs(Ss,{title:s.recipe.recipeTitle,icon:l.jsx(F2,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"}),children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:_s,children:s.recipe.recipeTitle}),l.jsx("input",{type:"text",value:o.title,onChange:x=>c(p=>({...p,title:x.target.value})),className:Nr,required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:_s,children:s.recipe.recipeImageURL}),l.jsx("input",{type:"url",value:o.image,onChange:x=>c(p=>({...p,image:x.target.value})),className:Nr,placeholder:"https://example.com/image.jpg",required:!0})]})]}),o.image&&l.jsxs("div",{className:"relative mt-2 overflow-hidden rounded-xl border border-slate-200 dark:border-slate-700",children:[l.jsx("img",{src:o.image,alt:o.title,className:"h-40 w-full object-cover",onError:x=>{x.target.style.display="none"}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-t from-black/20 via-transparent to-transparent"}),l.jsxs("div",{className:"absolute bottom-2 left-2 inline-flex items-center gap-1.5 rounded-lg bg-white/90 px-2.5 py-1 text-xs font-medium text-slate-700 shadow backdrop-blur-sm dark:bg-slate-900/90 dark:text-slate-200",children:[l.jsx(V2,{className:"h-3 w-3"}),"Preview"]})]})]}),l.jsx(Ss,{children:l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:_s,children:s.recipe.recipeDescription}),l.jsx("textarea",{value:o.description,onChange:x=>c(p=>({...p,description:x.target.value})),className:V(Nr,"min-h-[90px] resize-y"),rows:3,required:!0})]})}),l.jsx(Ss,{title:s.recipe.prepTime,icon:l.jsx(Tn,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"}),children:l.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:_s,children:[s.recipe.prepTime," (min)"]}),l.jsx("input",{type:"number",value:o.prepTime,onChange:x=>c(p=>({...p,prepTime:Number(x.target.value)})),className:Nr,min:1,required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:_s,children:s.recipe.difficulty}),l.jsxs("select",{value:o.difficulty,onChange:x=>c(p=>({...p,difficulty:x.target.value})),className:Nr,required:!0,children:[l.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),l.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),l.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:_s,children:s.recipe.recipeCategory}),l.jsx("select",{value:o.category,onChange:x=>c(p=>({...p,category:x.target.value})),className:Nr,required:!0,children:y.map(x=>l.jsx("option",{value:x.value,children:x.label},x.value))})]})]})}),l.jsx(Ss,{title:s.recipe.ingredients,icon:l.jsx(Ba,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"}),action:l.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 dark:border-emerald-900 dark:bg-emerald-950/50 dark:text-emerald-300 dark:hover:bg-emerald-900/60",children:[l.jsx(ui,{className:"h-3.5 w-3.5"}),s.recipe.addIngredient]}),children:l.jsx("div",{className:"space-y-2",children:o.ingredients.map((x,p)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-lg bg-emerald-50 text-xs font-semibold text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400",children:p+1}),l.jsx("input",{type:"text",value:x,onChange:g=>d("ingredients",p,g.target.value),className:V(Nr,"flex-1"),placeholder:s.recipe.example,required:!0}),o.ingredients.length>1&&l.jsx("button",{type:"button",onClick:()=>f("ingredients",p),className:"inline-flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-lg border border-slate-200 bg-white/80 text-slate-400 shadow-sm transition hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:bg-slate-900/70 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(tc,{className:"h-4 w-4"})})]},p))})}),l.jsx(Ss,{title:s.recipe.instructions,icon:l.jsx(G2,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"}),action:l.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 dark:border-emerald-900 dark:bg-emerald-950/50 dark:text-emerald-300 dark:hover:bg-emerald-900/60",children:[l.jsx(ui,{className:"h-3.5 w-3.5"}),s.recipe.addStep]}),children:l.jsx("div",{className:"space-y-2",children:o.instructions.map((x,p)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"flex h-7 w-7 flex-shrink-0 items-center justify-center rounded-lg bg-emerald-50 text-xs font-semibold text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400",children:p+1}),l.jsx("input",{type:"text",value:x,onChange:g=>d("instructions",p,g.target.value),className:V(Nr,"flex-1"),placeholder:`${s.recipe.Step} ${p+1}`,required:!0}),o.instructions.length>1&&l.jsx("button",{type:"button",onClick:()=>f("instructions",p),className:"inline-flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-lg border border-slate-200 bg-white/80 text-slate-400 shadow-sm transition hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:bg-slate-900/70 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(tc,{className:"h-4 w-4"})})]},p))})}),l.jsx(Ss,{title:s.recipe.nutritionFacts,icon:l.jsx(Ow,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"}),children:l.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-5",children:Object.entries(o.nutritionFacts).map(([x,p])=>{const g=x;return l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-200 sm:text-sm",children:s.profile.nutritionGoalsnames[g]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",step:"0.01",min:"0",value:p,onChange:w=>m(x,w.target.value),className:V(Nr,"pr-10"),placeholder:"0.00",required:!0}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-medium text-slate-400 dark:text-slate-500",children:v[x]||""})]})]},x)})})}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"button",onClick:r,className:"flex-1 rounded-lg border border-slate-200 bg-white px-4 py-3 text-base font-semibold text-slate-700 shadow-sm transition hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200 dark:hover:bg-slate-800",children:s.common.cancel}),l.jsx("button",{type:"submit",disabled:i,className:V("flex-[2] inline-flex items-center justify-center rounded-lg bg-gradient-to-r from-emerald-600 via-emerald-500 to-emerald-600 px-4 py-3 text-base font-semibold text-white shadow-md transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-80 dark:focus-visible:ring-offset-slate-900",i&&"opacity-80"),children:i?s.common.loading:s.common.save})]})]})]})})}function TM({recipe:e,onClose:t}){var ut;const[r,n]=b.useState({rating:5,comment:""}),[s,i]=b.useState(null),[a,o]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(1),[f,m]=b.useState(()=>{const B=new Date,de=B.getFullYear(),Hr=String(B.getMonth()+1).padStart(2,"0"),ye=String(B.getDate()).padStart(2,"0");return`${de}-${Hr}-${ye}`}),{user:y,isAuthenticated:v}=Ve(),{favoriteRecipes:x,addToFavorites:p,removeFromFavorites:g,addReview:w,updateReview:j,deleteReview:_,deleteRecipe:E}=lr(),{addRecipeToLog:k}=Xc(),{showToast:P}=te(),C=ge(),ee=C.recipe.difficultyLevels[e.difficulty]||e.difficulty,Q=C.categories,Ee=(B=>{const de={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},Hr=B.toLowerCase().replace(/\s+/g,""),ye=Object.keys(de).find(xo=>xo.toLowerCase().replace(/\s+/g,"")===Hr);return ye?Q[de[ye]]:Q[B]||B})(e.category),ne=x.includes(e.id),ue=(y==null?void 0:y.id)===e.authorId,J=async B=>{if(B.preventDefault(),!!y)try{await w(e.id,{userId:y.id,userName:y.name,rating:r.rating,comment:r.comment,date:new Date().toISOString().split("T")[0]}),n({rating:5,comment:""})}catch(de){console.error("Error adding review:",de)}},A=async B=>{if(B.preventDefault(),!!s)try{await j(s.id,{rating:s.rating,comment:s.comment}),i(null)}catch(de){console.error("Error updating review:",de)}},O=async B=>{if(window.confirm(C.recipe.deleteReviewConfirm||"Tem certeza que deseja excluir esta avaliao?"))try{await _(B)}catch(de){console.error("Error deleting review:",de)}},z=async()=>{window.confirm(C.recipe.deleteConfirm)&&(await E(e.id),t())},Y=B=>Number(B).toFixed(1),me=B=>new Date(B).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),We=()=>{const B=C.recipe.noReviews||"Sem avaliaes",de=C.recipe.reviewSingular||"avaliao",Hr=C.recipe.reviewPlural||"avaliaes";if(e.rating===0||!e.rating||e.reviews.length===0)return B;const ye=e.reviews.length===1?de:Hr;return`${e.rating.toFixed(1)} (${e.reviews.length} ${ye})`},be=e.ingredients.length===1?C.recipe.ingredientsCountSingular||"item":C.recipe.ingredientsCountPlural||"itens",Nt=e.reviews.find(B=>B.userId===(y==null?void 0:y.id)),gt=v&&!Nt;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm overflow-y-auto z-50",children:l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 py-8",children:l.jsxs("div",{className:"relative max-w-6xl w-full",children:[l.jsx("div",{className:"absolute -top-10 right-0 hidden md:block text-xs uppercase tracking-wider text-gray-400 dark:text-gray-500 font-medium",children:C.recipe.details||"Detalhes da receita"}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 md:px-8 pt-5 pb-4 border-b border-gray-200 dark:border-gray-800",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:C.recipe.recipe||"Receita"}),l.jsx("button",{onClick:t,className:"inline-flex items-center justify-center rounded-lg p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":C.common.close||"Fechar",children:l.jsx(Ht,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"px-6 md:px-8 pb-8 pt-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-xl shadow-md border border-gray-200 dark:border-gray-700"}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-t from-black/40 via-transparent to-transparent"}),l.jsxs("div",{className:"absolute bottom-3 left-3 inline-flex items-center gap-2 rounded-lg bg-white/90 dark:bg-gray-900/90 px-3 py-2 text-sm font-semibold shadow-lg backdrop-blur-sm",children:[l.jsx(xn,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),l.jsx("span",{className:"text-gray-900 dark:text-white",children:Ee})]})]}),l.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-4 rounded-xl border border-emerald-100 dark:border-emerald-800/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg overflow-hidden bg-gradient-to-br from-emerald-400 to-teal-600 flex items-center justify-center shadow-md",children:e.authorAvatarUrl?l.jsx("img",{src:e.authorAvatarUrl,alt:e.authorName||"Autor",className:"w-full h-full object-cover"}):l.jsx("span",{className:"text-white font-bold text-sm",children:((ut=e.authorName)==null?void 0:ut.split(" ").map(B=>B[0]).slice(0,2).join("").toUpperCase())||"?"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-0.5",children:C.recipe.author||"Autor"}),l.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:e.authorName||"Usurio"})]})]}),l.jsx("span",{className:"inline-flex items-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40 px-2.5 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-700 dark:text-emerald-300",children:e.authorType==="Nutritionist"?C.profile.nutricionist:C.profile.client})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-300 bg-white/50 dark:bg-black/10 rounded-lg px-3 py-2",children:[l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(L2,{className:"w-3.5 h-3.5"}),C.recipe.postedOn||"Postado em"]}),l.jsx("span",{className:"font-semibold",children:me(e.createdAt)})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-5 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-9 h-9 rounded-lg bg-emerald-50 dark:bg-emerald-900/30",children:l.jsx(Ba,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),C.recipe.ingredients]}),l.jsxs("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2.5 py-1 rounded-lg",children:[e.ingredients.length," ",be]})]}),l.jsx("ul",{className:"space-y-2",children:e.ingredients.map((B,de)=>l.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-200 leading-relaxed",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 text-xs font-semibold mt-0.5",children:de+1}),l.jsx("span",{className:"flex-1",children:B})]},de))})]})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex justify-between items-start gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white leading-tight mb-3",children:e.title}),l.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-3 py-1.5 text-sm font-semibold",children:[l.jsx(xn,{className:"w-4 h-4"}),Ee]})})]}),l.jsxs("div",{className:"flex gap-1.5",children:[v&&l.jsx("button",{onClick:()=>ne?g(e.id):p(e.id),className:V("p-2.5 rounded-full border text-base shadow-sm transition-all",ne?"border-red-300 bg-red-50 text-red-500 dark:border-red-700/60 dark:bg-red-900/30":"border-gray-200 bg-white text-gray-400 hover:text-red-500 hover:border-red-200 dark:bg-gray-900 dark:border-gray-700"),children:l.jsx(oo,{className:V("w-5 h-5",ne&&"fill-current")})}),(y==null?void 0:y.type)==="Client"&&l.jsx("button",{onClick:()=>u(!0),className:"p-2.5 border rounded-xl transition-all duration-200 border-gray-200 bg-white text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-emerald-900/20 dark:hover:border-emerald-700",title:C.profile.addToDiary??"Adicionar ao dirio",children:l.jsx(Q2,{className:"w-5 h-5"})}),ue&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>o(!0),className:"p-2.5 rounded-full border border-blue-200 bg-blue-50 text-blue-500 hover:bg-blue-100 shadow-sm transition-colors dark:bg-blue-900/30 dark:border-blue-700/60 dark:hover:bg-blue-900/50",title:C.recipe.edit,children:l.jsx(aC,{className:"w-4 h-4"})}),l.jsx("button",{onClick:z,className:"p-2.5 rounded-full border border-red-200 bg-red-50 text-red-500 hover:bg-red-100 shadow-sm transition-colors dark:bg-red-900/30 dark:border-red-700/60 dark:hover:bg-red-900/50",title:C.recipe.delete,children:l.jsx(rc,{className:"w-4 h-4"})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-800/30",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 mb-1 text-center",children:[l.jsx(Tn,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:C.labels.time})]}),l.jsxs("span",{className:"block text-center text-xl font-bold text-gray-900 dark:text-white",children:[e.prepTime,"min"]})]}),l.jsxs("div",{className:V("p-3 rounded-lg border",e.difficulty==="easy"&&"bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-100 dark:border-emerald-800/30",e.difficulty==="medium"&&"bg-amber-50/50 dark:bg-amber-900/10 border-amber-100 dark:border-amber-800/30",e.difficulty==="hard"&&"bg-red-50/50 dark:bg-red-900/10 border-red-100 dark:border-red-800/30"),children:[l.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 mb-1 text-center",children:[l.jsx(xn,{className:V("w-4 h-4",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-amber-600 dark:text-amber-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400")}),l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:C.labels.level})]}),l.jsx("span",{className:V("block text-center text-base font-bold capitalize",e.difficulty==="easy"&&"text-emerald-700 dark:text-emerald-300",e.difficulty==="medium"&&"text-amber-700 dark:text-amber-300",e.difficulty==="hard"&&"text-red-700 dark:text-red-300"),children:ee})]}),l.jsx("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-3 rounded-lg border border-amber-100 dark:border-amber-800/30",children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[l.jsx(yr,{className:"w-5 h-5 text-amber-500 fill-amber-500"}),e.rating===0||!e.rating||e.reviews.length===0?l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"--"}),l.jsx("div",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400",children:C.recipe.noReviews})]}):l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.rating.toFixed(1)}),l.jsxs("div",{className:"text-[10px] font-medium text-gray-500 dark:text-gray-400",children:[e.reviews.length," ",e.reviews.length===1?C.recipe.reviewSingular:C.recipe.reviewPlural]})]})]})})]}),l.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/30 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:l.jsx("p",{className:"text-base text-gray-700 dark:text-gray-200 leading-relaxed",children:e.description})}),l.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-5 rounded-xl border border-emerald-100 dark:border-emerald-800/30",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40",children:l.jsx(yr,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),C.recipe.nutritionFacts]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.calories}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Y(e.nutritionFacts.calories),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"kcal"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.protein}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Y(e.nutritionFacts.protein),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.carbs}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Y(e.nutritionFacts.carbs),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.fat}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Y(e.nutritionFacts.fat),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700 col-span-2",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.fiber}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Y(e.nutritionFacts.fiber),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-5 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-lg bg-emerald-50 dark:bg-emerald-900/30",children:l.jsx(Ba,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),C.recipe.instructions]}),l.jsx("ol",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:e.instructions.map((B,de)=>l.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-200 leading-relaxed",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 text-xs font-semibold mt-0.5",children:de+1}),l.jsx("span",{className:"flex-1",children:B})]},de))})]})]})]}),l.jsxs("div",{className:"mt-10 space-y-6 border-t border-gray-100 dark:border-gray-800 pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(yr,{className:"w-5 h-5 text-yellow-400"}),C.recipe.reviews," (",e.reviews.length,")"]}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-500",children:We()})]}),gt&&l.jsxs("form",{onSubmit:J,className:V("rounded-xl p-4 space-y-3","bg-emerald-50/80 shadow-sm ring-1 ring-emerald-100","dark:bg-gray-900/50 dark:ring-0 dark:border-l-4 dark:border-emerald-500/80"),children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:C.recipe.addReviewTitle}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-base text-gray-700 dark:text-gray-300",children:[C.recipe.rating,":"]}),[1,2,3,4,5].map(B=>l.jsx("button",{type:"button",onClick:()=>n(de=>({...de,rating:B})),className:V("text-3xl transition-colors",B<=r.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},B))]}),l.jsx("textarea",{value:r.comment,onChange:B=>n(de=>({...de,comment:B.target.value})),placeholder:C.recipe.writeReview,className:"w-full p-3 rounded-lg text-base placeholder:text-gray-500 bg-white border border-gray-300 text-gray-900 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100",rows:4,required:!0}),l.jsx("button",{type:"submit",className:"inline-flex px-5 py-2.5 bg-emerald-600 text-white text-base rounded-lg hover:bg-emerald-700 transition-colors font-semibold",children:C.recipe.submitReview})]}),s&&l.jsxs("form",{onSubmit:A,className:V("rounded-xl p-4 space-y-3","bg-blue-50/80 ring-1 ring-blue-200 shadow-sm","dark:bg-blue-900/30 dark:ring-0 dark:border dark:border-blue-700/70"),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:C.recipe.editReviewTitle}),l.jsx("button",{type:"button",onClick:()=>i(null),className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:l.jsx(Ht,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-base text-gray-700 dark:text-gray-300",children:C.recipe.reviewLabel||"Avaliao:"}),[1,2,3,4,5].map(B=>l.jsx("button",{type:"button",onClick:()=>i(de=>de?{...de,rating:B}:null),className:V("text-3xl transition-colors",B<=s.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},B))]}),l.jsx("textarea",{value:s.comment,onChange:B=>i(de=>de&&{...de,comment:B.target.value}),placeholder:C.recipe.writeReview,className:"w-full p-3 rounded-lg text-base placeholder:text-gray-500 bg-white border border-gray-300 text-gray-900 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100",rows:4,required:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-600 text-white text-base rounded-lg hover:bg-blue-700 transition-colors",children:C.common.save}),l.jsx("button",{type:"button",onClick:()=>i(null),className:"px-5 py-2.5 text-base rounded-lg transition-colors bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",children:C.common.cancel})]})]}),!v&&l.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400",children:C.recipe.signInToReview}),l.jsx("div",{className:"space-y-3",children:e.reviews.length===0?l.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400",children:C.recipe.noReviews}):e.reviews.map(B=>{const de=(y==null?void 0:y.id)===B.userId;return l.jsxs("div",{className:V("rounded-xl p-4 flex flex-col gap-1","bg-gray-50 shadow-sm ring-1 ring-gray-200","dark:bg-gray-900/50 dark:ring-0 dark:border dark:border-gray-800"),children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:B.userName}),l.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300",children:B.comment})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsx("div",{className:"flex items-center",children:[...Array(5)].map((Hr,ye)=>l.jsx("span",{className:V("text-xl",ye<B.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},ye))}),de&&l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>i({id:B.id,rating:B.rating,comment:B.comment}),className:"p-1.5 rounded transition-colors text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/40",title:C.recipe.editReview,children:l.jsx(J2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>O(B.id),className:"p-1.5 rounded transition-colors text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/40",title:C.recipe.deleteReview,children:l.jsx(rc,{className:"w-4 h-4"})})]})]})]}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:B.date})]},B.id)})})]})]})]})]})})}),c&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-5 shadow-xl dark:bg-gray-900",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.profile.addToDiary??"Adicionar ao dirio"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:C.profile.addToDiaryHelper??"Registre esta receita no seu dia para acompanhar as metas."})]}),l.jsx("button",{onClick:()=>u(!1),className:"rounded-lg p-2 text-gray-500 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800","aria-label":C.common.close??"Fechar",children:l.jsx(Ht,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-200",children:C.profile.date??"Data"}),l.jsx("input",{type:"date",value:f,onChange:B=>m(B.target.value),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 outline-none focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-200",children:C.profile.servings??"Pores"}),l.jsx("input",{type:"number",min:.1,step:.1,value:d,onChange:B=>h(Math.max(.1,Number(B.target.value)||1)),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 outline-none focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:C.profile.perServingHint??"Os valores nutricionais so multiplicados pelas pores."})]})]}),l.jsxs("div",{className:"mt-5 flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-200 dark:hover:bg-gray-900",children:C.common.cancel??"Cancelar"}),l.jsxs("button",{type:"button",onClick:()=>{k(e,d,f),P(C.profile.loggedToDiary??"Adicionado ao dirio.","success"),u(!1)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700",children:[l.jsx(Xt,{className:"h-4 w-4"}),C.profile.confirmAdd??"Adicionar"]})]})]})}),a&&l.jsx(PM,{recipe:e,isOpen:a,onClose:()=>o(!1)})]})}function RM(){const e=St(),{id:t}=Tw(),{recipes:r,loading:n,fetchRecipes:s}=lr(),[i,a]=b.useState(!1);b.useEffect(()=>{!i&&r.length===0?s().then(()=>a(!0)):a(!0)},[s,i,r.length]);const o=r.find(c=>c.id===parseInt(t||"0"));return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:l.jsx(Lm,{size:"lg"})}):o?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(TM,{recipe:o,onClose:()=>e("/")})})}):l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Receita no encontrada"}),l.jsx("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Voltar ao Incio"})]})})}var Cy;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Cy||(Cy={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ey;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Ey||(Ey={}));var Py;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Py||(Py={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=["user","model","function","system"];var fc;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(fc||(fc={}));var mc;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(mc||(mc={}));var Ry;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Ry||(Ry={}));var Ay;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Ay||(Ay={}));var ba;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(ba||(ba={}));var My;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(My||(My={}));var Dy;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Dy||(Dy={}));var Iy;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Iy||(Iy={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Ns extends ot{constructor(t,r){super(t),this.response=r}}class pk extends ot{constructor(t,r,n,s){super(t),this.status=r,this.statusText=n,this.errorDetails=s}}class wn extends ot{}class gk extends ot{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="https://generativelanguage.googleapis.com",MM="v1beta",DM="0.24.1",IM="genai-js";var cs;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(cs||(cs={}));class LM{constructor(t,r,n,s,i){this.model=t,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=i}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||MM;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||AM}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function OM(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${IM}/${DM}`),t.join(" ")}async function FM(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",OM(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new wn(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,i]of n.entries()){if(s==="x-goog-api-key")throw new wn(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new wn(`Header name ${s} can only be set using the apiClient field`);r.append(s,i)}}return r}async function zM(e,t,r,n,s,i){const a=new LM(e,t,r,n,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},BM(i)),{method:"POST",headers:await FM(a),body:s})}}async function vo(e,t,r,n,s,i={},a=fetch){const{url:o,fetchOptions:c}=await zM(e,t,r,n,s,i);return $M(o,c,a)}async function $M(e,t,r=fetch){let n;try{n=await r(e,t)}catch(s){UM(s,e)}return n.ok||await VM(n,e),n}function UM(e,t){let r=e;throw r.name==="AbortError"?(r=new gk(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof pk||e instanceof wn||(r=new ot(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function VM(e,t){let r="",n;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new pk(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function BM(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Nl(e.candidates[0]))throw new Ns(`${tn(e)}`,e);return HM(e)}else if(e.promptFeedback)throw new Ns(`Text not available. ${tn(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Nl(e.candidates[0]))throw new Ns(`${tn(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Ly(e)[0]}else if(e.promptFeedback)throw new Ns(`Function call not available. ${tn(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Nl(e.candidates[0]))throw new Ns(`${tn(e)}`,e);return Ly(e)}else if(e.promptFeedback)throw new Ns(`Function call not available. ${tn(e)}`,e)},e}function HM(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Ly(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const GM=[ba.RECITATION,ba.SAFETY,ba.LANGUAGE];function Nl(e){return!!e.finishReason&&GM.includes(e.finishReason)}function tn(e){var t,r,n;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const i=e.candidates[0];Nl(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Za(e){return this instanceof Za?(this.v=e,this):new Za(e)}function WM(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(f){n[f]&&(s[f]=function(m){return new Promise(function(y,v){i.push([f,m,y,v])>1||o(f,m)})})}function o(f,m){try{c(n[f](m))}catch(y){h(i[0][3],y)}}function c(f){f.value instanceof Za?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){o("next",f)}function d(f){o("throw",f)}function h(f,m){f(m),i.shift(),i.length&&o(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function KM(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=JM(t),[n,s]=r.tee();return{stream:YM(n),response:qM(s)}}async function qM(e){const t=[],r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return Om(ZM(t));t.push(s)}}function YM(e){return WM(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:s}=yield Za(r.read());if(s)break;yield yield Za(Om(n))}})}function JM(e){const t=e.getReader();return new ReadableStream({start(n){let s="";return i();function i(){return t.read().then(({value:a,done:o})=>{if(o){if(s.trim()){n.error(new ot("Failed to parse stream"));return}n.close();return}s+=a;let c=s.match(Oy),u;for(;c;){try{u=JSON.parse(c[1])}catch{n.error(new ot(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(u),s=s.substring(c[0].length),c=s.match(Oy)}return i()}).catch(a=>{let o=a;throw o.stack=a.stack,o.name==="AbortError"?o=new gk("Request aborted when reading from the stream"):o=new ot("Error reading from the stream"),o})}}})}function ZM(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let s=0;for(const i of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=i.citationMetadata,r.candidates[s].groundingMetadata=i.groundingMetadata,r.candidates[s].finishReason=i.finishReason,r.candidates[s].finishMessage=i.finishMessage,r.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[s].content||(r.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const o of i.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[s].content.parts.push(a)}s++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(e,t,r,n){const s=await vo(t,cs.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return KM(s)}async function vk(e,t,r,n){const i=await(await vo(t,cs.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:Om(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Qa(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return QM(t)}function QM(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const i of e)"functionResponse"in i?(r.parts.push(i),s=!0):(t.parts.push(i),n=!0);if(n&&s)throw new ot("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new ot("No content is provided for sending chat message.");return n?t:r}function XM(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new wn("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const i=Qa(e);n.contents=[i]}return{generateContentRequest:n}}function Fy(e){let t;return e.contents?t=e:t={contents:[Qa(e)]},e.systemInstruction&&(t.systemInstruction=xk(e.systemInstruction)),t}function eD(e){return typeof e=="string"||Array.isArray(e)?{content:Qa(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],tD={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function rD(e){let t=!1;for(const r of e){const{role:n,parts:s}=r;if(!t&&n!=="user")throw new ot(`First content should be with role 'user', got ${n}`);if(!Ty.includes(n))throw new ot(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(Ty)}`);if(!Array.isArray(s))throw new ot("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new ot("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of s)for(const c of zy)c in o&&(i[c]+=1);const a=tD[n];for(const o of zy)if(!a.includes(o)&&i[o]>0)throw new ot(`Content with role '${n}' can't contain '${o}' part`);t=!0}}function $y(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="SILENT_ERROR";class nD{constructor(t,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(rD(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,s,i,a,o,c;await this._sendPromise;const u=Qa(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r);let f;return this._sendPromise=this._sendPromise.then(()=>vk(this._apiKey,this.model,d,h)).then(m=>{var y;if($y(m.response)){this._history.push(u);const v=Object.assign({parts:[],role:"model"},(y=m.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(v)}else{const v=tn(m.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}f=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,f}async sendMessageStream(t,r={}){var n,s,i,a,o,c;await this._sendPromise;const u=Qa(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r),f=yk(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(m=>{throw new Error(Uy)}).then(m=>m.response).then(m=>{if($y(m)){this._history.push(u);const y=Object.assign({},m.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=tn(m);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(m=>{m.message!==Uy&&console.error(m)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(e,t,r,n){return(await vo(t,cs.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(e,t,r,n){return(await vo(t,cs.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function aD(e,t,r,n){const s=r.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await vo(t,cs.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=xk(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const s=Fy(t),i=Object.assign(Object.assign({},this._requestOptions),r);return vk(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}async generateContentStream(t,r={}){var n;const s=Fy(t),i=Object.assign(Object.assign({},this._requestOptions),r);return yk(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}startChat(t){var r;return new nD(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=XM(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return sD(this.apiKey,this.model,n,s)}async embedContent(t,r={}){const n=eD(t),s=Object.assign(Object.assign({},this._requestOptions),r);return iD(this.apiKey,this.model,n,s)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return aD(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new ot("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Vy(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new wn("Cached content must contain a `name` field.");if(!t.model)throw new wn("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(r!=null&&r[a]&&t[a]&&(r==null?void 0:r[a])!==t[a]){if(a==="model"){const o=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===c)continue}throw new wn(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${t[a]})`)}const i=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Vy(this.apiKey,i,n)}}const lD="gemini-2.5-flash",cD=10,wk="AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",uD=new oD(wk);async function By(e,t,r=[]){var n;try{const s=dD(t),i=hD(r,t),u=(await uD.getGenerativeModel({model:lD,systemInstruction:{role:"system",parts:[{text:s}]},safetySettings:[{category:fc.HARM_CATEGORY_HARASSMENT,threshold:mc.BLOCK_MEDIUM_AND_ABOVE},{category:fc.HARM_CATEGORY_HATE_SPEECH,threshold:mc.BLOCK_MEDIUM_AND_ABOVE}]}).startChat({history:i}).sendMessage(e)).response;return{content:(((n=u==null?void 0:u.text)==null?void 0:n.call(u))||"").trim()||"Oi! Como posso te ajudar hoje? Posso sugerir receitas por dificuldade (easy/medium/hard), tempo (ex.: at 30 min) e avaliao (ex.: 4.5+ )."}}catch(s){console.error("Erro ao chamar a API do Gemini:",s);let i="Desculpe, ocorreu um erro ao tentar processar sua solicitao. Tente novamente em alguns instantes.";return s instanceof Error&&(s.message.includes("API_KEY")?i="Erro de configurao da IA. Entre em contato com o suporte.":s.message.includes("quota")?i="Limite de uso da IA atingido. Tente novamente mais tarde.":(s.message.includes("network")||s.message.includes("fetch"))&&(i="Erro de conexo. Verifique sua internet e tente novamente.")),{content:i,error:s instanceof Error?s.message:"Unknown error"}}}function dD(e){return`
Voc  NutriBot, um assistente virtual geral do site NutriChefe.

Papel:
- Responder a QUALQUER pergunta do usurio (receitas, nutrio, treino/alimentao, curiosidades ou at que dia  hoje?).
- Quando a pergunta envolver receitas (fcil/medium/hard, vegana etc.), o backend aplica filtros e envia os cards; voc pode responder curto e encorajar refinamentos.
- Quando envolver metas nutricionais (emagrecimento, ganho de massa, definio etc.), oferea recomendaes prticas e seguras.

Estilo:
- Tom humano, acolhedor e objetivo. Sem texto robtico.
- Prefira listas curtas e exemplos prticos.
- Se algo estiver ambguo, faa no mximo 1 pergunta curta para destravar.

Boas prticas para nutrio:
- Emagrecimento: foco em dficit calrico sustentvel, protenas, fibras, hidratao e movimento dirio; evitar ultraprocessados e bebidas aucaradas.
- Ganho de massa: supervit leve, 1,62,2 g/kg/dia de protena distribuda, carboidratos suficientes para treino, sono e consistncia.
- Sempre adaptao  realidade do usurio; evite prescries fechadas.

Regras:
1) Orientao educativa  para plano individual, recomende consultar nutricionista.
2) No faa diagnstico mdico.
3) Responda em PT-BR por padro.
4) Mapeie dificuldade: fcil/fceiseasy, mdio/mdiamedium, difcil/difceishard (tambm em EN).
5) Se perguntarem a data/hora, use o contexto: hoje  ${new Intl.DateTimeFormat("pt-BR",{dateStyle:"full",timeStyle:"short",timeZone:"America/Sao_Paulo"}).format(new Date)} (America/Sao_Paulo).
  `.trim()}function hD(e,t){return e.slice(-cD).map(r=>({role:r.sender_type==="user"?"user":"model",parts:[{text:r.content}]}))}function fD(){return wk!=="your-api-key-here"}const mD={easy:["fcil","facil","fceis","faceis","facinha","facinho","facinhas","facinhos","simples","iniciante","tranquila","descomplicada","easy","simple","beginner","quick"],medium:["mdio","medio","intermedirio","intermediario","mdia","mediana","medium","average","intermediate","normal"],hard:["difcil","dificil","difceis","dificeis","avanado","avancado","complexo","trabalhosa","desafiadora","hard","difficult","advanced","complex","challenging"]},bk=["Vegana","Baixo Carboidrato","Rica em Protena","Sem Glten","Vegetariana"],kk={Vegana:["vegana","vegano","vegan"],"Baixo Carboidrato":["baixo carboidrato","low carb","pouco carbo","baixo carb","lowcarb"],"Rica em Protena":["rica em protena","muita proteina","alta protena","alto teor proteico","proteica","proteinado","protein rich","high protein"],"Sem Glten":["sem glten","sem gluten","gluten free","sg","livre de glten"],Vegetariana:["vegetariana","vegetariano","veggie","ovo-lacto","ovolacto","vegetarian"]},Hy={vegan:"Vegana",vegetarian:"Vegetariana","gluten-free":"Sem Glten","gluten free":"Sem Glten","low carb":"Baixo Carboidrato","low-carb":"Baixo Carboidrato","high protein":"Rica em Protena","protein rich":"Rica em Protena"},Gy=/(\d+(?:[.,]\d+)?)/,pD=new Set(["receita","receitas","quero","queria","gostaria","me","mostra","mostrar","mostre","traga","trazer","uma","umas","um","uns","de","do","da","no","na","em","pra","para","por","a","o","as","os","ai","ia","porfavor","por","favor"]);function gD(e){const t=e.replace(/-/g,"").slice(0,8);return parseInt(t,16)}function yD(e){return e==null?"":typeof e=="string"?e:String(e)}function ir(e){return yD(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim()}function Fh(e){return e==null||Number.isNaN(e)?0:Math.round(Number(e)*10)/10}function vD(e){if(!(e!=null&&e.length))return 0;const t=e.reduce((r,n)=>r+(n.rating??0),0)/e.length;return Fh(t)}function xD(e){const t=(typeof e.rating=="number"?e.rating:vD(e.reviews))||0;return{id:gD(e.id),title:e.title,description:e.description,author:e.author_name||"NutriChefe",rating:t}}function jk(e){const t=ir(e).trim();if(Hy[t])return Hy[t];for(const r of bk)if(kk[r].map(ir).some(s=>t===s||t.includes(s)||s.includes(t)))return r;return null}function wD(e){const t=ir(e);return t==="easy"||t==="medium"||t==="hard"?t:/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||t.includes("simples")?"easy":/\bmedi/.test(t)?"medium":/\bdific/.test(t)||/\bhard\b/.test(t)||/\bdifficult\b/.test(t)?"hard":"medium"}function bD(e){const t=e.match(/\b(top|s[o]|somente|apenas|mostrar|mostra|traga|trazer)?\s*(\d{1,3})\b/);if(!t)return;const r=parseInt(t[2],10);if(!(!Number.isFinite(r)||r<=0))return Math.min(r,100)}function kD(e){if(/\b(nota|avalia|melhores|melhor|maior(es)? nota|rank|mais bem avaliadas?)\b/.test(e))return"rating";if(/\btempo|rapidez|mais r[a]pidas?|r[a]pido(s)? primeiro\b/.test(e))return"prepTime";if(/\bnovo(s)?|recent(es)?|mais recente(s)?\b/.test(e))return"newest"}function jD(e){const t=ir(e).split(/\s+/).filter(Boolean).filter(r=>!pD.has(r)).join(" ").trim();if(!(!t||t.length<=2))return t}function _D(e){const t=ir(e),r={};for(const a of bk)if(kk[a].map(ir).some(c=>t.includes(c))){r.category=a;break}for(const[a,o]of Object.entries(mD))if(o.some(c=>t.includes(ir(c)))){r.difficulty=a;break}r.difficulty||(/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||/\beasy\b|\bsimple\b/.test(t)?r.difficulty="easy":/\bm[e]di[oa]\b|\bmedium\b/.test(t)?r.difficulty="medium":/\bdific(?:eis|il)\b|\bhard\b|\bdifficult\b/.test(t)&&(r.difficulty="hard")),(/\br[a]pid[oa]s?\b/.test(t)||/\b<=?\s*15\b/.test(t))&&(r.maxPrep=15),(/\bm[e]di[oa]\b/.test(t)||/\b<=?\s*30\b/.test(t))&&(r.maxPrep=r.maxPrep??30),/\blongo?s?\b|\b>?\s*30\b/.test(t)&&(r.minPrep=31);const n=t.match(new RegExp(`\\b(em|ate|at|<=?)\\s*${Gy.source}\\s*(min|mins|minutos)\\b`));if(n){const a=parseFloat(n[2].replace(",","."));isNaN(a)||(r.maxPrep=Math.min(r.maxPrep??1/0,a))}const s=t.match(new RegExp(`${Gy.source}\\s*(\\+|mais)?\\s*(\\*|estrela|estrelas)?`));if(s){const a=parseFloat(s[1].replace(",","."));!isNaN(a)&&a>=0&&a<=5&&(/\+|mais/.test(s[2]||"")||/estrela|\*/.test(s[3]||""))&&(r.minRating=a)}/\b4\+\b/.test(t)&&(r.minRating=Math.max(r.minRating??0,4)),/\b4[.,]5\+\b/.test(t)&&(r.minRating=Math.max(r.minRating??0,4.5)),/\b5\s*(\*|estrelas?)?\b/.test(t)&&(r.minRating=5),/\btod[ao]s?\b|\bqualquer\b/.test(t)&&(r.wantAll=!0),r.limit=bD(t)??void 0,r.sort=kD(t)??void 0,r.hasStructuredFilter=!!(r.category||r.difficulty||r.maxPrep||r.minPrep||r.minRating);const i=jD(e);return!r.hasStructuredFilter&&i&&(r.plainSearch=i),r}async function SD(){const{data:e,error:t}=await $.from("recipes").select("id, title, description, image, prep_time, difficulty, category, rating, nutrition_facts, author_id, created_at, updated_at");if(t)throw t;const r=e||[];if(r.length===0)return[];const n=Array.from(new Set(r.map(u=>u.author_id).filter(Boolean)));let s={};if(n.length>0){const{data:u}=await $.from("profiles").select("id, full_name").in("id",n);u&&(s=Object.fromEntries(u.map(d=>[d.id,d.full_name||"NutriChefe"])))}const i=r.map(u=>u.id),{data:a}=await $.from("reviews").select("recipe_id, rating").in("recipe_id",i),o={};if(a&&a.length)for(const u of a)o[u.recipe_id]||(o[u.recipe_id]={sum:0,count:0}),o[u.recipe_id].sum+=u.rating??0,o[u.recipe_id].count+=1;return r.map(u=>{const d=o[u.id];let h=null;if(d&&d.count>0)h=Fh(d.sum/d.count);else if(u.rating!==null&&u.rating!==void 0){const m=Number(u.rating);h=Number.isFinite(m)&&m>0?Fh(m):null}const f=jk(u.category)??u.category;return{id:u.id,title:u.title,description:u.description,image:u.image,prep_time:u.prep_time,difficulty:wD(u.difficulty),category:f,rating:h,author_id:u.author_id,author_name:u.author_id&&s[u.author_id]?s[u.author_id]:"NutriChefe",nutrition_facts:u.nutrition_facts||null,reviews:[],created_at:u.created_at,updated_at:u.updated_at}})}function _k(e,t){let r=e.slice();if(t.category&&(r=r.filter(n=>(jk(n.category)??n.category)===t.category)),t.difficulty&&(r=r.filter(n=>n.difficulty===t.difficulty)),typeof t.maxPrep=="number"&&(r=r.filter(n=>n.prep_time<=t.maxPrep)),typeof t.minPrep=="number"&&(r=r.filter(n=>n.prep_time>=t.minPrep)),typeof t.minRating=="number"&&(r=r.filter(n=>(typeof n.rating=="number"?n.rating:0)>=t.minRating)),t.plainSearch){const n=ir(t.plainSearch);r=r.filter(s=>ir(s.title).includes(n)||ir(s.description||"").includes(n))}return r}function ND(e,t){const r=e.slice();return t==="prepTime"?r.sort((n,s)=>n.prep_time-s.prep_time||(s.rating??0)-(n.rating??0)):t==="newest"?r.sort((n,s)=>new Date(s.created_at||0).getTime()-new Date(n.created_at||0).getTime()):r.sort((n,s)=>{const i=n.rating??0,a=s.rating??0;return a!==i?a-i:n.prep_time-s.prep_time}),r}function CD(e,t=12){return e.slice(0,t).map(xD)}function ED(e,t){const r=[n=>{typeof n.minRating=="number"&&delete n.minRating},n=>{typeof n.maxPrep=="number"&&delete n.maxPrep},n=>{n.category&&delete n.category},n=>{n.difficulty&&delete n.difficulty}];for(const n of r){const s={...t};n(s);const i=_k(e,s);if(i.length>0)return{list:i}}return{list:e.slice()}}function PD(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Math.abs(t)}function sd(e,t=0){if(!e.length)return e[0];const r=t%e.length;return e[r]}function TD(e){const t=e.filter(Boolean);return t.length===0?"":t.length===1?t[0]:t.length===2?`${t[0]} e ${t[1]}`:`${t.slice(0,-1).join(", ")} e ${t[t.length-1]}`}function RD(e,t){const{f0:r,shown:n,matchedExactly:s,sortKey:i}=t,a=PD(e),o=[];r.category&&o.push(r.category),r.difficulty&&o.push(r.difficulty==="easy"?"fceis":r.difficulty==="medium"?"mdias":"difceis"),typeof r.maxPrep=="number"&&o.push(`at ${r.maxPrep} min`),typeof r.minRating=="number"&&o.push(`${r.minRating}+ `),i==="prepTime"&&o.push("mais rpidas primeiro"),i==="newest"&&o.push("mais recentes"),i==="rating"&&o.push("bem avaliadas");const c=TD(o),u=typeof r.limit=="number",d=[`Separei estas ${c?`**${c}**`:"opes"} pra voc:`,`Olha s algumas ideias ${c?`**${c}**`:""}:`,`Que tal comear por estas ${c?`**${c}**`:"sugestes"}:`],h=["Separei algumas das favoritas do pessoal:","Aqui vo algumas ideias legais do nosso acervo:","Peguei algumas sugestes que costumam agradar:"],y=[!!r.difficulty&&!r.category&&typeof r.maxPrep!="number"&&typeof r.minPrep!="number"&&typeof r.minRating!="number"||r.category||r.maxPrep||r.minRating||i?sd(d,a):sd(h,a)];if(u?y.push(n<(r.limit??n)?`Consegui **${n}** no momento.`:`Mostrando **${n}** como voc pediu.`):!r.hasStructuredFilter&&!r.plainSearch&&y.push(`Mostrando ${n}.`),!s&&n>0&&!u){const v=["Ajustei um pouquinho os critrios pra ampliar as ideias.","Dei uma flexionada nos filtros pra te trazer opes parecidas.","Expandi levemente os critrios pra no te deixar na mo."];y.push(sd(v,a))}return y.join(`
`)}async function Wy(e){const t=_D(e),r=await SD();let s=_k(r,t),i=s.length>0;s.length===0&&(s=ED(r,t).list,i=!1);const a=!t.hasStructuredFilter&&!t.plainSearch;let o=t.sort??(a?"rating":void 0);!t.sort&&t.difficulty==="easy"&&(o="prepTime"),!t.sort&&t.difficulty==="hard"&&(o="rating");const c=t.limit??(t.wantAll?100:12),u=ND(s,o),d=CD(u,c);return d.length===0?{content:"No pintou nada com esses critrios. Quer tentar vegana fcil, rpida 4.5+ ou sem glten em 15 min?",recipes:[],suggestions:["receitas fceis","vegana rpida","rica em protena 5"]}:{content:RD(e,{f0:t,shown:d.length,total:s.length,matchedExactly:i,sortKey:o}),recipes:d,suggestions:d.length<5?["receitas rpidas","vegana fcil","5 "]:[]}}async function Ky(e){const{data:t,error:r}=await $.from("ai_configurations").select("*").eq("nutritionist_id",e).single();if(r&&r.code!=="PGRST116")throw r;return t}async function AD(e){const{data:t,error:r}=await $.from("ai_configurations").insert([e]).select().single();if(r)throw r;return t}async function MD(e,t){const{data:r,error:n}=await $.from("ai_configurations").update(t).eq("id",e).select().single();if(n)throw n;return r}async function DD(e){let t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{throw new Error("createAIConversation: payload invlido (string no  JSON)")}const r={client_id:t.client_id,nutritionist_id:t.nutritionist_id??null,ai_config_id:t.ai_config_id??null,title:t.title??"Nova conversa com IA",is_active:t.is_active??!0},{data:n,error:s}=await $.from("ai_conversations").insert([r]).select("*").single();if(s)throw s;return n}async function ID(e){const{data:t,error:r}=await $.from("ai_conversations").select("*").eq("client_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function LD(e){const{data:t,error:r}=await $.from("ai_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return t||[]}async function qy(e){const{data:t,error:r}=await $.from("ai_messages").insert([e]).select().single();if(r)throw r;return t}function OD(e){const t=ir(e);return/\bemagrec|perder peso|perda de gordura|defini[c][a]o|definir|secar\b/.test(t)||/\bganhar massa|hipertrof|massa magra|bulking|volume\b/.test(t)}async function FD(e,t,r){let n="";typeof e=="string"?n=e:e&&typeof e=="object"&&"content"in e&&(n=String(e.content));const s=n.toLowerCase(),i=/\breceit|\bprato|\bingredient|\bvegana|\bgluten|\bcarbo|\bprote[i]na|\bfac(eis|il)|\bhard\b|\bdifficult\b|\bmedium\b/.test(s),a=OD(n);if(i&&a){const[c,u]=await Promise.all([Wy(n),By(`Contexto: o usurio quer sugestes voltadas para objetivo corporal/nutricional.
Pergunta: "${n}"
Responda de forma direta e til, em 35 bullets, incluindo:
- princpios prticos para o objetivo (emagrecer/ganhar massa);
- 24 ideias de refeies;
- lembrete curto de consultar nutricionista para plano individual.`)]);return{content:`${u.content}

${c.content}`,recipes:c.recipes,suggestions:c.suggestions}}return i?Wy(n):{content:(await By(n)).content,recipes:[],suggestions:[]}}const zD=Br((e,t)=>({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null,fetchAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await Ky(r);e({aiConfig:n,loading:!1})}catch(n){console.error("Error fetching AI configuration:",n);const s=n instanceof Error?n.message:"Erro ao carregar configurao da IA";e({error:s,loading:!1})}},createAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await AD(r);e({aiConfig:n,loading:!1}),te.getState().showToast("Configurao da IA criada com sucesso!","success")}catch(n){console.error("Error creating AI configuration:",n);const s=n instanceof Error?n.message:"Erro ao criar configurao da IA";throw e({error:s,loading:!1}),te.getState().showToast("Erro ao criar configurao da IA","error"),n}},updateAIConfiguration:async(r,n)=>{e({loading:!0,error:null});try{const s=await MD(r,n);e({aiConfig:s,loading:!1}),te.getState().showToast("Configurao da IA atualizada com sucesso!","success")}catch(s){console.error("Error updating AI configuration:",s);const i=s instanceof Error?s.message:"Erro ao atualizar configurao da IA";throw e({error:i,loading:!1}),te.getState().showToast("Erro ao atualizar configurao da IA","error"),s}},fetchConversations:async r=>{e({loading:!0,error:null});try{const n=await ID(r);e({conversations:n,loading:!1})}catch(n){console.error("Error fetching conversations:",n);const s=n instanceof Error?n.message:"Erro ao carregar conversas";e({error:s,loading:!1})}},createConversation:async(r,n)=>{e({loading:!0,error:null});try{let s=null;if(n){const a=await Ky(n);s=(a==null?void 0:a.id)||null}const i=await DD({client_id:r,nutritionist_id:n,ai_config_id:s,title:"Nova conversa com IA",is_active:!0});return e(a=>({conversations:[i,...a.conversations],currentConversation:i,loading:!1})),i}catch(s){console.error("Error creating conversation:",s);const i=s instanceof Error?s.message:"Erro ao criar conversa";throw e({error:i,loading:!1}),te.getState().showToast("Erro ao criar conversa","error"),s}},setCurrentConversation:r=>{e({currentConversation:r,messages:[]}),r&&t().fetchMessages(r.id)},fetchMessages:async r=>{e({loading:!0,error:null});try{const n=await LD(r);e({messages:n,loading:!1})}catch(n){console.error("Error fetching messages:",n);const s=n instanceof Error?n.message:"Erro ao carregar mensagens";e({error:s,loading:!1})}},sendMessage:async(r,n)=>{const{currentConversation:s}=t();if(s){e({sendingMessage:!0,error:null});try{const i=await qy({conversation_id:r,sender_type:"user",content:n,metadata:{}});e(u=>({messages:[...u.messages,i]}));let a=t().aiConfig;if(!a&&s.ai_config_id){const{data:u}=await $.from("ai_configurations").select("*").eq("id",s.ai_config_id).single();a=u}const o=await FD(n,a||{id:"default",nutritionist_id:"default",ai_name:"NutriBot",personality:"empathetic",custom_instructions:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t().messages),c=await qy({conversation_id:r,sender_type:"ai",content:o.content,metadata:{recipes:o.recipes,suggestions:o.suggestions}});e(u=>({messages:[...u.messages,c],sendingMessage:!1}))}catch(i){console.error("Error sending message:",i);const a=i instanceof Error?i.message:"Erro ao enviar mensagem";e({error:a,sendingMessage:!1}),te.getState().showToast("Erro ao enviar mensagem","error")}}},clearError:()=>e({error:null}),reset:()=>e({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null})}));function $D(){var w;const{user:e}=Ve(),{conversations:t,currentConversation:r,messages:n,sendingMessage:s,createConversation:i,setCurrentConversation:a,sendMessage:o,fetchMessages:c}=zD(),[u,d]=b.useState(""),h=b.useRef(null),f=b.useRef(null),m=ge(),y=fD();b.useEffect(()=>{var j;(j=h.current)==null||j.scrollIntoView({behavior:"smooth"})},[n]),b.useEffect(()=>{!s&&f.current&&f.current.focus()},[s]);const v=async()=>{if(e)try{const j=await i(e.id);a(j)}catch(j){console.error("Error starting conversation:",j)}},x=async j=>{if(j.preventDefault(),!u.trim()||!r||s)return;const _=u.trim();d("");try{await o(r.id,_)}catch(E){console.error("Error sending message:",E),d(_)}},p=j=>j.split(`
`).map((_,E)=>{if(_.startsWith("# "))return l.jsx("h3",{className:"text-lg font-bold mt-4 mb-2",children:_.substring(2)},E);if(_.startsWith("## "))return l.jsx("h4",{className:"text-md font-semibold mt-3 mb-1",children:_.substring(3)},E);if(_.startsWith("- ")||_.startsWith(" "))return l.jsxs("div",{className:"flex items-start gap-2 my-1",children:[l.jsx("span",{className:"text-purple-500 mt-1",children:""}),l.jsx("span",{children:_.substring(2)})]},E);const k=_.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return _.trim()?l.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:k}},E):l.jsx("br",{},E)}),g=j=>l.jsx(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-purple-200 dark:border-purple-700 mt-3",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xn,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:j.title}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:j.description}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx($r,{className:"w-3 h-3"}),j.author]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(yr,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),j.rating>0?j.rating.toFixed(1):m.recipe.noReviews]})]})]})]})});return r?l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:l.jsx(Zn,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white",children:((w=r.ai_config)==null?void 0:w.ai_name)||"NutriBot"}),l.jsx("p",{className:"text-purple-100 text-sm",children:m.aiChat.headerSubtitle})]})]})}),l.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[l.jsx(Si,{children:n.map(j=>{var _;return l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:V("flex gap-3",j.sender_type==="user"?"justify-end":"justify-start"),children:[j.sender_type==="ai"&&l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex-shrink-0",children:l.jsx(Zn,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:V("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",j.sender_type==="user"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"),children:[l.jsx("div",{className:"text-sm",children:p(j.content)}),((_=j.metadata)==null?void 0:_.recipes)&&j.metadata.recipes.length>0&&l.jsx("div",{className:"mt-3 space-y-2",children:j.metadata.recipes.map((E,k)=>g(E))}),l.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(j.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),j.sender_type==="user"&&l.jsx("div",{className:"p-2 bg-green-600 rounded-full flex-shrink-0",children:l.jsx($r,{className:"w-4 h-4 text-white"})})]},j.id)})}),s&&l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full",children:l.jsx(Zn,{className:"w-4 h-4 text-white"})}),l.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Lm,{size:"sm"}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.typing})]})})]}),l.jsx("div",{ref:h})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[l.jsxs("form",{onSubmit:x,className:"flex gap-3",children:[l.jsx("input",{ref:f,type:"text",value:u,onChange:j=>d(j.target.value),placeholder:m.aiChat.inputPlaceholder,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",disabled:s}),l.jsx(ae.button,{type:"submit",disabled:!u.trim()||s,className:V("px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",!u.trim()||s?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700"),whileHover:!s&&u.trim()?{scale:1.05}:{},whileTap:!s&&u.trim()?{scale:.95}:{},children:s?l.jsx(ls,{className:"w-4 h-4 animate-spin"}):l.jsx(rC,{className:"w-4 h-4"})})]}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:[m.aiChat.disclaimer,!y]})]})]})}):l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:l.jsx(Zn,{className:"w-12 h-12 text-white"})}),l.jsx(ae.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1",children:l.jsx(Gw,{className:"w-6 h-6 text-yellow-500"})})]})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:m.aiChat.welcomeTitle}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:m.aiChat.welcomeDescription}),!y,l.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[l.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:m.aiChat.examples.recipesTitle}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.recipesExample})]}),l.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:m.aiChat.examples.tipsTitle}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.tipsExample})]}),l.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-green-700 dark:text-green-300 mb-2",children:m.aiChat.examples.helpTitle}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.helpExample})]})]}),l.jsxs(ae.button,{onClick:v,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 mx-auto",whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(Gf,{className:"w-5 h-5"}),m.aiChat.startConversationButton]})]})})}const UD="price_1S8hUJRvfweGXYGcPyJ9VAR9",VD=19.9;function BD(){const e=ge(),{showToast:t}=te(),[r,n]=b.useState([]),[s,i]=b.useState(!1),[a,o]=b.useState(null);b.useEffect(()=>{$.auth.getUser().then(({data:v})=>o(v.user?{id:v.user.id}:null));const{data:y}=$.auth.onAuthStateChange((v,x)=>{o(x!=null&&x.user?{id:x.user.id}:null)});return()=>{var v,x;(x=(v=y==null?void 0:y.subscription)==null?void 0:v.unsubscribe)==null||x.call(v)}},[]),b.useEffect(()=>{Pb().then(y=>n(y||[])).catch(y=>{console.error(y),t(e.premium.loadPlansError)})},[t,e.premium.loadPlansError]);const c=b.useMemo(()=>r.find(y=>y.stripe_price_id)??r[0]??null,[r]),u=c&&typeof c.price=="number"&&c.price>0?c.price:VD,d=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),h=(c==null?void 0:c.billing_period)||"monthly",f=[{icon:l.jsx(Zn,{className:"w-5 h-5"}),title:e.premium.features.mentoringUnlimitedTitle,description:e.premium.features.mentoringUnlimitedDescription},{icon:l.jsx(Gf,{className:"w-5 h-5"}),title:e.premium.features.personalizedConsultationsTitle,description:e.premium.features.personalizedConsultationsDescription},{icon:l.jsx(yr,{className:"w-5 h-5"}),title:e.premium.features.smartRecommendationsTitle,description:e.premium.features.smartRecommendationsDescription},{icon:l.jsx(cC,{className:"w-5 h-5"}),title:e.premium.features.prioritySupportTitle,description:e.premium.features.prioritySupportDescription}],m=async()=>{try{if(i(!0),!a){t(e.premium.loginRequired),window.location.href="/login";return}const y=(c==null?void 0:c.stripe_price_id)||UD;await qT({planId:c==null?void 0:c.id,priceId:y})}catch(y){console.error(y),t((y==null?void 0:y.message)||e.premium.checkoutErrorGeneric)}finally{i(!1)}};return l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-2xl p-8 text-center border border-purple-200 dark:border-purple-700",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:l.jsx(ma,{className:"w-12 h-12 text-white"})}),l.jsx(ae.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:l.jsx(Gw,{className:"w-6 h-6 text-yellow-500"})})]})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e.premium.title}),l.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:[e.premium.descriptionPrefix,l.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:e.premium.planName}),e.premium.descriptionSuffix]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 mb-8 border border-purple-200 dark:border-purple-700",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx(ma,{className:"w-6 h-6 text-purple-600"}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.premium.planName})]}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("span",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400",children:d}),l.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["/ ",h==="monthly"?e.premium.perMonthLabel:h]})]}),l.jsx("div",{className:"rounded-xl border border-purple-100 dark:border-purple-900/40 bg-white/70 dark:bg-white/5 backdrop-blur p-4 md:p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Xt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.accessNutritionists})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Xt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.whatsappDirect})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Xt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.personalizedGoals})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Xt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.mealPlans})]})]}),l.jsx("div",{className:"md:pl-6 md:border-l md:border-purple-200/60 dark:md:border-purple-900/40",children:l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Xt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.weeklyFollowup})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Xt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.progressReports})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Xt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.premiumRecipes})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(Xt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.vipCommunity})]})]})})]})}),l.jsxs(ae.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:s,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[l.jsx(ma,{className:"w-5 h-5"}),s?e.premium.ctaLoading:e.premium.ctaSubscribe]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-2",children:f.map((y,v)=>l.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"flex items-start gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg text-white",children:y.icon}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:y.title}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.description})]})]},v))}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.premium.footerNote})]})})}function HD({onBack:e}){const{user:t,isNutritionist:r}=Ve(),{hasFeatureAccess:n}=Wc(),s=ge(),i=t&&(r()||n("ai_mentoring"));return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("button",{onClick:e,className:`
          mb-8 inline-flex items-center gap-2
          text-green-600 dark:text-green-400
          hover:text-green-700 dark:hover:text-green-300
          font-medium text-lg
          group
        `,children:[l.jsx(ao,{className:`
            w-6 h-6 transition-transform duration-200
            group-hover:-translate-x-1
          `}),l.jsx("span",{className:"tracking-wide",children:s.common.back})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 md:p-8",children:i?l.jsx($D,{}):l.jsx(BD,{})})]})}function GD(){const e=St();return l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(HD,{onBack:()=>e("/")})})})}function WD(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(!1),[a,o]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(!0),[f,m]=b.useState("idle"),[y,v]=b.useState(""),[x,p]=b.useState(!1);b.useEffect(()=>{(async()=>{try{console.log("Checking recovery token..."),(await GT()).valid?(console.log("Valid recovery token found"),p(!0)):(m("error"),v("Link de recuperao invlido ou expirado. Solicite um novo link."),p(!1))}catch(C){console.error("Token validation error:",C),m("error"),v("Erro ao validar link de recuperao. Tente novamente."),p(!1)}finally{h(!1)}})()},[]);const g=P=>{const C=[];return P.length<6&&C.push("A senha deve ter pelo menos 6 caracteres"),/(?=.*[a-z])/.test(P)||C.push("A senha deve conter pelo menos uma letra minscula"),/(?=.*[A-Z])/.test(P)||C.push("A senha deve conter pelo menos uma letra maiscula"),/(?=.*\d)/.test(P)||C.push("A senha deve conter pelo menos um nmero"),C},w=async P=>{P.preventDefault(),u(!0),v("");const C=g(e);if(C.length>0){v(C[0]),u(!1);return}if(e!==r){v("As senhas no coincidem"),u(!1);return}try{console.log("Updating password..."),await HT(e),console.log("Password updated successfully"),m("success"),setTimeout(async()=>{await $.auth.signOut(),setTimeout(()=>{window.location.href="/"},3e3)},1e3)}catch(R){console.error("Password reset error:",R),v(R.message||"Erro inesperado. Tente novamente."),m("error")}finally{u(!1)}},_=(P=>{let C=0;return P.length>=6&&C++,P.match(/[a-z]/)&&C++,P.match(/[A-Z]/)&&C++,P.match(/[0-9]/)&&C++,P.match(/[^a-zA-Z0-9]/)&&C++,C})(e),E=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"],k=["Muito fraca","Fraca","Regular","Boa","Forte"];return d?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[l.jsx(ls,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-green-600"}),l.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Verificando link de recuperao..."}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto validamos seu link de recuperao."})]})}):f==="success"?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:l.jsx(ci,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Senha redefinida com sucesso!"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua senha foi alterada com sucesso. Voc ser redirecionado para a pgina de login em alguns segundos."}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:l.jsx(ae.div,{className:"bg-green-600 h-2 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:3}})}),l.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Ir para login agora"})]})}):f==="error"||!x?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:l.jsx(Hf,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Link invlido ou expirado"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:y||"Este link de recuperao  invlido ou expirou. Solicite um novo link de recuperao."}),l.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Voltar ao login"})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[l.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:l.jsx(W2,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Nova senha"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite sua nova senha segura"})]})]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(iC,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Dicas para uma senha segura:"}),l.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[l.jsx("li",{children:" Pelo menos 6 caracteres"}),l.jsx("li",{children:" Combine letras maisculas e minsculas"}),l.jsx("li",{children:" Inclua nmeros e smbolos"}),l.jsx("li",{children:" Evite informaes pessoais"})]})]})]})}),l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova senha"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:s?"text":"password",id:"password",value:e,onChange:P=>t(P.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite sua nova senha",required:!0,disabled:c}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:c,children:s?l.jsx(Rg,{className:"w-5 h-5"}):l.jsx(Ag,{className:"w-5 h-5"})})]}),e&&l.jsx("div",{className:"mt-2",children:l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:V("h-2 rounded-full transition-all duration-300",E[Math.max(0,_-1)]),style:{width:`${_/5*100}%`}})}),l.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:k[Math.max(0,_-1)]})]})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar senha"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a?"text":"password",id:"confirmPassword",value:r,onChange:P=>n(P.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirme sua nova senha",required:!0,disabled:c}),l.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:c,children:a?l.jsx(Rg,{className:"w-5 h-5"}):l.jsx(Ag,{className:"w-5 h-5"})})]}),r&&e!==r&&l.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"As senhas no coincidem"})]}),y&&l.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:y})}),l.jsxs("button",{type:"submit",disabled:c||e!==r||_<3,className:V("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",c||e!==r||_<3?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[c&&l.jsx(ls,{className:"w-4 h-4 animate-spin"}),c?"Redefinindo...":"Redefinir senha"]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium",disabled:c,children:"Voltar ao login"})})]})})}function KD(){return l.jsx(WD,{})}function qD(){const e=St();return b.useEffect(()=>{const t=setTimeout(()=>{e("/perfil")},5e3);return()=>clearTimeout(t)},[e]),l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-4 rounded-full",children:l.jsx(Xt,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Assinatura Confirmada!"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua assinatura foi processada com sucesso. Voc agora tem acesso a todos os recursos premium."}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Redirecionando para seu perfil em 5 segundos..."}),l.jsx("button",{onClick:()=>e("/perfil"),className:"mt-6 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Ir para o Perfil Agora"})]})})}function YD(){const e=St();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-4 rounded-full",children:l.jsx(Ht,{className:"w-12 h-12 text-red-600 dark:text-red-400"})})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pagamento Cancelado"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Seu pagamento foi cancelado. Sua assinatura no foi processada."}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-6",children:"Voc pode tentar novamente a qualquer momento."}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>e("/mentoria-ia"),className:"w-full px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar Novamente"}),l.jsx("button",{onClick:()=>e("/"),className:"w-full px-6 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors",children:"Voltar ao Incio"})]})]})})}function JD(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),s=St(),i=ge(),{language:a}=Ei();b.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:c}=await $.from("profiles").select("*").eq("user_type","Nutritionist").eq("profile_visibility","public").order("years_of_experience",{ascending:!1});if(!c){t([]),n(!1);return}const u=await Promise.all(c.map(async d=>{const{count:h}=await $.from("recipes").select("*",{count:"exact",head:!0}).eq("author_id",d.id),{data:f}=await $.from("reviews").select("rating").in("recipe_id",await $.from("recipes").select("id").eq("author_id",d.id).then(y=>{var v;return((v=y.data)==null?void 0:v.map(x=>x.id))||[]})),m=f&&f.length>0?f.reduce((y,v)=>y+v.rating,0)/f.length:0;return{id:d.id,full_name:d.full_name||"Nutricionista",professional_bio:d.professional_bio||"",specializations:d.specializations||[],years_of_experience:d.years_of_experience||0,consultation_price:d.consultation_price||0,clinic_address:d.clinic_address||"",accepting_new_clients:d.accepting_new_clients??!0,published_recipes_count:h||0,average_rating:m,avatar_url:d.avatar_url||null}}));t(u)}catch(c){console.error("Error loading nutritionists:",c)}finally{n(!1)}};return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("button",{onClick:()=>s("/"),className:"mb-6 flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:[l.jsx(ao,{className:"h-5 w-5"}),i.common.back]}),l.jsxs("div",{className:"mb-12 text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:i.nutritionists.title}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:i.nutritionists.subtitle})]}),e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx($r,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i.nutritionists.noNutritionists})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>l.jsxs("div",{onClick:()=>s(`/nutricionista/${c.id}`),className:"group cursor-pointer bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-200 overflow-hidden border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 h-24"}),l.jsxs("div",{className:"p-6 -mt-12",children:[l.jsx("div",{className:"flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-teal-600 mx-auto mb-4 shadow-lg border-4 border-white dark:border-gray-800 overflow-hidden",children:c.avatar_url?l.jsx("img",{src:c.avatar_url,alt:c.full_name,className:"w-full h-full object-cover"}):l.jsx($r,{className:"h-10 w-10 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 dark:text-white mb-2",children:c.full_name}),l.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[c.years_of_experience>0&&l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-300",children:[l.jsx(Tn,{className:"h-4 w-4"}),c.years_of_experience," ",a==="pt"?"anos":"years"]}),c.average_rating>0&&l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-300",children:[l.jsx(yr,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),c.average_rating.toFixed(1)]})]}),c.specializations.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:c.specializations.slice(0,3).map((u,d)=>l.jsx("span",{className:"px-3 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 text-xs font-medium rounded-full",children:ik(u,a)},d))}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 text-center line-clamp-3 mb-4 min-h-[60px]",children:c.professional_bio||"Profissional de nutrio"}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700",children:[c.consultation_price>0&&l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.nutritionists.profile.price}),l.jsxs("p",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:["R$ ",c.consultation_price.toFixed(2)]})]}),l.jsx("div",{className:V("flex items-center gap-1 text-xs font-medium px-3 py-1.5 rounded-full",c.accepting_new_clients?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:c.accepting_new_clients?l.jsxs(l.Fragment,{children:[l.jsx(ci,{className:"h-3.5 w-3.5"}),i.nutritionists.acceptingClients]}):l.jsxs(l.Fragment,{children:[l.jsx(Wf,{className:"h-3.5 w-3.5"}),i.nutritionists.notAcceptingClients]})})]})]})]},c.id))})]})})}function ZD(){const{id:e}=Tw(),t=St(),r=ge(),{language:n}=Ei(),[s,i]=b.useState(null),[a,o]=b.useState([]),[c,u]=b.useState(0),[d,h]=b.useState(!0);b.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const{data:m}=await $.from("profiles").select("*").eq("id",e).eq("user_type","Nutritionist").eq("profile_visibility","public").maybeSingle();if(!m){t("/nutricionistas");return}i({id:m.id,full_name:m.full_name||"Nutricionista",professional_bio:m.professional_bio||"",specializations:m.specializations||[],years_of_experience:m.years_of_experience||0,education:m.education||"",certifications:m.certifications||[],approach:m.approach||"",consultation_price:m.consultation_price||0,consultation_duration:m.consultation_duration||60,consultation_types:m.consultation_types||[],accepts_health_insurance:m.accepts_health_insurance||!1,health_insurances:m.health_insurances||[],phone:m.phone||"",whatsapp:m.whatsapp||"",instagram:m.instagram||"",website:m.website||"",clinic_address:m.clinic_address||"",accepting_new_clients:m.accepting_new_clients??!0,avatar_url:m.avatar_url||null});const{data:y}=await $.from("recipes").select("*").eq("author_id",e).order("created_at",{ascending:!1}).limit(6);if(y){o(y);const{data:v}=await $.from("reviews").select("rating").in("recipe_id",y.map(x=>x.id));if(v&&v.length>0){const x=v.reduce((p,g)=>p+g.rating,0)/v.length;u(x)}}}catch(m){console.error("Error loading profile:",m)}finally{h(!1)}};return d?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):s?l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[l.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 h-48"}),l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 -mt-32 pb-12",children:[l.jsxs("button",{onClick:()=>t("/nutricionistas"),className:"mb-4 flex items-center gap-2 text-white hover:text-emerald-100 transition-colors",children:[l.jsx(ao,{className:"h-5 w-5"}),r.common.back]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start mb-8",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex items-center justify-center w-32 h-32 rounded-full bg-gradient-to-br from-emerald-400 to-teal-600 shadow-lg overflow-hidden",children:s.avatar_url?l.jsx("img",{src:s.avatar_url,alt:s.full_name,className:"w-full h-full object-cover"}):l.jsx($r,{className:"h-16 w-16 text-white"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:s.full_name}),l.jsxs("div",{className:"flex flex-wrap gap-3 mb-3",children:[s.years_of_experience>0&&l.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600 dark:text-gray-300",children:[l.jsx(Tn,{className:"h-4 w-4"}),l.jsxs("span",{className:"text-sm font-medium",children:[s.years_of_experience," ",r.nutritionists.profile.experience]})]}),c>0&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(yr,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),l.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c.toFixed(1)})]}),a.length>0&&l.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600 dark:text-gray-300",children:[l.jsx(oo,{className:"h-4 w-4"}),l.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",r.nutritionists.profile.publishedRecipes]})]})]})]}),l.jsx("div",{className:V("flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold",s.accepting_new_clients?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:s.accepting_new_clients?l.jsxs(l.Fragment,{children:[l.jsx(ci,{className:"h-4 w-4"}),r.nutritionists.acceptingClients]}):l.jsxs(l.Fragment,{children:[l.jsx(Wf,{className:"h-4 w-4"}),r.nutritionists.notAcceptingClients]})})]}),s.specializations.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.specializations.map((m,y)=>l.jsx("span",{className:"px-3 py-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 text-sm font-medium rounded-full",children:ik(m,n)},y))})]})]}),l.jsxs("div",{className:"space-y-8",children:[s.professional_bio&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx($r,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.about]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-line",children:s.professional_bio})]}),s.education&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx($2,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.education]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.education})]}),s.certifications.length>0&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx(Fw,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.certifications]}),l.jsx("ul",{className:"space-y-2",children:s.certifications.map((m,y)=>l.jsxs("li",{className:"flex items-start gap-2 text-gray-600 dark:text-gray-300",children:[l.jsx(ci,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400 flex-shrink-0 mt-0.5"}),m]},y))})]}),s.approach&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:r.nutritionists.profile.approach}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-line",children:s.approach})]}),s.consultation_price>0&&l.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(O2,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.consultationInfo]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:r.nutritionists.profile.price}),l.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["R$ ",s.consultation_price.toFixed(2)]})]}),s.consultation_duration>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:r.nutritionists.profile.duration}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[s.consultation_duration," ",r.nutritionists.profile.minutes]})]})]}),s.consultation_types.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.profile.consultationTypes}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.consultation_types.map((m,y)=>l.jsxs("span",{className:"px-3 py-1.5 bg-white dark:bg-gray-800 rounded-lg text-sm font-medium text-gray-900 dark:text-white",children:[m.type,": R$ ",m.price]},y))})]}),s.accepts_health_insurance&&s.health_insurances.length>0&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-emerald-200 dark:border-emerald-800",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.profile.acceptsInsurance}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.health_insurances.map((m,y)=>l.jsx("span",{className:"px-3 py-1 bg-white dark:bg-gray-800 rounded-lg text-sm text-gray-900 dark:text-white",children:m},y))})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:r.nutritionists.profile.contactInfo}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.whatsapp&&l.jsxs("a",{href:`https://wa.me/${s.whatsapp.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-xl hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[l.jsx(Gf,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"WhatsApp"}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.whatsapp})]})]}),s.phone&&l.jsxs("a",{href:`tel:${s.phone}`,className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(Z2,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.nutritionists.profile.phone}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.phone})]})]}),s.instagram&&l.jsxs("a",{href:`https://instagram.com/${s.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-pink-50 dark:bg-pink-900/20 rounded-xl hover:bg-pink-100 dark:hover:bg-pink-900/30 transition-colors",children:[l.jsx(H2,{className:"h-5 w-5 text-pink-600 dark:text-pink-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Instagram"}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.instagram})]})]}),s.website&&l.jsxs("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[l.jsx(Vw,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.nutritionists.profile.website}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:s.website})]})]}),s.clinic_address&&l.jsxs("div",{className:"md:col-span-2 flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[l.jsx(K2,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:r.nutritionists.profile.address}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.clinic_address})]})]})]})]}),a.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:r.nutritionists.profile.publishedRecipes}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map(m=>l.jsxs("div",{onClick:()=>t(`/receita/${m.id}`),className:"cursor-pointer group rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all",children:[l.jsx("img",{src:m.image,alt:m.title,className:"w-full h-32 object-cover"}),l.jsx("div",{className:"p-3",children:l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm line-clamp-2",children:m.title})})]},m.id))})]})]})]})})]})]}):null}function Yy(){const e=St();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"text-6xl font-bold text-gray-300 dark:text-gray-700",children:"404"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pgina no encontrada"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Desculpe, a pgina que voc est procurando no existe ou foi removida."}),l.jsxs("button",{onClick:()=>e("/"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(U2,{className:"w-5 h-5"}),"Voltar ao Incio"]})]})})}class Sk extends b.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(M2,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function Nk({children:e}){const{theme:t}=Ei();return b.useEffect(()=>{const r=()=>{const n=t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",n)};if(r(),t==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addEventListener("change",r),()=>n.removeEventListener("change",r)}},[t]),l.jsx(l.Fragment,{children:e})}function QD(){return l.jsx(Sk,{children:l.jsx(Nk,{children:l.jsx(qN,{})})})}const XD=v2([{path:"/",element:l.jsx(QD,{}),errorElement:l.jsx(Yy,{}),children:[{index:!0,element:l.jsx(P3,{})},{path:"perfil",element:l.jsx(EM,{})},{path:"receita/:id",element:l.jsx(RM,{})},{path:"mentoria-ia",element:l.jsx(GD,{})},{path:"nutricionistas",element:l.jsx(JD,{})},{path:"nutricionista/:id",element:l.jsx(ZD,{})},{path:"reset-password",element:l.jsx(KD,{})},{path:"assinatura/sucesso",element:l.jsx(qD,{})},{path:"assinatura/cancelada",element:l.jsx(YD,{})},{path:"404",element:l.jsx(Yy,{})},{path:"*",element:l.jsx(KN,{to:"/404",replace:!0})}]}]);function eI(){return l.jsx(T2,{router:XD})}uw(document.getElementById("root")).render(l.jsx(b.StrictMode,{children:l.jsx(Sk,{children:l.jsx(Nk,{children:l.jsx(eI,{})})})}));export{zh as g};
