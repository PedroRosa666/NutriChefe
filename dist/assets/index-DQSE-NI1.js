(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function K1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var my={exports:{}},Xl={},py={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=Symbol.for("react.element"),q1=Symbol.for("react.portal"),Y1=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),Q1=Symbol.for("react.profiler"),X1=Symbol.for("react.provider"),Z1=Symbol.for("react.context"),ek=Symbol.for("react.forward_ref"),tk=Symbol.for("react.suspense"),rk=Symbol.for("react.memo"),nk=Symbol.for("react.lazy"),wm=Symbol.iterator;function sk(e){return e===null||typeof e!="object"?null:(e=wm&&e[wm]||e["@@iterator"],typeof e=="function"?e:null)}var gy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yy=Object.assign,vy={};function di(e,t,r){this.props=e,this.context=t,this.refs=vy,this.updater=r||gy}di.prototype.isReactComponent={};di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xy(){}xy.prototype=di.prototype;function dh(e,t,r){this.props=e,this.context=t,this.refs=vy,this.updater=r||gy}var hh=dh.prototype=new xy;hh.constructor=dh;yy(hh,di.prototype);hh.isPureReactComponent=!0;var km=Array.isArray,by=Object.prototype.hasOwnProperty,fh={current:null},wy={key:!0,ref:!0,__self:!0,__source:!0};function ky(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)by.call(t,n)&&!wy.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Va,type:e,key:i,ref:a,props:s,_owner:fh.current}}function ik(e,t){return{$$typeof:Va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Va}function ak(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jm=/\/+/g;function Vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ak(""+e.key):t.toString(36)}function Go(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Va:case q1:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Vc(a,0):n,km(s)?(r="",e!=null&&(r=e.replace(jm,"$&/")+"/"),Go(s,t,r,"",function(u){return u})):s!=null&&(mh(s)&&(s=ik(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(jm,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",km(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Vc(i,o);a+=Go(i,t,r,c,s)}else if(c=sk(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Vc(i,o++),a+=Go(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function po(e,t,r){if(e==null)return e;var n=[],s=0;return Go(e,n,"","",function(i){return t.call(r,i,s++)}),n}function ok(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},Wo={transition:null},lk={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:fh};ce.Children={map:po,forEach:function(e,t,r){po(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return po(e,function(){t++}),t},toArray:function(e){return po(e,function(t){return t})||[]},only:function(e){if(!mh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=di;ce.Fragment=Y1;ce.Profiler=Q1;ce.PureComponent=dh;ce.StrictMode=J1;ce.Suspense=tk;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lk;ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=yy({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=fh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)by.call(t,c)&&!wy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Va,type:e.type,key:s,ref:i,props:n,_owner:a}};ce.createContext=function(e){return e={$$typeof:Z1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X1,_context:e},e.Consumer=e};ce.createElement=ky;ce.createFactory=function(e){var t=ky.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:ek,render:e}};ce.isValidElement=mh;ce.lazy=function(e){return{$$typeof:nk,_payload:{_status:-1,_result:e},_init:ok}};ce.memo=function(e,t){return{$$typeof:rk,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Wo.transition;Wo.transition={};try{e()}finally{Wo.transition=t}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(e,t){return ht.current.useCallback(e,t)};ce.useContext=function(e){return ht.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ce.useEffect=function(e,t){return ht.current.useEffect(e,t)};ce.useId=function(){return ht.current.useId()};ce.useImperativeHandle=function(e,t,r){return ht.current.useImperativeHandle(e,t,r)};ce.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return ht.current.useMemo(e,t)};ce.useReducer=function(e,t,r){return ht.current.useReducer(e,t,r)};ce.useRef=function(e){return ht.current.useRef(e)};ce.useState=function(e){return ht.current.useState(e)};ce.useSyncExternalStore=function(e,t,r){return ht.current.useSyncExternalStore(e,t,r)};ce.useTransition=function(){return ht.current.useTransition()};ce.version="18.2.0";py.exports=ce;var w=py.exports;const qn=fy(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ck=w,uk=Symbol.for("react.element"),dk=Symbol.for("react.fragment"),hk=Object.prototype.hasOwnProperty,fk=ck.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mk={key:!0,ref:!0,__self:!0,__source:!0};function jy(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)hk.call(t,n)&&!mk.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:uk,type:e,key:i,ref:a,props:s,_owner:fk.current}}Xl.Fragment=dk;Xl.jsx=jy;Xl.jsxs=jy;my.exports=Xl;var l=my.exports,_y={exports:{}},At={},Sy={exports:{}},Ny={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,F){var U=A.length;A.push(F);e:for(;0<U;){var J=U-1>>>1,ge=A[J];if(0<s(ge,F))A[J]=F,A[U]=ge,U=J;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var F=A[0],U=A.pop();if(U!==F){A[0]=U;e:for(var J=0,ge=A.length,Ue=ge>>>1;J<Ue;){var ke=2*(J+1)-1,jt=A[ke],mt=ke+1,z=A[mt];if(0>s(jt,U))mt<ge&&0>s(z,jt)?(A[J]=z,A[mt]=U,J=mt):(A[J]=jt,A[ke]=U,J=ke);else if(mt<ge&&0>s(z,U))A[J]=z,A[mt]=U,J=mt;else break e}}return F}function s(A,F){var U=A.sortIndex-F.sortIndex;return U!==0?U:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,f=3,m=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=A)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function j(A){if(x=!1,v(A),!y)if(r(c)!==null)y=!0,le(k);else{var F=r(u);F!==null&&Q(j,F.startTime-A)}}function k(A,F){y=!1,x&&(x=!1,g(E),E=-1),m=!0;var U=f;try{for(v(F),h=r(c);h!==null&&(!(h.expirationTime>F)||A&&!D());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var ge=J(h.expirationTime<=F);F=e.unstable_now(),typeof ge=="function"?h.callback=ge:h===r(c)&&n(c),v(F)}else n(c);h=r(c)}if(h!==null)var Ue=!0;else{var ke=r(u);ke!==null&&Q(j,ke.startTime-F),Ue=!1}return Ue}finally{h=null,f=U,m=!1}}var T=!1,_=null,E=-1,C=5,R=-1;function D(){return!(e.unstable_now()-R<C)}function L(){if(_!==null){var A=e.unstable_now();R=A;var F=!0;try{F=_(!0,A)}finally{F?de():(T=!1,_=null)}}else T=!1}var de;if(typeof p=="function")de=function(){p(L)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,te=fe.port2;fe.port1.onmessage=L,de=function(){te.postMessage(null)}}else de=function(){b(L,0)};function le(A){_=A,T||(T=!0,de())}function Q(A,F){E=b(function(){A(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,le(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var U=f;f=F;try{return A()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=f;f=A;try{return F()}finally{f=U}},e.unstable_scheduleCallback=function(A,F,U){var J=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,A){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=U+ge,A={id:d++,callback:F,priorityLevel:A,startTime:U,expirationTime:ge,sortIndex:-1},U>J?(A.sortIndex=U,t(u,A),r(c)===null&&A===r(u)&&(x?(g(E),E=-1):x=!0,Q(j,U-J))):(A.sortIndex=ge,t(c,A),y||m||(y=!0,le(k))),A},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(A){var F=f;return function(){var U=f;f=F;try{return A.apply(this,arguments)}finally{f=U}}}})(Ny);Sy.exports=Ny;var pk=Sy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy=w,Pt=pk;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ey=new Set,ha={};function is(e,t){Js(e,t),Js(e+"Capture",t)}function Js(e,t){for(ha[e]=t,e=0;e<t.length;e++)Ey.add(t[e])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uu=Object.prototype.hasOwnProperty,gk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_m={},Sm={};function yk(e){return Uu.call(Sm,e)?!0:Uu.call(_m,e)?!1:gk.test(e)?Sm[e]=!0:(_m[e]=!0,!1)}function vk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xk(e,t,r,n){if(t===null||typeof t>"u"||vk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var ph=/[\-:]([a-z])/g;function gh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ph,gh);et[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ph,gh);et[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ph,gh);et[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function yh(e,t,r,n){var s=et.hasOwnProperty(t)?et[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xk(t,r,s,n)&&(r=null),n||s===null?yk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $r=Cy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,go=Symbol.for("react.element"),js=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),vh=Symbol.for("react.strict_mode"),Vu=Symbol.for("react.profiler"),Ty=Symbol.for("react.provider"),Py=Symbol.for("react.context"),xh=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),Hu=Symbol.for("react.suspense_list"),bh=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),Ry=Symbol.for("react.offscreen"),Nm=Symbol.iterator;function ji(e){return e===null||typeof e!="object"?null:(e=Nm&&e[Nm]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,Bc;function $i(e){if(Bc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bc=t&&t[1]||""}return`
`+Bc+e}var Hc=!1;function Gc(e,t){if(!e||Hc)return"";Hc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Hc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$i(e):""}function bk(e){switch(e.tag){case 5:return $i(e.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 2:case 15:return e=Gc(e.type,!1),e;case 11:return e=Gc(e.type.render,!1),e;case 1:return e=Gc(e.type,!0),e;default:return""}}function Gu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _s:return"Fragment";case js:return"Portal";case Vu:return"Profiler";case vh:return"StrictMode";case Bu:return"Suspense";case Hu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Py:return(e.displayName||"Context")+".Consumer";case Ty:return(e._context.displayName||"Context")+".Provider";case xh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bh:return t=e.displayName||null,t!==null?t:Gu(e.type)||"Memo";case Jr:t=e._payload,e=e._init;try{return Gu(e(t))}catch{}}return null}function wk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gu(t);case 8:return t===vh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ay(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kk(e){var t=Ay(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yo(e){e._valueTracker||(e._valueTracker=kk(e))}function My(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ay(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wu(e,t){var r=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Cm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Iy(e,t){t=t.checked,t!=null&&yh(e,"checked",t,!1)}function Ku(e,t){Iy(e,t);var r=xn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qu(e,t.type,r):t.hasOwnProperty("defaultValue")&&qu(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Em(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qu(e,t,r){(t!=="number"||ul(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zi=Array.isArray;function Us(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(zi(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xn(r)}}function Dy(e,t){var r=xn(t.value),n=xn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ly(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ju(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ly(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vo,Oy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vo=vo||document.createElement("div"),vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jk=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(e){jk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yi[t]=Yi[e]})});function Fy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yi.hasOwnProperty(e)&&Yi[e]?(""+t).trim():t+"px"}function $y(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Fy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var _k=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qu(e,t){if(t){if(_k[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Xu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=null;function wh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ed=null,Vs=null,Bs=null;function Rm(e){if(e=Ga(e)){if(typeof ed!="function")throw Error(I(280));var t=e.stateNode;t&&(t=nc(t),ed(e.stateNode,e.type,t))}}function zy(e){Vs?Bs?Bs.push(e):Bs=[e]:Vs=e}function Uy(){if(Vs){var e=Vs,t=Bs;if(Bs=Vs=null,Rm(e),t)for(e=0;e<t.length;e++)Rm(t[e])}}function Vy(e,t){return e(t)}function By(){}var Wc=!1;function Hy(e,t,r){if(Wc)return e(t,r);Wc=!0;try{return Vy(e,t,r)}finally{Wc=!1,(Vs!==null||Bs!==null)&&(By(),Uy())}}function ma(e,t){var r=e.stateNode;if(r===null)return null;var n=nc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var td=!1;if(Ir)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){td=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{td=!1}function Sk(e,t,r,n,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ji=!1,dl=null,hl=!1,rd=null,Nk={onError:function(e){Ji=!0,dl=e}};function Ck(e,t,r,n,s,i,a,o,c){Ji=!1,dl=null,Sk.apply(Nk,arguments)}function Ek(e,t,r,n,s,i,a,o,c){if(Ck.apply(this,arguments),Ji){if(Ji){var u=dl;Ji=!1,dl=null}else throw Error(I(198));hl||(hl=!0,rd=u)}}function as(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Gy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Am(e){if(as(e)!==e)throw Error(I(188))}function Tk(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Am(s),e;if(i===n)return Am(s),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Wy(e){return e=Tk(e),e!==null?Ky(e):null}function Ky(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ky(e);if(t!==null)return t;e=e.sibling}return null}var qy=Pt.unstable_scheduleCallback,Mm=Pt.unstable_cancelCallback,Pk=Pt.unstable_shouldYield,Rk=Pt.unstable_requestPaint,$e=Pt.unstable_now,Ak=Pt.unstable_getCurrentPriorityLevel,kh=Pt.unstable_ImmediatePriority,Yy=Pt.unstable_UserBlockingPriority,fl=Pt.unstable_NormalPriority,Mk=Pt.unstable_LowPriority,Jy=Pt.unstable_IdlePriority,Zl=null,hr=null;function Ik(e){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Zl,e,void 0,(e.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:Ok,Dk=Math.log,Lk=Math.LN2;function Ok(e){return e>>>=0,e===0?32:31-(Dk(e)/Lk|0)|0}var xo=64,bo=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ml(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Ui(o):(i&=a,i!==0&&(n=Ui(i)))}else a=r&~s,a!==0?n=Ui(a):i!==0&&(n=Ui(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-er(t),s=1<<r,n|=e[r],t&=~s;return n}function Fk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $k(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-er(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=Fk(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function nd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qy(){var e=xo;return xo<<=1,!(xo&4194240)&&(xo=64),e}function Kc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ba(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-er(t),e[t]=r}function zk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-er(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function jh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-er(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ye=0;function Xy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zy,_h,ev,tv,rv,sd=!1,wo=[],cn=null,un=null,dn=null,pa=new Map,ga=new Map,en=[],Uk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Im(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(t.pointerId)}}function Si(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ga(t),t!==null&&_h(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vk(e,t,r,n,s){switch(t){case"focusin":return cn=Si(cn,e,t,r,n,s),!0;case"dragenter":return un=Si(un,e,t,r,n,s),!0;case"mouseover":return dn=Si(dn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return pa.set(i,Si(pa.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ga.set(i,Si(ga.get(i)||null,e,t,r,n,s)),!0}return!1}function nv(e){var t=Vn(e.target);if(t!==null){var r=as(t);if(r!==null){if(t=r.tag,t===13){if(t=Gy(r),t!==null){e.blockedOn=t,rv(e.priority,function(){ev(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=id(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zu=n,r.target.dispatchEvent(n),Zu=null}else return t=Ga(r),t!==null&&_h(t),e.blockedOn=r,!1;t.shift()}return!0}function Dm(e,t,r){Ko(e)&&r.delete(t)}function Bk(){sd=!1,cn!==null&&Ko(cn)&&(cn=null),un!==null&&Ko(un)&&(un=null),dn!==null&&Ko(dn)&&(dn=null),pa.forEach(Dm),ga.forEach(Dm)}function Ni(e,t){e.blockedOn===t&&(e.blockedOn=null,sd||(sd=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,Bk)))}function ya(e){function t(s){return Ni(s,e)}if(0<wo.length){Ni(wo[0],e);for(var r=1;r<wo.length;r++){var n=wo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(cn!==null&&Ni(cn,e),un!==null&&Ni(un,e),dn!==null&&Ni(dn,e),pa.forEach(t),ga.forEach(t),r=0;r<en.length;r++)n=en[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<en.length&&(r=en[0],r.blockedOn===null);)nv(r),r.blockedOn===null&&en.shift()}var Hs=$r.ReactCurrentBatchConfig,pl=!0;function Hk(e,t,r,n){var s=ye,i=Hs.transition;Hs.transition=null;try{ye=1,Sh(e,t,r,n)}finally{ye=s,Hs.transition=i}}function Gk(e,t,r,n){var s=ye,i=Hs.transition;Hs.transition=null;try{ye=4,Sh(e,t,r,n)}finally{ye=s,Hs.transition=i}}function Sh(e,t,r,n){if(pl){var s=id(e,t,r,n);if(s===null)nu(e,t,n,gl,r),Im(e,n);else if(Vk(s,e,t,r,n))n.stopPropagation();else if(Im(e,n),t&4&&-1<Uk.indexOf(e)){for(;s!==null;){var i=Ga(s);if(i!==null&&Zy(i),i=id(e,t,r,n),i===null&&nu(e,t,n,gl,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else nu(e,t,n,null,r)}}var gl=null;function id(e,t,r,n){if(gl=null,e=wh(n),e=Vn(e),e!==null)if(t=as(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Gy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gl=e,null}function sv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ak()){case kh:return 1;case Yy:return 4;case fl:case Mk:return 16;case Jy:return 536870912;default:return 16}default:return 16}}var an=null,Nh=null,qo=null;function iv(){if(qo)return qo;var e,t=Nh,r=t.length,n,s="value"in an?an.value:an.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return qo=s.slice(e,1<n?1-n:void 0)}function Yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ko(){return!0}function Lm(){return!1}function Mt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ko:Lm,this.isPropagationStopped=Lm,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),t}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ch=Mt(hi),Ha=Me({},hi,{view:0,detail:0}),Wk=Mt(Ha),qc,Yc,Ci,ec=Me({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(qc=e.screenX-Ci.screenX,Yc=e.screenY-Ci.screenY):Yc=qc=0,Ci=e),qc)},movementY:function(e){return"movementY"in e?e.movementY:Yc}}),Om=Mt(ec),Kk=Me({},ec,{dataTransfer:0}),qk=Mt(Kk),Yk=Me({},Ha,{relatedTarget:0}),Jc=Mt(Yk),Jk=Me({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qk=Mt(Jk),Xk=Me({},hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zk=Mt(Xk),ej=Me({},hi,{data:0}),Fm=Mt(ej),tj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nj[e])?!!t[e]:!1}function Eh(){return sj}var ij=Me({},Ha,{key:function(e){if(e.key){var t=tj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eh,charCode:function(e){return e.type==="keypress"?Yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aj=Mt(ij),oj=Me({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$m=Mt(oj),lj=Me({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eh}),cj=Mt(lj),uj=Me({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),dj=Mt(uj),hj=Me({},ec,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fj=Mt(hj),mj=[9,13,27,32],Th=Ir&&"CompositionEvent"in window,Qi=null;Ir&&"documentMode"in document&&(Qi=document.documentMode);var pj=Ir&&"TextEvent"in window&&!Qi,av=Ir&&(!Th||Qi&&8<Qi&&11>=Qi),zm=" ",Um=!1;function ov(e,t){switch(e){case"keyup":return mj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function gj(e,t){switch(e){case"compositionend":return lv(t);case"keypress":return t.which!==32?null:(Um=!0,zm);case"textInput":return e=t.data,e===zm&&Um?null:e;default:return null}}function yj(e,t){if(Ss)return e==="compositionend"||!Th&&ov(e,t)?(e=iv(),qo=Nh=an=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return av&&t.locale!=="ko"?null:t.data;default:return null}}var vj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vj[e.type]:t==="textarea"}function cv(e,t,r,n){zy(n),t=yl(t,"onChange"),0<t.length&&(r=new Ch("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xi=null,va=null;function xj(e){bv(e,0)}function tc(e){var t=Es(e);if(My(t))return e}function bj(e,t){if(e==="change")return t}var uv=!1;if(Ir){var Qc;if(Ir){var Xc="oninput"in document;if(!Xc){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),Xc=typeof Bm.oninput=="function"}Qc=Xc}else Qc=!1;uv=Qc&&(!document.documentMode||9<document.documentMode)}function Hm(){Xi&&(Xi.detachEvent("onpropertychange",dv),va=Xi=null)}function dv(e){if(e.propertyName==="value"&&tc(va)){var t=[];cv(t,va,e,wh(e)),Hy(xj,t)}}function wj(e,t,r){e==="focusin"?(Hm(),Xi=t,va=r,Xi.attachEvent("onpropertychange",dv)):e==="focusout"&&Hm()}function kj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(va)}function jj(e,t){if(e==="click")return tc(t)}function _j(e,t){if(e==="input"||e==="change")return tc(t)}function Sj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nr=typeof Object.is=="function"?Object.is:Sj;function xa(e,t){if(nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Uu.call(t,s)||!nr(e[s],t[s]))return!1}return!0}function Gm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,t){var r=Gm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gm(r)}}function hv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fv(){for(var e=window,t=ul();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ul(e.document)}return t}function Ph(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nj(e){var t=fv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hv(r.ownerDocument.documentElement,r)){if(n!==null&&Ph(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Wm(r,i);var a=Wm(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cj=Ir&&"documentMode"in document&&11>=document.documentMode,Ns=null,ad=null,Zi=null,od=!1;function Km(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;od||Ns==null||Ns!==ul(n)||(n=Ns,"selectionStart"in n&&Ph(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zi&&xa(Zi,n)||(Zi=n,n=yl(ad,"onSelect"),0<n.length&&(t=new Ch("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ns)))}function jo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Cs={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},Zc={},mv={};Ir&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function rc(e){if(Zc[e])return Zc[e];if(!Cs[e])return e;var t=Cs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mv)return Zc[e]=t[r];return e}var pv=rc("animationend"),gv=rc("animationiteration"),yv=rc("animationstart"),vv=rc("transitionend"),xv=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,t){xv.set(e,t),is(t,[e])}for(var eu=0;eu<qm.length;eu++){var tu=qm[eu],Ej=tu.toLowerCase(),Tj=tu[0].toUpperCase()+tu.slice(1);jn(Ej,"on"+Tj)}jn(pv,"onAnimationEnd");jn(gv,"onAnimationIteration");jn(yv,"onAnimationStart");jn("dblclick","onDoubleClick");jn("focusin","onFocus");jn("focusout","onBlur");jn(vv,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function Ym(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ek(n,t,void 0,e),e.currentTarget=null}function bv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Ym(s,o,u),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Ym(s,o,u),i=c}}}if(hl)throw e=rd,hl=!1,rd=null,e}function Ne(e,t){var r=t[hd];r===void 0&&(r=t[hd]=new Set);var n=e+"__bubble";r.has(n)||(wv(t,e,2,!1),r.add(n))}function ru(e,t,r){var n=0;t&&(n|=4),wv(r,e,n,t)}var _o="_reactListening"+Math.random().toString(36).slice(2);function ba(e){if(!e[_o]){e[_o]=!0,Ey.forEach(function(r){r!=="selectionchange"&&(Pj.has(r)||ru(r,!1,e),ru(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_o]||(t[_o]=!0,ru("selectionchange",!1,t))}}function wv(e,t,r,n){switch(sv(t)){case 1:var s=Hk;break;case 4:s=Gk;break;default:s=Sh}r=s.bind(null,t,r,e),s=void 0,!td||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function nu(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Vn(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Hy(function(){var u=i,d=wh(r),h=[];e:{var f=xv.get(e);if(f!==void 0){var m=Ch,y=e;switch(e){case"keypress":if(Yo(r)===0)break e;case"keydown":case"keyup":m=aj;break;case"focusin":y="focus",m=Jc;break;case"focusout":y="blur",m=Jc;break;case"beforeblur":case"afterblur":m=Jc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cj;break;case pv:case gv:case yv:m=Qk;break;case vv:m=dj;break;case"scroll":m=Wk;break;case"wheel":m=fj;break;case"copy":case"cut":case"paste":m=Zk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$m}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=u,v;p!==null;){v=p;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,g!==null&&(j=ma(p,g),j!=null&&x.push(wa(p,j,v)))),b)break;p=p.return}0<x.length&&(f=new m(f,y,null,r,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==Zu&&(y=r.relatedTarget||r.fromElement)&&(Vn(y)||y[Dr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Vn(y):null,y!==null&&(b=as(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=Om,j="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=$m,j="onPointerLeave",g="onPointerEnter",p="pointer"),b=m==null?f:Es(m),v=y==null?f:Es(y),f=new x(j,p+"leave",m,r,d),f.target=b,f.relatedTarget=v,j=null,Vn(d)===u&&(x=new x(g,p+"enter",y,r,d),x.target=v,x.relatedTarget=b,j=x),b=j,m&&y)t:{for(x=m,g=y,p=0,v=x;v;v=fs(v))p++;for(v=0,j=g;j;j=fs(j))v++;for(;0<p-v;)x=fs(x),p--;for(;0<v-p;)g=fs(g),v--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=fs(x),g=fs(g)}x=null}else x=null;m!==null&&Jm(h,f,m,x,!1),y!==null&&b!==null&&Jm(h,b,y,x,!0)}}e:{if(f=u?Es(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=bj;else if(Vm(f))if(uv)k=_j;else{k=kj;var T=wj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=jj);if(k&&(k=k(e,u))){cv(h,k,r,d);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&qu(f,"number",f.value)}switch(T=u?Es(u):window,e){case"focusin":(Vm(T)||T.contentEditable==="true")&&(Ns=T,ad=u,Zi=null);break;case"focusout":Zi=ad=Ns=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,Km(h,r,d);break;case"selectionchange":if(Cj)break;case"keydown":case"keyup":Km(h,r,d)}var _;if(Th)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ss?ov(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(av&&r.locale!=="ko"&&(Ss||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ss&&(_=iv()):(an=d,Nh="value"in an?an.value:an.textContent,Ss=!0)),T=yl(u,E),0<T.length&&(E=new Fm(E,e,null,r,d),h.push({event:E,listeners:T}),_?E.data=_:(_=lv(r),_!==null&&(E.data=_)))),(_=pj?gj(e,r):yj(e,r))&&(u=yl(u,"onBeforeInput"),0<u.length&&(d=new Fm("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=_))}bv(h,t)})}function wa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yl(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ma(e,r),i!=null&&n.unshift(wa(e,i,s)),i=ma(e,t),i!=null&&n.push(wa(e,i,s))),e=e.return}return n}function fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jm(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=ma(r,i),c!=null&&a.unshift(wa(r,c,o))):s||(c=ma(r,i),c!=null&&a.push(wa(r,c,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Rj=/\r\n?/g,Aj=/\u0000|\uFFFD/g;function Qm(e){return(typeof e=="string"?e:""+e).replace(Rj,`
`).replace(Aj,"")}function So(e,t,r){if(t=Qm(t),Qm(e)!==t&&r)throw Error(I(425))}function vl(){}var ld=null,cd=null;function ud(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dd=typeof setTimeout=="function"?setTimeout:void 0,Mj=typeof clearTimeout=="function"?clearTimeout:void 0,Xm=typeof Promise=="function"?Promise:void 0,Ij=typeof queueMicrotask=="function"?queueMicrotask:typeof Xm<"u"?function(e){return Xm.resolve(null).then(e).catch(Dj)}:dd;function Dj(e){setTimeout(function(){throw e})}function su(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ya(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ya(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),dr="__reactFiber$"+fi,ka="__reactProps$"+fi,Dr="__reactContainer$"+fi,hd="__reactEvents$"+fi,Lj="__reactListeners$"+fi,Oj="__reactHandles$"+fi;function Vn(e){var t=e[dr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Dr]||r[dr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zm(e);e!==null;){if(r=e[dr])return r;e=Zm(e)}return t}e=r,r=e.parentNode}return null}function Ga(e){return e=e[dr]||e[Dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function nc(e){return e[ka]||null}var fd=[],Ts=-1;function _n(e){return{current:e}}function Ce(e){0>Ts||(e.current=fd[Ts],fd[Ts]=null,Ts--)}function be(e,t){Ts++,fd[Ts]=e.current,e.current=t}var bn={},lt=_n(bn),xt=_n(!1),Xn=bn;function Qs(e,t){var r=e.type.contextTypes;if(!r)return bn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function bt(e){return e=e.childContextTypes,e!=null}function xl(){Ce(xt),Ce(lt)}function ep(e,t,r){if(lt.current!==bn)throw Error(I(168));be(lt,t),be(xt,r)}function kv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(I(108,wk(e)||"Unknown",s));return Me({},r,n)}function bl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Xn=lt.current,be(lt,e),be(xt,xt.current),!0}function tp(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=kv(e,t,Xn),n.__reactInternalMemoizedMergedChildContext=e,Ce(xt),Ce(lt),be(lt,e)):Ce(xt),be(xt,r)}var Er=null,sc=!1,iu=!1;function jv(e){Er===null?Er=[e]:Er.push(e)}function Fj(e){sc=!0,jv(e)}function Sn(){if(!iu&&Er!==null){iu=!0;var e=0,t=ye;try{var r=Er;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Er=null,sc=!1}catch(s){throw Er!==null&&(Er=Er.slice(e+1)),qy(kh,Sn),s}finally{ye=t,iu=!1}}return null}var Ps=[],Rs=0,wl=null,kl=0,Ot=[],Ft=0,Zn=null,Tr=1,Pr="";function Ln(e,t){Ps[Rs++]=kl,Ps[Rs++]=wl,wl=e,kl=t}function _v(e,t,r){Ot[Ft++]=Tr,Ot[Ft++]=Pr,Ot[Ft++]=Zn,Zn=e;var n=Tr;e=Pr;var s=32-er(n)-1;n&=~(1<<s),r+=1;var i=32-er(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Tr=1<<32-er(t)+s|r<<s|n,Pr=i+e}else Tr=1<<i|r<<s|n,Pr=e}function Rh(e){e.return!==null&&(Ln(e,1),_v(e,1,0))}function Ah(e){for(;e===wl;)wl=Ps[--Rs],Ps[Rs]=null,kl=Ps[--Rs],Ps[Rs]=null;for(;e===Zn;)Zn=Ot[--Ft],Ot[Ft]=null,Pr=Ot[--Ft],Ot[Ft]=null,Tr=Ot[--Ft],Ot[Ft]=null}var Et=null,Ct=null,Te=!1,Zt=null;function Sv(e,t){var r=$t(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function rp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,Ct=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zn!==null?{id:Tr,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$t(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Et=e,Ct=null,!0):!1;default:return!1}}function md(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pd(e){if(Te){var t=Ct;if(t){var r=t;if(!rp(e,t)){if(md(e))throw Error(I(418));t=hn(r.nextSibling);var n=Et;t&&rp(e,t)?Sv(n,r):(e.flags=e.flags&-4097|2,Te=!1,Et=e)}}else{if(md(e))throw Error(I(418));e.flags=e.flags&-4097|2,Te=!1,Et=e}}}function np(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function No(e){if(e!==Et)return!1;if(!Te)return np(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ud(e.type,e.memoizedProps)),t&&(t=Ct)){if(md(e))throw Nv(),Error(I(418));for(;t;)Sv(e,t),t=hn(t.nextSibling)}if(np(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ct=hn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=Et?hn(e.stateNode.nextSibling):null;return!0}function Nv(){for(var e=Ct;e;)e=hn(e.nextSibling)}function Xs(){Ct=Et=null,Te=!1}function Mh(e){Zt===null?Zt=[e]:Zt.push(e)}var $j=$r.ReactCurrentBatchConfig;function Jt(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var jl=_n(null),_l=null,As=null,Ih=null;function Dh(){Ih=As=_l=null}function Lh(e){var t=jl.current;Ce(jl),e._currentValue=t}function gd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gs(e,t){_l=e,Ih=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(Ih!==e)if(e={context:e,memoizedValue:t,next:null},As===null){if(_l===null)throw Error(I(308));As=e,_l.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Bn=null;function Oh(e){Bn===null?Bn=[e]:Bn.push(e)}function Cv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Oh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Lr(e,n)}function Lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qr=!1;function Fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ev(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Lr(e,r)}return s=n.interleaved,s===null?(t.next=t,Oh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Lr(e,r)}function Jo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jh(e,r)}}function sp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Sl(e,t,r,n){var s=e.updateQueue;Qr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,o=i;do{var f=o.lane,m=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,x=o;switch(f=t,m=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=Me({},h,f);break e;case 2:Qr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ts|=a,e.lanes=a,e.memoizedState=h}}function ip(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var Tv=new Cy.Component().refs;function yd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ic={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dt(),s=pn(e),i=Rr(n,s);i.payload=t,r!=null&&(i.callback=r),t=fn(e,i,s),t!==null&&(tr(t,e,s,n),Jo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dt(),s=pn(e),i=Rr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fn(e,i,s),t!==null&&(tr(t,e,s,n),Jo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dt(),n=pn(e),s=Rr(r,n);s.tag=2,t!=null&&(s.callback=t),t=fn(e,s,n),t!==null&&(tr(t,e,n,r),Jo(t,e,n))}};function ap(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!xa(r,n)||!xa(s,i):!0}function Pv(e,t,r){var n=!1,s=bn,i=t.contextType;return typeof i=="object"&&i!==null?i=Bt(i):(s=bt(t)?Xn:lt.current,n=t.contextTypes,i=(n=n!=null)?Qs(e,s):bn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ic,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function op(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function vd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=Tv,Fh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Bt(i):(i=bt(t)?Xn:lt.current,s.context=Qs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yd(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ic.enqueueReplaceState(s,s.state,null),Sl(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ei(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;o===Tv&&(o=s.refs={}),a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function Co(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lp(e){var t=e._init;return t(e._payload)}function Rv(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=gn(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,v,j){return p===null||p.tag!==6?(p=hu(v,g.mode,j),p.return=g,p):(p=s(p,v),p.return=g,p)}function c(g,p,v,j){var k=v.type;return k===_s?d(g,p,v.props.children,j,v.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jr&&lp(k)===p.type)?(j=s(p,v.props),j.ref=Ei(g,p,v),j.return=g,j):(j=rl(v.type,v.key,v.props,null,g.mode,j),j.ref=Ei(g,p,v),j.return=g,j)}function u(g,p,v,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=fu(v,g.mode,j),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function d(g,p,v,j,k){return p===null||p.tag!==7?(p=Jn(v,g.mode,j,k),p.return=g,p):(p=s(p,v),p.return=g,p)}function h(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=hu(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case go:return v=rl(p.type,p.key,p.props,null,g.mode,v),v.ref=Ei(g,null,p),v.return=g,v;case js:return p=fu(p,g.mode,v),p.return=g,p;case Jr:var j=p._init;return h(g,j(p._payload),v)}if(zi(p)||ji(p))return p=Jn(p,g.mode,v,null),p.return=g,p;Co(g,p)}return null}function f(g,p,v,j){var k=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:o(g,p,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case go:return v.key===k?c(g,p,v,j):null;case js:return v.key===k?u(g,p,v,j):null;case Jr:return k=v._init,f(g,p,k(v._payload),j)}if(zi(v)||ji(v))return k!==null?null:d(g,p,v,j,null);Co(g,v)}return null}function m(g,p,v,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(v)||null,o(p,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case go:return g=g.get(j.key===null?v:j.key)||null,c(p,g,j,k);case js:return g=g.get(j.key===null?v:j.key)||null,u(p,g,j,k);case Jr:var T=j._init;return m(g,p,v,T(j._payload),k)}if(zi(j)||ji(j))return g=g.get(v)||null,d(p,g,j,k,null);Co(p,j)}return null}function y(g,p,v,j){for(var k=null,T=null,_=p,E=p=0,C=null;_!==null&&E<v.length;E++){_.index>E?(C=_,_=null):C=_.sibling;var R=f(g,_,v[E],j);if(R===null){_===null&&(_=C);break}e&&_&&R.alternate===null&&t(g,_),p=i(R,p,E),T===null?k=R:T.sibling=R,T=R,_=C}if(E===v.length)return r(g,_),Te&&Ln(g,E),k;if(_===null){for(;E<v.length;E++)_=h(g,v[E],j),_!==null&&(p=i(_,p,E),T===null?k=_:T.sibling=_,T=_);return Te&&Ln(g,E),k}for(_=n(g,_);E<v.length;E++)C=m(_,g,E,v[E],j),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?E:C.key),p=i(C,p,E),T===null?k=C:T.sibling=C,T=C);return e&&_.forEach(function(D){return t(g,D)}),Te&&Ln(g,E),k}function x(g,p,v,j){var k=ji(v);if(typeof k!="function")throw Error(I(150));if(v=k.call(v),v==null)throw Error(I(151));for(var T=k=null,_=p,E=p=0,C=null,R=v.next();_!==null&&!R.done;E++,R=v.next()){_.index>E?(C=_,_=null):C=_.sibling;var D=f(g,_,R.value,j);if(D===null){_===null&&(_=C);break}e&&_&&D.alternate===null&&t(g,_),p=i(D,p,E),T===null?k=D:T.sibling=D,T=D,_=C}if(R.done)return r(g,_),Te&&Ln(g,E),k;if(_===null){for(;!R.done;E++,R=v.next())R=h(g,R.value,j),R!==null&&(p=i(R,p,E),T===null?k=R:T.sibling=R,T=R);return Te&&Ln(g,E),k}for(_=n(g,_);!R.done;E++,R=v.next())R=m(_,g,E,R.value,j),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?E:R.key),p=i(R,p,E),T===null?k=R:T.sibling=R,T=R);return e&&_.forEach(function(L){return t(g,L)}),Te&&Ln(g,E),k}function b(g,p,v,j){if(typeof v=="object"&&v!==null&&v.type===_s&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case go:e:{for(var k=v.key,T=p;T!==null;){if(T.key===k){if(k=v.type,k===_s){if(T.tag===7){r(g,T.sibling),p=s(T,v.props.children),p.return=g,g=p;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jr&&lp(k)===T.type){r(g,T.sibling),p=s(T,v.props),p.ref=Ei(g,T,v),p.return=g,g=p;break e}r(g,T);break}else t(g,T);T=T.sibling}v.type===_s?(p=Jn(v.props.children,g.mode,j,v.key),p.return=g,g=p):(j=rl(v.type,v.key,v.props,null,g.mode,j),j.ref=Ei(g,p,v),j.return=g,g=j)}return a(g);case js:e:{for(T=v.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=fu(v,g.mode,j),p.return=g,g=p}return a(g);case Jr:return T=v._init,b(g,p,T(v._payload),j)}if(zi(v))return y(g,p,v,j);if(ji(v))return x(g,p,v,j);Co(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,v),p.return=g,g=p):(r(g,p),p=hu(v,g.mode,j),p.return=g,g=p),a(g)):r(g,p)}return b}var Zs=Rv(!0),Av=Rv(!1),Wa={},fr=_n(Wa),ja=_n(Wa),_a=_n(Wa);function Hn(e){if(e===Wa)throw Error(I(174));return e}function $h(e,t){switch(be(_a,t),be(ja,e),be(fr,Wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ju(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ju(t,e)}Ce(fr),be(fr,t)}function ei(){Ce(fr),Ce(ja),Ce(_a)}function Mv(e){Hn(_a.current);var t=Hn(fr.current),r=Ju(t,e.type);t!==r&&(be(ja,e),be(fr,r))}function zh(e){ja.current===e&&(Ce(fr),Ce(ja))}var Pe=_n(0);function Nl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var au=[];function Uh(){for(var e=0;e<au.length;e++)au[e]._workInProgressVersionPrimary=null;au.length=0}var Qo=$r.ReactCurrentDispatcher,ou=$r.ReactCurrentBatchConfig,es=0,Ae=null,Be=null,qe=null,Cl=!1,ea=!1,Sa=0,zj=0;function rt(){throw Error(I(321))}function Vh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nr(e[r],t[r]))return!1;return!0}function Bh(e,t,r,n,s,i){if(es=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=e===null||e.memoizedState===null?Hj:Gj,e=r(n,s),ea){i=0;do{if(ea=!1,Sa=0,25<=i)throw Error(I(301));i+=1,qe=Be=null,t.updateQueue=null,Qo.current=Wj,e=r(n,s)}while(ea)}if(Qo.current=El,t=Be!==null&&Be.next!==null,es=0,qe=Be=Ae=null,Cl=!1,t)throw Error(I(300));return e}function Hh(){var e=Sa!==0;return Sa=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ae.memoizedState=qe=e:qe=qe.next=e,qe}function Ht(){if(Be===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=qe===null?Ae.memoizedState:qe.next;if(t!==null)qe=t,Be=e;else{if(e===null)throw Error(I(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},qe===null?Ae.memoizedState=qe=e:qe=qe.next=e}return qe}function Na(e,t){return typeof t=="function"?t(e):t}function lu(e){var t=Ht(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=Be,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((es&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=n):c=c.next=h,Ae.lanes|=d,ts|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=o,nr(n,t.memoizedState)||(vt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ae.lanes|=i,ts|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cu(e){var t=Ht(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);nr(i,t.memoizedState)||(vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Iv(){}function Dv(e,t){var r=Ae,n=Ht(),s=t(),i=!nr(n.memoizedState,s);if(i&&(n.memoizedState=s,vt=!0),n=n.queue,Gh(Fv.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,Ca(9,Ov.bind(null,r,n,s,t),void 0,null),Ye===null)throw Error(I(349));es&30||Lv(r,t,s)}return s}function Lv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ov(e,t,r,n){t.value=r,t.getSnapshot=n,$v(t)&&zv(e)}function Fv(e,t,r){return r(function(){$v(t)&&zv(e)})}function $v(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nr(e,r)}catch{return!0}}function zv(e){var t=Lr(e,1);t!==null&&tr(t,e,1,-1)}function cp(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=Bj.bind(null,Ae,e),[t.memoizedState,e]}function Ca(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Uv(){return Ht().memoizedState}function Xo(e,t,r,n){var s=cr();Ae.flags|=e,s.memoizedState=Ca(1|t,r,void 0,n===void 0?null:n)}function ac(e,t,r,n){var s=Ht();n=n===void 0?null:n;var i=void 0;if(Be!==null){var a=Be.memoizedState;if(i=a.destroy,n!==null&&Vh(n,a.deps)){s.memoizedState=Ca(t,r,i,n);return}}Ae.flags|=e,s.memoizedState=Ca(1|t,r,i,n)}function up(e,t){return Xo(8390656,8,e,t)}function Gh(e,t){return ac(2048,8,e,t)}function Vv(e,t){return ac(4,2,e,t)}function Bv(e,t){return ac(4,4,e,t)}function Hv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gv(e,t,r){return r=r!=null?r.concat([e]):null,ac(4,4,Hv.bind(null,t,e),r)}function Wh(){}function Wv(e,t){var r=Ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Kv(e,t){var r=Ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qv(e,t,r){return es&21?(nr(r,t)||(r=Qy(),Ae.lanes|=r,ts|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=r)}function Uj(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=ou.transition;ou.transition={};try{e(!1),t()}finally{ye=r,ou.transition=n}}function Yv(){return Ht().memoizedState}function Vj(e,t,r){var n=pn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jv(e))Qv(t,r);else if(r=Cv(e,t,r,n),r!==null){var s=dt();tr(r,e,n,s),Xv(r,t,n)}}function Bj(e,t,r){var n=pn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jv(e))Qv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,nr(o,a)){var c=t.interleaved;c===null?(s.next=s,Oh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Cv(e,t,s,n),r!==null&&(s=dt(),tr(r,e,n,s),Xv(r,t,n))}}function Jv(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Qv(e,t){ea=Cl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jh(e,r)}}var El={readContext:Bt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Hj={readContext:Bt,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:up,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xo(4194308,4,Hv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xo(4,2,e,t)},useMemo:function(e,t){var r=cr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Vj.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:cp,useDebugValue:Wh,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=cp(!1),t=e[0];return e=Uj.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ae,s=cr();if(Te){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Ye===null)throw Error(I(349));es&30||Lv(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,up(Fv.bind(null,n,i,e),[e]),n.flags|=2048,Ca(9,Ov.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=cr(),t=Ye.identifierPrefix;if(Te){var r=Pr,n=Tr;r=(n&~(1<<32-er(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Sa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gj={readContext:Bt,useCallback:Wv,useContext:Bt,useEffect:Gh,useImperativeHandle:Gv,useInsertionEffect:Vv,useLayoutEffect:Bv,useMemo:Kv,useReducer:lu,useRef:Uv,useState:function(){return lu(Na)},useDebugValue:Wh,useDeferredValue:function(e){var t=Ht();return qv(t,Be.memoizedState,e)},useTransition:function(){var e=lu(Na)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:Iv,useSyncExternalStore:Dv,useId:Yv,unstable_isNewReconciler:!1},Wj={readContext:Bt,useCallback:Wv,useContext:Bt,useEffect:Gh,useImperativeHandle:Gv,useInsertionEffect:Vv,useLayoutEffect:Bv,useMemo:Kv,useReducer:cu,useRef:Uv,useState:function(){return cu(Na)},useDebugValue:Wh,useDeferredValue:function(e){var t=Ht();return Be===null?t.memoizedState=e:qv(t,Be.memoizedState,e)},useTransition:function(){var e=cu(Na)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:Iv,useSyncExternalStore:Dv,useId:Yv,unstable_isNewReconciler:!1};function ti(e,t){try{var r="",n=t;do r+=bk(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function uu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Kj=typeof WeakMap=="function"?WeakMap:Map;function Zv(e,t,r){r=Rr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pl||(Pl=!0,Td=n),xd(e,t)},r}function ex(e,t,r){r=Rr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){xd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){xd(e,t),typeof n!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function dp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Kj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=o_.bind(null,e,t,r),t.then(e,e))}function hp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rr(-1,1),t.tag=2,fn(r,t,1))),r.lanes|=1),e)}var qj=$r.ReactCurrentOwner,vt=!1;function ct(e,t,r,n){t.child=e===null?Av(t,null,r,n):Zs(t,e.child,r,n)}function mp(e,t,r,n,s){r=r.render;var i=t.ref;return Gs(t,s),n=Bh(e,t,r,n,i,s),r=Hh(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Or(e,t,s)):(Te&&r&&Rh(t),t.flags|=1,ct(e,t,n,s),t.child)}function pp(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ef(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,tx(e,t,i,n,s)):(e=rl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:xa,r(a,n)&&e.ref===t.ref)return Or(e,t,s)}return t.flags|=1,e=gn(i,n),e.ref=t.ref,e.return=t,t.child=e}function tx(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(xa(i,n)&&e.ref===t.ref)if(vt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Or(e,t,s)}return bd(e,t,r,n,s)}function rx(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Is,St),St|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(Is,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,be(Is,St),St|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,be(Is,St),St|=n;return ct(e,t,s,r),t.child}function nx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bd(e,t,r,n,s){var i=bt(r)?Xn:lt.current;return i=Qs(t,i),Gs(t,s),r=Bh(e,t,r,n,i,s),n=Hh(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Or(e,t,s)):(Te&&n&&Rh(t),t.flags|=1,ct(e,t,r,s),t.child)}function gp(e,t,r,n,s){if(bt(r)){var i=!0;bl(t)}else i=!1;if(Gs(t,s),t.stateNode===null)Zo(e,t),Pv(t,r,n),vd(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bt(u):(u=bt(r)?Xn:lt.current,u=Qs(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&op(t,a,n,u),Qr=!1;var f=t.memoizedState;a.state=f,Sl(t,n,a,s),c=t.memoizedState,o!==n||f!==c||xt.current||Qr?(typeof d=="function"&&(yd(t,r,d,n),c=t.memoizedState),(o=Qr||ap(t,r,o,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Ev(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Jt(t.type,o),a.props=u,h=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bt(c):(c=bt(r)?Xn:lt.current,c=Qs(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&op(t,a,n,c),Qr=!1,f=t.memoizedState,a.state=f,Sl(t,n,a,s);var y=t.memoizedState;o!==h||f!==y||xt.current||Qr?(typeof m=="function"&&(yd(t,r,m,n),y=t.memoizedState),(u=Qr||ap(t,r,u,n,f,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return wd(e,t,r,n,i,s)}function wd(e,t,r,n,s,i){nx(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&tp(t,r,!1),Or(e,t,i);n=t.stateNode,qj.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Zs(t,e.child,null,i),t.child=Zs(t,null,o,i)):ct(e,t,o,i),t.memoizedState=n.state,s&&tp(t,r,!0),t.child}function sx(e){var t=e.stateNode;t.pendingContext?ep(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ep(e,t.context,!1),$h(e,t.containerInfo)}function yp(e,t,r,n,s){return Xs(),Mh(s),t.flags|=256,ct(e,t,r,n),t.child}var kd={dehydrated:null,treeContext:null,retryLane:0};function jd(e){return{baseLanes:e,cachePool:null,transitions:null}}function ix(e,t,r){var n=t.pendingProps,s=Pe.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),be(Pe,s&1),e===null)return pd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=cc(a,n,0,null),e=Jn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=jd(r),t.memoizedState=kd,e):Kh(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Yj(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=gn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=gn(o,i):(i=Jn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?jd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=kd,n}return i=e.child,e=i.sibling,n=gn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Kh(e,t){return t=cc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eo(e,t,r,n){return n!==null&&Mh(n),Zs(t,e.child,null,r),e=Kh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yj(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=uu(Error(I(422))),Eo(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=cc({mode:"visible",children:n.children},s,0,null),i=Jn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Zs(t,e.child,null,a),t.child.memoizedState=jd(a),t.memoizedState=kd,i);if(!(t.mode&1))return Eo(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(I(419)),n=uu(i,n,void 0),Eo(e,t,a,n)}if(o=(a&e.childLanes)!==0,vt||o){if(n=Ye,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lr(e,s),tr(n,e,s,-1))}return Zh(),n=uu(Error(I(421))),Eo(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=l_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ct=hn(s.nextSibling),Et=t,Te=!0,Zt=null,e!==null&&(Ot[Ft++]=Tr,Ot[Ft++]=Pr,Ot[Ft++]=Zn,Tr=e.id,Pr=e.overflow,Zn=t),t=Kh(t,n.children),t.flags|=4096,t)}function vp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gd(e.return,t,r)}function du(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ax(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ct(e,t,n.children,r),n=Pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vp(e,r,t);else if(e.tag===19)vp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(be(Pe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Nl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),du(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Nl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}du(t,!0,r,null,i);break;case"together":du(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Or(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=gn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=gn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Jj(e,t,r){switch(t.tag){case 3:sx(t),Xs();break;case 5:Mv(t);break;case 1:bt(t.type)&&bl(t);break;case 4:$h(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;be(jl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(be(Pe,Pe.current&1),t.flags|=128,null):r&t.child.childLanes?ix(e,t,r):(be(Pe,Pe.current&1),e=Or(e,t,r),e!==null?e.sibling:null);be(Pe,Pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ax(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Pe,Pe.current),n)break;return null;case 22:case 23:return t.lanes=0,rx(e,t,r)}return Or(e,t,r)}var ox,_d,lx,cx;ox=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_d=function(){};lx=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Hn(fr.current);var i=null;switch(r){case"input":s=Wu(e,s),n=Wu(e,n),i=[];break;case"select":s=Me({},s,{value:void 0}),n=Me({},n,{value:void 0}),i=[];break;case"textarea":s=Yu(e,s),n=Yu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=vl)}Qu(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ha.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ha.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};cx=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ti(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Qj(e,t,r){var n=t.pendingProps;switch(Ah(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return bt(t.type)&&xl(),nt(t),null;case 3:return n=t.stateNode,ei(),Ce(xt),Ce(lt),Uh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(No(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(Ad(Zt),Zt=null))),_d(e,t),nt(t),null;case 5:zh(t);var s=Hn(_a.current);if(r=t.type,e!==null&&t.stateNode!=null)lx(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return nt(t),null}if(e=Hn(fr.current),No(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[dr]=t,n[ka]=i,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<Vi.length;s++)Ne(Vi[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Cm(n,i),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",n);break;case"textarea":Tm(n,i),Ne("invalid",n)}Qu(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&So(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&So(n.textContent,o,e),s=["children",""+o]):ha.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ne("scroll",n)}switch(r){case"input":yo(n),Em(n,i,!0);break;case"textarea":yo(n),Pm(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=vl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ly(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[dr]=t,e[ka]=n,ox(e,t,!1,!1),t.stateNode=e;e:{switch(a=Xu(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Vi.length;s++)Ne(Vi[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":Cm(e,n),s=Wu(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Me({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":Tm(e,n),s=Yu(e,n),Ne("invalid",e);break;default:s=n}Qu(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?$y(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Oy(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fa(e,c):typeof c=="number"&&fa(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ha.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ne("scroll",e):c!=null&&yh(e,i,c,a))}switch(r){case"input":yo(e),Em(e,n,!1);break;case"textarea":yo(e),Pm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Us(e,!!n.multiple,i,!1):n.defaultValue!=null&&Us(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)cx(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=Hn(_a.current),Hn(fr.current),No(t)){if(n=t.stateNode,r=t.memoizedProps,n[dr]=t,(i=n.nodeValue!==r)&&(e=Et,e!==null))switch(e.tag){case 3:So(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&So(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dr]=t,t.stateNode=n}return nt(t),null;case 13:if(Ce(Pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Ct!==null&&t.mode&1&&!(t.flags&128))Nv(),Xs(),t.flags|=98560,i=!1;else if(i=No(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[dr]=t}else Xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),i=!1}else Zt!==null&&(Ad(Zt),Zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?He===0&&(He=3):Zh())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return ei(),_d(e,t),e===null&&ba(t.stateNode.containerInfo),nt(t),null;case 10:return Lh(t.type._context),nt(t),null;case 17:return bt(t.type)&&xl(),nt(t),null;case 19:if(Ce(Pe),i=t.memoizedState,i===null)return nt(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Ti(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Nl(e),a!==null){for(t.flags|=128,Ti(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return be(Pe,Pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&$e()>ri&&(t.flags|=128,n=!0,Ti(i,!1),t.lanes=4194304)}else{if(!n)if(e=Nl(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ti(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Te)return nt(t),null}else 2*$e()-i.renderingStartTime>ri&&r!==1073741824&&(t.flags|=128,n=!0,Ti(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,r=Pe.current,be(Pe,n?r&1|2:r&1),t):(nt(t),null);case 22:case 23:return Xh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?St&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Xj(e,t){switch(Ah(t),t.tag){case 1:return bt(t.type)&&xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),Ce(xt),Ce(lt),Uh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zh(t),null;case 13:if(Ce(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Pe),null;case 4:return ei(),null;case 10:return Lh(t.type._context),null;case 22:case 23:return Xh(),null;case 24:return null;default:return null}}var To=!1,it=!1,Zj=typeof WeakSet=="function"?WeakSet:Set,$=null;function Ms(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Le(e,t,n)}else r.current=null}function Sd(e,t,r){try{r()}catch(n){Le(e,t,n)}}var xp=!1;function e_(e,t){if(ld=pl,e=fv(),Ph(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=a),f===i&&++d===n&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(cd={focusedElem:e,selectionRange:r},pl=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Jt(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(j){Le(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return y=xp,xp=!1,y}function ta(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sd(t,r,i)}s=s.next}while(s!==n)}}function oc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Nd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ux(e){var t=e.alternate;t!==null&&(e.alternate=null,ux(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dr],delete t[ka],delete t[hd],delete t[Lj],delete t[Oj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dx(e){return e.tag===5||e.tag===3||e.tag===4}function bp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vl));else if(n!==4&&(e=e.child,e!==null))for(Cd(e,t,r),e=e.sibling;e!==null;)Cd(e,t,r),e=e.sibling}function Ed(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ed(e,t,r),e=e.sibling;e!==null;)Ed(e,t,r),e=e.sibling}var Qe=null,Qt=!1;function Hr(e,t,r){for(r=r.child;r!==null;)hx(e,t,r),r=r.sibling}function hx(e,t,r){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Zl,r)}catch{}switch(r.tag){case 5:it||Ms(r,t);case 6:var n=Qe,s=Qt;Qe=null,Hr(e,t,r),Qe=n,Qt=s,Qe!==null&&(Qt?(e=Qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qe.removeChild(r.stateNode));break;case 18:Qe!==null&&(Qt?(e=Qe,r=r.stateNode,e.nodeType===8?su(e.parentNode,r):e.nodeType===1&&su(e,r),ya(e)):su(Qe,r.stateNode));break;case 4:n=Qe,s=Qt,Qe=r.stateNode.containerInfo,Qt=!0,Hr(e,t,r),Qe=n,Qt=s;break;case 0:case 11:case 14:case 15:if(!it&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Sd(r,t,a),s=s.next}while(s!==n)}Hr(e,t,r);break;case 1:if(!it&&(Ms(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Le(r,t,o)}Hr(e,t,r);break;case 21:Hr(e,t,r);break;case 22:r.mode&1?(it=(n=it)||r.memoizedState!==null,Hr(e,t,r),it=n):Hr(e,t,r);break;default:Hr(e,t,r)}}function wp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Zj),t.forEach(function(n){var s=c_.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function qt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Qe=o.stateNode,Qt=!1;break e;case 3:Qe=o.stateNode.containerInfo,Qt=!0;break e;case 4:Qe=o.stateNode.containerInfo,Qt=!0;break e}o=o.return}if(Qe===null)throw Error(I(160));hx(i,a,s),Qe=null,Qt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Le(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fx(t,e),t=t.sibling}function fx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),or(e),n&4){try{ta(3,e,e.return),oc(3,e)}catch(x){Le(e,e.return,x)}try{ta(5,e,e.return)}catch(x){Le(e,e.return,x)}}break;case 1:qt(t,e),or(e),n&512&&r!==null&&Ms(r,r.return);break;case 5:if(qt(t,e),or(e),n&512&&r!==null&&Ms(r,r.return),e.flags&32){var s=e.stateNode;try{fa(s,"")}catch(x){Le(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Iy(s,i),Xu(o,a);var u=Xu(o,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?$y(s,h):d==="dangerouslySetInnerHTML"?Oy(s,h):d==="children"?fa(s,h):yh(s,d,h,u)}switch(o){case"input":Ku(s,i);break;case"textarea":Dy(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Us(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Us(s,!!i.multiple,i.defaultValue,!0):Us(s,!!i.multiple,i.multiple?[]:"",!1))}s[ka]=i}catch(x){Le(e,e.return,x)}}break;case 6:if(qt(t,e),or(e),n&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Le(e,e.return,x)}}break;case 3:if(qt(t,e),or(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(x){Le(e,e.return,x)}break;case 4:qt(t,e),or(e);break;case 13:qt(t,e),or(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jh=$e())),n&4&&wp(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(it=(u=it)||d,qt(t,e),it=u):qt(t,e),or(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(h=$=d;$!==null;){switch(f=$,m=f.child,f.tag){case 0:case 11:case 14:case 15:ta(4,f,f.return);break;case 1:Ms(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Le(n,r,x)}}break;case 5:Ms(f,f.return);break;case 22:if(f.memoizedState!==null){jp(h);continue}}m!==null?(m.return=f,$=m):jp(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Fy("display",a))}catch(x){Le(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Le(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qt(t,e),or(e),n&4&&wp(e);break;case 21:break;default:qt(t,e),or(e)}}function or(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(dx(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fa(s,""),n.flags&=-33);var i=bp(e);Ed(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=bp(e);Cd(e,o,a);break;default:throw Error(I(161))}}catch(c){Le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t_(e,t,r){$=e,mx(e)}function mx(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||To;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||it;o=To;var u=it;if(To=a,(it=c)&&!u)for($=s;$!==null;)a=$,c=a.child,a.tag===22&&a.memoizedState!==null?_p(s):c!==null?(c.return=a,$=c):_p(s);for(;i!==null;)$=i,mx(i),i=i.sibling;$=s,To=o,it=u}kp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):kp(e)}}function kp(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||oc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!it)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Jt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ip(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ip(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ya(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}it||t.flags&512&&Nd(t)}catch(f){Le(t,t.return,f)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function jp(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function _p(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{oc(4,t)}catch(c){Le(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Le(t,s,c)}}var i=t.return;try{Nd(t)}catch(c){Le(t,i,c)}break;case 5:var a=t.return;try{Nd(t)}catch(c){Le(t,a,c)}}}catch(c){Le(t,t.return,c)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var r_=Math.ceil,Tl=$r.ReactCurrentDispatcher,qh=$r.ReactCurrentOwner,zt=$r.ReactCurrentBatchConfig,pe=0,Ye=null,ze=null,Ze=0,St=0,Is=_n(0),He=0,Ea=null,ts=0,lc=0,Yh=0,ra=null,gt=null,Jh=0,ri=1/0,Nr=null,Pl=!1,Td=null,mn=null,Po=!1,on=null,Rl=0,na=0,Pd=null,el=-1,tl=0;function dt(){return pe&6?$e():el!==-1?el:el=$e()}function pn(e){return e.mode&1?pe&2&&Ze!==0?Ze&-Ze:$j.transition!==null?(tl===0&&(tl=Qy()),tl):(e=ye,e!==0||(e=window.event,e=e===void 0?16:sv(e.type)),e):1}function tr(e,t,r,n){if(50<na)throw na=0,Pd=null,Error(I(185));Ba(e,r,n),(!(pe&2)||e!==Ye)&&(e===Ye&&(!(pe&2)&&(lc|=r),He===4&&tn(e,Ze)),wt(e,n),r===1&&pe===0&&!(t.mode&1)&&(ri=$e()+500,sc&&Sn()))}function wt(e,t){var r=e.callbackNode;$k(e,t);var n=ml(e,e===Ye?Ze:0);if(n===0)r!==null&&Mm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Mm(r),t===1)e.tag===0?Fj(Sp.bind(null,e)):jv(Sp.bind(null,e)),Ij(function(){!(pe&6)&&Sn()}),r=null;else{switch(Xy(n)){case 1:r=kh;break;case 4:r=Yy;break;case 16:r=fl;break;case 536870912:r=Jy;break;default:r=fl}r=kx(r,px.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function px(e,t){if(el=-1,tl=0,pe&6)throw Error(I(327));var r=e.callbackNode;if(Ws()&&e.callbackNode!==r)return null;var n=ml(e,e===Ye?Ze:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Al(e,n);else{t=n;var s=pe;pe|=2;var i=yx();(Ye!==e||Ze!==t)&&(Nr=null,ri=$e()+500,Yn(e,t));do try{i_();break}catch(o){gx(e,o)}while(!0);Dh(),Tl.current=i,pe=s,ze!==null?t=0:(Ye=null,Ze=0,t=He)}if(t!==0){if(t===2&&(s=nd(e),s!==0&&(n=s,t=Rd(e,s))),t===1)throw r=Ea,Yn(e,0),tn(e,n),wt(e,$e()),r;if(t===6)tn(e,n);else{if(s=e.current.alternate,!(n&30)&&!n_(s)&&(t=Al(e,n),t===2&&(i=nd(e),i!==0&&(n=i,t=Rd(e,i))),t===1))throw r=Ea,Yn(e,0),tn(e,n),wt(e,$e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:On(e,gt,Nr);break;case 3:if(tn(e,n),(n&130023424)===n&&(t=Jh+500-$e(),10<t)){if(ml(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=dd(On.bind(null,e,gt,Nr),t);break}On(e,gt,Nr);break;case 4:if(tn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-er(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*r_(n/1960))-n,10<n){e.timeoutHandle=dd(On.bind(null,e,gt,Nr),n);break}On(e,gt,Nr);break;case 5:On(e,gt,Nr);break;default:throw Error(I(329))}}}return wt(e,$e()),e.callbackNode===r?px.bind(null,e):null}function Rd(e,t){var r=ra;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=Al(e,t),e!==2&&(t=gt,gt=r,t!==null&&Ad(t)),e}function Ad(e){gt===null?gt=e:gt.push.apply(gt,e)}function n_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~Yh,t&=~lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-er(t),n=1<<r;e[r]=-1,t&=~n}}function Sp(e){if(pe&6)throw Error(I(327));Ws();var t=ml(e,0);if(!(t&1))return wt(e,$e()),null;var r=Al(e,t);if(e.tag!==0&&r===2){var n=nd(e);n!==0&&(t=n,r=Rd(e,n))}if(r===1)throw r=Ea,Yn(e,0),tn(e,t),wt(e,$e()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,gt,Nr),wt(e,$e()),null}function Qh(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(ri=$e()+500,sc&&Sn())}}function rs(e){on!==null&&on.tag===0&&!(pe&6)&&Ws();var t=pe;pe|=1;var r=zt.transition,n=ye;try{if(zt.transition=null,ye=1,e)return e()}finally{ye=n,zt.transition=r,pe=t,!(pe&6)&&Sn()}}function Xh(){St=Is.current,Ce(Is)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Mj(r)),ze!==null)for(r=ze.return;r!==null;){var n=r;switch(Ah(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xl();break;case 3:ei(),Ce(xt),Ce(lt),Uh();break;case 5:zh(n);break;case 4:ei();break;case 13:Ce(Pe);break;case 19:Ce(Pe);break;case 10:Lh(n.type._context);break;case 22:case 23:Xh()}r=r.return}if(Ye=e,ze=e=gn(e.current,null),Ze=St=t,He=0,Ea=null,Yh=lc=ts=0,gt=ra=null,Bn!==null){for(t=0;t<Bn.length;t++)if(r=Bn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Bn=null}return e}function gx(e,t){do{var r=ze;try{if(Dh(),Qo.current=El,Cl){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Cl=!1}if(es=0,qe=Be=Ae=null,ea=!1,Sa=0,qh.current=null,r===null||r.return===null){He=1,Ea=t,ze=null;break}e:{var i=e,a=r.return,o=r,c=t;if(t=Ze,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=hp(a);if(m!==null){m.flags&=-257,fp(m,a,o,i,t),m.mode&1&&dp(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){dp(i,u,t),Zh();break e}c=Error(I(426))}}else if(Te&&o.mode&1){var b=hp(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fp(b,a,o,i,t),Mh(ti(c,o));break e}}i=c=ti(c,o),He!==4&&(He=2),ra===null?ra=[i]:ra.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Zv(i,c,t);sp(i,g);break e;case 1:o=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(mn===null||!mn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=ex(i,o,t);sp(i,j);break e}}i=i.return}while(i!==null)}xx(r)}catch(k){t=k,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function yx(){var e=Tl.current;return Tl.current=El,e===null?El:e}function Zh(){(He===0||He===3||He===2)&&(He=4),Ye===null||!(ts&268435455)&&!(lc&268435455)||tn(Ye,Ze)}function Al(e,t){var r=pe;pe|=2;var n=yx();(Ye!==e||Ze!==t)&&(Nr=null,Yn(e,t));do try{s_();break}catch(s){gx(e,s)}while(!0);if(Dh(),pe=r,Tl.current=n,ze!==null)throw Error(I(261));return Ye=null,Ze=0,He}function s_(){for(;ze!==null;)vx(ze)}function i_(){for(;ze!==null&&!Pk();)vx(ze)}function vx(e){var t=wx(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?xx(e):ze=t,qh.current=null}function xx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Xj(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,ze=null;return}}else if(r=Qj(r,t,St),r!==null){ze=r;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);He===0&&(He=5)}function On(e,t,r){var n=ye,s=zt.transition;try{zt.transition=null,ye=1,a_(e,t,r,n)}finally{zt.transition=s,ye=n}return null}function a_(e,t,r,n){do Ws();while(on!==null);if(pe&6)throw Error(I(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(zk(e,i),e===Ye&&(ze=Ye=null,Ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Po||(Po=!0,kx(fl,function(){return Ws(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=zt.transition,zt.transition=null;var a=ye;ye=1;var o=pe;pe|=4,qh.current=null,e_(e,r),fx(r,e),Nj(cd),pl=!!ld,cd=ld=null,e.current=r,t_(r),Rk(),pe=o,ye=a,zt.transition=i}else e.current=r;if(Po&&(Po=!1,on=e,Rl=s),i=e.pendingLanes,i===0&&(mn=null),Ik(r.stateNode),wt(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Pl)throw Pl=!1,e=Td,Td=null,e;return Rl&1&&e.tag!==0&&Ws(),i=e.pendingLanes,i&1?e===Pd?na++:(na=0,Pd=e):na=0,Sn(),null}function Ws(){if(on!==null){var e=Xy(Rl),t=zt.transition,r=ye;try{if(zt.transition=null,ye=16>e?16:e,on===null)var n=!1;else{if(e=on,on=null,Rl=0,pe&6)throw Error(I(331));var s=pe;for(pe|=4,$=e.current;$!==null;){var i=$,a=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:ta(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var f=d.sibling,m=d.return;if(ux(d),d===u){$=null;break}if(f!==null){f.return=m,$=f;break}$=m}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}$=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,$=a;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ta(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var p=e.current;for($=p;$!==null;){a=$;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,$=v;else e:for(a=p;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:oc(9,o)}}catch(k){Le(o,o.return,k)}if(o===a){$=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,$=j;break e}$=o.return}}if(pe=s,Sn(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Zl,e)}catch{}n=!0}return n}finally{ye=r,zt.transition=t}}return!1}function Np(e,t,r){t=ti(r,t),t=Zv(e,t,1),e=fn(e,t,1),t=dt(),e!==null&&(Ba(e,1,t),wt(e,t))}function Le(e,t,r){if(e.tag===3)Np(e,e,r);else for(;t!==null;){if(t.tag===3){Np(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mn===null||!mn.has(n))){e=ti(r,e),e=ex(t,e,1),t=fn(t,e,1),e=dt(),t!==null&&(Ba(t,1,e),wt(t,e));break}}t=t.return}}function o_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&r,Ye===e&&(Ze&r)===r&&(He===4||He===3&&(Ze&130023424)===Ze&&500>$e()-Jh?Yn(e,0):Yh|=r),wt(e,t)}function bx(e,t){t===0&&(e.mode&1?(t=bo,bo<<=1,!(bo&130023424)&&(bo=4194304)):t=1);var r=dt();e=Lr(e,t),e!==null&&(Ba(e,t,r),wt(e,r))}function l_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bx(e,r)}function c_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),bx(e,r)}var wx;wx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vt=!1,Jj(e,t,r);vt=!!(e.flags&131072)}else vt=!1,Te&&t.flags&1048576&&_v(t,kl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zo(e,t),e=t.pendingProps;var s=Qs(t,lt.current);Gs(t,r),s=Bh(null,t,n,e,s,r);var i=Hh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(n)?(i=!0,bl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fh(t),s.updater=ic,t.stateNode=s,s._reactInternals=t,vd(t,n,e,r),t=wd(null,t,n,!0,i,r)):(t.tag=0,Te&&i&&Rh(t),ct(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=d_(n),e=Jt(n,e),s){case 0:t=bd(null,t,n,e,r);break e;case 1:t=gp(null,t,n,e,r);break e;case 11:t=mp(null,t,n,e,r);break e;case 14:t=pp(null,t,n,Jt(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jt(n,s),bd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jt(n,s),gp(e,t,n,s,r);case 3:e:{if(sx(t),e===null)throw Error(I(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Ev(e,t),Sl(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ti(Error(I(423)),t),t=yp(e,t,n,r,s);break e}else if(n!==s){s=ti(Error(I(424)),t),t=yp(e,t,n,r,s);break e}else for(Ct=hn(t.stateNode.containerInfo.firstChild),Et=t,Te=!0,Zt=null,r=Av(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xs(),n===s){t=Or(e,t,r);break e}ct(e,t,n,r)}t=t.child}return t;case 5:return Mv(t),e===null&&pd(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,ud(n,s)?a=null:i!==null&&ud(n,i)&&(t.flags|=32),nx(e,t),ct(e,t,a,r),t.child;case 6:return e===null&&pd(t),null;case 13:return ix(e,t,r);case 4:return $h(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zs(t,null,n,r):ct(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jt(n,s),mp(e,t,n,s,r);case 7:return ct(e,t,t.pendingProps,r),t.child;case 8:return ct(e,t,t.pendingProps.children,r),t.child;case 12:return ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,be(jl,n._currentValue),n._currentValue=a,i!==null)if(nr(i.value,a)){if(i.children===s.children&&!xt.current){t=Or(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),gd(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),gd(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ct(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Gs(t,r),s=Bt(s),n=n(s),t.flags|=1,ct(e,t,n,r),t.child;case 14:return n=t.type,s=Jt(n,t.pendingProps),s=Jt(n.type,s),pp(e,t,n,s,r);case 15:return tx(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jt(n,s),Zo(e,t),t.tag=1,bt(n)?(e=!0,bl(t)):e=!1,Gs(t,r),Pv(t,n,s),vd(t,n,s,r),wd(null,t,n,!0,e,r);case 19:return ax(e,t,r);case 22:return rx(e,t,r)}throw Error(I(156,t.tag))};function kx(e,t){return qy(e,t)}function u_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,r,n){return new u_(e,t,r,n)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function d_(e){if(typeof e=="function")return ef(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xh)return 11;if(e===bh)return 14}return 2}function gn(e,t){var r=e.alternate;return r===null?(r=$t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function rl(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")ef(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case _s:return Jn(r.children,s,i,t);case vh:a=8,s|=8;break;case Vu:return e=$t(12,r,t,s|2),e.elementType=Vu,e.lanes=i,e;case Bu:return e=$t(13,r,t,s),e.elementType=Bu,e.lanes=i,e;case Hu:return e=$t(19,r,t,s),e.elementType=Hu,e.lanes=i,e;case Ry:return cc(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ty:a=10;break e;case Py:a=9;break e;case xh:a=11;break e;case bh:a=14;break e;case Jr:a=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=$t(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Jn(e,t,r,n){return e=$t(7,e,n,t),e.lanes=r,e}function cc(e,t,r,n){return e=$t(22,e,n,t),e.elementType=Ry,e.lanes=r,e.stateNode={isHidden:!1},e}function hu(e,t,r){return e=$t(6,e,null,t),e.lanes=r,e}function fu(e,t,r){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kc(0),this.expirationTimes=Kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tf(e,t,r,n,s,i,a,o,c){return e=new h_(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$t(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(i),e}function f_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function jx(e){if(!e)return bn;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(bt(r))return kv(e,r,t)}return t}function _x(e,t,r,n,s,i,a,o,c){return e=tf(r,n,!0,e,s,i,a,o,c),e.context=jx(null),r=e.current,n=dt(),s=pn(r),i=Rr(n,s),i.callback=t??null,fn(r,i,s),e.current.lanes=s,Ba(e,s,n),wt(e,n),e}function uc(e,t,r,n){var s=t.current,i=dt(),a=pn(s);return r=jx(r),t.context===null?t.context=r:t.pendingContext=r,t=Rr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fn(s,t,a),e!==null&&(tr(e,s,a,i),Jo(e,s,a)),a}function Ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rf(e,t){Cp(e,t),(e=e.alternate)&&Cp(e,t)}function m_(){return null}var Sx=typeof reportError=="function"?reportError:function(e){console.error(e)};function nf(e){this._internalRoot=e}dc.prototype.render=nf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));uc(e,t,null,null)};dc.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rs(function(){uc(null,e,null,null)}),t[Dr]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=tv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<en.length&&t!==0&&t<en[r].priority;r++);en.splice(r,0,e),r===0&&nv(e)}};function sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ep(){}function p_(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ml(a);i.call(u)}}var a=_x(t,n,e,0,null,!1,!1,"",Ep);return e._reactRootContainer=a,e[Dr]=a.current,ba(e.nodeType===8?e.parentNode:e),rs(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Ml(c);o.call(u)}}var c=tf(e,0,!1,null,null,!1,!1,"",Ep);return e._reactRootContainer=c,e[Dr]=c.current,ba(e.nodeType===8?e.parentNode:e),rs(function(){uc(t,c,r,n)}),c}function fc(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=Ml(a);o.call(c)}}uc(t,a,e,s)}else a=p_(r,t,e,s,n);return Ml(a)}Zy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ui(t.pendingLanes);r!==0&&(jh(t,r|1),wt(t,$e()),!(pe&6)&&(ri=$e()+500,Sn()))}break;case 13:rs(function(){var n=Lr(e,1);if(n!==null){var s=dt();tr(n,e,1,s)}}),rf(e,1)}};_h=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var r=dt();tr(t,e,134217728,r)}rf(e,134217728)}};ev=function(e){if(e.tag===13){var t=pn(e),r=Lr(e,t);if(r!==null){var n=dt();tr(r,e,t,n)}rf(e,t)}};tv=function(){return ye};rv=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};ed=function(e,t,r){switch(t){case"input":if(Ku(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=nc(n);if(!s)throw Error(I(90));My(n),Ku(n,s)}}}break;case"textarea":Dy(e,r);break;case"select":t=r.value,t!=null&&Us(e,!!r.multiple,t,!1)}};Vy=Qh;By=rs;var g_={usingClientEntryPoint:!1,Events:[Ga,Es,nc,zy,Uy,Qh]},Pi={findFiberByHostInstance:Vn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},y_={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wy(e),e===null?null:e.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance||m_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Zl=Ro.inject(y_),hr=Ro}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g_;At.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sf(t))throw Error(I(200));return f_(e,t,null,r)};At.createRoot=function(e,t){if(!sf(e))throw Error(I(299));var r=!1,n="",s=Sx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=tf(e,1,!1,null,null,r,!1,n,s),e[Dr]=t.current,ba(e.nodeType===8?e.parentNode:e),new nf(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Wy(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return rs(e)};At.hydrate=function(e,t,r){if(!hc(t))throw Error(I(200));return fc(null,e,t,!0,r)};At.hydrateRoot=function(e,t,r){if(!sf(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Sx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=_x(t,null,e,1,r??null,s,!1,i,a),e[Dr]=t.current,ba(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new dc(t)};At.render=function(e,t,r){if(!hc(t))throw Error(I(200));return fc(null,e,t,!1,r)};At.unmountComponentAtNode=function(e){if(!hc(e))throw Error(I(40));return e._reactRootContainer?(rs(function(){fc(null,null,e,!1,function(){e._reactRootContainer=null,e[Dr]=null})}),!0):!1};At.unstable_batchedUpdates=Qh;At.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hc(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return fc(e,t,r,!1,n)};At.version="18.2.0-next-9e3b772b8-20220608";function Nx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nx)}catch(e){console.error(e)}}Nx(),_y.exports=At;var Cx=_y.exports,Ex,Tp=Cx;Ex=Tp.createRoot,Tp.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tx=e=>{throw TypeError(e)},v_=(e,t,r)=>t.has(e)||Tx("Cannot "+r),mu=(e,t,r)=>(v_(e,t,"read from private field"),r?r.call(e):t.get(e)),x_=(e,t,r)=>t.has(e)?Tx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Pp="popstate";function b_(e={}){function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Ta("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:vr(s)}return k_(t,r,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w_(){return Math.random().toString(36).substring(2,10)}function Rp(e,t){return{usr:e.state,key:e.key,idx:t}}function Ta(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nn(t):t,state:r,key:t&&t.key||n||w_()}}function vr({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function k_(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let b=d(),g=b==null?null:b-u;u=b,c&&c({action:o,location:x.location,delta:g})}function f(b,g){o="PUSH";let p=Ta(x.location,b,g);u=d()+1;let v=Rp(p,u),j=x.createHref(p);try{a.pushState(v,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(j)}i&&c&&c({action:o,location:x.location,delta:1})}function m(b,g){o="REPLACE";let p=Ta(x.location,b,g);u=d();let v=Rp(p,u),j=x.createHref(p);a.replaceState(v,"",j),i&&c&&c({action:o,location:x.location,delta:0})}function y(b){return Px(b)}let x={get action(){return o},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Pp,h),c=b,()=>{s.removeEventListener(Pp,h),c=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(b){return a.go(b)}};return x}function Px(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ae(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:vr(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var Bi,Ap=class{constructor(e){if(x_(this,Bi,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(mu(this,Bi).has(e))return mu(this,Bi).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){mu(this,Bi).set(e,t)}};Bi=new WeakMap;var j_=new Set(["lazy","caseSensitive","path","id","index","children"]);function __(e){return j_.has(e)}var S_=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function N_(e){return S_.has(e)}function C_(e){return e.index===!0}function Pa(e,t,r=[],n={},s=!1){return e.map((i,a)=>{let o=[...r,String(a)],c=typeof i.id=="string"?i.id:o.join("-");if(ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),ae(s||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),C_(i)){let u={...i,id:c};return n[c]=Mp(u,t(u)),u}else{let u={...i,id:c,children:void 0};return n[c]=Mp(u,t(u)),i.children&&(u.children=Pa(i.children,t,o,n,s)),u}})}function Mp(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function rn(e,t,r="/"){return Hi(e,t,r,!1)}function Hi(e,t,r,n){let s=typeof t=="string"?Nn(t):t,i=Gt(s.pathname||"/",r);if(i==null)return null;let a=Rx(e);T_(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=z_(i);o=F_(a[c],u,n)}return o}function E_(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function Rx(e,t=[],r=[],n="",s=!1){let i=(a,o,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;ae(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=mr([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(ae(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Rx(a.children,t,f,h,c)),!(a.path==null&&!a.index)&&t.push({path:h,score:L_(h,a.index),routesMeta:f})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let u of Ax(a.path))i(a,o,!0,u)}),t}function Ax(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Ax(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function T_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:O_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var P_=/^:[\w-]+$/,R_=3,A_=2,M_=1,I_=10,D_=-2,Ip=e=>e==="*";function L_(e,t){let r=e.split("/"),n=r.length;return r.some(Ip)&&(n+=D_),t&&(n+=A_),r.filter(s=>!Ip(s)).reduce((s,i)=>s+(P_.test(i)?R_:i===""?M_:I_),n)}function O_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function F_(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Il({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Il({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:mr([i,h.pathname]),pathnameBase:H_(mr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=mr([i,h.pathnameBase]))}return a}function Il(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=o[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function $_(e,t=!1,r=!0){Oe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function z_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oe(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Gt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function U_({basename:e,pathname:t}){return t==="/"?e:mr([e,t])}var V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mc=e=>V_.test(e);function B_(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Nn(e):e,i;if(r)if(mc(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Oe(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=Dp(r.substring(1),"/"):i=Dp(r,t)}else i=t;return{pathname:i,search:G_(n),hash:W_(s)}}function Dp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function pu(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pc(e){let t=Mx(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function gc(e,t,r,n=!1){let s;typeof e=="string"?s=Nn(e):(s={...e},ae(!s.pathname||!s.pathname.includes("?"),pu("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),pu("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),pu("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=B_(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var mr=e=>e.join("/").replace(/\/\/+/g,"/"),H_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Dl=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Ra(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function af(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ln=Symbol("Uninstrumented");function K_(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(s=>s({id:t.id,index:t.index,path:t.path,instrument(i){let a=Object.keys(r);for(let o of a)i[o]&&r[o].push(i[o])}}));let n={};if(typeof t.lazy=="function"&&r.lazy.length>0){let s=Ds(r.lazy,t.lazy,()=>{});s&&(n.lazy=s)}if(typeof t.lazy=="object"){let s=t.lazy;["middleware","loader","action"].forEach(i=>{let a=s[i],o=r[`lazy.${i}`];if(typeof a=="function"&&o.length>0){let c=Ds(o,a,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[i]:c}))}})}return["loader","action"].forEach(s=>{let i=t[s];if(typeof i=="function"&&r[s].length>0){let a=i[ln]??i,o=Ds(r[s],a,(...c)=>Lp(c[0]));o&&(o[ln]=a,n[s]=o)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(n.middleware=t.middleware.map(s=>{let i=s[ln]??s,a=Ds(r.middleware,i,(...o)=>Lp(o[0]));return a?(a[ln]=i,a):s})),n}function q_(e,t){let r={navigate:[],fetch:[]};if(t.forEach(n=>n({instrument(s){let i=Object.keys(s);for(let a of i)s[a]&&r[a].push(s[a])}})),r.navigate.length>0){let n=e.navigate[ln]??e.navigate,s=Ds(r.navigate,n,(...i)=>{let[a,o]=i;return{to:typeof a=="number"||typeof a=="string"?a:a?vr(a):".",...Op(e,o??{})}});s&&(s[ln]=n,e.navigate=s)}if(r.fetch.length>0){let n=e.fetch[ln]??e.fetch,s=Ds(r.fetch,n,(...i)=>{let[a,,o,c]=i;return{href:o??".",fetcherKey:a,...Op(e,c??{})}});s&&(s[ln]=n,e.fetch=s)}return e}function Ds(e,t,r){return e.length===0?null:async(...n)=>{let s=await Ix(e,r(...n),()=>t(...n),e.length-1);if(s.type==="error")throw s.value;return s.value}}async function Ix(e,t,r,n){let s=e[n],i;if(s){let a,o=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=Ix(e,t,r,n-1),i=await a,ae(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await s(o,t)}catch(c){console.error("An instrumentation function threw an error:",c)}a||await o(),await a}else try{i={type:"success",value:await r()}}catch(a){i={type:"error",value:a}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Lp(e){let{request:t,context:r,params:n,unstable_pattern:s}=e;return{request:Y_(t),params:{...n},unstable_pattern:s,context:J_(r)}}function Op(e,t){return{currentUrl:vr(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function Y_(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function J_(e){if(X_(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var Q_=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function X_(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===Q_}var Dx=["POST","PUT","PATCH","DELETE"],Z_=new Set(Dx),eS=["GET",...Dx],tS=new Set(eS),rS=new Set([301,302,303,307,308]),nS=new Set([307,308]),gu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ri={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},iS=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Lx="remix-router-transitions",Ox=Symbol("ResetLoaderData");function aS(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";ae(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],s=e.mapRouteProperties||iS,i=s;if(e.unstable_instrumentations){let S=e.unstable_instrumentations;i=N=>({...s(N),...K_(S.map(P=>P.route).filter(Boolean),N)})}let a={},o=Pa(e.routes,i,void 0,a),c,u=e.basename||"/";u.startsWith("/")||(u=`/${u}`);let d=e.dataStrategy||dS,h={...e.future},f=null,m=new Set,y=null,x=null,b=null,g=e.hydrationData!=null,p=rn(o,e.history.location,u),v=!1,j=null,k;if(p==null&&!e.patchRoutesOnNavigation){let S=Lt(404,{pathname:e.history.location.pathname}),{matches:N,route:P}=Ao(o);k=!0,p=N,j={[P.id]:S}}else if(p&&!e.hydrationData&&co(p,o,e.history.location.pathname).active&&(p=null),p)if(p.some(S=>S.route.lazy))k=!1;else if(!p.some(S=>of(S.route)))k=!0;else{let S=e.hydrationData?e.hydrationData.loaderData:null,N=e.hydrationData?e.hydrationData.errors:null;if(N){let P=p.findIndex(M=>N[M.route.id]!==void 0);k=p.slice(0,P+1).every(M=>!Id(M.route,S,N))}else k=p.every(P=>!Id(P.route,S,N))}else{k=!1,p=[];let S=co(null,o,e.history.location.pathname);S.active&&S.matches&&(v=!0,p=S.matches)}let T,_={historyAction:e.history.action,location:e.history.location,matches:p,initialized:k,navigation:gu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||j,fetchers:new Map,blockers:new Map},E="POP",C=!1,R,D=!1,L=new Map,de=null,fe=!1,te=!1,le=new Set,Q=new Map,A=0,F=-1,U=new Map,J=new Set,ge=new Map,Ue=new Map,ke=new Set,jt=new Map,mt,z=null;function he(){if(f=e.history.listen(({action:S,location:N,delta:P})=>{if(mt){mt(),mt=void 0;return}Oe(jt.size===0||P!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let M=gm({currentLocation:_.location,nextLocation:N,historyAction:S});if(M&&P!=null){let O=new Promise(H=>{mt=H});e.history.go(P*-1),lo(M,{state:"blocked",location:N,proceed(){lo(M,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),O.then(()=>e.history.go(P))},reset(){let H=new Map(_.blockers);H.set(M,Ri),Je({blockers:H})}});return}return Tn(S,N)}),r){NS(t,L);let S=()=>CS(t,L);t.addEventListener("pagehide",S),de=()=>t.removeEventListener("pagehide",S)}return _.initialized||Tn("POP",_.location,{initialHydration:!0}),T}function Ur(){f&&f(),de&&de(),m.clear(),R&&R.abort(),_.fetchers.forEach((S,N)=>$c(N)),_.blockers.forEach((S,N)=>pm(N))}function Kt(S){return m.add(S),()=>m.delete(S)}function Je(S,N={}){S.matches&&(S.matches=S.matches.map(O=>{let H=a[O.route.id],G=O.route;return G.element!==H.element||G.errorElement!==H.errorElement||G.hydrateFallbackElement!==H.hydrateFallbackElement?{...O,route:H}:O})),_={..._,...S};let P=[],M=[];_.fetchers.forEach((O,H)=>{O.state==="idle"&&(ke.has(H)?P.push(H):M.push(H))}),ke.forEach(O=>{!_.fetchers.has(O)&&!Q.has(O)&&P.push(O)}),[...m].forEach(O=>O(_,{deletedFetchers:P,viewTransitionOpts:N.viewTransitionOpts,flushSync:N.flushSync===!0})),P.forEach(O=>$c(O)),M.forEach(O=>_.fetchers.delete(O))}function Vr(S,N,{flushSync:P}={}){var Z,K;let M=_.actionData!=null&&_.navigation.formMethod!=null&&ut(_.navigation.formMethod)&&_.navigation.state==="loading"&&((Z=S.state)==null?void 0:Z._isRedirect)!==!0,O;N.actionData?Object.keys(N.actionData).length>0?O=N.actionData:O=null:M?O=_.actionData:O=null;let H=N.loaderData?Kp(_.loaderData,N.loaderData,N.matches||[],N.errors):_.loaderData,G=_.blockers;G.size>0&&(G=new Map(G),G.forEach((re,ve)=>G.set(ve,Ri)));let B=fe?!1:vm(S,N.matches||_.matches),W=C===!0||_.navigation.formMethod!=null&&ut(_.navigation.formMethod)&&((K=S.state)==null?void 0:K._isRedirect)!==!0;c&&(o=c,c=void 0),fe||E==="POP"||(E==="PUSH"?e.history.push(S,S.state):E==="REPLACE"&&e.history.replace(S,S.state));let Y;if(E==="POP"){let re=L.get(_.location.pathname);re&&re.has(S.pathname)?Y={currentLocation:_.location,nextLocation:S}:L.has(S.pathname)&&(Y={currentLocation:S,nextLocation:_.location})}else if(D){let re=L.get(_.location.pathname);re?re.add(S.pathname):(re=new Set([S.pathname]),L.set(_.location.pathname,re)),Y={currentLocation:_.location,nextLocation:S}}Je({...N,actionData:O,loaderData:H,historyAction:E,location:S,initialized:!0,navigation:gu,revalidation:"idle",restoreScrollPosition:B,preventScrollReset:W,blockers:G},{viewTransitionOpts:Y,flushSync:P===!0}),E="POP",C=!1,D=!1,fe=!1,te=!1,z==null||z.resolve(),z=null}async function lm(S,N){if(typeof S=="number"){e.history.go(S);return}let P=Md(_.location,_.matches,u,S,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:M,submission:O,error:H}=Fp(!1,P,N),G=_.location,B=Ta(_.location,M,N&&N.state);B={...B,...e.history.encodeLocation(B)};let W=N&&N.replace!=null?N.replace:void 0,Y="PUSH";W===!0?Y="REPLACE":W===!1||O!=null&&ut(O.formMethod)&&O.formAction===_.location.pathname+_.location.search&&(Y="REPLACE");let Z=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,K=(N&&N.flushSync)===!0,re=gm({currentLocation:G,nextLocation:B,historyAction:Y});if(re){lo(re,{state:"blocked",location:B,proceed(){lo(re,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),lm(S,N)},reset(){let ve=new Map(_.blockers);ve.set(re,Ri),Je({blockers:ve})}});return}await Tn(Y,B,{submission:O,pendingError:H,preventScrollReset:Z,replace:N&&N.replace,enableViewTransition:N&&N.viewTransition,flushSync:K})}function A1(){z||(z=ES()),Fc(),Je({revalidation:"loading"});let S=z.promise;return _.navigation.state==="submitting"?S:_.navigation.state==="idle"?(Tn(_.historyAction,_.location,{startUninterruptedRevalidation:!0}),S):(Tn(E||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:D===!0}),S)}async function Tn(S,N,P){R&&R.abort(),R=null,E=S,fe=(P&&P.startUninterruptedRevalidation)===!0,B1(_.location,_.matches),C=(P&&P.preventScrollReset)===!0,D=(P&&P.enableViewTransition)===!0;let M=c||o,O=P&&P.overrideNavigation,H=P!=null&&P.initialHydration&&_.matches&&_.matches.length>0&&!v?_.matches:rn(M,N,u),G=(P&&P.flushSync)===!0;if(H&&_.initialized&&!te&&xS(_.location,N)&&!(P&&P.submission&&ut(P.submission.formMethod))){Vr(N,{matches:H},{flushSync:G});return}let B=co(H,M,N.pathname);if(B.active&&B.matches&&(H=B.matches),!H){let{error:We,notFoundMatches:je,route:_e}=zc(N.pathname);Vr(N,{matches:je,loaderData:{},errors:{[_e.id]:We}},{flushSync:G});return}R=new AbortController;let W=ws(e.history,N,R.signal,P&&P.submission),Y=e.getContext?await e.getContext():new Ap,Z;if(P&&P.pendingError)Z=[nn(H).route.id,{type:"error",error:P.pendingError}];else if(P&&P.submission&&ut(P.submission.formMethod)){let We=await M1(W,N,P.submission,H,Y,B.active,P&&P.initialHydration===!0,{replace:P.replace,flushSync:G});if(We.shortCircuited)return;if(We.pendingActionResult){let[je,_e]=We.pendingActionResult;if(Nt(_e)&&Ra(_e.error)&&_e.error.status===404){R=null,Vr(N,{matches:We.matches,loaderData:{},errors:{[je]:_e.error}});return}}H=We.matches||H,Z=We.pendingActionResult,O=yu(N,P.submission),G=!1,B.active=!1,W=ws(e.history,W.url,W.signal)}let{shortCircuited:K,matches:re,loaderData:ve,errors:Ve}=await I1(W,N,H,Y,B.active,O,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,G,Z);K||(R=null,Vr(N,{matches:re||H,...qp(Z),loaderData:ve,errors:Ve}))}async function M1(S,N,P,M,O,H,G,B={}){Fc();let W=_S(N,P);if(Je({navigation:W},{flushSync:B.flushSync===!0}),H){let K=await uo(M,N.pathname,S.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){if(K.partialMatches.length===0){let{matches:ve,route:Ve}=Ao(o);return{matches:ve,pendingActionResult:[Ve.id,{type:"error",error:K.error}]}}let re=nn(K.partialMatches).route.id;return{matches:K.partialMatches,pendingActionResult:[re,{type:"error",error:K.error}]}}else if(K.matches)M=K.matches;else{let{notFoundMatches:re,error:ve,route:Ve}=zc(N.pathname);return{matches:re,pendingActionResult:[Ve.id,{type:"error",error:ve}]}}}let Y,Z=nl(M,N);if(!Z.route.action&&!Z.route.lazy)Y={type:"error",error:Lt(405,{method:S.method,pathname:N.pathname,routeId:Z.route.id})};else{let K=Ks(i,a,S,M,Z,G?[]:n,O),re=await bi(S,K,O,null);if(Y=re[Z.route.id],!Y){for(let ve of M)if(re[ve.route.id]){Y=re[ve.route.id];break}}if(S.signal.aborted)return{shortCircuited:!0}}if(Gn(Y)){let K;return B&&B.replace!=null?K=B.replace:K=Hp(Y.response.headers.get("Location"),new URL(S.url),u)===_.location.pathname+_.location.search,await Pn(S,Y,!0,{submission:P,replace:K}),{shortCircuited:!0}}if(Nt(Y)){let K=nn(M,Z.route.id);return(B&&B.replace)!==!0&&(E="PUSH"),{matches:M,pendingActionResult:[K.route.id,Y,Z.route.id]}}return{matches:M,pendingActionResult:[Z.route.id,Y]}}async function I1(S,N,P,M,O,H,G,B,W,Y,Z,K){let re=H||yu(N,G),ve=G||B||Jp(re),Ve=!fe&&!Y;if(O){if(Ve){let tt=cm(K);Je({navigation:re,...tt!==void 0?{actionData:tt}:{}},{flushSync:Z})}let me=await uo(P,N.pathname,S.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){if(me.partialMatches.length===0){let{matches:hs,route:Mn}=Ao(o);return{matches:hs,loaderData:{},errors:{[Mn.id]:me.error}}}let tt=nn(me.partialMatches).route.id;return{matches:me.partialMatches,loaderData:{},errors:{[tt]:me.error}}}else if(me.matches)P=me.matches;else{let{error:tt,notFoundMatches:hs,route:Mn}=zc(N.pathname);return{matches:hs,loaderData:{},errors:{[Mn.id]:tt}}}}let We=c||o,{dsMatches:je,revalidatingFetchers:_e}=$p(S,M,i,a,e.history,_,P,ve,N,Y?[]:n,Y===!0,te,le,ke,ge,J,We,u,e.patchRoutesOnNavigation!=null,K);if(F=++A,!e.dataStrategy&&!je.some(me=>me.shouldLoad)&&!je.some(me=>me.route.middleware&&me.route.middleware.length>0)&&_e.length===0){let me=fm();return Vr(N,{matches:P,loaderData:{},errors:K&&Nt(K[1])?{[K[0]]:K[1].error}:null,...qp(K),...me?{fetchers:new Map(_.fetchers)}:{}},{flushSync:Z}),{shortCircuited:!0}}if(Ve){let me={};if(!O){me.navigation=re;let tt=cm(K);tt!==void 0&&(me.actionData=tt)}_e.length>0&&(me.fetchers=D1(_e)),Je(me,{flushSync:Z})}_e.forEach(me=>{kr(me.key),me.controller&&Q.set(me.key,me.controller)});let Rn=()=>_e.forEach(me=>kr(me.key));R&&R.signal.addEventListener("abort",Rn);let{loaderResults:wi,fetcherResults:Br}=await um(je,_e,S,M);if(S.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Rn),_e.forEach(me=>Q.delete(me.key));let ar=Mo(wi);if(ar)return await Pn(S,ar.result,!0,{replace:W}),{shortCircuited:!0};if(ar=Mo(Br),ar)return J.add(ar.key),await Pn(S,ar.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:Uc,errors:ki}=Wp(_,P,wi,K,_e,Br);Y&&_.errors&&(ki={..._.errors,...ki});let An=fm(),ho=mm(F),fo=An||ho||_e.length>0;return{matches:P,loaderData:Uc,errors:ki,...fo?{fetchers:new Map(_.fetchers)}:{}}}function cm(S){if(S&&!Nt(S[1]))return{[S[0]]:S[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function D1(S){return S.forEach(N=>{let P=_.fetchers.get(N.key),M=Ai(void 0,P?P.data:void 0);_.fetchers.set(N.key,M)}),new Map(_.fetchers)}async function L1(S,N,P,M){kr(S);let O=(M&&M.flushSync)===!0,H=c||o,G=Md(_.location,_.matches,u,P,N,M==null?void 0:M.relative),B=rn(H,G,u),W=co(B,H,G);if(W.active&&W.matches&&(B=W.matches),!B){wr(S,N,Lt(404,{pathname:G}),{flushSync:O});return}let{path:Y,submission:Z,error:K}=Fp(!0,G,M);if(K){wr(S,N,K,{flushSync:O});return}let re=e.getContext?await e.getContext():new Ap,ve=(M&&M.preventScrollReset)===!0;if(Z&&ut(Z.formMethod)){await O1(S,N,Y,B,re,W.active,O,ve,Z);return}ge.set(S,{routeId:N,path:Y}),await F1(S,N,Y,B,re,W.active,O,ve,Z)}async function O1(S,N,P,M,O,H,G,B,W){Fc(),ge.delete(S);let Y=_.fetchers.get(S);br(S,SS(W,Y),{flushSync:G});let Z=new AbortController,K=ws(e.history,P,Z.signal,W);if(H){let Ie=await uo(M,new URL(K.url).pathname,K.signal,S);if(Ie.type==="aborted")return;if(Ie.type==="error"){wr(S,N,Ie.error,{flushSync:G});return}else if(Ie.matches)M=Ie.matches;else{wr(S,N,Lt(404,{pathname:P}),{flushSync:G});return}}let re=nl(M,P);if(!re.route.action&&!re.route.lazy){let Ie=Lt(405,{method:W.formMethod,pathname:P,routeId:N});wr(S,N,Ie,{flushSync:G});return}Q.set(S,Z);let ve=A,Ve=Ks(i,a,K,M,re,n,O),We=await bi(K,Ve,O,S),je=We[re.route.id];if(!je){for(let Ie of Ve)if(We[Ie.route.id]){je=We[Ie.route.id];break}}if(K.signal.aborted){Q.get(S)===Z&&Q.delete(S);return}if(ke.has(S)){if(Gn(je)||Nt(je)){br(S,Sr(void 0));return}}else{if(Gn(je))if(Q.delete(S),F>ve){br(S,Sr(void 0));return}else return J.add(S),br(S,Ai(W)),Pn(K,je,!1,{fetcherSubmission:W,preventScrollReset:B});if(Nt(je)){wr(S,N,je.error);return}}let _e=_.navigation.location||_.location,Rn=ws(e.history,_e,Z.signal),wi=c||o,Br=_.navigation.state!=="idle"?rn(wi,_.navigation.location,u):_.matches;ae(Br,"Didn't find any matches after fetcher action");let ar=++A;U.set(S,ar);let Uc=Ai(W,je.data);_.fetchers.set(S,Uc);let{dsMatches:ki,revalidatingFetchers:An}=$p(Rn,O,i,a,e.history,_,Br,W,_e,n,!1,te,le,ke,ge,J,wi,u,e.patchRoutesOnNavigation!=null,[re.route.id,je]);An.filter(Ie=>Ie.key!==S).forEach(Ie=>{let mo=Ie.key,bm=_.fetchers.get(mo),W1=Ai(void 0,bm?bm.data:void 0);_.fetchers.set(mo,W1),kr(mo),Ie.controller&&Q.set(mo,Ie.controller)}),Je({fetchers:new Map(_.fetchers)});let ho=()=>An.forEach(Ie=>kr(Ie.key));Z.signal.addEventListener("abort",ho);let{loaderResults:fo,fetcherResults:me}=await um(ki,An,Rn,O);if(Z.signal.aborted)return;if(Z.signal.removeEventListener("abort",ho),U.delete(S),Q.delete(S),An.forEach(Ie=>Q.delete(Ie.key)),_.fetchers.has(S)){let Ie=Sr(je.data);_.fetchers.set(S,Ie)}let tt=Mo(fo);if(tt)return Pn(Rn,tt.result,!1,{preventScrollReset:B});if(tt=Mo(me),tt)return J.add(tt.key),Pn(Rn,tt.result,!1,{preventScrollReset:B});let{loaderData:hs,errors:Mn}=Wp(_,Br,fo,void 0,An,me);mm(ar),_.navigation.state==="loading"&&ar>F?(ae(E,"Expected pending action"),R&&R.abort(),Vr(_.navigation.location,{matches:Br,loaderData:hs,errors:Mn,fetchers:new Map(_.fetchers)})):(Je({errors:Mn,loaderData:Kp(_.loaderData,hs,Br,Mn),fetchers:new Map(_.fetchers)}),te=!1)}async function F1(S,N,P,M,O,H,G,B,W){let Y=_.fetchers.get(S);br(S,Ai(W,Y?Y.data:void 0),{flushSync:G});let Z=new AbortController,K=ws(e.history,P,Z.signal);if(H){let _e=await uo(M,new URL(K.url).pathname,K.signal,S);if(_e.type==="aborted")return;if(_e.type==="error"){wr(S,N,_e.error,{flushSync:G});return}else if(_e.matches)M=_e.matches;else{wr(S,N,Lt(404,{pathname:P}),{flushSync:G});return}}let re=nl(M,P);Q.set(S,Z);let ve=A,Ve=Ks(i,a,K,M,re,n,O),je=(await bi(K,Ve,O,S))[re.route.id];if(Q.get(S)===Z&&Q.delete(S),!K.signal.aborted){if(ke.has(S)){br(S,Sr(void 0));return}if(Gn(je))if(F>ve){br(S,Sr(void 0));return}else{J.add(S),await Pn(K,je,!1,{preventScrollReset:B});return}if(Nt(je)){wr(S,N,je.error);return}br(S,Sr(je.data))}}async function Pn(S,N,P,{submission:M,fetcherSubmission:O,preventScrollReset:H,replace:G}={}){N.response.headers.has("X-Remix-Revalidate")&&(te=!0);let B=N.response.headers.get("Location");ae(B,"Expected a Location header on the redirect Response"),B=Hp(B,new URL(S.url),u);let W=Ta(_.location,B,{_isRedirect:!0});if(r){let Ve=!1;if(N.response.headers.has("X-Remix-Reload-Document"))Ve=!0;else if(mc(B)){const We=Px(B,!0);Ve=We.origin!==t.location.origin||Gt(We.pathname,u)==null}if(Ve){G?t.location.replace(B):t.location.assign(B);return}}R=null;let Y=G===!0||N.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Z,formAction:K,formEncType:re}=_.navigation;!M&&!O&&Z&&K&&re&&(M=Jp(_.navigation));let ve=M||O;if(nS.has(N.response.status)&&ve&&ut(ve.formMethod))await Tn(Y,W,{submission:{...ve,formAction:B},preventScrollReset:H||C,enableViewTransition:P?D:void 0});else{let Ve=yu(W,M);await Tn(Y,W,{overrideNavigation:Ve,fetcherSubmission:O,preventScrollReset:H||C,enableViewTransition:P?D:void 0})}}async function bi(S,N,P,M){let O,H={};try{O=await fS(d,S,N,M,P,!1)}catch(G){return N.filter(B=>B.shouldLoad).forEach(B=>{H[B.route.id]={type:"error",error:G}}),H}if(S.signal.aborted)return H;for(let[G,B]of Object.entries(O))if(kS(B)){let W=B.result;H[G]={type:"redirect",response:yS(W,S,G,N,u)}}else H[G]=await gS(B);return H}async function um(S,N,P,M){let O=bi(P,S,M,null),H=Promise.all(N.map(async W=>{if(W.matches&&W.match&&W.request&&W.controller){let Z=(await bi(W.request,W.matches,M,W.key))[W.match.route.id];return{[W.key]:Z}}else return Promise.resolve({[W.key]:{type:"error",error:Lt(404,{pathname:W.path})}})})),G=await O,B=(await H).reduce((W,Y)=>Object.assign(W,Y),{});return{loaderResults:G,fetcherResults:B}}function Fc(){te=!0,ge.forEach((S,N)=>{Q.has(N)&&le.add(N),kr(N)})}function br(S,N,P={}){_.fetchers.set(S,N),Je({fetchers:new Map(_.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function wr(S,N,P,M={}){let O=nn(_.matches,N);$c(S),Je({errors:{[O.route.id]:P},fetchers:new Map(_.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function dm(S){return Ue.set(S,(Ue.get(S)||0)+1),ke.has(S)&&ke.delete(S),_.fetchers.get(S)||sS}function $1(S,N){kr(S,N==null?void 0:N.reason),br(S,Sr(null))}function $c(S){let N=_.fetchers.get(S);Q.has(S)&&!(N&&N.state==="loading"&&U.has(S))&&kr(S),ge.delete(S),U.delete(S),J.delete(S),ke.delete(S),le.delete(S),_.fetchers.delete(S)}function z1(S){let N=(Ue.get(S)||0)-1;N<=0?(Ue.delete(S),ke.add(S)):Ue.set(S,N),Je({fetchers:new Map(_.fetchers)})}function kr(S,N){let P=Q.get(S);P&&(P.abort(N),Q.delete(S))}function hm(S){for(let N of S){let P=dm(N),M=Sr(P.data);_.fetchers.set(N,M)}}function fm(){let S=[],N=!1;for(let P of J){let M=_.fetchers.get(P);ae(M,`Expected fetcher: ${P}`),M.state==="loading"&&(J.delete(P),S.push(P),N=!0)}return hm(S),N}function mm(S){let N=[];for(let[P,M]of U)if(M<S){let O=_.fetchers.get(P);ae(O,`Expected fetcher: ${P}`),O.state==="loading"&&(kr(P),U.delete(P),N.push(P))}return hm(N),N.length>0}function U1(S,N){let P=_.blockers.get(S)||Ri;return jt.get(S)!==N&&jt.set(S,N),P}function pm(S){_.blockers.delete(S),jt.delete(S)}function lo(S,N){let P=_.blockers.get(S)||Ri;ae(P.state==="unblocked"&&N.state==="blocked"||P.state==="blocked"&&N.state==="blocked"||P.state==="blocked"&&N.state==="proceeding"||P.state==="blocked"&&N.state==="unblocked"||P.state==="proceeding"&&N.state==="unblocked",`Invalid blocker state transition: ${P.state} -> ${N.state}`);let M=new Map(_.blockers);M.set(S,N),Je({blockers:M})}function gm({currentLocation:S,nextLocation:N,historyAction:P}){if(jt.size===0)return;jt.size>1&&Oe(!1,"A router only supports one blocker at a time");let M=Array.from(jt.entries()),[O,H]=M[M.length-1],G=_.blockers.get(O);if(!(G&&G.state==="proceeding")&&H({currentLocation:S,nextLocation:N,historyAction:P}))return O}function zc(S){let N=Lt(404,{pathname:S}),P=c||o,{matches:M,route:O}=Ao(P);return{notFoundMatches:M,route:O,error:N}}function V1(S,N,P){if(y=S,b=N,x=P||null,!g&&_.navigation===gu){g=!0;let M=vm(_.location,_.matches);M!=null&&Je({restoreScrollPosition:M})}return()=>{y=null,b=null,x=null}}function ym(S,N){return x&&x(S,N.map(M=>E_(M,_.loaderData)))||S.key}function B1(S,N){if(y&&b){let P=ym(S,N);y[P]=b()}}function vm(S,N){if(y){let P=ym(S,N),M=y[P];if(typeof M=="number")return M}return null}function co(S,N,P){if(e.patchRoutesOnNavigation)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:Hi(N,P,u,!0)}}else return{active:!0,matches:Hi(N,P,u,!0)||[]};return{active:!1,matches:null}}async function uo(S,N,P,M){if(!e.patchRoutesOnNavigation)return{type:"success",matches:S};let O=S;for(;;){let H=c==null,G=c||o,B=a;try{await e.patchRoutesOnNavigation({signal:P,path:N,matches:O,fetcherKey:M,patch:(Z,K)=>{P.aborted||zp(Z,K,G,B,i,!1)}})}catch(Z){return{type:"error",error:Z,partialMatches:O}}finally{H&&!P.aborted&&(o=[...o])}if(P.aborted)return{type:"aborted"};let W=rn(G,N,u),Y=null;if(W){if(Object.keys(W[0].params).length===0)return{type:"success",matches:W};if(Y=Hi(G,N,u,!0),!(Y&&O.length<Y.length&&xm(O,Y.slice(0,O.length))))return{type:"success",matches:W}}if(Y||(Y=Hi(G,N,u,!0)),!Y||xm(O,Y))return{type:"success",matches:null};O=Y}}function xm(S,N){return S.length===N.length&&S.every((P,M)=>P.route.id===N[M].route.id)}function H1(S){a={},c=Pa(S,i,void 0,a)}function G1(S,N,P=!1){let M=c==null;zp(S,N,c||o,a,i,P),M&&(o=[...o],Je({}))}return T={get basename(){return u},get future(){return h},get state(){return _},get routes(){return o},get window(){return t},initialize:he,subscribe:Kt,enableScrollRestoration:V1,navigate:lm,fetch:L1,revalidate:A1,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:dm,resetFetcher:$1,deleteFetcher:z1,dispose:Ur,getBlocker:U1,deleteBlocker:pm,patchRoutes:G1,_internalFetchControllers:Q,_internalSetRoutes:H1,_internalSetStateDoNotUseOrYouWillBreakYourApp(S){Je(S)}},e.unstable_instrumentations&&(T=q_(T,e.unstable_instrumentations.map(S=>S.router).filter(Boolean))),T}function oS(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Md(e,t,r,n,s,i){let a,o;if(s){a=[];for(let u of t)if(a.push(u),u.route.id===s){o=u;break}}else a=t,o=t[t.length-1];let c=gc(n||".",pc(a),Gt(e.pathname,r)||e.pathname,i==="path");if(n==null&&(c.search=e.search,c.hash=e.hash),(n==null||n===""||n===".")&&o){let u=lf(c.search);if(o.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let f=d.toString();c.search=f?`?${f}`:""}}return r!=="/"&&(c.pathname=U_({basename:r,pathname:c.pathname})),vr(c)}function Fp(e,t,r){if(!r||!oS(r))return{path:t};if(r.formMethod&&!jS(r.formMethod))return{path:t,error:Lt(405,{method:r.formMethod})};let n=()=>({path:t,error:Lt(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),a=Bx(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ut(i))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[m,y])=>`${f}${m}=${y}
`,""):String(r.body);return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ut(i))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}ae(typeof FormData=="function","FormData is not available in this environment");let o,c;if(r.formData)o=Ld(r.formData),c=r.formData;else if(r.body instanceof FormData)o=Ld(r.body),c=r.body;else if(r.body instanceof URLSearchParams)o=r.body,c=Gp(o);else if(r.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(r.body),c=Gp(o)}catch{return n()}let u={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ut(u.formMethod))return{path:t,submission:u};let d=Nn(t);return e&&d.search&&lf(d.search)&&o.append("index",""),d.search=`?${o}`,{path:vr(d),submission:u}}function $p(e,t,r,n,s,i,a,o,c,u,d,h,f,m,y,x,b,g,p,v){var fe;let j=v?Nt(v[1])?v[1].error:v[1].data:void 0,k=s.createURL(i.location),T=s.createURL(c),_;if(d&&i.errors){let te=Object.keys(i.errors)[0];_=a.findIndex(le=>le.route.id===te)}else if(v&&Nt(v[1])){let te=v[0];_=a.findIndex(le=>le.route.id===te)-1}let E=v?v[1].statusCode:void 0,C=E&&E>=400,R={currentUrl:k,currentParams:((fe=i.matches[0])==null?void 0:fe.params)||{},nextUrl:T,nextParams:a[0].params,...o,actionResult:j,actionStatus:E},D=af(a.map(te=>te.route.path)),L=a.map((te,le)=>{let{route:Q}=te,A=null;if(_!=null&&le>_?A=!1:Q.lazy?A=!0:of(Q)?d?A=Id(Q,i.loaderData,i.errors):lS(i.loaderData,i.matches[le],te)&&(A=!0):A=!1,A!==null)return Dd(r,n,e,D,te,u,t,A);let F=C?!1:h||k.pathname+k.search===T.pathname+T.search||k.search!==T.search||cS(i.matches[le],te),U={...R,defaultShouldRevalidate:F},J=Ll(te,U);return Dd(r,n,e,D,te,u,t,J,U)}),de=[];return y.forEach((te,le)=>{if(d||!a.some(ke=>ke.route.id===te.routeId)||m.has(le))return;let Q=i.fetchers.get(le),A=Q&&Q.state!=="idle"&&Q.data===void 0,F=rn(b,te.path,g);if(!F){if(p&&A)return;de.push({key:le,routeId:te.routeId,path:te.path,matches:null,match:null,request:null,controller:null});return}if(x.has(le))return;let U=nl(F,te.path),J=new AbortController,ge=ws(s,te.path,J.signal),Ue=null;if(f.has(le))f.delete(le),Ue=Ks(r,n,ge,F,U,u,t);else if(A)h&&(Ue=Ks(r,n,ge,F,U,u,t));else{let ke={...R,defaultShouldRevalidate:C?!1:h};Ll(U,ke)&&(Ue=Ks(r,n,ge,F,U,u,t,ke))}Ue&&de.push({key:le,routeId:te.routeId,path:te.path,matches:Ue,match:U,request:ge,controller:J})}),{dsMatches:L,revalidatingFetchers:de}}function of(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Id(e,t,r){if(e.lazy)return!0;if(!of(e))return!1;let n=t!=null&&e.id in t,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function lS(e,t,r){let n=!t||r.route.id!==t.route.id,s=!e.hasOwnProperty(r.route.id);return n||s}function cS(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ll(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function zp(e,t,r,n,s,i){let a;if(e){let u=n[e];ae(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),a=u.children}else a=r;let o=[],c=[];if(t.forEach(u=>{let d=a.find(h=>Fx(u,h));d?c.push({existingRoute:d,newRoute:u}):o.push(u)}),o.length>0){let u=Pa(o,s,[e||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...u)}if(i&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:d,newRoute:h}=c[u],f=d,[m]=Pa([h],s,[],{},!0);Object.assign(f,{element:m.element?m.element:f.element,errorElement:m.errorElement?m.errorElement:f.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:f.hydrateFallbackElement})}}function Fx(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(i=>Fx(r,i))}):!1}var Up=new WeakMap,$x=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let s=r[t.id];if(ae(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[e];if(!i)return;let a=Up.get(s);a||(a={},Up.set(s,a));let o=a[e];if(o)return o;let c=(async()=>{let u=__(e),h=s[e]!==void 0&&e!=="hasErrorBoundary";if(u)Oe(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(h)Oe(!1,`Route "${s.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(s,{[e]:f}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[e]=void 0,Object.values(s.lazy).every(f=>f===void 0)&&(s.lazy=void 0))})();return a[e]=c,c},Vp=new WeakMap;function uS(e,t,r,n,s){let i=r[e.id];if(ae(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=Vp.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{ae(typeof e.lazy=="function","No lazy route function found");let f=await e.lazy(),m={};for(let y in f){let x=f[y];if(x===void 0)continue;let b=N_(y),p=i[y]!==void 0&&y!=="hasErrorBoundary";b?Oe(!b,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):p?Oe(!p,`Route "${i.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):m[y]=x}Object.assign(i,m),Object.assign(i,{...n(i),lazy:void 0})})();return Vp.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(e.lazy),o=[],c;for(let d of a){if(s&&s.includes(d))continue;let h=$x({key:d,route:e,manifest:r,mapRouteProperties:n});h&&(o.push(h),d===t&&(c=h))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function Bp(e){let t=e.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(t.map(s=>s.resolve()))).forEach((s,i)=>{r[t[i].route.id]=s}),r}async function dS(e){return e.matches.some(t=>t.route.middleware)?zx(e,()=>Bp(e)):Bp(e)}function zx(e,t){return hS(e,t,n=>n,bS,r);function r(n,s,i){if(i)return Promise.resolve(Object.assign(i.value,{[s]:{type:"error",result:n}}));{let{matches:a}=e,o=Math.min(Math.max(a.findIndex(u=>u.route.id===s),0),Math.max(a.findIndex(u=>u.unstable_shouldCallHandler()),0)),c=nn(a,a[o].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function hS(e,t,r,n,s){let{matches:i,request:a,params:o,context:c,unstable_pattern:u}=e,d=i.flatMap(f=>f.route.middleware?f.route.middleware.map(m=>[f.route.id,m]):[]);return await Ux({request:a,params:o,context:c,unstable_pattern:u},d,t,r,n,s)}async function Ux(e,t,r,n,s,i,a=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let c=t[a];if(!c)return await r();let[u,d]=c,h,f=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await Ux(e,t,r,n,s,i,a+1)},h.value}catch(m){return h={value:await i(m,u,h)},h.value}};try{let m=await d(e,f),y=m!=null?n(m):void 0;return s(y)?y:h?y??h.value:(h={value:await f()},h.value)}catch(m){return await i(m,u,h)}}function Vx(e,t,r,n,s){let i=$x({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),a=uS(n.route,ut(r.method)?"action":"loader",t,e,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Dd(e,t,r,n,s,i,a,o,c=null){let u=!1,d=Vx(e,t,r,s,i);return{...s,_lazyPromises:d,shouldLoad:o,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(h){return u=!0,c?typeof h=="boolean"?Ll(s,{...c,defaultShouldRevalidate:h}):Ll(s,c):o},resolve(h){let{lazy:f,loader:m,middleware:y}=s.route,x=u||o||h&&!ut(r.method)&&(f||m),b=y&&y.length>0&&!m&&!f;return x&&(ut(r.method)||!b)?mS({request:r,unstable_pattern:n,match:s,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:h,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Ks(e,t,r,n,s,i,a,o=null){return n.map(c=>c.route.id!==s.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Vx(e,t,r,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Dd(e,t,r,af(n.map(u=>u.route.path)),c,i,a,!0,o))}async function fS(e,t,r,n,s,i){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:t,unstable_pattern:af(r.map(u=>u.route.path)),params:r[0].params,context:s,matches:r},c=await e({...a,fetcherKey:n,runClientMiddleware:u=>{let d=a;return zx(d,()=>u({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return c}async function mS({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:i,scopedContext:a}){let o,c,u=ut(e.method),d=u?"action":"loader",h=f=>{let m,y=new Promise((g,p)=>m=p);c=()=>m(),e.signal.addEventListener("abort",c);let x=g=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${r.route.id}]`)):f({request:e,unstable_pattern:t,params:r.params,context:a},...g!==void 0?[g]:[]),b=(async()=>{try{return{type:"data",result:await(i?i(p=>x(p)):x())}}catch(g){return{type:"error",result:g}}})();return Promise.race([b,y])};try{let f=u?r.route.action:r.route.loader;if(n||s)if(f){let m,[y]=await Promise.all([h(f).catch(x=>{m=x}),n,s]);if(m!==void 0)throw m;o=y}else{await n;let m=u?r.route.action:r.route.loader;if(m)[o]=await Promise.all([h(m),s]);else if(d==="action"){let y=new URL(e.url),x=y.pathname+y.search;throw Lt(405,{method:e.method,pathname:x,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(f)o=await h(f);else{let m=new URL(e.url),y=m.pathname+m.search;throw Lt(404,{pathname:y})}}catch(f){return{type:"error",result:f}}finally{c&&e.signal.removeEventListener("abort",c)}return o}async function pS(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function gS(e){var n,s,i,a,o,c;let{result:t,type:r}=e;if(Hx(t)){let u;try{u=await pS(t)}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new Dl(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?Yp(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Dl(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:Ra(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Ra(t)?t.status:void 0}:Yp(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function yS(e,t,r,n,s){let i=e.headers.get("Location");if(ae(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!mc(i)){let a=n.slice(0,n.findIndex(o=>o.route.id===r)+1);i=Md(new URL(t.url),a,s,i),e.headers.set("Location",i)}return e}function Hp(e,t,r){if(mc(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=Gt(s.pathname,r)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function ws(e,t,r,n){let s=e.createURL(Bx(t)).toString(),i={signal:r};if(n&&ut(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=Ld(n.formData):i.body=n.formData}return new Request(s,i)}function Ld(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Gp(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function vS(e,t,r,n=!1,s=!1){let i={},a=null,o,c=!1,u={},d=r&&Nt(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,m=t[f];if(ae(!Gn(m),"Cannot handle redirect results in processLoaderData"),Nt(m)){let y=m.error;if(d!==void 0&&(y=d,d=void 0),a=a||{},s)a[f]=y;else{let x=nn(e,f);a[x.route.id]==null&&(a[x.route.id]=y)}n||(i[f]=Ox),c||(c=!0,o=Ra(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else i[f]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(o=m.statusCode),m.headers&&(u[f]=m.headers)}),d!==void 0&&r&&(a={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:u}}function Wp(e,t,r,n,s,i){let{loaderData:a,errors:o}=vS(t,r,n);return s.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:h}=c;if(h&&h.signal.aborted)return;let f=i[u];if(ae(f,"Did not find corresponding fetcher result"),Nt(f)){let m=nn(e.matches,d==null?void 0:d.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:f.error}),e.fetchers.delete(u)}else if(Gn(f))ae(!1,"Unhandled fetcher revalidation redirect");else{let m=Sr(f.data);e.fetchers.set(u,m)}}),{loaderData:a,errors:o}}function Kp(e,t,r,n){let s=Object.entries(t).filter(([,i])=>i!==Ox).reduce((i,[a,o])=>(i[a]=o,i),{});for(let i of r){let a=i.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&i.route.loader&&(s[a]=e[a]),n&&n.hasOwnProperty(a))break}return s}function qp(e){return e?Nt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function nn(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Ao(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Lt(e,{pathname:t,routeId:r,method:n,type:s,message:i}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(a="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(o="Unable to encode submission body")):e===403?(a="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(a="Not Found",o=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new Dl(e||500,a,new Error(o),!0)}function Mo(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(Gn(s))return{key:n,result:s}}}function Bx(e){let t=typeof e=="string"?Nn(e):e;return vr({...t,hash:""})}function xS(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function bS(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&wS(r))}function wS(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function kS(e){return Hx(e.result)&&rS.has(e.result.status)}function Nt(e){return e.type==="error"}function Gn(e){return(e&&e.type)==="redirect"}function Yp(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Hx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function jS(e){return tS.has(e.toUpperCase())}function ut(e){return Z_.has(e.toUpperCase())}function lf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function nl(e,t){let r=typeof t=="string"?Nn(t).search:t.search;if(e[e.length-1].route.index&&lf(r||""))return e[e.length-1];let n=Mx(e);return n[n.length-1]}function Jp(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:i,json:a}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function yu(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _S(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ai(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function SS(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Sr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function NS(e,t){try{let r=e.sessionStorage.getItem(Lx);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function CS(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(Lx,JSON.stringify(r))}catch(n){Oe(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function ES(){let e,t,r=new Promise((n,s)=>{e=async i=>{n(i);try{await r}catch{}},t=async i=>{s(i);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var os=w.createContext(null);os.displayName="DataRouter";var Ka=w.createContext(null);Ka.displayName="DataRouterState";w.createContext(!1);var cf=w.createContext({isTransitioning:!1});cf.displayName="ViewTransition";var Gx=w.createContext(new Map);Gx.displayName="Fetchers";var TS=w.createContext(null);TS.displayName="Await";var sr=w.createContext(null);sr.displayName="Navigation";var yc=w.createContext(null);yc.displayName="Location";var Wt=w.createContext({outlet:null,matches:[],isDataRoute:!1});Wt.displayName="Route";var uf=w.createContext(null);uf.displayName="RouteError";function PS(e,{relative:t}={}){ae(mi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(sr),{hash:s,pathname:i,search:a}=qa(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:mr([r,i])),n.createHref({pathname:o,search:a,hash:s})}function mi(){return w.useContext(yc)!=null}function Cn(){return ae(mi(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(yc).location}var Wx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kx(e){w.useContext(sr).static||w.useLayoutEffect(e)}function kt(){let{isDataRoute:e}=w.useContext(Wt);return e?GS():RS()}function RS(){ae(mi(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(os),{basename:t,navigator:r}=w.useContext(sr),{matches:n}=w.useContext(Wt),{pathname:s}=Cn(),i=JSON.stringify(pc(n)),a=w.useRef(!1);return Kx(()=>{a.current=!0}),w.useCallback((c,u={})=>{if(Oe(a.current,Wx),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=gc(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:mr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}var AS=w.createContext(null);function MS(e){let t=w.useContext(Wt).outlet;return w.useMemo(()=>t&&w.createElement(AS.Provider,{value:e},t),[t,e])}function qx(){let{matches:e}=w.useContext(Wt),t=e[e.length-1];return t?t.params:{}}function qa(e,{relative:t}={}){let{matches:r}=w.useContext(Wt),{pathname:n}=Cn(),s=JSON.stringify(pc(r));return w.useMemo(()=>gc(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function IS(e,t,r,n,s){ae(mi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(sr),{matches:a}=w.useContext(Wt),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let p=h&&h.path||"";Yx(u,!h||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let f=Cn(),m;m=f;let y=m.pathname||"/",x=y;if(d!=="/"){let p=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let b=rn(e,{pathname:x});return Oe(h||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Oe(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$S(b&&b.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:mr([d,i.encodeLocation?i.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:mr([d,i.encodeLocation?i.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),a,r,n,s)}function DS(){let e=HS(),t=Ra(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,a)}var LS=w.createElement(DS,null),OS=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Wt.Provider,{value:this.props.routeContext},w.createElement(uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FS({routeContext:e,match:t,children:r}){let n=w.useContext(os);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Wt.Provider,{value:e},r)}function $S(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);ae(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=r,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var f,m;n(d,{location:r.location,params:((m=(f=r.matches)==null?void 0:f[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return i.reduceRight((d,h,f)=>{let m,y=!1,x=null,b=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||LS,o&&(c<0&&f===0?(Yx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):c===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,f+1)),p=()=>{let v;return m?v=x:y?v=b:h.route.Component?v=w.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,w.createElement(FS,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(OS,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):p()},null)}function df(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zS(e){let t=w.useContext(os);return ae(t,df(e)),t}function US(e){let t=w.useContext(Ka);return ae(t,df(e)),t}function VS(e){let t=w.useContext(Wt);return ae(t,df(e)),t}function hf(e){let t=VS(e),r=t.matches[t.matches.length-1];return ae(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function BS(){return hf("useRouteId")}function HS(){var n;let e=w.useContext(uf),t=US("useRouteError"),r=hf("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function GS(){let{router:e}=zS("useNavigate"),t=hf("useNavigate"),r=w.useRef(!1);return Kx(()=>{r.current=!0}),w.useCallback(async(s,i={})=>{Oe(r.current,Wx),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Qp={};function Yx(e,t,r){!t&&!Qp[e]&&(Qp[e]=!0,Oe(!1,r))}var Xp={};function Zp(e,t){!e&&!Xp[t]&&(Xp[t]=!0,console.warn(t))}function WS(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Oe(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:w.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Oe(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Oe(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var KS=["HydrateFallback","hydrateFallbackElement"],qS=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function YS({router:e,flushSync:t,unstable_onError:r}){let[n,s]=w.useState(e.state),[i,a]=w.useState(),[o,c]=w.useState({isTransitioning:!1}),[u,d]=w.useState(),[h,f]=w.useState(),[m,y]=w.useState(),x=w.useRef(new Map),b=w.useCallback(k=>{s(T=>(k.errors&&r&&Object.entries(k.errors).forEach(([_,E])=>{var C,R;((C=T.errors)==null?void 0:C[_])!==E&&r(E,{location:k.location,params:((R=k.matches[0])==null?void 0:R.params)??{}})}),k))},[r]),g=w.useCallback((k,{deletedFetchers:T,flushSync:_,viewTransitionOpts:E})=>{k.fetchers.forEach((R,D)=>{R.data!==void 0&&x.current.set(D,R.data)}),T.forEach(R=>x.current.delete(R)),Zp(_===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Zp(E==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!E||!C){t&&_?t(()=>b(k)):w.startTransition(()=>b(k));return}if(t&&_){t(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation})});let R=e.window.document.startViewTransition(()=>{t(()=>b(k))});R.finished.finally(()=>{t(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),t(()=>f(R));return}h?(u&&u.resolve(),h.skipTransition(),y({state:k,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(a(k),c({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[e.window,t,h,u,b]);w.useLayoutEffect(()=>e.subscribe(g),[e,g]),w.useEffect(()=>{o.isTransitioning&&!o.flushSync&&d(new qS)},[o]),w.useEffect(()=>{if(u&&i&&e.window){let k=i,T=u.promise,_=e.window.document.startViewTransition(async()=>{w.startTransition(()=>b(k)),await T});_.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(_)}},[i,u,e.window,b]),w.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,h,n.location,i]),w.useEffect(()=>{!o.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[o.isTransitioning,m]);let p=w.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:k=>e.navigate(k),push:(k,T,_)=>e.navigate(k,{state:T,preventScrollReset:_==null?void 0:_.preventScrollReset}),replace:(k,T,_)=>e.navigate(k,{replace:!0,state:T,preventScrollReset:_==null?void 0:_.preventScrollReset})}),[e]),v=e.basename||"/",j=w.useMemo(()=>({router:e,navigator:p,static:!1,basename:v,unstable_onError:r}),[e,p,v,r]);return w.createElement(w.Fragment,null,w.createElement(os.Provider,{value:j},w.createElement(Ka.Provider,{value:n},w.createElement(Gx.Provider,{value:x.current},w.createElement(cf.Provider,{value:o},w.createElement(eN,{basename:v,location:n.location,navigationType:n.historyAction,navigator:p},w.createElement(JS,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var JS=w.memo(QS);function QS({routes:e,future:t,state:r,unstable_onError:n}){return IS(e,void 0,r,n,t)}function XS({to:e,replace:t,state:r,relative:n}){ae(mi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(sr);Oe(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(Wt),{pathname:a}=Cn(),o=kt(),c=gc(e,pc(i),a,n==="path"),u=JSON.stringify(c);return w.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function ZS(e){return MS(e.context)}function eN({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){ae(!mi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=w.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=Nn(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,m=w.useMemo(()=>{let y=Gt(c,a);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:f},navigationType:n}},[a,c,u,d,h,f,n]);return Oe(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:w.createElement(sr.Provider,{value:o},w.createElement(yc.Provider,{children:t,value:m}))}var sl="get",il="application/x-www-form-urlencoded";function vc(e){return e!=null&&typeof e.tagName=="string"}function tN(e){return vc(e)&&e.tagName.toLowerCase()==="button"}function rN(e){return vc(e)&&e.tagName.toLowerCase()==="form"}function nN(e){return vc(e)&&e.tagName.toLowerCase()==="input"}function sN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iN(e,t){return e.button===0&&(!t||t==="_self")&&!sN(e)}var Io=null;function aN(){if(Io===null)try{new FormData(document.createElement("form"),0),Io=!1}catch{Io=!0}return Io}var oN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vu(e){return e!=null&&!oN.has(e)?(Oe(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${il}"`),null):e}function lN(e,t){let r,n,s,i,a;if(rN(e)){let o=e.getAttribute("action");n=o?Gt(o,t):null,r=e.getAttribute("method")||sl,s=vu(e.getAttribute("enctype"))||il,i=new FormData(e)}else if(tN(e)||nN(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?Gt(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||sl,s=vu(e.getAttribute("formenctype"))||vu(o.getAttribute("enctype"))||il,i=new FormData(o,e),!aN()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(vc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sl,n=null,s=il,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ff(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cN(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Gt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function uN(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function hN(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await uN(i,r);return a.links?a.links():[]}return[]}));return gN(n.flat(1).filter(dN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function eg(e,t,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>a(c,u)||o(c,u)):i==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function fN(e,t,{includeHydrateFallback:r}={}){return mN(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function mN(e){return[...new Set(e)]}function pN(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function gN(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(pN(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Jx(){let e=w.useContext(os);return ff(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yN(){let e=w.useContext(Ka);return ff(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mf=w.createContext(void 0);mf.displayName="FrameworkContext";function Qx(){let e=w.useContext(mf);return ff(e,"You must render this element inside a <HydratedRouter> element"),e}function vN(e,t){let r=w.useContext(mf),[n,s]=w.useState(!1),[i,a]=w.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=w.useRef(null);w.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=g=>{g.forEach(p=>{a(p.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),w.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{s(!0)},y=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Mi(o,m),onBlur:Mi(c,y),onMouseEnter:Mi(u,m),onMouseLeave:Mi(d,y),onTouchStart:Mi(h,m)}]:[!1,f,{}]}function Mi(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function xN({page:e,...t}){let{router:r}=Jx(),n=w.useMemo(()=>rn(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(wN,{page:e,matches:n,...t}):null}function bN(e){let{manifest:t,routeModules:r}=Qx(),[n,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return hN(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function wN({page:e,matches:t,...r}){let n=Cn(),{manifest:s,routeModules:i}=Qx(),{basename:a}=Jx(),{loaderData:o,matches:c}=yN(),u=w.useMemo(()=>eg(e,t,c,s,n,"data"),[e,t,c,s,n]),d=w.useMemo(()=>eg(e,t,c,s,n,"assets"),[e,t,c,s,n]),h=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,x=!1;if(t.forEach(g=>{var v;let p=s.routes[g.route.id];!p||!p.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in o&&((v=i[g.route.id])!=null&&v.shouldRevalidate)||p.hasClientLoader?x=!0:y.add(g.route.id))}),y.size===0)return[];let b=cN(e,a,"data");return x&&y.size>0&&b.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[a,o,n,s,u,t,e,i]),f=w.useMemo(()=>fN(d,s),[d,s]),m=bN(d);return w.createElement(w.Fragment,null,h.map(y=>w.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),f.map(y=>w.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:x})=>w.createElement("link",{key:y,nonce:r.nonce,...x})))}function kN(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Xx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xx&&(window.__reactRouterVersion="7.9.6")}catch{}function jN(e,t){return aS({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:b_({window:t==null?void 0:t.window}),hydrationData:_N(),routes:e,mapRouteProperties:WS,hydrationRouteProperties:KS,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function _N(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:SN(e.errors)}),e}function SN(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new Dl(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}var Zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aa=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:y}=w.useContext(sr),x=typeof u=="string"&&Zx.test(u),b,g=!1;if(typeof u=="string"&&x&&(b=u,Xx))try{let C=new URL(window.location.href),R=u.startsWith("//")?new URL(C.protocol+u):new URL(u),D=Gt(R.pathname,y);R.origin===C.origin&&D!=null?u=D+R.search+R.hash:g=!0}catch{Oe(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=PS(u,{relative:s}),[v,j,k]=vN(n,f),T=TN(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function _(C){t&&t(C),C.defaultPrevented||T(C)}let E=w.createElement("a",{...f,...k,href:b||p,onClick:g||i?t:_,ref:kN(m,j),target:c,"data-discover":!x&&r==="render"?"true":void 0});return v&&!x?w.createElement(w.Fragment,null,E,w.createElement(xN,{page:p})):E});Aa.displayName="Link";var NN=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:c,...u},d){let h=qa(a,{relative:u.relative}),f=Cn(),m=w.useContext(Ka),{navigator:y,basename:x}=w.useContext(sr),b=m!=null&&IN(h)&&o===!0,g=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,p=f.pathname,v=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(p=p.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&x&&(v=Gt(v,x)||v);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=p===g||!s&&p.startsWith(g)&&p.charAt(j)==="/",T=v!=null&&(v===g||!s&&v.startsWith(g)&&v.charAt(g.length)==="/"),_={isActive:k,isPending:T,isTransitioning:b},E=k?t:void 0,C;typeof n=="function"?C=n(_):C=[n,k?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(_):i;return w.createElement(Aa,{...u,"aria-current":E,className:C,ref:d,style:R,to:a,viewTransition:o},typeof c=="function"?c(_):c)});NN.displayName="NavLink";var CN=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=sl,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let y=AN(),x=MN(o,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&Zx.test(o),p=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let j=v.nativeEvent.submitter,k=(j==null?void 0:j.getAttribute("formmethod"))||a;y(j||v.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return w.createElement("form",{ref:m,method:b,action:x,onSubmit:n?c:p,...f,"data-discover":!g&&e==="render"?"true":void 0})});CN.displayName="Form";function EN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eb(e){let t=w.useContext(os);return ae(t,EN(e)),t}function TN(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=kt(),c=Cn(),u=qa(e,{relative:i});return w.useCallback(d=>{if(iN(d,t)){d.preventDefault();let h=r!==void 0?r:vr(c)===vr(u);o(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[c,o,u,r,n,t,e,s,i,a])}var PN=0,RN=()=>`__${String(++PN)}__`;function AN(){let{router:e}=eb("useSubmit"),{basename:t}=w.useContext(sr),r=BS();return w.useCallback(async(n,s={})=>{let{action:i,method:a,encType:o,formData:c,body:u}=lN(n,t);if(s.navigate===!1){let d=s.fetcherKey||RN();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function MN(e,{relative:t}={}){let{basename:r}=w.useContext(sr),n=w.useContext(Wt);ae(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...qa(e||".",{relative:t})},a=Cn();if(e==null){i.search=a.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:mr([r,i.pathname])),vr(i)}function IN(e,{relative:t}={}){let r=w.useContext(cf);ae(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=eb("useViewTransitionState"),s=qa(e,{relative:t});if(!r.isTransitioning)return!1;let i=Gt(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Gt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Il(s.pathname,a)!=null||Il(s.pathname,i)!=null}function DN(e){return w.createElement(YS,{flushSync:Cx.flushSync,...e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...u},d)=>w.createElement("svg",{ref:d,...LN,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ON(e)}`,o].join(" "),...u},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=V("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=V("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=V("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=V("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=V("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=V("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=V("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=V("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=V("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=V("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=V("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=V("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=V("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=V("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=V("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=V("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=V("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=V("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=V("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=V("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=V("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=V("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=V("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=V("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=V("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=V("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function db(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=db(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function h2(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=db(e))&&(n&&(n+=" "),n+=t);return n}const yf="-",f2=e=>{const t=p2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(yf);return o[0]===""&&o.length!==1&&o.shift(),hb(o,t)||m2(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},hb=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?hb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(yf);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},ig=/^\[(.+)\]$/,m2=e=>{if(ig.test(e)){const t=ig.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},p2=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return y2(Object.entries(e.classGroups),r).forEach(([i,a])=>{Od(a,n,i,t)}),n},Od=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:ag(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(g2(s)){Od(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Od(a,ag(t,i),r,n)})})},ag=(e,t)=>{let r=e;return t.split(yf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},g2=e=>e.isThemeGetter,y2=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[r,s]}):e,v2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},fb="!",x2=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=o=>{const c=[];let u=0,d=0,h;for(let b=0;b<o.length;b++){let g=o[b];if(u===0){if(g===s&&(n||o.slice(b,b+i)===t)){c.push(o.slice(d,b)),d=b+i;continue}if(g==="/"){h=b;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?o:o.substring(d),m=f.startsWith(fb),y=m?f.substring(1):f,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}};return r?o=>r({className:o,parseClassName:a}):a},b2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},w2=e=>({cache:v2(e.cacheSize),parseClassName:x2(e),...f2(e)}),k2=/\s+/,j2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(k2);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let y=!!m,x=n(y?f.substring(0,m):f);if(!x){if(!y){o=u+(o.length>0?" "+o:o);continue}if(x=n(f),!x){o=u+(o.length>0?" "+o:o);continue}y=!1}const b=b2(d).join(":"),g=h?b+fb:b,p=g+x;if(i.includes(p))continue;i.push(p);const v=s(x,y);for(let j=0;j<v.length;++j){const k=v[j];i.push(g+k)}o=u+(o.length>0?" "+o:o)}return o};function _2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=mb(t))&&(n&&(n+=" "),n+=r);return n}const mb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=mb(e[n]))&&(r&&(r+=" "),r+=t);return r};function S2(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=w2(u),n=r.cache.get,s=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=j2(c,r);return s(c,d),d}return function(){return i(_2.apply(null,arguments))}}const Se=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},pb=/^\[(?:([a-z-]+):)?(.+)\]$/i,N2=/^\d+\/\d+$/,C2=new Set(["px","full","screen"]),E2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,R2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jr=e=>qs(e)||C2.has(e)||N2.test(e),Gr=e=>pi(e,"length",z2),qs=e=>!!e&&!Number.isNaN(Number(e)),xu=e=>pi(e,"number",qs),Ii=e=>!!e&&Number.isInteger(Number(e)),M2=e=>e.endsWith("%")&&qs(e.slice(0,-1)),se=e=>pb.test(e),Wr=e=>E2.test(e),I2=new Set(["length","size","percentage"]),D2=e=>pi(e,I2,gb),L2=e=>pi(e,"position",gb),O2=new Set(["image","url"]),F2=e=>pi(e,O2,V2),$2=e=>pi(e,"",U2),Di=()=>!0,pi=(e,t,r)=>{const n=pb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},z2=e=>T2.test(e)&&!P2.test(e),gb=()=>!1,U2=e=>R2.test(e),V2=e=>A2.test(e),B2=()=>{const e=Se("colors"),t=Se("spacing"),r=Se("blur"),n=Se("brightness"),s=Se("borderColor"),i=Se("borderRadius"),a=Se("borderSpacing"),o=Se("borderWidth"),c=Se("contrast"),u=Se("grayscale"),d=Se("hueRotate"),h=Se("invert"),f=Se("gap"),m=Se("gradientColorStops"),y=Se("gradientColorStopPositions"),x=Se("inset"),b=Se("margin"),g=Se("opacity"),p=Se("padding"),v=Se("saturate"),j=Se("scale"),k=Se("sepia"),T=Se("skew"),_=Se("space"),E=Se("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",se,t],L=()=>[se,t],de=()=>["",jr,Gr],fe=()=>["auto",qs,se],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",se],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[qs,se];return{cacheSize:500,separator:":",theme:{colors:[Di],spacing:[jr,Gr],blur:["none","",Wr,se],brightness:J(),borderColor:[e],borderRadius:["none","","full",Wr,se],borderSpacing:L(),borderWidth:de(),contrast:J(),grayscale:F(),hueRotate:J(),invert:F(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[M2,Gr],inset:D(),margin:D(),opacity:J(),padding:L(),saturate:J(),scale:J(),sepia:F(),skew:J(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[Wr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),se]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ii,se]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Ii,se]}],"grid-cols":[{"grid-cols":[Di]}],"col-start-end":[{col:["auto",{span:["full",Ii,se]},se]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[Di]}],"row-start-end":[{row:["auto",{span:[Ii,se]},se]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,t]}],"min-w":[{"min-w":[se,t,"min","max","fit"]}],"max-w":[{"max-w":[se,t,"none","full","min","max","fit","prose",{screen:[Wr]},Wr]}],h:[{h:[se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wr,Gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xu]}],"font-family":[{font:[Di]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",qs,xu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jr,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jr,Gr]}],"underline-offset":[{"underline-offset":["auto",jr,se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),L2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",D2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},F2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:le()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[jr,se]}],"outline-w":[{outline:[jr,Gr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[jr,Gr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wr,$2]}],"shadow-color":[{shadow:[Di]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wr,se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ii,se]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[jr,Gr,xu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},H2=S2(B2);function ee(...e){return H2(h2(e))}const G2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},og=e=>{let t;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(y=>y(t,m))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(G2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},W2=e=>e?og(e):og;var yb={exports:{}},vb={},xb={exports:{}},bb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=w;function K2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var q2=typeof Object.is=="function"?Object.is:K2,Y2=ii.useState,J2=ii.useEffect,Q2=ii.useLayoutEffect,X2=ii.useDebugValue;function Z2(e,t){var r=t(),n=Y2({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return Q2(function(){s.value=r,s.getSnapshot=t,bu(s)&&i({inst:s})},[e,r,t]),J2(function(){return bu(s)&&i({inst:s}),e(function(){bu(s)&&i({inst:s})})},[e]),X2(r),r}function bu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!q2(e,r)}catch{return!0}}function eC(e,t){return t()}var tC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eC:Z2;bb.useSyncExternalStore=ii.useSyncExternalStore!==void 0?ii.useSyncExternalStore:tC;xb.exports=bb;var rC=xb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=w,nC=rC;function sC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iC=typeof Object.is=="function"?Object.is:sC,aC=nC.useSyncExternalStore,oC=wc.useRef,lC=wc.useEffect,cC=wc.useMemo,uC=wc.useDebugValue;vb.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=oC(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=cC(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&a.hasValue){var y=a.value;if(s(y,m))return h=y}return h=m}if(y=h,iC(d,m))return y;var x=n(m);return s!==void 0&&s(y,x)?y:(d=m,h=x)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var o=aC(e,i[0],i[1]);return lC(function(){a.hasValue=!0,a.value=o},[o]),uC(o),o};yb.exports=vb;var dC=yb.exports;const hC=fy(dC),wb={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},{useDebugValue:fC}=qn,{useSyncExternalStoreWithSelector:mC}=hC;let lg=!1;const pC=e=>e;function gC(e,t=pC,r){(wb?"production":void 0)!=="production"&&r&&!lg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),lg=!0);const n=mC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return fC(n),n}const cg=e=>{(wb?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?W2(e):e,r=(n,s)=>gC(t,n,s);return Object.assign(r,t),r},zr=e=>e?cg(e):cg,yC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"};function vC(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),o=(i=r.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const Ma=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Ma(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Ma(n)(r)}}}},xC=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,g)=>({...g,...b}),...t},a=!1;const o=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...b)},n,s);const d=Ma(i.serialize),h=()=>{const b=i.partialize({...n()});let g;const p=d({state:b,version:i.version}).then(v=>u.setItem(i.name,v)).catch(v=>{g=v});if(g)throw g;return p},f=s.setState;s.setState=(b,g)=>{f(b,g),h()};const m=e((...b)=>{r(...b),h()},n,s);let y;const x=()=>{var b;if(!u)return;a=!1,o.forEach(p=>p(n()));const g=((b=i.onRehydrateStorage)==null?void 0:b.call(i,n()))||void 0;return Ma(u.getItem.bind(u))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var v;return y=i.merge(p,(v=n())!=null?v:m),r(y,!0),h()}).then(()=>{g==null||g(y,void 0),a=!0,c.forEach(p=>p(y))}).catch(p=>{g==null||g(void 0,p)})};return s.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},x(),y||m},bC=(e,t)=>(r,n,s)=>{let i={storage:vC(()=>localStorage),partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...t},a=!1;const o=new Set,c=new Set;let u=i.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,s);const d=()=>{const x=i.partialize({...n()});return u.setItem(i.name,{state:x,version:i.version})},h=s.setState;s.setState=(x,b)=>{h(x,b),d()};const f=e((...x)=>{r(...x),d()},n,s);s.getInitialState=()=>f;let m;const y=()=>{var x,b;if(!u)return;a=!1,o.forEach(p=>{var v;return p((v=n())!=null?v:f)});const g=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(x=n())!=null?x:f))||void 0;return Ma(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var v;const[j,k]=p;if(m=i.merge(k,(v=n())!=null?v:f),r(m,!0),j)return d()}).then(()=>{g==null||g(m,void 0),m=n(),a=!0,c.forEach(p=>p(m))}).catch(p=>{g==null||g(void 0,p)})};return s.persist={setOptions:x=>{i={...i,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||y(),m||f},wC=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((yC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),xC(e,t)):bC(e,t),Qa=wC,kC="modulepreload",jC=function(e){return"/"+e},ug={},ai=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=jC(c),c in ug)return;ug[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":kC,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},_C=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ai(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class vf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class SC extends vf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class NC extends vf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class CC extends vf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fd||(Fd={}));var EC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class TC{constructor(t,{headers:r={},customFetch:n,region:s=Fd.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=_C(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return EC(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(y=>{throw new SC(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new NC(d);if(!d.ok)throw new CC(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var yt={},xf={},kc={},Xa={},jc={},_c={},PC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},oi=PC();const RC=oi.fetch,kb=oi.fetch.bind(oi),jb=oi.Headers,AC=oi.Request,MC=oi.Response,gi=Object.freeze(Object.defineProperty({__proto__:null,Headers:jb,Request:AC,Response:MC,default:kb,fetch:RC},Symbol.toStringTag,{value:"Module"})),IC=K1(gi);var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});let DC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Sc.default=DC;var _b=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_c,"__esModule",{value:!0});const LC=_b(IC),OC=_b(Sc);let FC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=LC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");x&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&x===""?(f=204,m="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new OC.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};_c.default=FC;var $C=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jc,"__esModule",{value:!0});const zC=$C(_c);let UC=class extends zC.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};jc.default=UC;var VC=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xa,"__esModule",{value:!0});const BC=VC(jc);let HC=class extends BC.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Xa.default=HC;var GC=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kc,"__esModule",{value:!0});const Li=GC(Xa);let WC=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Li.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Li.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Li.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Li.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Li.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};kc.default=WC;var Nc={},Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.version=void 0;Cc.version="0.0.0-automated";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.DEFAULT_HEADERS=void 0;const KC=Cc;Nc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${KC.version}`};var Sb=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xf,"__esModule",{value:!0});const qC=Sb(kc),YC=Sb(Xa),JC=Nc;let QC=class Nb{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},JC.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new qC.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Nb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new YC.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};xf.default=QC;var yi=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const Cb=yi(xf);yt.PostgrestClient=Cb.default;const Eb=yi(kc);yt.PostgrestQueryBuilder=Eb.default;const Tb=yi(Xa);yt.PostgrestFilterBuilder=Tb.default;const Pb=yi(jc);yt.PostgrestTransformBuilder=Pb.default;const Rb=yi(_c);yt.PostgrestBuilder=Rb.default;const Ab=yi(Sc);yt.PostgrestError=Ab.default;var XC=yt.default={PostgrestClient:Cb.default,PostgrestQueryBuilder:Eb.default,PostgrestFilterBuilder:Tb.default,PostgrestTransformBuilder:Pb.default,PostgrestBuilder:Rb.default,PostgrestError:Ab.default};const{PostgrestClient:ZC,PostgrestQueryBuilder:NM,PostgrestFilterBuilder:CM,PostgrestTransformBuilder:EM,PostgrestBuilder:TM,PostgrestError:PM}=XC,eE="2.11.2",tE={"X-Client-Info":`realtime-js/${eE}`},rE="1.0.0",Mb=1e4,nE=1e3;var Ys;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ys||(Ys={}));var _t;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_t||(_t={}));var Xt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xt||(Xt={}));var $d;(function(e){e.websocket="websocket"})($d||($d={}));var Un;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Un||(Un={}));class sE{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class Ib{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xe||(xe={}));const dg=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=iE(a,e,t,s),i),{})},iE=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Db(i,a):zd(a)},Db=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return cE(t,r)}switch(e){case xe.bool:return aE(t);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return oE(t);case xe.json:case xe.jsonb:return lE(t);case xe.timestamp:return uE(t);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return zd(t);default:return zd(t)}},zd=e=>e,aE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cE=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Db(t,o))}return e},uE=e=>typeof e=="string"?e.replace(" ","T"):e,Lb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class wu{constructor(t,r,n={},s=Mb){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(hg||(hg={}));class ia{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ia.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=ia.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ia.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),y=d.filter(b=>m.indexOf(b.presence_ref)<0),x=h.filter(b=>f.indexOf(b.presence_ref)<0);y.length>0&&(o[u]=y),x.length>0&&(c[u]=x)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[o].unshift(...f)}n(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fg||(fg={}));var mg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mg||(mg={}));var Cr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Cr||(Cr={}));class bf{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wu(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new Ib(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ia(this),this.broadcastEndpointURL=Lb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Cr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Cr.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Cr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let x=0;x<m;x++){const b=f[x],{filter:{event:g,schema:p,table:v,filter:j}}=b,k=d&&d[x];if(k&&k.event===g&&k.schema===p&&k.table===v&&k.filter===j)y.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),t==null||t(Cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Cr.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new wu(this,Xt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wu(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Xt;if(n&&[o,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,x,b;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(x=m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var y,x,b,g,p,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,k=(y=m.filter)===null||y===void 0?void 0:y.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return j==="*"||j===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:x,table:b,commit_timestamp:g,type:p,errors:v}=y;f=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}m.callback(f,n)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&bf.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xt.close,{},t)}_onError(t){this._on(Xt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=dg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=dg(t.columns,t.old_record)),r}}const dE=()=>{},hE=typeof WebSocket<"u",fE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mE{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=tE,this.params={},this.timeout=Mb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=dE,this.conn=null,this.sendBuffer=[],this.serializer=new sE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ai(async()=>{const{default:c}=await Promise.resolve().then(()=>gi);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${$d.websocket}`,this.httpEndpoint=Lb(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ib(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(hE){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new pE(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ai(async()=>{const{default:t}=await import("./browser-C-RnPKeI.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rE}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ys.connecting:return Un.Connecting;case Ys.open:return Un.Open;case Ys.closing:return Un.Closing;default:return Un.Closed}}isConnected(){return this.connectionState()===Un.Open}channel(t,r={config:{}}){const n=new bf(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Xt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(nE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class pE{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ys.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class wf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gE extends wf{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ud extends wf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var yE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Ob=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ai(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vE=()=>yE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ai(()=>Promise.resolve().then(()=>gi),void 0)).Response:Response}),Vd=e=>{if(Array.isArray(e))return e.map(r=>Vd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Vd(n)}),t};var cs=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const ku=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xE=(e,t,r)=>cs(void 0,void 0,void 0,function*(){const n=yield vE();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new gE(ku(s),e.status||500))}).catch(s=>{t(new Ud(ku(s),s))}):t(new Ud(ku(e),e))}),bE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Za(e,t,r,n,s,i){return cs(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,bE(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>xE(c,o,n))})})}function Ul(e,t,r,n){return cs(this,void 0,void 0,function*(){return Za(e,"GET",t,r,n)})}function Xr(e,t,r,n,s){return cs(this,void 0,void 0,function*(){return Za(e,"POST",t,n,s,r)})}function wE(e,t,r,n,s){return cs(this,void 0,void 0,function*(){return Za(e,"PUT",t,n,s,r)})}function kE(e,t,r,n){return cs(this,void 0,void 0,function*(){return Za(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fb(e,t,r,n,s){return cs(this,void 0,void 0,function*(){return Za(e,"DELETE",t,n,s,r)})}var pt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const jE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _E{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ob(s)}uploadOrUpdate(t,r,n,s){return pt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},pg),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}upload(t,r,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return pt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:pg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Xr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new wf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}update(t,r,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return pt(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}copy(t,r,n){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Xr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return pt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Xr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return pt(this,void 0,void 0,function*(){try{const s=yield Xr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}download(t,r){return pt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Ul(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}info(t){return pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ul(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Vd(n),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}exists(t){return pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield kE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ke(n)&&n instanceof Ud){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return pt(this,void 0,void 0,function*(){try{return{data:yield Fb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}list(t,r,n){return pt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},jE),r),{prefix:t||""});return{data:yield Xr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const SE="2.7.1",NE={"X-Client-Info":`storage-js/${SE}`};var ms=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class CE{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},NE),r),this.fetch=Ob(n)}listBuckets(){return ms(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}getBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ms(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ms(this,void 0,void 0,function*(){try{return{data:yield wE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Fb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}}class EE extends CE{constructor(t,r={},n){super(t,r,n)}from(t){return new _E(this.url,this.headers,t,this.fetch)}}const TE="2.49.1";let Gi="";typeof Deno<"u"?Gi="deno":typeof document<"u"?Gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gi="react-native":Gi="node";const PE={"X-Client-Info":`supabase-js-${Gi}/${TE}`},RE={headers:PE},AE={schema:"public"},ME={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IE={};var DE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const LE=e=>{let t;return e?t=e:typeof fetch>"u"?t=kb:t=fetch,(...r)=>t(...r)},OE=()=>typeof Headers>"u"?jb:Headers,FE=(e,t,r)=>{const n=LE(r),s=OE();return(i,a)=>DE(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var $E=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function zE(e){return e.replace(/\/$/,"")}function UE(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:a,auth:o,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>$E(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const $b="2.68.0",ks=30*1e3,Bd=3,ju=Bd*ks,VE="http://localhost:9999",BE="supabase.auth.token",HE={"X-Client-Info":`gotrue-js/${$b}`},Hd="X-Supabase-Api-Version",zb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function GE(e){return Math.round(Date.now()/1e3)+e}function WE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const lr=()=>typeof window<"u"&&typeof document<"u",In={tested:!1,writable:!1},aa=()=>{if(!lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(In.tested)return In.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),In.tested=!0,In.writable=!0}catch{In.tested=!0,In.writable=!1}return In.writable};function KE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ub=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ai(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vb=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Do=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lo=async(e,t)=>{await e.removeItem(t)};function YE(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,a,o,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)a=t.indexOf(e.charAt(d++)),o=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=a<<2|o>>4,s=(o&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Ec{constructor(){this.promise=new Ec.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ec.promiseConstructor=Promise;function gg(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(YE(n))}async function JE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function QE(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function XE(e){return("0"+e.toString(16)).substr(-2)}function ZE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,XE).join("")}async function eT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function tT(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await eT(e);return tT(r)}async function ps(e,t,r=!1){const n=ZE();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Vb(e,`${t}-code-verifier`,s);const i=await rT(n);return[i,n===i?"plain":"s256"]}const nT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sT(e){const t=e.headers.get(Hd);if(!t||!t.match(nT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class kf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class iT extends kf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aT(e){return ie(e)&&e.name==="AuthApiError"}class Bb extends kf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class us extends kf{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Kr extends us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oT(e){return ie(e)&&e.name==="AuthSessionMissingError"}class _u extends us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oo extends us{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fo extends us{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lT(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class yg extends us{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gd extends us{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Su(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class vg extends us{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var cT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Fn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uT=[502,503,504];async function xg(e){var t;if(!qE(e))throw new Gd(Fn(e),0);if(uT.includes(e.status))throw new Gd(Fn(e),e.status);let r;try{r=await e.json()}catch(i){throw new Bb(Fn(i),i)}let n;const s=sT(e);if(s&&s.getTime()>=zb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vg(Fn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new vg(Fn(r),e.status,r.weak_password.reasons);throw new iT(Fn(r),e.status||500,n)}const dT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ue(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Hd]||(i[Hd]=zb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await hT(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function hT(e,t,r,n,s,i){const a=dT(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Gd(Fn(c),0)}if(o.ok||await xg(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await xg(c)}}function qr(e){var t;let r=null;gT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=GE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function bg(e){const t=qr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function sn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fT(e){return{data:e,error:null}}function mT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=cT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function pT(e){return e}function gT(e){return e.access_token&&e.refresh_token&&e.expires_in}var yT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class vT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ub(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yT(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pT});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:sn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:sn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}const xT={getItem:e=>aa()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{aa()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{aa()&&globalThis.localStorage.removeItem(e)}};function wg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function bT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gs={debug:!!(globalThis&&aa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wT extends Hb{}async function kT(e,t,r){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}bT();const jT={url:VE,storageKey:BE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kg(e,t,r){return await r()}class Ia{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ia.nextInstanceID,Ia.nextInstanceID+=1,this.instanceID>0&&lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ub(s.fetch),this.lock=s.lock||kg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:lr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=kT:this.lock=kg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:aa()?this.storage=xT:(this.memoryStorage={},this.storage=wg(this.memoryStorage)):(this.memoryStorage={},this.storage=wg(this.memoryStorage)),lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$b}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=KE(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),lr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lT(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?{error:r}:{error:new Bb("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:qr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ps(this.storage,this.storageKey)),i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},xform:qr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:qr})}else throw new Oo("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:bg})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:bg})}else throw new Oo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new _u}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Do(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:qr});if(await Lo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _u}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ie(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qr}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new _u}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ps(this.storage,this.storageKey));const{error:h}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Oo("You must provide either an email or phone number.")}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await ps(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:fT})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kr;const{error:s}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ie(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Oo("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Do(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ju:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sn}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kr}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:sn})})}catch(r){if(ie(r))return oT(r)&&(await this._removeSession(),await Lo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Kr;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await ps(this.storage,this.storageKey));const{data:u,error:d}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:sn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return gg(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const a=gg(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!lr())throw new Fo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yg("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!a||!u)throw new Fo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(ie(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Do(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(aT(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Lo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=WE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ps(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return lr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ie(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await QE(async s=>(s>0&&await JE(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Su(i)&&Date.now()+a-n<ks})}catch(n){if(this._debug(r,"error",n),ie(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),lr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Do(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ju;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ju}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Su(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ec;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Kr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),ie(i)){const a={session:null,error:i};return Su(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Vb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Lo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ks);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ks}ms, refresh threshold is ${Bd} ticks`),s<=Bd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Hb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await ps(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}Ia.nextInstanceID=0;const _T=Ia;class ST extends _T{constructor(t){super(t)}}var NT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class CT{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=zE(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:AE,realtime:IE,auth:Object.assign(Object.assign({},ME),{storageKey:c}),global:RE},d=UE(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=FE(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ZC(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new TC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new EE(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return NT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ST({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new mE(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ET=(e,t,r)=>new CT(e,t,r),TT="https://ptmfcodrlfufrzkxrtxg.supabase.co",PT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",q=ET(TT,PT),Vl=new Map,jf=new Map;let RT=1;function _f(e){var s,i;let t=Vl.get(e.id);t||(t=RT++,Vl.set(e.id,t),jf.set(t,e.id));const r=e.reviews||[],n=r.length>0?r.reduce((a,o)=>a+o.rating,0)/r.length:0;return{id:t,title:e.title,description:e.description,image:e.image,prepTime:e.prep_time,difficulty:e.difficulty,rating:Number(n.toFixed(1)),category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutritionFacts:{calories:Number(e.nutrition_facts.calories),protein:Number(e.nutrition_facts.protein),carbs:Number(e.nutrition_facts.carbs),fat:Number(e.nutrition_facts.fat),fiber:Number(e.nutrition_facts.fiber)},reviews:r.map(a=>({id:a.id,userId:a.user_id,userName:a.profiles.full_name,rating:a.rating,comment:a.comment||"",date:new Date(a.created_at).toISOString().split("T")[0]})),authorId:e.author_id,authorName:(s=e.profiles)==null?void 0:s.full_name,authorType:(i=e.profiles)==null?void 0:i.user_type,createdAt:e.created_at,updatedAt:e.updated_at}}function eo(e){return jf.get(e)||null}async function Nu(e){console.log("Getting user profile for ID:",e);const{data:t,error:r}=await q.from("profiles").select("*").eq("id",e).single();if(r)throw console.error("Error getting user profile:",r),r;return console.log("User profile retrieved:",t),t}async function AT(e){console.log("Creating recipe:",e);const{data:t,error:r}=await q.from("recipes").insert([{title:e.title,description:e.description,image:e.image,prep_time:e.prepTime,difficulty:e.difficulty,category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutrition_facts:{calories:Number(e.nutritionFacts.calories),protein:Number(e.nutritionFacts.protein),carbs:Number(e.nutritionFacts.carbs),fat:Number(e.nutritionFacts.fat),fiber:Number(e.nutritionFacts.fiber)},author_id:e.authorId}]).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(r)throw console.error("Error creating recipe:",r),r;return console.log("Recipe created successfully:",t),_f(t)}async function MT(e,t){const r=eo(e);if(!r)throw new Error("Receita no encontrada");const{data:n,error:s}=await q.from("recipes").update({title:t.title,description:t.description,image:t.image,prep_time:t.prepTime,difficulty:t.difficulty,category:t.category,ingredients:t.ingredients,instructions:t.instructions,nutrition_facts:t.nutritionFacts?{calories:Number(t.nutritionFacts.calories),protein:Number(t.nutritionFacts.protein),carbs:Number(t.nutritionFacts.carbs),fat:Number(t.nutritionFacts.fat),fiber:Number(t.nutritionFacts.fiber)}:void 0}).eq("id",r).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(s)throw s;return _f(n)}async function IT(e){const t=eo(e);if(!t)throw new Error("Receita no encontrada");const{error:r}=await q.from("recipes").delete().eq("id",t);if(r)throw r;Vl.delete(t),jf.delete(e)}async function DT(){console.log("Fetching recipes from Supabase...");const{data:e,error:t}=await q.from("recipes").select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),t;if(console.log("Raw recipes from database:",(e==null?void 0:e.length)||0),!e||e.length===0)return console.log("No recipes found in database"),[];const r=e.map(_f);return console.log("Converted recipes:",r.length),r}async function LT(e,t){const r=eo(e);if(!r)throw new Error("Receita no encontrada");console.log("Adding review to recipe:",{recipeId:e,uuid:r,review:t});const{data:n,error:s}=await q.from("reviews").insert([{recipe_id:r,user_id:t.user_id,rating:t.rating,comment:t.comment}]).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(s)throw console.error("Error adding review:",s),s;return console.log("Review added successfully:",n),n}async function OT(e,t){console.log("Updating review:",{reviewId:e,updates:t});const{data:r,error:n}=await q.from("reviews").update({rating:t.rating,comment:t.comment}).eq("id",e).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(n)throw console.error("Error updating review:",n),n;return console.log("Review updated successfully:",r),r}async function FT(e){console.log("Deleting review:",e);const{error:t}=await q.from("reviews").delete().eq("id",e);if(t)throw console.error("Error deleting review:",t),t;console.log("Review deleted successfully")}async function $T(e,t){const r=eo(t);if(!r)throw new Error("Receita no encontrada");const{error:n}=await q.from("favorites").insert([{user_id:e,recipe_id:r}]);if(n)throw console.error("Error adding to favorites:",n),n}async function zT(e,t){const r=eo(t);if(!r)throw new Error("Receita no encontrada");const{error:n}=await q.from("favorites").delete().eq("user_id",e).eq("recipe_id",r);if(n)throw console.error("Error removing from favorites:",n),n}async function UT(e){console.log("Fetching favorites for user:",e);const{data:t,error:r}=await q.from("favorites").select("recipe_id").eq("user_id",e);if(r)throw console.error("Error fetching favorites:",r),r;console.log("Raw favorites data:",t);const n=[];return t==null||t.forEach(s=>{const i=Vl.get(s.recipe_id);i&&n.push(i)}),console.log("Converted favorite IDs:",n),n}async function VT(e){try{console.log("Checking if email exists:",e);const{data:t,error:r}=await q.from("profiles").select("email").eq("email",e.toLowerCase().trim()).single();return r?r.code==="PGRST116"?(console.log("Email not found in profiles table"),!1):(console.error("Error checking email:",r),!1):(console.log("Email found in profiles table:",!!t),!!t)}catch(t){return console.error("Error checking email existence:",t),!1}}async function BT(e){console.log("Sending password reset email to:",e);const{error:t}=await q.auth.resetPasswordForEmail(e.toLowerCase().trim(),{redirectTo:`${window.location.origin}/reset-password`});if(t)throw console.error("Error sending password reset email:",t),t.message.includes("Email rate limit exceeded")?new Error("Muitas tentativas de recuperao. Aguarde alguns minutos antes de tentar novamente."):t.message.includes("For security purposes")?new Error("Por motivos de segurana, aguarde alguns minutos antes de solicitar outro email."):t.message.includes("Invalid email")?new Error("Email invlido. Verifique o formato do email."):t.message.includes("User not found")?new Error("Email no encontrado. Verifique se o email est correto ou crie uma conta."):new Error("Erro ao enviar email de recuperao. Tente novamente em alguns minutos.");console.log("Password reset email sent successfully")}async function HT(e){console.log("Updating user password");const{error:t}=await q.auth.updateUser({password:e});if(t)throw console.error("Error updating password:",t),t.message.includes("session_not_found")?new Error("Sesso expirada. Solicite um novo link de recuperao."):t.message.includes("same_password")?new Error("A nova senha deve ser diferente da senha atual."):t.message.includes("Password should be at least")?new Error("A senha deve ter pelo menos 6 caracteres."):new Error("Erro ao atualizar senha. Tente novamente.");console.log("Password updated successfully")}async function GT(){try{const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),r=e.get("type");if(!t||r!=="recovery")return{valid:!1};const{data:{user:n},error:s}=await q.auth.getUser(t);if(s||!n)return console.error("Invalid recovery token:",s),{valid:!1};const{error:i}=await q.auth.setSession({access_token:t,refresh_token:e.get("refresh_token")||""});return i?(console.error("Error setting session:",i),{valid:!1}):{valid:!0,user:n}}catch(e){return console.error("Error validating recovery token:",e),{valid:!1}}}const ne=zr(e=>({message:null,type:"info",showToast:(t,r)=>e({message:t,type:r}),hideToast:()=>e({message:null})})),Ge=zr()(Qa((e,t)=>({user:null,token:null,isAuthenticated:!1,error:null,loading:!1,initializeAuth:async()=>{var r,n;try{const{data:s}=await q.auth.getSession(),i=s.session;if(!(i!=null&&i.user)){e({user:null,token:null,isAuthenticated:!1});return}const a=i.user,o=await Nu(a.id).catch(()=>null),c={id:a.id,email:a.email??"",name:((r=a.user_metadata)==null?void 0:r.full_name)||(o==null?void 0:o.full_name)||"",type:(((n=a.user_metadata)==null?void 0:n.user_type)||(o==null?void 0:o.user_type))??"Client",profile:void 0};e({user:c,token:i.access_token,isAuthenticated:!0})}catch(s){console.error("initializeAuth error:",s),e({user:null,token:null,isAuthenticated:!1})}},signIn:async(r,n)=>{var s,i;e({loading:!0,error:null});try{const{data:a,error:o}=await q.auth.signInWithPassword({email:r,password:n});if(o){let f="Erro ao fazer login";o.message.includes("Invalid login credentials")&&(f="Email ou senha incorretos."),o.message.includes("Email not confirmed")&&(f="Email no confirmado. Verifique sua caixa de entrada."),o.message.includes("Too many requests")&&(f="Muitas tentativas. Tente mais tarde."),ne.getState().showToast(f,"error"),e({error:f,loading:!1});return}const c=a.user,u=a.session??(await q.auth.getSession()).data.session,d=await Nu(c.id).catch(()=>null),h={id:c.id,email:c.email??"",name:((s=c.user_metadata)==null?void 0:s.full_name)||(d==null?void 0:d.full_name)||"",type:(((i=c.user_metadata)==null?void 0:i.user_type)||(d==null?void 0:d.user_type))??"Client",profile:void 0};e({user:h,token:(u==null?void 0:u.access_token)??null,isAuthenticated:!0,loading:!1}),ne.getState().showToast("Login realizado com sucesso!","success")}catch(a){console.error("signIn error:",a),ne.getState().showToast("Erro inesperado ao fazer login.","error"),e({error:"Erro inesperado",loading:!1})}},signUp:async(r,n,s,i)=>{var a,o;e({loading:!0,error:null});try{const{data:c,error:u}=await q.auth.signUp({email:r,password:n,options:{data:{full_name:s,user_type:i}}});if(u){let f="Erro ao criar conta";u.message.includes("User already registered")&&(f="Este e-mail j est cadastrado."),u.message.includes("Password should be at least")&&(f="A senha deve ter pelo menos 6 caracteres."),u.message.includes("Invalid email")&&(f="E-mail invlido."),ne.getState().showToast(f,"error"),e({error:f,loading:!1});return}const d=c.user,h=c.session??(await q.auth.getSession()).data.session;if(d&&(h!=null&&h.access_token)){const f=await Nu(d.id).catch(()=>null),m={id:d.id,email:d.email??"",name:((a=d.user_metadata)==null?void 0:a.full_name)||(f==null?void 0:f.full_name)||"",type:(((o=d.user_metadata)==null?void 0:o.user_type)||(f==null?void 0:f.user_type))??"Client",profile:void 0};e({user:m,token:h.access_token,isAuthenticated:!0,loading:!1}),ne.getState().showToast("Conta criada com sucesso!","success");return}ne.getState().showToast("Conta criada com sucesso! Agora faa login.","success"),e({loading:!1})}catch(c){console.error("signUp error:",c),ne.getState().showToast("Erro inesperado ao criar conta.","error"),e({error:"Erro inesperado",loading:!1})}},signOut:async()=>{try{await q.auth.signOut(),e({user:null,token:null,isAuthenticated:!1}),ne.getState().showToast("Logout realizado!","info")}catch(r){console.error("signOut error:",r),ne.getState().showToast("Logout realizado","info")}},clearError:()=>e({error:null}),isNutritionist:()=>{var r;return((r=t().user)==null?void 0:r.type)==="Nutritionist"}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));async function Gb(){const{data:e,error:t}=await q.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return e||[]}async function WT(e){const{data:t,error:r}=await q.from("user_subscriptions").select(`
      *,
      plan:subscription_plans(*)
    `).eq("user_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(r&&r.code!=="PGRST116")throw r;return t??null}async function KT(e){const{data:t,error:r}=await q.from("user_subscriptions").insert(e).select(`
      *,
      plan:subscription_plans(*)
    `).single();if(r)throw r;return t}async function qT({priceId:e,planId:t,successUrl:r,cancelUrl:n}){var u,d,h;let{data:{session:s},error:i}=await q.auth.getSession();if(i||!(s!=null&&s.access_token)){const f=await q.auth.refreshSession().catch(()=>null);s=((u=f==null?void 0:f.data)==null?void 0:u.session)??null}const a=s==null?void 0:s.access_token;if(!a)throw new Error("Voc precisa estar logado para assinar. Faa login e tente novamente.");const{data:o}=await q.functions.invoke("create-checkout-session",{body:{priceId:e,planId:t,successUrl:r,cancelUrl:n},headers:{Authorization:`Bearer ${a}`}});if(!o)throw new Error("Checkout failed: sem resposta do servidor");if(o.error){const f=(d=o.debug)!=null&&d.priceId?` (priceId: ${o.debug.priceId}${(h=o.debug)!=null&&h.message?`  ${o.debug.message}`:""})`:"";throw new Error(`Checkout failed: ${o.error}${f}`)}if(!o.url)throw new Error("Falha ao criar sesso de pagamento (sem URL)");const c=o.url;try{if(typeof window<"u"&&window.top&&window.top!==window){window.top.location.href=c;return}}catch{}try{window.location.assign(c)}catch{window.open(c,"_blank","noopener,noreferrer")}}const Tc=zr()(Qa((e,t)=>({plans:[],userSubscription:null,loading:!1,error:null,fetchPlans:async()=>{e({loading:!0,error:null});try{const r=await Gb();e({plans:r,loading:!1})}catch(r){console.error("Error fetching plans:",r);const n=r instanceof Error?r.message:"Erro ao carregar planos";e({error:n,loading:!1}),ne.getState().showToast("Erro ao carregar planos de assinatura","error")}},fetchUserSubscription:async r=>{try{const n=await WT(r);e({userSubscription:n})}catch(n){console.error("Error fetching user subscription:",n),e({userSubscription:null})}},hasFeatureAccess:r=>{const{userSubscription:n}=t();return!n||!n.plan?!1:n.plan.features.includes(r)},isPremium:()=>t().hasFeatureAccess("ai_mentoring"),createSubscription:async r=>{e({loading:!0,error:null});try{const n=await KT(r);e({userSubscription:n,loading:!1}),ne.getState().showToast("Assinatura ativada com sucesso!","success")}catch(n){console.error("Error creating subscription:",n);const s=n instanceof Error?n.message:"Erro ao criar assinatura";throw e({error:s,loading:!1}),ne.getState().showToast("Erro ao ativar assinatura","error"),n}},reset:()=>e({plans:[],userSubscription:null,loading:!1,error:null})}),{name:"subscription-storage",partialize:e=>({userSubscription:e.userSubscription})})),Sf=zr(e=>({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:"",setCategory:t=>e({category:t}),setSearchQuery:t=>e({searchQuery:t}),setDifficulty:t=>e({difficulty:t}),setPrepTimeRange:t=>e({prepTimeRange:t}),setMinRating:t=>e({minRating:t}),setSortBy:t=>e({sortBy:t}),resetFilters:()=>e({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:""})})),Nf=w.createContext({});function Cf(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Pc=w.createContext(null),Ef=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class YT extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function JT({children:e,isPresent:t}){const r=w.useId(),n=w.useRef(null),s=w.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=w.useContext(Ef);return w.useInsertionEffect(()=>{const{width:a,height:o,top:c,left:u}=s.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),l.jsx(YT,{isPresent:t,childRef:n,sizeRef:s,children:w.cloneElement(e,{ref:n})})}const QT=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=Cf(XT),c=w.useId(),u=w.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;n&&n()},[o,n]),d=w.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),i?[Math.random(),u]:[r,u]);return w.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[r]),w.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(e=l.jsx(JT,{isPresent:r,children:e})),l.jsx(Pc.Provider,{value:d,children:e})};function XT(){return new Map}function Wb(e=!0){const t=w.useContext(Pc);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=w.useId();w.useEffect(()=>{e&&s(i)},[e]);const a=w.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const $o=e=>e.key||"";function jg(e){const t=[];return w.Children.forEach(e,r=>{w.isValidElement(r)&&t.push(r)}),t}const Tf=typeof window<"u",Kb=Tf?w.useLayoutEffect:w.useEffect,to=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,c]=Wb(a),u=w.useMemo(()=>jg(e),[e]),d=a&&!o?[]:u.map($o),h=w.useRef(!0),f=w.useRef(u),m=Cf(()=>new Map),[y,x]=w.useState(u),[b,g]=w.useState(u);Kb(()=>{h.current=!1,f.current=u;for(let j=0;j<b.length;j++){const k=$o(b[j]);d.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[b,d.length,d.join("-")]);const p=[];if(u!==y){let j=[...u];for(let k=0;k<b.length;k++){const T=b[k],_=$o(T);d.includes(_)||(j.splice(k,0,T),p.push(T))}i==="wait"&&p.length&&(j=p),g(jg(j)),x(u);return}const{forceRender:v}=w.useContext(Nf);return l.jsx(l.Fragment,{children:b.map(j=>{const k=$o(j),T=a&&!o?!1:u===b||d.includes(k),_=()=>{if(m.has(k))m.set(k,!0);else return;let E=!0;m.forEach(C=>{C||(E=!1)}),E&&(v==null||v(),g(f.current),a&&(c==null||c()),n&&n())};return l.jsx(QT,{isPresent:T,initial:!h.current||r?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:T?void 0:_,children:j},k)})})},Tt=e=>e;let Wd=Tt;function Pf(e){let t;return()=>(t===void 0&&(t=e()),t)}const li=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Ar=e=>e*1e3,Mr=e=>e/1e3,ZT={skipAnimations:!1,useManualTiming:!1};function eP(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){i.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&n?t:r;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(a=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,s&&(s=!1,c.process(u))}};return c}const zo=["read","resolveKeyframes","update","preRender","render","postRender"],tP=40;function qb(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=zo.reduce((g,p)=>(g[p]=eP(i),g),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,m=()=>{const g=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(g-s.timestamp,tP),1),s.timestamp=g,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},y=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:zo.reduce((g,p)=>{const v=a[p];return g[p]=(j,k=!1,T=!1)=>(r||y(),v.schedule(j,k,T)),g},{}),cancel:g=>{for(let p=0;p<zo.length;p++)a[zo[p]].cancel(g)},state:s,steps:a}}const{schedule:Ee,cancel:wn,state:Xe,steps:Cu}=qb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tt,!0),Yb=w.createContext({strict:!1}),_g={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ci={};for(const e in _g)ci[e]={isEnabled:t=>_g[e].some(r=>!!t[r])};function rP(e){for(const t in e)ci[t]={...ci[t],...e[t]}}const nP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nP.has(e)}let Jb=e=>!Bl(e);function sP(e){e&&(Jb=t=>t.startsWith("on")?!Bl(t):e(t))}try{sP(require("@emotion/is-prop-valid").default)}catch{}function iP(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Jb(s)||r===!0&&Bl(s)||!t&&!Bl(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function aP(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Rc=w.createContext({});function Da(e){return typeof e=="string"||Array.isArray(e)}function Ac(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Rf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Af=["initial",...Rf];function Mc(e){return Ac(e.animate)||Af.some(t=>Da(e[t]))}function Qb(e){return!!(Mc(e)||e.variants)}function oP(e,t){if(Mc(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Da(r)?r:void 0,animate:Da(n)?n:void 0}}return e.inherit!==!1?t:{}}function lP(e){const{initial:t,animate:r}=oP(e,w.useContext(Rc));return w.useMemo(()=>({initial:t,animate:r}),[Sg(t),Sg(r)])}function Sg(e){return Array.isArray(e)?e.join(" "):e}const cP=Symbol.for("motionComponentSymbol");function Ls(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function uP(e,t,r){return w.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ls(r)&&(r.current=n))},[t])}const Mf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dP="framerAppearId",Xb="data-"+Mf(dP),{schedule:If,cancel:RM}=qb(queueMicrotask,!1),Zb=w.createContext({});function hP(e,t,r,n,s){var i,a;const{visualElement:o}=w.useContext(Rc),c=w.useContext(Yb),u=w.useContext(Pc),d=w.useContext(Ef).reducedMotion,h=w.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=w.useContext(Zb);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&fP(h.current,r,s,m);const y=w.useRef(!1);w.useInsertionEffect(()=>{f&&y.current&&f.update(r,u)});const x=r[Xb],b=w.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,x)));return Kb(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),If.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),w.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,x)}),b.current=!1))}),f}function fP(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:ew(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Ls(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function ew(e){if(e)return e.options.allowProjection!==!1?e.projection:ew(e.parent)}function mP({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,a;e&&rP(e);function o(u,d){let h;const f={...w.useContext(Ef),...u,layoutId:pP(u)},{isStatic:m}=f,y=lP(u),x=n(u,m);if(!m&&Tf){gP();const b=yP(f);h=b.MeasureLayout,y.visualElement=hP(s,x,f,t,b.ProjectionNode)}return l.jsxs(Rc.Provider,{value:y,children:[h&&y.visualElement?l.jsx(h,{visualElement:y.visualElement,...f}):null,r(s,u,uP(x,y.visualElement,d),x,m,y.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=w.forwardRef(o);return c[cP]=s,c}function pP({layoutId:e}){const t=w.useContext(Nf).id;return t&&e!==void 0?t+"-"+e:e}function gP(e,t){w.useContext(Yb).strict}function yP(e){const{drag:t,layout:r}=ci;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const vP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Df(e){return typeof e!="string"||e.includes("-")?!1:!!(vP.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ng(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Lf(e,t,r,n){if(typeof t=="function"){const[s,i]=Ng(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Ng(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const Kd=e=>Array.isArray(e),xP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),bP=e=>Kd(e)?e[e.length-1]||0:e,ot=e=>!!(e&&e.getVelocity);function al(e){const t=ot(e)?e.get():e;return xP(t)?t.toValue():t}function wP({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const a={latestValues:kP(n,s,i,e),renderState:t()};return r&&(a.onMount=o=>r({props:n,current:o,...a}),a.onUpdate=o=>r(o)),a}const tw=e=>(t,r)=>{const n=w.useContext(Rc),s=w.useContext(Pc),i=()=>wP(e,t,n,s);return r?i():Cf(i)};function kP(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=al(i[f]);let{initial:a,animate:o}=e;const c=Mc(e),u=Qb(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Ac(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=Lf(e,f[m]);if(y){const{transitionEnd:x,transition:b,...g}=y;for(const p in g){let v=g[p];if(Array.isArray(v)){const j=d?v.length-1:0;v=v[j]}v!==null&&(s[p]=v)}for(const p in x)s[p]=x[p]}}}return s}const vi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ds=new Set(vi),rw=e=>t=>typeof t=="string"&&t.startsWith(e),nw=rw("--"),jP=rw("var(--"),Of=e=>jP(e)?_P.test(e.split("/*")[0].trim()):!1,_P=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Fr=(e,t,r)=>r>t?t:r<e?e:r,xi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},La={...xi,transform:e=>Fr(0,1,e)},Uo={...xi,default:1},ro=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yr=ro("deg"),gr=ro("%"),X=ro("px"),SP=ro("vh"),NP=ro("vw"),Cg={...gr,parse:e=>gr.parse(e)/100,transform:e=>gr.transform(e*100)},CP={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X},EP={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:Uo,scaleX:Uo,scaleY:Uo,scaleZ:Uo,skew:Yr,skewX:Yr,skewY:Yr,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:La,originX:Cg,originY:Cg,originZ:X},Eg={...xi,transform:Math.round},Ff={...CP,...EP,zIndex:Eg,size:X,fillOpacity:La,strokeOpacity:La,numOctaves:Eg},TP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PP=vi.length;function RP(e,t,r){let n="",s=!0;for(let i=0;i<PP;i++){const a=vi[i],o=e[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const u=sw(o,Ff[a]);if(!c){s=!1;const d=TP[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function $f(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const c in t){const u=t[c];if(ds.has(c)){a=!0;continue}else if(nw(c)){s[c]=u;continue}else{const d=sw(u,Ff[c]);c.startsWith("origin")?(o=!0,i[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=RP(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const AP={offset:"stroke-dashoffset",array:"stroke-dasharray"},MP={offset:"strokeDashoffset",array:"strokeDasharray"};function IP(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?AP:MP;e[i.offset]=X.transform(-n);const a=X.transform(t),o=X.transform(r);e[i.array]=`${a} ${o}`}function Tg(e,t,r){return typeof e=="string"?e:X.transform(t+r*e)}function DP(e,t,r){const n=Tg(t,e.x,e.width),s=Tg(r,e.y,e.height);return`${n} ${s}`}function zf(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if($f(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:y}=e;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=DP(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&IP(f,a,o,c,!1)}const Uf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),iw=()=>({...Uf(),attrs:{}}),Vf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aw(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const ow=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lw(e,t,r,n){aw(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(ow.has(s)?s:Mf(s),t.attrs[s])}const Hl={};function LP(e){Object.assign(Hl,e)}function cw(e,{layout:t,layoutId:r}){return ds.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Hl[e]||e==="opacity")}function Bf(e,t,r){var n;const{style:s}=e,i={};for(const a in s)(ot(s[a])||t.style&&ot(t.style[a])||cw(a,e)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function uw(e,t,r){const n=Bf(e,t,r);for(const s in e)if(ot(e[s])||ot(t[s])){const i=vi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function OP(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Pg=["x","y","width","height","cx","cy","r"],FP={useVisualState:tw({scrapeMotionValuesFromProps:uw,createRenderState:iw,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const o in s)if(ds.has(o)){i=!0;break}}if(!i)return;let a=!t;if(t)for(let o=0;o<Pg.length;o++){const c=Pg[o];e[c]!==t[c]&&(a=!0)}a&&Ee.read(()=>{OP(r,n),Ee.render(()=>{zf(n,s,Vf(r.tagName),e.transformTemplate),lw(r,n)})})}})},$P={useVisualState:tw({scrapeMotionValuesFromProps:Bf,createRenderState:Uf})};function dw(e,t,r){for(const n in t)!ot(t[n])&&!cw(n,r)&&(e[n]=t[n])}function zP({transformTemplate:e},t){return w.useMemo(()=>{const r=Uf();return $f(r,t,e),Object.assign({},r.vars,r.style)},[t])}function UP(e,t){const r=e.style||{},n={};return dw(n,r,e),Object.assign(n,zP(e,t)),n}function VP(e,t){const r={},n=UP(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function BP(e,t,r,n){const s=w.useMemo(()=>{const i=iw();return zf(i,t,Vf(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};dw(i,e.style,e),s.style={...i,...s.style}}return s}function HP(e=!1){return(r,n,s,{latestValues:i},a)=>{const c=(Df(r)?BP:VP)(n,i,a,r),u=iP(n,typeof r=="string",e),d=r!==w.Fragment?{...u,...c,ref:s}:{},{children:h}=n,f=w.useMemo(()=>ot(h)?h.get():h,[h]);return w.createElement(r,{...d,children:f})}}function GP(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Df(n)?FP:$P,preloadedFeatures:e,useRender:HP(s),createVisualElement:t,Component:n};return mP(a)}}function hw(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ic(e,t,r){const n=e.getProps();return Lf(n,t,r!==void 0?r:n.custom,e)}const WP=Pf(()=>window.ScrollTimeline!==void 0);class KP{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(WP()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class qP extends KP{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function Hf(e,t){return e?e[t]||e.default||e:void 0}const qd=2e4;function fw(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<qd;)t+=r,n=e.next(t);return t>=qd?1/0:t}function Gf(e){return typeof e=="function"}function Rg(e,t){e.timeline=t,e.onfinish=null}const Wf=e=>Array.isArray(e)&&typeof e[0]=="number",YP={linearEasing:void 0};function JP(e,t){const r=Pf(e);return()=>{var n;return(n=YP[t])!==null&&n!==void 0?n:r()}}const Gl=JP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mw=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(li(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function pw(e){return!!(typeof e=="function"&&Gl()||!e||typeof e=="string"&&(e in Yd||Gl())||Wf(e)||Array.isArray(e)&&e.every(pw))}const Wi=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Yd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wi([0,.65,.55,1]),circOut:Wi([.55,0,1,.45]),backIn:Wi([.31,.01,.66,-.59]),backOut:Wi([.33,1.53,.69,.99])};function gw(e,t){if(e)return typeof e=="function"&&Gl()?mw(e,t):Wf(e)?Wi(e):Array.isArray(e)?e.map(r=>gw(r,t)||Yd.easeOut):Yd[e]}const Yt={x:!1,y:!1};function yw(){return Yt.x||Yt.y}function QP(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function vw(e,t){const r=QP(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Ag(e){return t=>{t.pointerType==="touch"||yw()||e(t)}}function XP(e,t,r={}){const[n,s,i]=vw(e,r),a=Ag(o=>{const{target:c}=o,u=t(o);if(typeof u!="function"||!c)return;const d=Ag(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return n.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const xw=(e,t)=>t?e===t?!0:xw(e,t.parentElement):!1,Kf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ZP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eR(e){return ZP.has(e.tagName)||e.tabIndex!==-1}const Ki=new WeakSet;function Mg(e){return t=>{t.key==="Enter"&&e(t)}}function Eu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const tR=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Mg(()=>{if(Ki.has(r))return;Eu(r,"down");const s=Mg(()=>{Eu(r,"up")}),i=()=>Eu(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Ig(e){return Kf(e)&&!yw()}function rR(e,t,r={}){const[n,s,i]=vw(e,r),a=o=>{const c=o.currentTarget;if(!Ig(o)||Ki.has(c))return;Ki.add(c);const u=t(o),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Ig(m)||!Ki.has(c))&&(Ki.delete(c),typeof u=="function"&&u(m,{success:y}))},h=m=>{d(m,r.useGlobalTarget||xw(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(o=>{!eR(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",u=>tR(u,s),s)}),i}function nR(e){return e==="x"||e==="y"?Yt[e]?null:(Yt[e]=!0,()=>{Yt[e]=!1}):Yt.x||Yt.y?null:(Yt.x=Yt.y=!0,()=>{Yt.x=Yt.y=!1})}const bw=new Set(["width","height","top","left","right","bottom",...vi]);let ol;function sR(){ol=void 0}const yr={now:()=>(ol===void 0&&yr.set(Xe.isProcessing||ZT.useManualTiming?Xe.timestamp:performance.now()),ol),set:e=>{ol=e,queueMicrotask(sR)}};function qf(e,t){e.indexOf(t)===-1&&e.push(t)}function Yf(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Jf{constructor(){this.subscriptions=[]}add(t){return qf(this.subscriptions,t),()=>Yf(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ww(e,t){return t?e*(1e3/t):0}const Dg=30,iR=e=>!isNaN(parseFloat(e));class aR{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=yr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=yr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=iR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Jf);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Dg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Dg);return ww(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oa(e,t){return new aR(e,t)}function oR(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Oa(r))}function lR(e,t){const r=Ic(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=bP(i[a]);oR(e,a,o)}}function cR(e){return!!(ot(e)&&e.add)}function Jd(e,t){const r=e.getValue("willChange");if(cR(r))return r.add(t)}function kw(e){return e.props[Xb]}const jw=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,uR=1e-7,dR=12;function hR(e,t,r,n,s){let i,a,o=0;do a=t+(r-t)/2,i=jw(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>uR&&++o<dR);return a}function no(e,t,r,n){if(e===t&&r===n)return Tt;const s=i=>hR(i,0,1,e,r);return i=>i===0||i===1?i:jw(s(i),t,n)}const _w=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Sw=e=>t=>1-e(1-t),Nw=no(.33,1.53,.69,.99),Qf=Sw(Nw),Cw=_w(Qf),Ew=e=>(e*=2)<1?.5*Qf(e):.5*(2-Math.pow(2,-10*(e-1))),Xf=e=>1-Math.sin(Math.acos(e)),Tw=Sw(Xf),Pw=_w(Xf),Rw=e=>/^0[^.\s]+$/u.test(e);function fR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Rw(e):!0}const oa=e=>Math.round(e*1e5)/1e5,Zf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mR(e){return e==null}const pR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,em=(e,t)=>r=>!!(typeof r=="string"&&pR.test(r)&&r.startsWith(e)||t&&!mR(r)&&Object.prototype.hasOwnProperty.call(r,t)),Aw=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(Zf);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},gR=e=>Fr(0,255,e),Tu={...xi,transform:e=>Math.round(gR(e))},Kn={test:em("rgb","red"),parse:Aw("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Tu.transform(e)+", "+Tu.transform(t)+", "+Tu.transform(r)+", "+oa(La.transform(n))+")"};function yR(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Qd={test:em("#"),parse:yR,transform:Kn.transform},Os={test:em("hsl","hue"),parse:Aw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+gr.transform(oa(t))+", "+gr.transform(oa(r))+", "+oa(La.transform(n))+")"},st={test:e=>Kn.test(e)||Qd.test(e)||Os.test(e),parse:e=>Kn.test(e)?Kn.parse(e):Os.test(e)?Os.parse(e):Qd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Kn.transform(e):Os.transform(e)},vR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xR(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zf))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(vR))===null||r===void 0?void 0:r.length)||0)>0}const Mw="number",Iw="color",bR="var",wR="var(",Lg="${}",kR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fa(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(kR,c=>(st.test(c)?(n.color.push(i),s.push(Iw),r.push(st.parse(c))):c.startsWith(wR)?(n.var.push(i),s.push(bR),r.push(c)):(n.number.push(i),s.push(Mw),r.push(parseFloat(c))),++i,Lg)).split(Lg);return{values:r,split:o,indexes:n,types:s}}function Dw(e){return Fa(e).values}function Lw(e){const{split:t,types:r}=Fa(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const o=r[a];o===Mw?i+=oa(s[a]):o===Iw?i+=st.transform(s[a]):i+=s[a]}return i}}const jR=e=>typeof e=="number"?0:e;function _R(e){const t=Dw(e);return Lw(e)(t.map(jR))}const kn={test:xR,parse:Dw,createTransformer:Lw,getAnimatableNone:_R},SR=new Set(["brightness","contrast","saturate","opacity"]);function NR(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Zf)||[];if(!n)return e;const s=r.replace(n,"");let i=SR.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const CR=/\b([a-z-]*)\(.*?\)/gu,Xd={...kn,getAnimatableNone:e=>{const t=e.match(CR);return t?t.map(NR).join(" "):e}},ER={...Ff,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:Xd,WebkitFilter:Xd},tm=e=>ER[e];function Ow(e,t){let r=tm(e);return r!==Xd&&(r=kn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const TR=new Set(["auto","none","0"]);function PR(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!TR.has(i)&&Fa(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Ow(r,s)}const Og=e=>e===xi||e===X,Fg=(e,t)=>parseFloat(e.split(", ")[t]),$g=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return Fg(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?Fg(i[1],e):0}},RR=new Set(["x","y","z"]),AR=vi.filter(e=>!RR.has(e));function MR(e){const t=[];return AR.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ui={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:$g(4,13),y:$g(5,14)};ui.translateX=ui.x;ui.translateY=ui.y;const Qn=new Set;let Zd=!1,eh=!1;function Fw(){if(eh){const e=Array.from(Qn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=MR(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}eh=!1,Zd=!1,Qn.forEach(e=>e.complete()),Qn.clear()}function $w(){Qn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eh=!0)})}function IR(){$w(),Fw()}class rm{constructor(t,r,n,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qn.add(this),Zd||(Zd=!0,Ee.read($w),Ee.resolveKeyframes(Fw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const c=n.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const zw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),DR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LR(e){const t=DR.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function Uw(e,t,r=1){const[n,s]=LR(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return zw(a)?parseFloat(a):a}return Of(s)?Uw(s,t,r+1):s}const Vw=e=>t=>t.test(e),OR={test:e=>e==="auto",parse:e=>e},Bw=[xi,X,gr,Yr,NP,SP,OR],zg=e=>Bw.find(Vw(e));class Hw extends rm{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Of(u))){const d=Uw(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!bw.has(n)||t.length!==2)return;const[s,i]=t,a=zg(s),o=zg(i);if(a!==o)if(Og(a)&&Og(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)fR(t[s])&&n.push(s);n.length&&PR(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ui[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=ui[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Ug=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kn.test(e)||e==="0")&&!e.startsWith("url("));function FR(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function $R(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Ug(s,t),o=Ug(i,t);return!a||!o?!1:FR(e)||(r==="spring"||Gf(r))&&n}const zR=e=>e!==null;function Dc(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(zR),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const UR=40;class Gw{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yr.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>UR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&IR(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=yr.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:a,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!$R(t,n,s,i))if(a)this.options.duration=0;else{c&&c(Dc(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Re=(e,t,r)=>e+(t-e)*r;function Pu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function VR({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;s=Pu(c,o,e+1/3),i=Pu(c,o,e),a=Pu(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function Wl(e,t){return r=>r>0?t:e}const Ru=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},BR=[Qd,Kn,Os],HR=e=>BR.find(t=>t.test(e));function Vg(e){const t=HR(e);if(!t)return!1;let r=t.parse(e);return t===Os&&(r=VR(r)),r}const Bg=(e,t)=>{const r=Vg(e),n=Vg(t);if(!r||!n)return Wl(e,t);const s={...r};return i=>(s.red=Ru(r.red,n.red,i),s.green=Ru(r.green,n.green,i),s.blue=Ru(r.blue,n.blue,i),s.alpha=Re(r.alpha,n.alpha,i),Kn.transform(s))},GR=(e,t)=>r=>t(e(r)),so=(...e)=>e.reduce(GR),th=new Set(["none","hidden"]);function WR(e,t){return th.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function KR(e,t){return r=>Re(e,t,r)}function nm(e){return typeof e=="number"?KR:typeof e=="string"?Of(e)?Wl:st.test(e)?Bg:JR:Array.isArray(e)?Ww:typeof e=="object"?st.test(e)?Bg:qR:Wl}function Ww(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>nm(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function qR(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=nm(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function YR(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],c=(r=e.values[o])!==null&&r!==void 0?r:0;n[i]=c,s[a]++}return n}const JR=(e,t)=>{const r=kn.createTransformer(t),n=Fa(e),s=Fa(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?th.has(e)&&!s.values.length||th.has(t)&&!n.values.length?WR(e,t):so(Ww(YR(n,s),s.values),r):Wl(e,t)};function Kw(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Re(e,t,r):nm(e)(e,t)}const QR=5;function qw(e,t,r){const n=Math.max(t-QR,0);return ww(r-e(n),t-n)}const De={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Au=.001;function XR({duration:e=De.duration,bounce:t=De.bounce,velocity:r=De.velocity,mass:n=De.mass}){let s,i,a=1-t;a=Fr(De.minDamping,De.maxDamping,a),e=Fr(De.minDuration,De.maxDuration,Mr(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-r,m=rh(u,a),y=Math.exp(-h);return Au-f/m*y},i=u=>{const h=u*a*e,f=h*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,y=Math.exp(-h),x=rh(Math.pow(u,2),a);return(-s(u)+Au>0?-1:1)*((f-m)*y)/x}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-Au+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const o=5/e,c=e4(s,i,o);if(e=Ar(e),isNaN(c))return{stiffness:De.stiffness,damping:De.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const ZR=12;function e4(e,t,r){let n=r;for(let s=1;s<ZR;s++)n=n-e(n)/t(n);return n}function rh(e,t){return e*Math.sqrt(1-t*t)}const t4=["duration","bounce"],r4=["stiffness","damping","mass"];function Hg(e,t){return t.some(r=>e[r]!==void 0)}function n4(e){let t={velocity:De.velocity,stiffness:De.stiffness,damping:De.damping,mass:De.mass,isResolvedFromDuration:!1,...e};if(!Hg(e,r4)&&Hg(e,t4))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Fr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:De.mass,stiffness:s,damping:i}}else{const r=XR(e);t={...t,...r,mass:De.mass},t.isResolvedFromDuration=!0}return t}function Yw(e=De.visualDuration,t=De.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=n4({...r,velocity:-Mr(r.velocity||0)}),y=f||0,x=u/(2*Math.sqrt(c*d)),b=a-i,g=Mr(Math.sqrt(c/d)),p=Math.abs(b)<5;n||(n=p?De.restSpeed.granular:De.restSpeed.default),s||(s=p?De.restDelta.granular:De.restDelta.default);let v;if(x<1){const k=rh(g,x);v=T=>{const _=Math.exp(-x*g*T);return a-_*((y+x*g*b)/k*Math.sin(k*T)+b*Math.cos(k*T))}}else if(x===1)v=k=>a-Math.exp(-g*k)*(b+(y+g*b)*k);else{const k=g*Math.sqrt(x*x-1);v=T=>{const _=Math.exp(-x*g*T),E=Math.min(k*T,300);return a-_*((y+x*g*b)*Math.sinh(E)+k*b*Math.cosh(E))/k}}const j={calculatedDuration:m&&h||null,next:k=>{const T=v(k);if(m)o.done=k>=h;else{let _=0;x<1&&(_=k===0?Ar(y):qw(v,k,T));const E=Math.abs(_)<=n,C=Math.abs(a-T)<=s;o.done=E&&C}return o.value=o.done?a:T,o},toString:()=>{const k=Math.min(fw(j),qd),T=mw(_=>j.next(k*_).value,k,30);return k+"ms "+T}};return j}function Gg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=E=>o!==void 0&&E<o||c!==void 0&&E>c,y=E=>o===void 0?c:c===void 0||Math.abs(o-E)<Math.abs(c-E)?o:c;let x=r*t;const b=h+x,g=a===void 0?b:a(b);g!==b&&(x=g-h);const p=E=>-x*Math.exp(-E/n),v=E=>g+p(E),j=E=>{const C=p(E),R=v(E);f.done=Math.abs(C)<=u,f.value=f.done?g:R};let k,T;const _=E=>{m(f.value)&&(k=E,T=Yw({keyframes:[f.value,y(f.value)],velocity:qw(v,E,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:E=>{let C=!1;return!T&&k===void 0&&(C=!0,j(E),_(E)),k!==void 0&&E>=k?T.next(E-k):(!C&&j(E),f)}}}const s4=no(.42,0,1,1),i4=no(0,0,.58,1),Jw=no(.42,0,.58,1),a4=e=>Array.isArray(e)&&typeof e[0]!="number",Wg={linear:Tt,easeIn:s4,easeInOut:Jw,easeOut:i4,circIn:Xf,circInOut:Pw,circOut:Tw,backIn:Qf,backInOut:Cw,backOut:Nw,anticipate:Ew},Kg=e=>{if(Wf(e)){Wd(e.length===4);const[t,r,n,s]=e;return no(t,r,n,s)}else if(typeof e=="string")return Wd(Wg[e]!==void 0),Wg[e];return e};function o4(e,t,r){const n=[],s=r||Kw,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Tt:t;o=so(c,o)}n.push(o)}return n}function l4(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(Wd(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=o4(t,n,s),c=o.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=li(e[h],e[h+1],d);return o[h](f)};return r?d=>u(Fr(e[0],e[i-1],d)):u}function c4(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=li(0,t,n);e.push(Re(r,1,s))}}function u4(e){const t=[0];return c4(t,e.length-1),t}function d4(e,t){return e.map(r=>r*t)}function h4(e,t){return e.map(()=>t||Jw).splice(0,e.length-1)}function Kl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=a4(n)?n.map(Kg):Kg(n),i={done:!1,value:t[0]},a=d4(r&&r.length===t.length?r:u4(t),e),o=l4(a,t,{ease:Array.isArray(s)?s:h4(t,s)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const f4=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ee.update(t,!0),stop:()=>wn(t),now:()=>Xe.isProcessing?Xe.timestamp:yr.now()}},m4={decay:Gg,inertia:Gg,tween:Kl,keyframes:Kl,spring:Yw},p4=e=>e/100;class sm extends Gw{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||rm,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,o,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=Gf(r)?r:m4[r]||Kl;let c,u;o!==Kl&&typeof t[0]!="number"&&(c=so(p4,Kw(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});i==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=fw(d));const{calculatedDuration:h}=d,f=h+s,m=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let v=this.currentTime,j=i;if(m){const E=Math.min(this.currentTime,d)/h;let C=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(y==="reverse"?(R=1-R,x&&(R-=x/h)):y==="mirror"&&(j=a)),v=Fr(0,1,R)*h}const k=p?{done:!1,value:c[0]}:j.next(v);o&&(k.value=o(k.value));let{done:T}=k;!p&&u!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return _&&s!==void 0&&(k.value=Dc(c,this.options,s)),b&&b(k.value),_&&this.finish(),k}get duration(){const{resolved:t}=this;return t?Mr(t.calculatedDuration):0}get time(){return Mr(this.currentTime)}set time(t){t=Ar(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Mr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=f4,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const g4=new Set(["opacity","clipPath","filter","transform"]);function y4(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=gw(o,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const v4=Pf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ql=10,x4=2e4;function b4(e){return Gf(e.type)||e.type==="spring"||!pw(e.ease)}function w4(e,t){const r=new sm({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<x4;)n=r.sample(i),s.push(n.value),i+=ql;return{times:void 0,keyframes:s,duration:i-ql,ease:"linear"}}const Qw={anticipate:Ew,backInOut:Cw,circInOut:Pw};function k4(e){return e in Qw}class qg extends Gw{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new Hw(i,(a,o)=>this.onKeyframesResolved(a,o),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:a,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&Gl()&&k4(i)&&(i=Qw[i]),b4(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:y,...x}=this.options,b=w4(t,x);t=b.keyframes,t.length===1&&(t[1]=t[0]),n=b.duration,s=b.times,i=b.ease,a="keyframes"}const d=y4(o.owner.current,c,t,{...this.options,duration:n,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Rg(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Dc(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Mr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Mr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Ar(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Tt;const{animation:n}=r;Rg(n,t)}return Tt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:a,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,y=new sm({...m,keyframes:n,duration:s,type:i,ease:a,times:o,isGenerator:!0}),x=Ar(this.time);u.setWithVelocity(y.sample(x-ql).value,y.sample(x).value,ql)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return v4()&&n&&g4.has(n)&&!c&&!u&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const j4={type:"spring",stiffness:500,damping:25,restSpeed:10},_4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),S4={type:"keyframes",duration:.8},N4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},C4=(e,{keyframes:t})=>t.length>2?S4:ds.has(e)?e.startsWith("scale")?_4(t[1]):j4:N4;function E4({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const im=(e,t,r,n={},s,i)=>a=>{const o=Hf(n,e)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ar(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};E4(o)||(d={...d,...C4(e,d)}),d.duration&&(d.duration=Ar(d.duration)),d.repeatDelay&&(d.repeatDelay=Ar(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Dc(d.keyframes,o);if(f!==void 0)return Ee.update(()=>{d.onUpdate(f),d.onComplete()}),new qP([])}return!i&&qg.supports(d)?new qg(d):new sm(d)};function T4({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Xw(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;n&&(a=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),m=c[h];if(m===void 0||d&&T4(d,h))continue;const y={delay:r,...Hf(a||{},h)};let x=!1;if(window.MotionHandoffAnimation){const g=kw(e);if(g){const p=window.MotionHandoffAnimation(g,h,Ee);p!==null&&(y.startTime=p,x=!0)}}Jd(e,h),f.start(im(h,f,m,e.shouldReduceMotion&&bw.has(h)?{type:!1}:y,e,x));const b=f.animation;b&&u.push(b)}return o&&Promise.all(u).then(()=>{Ee.update(()=>{o&&lR(e,o)})}),u}function nh(e,t,r={}){var n;const s=Ic(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(Xw(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return P4(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function P4(e,t,r=0,n=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort(R4).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(nh(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function R4(e,t){return e.sortNodePosition(t)}function A4(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>nh(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=nh(e,t,r);else{const s=typeof t=="function"?Ic(e,t,r.custom):t;n=Promise.all(Xw(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const M4=Af.length;function Zw(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Zw(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<M4;r++){const n=Af[r],s=e.props[n];(Da(s)||s===!1)&&(t[n]=s)}return t}const I4=[...Rf].reverse(),D4=Rf.length;function L4(e){return t=>Promise.all(t.map(({animation:r,options:n})=>A4(e,r,n)))}function O4(e){let t=L4(e),r=Yg(),n=!0;const s=c=>(u,d)=>{var h;const f=Ic(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...x}=f;u={...u,...x,...y}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=Zw(e.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let b=0;b<D4;b++){const g=I4[b],p=r[g],v=u[g]!==void 0?u[g]:d[g],j=Da(v),k=g===c?p.isActive:null;k===!1&&(y=b);let T=v===d[g]&&v!==u[g]&&j;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),p.protectedKeys={...m},!p.isActive&&k===null||!v&&!p.prevProp||Ac(v)||typeof v=="boolean")continue;const _=F4(p.prevProp,v);let E=_||g===c&&p.isActive&&!T&&j||b>y&&j,C=!1;const R=Array.isArray(v)?v:[v];let D=R.reduce(s(g),{});k===!1&&(D={});const{prevResolvedValues:L={}}=p,de={...L,...D},fe=Q=>{E=!0,f.has(Q)&&(C=!0,f.delete(Q)),p.needsAnimating[Q]=!0;const A=e.getValue(Q);A&&(A.liveStyle=!1)};for(const Q in de){const A=D[Q],F=L[Q];if(m.hasOwnProperty(Q))continue;let U=!1;Kd(A)&&Kd(F)?U=!hw(A,F):U=A!==F,U?A!=null?fe(Q):f.add(Q):A!==void 0&&f.has(Q)?fe(Q):p.protectedKeys[Q]=!0}p.prevProp=v,p.prevResolvedValues=D,p.isActive&&(m={...m,...D}),n&&e.blockInitialAnimation&&(E=!1),E&&(!(T&&_)||C)&&h.push(...R.map(Q=>({animation:Q,options:{type:g}})))}if(f.size){const b={};f.forEach(g=>{const p=e.getBaseTarget(g),v=e.getValue(g);v&&(v.liveStyle=!0),b[g]=p??null}),h.push({animation:b})}let x=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function o(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const h=a(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Yg(),n=!0}}}function F4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hw(t,e):!1}function Dn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yg(){return{animate:Dn(!0),whileInView:Dn(),whileHover:Dn(),whileTap:Dn(),whileDrag:Dn(),whileFocus:Dn(),exit:Dn()}}class En{constructor(t){this.isMounted=!1,this.node=t}update(){}}class $4 extends En{constructor(t){super(t),t.animationState||(t.animationState=O4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ac(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let z4=0;class U4 extends En{constructor(){super(...arguments),this.id=z4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const V4={animation:{Feature:$4},exit:{Feature:U4}};function $a(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function io(e){return{point:{x:e.pageX,y:e.pageY}}}const B4=e=>t=>Kf(t)&&e(t,io(t));function la(e,t,r,n){return $a(e,t,B4(r),n)}const Jg=(e,t)=>Math.abs(e-t);function H4(e,t){const r=Jg(e.x,t.x),n=Jg(e.y,t.y);return Math.sqrt(r**2+n**2)}class e1{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Iu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=H4(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:x}=Xe;this.history.push({...y,timestamp:x});const{onStart:b,onMove:g}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Mu(f,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Iu(h.type==="pointercancel"?this.lastMoveEventInfo:Mu(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),y&&y(h,b)},!Kf(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=io(t),o=Mu(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=Xe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Iu(o,this.history)),this.removeListeners=so(la(this.contextWindow,"pointermove",this.handlePointerMove),la(this.contextWindow,"pointerup",this.handlePointerUp),la(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function Mu(e,t){return t?{point:t(e.point)}:e}function Qg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Iu({point:e},t){return{point:e,delta:Qg(e,t1(t)),offset:Qg(e,G4(t)),velocity:W4(t,.1)}}function G4(e){return e[0]}function t1(e){return e[e.length-1]}function W4(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=t1(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Ar(t)));)r--;if(!n)return{x:0,y:0};const i=Mr(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const r1=1e-4,K4=1-r1,q4=1+r1,n1=.01,Y4=0-n1,J4=0+n1;function Rt(e){return e.max-e.min}function Q4(e,t,r){return Math.abs(e-t)<=r}function Xg(e,t,r,n=.5){e.origin=n,e.originPoint=Re(t.min,t.max,e.origin),e.scale=Rt(r)/Rt(t),e.translate=Re(r.min,r.max,e.origin)-e.originPoint,(e.scale>=K4&&e.scale<=q4||isNaN(e.scale))&&(e.scale=1),(e.translate>=Y4&&e.translate<=J4||isNaN(e.translate))&&(e.translate=0)}function ca(e,t,r,n){Xg(e.x,t.x,r.x,n?n.originX:void 0),Xg(e.y,t.y,r.y,n?n.originY:void 0)}function Zg(e,t,r){e.min=r.min+t.min,e.max=e.min+Rt(t)}function X4(e,t,r){Zg(e.x,t.x,r.x),Zg(e.y,t.y,r.y)}function e0(e,t,r){e.min=t.min-r.min,e.max=e.min+Rt(t)}function ua(e,t,r){e0(e.x,t.x,r.x),e0(e.y,t.y,r.y)}function Z4(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Re(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Re(r,e,n.max):Math.min(e,r)),e}function t0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function eA(e,{top:t,left:r,bottom:n,right:s}){return{x:t0(e.x,r,s),y:t0(e.y,t,n)}}function r0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function tA(e,t){return{x:r0(e.x,t.x),y:r0(e.y,t.y)}}function rA(e,t){let r=.5;const n=Rt(e),s=Rt(t);return s>n?r=li(t.min,t.max-n,e.min):n>s&&(r=li(e.min,e.max-s,t.min)),Fr(0,1,r)}function nA(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const sh=.35;function sA(e=sh){return e===!1?e=0:e===!0&&(e=sh),{x:n0(e,"left","right"),y:n0(e,"top","bottom")}}function n0(e,t,r){return{min:s0(e,t),max:s0(e,r)}}function s0(e,t){return typeof e=="number"?e:e[t]||0}const i0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fs=()=>({x:i0(),y:i0()}),a0=()=>({min:0,max:0}),Fe=()=>({x:a0(),y:a0()});function Dt(e){return[e("x"),e("y")]}function s1({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function iA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function aA(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Du(e){return e===void 0||e===1}function ih({scale:e,scaleX:t,scaleY:r}){return!Du(e)||!Du(t)||!Du(r)}function $n(e){return ih(e)||i1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function i1(e){return o0(e.x)||o0(e.y)}function o0(e){return e&&e!=="0%"}function Yl(e,t,r){const n=e-r,s=t*n;return r+s}function l0(e,t,r,n,s){return s!==void 0&&(e=Yl(e,s,n)),Yl(e,r,n)+t}function ah(e,t=0,r=1,n,s){e.min=l0(e.min,t,r,n,s),e.max=l0(e.max,t,r,n,s)}function a1(e,{x:t,y:r}){ah(e.x,t.translate,t.scale,t.originPoint),ah(e.y,r.translate,r.scale,r.originPoint)}const c0=.999999999999,u0=1.0000000000001;function oA(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,a1(e,a)),n&&$n(i.latestValues)&&zs(e,i.latestValues))}t.x<u0&&t.x>c0&&(t.x=1),t.y<u0&&t.y>c0&&(t.y=1)}function $s(e,t){e.min=e.min+t,e.max=e.max+t}function d0(e,t,r,n,s=.5){const i=Re(e.min,e.max,s);ah(e,t,r,i,n)}function zs(e,t){d0(e.x,t.x,t.scaleX,t.scale,t.originX),d0(e.y,t.y,t.scaleY,t.scale,t.originY)}function o1(e,t){return s1(aA(e.getBoundingClientRect(),t))}function lA(e,t,r){const n=o1(e,r),{scroll:s}=t;return s&&($s(n.x,s.offset.x),$s(n.y,s.offset.y)),n}const l1=({current:e})=>e?e.ownerDocument.defaultView:null,cA=new WeakMap;class uA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(io(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nR(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dt(b=>{let g=this.getAxisMotionValue(b).get()||0;if(gr.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const v=p.layout.layoutBox[b];v&&(g=Rt(v)*(parseFloat(g)/100))}}this.originPoint[b]=g}),y&&Ee.postRender(()=>y(d,h)),Jd(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=dA(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(d,h)},o=(d,h)=>this.stop(d,h),c=()=>Dt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new e1(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:l1(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ee.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Vo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=Z4(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Ls(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=eA(s.layoutBox,r):this.constraints=!1,this.elastic=sA(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Dt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=nA(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ls(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=lA(n,s.root,this.visualElement.getTransformPagePoint());let a=tA(s.layout.layoutBox,i);if(r){const o=r(iA(a));this.hasMutatedConstraints=!!o,o&&(a=s1(o))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Dt(d=>{if(!Vo(d,r,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Jd(this.visualElement,t),n.start(im(t,n,0,r,this.visualElement,!1))}stopAnimation(){Dt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Dt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Dt(r=>{const{drag:n}=this.getProps();if(!Vo(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(t[r]-Re(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ls(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Dt(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=rA({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Dt(a=>{if(!Vo(a,t,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(Re(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;cA.set(this.visualElement,this);const t=this.visualElement.current,r=la(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ls(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ee.read(n);const a=$a(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Dt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=sh,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Vo(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function dA(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class hA extends En{constructor(t){super(t),this.removeGroupControls=Tt,this.removeListeners=Tt,this.controls=new uA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const h0=e=>(t,r)=>{e&&Ee.postRender(()=>e(t,r))};class fA extends En{constructor(){super(...arguments),this.removePointerDownListener=Tt}onPointerDown(t){this.session=new e1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:l1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:h0(t),onStart:h0(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&Ee.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=la(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Oi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(X.test(e))e=parseFloat(e);else return e;const r=f0(e,t.target.x),n=f0(e,t.target.y);return`${r}% ${n}%`}},mA={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=kn.parse(e);if(s.length>5)return n;const i=kn.createTransformer(e),a=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=o,s[1+a]/=c;const u=Re(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class pA extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;LP(gA),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ee.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),If.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function c1(e){const[t,r]=Wb(),n=w.useContext(Nf);return l.jsx(pA,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(Zb),isPresent:t,safeToRemove:r})}const gA={borderRadius:{...Oi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oi,borderTopRightRadius:Oi,borderBottomLeftRadius:Oi,borderBottomRightRadius:Oi,boxShadow:mA};function yA(e,t,r){const n=ot(e)?e:Oa(e);return n.start(im("",n,t,r)),n.animation}function vA(e){return e instanceof SVGElement&&e.tagName!=="svg"}const xA=(e,t)=>e.depth-t.depth;class bA{constructor(){this.children=[],this.isDirty=!1}add(t){qf(this.children,t),this.isDirty=!0}remove(t){Yf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(xA),this.isDirty=!1,this.children.forEach(t)}}function wA(e,t){const r=yr.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(wn(n),e(i-t))};return Ee.read(n,!0),()=>wn(n)}const u1=["TopLeft","TopRight","BottomLeft","BottomRight"],kA=u1.length,m0=e=>typeof e=="string"?parseFloat(e):e,p0=e=>typeof e=="number"||X.test(e);function jA(e,t,r,n,s,i){s?(e.opacity=Re(0,r.opacity!==void 0?r.opacity:1,_A(n)),e.opacityExit=Re(t.opacity!==void 0?t.opacity:1,0,SA(n))):i&&(e.opacity=Re(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<kA;a++){const o=`border${u1[a]}Radius`;let c=g0(t,o),u=g0(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||p0(c)===p0(u)?(e[o]=Math.max(Re(m0(c),m0(u),n),0),(gr.test(u)||gr.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=Re(t.rotate||0,r.rotate||0,n))}function g0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _A=d1(0,.5,Tw),SA=d1(.5,.95,Tt);function d1(e,t,r){return n=>n<e?0:n>t?1:r(li(e,t,n))}function y0(e,t){e.min=t.min,e.max=t.max}function It(e,t){y0(e.x,t.x),y0(e.y,t.y)}function v0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function x0(e,t,r,n,s){return e-=t,e=Yl(e,1/r,n),s!==void 0&&(e=Yl(e,1/s,n)),e}function NA(e,t=0,r=1,n=.5,s,i=e,a=e){if(gr.test(t)&&(t=parseFloat(t),t=Re(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Re(i.min,i.max,n);e===i&&(o-=t),e.min=x0(e.min,t,r,o,s),e.max=x0(e.max,t,r,o,s)}function b0(e,t,[r,n,s],i,a){NA(e,t[r],t[n],t[s],t.scale,i,a)}const CA=["x","scaleX","originX"],EA=["y","scaleY","originY"];function w0(e,t,r,n){b0(e.x,t,CA,r?r.x:void 0,n?n.x:void 0),b0(e.y,t,EA,r?r.y:void 0,n?n.y:void 0)}function k0(e){return e.translate===0&&e.scale===1}function h1(e){return k0(e.x)&&k0(e.y)}function j0(e,t){return e.min===t.min&&e.max===t.max}function TA(e,t){return j0(e.x,t.x)&&j0(e.y,t.y)}function _0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function f1(e,t){return _0(e.x,t.x)&&_0(e.y,t.y)}function S0(e){return Rt(e.x)/Rt(e.y)}function N0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class PA{constructor(){this.members=[]}add(t){qf(this.members,t),t.scheduleRender()}remove(t){if(Yf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RA(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const zn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},qi=typeof window<"u"&&window.MotionDebug!==void 0,Lu=["","X","Y","Z"],AA={visibility:"hidden"},C0=1e3;let MA=0;function Ou(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function m1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=kw(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ee,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&m1(n)}function p1({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=MA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qi&&(zn.totalNodes=zn.resolvedTargetDeltas=zn.recalculatedProjection=0),this.nodes.forEach(LA),this.nodes.forEach(UA),this.nodes.forEach(VA),this.nodes.forEach(OA),qi&&window.MotionDebug.record(zn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new bA)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Jf),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vA(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=wA(f,250),ll.hasAnimatedSinceResize&&(ll.hasAnimatedSinceResize=!1,this.nodes.forEach(T0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||KA,{onLayoutAnimationStart:b,onLayoutAnimationComplete:g}=d.getProps(),p=!this.targetLayout||!f1(this.targetLayout,y)||m,v=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const j={...Hf(x,"layout"),onPlay:b,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||T0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BA),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E0);return}this.isUpdating||this.nodes.forEach($A),this.isUpdating=!1,this.nodes.forEach(zA),this.nodes.forEach(IA),this.nodes.forEach(DA),this.clearAllSnapshots();const o=yr.now();Xe.delta=Fr(0,1e3/60,o-Xe.timestamp),Xe.timestamp=o,Xe.isProcessing=!0,Cu.update.process(Xe),Cu.preRender.process(Xe),Cu.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,If.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FA),this.sharedNodes.forEach(HA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!h1(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||$n(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),qA(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Fe();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(YA))){const{scroll:d}=this.root;d&&($s(c.x,d.offset.x),$s(c.y,d.offset.y))}return c}removeElementScroll(a){var o;const c=Fe();if(It(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&It(c,a),$s(c.x,h.offset.x),$s(c.y,h.offset.y))}return c}applyTransform(a,o=!1){const c=Fe();It(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&zs(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$n(d.latestValues)&&zs(c,d.latestValues)}return $n(this.latestValues)&&zs(c,this.latestValues),c}removeTransform(a){const o=Fe();It(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!$n(u.latestValues))continue;ih(u.latestValues)&&u.updateSnapshot();const d=Fe(),h=u.measurePageBox();It(d,h),w0(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return $n(this.latestValues)&&w0(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),ua(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),X4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):It(this.target,this.layout.layoutBox),a1(this.target,this.targetDelta)):It(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),ua(this.relativeTargetOrigin,this.target,m.target),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qi&&zn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ih(this.parent.latestValues)||i1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;It(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;oA(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fe());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v0(this.prevProjectionDelta.x,this.projectionDelta.x),v0(this.prevProjectionDelta.y,this.projectionDelta.y)),ca(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!N0(this.projectionDelta.x,this.prevProjectionDelta.x)||!N0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),qi&&zn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fs(),this.projectionDelta=Fs(),this.projectionDeltaWithTransform=Fs()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Fs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Fe(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,b=this.getStack(),g=!b||b.members.length<=1,p=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(WA));this.animationProgress=0;let v;this.mixTargetDelta=j=>{const k=j/1e3;P0(h.x,a.x,k),P0(h.y,a.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ua(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GA(this.relativeTarget,this.relativeTargetOrigin,f,k),v&&TA(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Fe()),It(v,this.relativeTarget)),x&&(this.animationValues=d,jA(d,u,this.latestValues,k,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{ll.hasAnimatedSinceResize=!0,this.currentAnimation=yA(0,C0,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&g1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Fe();const h=Rt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Rt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}It(o,c),zs(o,d),ca(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new PA),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&Ou("z",a,u,this.animationValues);for(let d=0;d<Lu.length;d++)Ou(`rotate${Lu[d]}`,a,u,this.animationValues),Ou(`skew${Lu[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return AA;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=al(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=al(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!$n(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=RA(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Hl){if(f[x]===void 0)continue;const{correct:b,applyTo:g}=Hl[x],p=u.transform==="none"?f[x]:b(f[x],h);if(g){const v=g.length;for(let j=0;j<v;j++)u[g[j]]=p}else u[x]=p}return this.options.layoutId&&(u.pointerEvents=h===this?al(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(E0),this.root.sharedNodes.clear()}}}function IA(e){e.updateLayout()}function DA(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=r.source!==e.layout.source;i==="size"?Dt(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],m=Rt(f);f.min=n[h].min,f.max=f.min+m}):g1(i,r.layoutBox,n)&&Dt(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],m=Rt(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const o=Fs();ca(o,n,r.layoutBox);const c=Fs();a?ca(c,e.applyTransform(s,!0),r.measuredBox):ca(c,n,r.layoutBox);const u=!h1(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=Fe();ua(y,r.layoutBox,f.layoutBox);const x=Fe();ua(x,n,m.layoutBox),f1(y,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function LA(e){qi&&zn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function OA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function FA(e){e.clearSnapshot()}function E0(e){e.clearMeasurements()}function $A(e){e.isLayoutDirty=!1}function zA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function T0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function UA(e){e.resolveTargetDelta()}function VA(e){e.calcProjection()}function BA(e){e.resetSkewAndRotation()}function HA(e){e.removeLeadSnapshot()}function P0(e,t,r){e.translate=Re(t.translate,0,r),e.scale=Re(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function R0(e,t,r,n){e.min=Re(t.min,r.min,n),e.max=Re(t.max,r.max,n)}function GA(e,t,r,n){R0(e.x,t.x,r.x,n),R0(e.y,t.y,r.y,n)}function WA(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const KA={duration:.45,ease:[.4,0,.1,1]},A0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),M0=A0("applewebkit/")&&!A0("chrome/")?Math.round:Tt;function I0(e){e.min=M0(e.min),e.max=M0(e.max)}function qA(e){I0(e.x),I0(e.y)}function g1(e,t,r){return e==="position"||e==="preserve-aspect"&&!Q4(S0(t),S0(r),.2)}function YA(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const JA=p1({attachResizeListener:(e,t)=>$a(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fu={current:void 0},y1=p1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fu.current){const e=new JA({});e.mount(window),e.setOptions({layoutScroll:!0}),Fu.current=e}return Fu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),QA={pan:{Feature:fA},drag:{Feature:hA,ProjectionNode:y1,MeasureLayout:c1}};function D0(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Ee.postRender(()=>i(t,io(t)))}class XA extends En{mount(){const{current:t}=this.node;t&&(this.unmount=XP(t,r=>(D0(this.node,r,"Start"),n=>D0(this.node,n,"End"))))}unmount(){}}class ZA extends En{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=so($a(this.node.current,"focus",()=>this.onFocus()),$a(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function L0(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Ee.postRender(()=>i(t,io(t)))}class e5 extends En{mount(){const{current:t}=this.node;t&&(this.unmount=rR(t,r=>(L0(this.node,r,"Start"),(n,{success:s})=>L0(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oh=new WeakMap,$u=new WeakMap,t5=e=>{const t=oh.get(e.target);t&&t(e)},r5=e=>{e.forEach(t5)};function n5({root:e,...t}){const r=e||document;$u.has(r)||$u.set(r,{});const n=$u.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(r5,{root:e,...t})),n[s]}function s5(e,t,r){const n=n5(t);return oh.set(e,r),n.observe(e),()=>{oh.delete(e),n.unobserve(e)}}const i5={some:0,all:1};class a5 extends En{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:i5[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return s5(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(o5(t,r))&&this.startObserver()}unmount(){}}function o5({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const l5={inView:{Feature:a5},tap:{Feature:e5},focus:{Feature:ZA},hover:{Feature:XA}},c5={layout:{ProjectionNode:y1,MeasureLayout:c1}},lh={current:null},v1={current:!1};function u5(){if(v1.current=!0,!!Tf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lh.current=e.matches;e.addListener(t),t()}else lh.current=!1}const d5=[...Bw,st,kn],h5=e=>d5.find(Vw(e)),O0=new WeakMap;function f5(e,t,r){for(const n in t){const s=t[n],i=r[n];if(ot(s))e.addValue(n,s);else if(ot(i))e.addValue(n,Oa(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,Oa(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const F0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class m5{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=yr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ee.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Mc(r),this.isVariantNode=Qb(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const y=f[m];c[m]!==void 0&&ot(y)&&y.set(c[m],!1)}}mount(t){this.current=t,O0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),v1.current||u5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){O0.delete(this.current),this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ds.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ee.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ci){const r=ci[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<F0.length;n++){const s=F0[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=f5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Oa(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(zw(s)||Rw(s))?s=parseFloat(s):!h5(s)&&kn.test(r)&&(s=Ow(t,r)),this.setBaseTarget(t,ot(s)?s.get():s)),ot(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=Lf(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ot(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Jf),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class x1 extends m5{constructor(){super(...arguments),this.KeyframeResolver=Hw}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ot(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function p5(e){return window.getComputedStyle(e)}class g5 extends x1{constructor(){super(...arguments),this.type="html",this.renderInstance=aw}readValueFromInstance(t,r){if(ds.has(r)){const n=tm(r);return n&&n.default||0}else{const n=p5(t),s=(nw(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return o1(t,r)}build(t,r,n){$f(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Bf(t,r,n)}}class y5 extends x1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ds.has(r)){const n=tm(r);return n&&n.default||0}return r=ow.has(r)?r:Mf(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return uw(t,r,n)}build(t,r,n){zf(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){lw(t,r,n,s)}mount(t){this.isSVGTag=Vf(t.tagName),super.mount(t)}}const v5=(e,t)=>Df(e)?new y5(t):new g5(t,{allowProjection:e!==w.Fragment}),x5=GP({...V4,...l5,...QA,...c5},v5),oe=aP(x5),Lc=zr()(Qa(e=>({theme:"system",language:"pt",setTheme:t=>e({theme:t}),setLanguage:t=>e({language:t})}),{name:"settings"})),b5={en:{common:{forgotPassword:"Forgot my password",selected:"Selected",search:"Search for recipes...",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",profile:"Profile",darkMode:"Dark Mode",language:"Language",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",remove:"Remove",edit:"Edit",back:"Back",settings:"Settings",createaccount:"Create Account",dontHaveAccount:"Don't have an account? ",alreadyHaveAccount:"Already have an account? ",theme:{light:"Light",dark:"Dark",system:"System"},close:"Close"},buttons:{BackToRecipes:"Back to Recipes",My_recipes:"My recipes",Favorites:"Favorites",Nutrition_goal:"Nutrition Goals",findNutritionists:"Find Nutritionists"},labels:{time:"Time",rating:"Rating",level:"Level",aiMentoring:"AI Mentoring",premium:"Premium",activeGoals:"Active Goals",unlimitedAccess:"Unlimited access"},filters:{advanced:"Advanced Filters",minRating:"Minimum Rating",clearAll:"Clear All Filters",prepTime:{quick:"Quick (15 min)",medium:"Medium (30 min)",long:"Long (>30 min)"}},home:{title:"Discover Healthy Recipes",subtitle:"Find and share nutritious recipes that match your dietary preferences.",createRecipe:"Create Recipe",noRecipes:"No recipes found. Try adjusting your filters, or log in to see more."},profile:{title:"My profile",subtitle:"View your personal information, goals, and activity within the platform.",overviewClient:"My activity",overviewClientDescription:"Track your favorites, goals, and the impact of your daily choices.",overviewNutritionist:"My activity",overviewNutritionistDescription:"See the performance of your recipes, client reviews, and your presence on the platform.",myRecipes:"My Recipes",favorites:"Favorites",nutritionGoals:"Nutrition Goals",settings:"Settings",noRecipesYet:"You haven't published any recipes yet.",noFavorites:"You haven't saved any recipes as favorites yet.",statistics:"Statistics",publishedRecipes:"Published Recipes",totalReviews:"Total Reviews",averageRating:"Average Rating",experience:"Experience",healthGoals:"Health Goals",dietaryPreferences:"Dietary Preferences",allergies:"Allergies",dailyGoals:"Daily Goals",viewDiaryAndGoals:"View diary & goals",remaining:"Remaining",progressBasedOnDiary:"Progress is calculated from what you log in your food diary.",diaryTitle:"Food diary",addToDiary:"Add to diary",addToDiaryHelper:"Log this recipe to track your daily goals.",loggedToDiary:"Added to diary.",clearDay:"Clear",clearDiaryConfirm:"Clear this days diary?",diaryCleared:"Diary cleared.",todayProgress:"Day progress",loggedMeals:"Entries",items:"items",noDiaryEntries:"No entries for this day yet.",chooseRecipe:"Choose a recipe...",servings:"Servings",perServing:"serving",perServingHint:"Nutrition values are multiplied by servings.",confirmAdd:"Add",entryRemoved:"Entry removed.",pickARecipe:"Pick a recipe first.",date:"Date",recentFavorites:"Recent Favorites",activeGoalsLabel:"Active goals",trackedDays:"Tracked days",personalInfo:"Personal Information",accountType:"Account Type",email:"Email",name:"Name",password:"Password",nutricionist:"Nutritionist",client:"Client",clientPremium:"Premium Client",saveGoals:"Save goals",nutritionGoalsnames:{calories:"Calories",protein:"Protein",carbs:"Carbs",fat:"Fat",fiber:"Fiber"}},categories:{all:"All",vegan:"Vegan",lowCarb:"Low Carb",highProtein:"High Protein",glutenFree:"Gluten Free",vegetarian:"Vegetarian"},recipe:{recipeTitle:"Title",recipeImageURL:"Image URL",recipeDescription:"Description",prepTime:"Preparation Time",difficulty:"Difficulty",recipeCategory:"Category",ingredients:"Ingredients",instructions:"Instructions",nutritionFacts:"Nutrition Facts (Per Serving)",reviews:"Notes and ratings",writeReview:"Write your review...",submitReview:"Submit Review",signInToReview:"Please sign in to leave a review.",addIngredient:"Add Ingredient",addStep:"Add Step",step:"Step",Step:"Step",example:'"2 cups flour"',perServing:"per serving",deleteConfirm:"Are you sure you want to delete this recipe?",share:"Share Recipe",edit:"Edit Recipe",delete:"Delete Recipe",difficultyLevels:{easy:"Easy",medium:"Medium",hard:"Hard"},CreateNewRecipe:"Create new recipe",CreateRecipe:"Create recipe",rating:"Rating",noReviews:"No reviews",details:"Recipe details",recipe:"Recipe",author:"Author",authorFallbackName:"User",postedOn:"Posted on",reviewSingular:"review",reviewPlural:"reviews",deleteReviewConfirm:"Are you sure you want to delete this review?",addReviewTitle:"Add review",editReviewTitle:"Edit review"},aiChat:{welcomeTitle:"Welcome to AI Mentoring!",welcomeDescription:"Your intelligent nutrition assistant is ready to help with recipes, nutrition tips, how to use the platform and much more. Start a conversation now!",limitedModeNoticeTitle:"Notice:",limitedModeNoticeBody:"The AI is currently running in limited mode. For the full experience, configure the Gemini API key.",examples:{recipesTitle:" Recipes",recipesExample:'"Show me healthy cake recipes"',tipsTitle:" Tips",tipsExample:'"How can I improve my diet?"',helpTitle:" Help",helpExample:'"How do I save recipes to favorites?"'},startConversationButton:"Start conversation",headerSubtitle:"Nutrition assistant  Online",typing:"Typing...",inputPlaceholder:"Type your question about nutrition...",disclaimer:"AI can make mistakes. Always consult your nutritionist for personalized guidance.",limitedModeSuffix:"  Running in limited mode."},premium:{title:"Unlock AI Mentoring",descriptionPrefix:"To get unlimited access to our AI Mentoring and other exclusive features, subscribe to our ",planName:"Premium Plan",descriptionSuffix:"!",perMonthLabel:"month",features:{mentoringUnlimitedTitle:"Unlimited AI mentoring",mentoringUnlimitedDescription:"24/7 chat with a nutrition-focused AI assistant.",personalizedConsultationsTitle:"Personalized consultations",personalizedConsultationsDescription:"AI configured and guided by your nutritionist.",smartRecommendationsTitle:"Smart recommendations",smartRecommendationsDescription:"Recipe suggestions tailored to your profile.",prioritySupportTitle:"Priority support",prioritySupportDescription:"Fast and specialized support whenever you need it."},benefits:{accessNutritionists:"Access to certified nutritionists",whatsappDirect:"Direct WhatsApp contact with nutritionists",personalizedGoals:"Personalized goals and periodization",mealPlans:"Meal plans adjusted to your profile",weeklyFollowup:"Weekly follow-up and continuous adjustments",progressReports:"Progress reports with charts",premiumRecipes:"Exclusive premium recipes",vipCommunity:"VIP community and monthly challenges"},ctaSubscribe:"Subscribe to Premium Plan",ctaLoading:"Starting...",footerNote:"Cancel anytime  No commitment  24/7 support",loginRequired:"Sign in to subscribe",loadPlansError:"Error loading plans",checkoutErrorGeneric:"Unable to start checkout"},nutritionists:{title:"Find Your Nutritionist",subtitle:"Connect with certified nutrition professionals",noNutritionists:"No nutritionists found",viewProfile:"View Profile",contact:"Contact",acceptingClients:"Accepting new clients",notAcceptingClients:"Not accepting new clients",specializations:{title:"Specializations",sports:"Sports Nutrition",clinical:"Clinical Nutrition",weightLoss:"Weight Loss",womensHealth:"Women's Health",pediatric:"Pediatric Nutrition",geriatric:"Geriatric Nutrition",vegetarian:"Vegetarian/Vegan",diabetes:"Diabetes Management",cardiovascular:"Cardiovascular Health",gastrointestinal:"Gastrointestinal Health"},profile:{about:"About",education:"Education",certifications:"Certifications",approach:"Professional Approach",experience:"Years of Experience",consultationInfo:"Consultation Information",price:"Price",duration:"Duration",minutes:"minutes",consultationTypes:"Consultation Types",online:"Online",inPerson:"In-Person",acceptsInsurance:"Accepts Health Insurance",insurances:"Accepted Insurances",contactInfo:"Contact Information",phone:"Phone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Website",address:"Clinic Address",publishedRecipes:"Published Recipes",averageRating:"Average Rating"},editProfile:{title:"Professional Profile",subtitle:"Manage your professional information",basicInfo:"Basic Information",professionalInfo:"Professional Information",consultationSettings:"Consultation Settings",contactInfo:"Contact Information",visibility:"Profile Visibility",public:"Public",private:"Private",save:"Save Changes",saved:"Great! Your professional profile has been updated successfully.",error:"Oops! We couldn't save your changes. Please check your connection and try again.",fields:{bio:"Professional Bio",bioPlaceholder:"Tell clients about your experience and approach...",specializations:"Specializations",specializationsPlaceholder:"Select your specializations",education:"Education",educationPlaceholder:"Your degree and academic background",certifications:"Certifications",certificationsPlaceholder:"Additional certifications (one per line)",yearsOfExperience:"Years of Experience",approach:"Professional Approach",approachPlaceholder:"Describe your working philosophy and methodology...",consultationPrice:"Consultation Price",consultationDuration:"Duration (minutes)",acceptsInsurance:"Accepts Health Insurance",insurances:"Accepted Insurances",insurancesPlaceholder:"List accepted insurances (one per line)",phone:"Phone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Website",address:"Clinic Address",acceptingClients:"Accepting New Clients"}}}},pt:{common:{forgotPassword:"Esqueci minha senha",selected:"Selecionado",search:"Buscar receitas...",signIn:"Entrar",signUp:"Cadastrar",signOut:"Sair",profile:"Perfil",darkMode:"Modo Escuro",language:"Idioma",loading:"Carregando...",save:"Salvar",cancel:"Cancelar",close:"Fechar",delete:"Excluir",remove:"Remover",edit:"Editar",back:"Voltar",settings:"Configuraes",createaccount:"Criar conta",dontHaveAccount:"No tem uma conta? ",alreadyHaveAccount:"J tem uma conta? ",theme:{light:"Claro",dark:"Escuro",system:"Sistema"}},buttons:{BackToRecipes:"Voltar para as receitas",My_recipes:"Minhas receitas",Favorites:"Favoritos",Nutrition_goal:"Metas Nutricionais",findNutritionists:"Encontrar Nutricionistas"},labels:{time:"Tempo",rating:"Avaliao",level:"Nvel",aiMentoring:"Mentoria IA",premium:"Premium",activeGoals:"Metas Ativas",unlimitedAccess:"Acesso ilimitado"},filters:{advanced:"Filtros Avanados",minRating:"Avaliao Mnima",clearAll:"Limpar Todos os Filtros",prepTime:{quick:"Rpido (15 min)",medium:"Mdio (30 min)",long:"Longo (>30 min)"}},home:{title:"Descubra Receitas Saudveis",subtitle:"Encontre e compartilhe receitas nutritivas que combinam com suas preferncias alimentares.",createRecipe:"Criar Receita",noRecipes:"Nenhuma receita encontrada. Tente ajustar seus filtros ou faa login para ver mais."},profile:{title:"Meu perfil",subtitle:"Veja suas informaes pessoais, metas e atividades dentro da plataforma.",overviewClient:"Minha atividade",overviewClientDescription:"Acompanhe seus favoritos, metas e impacto das suas escolhas no dia a dia.",overviewNutritionist:"Minha atividade",overviewNutritionistDescription:"Veja o desempenho das suas receitas, avaliaes dos clientes e sua presena na plataforma.",myRecipes:"Minhas Receitas",favorites:"Favoritos",nutritionGoals:"Metas Nutricionais",settings:"Configuraes",noRecipesYet:"Voc ainda no publicou nenhuma receita.",noFavorites:"Voc ainda no salvou nenhuma receita como favorita.",statistics:"Estatsticas",publishedRecipes:"Receitas Publicadas",totalReviews:"Total de Avaliaes",averageRating:"Avaliao Mdia",experience:"Experincia",healthGoals:"Objetivos de Sade",dietaryPreferences:"Preferncias Alimentares",allergies:"Alergias",dailyGoals:"Metas Dirias",recentFavorites:"Favoritos Recentes",personalInfo:"Informaes Pessoais",accountType:"Tipo de Conta",email:"Email",name:"Nome completo",password:"Senha",nutricionist:"Nutricionista",client:"Cliente",clientPremium:"Cliente Premium",saveGoals:"Salvar metas",nutritionGoalsnames:{calories:"Calorias",protein:"Protena",carbs:"Carboidratos",fat:"Gordura",fiber:"Fibra"},viewDiaryAndGoals:"Ver dirio e metas",remaining:"Restante",progressBasedOnDiary:"O progresso  calculado com base no que voc registra no dirio alimentar.",diaryTitle:"Dirio alimentar",addToDiary:"Adicionar ao dirio",addToDiaryHelper:"Registre esta receita para acompanhar as metas.",loggedToDiary:"Adicionado ao dirio.",clearDay:"Limpar",clearDiaryConfirm:"Limpar o dirio deste dia?",diaryCleared:"Dirio limpo.",todayProgress:"Progresso do dia",loggedMeals:"Registros",items:"itens",noDiaryEntries:"Nenhum registro para este dia ainda.",chooseRecipe:"Escolha uma receita...",servings:"Pores",perServing:"poro",perServingHint:"Os valores nutricionais so multiplicados pelas pores.",confirmAdd:"Adicionar",entryRemoved:"Registro removido.",pickARecipe:"Escolha uma receita primeiro.",date:"Data",activeGoalsLabel:"Metas ativas",trackedDays:"Dias rastreados"},categories:{all:"Todas",vegan:"Vegana",lowCarb:"Baixo Carboidrato",highProtein:"Rica em Protena",glutenFree:"Sem Glten",vegetarian:"Vegetariana"},recipe:{recipeTitle:"Titulo",recipeImageURL:"URL da imagem",recipeDescription:"Descrio",prepTime:"Tempo de Preparo",difficulty:"Dificuldade",recipeCategory:"Categoria",ingredients:"Ingredientes",addIngredient:"Adicionar Ingrediente",instructions:"Modo de Preparo",addStep:"Adicionar Passo",step:"Passo a passo",Step:"Passo",example:"Exemplo: 2 xcaras de aucar",nutritionFacts:"Informao Nutricional (Por poro)",reviews:"Notas e avaliaes",writeReview:"Compartilhe sua opinio",submitReview:"Enviar Avaliao",signInToReview:"Faa login para deixar uma avaliao.",perServing:"por poro",deleteConfirm:"Tem certeza que deseja excluir esta receita?",share:"Compartilhar Receita",edit:"Editar Receita",delete:"Excluir Receita",difficultyLevels:{easy:"Fcil",medium:"Mdio",hard:"Difcil"},CreateNewRecipe:"Criar nova receita",CreateRecipe:"Criar receita",rating:"Classifique essa receita",noReviews:"Sem Avaliaes",details:"Detalhes da receita",recipe:"Receita",author:"Autor",authorFallbackName:"Usurio",postedOn:"Postado em",reviewSingular:"avaliao",reviewPlural:"avaliaes",deleteReviewConfirm:"Tem certeza que deseja excluir esta avaliao?",addReviewTitle:"Adicionar avaliao",editReviewTitle:"Editar avaliao"},aiChat:{welcomeTitle:"Bem-vindo  Mentoria IA!",welcomeDescription:"Sua assistente de nutrio inteligente est pronta para ajudar com receitas, dicas alimentares, uso da plataforma e muito mais. Inicie uma conversa agora!",limitedModeNoticeTitle:"Aviso:",limitedModeNoticeBody:"A IA est funcionando em modo limitado. Para uma experincia completa, configure a chave da API do Gemini.",examples:{recipesTitle:" Receitas",recipesExample:'"Me mostre receitas de bolo fit"',tipsTitle:" Dicas",tipsExample:'"Como posso melhorar minha alimentao?"',helpTitle:" Ajuda",helpExample:'"Como salvo receitas nos favoritos?"'},startConversationButton:"Iniciar conversa",headerSubtitle:"Assistente de Nutrio  Online",typing:"Digitando...",inputPlaceholder:"Digite sua pergunta sobre nutrio...",disclaimer:"A IA pode cometer erros. Sempre consulte seu nutricionista para orientaes personalizadas.",limitedModeSuffix:"  Funcionando em modo limitado."},premium:{title:"Desbloqueie a Mentoria IA",descriptionPrefix:"Para ter acesso ilimitado  nossa Mentoria IA e outras funcionalidades exclusivas, assine o nosso ",planName:"Plano Premium",descriptionSuffix:"!",perMonthLabel:"ms",features:{mentoringUnlimitedTitle:"Mentoria IA ilimitada",mentoringUnlimitedDescription:"Chat 24/7 com IA especializada em nutrio.",personalizedConsultationsTitle:"Consultas personalizadas",personalizedConsultationsDescription:"IA configurada e orientada pelo seu nutricionista.",smartRecommendationsTitle:"Recomendaes inteligentes",smartRecommendationsDescription:"Sugestes de receitas baseadas no seu perfil.",prioritySupportTitle:"Suporte prioritrio",prioritySupportDescription:"Atendimento rpido e especializado."},benefits:{accessNutritionists:"Acesso a nutricionistas certificados",whatsappDirect:"WhatsApp direto com nutricionistas",personalizedGoals:"Metas personalizadas e periodizao",mealPlans:"Planos alimentares ajustados ao seu perfil",weeklyFollowup:"Acompanhamento semanal e ajustes contnuos",progressReports:"Relatrios de progresso com grficos",premiumRecipes:"Receitas premium exclusivas",vipCommunity:"Comunidade VIP e desafios mensais"},ctaSubscribe:"Assinar Plano Premium",ctaLoading:"Iniciando...",footerNote:"Cancele a qualquer momento  Sem compromisso  Suporte 24/7",loginRequired:"Faa login para assinar",loadPlansError:"Erro ao carregar planos",checkoutErrorGeneric:"No foi possvel iniciar o checkout"},nutritionists:{title:"Encontre seu Nutricionista",subtitle:"Conecte-se com profissionais certificados em nutrio",noNutritionists:"Nenhum nutricionista encontrado",viewProfile:"Ver Perfil",contact:"Entrar em Contato",acceptingClients:"Aceitando novos clientes",notAcceptingClients:"No est aceitando novos clientes",specializations:{title:"Especializaes",sports:"Nutrio Esportiva",clinical:"Nutrio Clnica",weightLoss:"Emagrecimento",womensHealth:"Sade da Mulher",pediatric:"Nutrio Peditrica",geriatric:"Nutrio Geritrica",vegetarian:"Vegetariano/Vegano",diabetes:"Controle de Diabetes",cardiovascular:"Sade Cardiovascular",gastrointestinal:"Sade Gastrointestinal"},profile:{about:"Sobre",education:"Formao",certifications:"Certificaes",approach:"Abordagem Profissional",experience:"Anos de Experincia",consultationInfo:"Informaes de Consulta",price:"Valor",duration:"Durao",minutes:"minutos",consultationTypes:"Tipos de Atendimento",online:"Online",inPerson:"Presencial",acceptsInsurance:"Aceita Plano de Sade",insurances:"Planos Aceitos",contactInfo:"Informaes de Contato",phone:"Telefone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Site",address:"Endereo do Consultrio",publishedRecipes:"Receitas Publicadas",averageRating:"Avaliao Mdia"},editProfile:{title:"Perfil Profissional",subtitle:"Gerencie suas informaes profissionais",basicInfo:"Informaes Bsicas",professionalInfo:"Informaes Profissionais",consultationSettings:"Configuraes de Consulta",contactInfo:"Informaes de Contato",visibility:"Visibilidade do Perfil",public:"Pblico",private:"Privado",save:"Salvar Alteraes",saved:"timo! Seu perfil profissional foi atualizado com sucesso.",error:"Ops! No conseguimos salvar suas alteraes. Por favor, verifique sua conexo e tente novamente.",fields:{bio:"Biografia Profissional",bioPlaceholder:"Conte aos clientes sobre sua experincia e abordagem...",specializations:"Especializaes",specializationsPlaceholder:"Selecione suas especializaes",education:"Formao",educationPlaceholder:"Seu diploma e formao acadmica",certifications:"Certificaes",certificationsPlaceholder:"Certificaes adicionais (uma por linha)",yearsOfExperience:"Anos de Experincia",approach:"Abordagem Profissional",approachPlaceholder:"Descreva sua filosofia e metodologia de trabalho...",consultationPrice:"Valor da Consulta",consultationDuration:"Durao (minutos)",acceptsInsurance:"Aceita Plano de Sade",insurances:"Planos Aceitos",insurancesPlaceholder:"Liste os planos aceitos (um por linha)",phone:"Telefone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Site",address:"Endereo do Consultrio",acceptingClients:"Aceitando Novos Clientes"}}}}};function we(){const{language:e}=Lc();return b5[e]}function w5({isOpen:e,onClose:t}){const[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,o]=w.useState("email"),[c,u]=w.useState("");if(we(),!e)return null;const d=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y),h=async y=>{y.preventDefault();const x=r.toLowerCase().trim();if(!x){u("Por favor, digite seu email.");return}if(!d(x)){u("Por favor, digite um email vlido.");return}i(!0),u("");try{if(console.log("Starting password reset process for:",x),!await VT(x)){u("Email no encontrado. Verifique se o email est correto ou crie uma conta."),o("error");return}console.log("Email exists, sending reset email..."),await BT(x),console.log("Reset email sent successfully"),o("sent")}catch(b){console.error("Password reset error:",b);let g="Erro ao enviar email de recuperao. Tente novamente em alguns minutos.";b.message&&(g=b.message),u(g),o("error")}finally{i(!1)}},f=()=>{n(""),o("email"),u(""),i(!1),t()},m=()=>{o("email"),u(""),i(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[l.jsx("button",{onClick:f,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:s,children:l.jsx(Ut,{className:"w-6 h-6"})}),a==="email"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:l.jsx(ib,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Esqueci minha senha"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite seu email para receber o link de recuperao"})]})]}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:r,onChange:y=>n(y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"seu@email.com",required:!0,disabled:s,autoComplete:"email"})]}),c&&l.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c})}),l.jsxs("button",{type:"submit",disabled:s||!r.trim(),className:ee("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",s||!r.trim()?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[s&&l.jsx(ni,{className:"w-4 h-4 animate-spin"}),s?"Verificando...":"Enviar link de recuperao"]})]}),l.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:l.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[l.jsx("strong",{children:"Dica:"})," Verifique sua pasta de spam caso no receba o email em alguns minutos."]})})]}),a==="sent"&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:l.jsx(ns,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Email enviado!"}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Enviamos um link de recuperao para ",l.jsx("strong",{children:r}),". Verifique sua caixa de entrada e pasta de spam."]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:l.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[l.jsx("strong",{children:"Importante:"})," O link expira em 1 hora. Se no receber o email em alguns minutos, verifique sua pasta de spam ou tente novamente."]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:f,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Fechar"}),l.jsx("button",{onClick:m,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Enviar novamente"})]})]}),a==="error"&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:l.jsx(xc,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao enviar"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:c}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:m,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Tentar novamente"}),l.jsx("button",{onClick:f,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Fechar"})]})]})]})})}const $0="authMode@NutriChefe";function k5({isOpen:e,onClose:t,initialMode:r="signin"}){const[n,s]=w.useState(r),[i,a]=w.useState(""),[o,c]=w.useState(""),[u,d]=w.useState(""),[h,f]=w.useState("Client"),[m,y]=w.useState(!1),[x,b]=w.useState(!1),g=we(),{signIn:p,signUp:v}=Ge();w.useEffect(()=>{if(!e)return;let _=r;try{const E=localStorage.getItem($0);!r&&E&&(_=E)}catch{}s(_)},[e,r]),w.useEffect(()=>{try{localStorage.setItem($0,n)}catch{}},[n]);const j=n==="signup";if(!e)return null;const k=async _=>{_.preventDefault(),y(!0);try{n==="signin"?await p(i,o,u):await v(i,o,u,h),t()}catch(E){console.error("Auth error:",E)}finally{y(!1)}},T=()=>{b(!0)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"relative w-full max-w-md rounded-2xl bg-white/95 shadow-2xl dark:bg-slate-900/95 border border-slate-100/70 dark:border-slate-800",children:[l.jsxs("button",{onClick:t,className:"absolute right-4 top-4 inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-700 dark:hover:bg-slate-800",children:[l.jsx(Ut,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:g.common.close})]}),l.jsxs("div",{className:"flex items-center gap-3 px-6 pt-6 pb-3",children:[l.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-emerald-50 text-emerald-600 dark:bg-emerald-900/40 dark:text-emerald-300",children:l.jsx(bc,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.16em] text-emerald-600 dark:text-emerald-300",children:"NutriChef"}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:j?g.common.createaccount:g.common.signIn})]})]}),l.jsx("div",{className:"px-6 pb-3",children:l.jsxs("div",{className:"flex rounded-full bg-slate-100 p-1.5 text-sm dark:bg-slate-800",children:[l.jsx("button",{type:"button",onClick:()=>s("signin"),className:ee("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",n==="signin"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:g.common.signIn}),l.jsx("button",{type:"button",onClick:()=>s("signup"),className:ee("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",n==="signup"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:g.common.signUp})]})}),l.jsxs("form",{onSubmit:k,className:"space-y-3 border-t border-slate-100 px-6 pb-5 pt-4 dark:border-slate-800 text-sm",children:[j&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:g.profile.name}),l.jsx("input",{type:"text",id:"name",name:"name",value:u,autoComplete:"name",onChange:_=>d(_.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:g.profile.accountType}),l.jsxs("div",{className:"flex rounded-full bg-slate-100 p-1.5 text-sm dark:bg-slate-800",children:[l.jsx("button",{type:"button",onClick:()=>f("Client"),className:ee("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",h==="Client"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:g.profile.client}),l.jsx("button",{type:"button",onClick:()=>f("Nutritionist"),className:ee("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",h==="Nutritionist"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:g.profile.nutricionist})]})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:g.profile.email}),l.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",value:i,onChange:_=>a(_.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:g.profile.password}),l.jsx("input",{type:"password",id:"password",name:"password",autoComplete:j?"new-password":"current-password",value:o,onChange:_=>c(_.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),n==="signin"&&l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"button",onClick:T,className:"text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:g.common.forgotPassword})}),l.jsx("button",{type:"submit",disabled:m,className:ee("mt-2 inline-flex w-full items-center justify-center rounded-xl bg-emerald-600 px-4 py-2.5 text-base font-semibold text-white shadow-sm hover:bg-emerald-700 transition disabled:cursor-not-allowed disabled:bg-emerald-400",m&&"opacity-80"),children:m?g.common.loading:n==="signin"?g.common.signIn:g.common.signUp}),l.jsxs("p",{className:"mt-3 text-center text-sm text-slate-500 dark:text-slate-400",children:[n==="signin"?g.common.dontHaveAccount:g.common.alreadyHaveAccount,l.jsx("button",{type:"button",onClick:()=>s(n==="signin"?"signup":"signin"),className:"ml-1 font-semibold text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:n==="signin"?g.common.signUp:g.common.signIn})]})]})]})}),l.jsx(w5,{isOpen:x,onClose:()=>b(!1)})]})}function z0(){const{theme:e,setTheme:t}=Lc(),r=we(),n=[{id:"light",icon:u2,label:r.common.theme.light},{id:"dark",icon:ZN,label:r.common.theme.dark}];return l.jsx("div",{className:"flex items-center gap-2",children:n.map(({id:s,icon:i,label:a})=>l.jsx("button",{onClick:()=>t(s),className:`p-2 rounded-lg transition-colors ${e===s?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,title:a,children:l.jsx(i,{className:"w-5 h-5"})},s))})}function U0(){var c;const{language:e,setLanguage:t}=Lc(),[r,n]=w.useState(!1),i=((c=we().common)==null?void 0:c.selected)||"Selecionado",a=[{value:"en",label:"English",flagUrl:"https://flagcdn.com/us.svg"},{value:"pt",label:"Portugus",flagUrl:"https://flagcdn.com/br.svg"}],o=a.find(u=>u.value===e)??a[0];return l.jsxs("div",{className:"relative",children:[l.jsxs(oe.button,{onClick:()=>n(!r),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sb,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),l.jsx("span",{className:"relative inline-flex h-5 w-7 overflow-hidden rounded-sm ring-1 ring-gray-200 dark:ring-gray-700",children:l.jsx("img",{src:o.flagUrl,alt:o.label,className:"h-full w-full object-cover"})}),l.jsx("span",{className:"hidden text-sm font-medium text-gray-700 dark:text-gray-300 sm:block",children:o.label})]}),l.jsx(oe.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:l.jsx(BN,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})})]}),l.jsx(to,{children:r&&l.jsxs(l.Fragment,{children:[l.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>n(!1)}),l.jsx(oe.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full z-50 mt-2 w-48 overflow-hidden rounded-xl border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",children:a.map((u,d)=>l.jsxs(oe.button,{onClick:()=>{t(u.value),n(!1)},className:`flex w-full items-center gap-3 px-4 py-3 text-left transition-colors ${e===u.value?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},whileHover:{x:4},children:[l.jsx("span",{className:"relative inline-flex h-6 w-8 overflow-hidden rounded-sm ring-1 ring-gray-200 dark:ring-gray-700",children:l.jsx("img",{src:u.flagUrl,alt:u.label,className:"h-full w-full object-cover"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:u.label}),e===u.value&&l.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:i})]}),e===u.value&&l.jsx(oe.div,{className:"ml-auto h-2 w-2 rounded-full bg-green-500",initial:{scale:0},animate:{scale:1},transition:{delay:.1}})]},u.value))})]})})]})}function j5({onProfileClick:e,onAIMentoringClick:t}){const r=kt(),[n,s]=w.useState(!1),[i,a]=w.useState("signin"),[o,c]=w.useState(!1),{user:u,isAuthenticated:d,signOut:h,isNutritionist:f}=Ge(),{hasFeatureAccess:m}=Tc(),{searchQuery:y,setSearchQuery:x}=Sf(),b=we(),g=v=>{a(v),s(!0)},p=d&&(f()||m("ai_mentoring"));return l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(oe.h1,{className:"text-2xl font-bold text-green-600 dark:text-green-400 cursor-pointer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"NutriChef"})}),l.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-8",children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:y,onChange:v=>x(v.target.value),placeholder:b.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),l.jsx(sg,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-200 dark:border-gray-600 pr-4 mr-4",children:[l.jsx(z0,{}),l.jsx(U0,{})]}),d?l.jsxs(oe.div,{className:"flex items-center space-x-4",initial:{opacity:0},animate:{opacity:1},children:[l.jsxs("button",{onClick:()=>r("/nutricionistas"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[l.jsx(cb,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden lg:inline",children:b.buttons.findNutritionists})]}),l.jsxs("button",{onClick:t,className:ee("flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors",p?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),title:p?b.labels.aiMentoring:`${b.labels.aiMentoring} (${b.labels.premium})`,children:[l.jsx(Wn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden lg:inline",children:b.labels.aiMentoring}),!p&&l.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:b.labels.premium})]}),l.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[l.jsx(xr,{className:"w-4 h-4"}),l.jsx("span",{children:u==null?void 0:u.name})]}),l.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[l.jsx(ng,{className:"w-4 h-4"}),l.jsx("span",{children:b.common.signOut})]})]}):l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(oe.button,{onClick:()=>g("signin"),className:"px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:b.common.signIn}),l.jsx(oe.button,{onClick:()=>g("signup"),className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:b.common.signUp})]})]}),l.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[l.jsx(z0,{}),l.jsx(U0,{}),l.jsx("button",{onClick:()=>c(!o),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(XN,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})]})]})}),l.jsx(to,{children:o&&l.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:l.jsxs("div",{className:"px-4 py-3 space-y-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:y,onChange:v=>x(v.target.value),placeholder:b.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),l.jsx(sg,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),d?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>{t(),c(!1)},className:ee("w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors",p?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),children:[l.jsx(Wn,{className:"w-4 h-4"}),l.jsx("span",{children:b.labels.aiMentoring}),!p&&l.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:b.labels.premium})]}),l.jsxs("button",{onClick:()=>{e(),c(!1)},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[l.jsx(xr,{className:"w-4 h-4"}),l.jsx("span",{children:b.common.profile})]}),l.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[l.jsx(ng,{className:"w-4 h-4"}),l.jsx("span",{children:b.common.signOut})]})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>{g("signin"),c(!1)},className:"w-full px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:b.common.signIn}),l.jsx("button",{onClick:()=>{g("signup"),c(!1)},className:"w-full px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:b.common.signUp})]})]})})})]}),l.jsx(k5,{isOpen:n,onClose:()=>s(!1),initialMode:i})]})}const ir=zr((e,t)=>({recipes:[],favoriteRecipes:[],loading:!1,error:null,clearUserData:()=>{console.log("Clearing user data from recipes store"),e({favoriteRecipes:[]})},initializeAuth:async()=>{const{user:r}=Ge.getState();r&&await t().fetchFavorites(r.id)},fetchRecipes:async()=>{e({loading:!0,error:null});try{console.log("Fetching recipes from database...");const r=await DT();console.log("Recipes fetched successfully:",r.length),e({recipes:r,loading:!1});const{user:n}=Ge.getState();n&&await t().fetchFavorites(n.id)}catch(r){console.error("Error fetching recipes:",r);const n=r instanceof Error?r.message:"Failed to fetch recipes";e({error:n,loading:!1}),ne.getState().showToast("Erro ao carregar receitas","error")}},fetchFavorites:async r=>{try{console.log("Fetching favorites for user:",r);const n=await UT(r);console.log("Favorites fetched:",n),e({favoriteRecipes:n})}catch(n){console.error("Failed to fetch favorites:",n)}},addToFavorites:async r=>{const{user:n}=Ge.getState();if(!n){ne.getState().showToast("Faa login para favoritar receitas","error");return}try{console.log("Adding to favorites:",{userId:n.id,recipeId:r}),await $T(n.id,r),e(s=>({favoriteRecipes:[...s.favoriteRecipes,r]})),ne.getState().showToast("Adicionado aos favoritos","success")}catch(s){console.error("Failed to add favorite:",s);const i=s instanceof Error?s.message:"Erro ao adicionar aos favoritos";ne.getState().showToast(i,"error")}},removeFromFavorites:async r=>{const{user:n}=Ge.getState();if(!n){ne.getState().showToast("Faa login para gerenciar favoritos","error");return}try{console.log("Removing from favorites:",{userId:n.id,recipeId:r}),await zT(n.id,r),e(s=>({favoriteRecipes:s.favoriteRecipes.filter(i=>i!==r)})),ne.getState().showToast("Removido dos favoritos","info")}catch(s){console.error("Failed to remove favorite:",s);const i=s instanceof Error?s.message:"Erro ao remover dos favoritos";ne.getState().showToast(i,"error")}},addReview:async(r,n)=>{try{console.log("Adding review:",{recipeId:r,review:n}),await LT(r,{user_id:n.userId,rating:n.rating,comment:n.comment}),await t().fetchRecipes(),ne.getState().showToast("Avaliao adicionada com sucesso!","success")}catch(s){console.error("Failed to add review:",s);const i=s instanceof Error?s.message:"Erro ao adicionar avaliao";throw ne.getState().showToast(i,"error"),s}},updateReview:async(r,n)=>{try{console.log("Updating review:",{reviewId:r,updates:n}),await OT(r,n),await t().fetchRecipes(),ne.getState().showToast("Avaliao atualizada com sucesso!","success")}catch(s){console.error("Failed to update review:",s);const i=s instanceof Error?s.message:"Erro ao atualizar avaliao";throw ne.getState().showToast(i,"error"),s}},deleteReview:async r=>{try{console.log("Deleting review:",r),await FT(r),await t().fetchRecipes(),ne.getState().showToast("Avaliao excluda com sucesso!","success")}catch(n){console.error("Failed to delete review:",n);const s=n instanceof Error?n.message:"Erro ao excluir avaliao";throw ne.getState().showToast(s,"error"),n}},createRecipe:async r=>{e({loading:!0,error:null});try{console.log("Creating recipe:",r),await AT(r),await t().fetchRecipes(),ne.getState().showToast("Receita criada com sucesso!","success")}catch(n){console.error("Failed to create recipe:",n);const s=n instanceof Error?n.message:"Failed to create recipe";throw e({error:s}),ne.getState().showToast("Erro ao criar receita","error"),n}finally{e({loading:!1})}},updateRecipe:async r=>{e({loading:!0,error:null});try{console.log("Updating recipe:",r),await MT(r.id,r),await t().fetchRecipes(),ne.getState().showToast("Receita atualizada com sucesso!","success")}catch(n){console.error("Failed to update recipe:",n);const s=n instanceof Error?n.message:"Failed to update recipe";throw e({error:s}),ne.getState().showToast("Erro ao atualizar receita","error"),n}finally{e({loading:!1})}},deleteRecipe:async r=>{e({loading:!0,error:null});try{console.log("Deleting recipe:",r),await IT(r),e(n=>({recipes:n.recipes.filter(s=>s.id!==r),favoriteRecipes:n.favoriteRecipes.filter(s=>s!==r)})),ne.getState().showToast("Receita excluda com sucesso!","success")}catch(n){console.error("Failed to delete recipe:",n);const s=n instanceof Error?n.message:"Failed to delete recipe";throw e({error:s}),ne.getState().showToast("Erro ao excluir receita","error"),n}finally{e({loading:!1})}}}));function ch({recipe:e}){const t=kt(),{favoriteRecipes:r,addToFavorites:n,removeFromFavorites:s}=ir(),{isAuthenticated:i}=Ge(),a=we(),c=a.recipe.difficultyLevels[e.difficulty]||e.difficulty,u=a.categories,h=(x=>{const b={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},g=x.toLowerCase().replace(/\s+/g,""),p=Object.keys(b).find(j=>j.toLowerCase().replace(/\s+/g,"")===g);return p?u[b[p]]:u[x]||x})(e.category),f=r.includes(e.id),m=async x=>{if(x.stopPropagation(),!!i)try{f?await s(e.id):await n(e.id)}catch(b){console.error("Error toggling favorite:",b)}},y=()=>{var b,g,p;const x=((b=a.recipes)==null?void 0:b.noReviews)||((g=a.recipe)==null?void 0:g.noReviews)||"Sem avaliaes";return e.rating===0||!e.rating||((p=e.reviews)==null?void 0:p.length)===0?x:e.rating.toFixed(1)};return l.jsxs("div",{onClick:()=>t(`/receita/${e.id}`),className:`
        group relative flex h-full cursor-pointer flex-col overflow-hidden
        rounded-xl border shadow-sm transition-all duration-200
        hover:-translate-y-1 hover:shadow-lg hover:border-emerald-300
        bg-white border-gray-200
        dark:bg-slate-800 dark:border-slate-700
      `,children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{src:e.image,alt:e.title,className:"h-52 w-full object-cover transition-transform duration-300 group-hover:scale-105",onError:x=>{const b=x.target;b.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop"}}),l.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"}),l.jsxs("span",{className:"absolute bottom-3 left-3 inline-flex items-center gap-1.5 rounded-lg bg-white/90 dark:bg-slate-900/90 px-3 py-1.5 text-xs font-medium shadow-md backdrop-blur-sm",children:[l.jsx(yn,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"}),l.jsx("span",{className:"truncate max-w-[130px] text-gray-900 dark:text-white",children:h})]}),l.jsxs("div",{className:"absolute top-3 left-3 inline-flex items-center gap-1 rounded-lg bg-white/90 dark:bg-slate-900/90 px-2.5 py-1 text-xs font-semibold shadow-md backdrop-blur-sm",children:[l.jsx(pr,{className:"h-3.5 w-3.5 fill-amber-500 text-amber-500"}),l.jsx("span",{className:"text-gray-900 dark:text-white",children:y()})]}),i&&l.jsx("button",{onClick:m,className:ee("absolute top-3 right-3 inline-flex h-8 w-8 items-center justify-center rounded-lg shadow-md transition-all duration-200 backdrop-blur-sm","bg-white/90 dark:bg-slate-900/90",f?"text-rose-500":"text-gray-400 dark:text-gray-500 hover:text-rose-500"),children:l.jsx(Ja,{className:ee("h-4 w-4 transition-all",f&&"fill-current")})})]}),l.jsxs("div",{className:"flex flex-grow flex-col p-5",children:[l.jsx("h3",{className:"mb-2 line-clamp-2 text-lg font-semibold leading-snug text-gray-900 dark:text-white",children:e.title}),l.jsx("p",{className:"mb-4 flex-grow line-clamp-3 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:e.description}),l.jsxs("div",{className:"mt-auto flex items-center justify-between gap-3 border-t border-gray-100 dark:border-slate-700 pt-4",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[l.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-900/20 shadow-sm",children:l.jsx(ls,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[l.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.time}),l.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[e.prepTime,"min"]})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[l.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-900/20 shadow-sm",children:l.jsx(pr,{className:"h-4 w-4 fill-amber-500 text-amber-500"})}),l.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[l.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.rating}),l.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:y()})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[l.jsx("div",{className:ee("flex items-center justify-center w-9 h-9 rounded-xl shadow-sm bg-gradient-to-br",e.difficulty==="easy"&&"from-emerald-50 to-emerald-100 dark:from-emerald-900/30 dark:to-emerald-900/20",e.difficulty==="medium"&&"from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-900/20",e.difficulty==="hard"&&"from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-900/20"),children:l.jsx(yn,{className:ee("h-4 w-4",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-orange-600 dark:text-orange-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400")})}),l.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[l.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.level}),l.jsx("span",{className:ee("text-sm font-bold capitalize",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-orange-600 dark:text-orange-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400"),children:c})]})]})]})]})]})}const _5={all:zl,vegan:bc,lowCarb:Ol,highProtein:Ol,glutenFree:o2,vegetarian:n2};function S5({categories:e,selectedCategory:t,onSelectCategory:r}){const s=we().categories;return l.jsx(l.Fragment,{children:e.map(i=>{const a=s[i]||i,o=_5[i]||zl,c=t===i;return l.jsxs(oe.button,{onClick:()=>r(i),className:ee("group relative px-4 sm:px-5 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 whitespace-nowrap","flex items-center gap-2",c?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[l.jsx(o,{className:ee("w-3.5 h-3.5 sm:w-4 sm:h-4 transition-colors duration-200",c?"text-emerald-600 dark:text-emerald-400":"text-slate-400 dark:text-slate-500")}),l.jsx("span",{children:a})]},i)})})}function N5(){const[e,t]=w.useState(!1),[r,n]=w.useState("right"),s=w.useRef(null),i=w.useRef(null),{difficulty:a,prepTimeRange:o,minRating:c,setDifficulty:u,setPrepTimeRange:d,setMinRating:h,resetFilters:f}=Sf(),m=we(),y=[{value:"quick",label:m.filters.prepTime.quick,max:15},{value:"medium",label:m.filters.prepTime.medium,max:30},{value:"long",label:m.filters.prepTime.long,max:null}],x=[{value:"easy",label:m.recipe.difficultyLevels.easy},{value:"medium",label:m.recipe.difficultyLevels.medium},{value:"hard",label:m.recipe.difficultyLevels.hard}],b=[{value:4,label:"4+ "},{value:4.5,label:"4.5+ "},{value:5,label:"5 "}],g=a||o||c;return w.useEffect(()=>{if(e&&s.current){const p=s.current.getBoundingClientRect(),v=window.innerWidth;p.right+320+16>v?n("left"):n("right")}},[e]),w.useEffect(()=>{function p(v){i.current&&!i.current.contains(v.target)&&s.current&&!s.current.contains(v.target)&&t(!1)}if(e)return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[e]),w.useEffect(()=>{function p(v){v.key==="Escape"&&t(!1)}if(e)return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e]),l.jsxs("div",{className:"relative",children:[l.jsxs(oe.button,{ref:s,onClick:()=>t(!e),className:ee("group flex items-center gap-2 px-4 sm:px-5 py-2.5 rounded-lg transition-all duration-200 whitespace-nowrap text-sm font-medium",g?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-300 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[l.jsx(GN,{className:ee("w-4 h-4 flex-shrink-0 transition-colors duration-200",g?"text-emerald-600 dark:text-emerald-400":"text-slate-400 dark:text-slate-500")}),l.jsx("span",{className:"hidden sm:inline",children:m.filters.advanced}),l.jsx("span",{className:"sm:hidden",children:"Filtros"}),g&&l.jsx(oe.span,{initial:{scale:0},animate:{scale:1},className:"bg-emerald-600 dark:bg-emerald-500 text-white text-xs rounded-full min-w-[18px] h-[18px] px-1 flex items-center justify-center flex-shrink-0 font-medium",children:[a,o,c].filter(Boolean).length})]}),l.jsx(to,{children:e&&l.jsxs(oe.div,{ref:i,initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},className:ee("absolute top-full mt-2 bg-white dark:bg-slate-900 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-5 z-50 max-h-[80vh] overflow-y-auto","right-0",r==="left"&&"sm:right-0 sm:left-auto",r==="right"&&"sm:left-0 sm:right-auto","w-72 sm:w-80"),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm",children:m.filters.advanced}),l.jsx(oe.button,{onClick:()=>t(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:l.jsx(Ut,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"space-y-2.5",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.jsx(yn,{className:"w-3.5 h-3.5 text-slate-400"}),m.recipe.difficulty]}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:x.map(p=>l.jsx(oe.button,{onClick:()=>u(a===p.value?null:p.value),className:ee("px-2 sm:px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-center",a===p.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:p.label},p.value))})]}),l.jsxs("div",{className:"space-y-2.5",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.jsx(ls,{className:"w-3.5 h-3.5 text-slate-400"}),m.recipe.prepTime]}),l.jsx("div",{className:"space-y-1.5",children:y.map(p=>l.jsx(oe.button,{onClick:()=>d(o===p.value?null:p.value),className:ee("w-full px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-left",o===p.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),l.jsxs("div",{className:"space-y-2.5",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.jsx(pr,{className:"w-3.5 h-3.5 text-slate-400"}),m.filters.minRating]}),l.jsx("div",{className:"space-y-1.5",children:b.map(p=>l.jsx(oe.button,{onClick:()=>h(c===p.value?null:p.value),className:ee("w-full px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-left",c===p.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),g&&l.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"pt-3 border-t border-slate-100 dark:border-slate-800",children:l.jsx(oe.button,{onClick:()=>{f(),t(!1)},className:"w-full px-3 py-2 bg-slate-50 text-slate-600 rounded-lg hover:bg-slate-100 transition-colors duration-150 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50 text-xs font-medium",whileHover:{scale:1.01},whileTap:{scale:.99},children:m.filters.clearAll})})]})]})})]})}const V0={title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}},_r="w-full rounded-lg border border-slate-200/90 bg-white/90 px-3 py-2.5 text-sm md:text-base text-slate-900 shadow-sm outline-none transition focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/60 dark:border-slate-700 dark:bg-slate-900/80 dark:text-slate-50",ys="block text-sm md:text-base font-medium text-slate-700 dark:text-slate-100",C5="text-base font-semibold text-slate-800 dark:text-slate-100";function vs({title:e,description:t,children:r,className:n}){return l.jsxs("section",{className:ee("space-y-3",n),children:[(e||t)&&l.jsxs("header",{className:"space-y-1",children:[e&&l.jsx("h3",{className:C5,children:e}),t&&l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t})]}),r]})}function E5({isOpen:e,onClose:t}){var x,b;const{user:r}=Ge(),{createRecipe:n}=ir(),s=we(),[i,a]=w.useState(!1),[o,c]=w.useState(V0);if(!e||!r)return null;const u=async g=>{if(g.preventDefault(),!!r){a(!0);try{const p={...o,authorId:r.id,rating:0,reviews:[]};await n(p),c(V0),t()}catch(p){console.error("Error creating recipe:",p)}finally{a(!1)}}},d=(g,p,v)=>{c(j=>{var k;return{...j,[g]:(k=j[g])==null?void 0:k.map((T,_)=>_===p?v:T)}})},h=g=>{c(p=>({...p,[g]:[...p[g]||[],""]}))},f=(g,p)=>{c(v=>{var j;return{...v,[g]:(j=v[g])==null?void 0:j.filter((k,T)=>T!==p)}})},m=(g,p)=>{const v=parseFloat(p)||0;c(j=>({...j,nutritionFacts:{...j.nutritionFacts,[g]:v}}))},y=Object.keys(s.categories).filter(g=>g!=="all").map(g=>({value:g,label:s.categories[g]}));return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-2xl border border-slate-200/80 bg-gradient-to-br from-white via-white to-emerald-50/40 shadow-2xl dark:border-slate-800 dark:from-slate-900 dark:via-slate-900 dark:to-slate-950",children:[l.jsxs("button",{onClick:t,className:"absolute right-4 top-4 inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 text-slate-500 shadow-sm transition hover:scale-105 hover:bg-white hover:text-slate-700 dark:bg-slate-900/80 dark:text-slate-400 dark:hover:bg-slate-900",children:[l.jsx(Ut,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:s.common.close})]}),l.jsx("div",{className:"border-b border-slate-100/80 px-6 pb-4 pt-5 dark:border-slate-800/80 sm:px-7",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("p",{className:"inline-flex w-fit items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium uppercase tracking-wide text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",children:s.recipe.CreateRecipe}),l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50 sm:text-2xl",children:s.recipe.CreateNewRecipe}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 sm:text-base",children:s.recipe.details})]})}),l.jsxs("form",{onSubmit:u,className:"space-y-8 px-6 pb-7 pt-5 text-sm sm:text-base sm:px-7",children:[l.jsx(vs,{children:l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:ys,children:s.recipe.recipeTitle}),l.jsx("input",{type:"text",value:o.title,onChange:g=>c(p=>({...p,title:g.target.value})),className:_r,required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:ys,children:s.recipe.recipeImageURL}),l.jsx("input",{type:"url",value:o.image,onChange:g=>c(p=>({...p,image:g.target.value})),className:_r,placeholder:"https://example.com/image.jpg",required:!0})]})]})}),l.jsx(vs,{description:s.recipe.details,children:l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:ys,children:s.recipe.recipeDescription}),l.jsx("textarea",{value:o.description,onChange:g=>c(p=>({...p,description:g.target.value})),className:ee(_r,"min-h-[90px] resize-y"),rows:3,required:!0})]})}),l.jsx(vs,{children:l.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:ys,children:[s.recipe.prepTime," (min)"]}),l.jsx("input",{type:"number",value:o.prepTime,onChange:g=>c(p=>({...p,prepTime:Number(g.target.value)})),className:_r,min:1,required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:ys,children:s.recipe.difficulty}),l.jsxs("select",{value:o.difficulty,onChange:g=>c(p=>({...p,difficulty:g.target.value})),className:_r,required:!0,children:[l.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),l.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),l.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:ys,children:s.recipe.recipeCategory}),l.jsx("select",{value:o.category,onChange:g=>c(p=>({...p,category:g.target.value})),className:_r,required:!0,children:y.map(g=>l.jsx("option",{value:g.value,children:g.label},g.value))})]})]})}),l.jsxs(vs,{title:s.recipe.ingredients,description:s.recipe.addIngredient,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:s.common.add}),l.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 dark:border-emerald-900 dark:bg-emerald-950/50 dark:text-emerald-300 dark:hover:bg-emerald-900/60",children:[l.jsx(si,{className:"h-4 w-4"}),s.recipe.addIngredient]})]}),l.jsx("div",{className:"mt-2 space-y-2",children:(x=o.ingredients)==null?void 0:x.map((g,p)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:g,onChange:v=>d("ingredients",p,v.target.value),className:_r,placeholder:s.recipe.example,required:!0}),o.ingredients.length>1&&l.jsx("button",{type:"button",onClick:()=>f("ingredients",p),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white/80 px-2 text-slate-400 shadow-sm transition hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:bg-slate-900/70 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(Fl,{className:"h-4 w-4"})})]},p))})]}),l.jsxs(vs,{title:s.recipe.instructions,description:s.recipe.addStep,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:s.common.add}),l.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 dark:border-emerald-900 dark:bg-emerald-950/50 dark:text-emerald-300 dark:hover:bg-emerald-900/60",children:[l.jsx(si,{className:"h-4 w-4"}),s.recipe.addStep]})]}),l.jsx("div",{className:"mt-2 space-y-2",children:(b=o.instructions)==null?void 0:b.map((g,p)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:g,onChange:v=>d("instructions",p,v.target.value),className:_r,placeholder:`${s.recipe.Step} ${p+1}`,required:!0}),o.instructions.length>1&&l.jsx("button",{type:"button",onClick:()=>f("instructions",p),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white/80 px-2 text-slate-400 shadow-sm transition hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:bg-slate-900/70 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(Fl,{className:"h-4 w-4"})})]},p))})]}),l.jsx(vs,{title:s.recipe.nutritionFacts,children:l.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-5",children:Object.entries(o.nutritionFacts||{}).map(([g,p])=>{const v=g;return l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-200 sm:text-sm",children:s.profile.nutritionGoalsnames[v]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:p,onChange:j=>m(g,j.target.value),className:_r,placeholder:"0.00",required:!0})]},g)})})}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",disabled:i,className:ee("inline-flex w-full items-center justify-center rounded-lg bg-gradient-to-r from-emerald-600 via-emerald-500 to-emerald-600 px-4 py-3 text-base font-semibold text-white shadow-md transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-80 dark:focus-visible:ring-offset-slate-900",i&&"opacity-80"),children:i?s.common.loading:s.recipe.CreateRecipe})})]})]})})}function T5({message:e,type:t,onClose:r,duration:n=3e3}){qn.useEffect(()=>{const i=setTimeout(r,n);return()=>clearTimeout(i)},[n,r]);const s={success:l.jsx(ns,{className:"w-5 h-5 text-green-500"}),error:l.jsx(xc,{className:"w-5 h-5 text-red-500"}),info:l.jsx(qN,{className:"w-5 h-5 text-blue-500"})};return l.jsx(to,{children:l.jsxs(oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:ee("fixed bottom-4 right-4 flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg",t==="success"&&"bg-green-50 border border-green-200",t==="error"&&"bg-red-50 border border-red-200",t==="info"&&"bg-blue-50 border border-blue-200"),children:[s[t],l.jsx("span",{className:"text-gray-700",children:e}),l.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-full",children:l.jsx(Ut,{className:"w-4 h-4 text-gray-500"})})]})})}function am({size:e="md",className:t}){const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return l.jsx(ni,{className:ee("animate-spin",r[e],t)})}function P5(){const e=kt(),[t,r]=w.useState(!1),[n,s]=w.useState(!1),{category:i,searchQuery:a,difficulty:o,prepTimeRange:c,minRating:u,setCategory:d}=Sf(),{recipes:h,loading:f,fetchRecipes:m}=ir(),{isAuthenticated:y,isNutritionist:x,initializeAuth:b}=Ge(),{message:g,type:p,hideToast:v}=ne(),j=we(),k=["all","vegan","lowCarb","highProtein","glutenFree"];w.useEffect(()=>{(async()=>{if(!n)try{await b(),await m(),s(!0)}catch(R){console.error("Error initializing app:",R),s(!0)}})()},[b,m,n]),w.useEffect(()=>{n&&d("all")},[d,n]);const T=C=>C.toLowerCase().replace(/\s+/g,""),_=C=>{if(!c)return!0;switch(c){case"quick":return C.prepTime<=15;case"medium":return C.prepTime<=30;case"long":return C.prepTime>30;default:return!0}},E=h.filter(C=>{const R=T(C.category),D=T(i),L=D==="all"||R===D,de=C.title.toLowerCase().includes(a.toLowerCase())||C.description.toLowerCase().includes(a.toLowerCase()),fe=!o||C.difficulty===o,te=!u||C.rating>=u,le=_(C);return L&&de&&fe&&te&&le});return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l.jsx(j5,{onProfileClick:()=>e("/perfil"),onAIMentoringClick:()=>e("/mentoria-ia")}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-4",children:j.home.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl text-sm sm:text-base",children:j.home.subtitle})]}),y&&x()&&l.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm sm:text-base",children:[l.jsx(si,{className:"w-4 h-4 sm:w-5 sm:h-5"}),j.home.createRecipe]})]}),l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"bg-white dark:bg-slate-800/30 rounded-xl p-4 sm:p-5 border border-slate-100 dark:border-slate-700/50",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(S5,{categories:k,selectedCategory:i,onSelectCategory:d}),l.jsx("div",{className:"ml-auto",children:l.jsx(N5,{})})]})})}),f?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(am,{size:"lg"})}):E.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:j.home.noRecipes}),h.length===0&&!f&&l.jsx("button",{onClick:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar novamente"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(C=>l.jsx(ch,{recipe:C},C.id))})]}),l.jsx(E5,{isOpen:t,onClose:()=>r(!1)}),g&&l.jsx(T5,{message:g,type:p,onClose:v})]})}const xs={calories:2e3,protein:50,carbs:250,fat:70,fiber:25},B0=["calories","protein","carbs","fat","fiber"],ao=zr()(Qa(e=>({goals:xs,activeGoals:B0,loading:!1,fetchGoals:async t=>{e({loading:!0});try{const{data:r,error:n}=await q.from("nutrition_goals").select("*").eq("user_id",t).maybeSingle();if(n)throw n;e(r?{goals:{calories:r.calories||xs.calories,protein:r.protein||xs.protein,carbs:r.carbs||xs.carbs,fat:r.fat||xs.fat,fiber:r.fiber||xs.fiber},activeGoals:r.active_goals||B0,loading:!1}:{loading:!1})}catch(r){console.error("Error fetching nutrition goals:",r),e({loading:!1})}},setActiveGoals:async(t,r)=>{try{const{error:n}=await q.from("nutrition_goals").update({active_goals:r}).eq("user_id",t);if(n)throw n;e({activeGoals:r})}catch(n){throw console.error("Error updating active goals:",n),n}},toggleGoal:async(t,r)=>{e(n=>{const s=n.activeGoals.includes(r)?n.activeGoals.filter(i=>i!==r):[...n.activeGoals,r];return(async()=>{try{const{error:i}=await q.from("nutrition_goals").update({active_goals:s}).eq("user_id",t);if(i)throw i}catch(i){console.error("Error toggling goal:",i)}})(),{activeGoals:s}})},setGoals:t=>e(r=>({goals:{...r.goals,...Object.fromEntries(Object.entries(t).map(([n,s])=>[n,Number(s)]))}}))}),{name:"nutrition-goals"})),R5=()=>({calories:0,protein:0,carbs:0,fat:0,fiber:0}),A5=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},M5=e=>{const t=Number(e??1);return!Number.isFinite(t)||t<=0?1:Math.round(t*10)/10},Oc=zr()(Qa((e,t)=>({entries:[],addRecipeToLog:(r,n=1,s)=>{var c,u,d,h,f,m;const i=M5(n),a=s??A5(new Date),o={id:((c=crypto==null?void 0:crypto.randomUUID)==null?void 0:c.call(crypto))??`${Date.now()}-${Math.random()}`,date:a,recipeId:r.id,recipeTitle:r.title,servings:i,perServing:{calories:Number(((u=r.nutritionFacts)==null?void 0:u.calories)??0),protein:Number(((d=r.nutritionFacts)==null?void 0:d.protein)??0),carbs:Number(((h=r.nutritionFacts)==null?void 0:h.carbs)??0),fat:Number(((f=r.nutritionFacts)==null?void 0:f.fat)??0),fiber:Number(((m=r.nutritionFacts)==null?void 0:m.fiber)??0)},createdAt:new Date().toISOString()};e(y=>({entries:[o,...y.entries]}))},removeEntry:r=>e(n=>({entries:n.entries.filter(s=>s.id!==r)})),clearDate:r=>e(n=>({entries:n.entries.filter(s=>s.date!==r)})),getEntriesForDate:r=>t().entries.filter(n=>n.date===r),getTotalsForDate:r=>{const n=R5();for(const s of t().entries)s.date===r&&(n.calories+=s.perServing.calories*s.servings,n.protein+=s.perServing.protein*s.servings,n.carbs+=s.perServing.carbs*s.servings,n.fat+=s.perServing.fat*s.servings,n.fiber+=s.perServing.fiber*s.servings);return{calories:Math.round(n.calories*10)/10,protein:Math.round(n.protein*10)/10,carbs:Math.round(n.carbs*10)/10,fat:Math.round(n.fat*10)/10,fiber:Math.round(n.fiber*10)/10}}}),{name:"nutrition-tracking",version:1}));function I5(){const{user:e}=Ge(),{recipes:t,favoriteRecipes:r}=ir(),{goals:n,activeGoals:s}=ao(),{entries:i}=Oc(),{isPremium:a}=Tc(),o=we();if(!e)return null;const c=t.filter(y=>y.authorId===e.id),u=t.filter(y=>r.includes(y.id)).length,d=e.type==="Nutritionist",h=a(),f=s.length>0,m=new Set(i.map(y=>y.date)).size;return l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/90 flex flex-col sm:flex-row sm:items-center gap-6",children:[l.jsx("div",{className:"flex items-center justify-center h-20 w-20 rounded-full bg-emerald-100 dark:bg-emerald-900/40 shadow-inner",children:l.jsx(xr,{className:"h-10 w-10 text-emerald-700 dark:text-emerald-300"})}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:e.name}),l.jsxs("div",{className:"flex flex-col gap-1 text-sm text-slate-600 dark:text-slate-400",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ib,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-300"}),e.email]}),l.jsxs("div",{className:"flex items-center gap-2",children:[h&&!d?l.jsx(sa,{className:"h-4 w-4 text-amber-500 dark:text-amber-400"}):l.jsx(yn,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-300"}),d?o.profile.nutricionist:h?o.profile.clientPremium:o.profile.client]})]}),d&&l.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[l.jsx("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300",children:c.length}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.publishedRecipes})]}),l.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[l.jsx("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300",children:u}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.favorites})]})]}),!d&&l.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[l.jsxs("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300 flex items-center justify-center gap-1",children:[l.jsx(Ja,{className:"h-4 w-4"}),u]}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.favorites})]}),f&&l.jsxs("div",{className:"rounded-xl bg-blue-50 dark:bg-blue-900/20 p-3 text-center border border-blue-100 dark:border-blue-800/60",children:[l.jsxs("p",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300 flex items-center justify-center gap-1",children:[l.jsx(lb,{className:"h-4 w-4"}),s.length]}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.activeGoalsLabel})]}),m>0&&l.jsxs("div",{className:"rounded-xl bg-purple-50 dark:bg-purple-900/20 p-3 text-center border border-purple-100 dark:border-purple-800/60",children:[l.jsxs("p",{className:"text-lg font-semibold text-purple-700 dark:text-purple-300 flex items-center justify-center gap-1",children:[l.jsx(ls,{className:"h-4 w-4"}),m]}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.trackedDays})]})]})]})]})}function D5(){const{goals:e,setGoals:t}=ao(),[r,n]=w.useState(e),s=we(),i=s.profile.saveGoals,a=s.profile.dailyGoals,o=s.profile.nutritionGoalsnames,c=h=>{h.preventDefault(),t(r)},u=w.useMemo(()=>({calories:{icon:Ol,unit:"kcal",accent:"text-amber-300",ring:"focus-visible:ring-amber-400/40"},protein:{icon:rb,unit:"g",accent:"text-rose-300",ring:"focus-visible:ring-rose-400/40"},carbs:{icon:ub,unit:"g",accent:"text-sky-300",ring:"focus-visible:ring-sky-400/40"},fat:{icon:nb,unit:"g",accent:"text-emerald-300",ring:"focus-visible:ring-emerald-400/40"},fiber:{icon:bc,unit:"g",accent:"text-lime-300",ring:"focus-visible:ring-lime-400/40"}}),[r]),d=(h,f)=>{const m=Number.isFinite(Number(f))?parseFloat(f):0;n(y=>({...y,[h]:m<0?0:m}))};return l.jsxs("form",{onSubmit:c,className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-sm backdrop-blur md:p-6",children:[l.jsx("div",{className:"mb-4 flex items-start justify-between gap-3",children:l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-white/10 ring-1 ring-white/10",children:l.jsx(ob,{className:"h-5 w-5 text-emerald-300"})}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:a})]})})}),l.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:Object.entries(r).map(([h,f])=>{const m=u[h],y=m.icon,x=o[h];return l.jsxs("div",{className:"group rounded-2xl border border-white/10 bg-slate-950/30 p-4 transition hover:border-white/15 hover:bg-slate-950/40",children:[l.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-white/5 ring-1 ring-white/10",children:l.jsx(y,{className:`h-5 w-5 ${m.accent}`})}),l.jsx("div",{className:"min-w-0",children:l.jsx("div",{className:"truncate text-sm font-medium text-white",children:x})})]}),l.jsx("span",{className:"shrink-0 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-xs text-white/70",children:m.unit})]}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"number",step:"0.1",min:"0",value:Number.isFinite(f)?f:0,onChange:b=>d(h,b.target.value),inputMode:"decimal",className:"w-full rounded-xl border border-white/10 bg-slate-950/40 px-4 py-3 text-base text-white outline-none transition placeholder:text-white/30 hover:border-white/15 focus-visible:ring-4 focus-visible:ring-emerald-400/20 "+m.ring,placeholder:"0.0","aria-label":`${x} (${m.unit})`})})]},h)})}),l.jsx("div",{className:"mt-5 flex flex-col-reverse gap-3 md:flex-row md:items-center md:justify-between",children:l.jsx("button",{type:"submit",className:"inline-flex w-full items-center justify-center rounded-xl bg-emerald-500 px-4 py-3 font-medium text-slate-950 shadow-sm transition hover:bg-emerald-400 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-emerald-400/30 md:w-auto",children:i})})]})}function L5(){const{activeGoals:e,toggleGoal:t}=ao(),{user:r}=Ge(),s=we().profile.nutritionGoalsnames,i=w.useMemo(()=>[{key:"calories",icon:Ol,accent:"text-amber-300",color:"bg-amber-500/20 border-amber-500/50 hover:bg-amber-500/30"},{key:"protein",icon:rb,accent:"text-rose-300",color:"bg-rose-500/20 border-rose-500/50 hover:bg-rose-500/30"},{key:"carbs",icon:ub,accent:"text-sky-300",color:"bg-sky-500/20 border-sky-500/50 hover:bg-sky-500/30"},{key:"fat",icon:nb,accent:"text-emerald-300",color:"bg-emerald-500/20 border-emerald-500/50 hover:bg-emerald-500/30"},{key:"fiber",icon:bc,accent:"text-lime-300",color:"bg-lime-500/20 border-lime-500/50 hover:bg-lime-500/30"}],[]),a=async o=>{r!=null&&r.id&&await t(r.id,o)};return l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/90",children:[l.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[l.jsx(a2,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Metas para Acompanhar"})]}),l.jsx("p",{className:"mb-4 text-sm text-slate-600 dark:text-slate-400",children:"Selecione quais metas nutricionais voc deseja acompanhar diariamente"}),l.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-5",children:i.map(({key:o,icon:c,accent:u,color:d})=>{const h=e.includes(o),f=s[o];return l.jsxs("button",{onClick:()=>a(o),className:`relative flex flex-col items-center gap-2 rounded-xl border-2 p-4 transition ${h?`${d} border-current`:"border-slate-200 bg-slate-50 hover:bg-slate-100 dark:border-slate-700 dark:bg-slate-800/50 dark:hover:bg-slate-800"}`,children:[l.jsx(c,{className:`h-6 w-6 ${u}`}),l.jsx("span",{className:"text-xs font-medium text-slate-900 dark:text-slate-200",children:f}),h&&l.jsx("div",{className:"absolute -right-2 -top-2 flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500",children:l.jsx("svg",{className:"h-3 w-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},o)})})]})}const O5=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},F5=e=>Number.isFinite(e)?Math.max(0,Math.min(1,e)):0;function Fi({label:e,value:t,goal:r,unit:n}){const s=F5(r>0?t/r:0),i=`${t.toFixed(1)} / ${r.toFixed(1)} ${n}`,a=Math.round(s*100);return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:e}),l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:i})]}),l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:l.jsx("div",{className:`h-full rounded-full transition-all ${s<=1?"bg-emerald-500":"bg-rose-500"}`,style:{width:`${a}%`}})})]})}function $5(){const e=we(),{recipes:t}=ir(),{showToast:r}=ne(),{goals:n}=ao(),{entries:s,addRecipeToLog:i,removeEntry:a,clearDate:o,getEntriesForDate:c,getTotalsForDate:u}=Oc(),[d,h]=qn.useState(()=>O5(new Date)),[f,m]=qn.useState(""),[y,x]=qn.useState(1),b=w.useMemo(()=>c(d),[c,d,s]),g=w.useMemo(()=>u(d),[u,d,s]),p=t.slice().sort((k,T)=>k.title.localeCompare(T.title)),v=()=>{const k=Number(f),T=t.find(_=>_.id===k);if(!T){r(e.profile.pickARecipe??"Selecione uma receita.","warning");return}i(T,y,d),r(e.profile.loggedToDiary??"Adicionado ao dirio.","success")},j=()=>{!b.length||!window.confirm(e.profile.clearDiaryConfirm??"Limpar o dirio deste dia?")||(o(d),r(e.profile.diaryCleared??"Dirio limpo.","info"))};return l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-100 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(UN,{className:"h-5 w-5 text-emerald-500"}),l.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-white",children:e.profile.diaryTitle??"Dirio alimentar"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"date",value:d,onChange:k=>h(k.target.value),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100"}),l.jsxs("button",{type:"button",onClick:j,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-900",children:[l.jsx($l,{className:"h-4 w-4"}),e.profile.clearDay??"Limpar"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[l.jsxs("select",{value:f,onChange:k=>m(k.target.value===""?"":Number(k.target.value)),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",children:[l.jsx("option",{value:"",children:e.profile.chooseRecipe??"Escolher receita..."}),p.map(k=>l.jsx("option",{value:k.id,children:k.title},k.id))]}),l.jsx("input",{type:"number",min:.1,step:.1,value:y,onChange:k=>x(Math.max(.1,Number(k.target.value)||1)),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:e.profile.servings??"Pores"}),l.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700",children:[l.jsx(si,{className:"h-4 w-4"}),e.profile.addToDiary??"Adicionar"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:e.profile.todayProgress??"Progresso do dia"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Fi,{label:e.profile.nutritionGoalsnames.calories,value:g.calories,goal:n.calories,unit:"kcal"}),l.jsx(Fi,{label:e.profile.nutritionGoalsnames.protein,value:g.protein,goal:n.protein,unit:"g"}),l.jsx(Fi,{label:e.profile.nutritionGoalsnames.carbs,value:g.carbs,goal:n.carbs,unit:"g"}),l.jsx(Fi,{label:e.profile.nutritionGoalsnames.fat,value:g.fat,goal:n.fat,unit:"g"}),l.jsx(Fi,{label:e.profile.nutritionGoalsnames.fiber,value:g.fiber,goal:n.fiber,unit:"g"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:e.profile.loggedMeals??"Registros"}),l.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:[b.length," ",e.profile.items??"itens"]})]}),b.length?l.jsx("div",{className:"space-y-2",children:b.map(k=>l.jsxs("div",{className:"flex items-start justify-between gap-3 rounded-xl border border-slate-100 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate text-sm font-semibold text-slate-900 dark:text-white",children:k.recipeTitle}),l.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300",children:[e.profile.servings??"Pores",": ",l.jsx("span",{className:"font-medium",children:k.servings}),"  ",k.perServing.calories.toFixed(0)," kcal/",e.profile.perServing??"poro"]})]}),l.jsx("button",{type:"button",onClick:()=>{a(k.id),r(e.profile.entryRemoved??"Item removido.","info")},className:"shrink-0 rounded-lg p-2 text-slate-600 hover:bg-white hover:text-rose-600 dark:text-slate-300 dark:hover:bg-slate-900","aria-label":e.profile.remove??"Remover",children:l.jsx($l,{className:"h-4 w-4"})})]},k.id))}):l.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 p-4 text-sm text-slate-600 dark:border-slate-700 dark:text-slate-300",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(gf,{className:"mt-0.5 h-4 w-4 text-slate-400"}),l.jsx("p",{children:e.profile.noDiaryEntries??"Nenhum item registrado neste dia."})]})})]})]})}const z5=["sports","clinical","weightLoss","womensHealth","pediatric","geriatric","vegetarian","diabetes","cardiovascular","gastrointestinal"];function U5(){const{user:e}=Ge(),{showToast:t}=ne(),r=we();kt();const[n,s]=w.useState(!1),[i,a]=w.useState(!0),[o,c]=w.useState(!1),[u,d]=w.useState(!1),[h,f]=w.useState(!1),[m,y]=w.useState({professional_bio:"",specializations:[],education:"",certifications:"",years_of_experience:0,approach:"",consultation_price:0,consultation_duration:60,accepts_health_insurance:!1,health_insurances:"",phone:"",whatsapp:"",instagram:"",website:"",clinic_address:"",profile_visibility:"public",accepting_new_clients:!0});w.useEffect(()=>{x()},[]);const x=async()=>{if(e)try{const{data:v}=await q.from("profiles").select("*").eq("id",e.id).maybeSingle();v&&y({professional_bio:v.professional_bio||"",specializations:v.specializations||[],education:v.education||"",certifications:(v.certifications||[]).join(`
`),years_of_experience:v.years_of_experience||0,approach:v.approach||"",consultation_price:v.consultation_price||0,consultation_duration:v.consultation_duration||60,accepts_health_insurance:v.accepts_health_insurance||!1,health_insurances:(v.health_insurances||[]).join(`
`),phone:v.phone||"",whatsapp:v.whatsapp||"",instagram:v.instagram||"",website:v.website||"",clinic_address:v.clinic_address||"",profile_visibility:v.profile_visibility||"public",accepting_new_clients:v.accepting_new_clients??!0})}catch(v){console.error("Error loading profile:",v),t("Erro ao carregar perfil","error")}finally{a(!1)}},b=async v=>{if(v.preventDefault(),!!e){s(!0),d(!1),f(!1);try{const{error:j}=await q.from("profiles").update({professional_bio:m.professional_bio,specializations:m.specializations,education:m.education,certifications:m.certifications.split(`
`).map(k=>k.trim()).filter(k=>k),years_of_experience:m.years_of_experience,approach:m.approach,consultation_price:m.consultation_price,consultation_duration:m.consultation_duration,accepts_health_insurance:m.accepts_health_insurance,health_insurances:m.health_insurances.split(`
`).map(k=>k.trim()).filter(k=>k),phone:m.phone,whatsapp:m.whatsapp,instagram:m.instagram,website:m.website,clinic_address:m.clinic_address,profile_visibility:m.profile_visibility,accepting_new_clients:m.accepting_new_clients}).eq("id",e.id);if(j)throw j;c(!1),d(!0),t(r.nutritionists.editProfile.saved,"success"),setTimeout(()=>{d(!1)},5e3)}catch(j){console.error("Error updating profile:",j),f(!0),t(r.nutritionists.editProfile.error,"error"),setTimeout(()=>{f(!1)},5e3)}finally{s(!1)}}},g=v=>{y(j=>({...j,specializations:j.specializations.includes(v)?j.specializations.filter(k=>k!==v):[...j.specializations,v]})),c(!0)},p=(v,j)=>{y(k=>({...k,[v]:j})),c(!0)};return i?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):l.jsxs("form",{onSubmit:b,className:"space-y-8",children:[u&&l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border-2 border-green-500 dark:border-green-600 rounded-xl p-4 flex items-center justify-between shadow-sm animate-in fade-in slide-in-from-top-2 duration-300",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 dark:bg-green-900/40 rounded-full flex items-center justify-center",children:l.jsx(ns,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),l.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:r.nutritionists.editProfile.saved})]}),l.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200 transition-colors",children:l.jsx(Ut,{className:"h-5 w-5"})})]}),h&&l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-2 border-red-500 dark:border-red-600 rounded-xl p-4 flex items-center justify-between shadow-sm animate-in fade-in slide-in-from-top-2 duration-300",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 dark:bg-red-900/40 rounded-full flex items-center justify-center",children:l.jsx(xc,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),l.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:r.nutritionists.editProfile.error})]}),l.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200 transition-colors",children:l.jsx(Ut,{className:"h-5 w-5"})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.nutritionists.editProfile.professionalInfo}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.bio}),l.jsx("textarea",{value:m.professional_bio,onChange:v=>p("professional_bio",v.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.bioPlaceholder})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.specializations}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:z5.map(v=>l.jsx("button",{type:"button",onClick:()=>g(v),className:ee("px-3 py-2 rounded-lg text-sm font-medium transition-colors",m.specializations.includes(v)?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 border-2 border-emerald-500":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-2 border-transparent hover:border-gray-300"),children:r.nutritionists.specializations[v]},v))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.education}),l.jsx("input",{type:"text",value:m.education,onChange:v=>p("education",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.educationPlaceholder})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.certifications}),l.jsx("textarea",{value:m.certifications,onChange:v=>p("certifications",v.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.certificationsPlaceholder})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.yearsOfExperience}),l.jsx("input",{type:"number",min:"0",value:m.years_of_experience,onChange:v=>p("years_of_experience",parseInt(v.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.approach}),l.jsx("textarea",{value:m.approach,onChange:v=>p("approach",v.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.approachPlaceholder})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.nutritionists.editProfile.consultationSettings}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.consultationPrice}),l.jsx("input",{type:"number",min:"0",step:"0.01",value:m.consultation_price,onChange:v=>p("consultation_price",parseFloat(v.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.consultationDuration}),l.jsx("input",{type:"number",min:"15",step:"15",value:m.consultation_duration,onChange:v=>p("consultation_duration",parseInt(v.target.value)||60),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"accepts_insurance",checked:m.accepts_health_insurance,onChange:v=>p("accepts_health_insurance",v.target.checked),className:"w-4 h-4 text-emerald-600 rounded focus:ring-emerald-500"}),l.jsx("label",{htmlFor:"accepts_insurance",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.fields.acceptsInsurance})]}),m.accepts_health_insurance&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.insurances}),l.jsx("textarea",{value:m.health_insurances,onChange:v=>p("health_insurances",v.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.insurancesPlaceholder})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.nutritionists.editProfile.contactInfo}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.phone}),l.jsx("input",{type:"tel",value:m.phone,onChange:v=>p("phone",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.whatsapp}),l.jsx("input",{type:"tel",value:m.whatsapp,onChange:v=>p("whatsapp",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.instagram}),l.jsx("input",{type:"text",value:m.instagram,onChange:v=>p("instagram",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:"@seuusuario"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.website}),l.jsx("input",{type:"url",value:m.website,onChange:v=>p("website",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.address}),l.jsx("input",{type:"text",value:m.clinic_address,onChange:v=>p("clinic_address",v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.common.settings}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"accepting_clients",checked:m.accepting_new_clients,onChange:v=>p("accepting_new_clients",v.target.checked),className:"w-4 h-4 text-emerald-600 rounded focus:ring-emerald-500"}),l.jsx("label",{htmlFor:"accepting_clients",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.fields.acceptingClients})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.visibility}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"visibility",value:"public",checked:m.profile_visibility==="public",onChange:v=>p("profile_visibility",v.target.value),className:"text-emerald-600 focus:ring-emerald-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.public})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"visibility",value:"private",checked:m.profile_visibility==="private",onChange:v=>p("profile_visibility",v.target.value),className:"text-emerald-600 focus:ring-emerald-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.private})]})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[l.jsxs("button",{type:"button",onClick:()=>window.history.back(),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:[l.jsx(Ya,{className:"h-5 w-5"}),r.common.cancel]}),l.jsx("button",{type:"submit",disabled:n||!o,className:ee("flex items-center gap-2 px-6 py-3 font-medium rounded-lg transition-colors",n||!o?"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700 text-white"),children:n?l.jsxs(l.Fragment,{children:[l.jsx(ni,{className:"h-5 w-5 animate-spin"}),r.common.loading]}):l.jsxs(l.Fragment,{children:[l.jsx(s2,{className:"h-5 w-5"}),r.nutritionists.editProfile.save]})})]})]})}function Bo({active:e,onClick:t,children:r}){return l.jsx("button",{onClick:t,className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${e?"bg-emerald-500 text-white shadow-sm":"text-slate-500 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:r})}function V5(){const[e,t]=qn.useState("favorites"),{user:r}=Ge(),{recipes:n,favoriteRecipes:s}=ir(),i=we(),a=n.filter(m=>m.authorId===(r==null?void 0:r.id)),o=n.filter(m=>s.includes(m.id)),c=i.buttons.My_recipes,u=i.buttons.Favorites,d=i.buttons.Nutrition_goal,h=i.nutritionists.editProfile.title,f=(r==null?void 0:r.type)==="Nutritionist";return qn.useEffect(()=>{if(f){e==="nutrition"&&t("recipes");return}(e==="recipes"||e==="professional")&&t("favorites")},[f,e]),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"inline-flex rounded-full border border-slate-100 bg-slate-50 p-1 dark:border-slate-800 dark:bg-slate-900",children:[f&&l.jsx(Bo,{active:e==="recipes",onClick:()=>t("recipes"),children:c}),l.jsx(Bo,{active:e==="favorites",onClick:()=>t("favorites"),children:u}),!f&&l.jsx(Bo,{active:e==="nutrition",onClick:()=>t("nutrition"),children:d}),f&&l.jsx(Bo,{active:e==="professional",onClick:()=>t("professional"),children:h})]}),l.jsxs("div",{className:"mt-2",children:[e==="recipes"&&f&&l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[a.map(m=>l.jsx(ch,{recipe:m},m.id)),a.length===0&&l.jsx("p",{className:"col-span-full py-8 text-center text-sm text-slate-500 dark:text-slate-400",children:i.profile.noRecipesYet})]}),e==="favorites"&&l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.map(m=>l.jsx(ch,{recipe:m},m.id)),o.length===0&&l.jsx("p",{className:"col-span-full py-8 text-center text-sm text-slate-500 dark:text-slate-400",children:i.profile.noFavorites})]}),e==="nutrition"&&!f&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(L5,{}),l.jsxs("div",{className:"mx-auto grid max-w-5xl grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white/90 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/90 sm:p-5",children:l.jsx(D5,{})}),l.jsx($5,{})]})]}),e==="professional"&&f&&l.jsx("div",{className:"max-w-4xl",children:l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:i.nutritionists.editProfile.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:i.nutritionists.editProfile.subtitle})]}),l.jsx(U5,{})]})})]})]})}function B5(){const{user:e}=Ge(),{recipes:t,favoriteRecipes:r}=ir(),{goals:n,activeGoals:s}=ao(),{getTotalsForDate:i,entries:a}=Oc(),{isPremium:o}=Tc(),c=we(),u=o();if(!e||e.type!=="Client")return null;e.profile;const d=t.filter(g=>r.includes(g.id)),h=d.length,f=d.reduce((g,p)=>g+p.nutritionFacts.calories,0)/(h||1),m=d.reduce((g,p)=>g+p.prepTime,0)/(h||1),y=w.useMemo(()=>{const g=new Date,p=g.getFullYear(),v=String(g.getMonth()+1).padStart(2,"0"),j=String(g.getDate()).padStart(2,"0");return`${p}-${v}-${j}`},[]),x=w.useMemo(()=>i(y),[i,y,a]),b=c.profile.nutritionGoalsnames;return l.jsxs("div",{className:"space-y-8",children:[u&&l.jsx("div",{className:"rounded-2xl border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-800/40 p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/40",children:l.jsx(sa,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-amber-900 dark:text-amber-200",children:c.profile.clientPremium}),l.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[c.labels.aiMentoring,"  ",c.labels.unlimitedAccess]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(Ja,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.profile.favorites})]}),l.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:h})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(FN,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.profile.nutritionGoalsnames.calories})]}),l.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:f.toFixed(0)})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(ls,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.recipe.prepTime})]}),l.jsxs("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:[m.toFixed(0),"min"]})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(ob,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.labels.activeGoals})]}),l.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:s.length})]})]}),Object.keys(n).length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:c.profile.dailyGoals}),l.jsx(Aa,{to:"/perfil?tab=nutrition",className:"text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:c.profile.viewDiaryAndGoals??"Ver dirio e metas"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:["calories","protein","carbs","fat","fiber"].map(g=>{if(!s.includes(g))return null;const p=n[g]??0,v=x[g]??0,j=p>0?Math.min(1,v/p):0,k=g==="calories"?"kcal":"g",T=Math.max(0,p-v);return l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:b[g]}),l.jsxs("p",{className:"mt-1 text-xs text-slate-600 dark:text-slate-300",children:[v.toFixed(1)," / ",p.toFixed(1)," ",k,"  ",c.profile.remaining??"Restante",": ",T.toFixed(1)," ",k]})]}),l.jsx("div",{className:"shrink-0 text-right",children:l.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[Math.round(j*100),"%"]})})]}),l.jsx("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:l.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all",style:{width:`${Math.round(j*100)}%`}})})]},g)})}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:c.profile.progressBasedOnDiary??"O progresso  calculado com base no que voc registra no dirio alimentar."})]}),d.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:c.profile.recentFavorites}),l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.slice(0,3).map(g=>l.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-slate-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60",children:[l.jsx("img",{src:g.image,alt:g.title,className:"h-16 w-16 rounded-lg object-cover"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:g.title}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 sm:text-sm",children:g.category}),l.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[l.jsxs("span",{children:[" ",g.rating.toFixed(1)]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[g.prepTime,"min"]})]})]})]},g.id))})]})]})}const H5={emerald:{ring:"ring-emerald-500/10 dark:ring-emerald-400/10",icon:"text-emerald-600 dark:text-emerald-400",value:"text-emerald-700 dark:text-emerald-300",pillBg:"bg-emerald-50 dark:bg-emerald-900/30",pillText:"text-emerald-700 dark:text-emerald-200"},slate:{ring:"ring-slate-500/10 dark:ring-slate-400/10",icon:"text-slate-600 dark:text-slate-300",value:"text-slate-900 dark:text-slate-50",pillBg:"bg-slate-100 dark:bg-slate-800/60",pillText:"text-slate-600 dark:text-slate-200"},amber:{ring:"ring-amber-500/10 dark:ring-amber-400/10",icon:"text-amber-600 dark:text-amber-400",value:"text-amber-700 dark:text-amber-300",pillBg:"bg-amber-50 dark:bg-amber-900/30",pillText:"text-amber-700 dark:text-amber-200"},rose:{ring:"ring-rose-500/10 dark:ring-rose-400/10",icon:"text-rose-600 dark:text-rose-400",value:"text-rose-700 dark:text-rose-300",pillBg:"bg-rose-50 dark:bg-rose-900/30",pillText:"text-rose-700 dark:text-rose-200"},sky:{ring:"ring-sky-500/10 dark:ring-sky-400/10",icon:"text-sky-600 dark:text-sky-400",value:"text-sky-700 dark:text-sky-300",pillBg:"bg-sky-50 dark:bg-sky-900/30",pillText:"text-sky-700 dark:text-sky-200"}};function Ho({icon:e,label:t,value:r,helperText:n,tone:s="emerald"}){const i=H5[s];return l.jsx("div",{className:`group rounded-2xl border border-slate-100 bg-white p-4 shadow-sm ring-1 transition hover:-translate-y-0.5 hover:shadow-md dark:border-slate-800 dark:bg-slate-900/60 ${i.ring}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:[l.jsx("span",{className:`inline-flex h-8 w-8 items-center justify-center rounded-xl ${i.pillBg}`,children:l.jsx("span",{className:i.icon,children:e})}),l.jsx("span",{className:"truncate",children:t})]}),l.jsx("div",{className:`mt-2 text-3xl font-bold leading-none ${i.value}`,children:r}),n&&l.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n})]}),l.jsx("span",{className:`mt-1 hidden rounded-full px-2 py-1 text-[11px] font-semibold sm:inline-flex ${i.pillBg} ${i.pillText}`,children:""})]})})}function G5(){const{user:e}=Ge(),{recipes:t}=ir(),r=we();if(!e||e.type!=="Nutritionist")return null;const n=e.profile||{},s=w.useMemo(()=>t.filter(o=>o.authorId===e.id),[t,e.id]),i=w.useMemo(()=>s.reduce((o,c)=>o+c.reviews.length,0),[s]),a=w.useMemo(()=>{const o=s.reduce((c,u)=>c+u.rating,0);return s.length?o/s.length:0},[s]);return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[l.jsx(Ho,{icon:l.jsx(zN,{className:"h-4 w-4"}),label:r.profile.publishedRecipes,value:s.length,helperText:s.length?void 0:r.profile.noRecipesYet,tone:"emerald"}),l.jsx(Ho,{icon:l.jsx(cb,{className:"h-4 w-4"}),label:r.profile.totalReviews,value:i,tone:"sky"}),l.jsx(Ho,{icon:l.jsx(lb,{className:"h-4 w-4"}),label:r.profile.averageRating,value:a.toFixed(1),helperText:s.length?void 0:r.profile.publishToGetReviews??void 0,tone:"amber"}),l.jsx(Ho,{icon:l.jsx(tb,{className:"h-4 w-4"}),label:r.profile.experience,value:n.experience||"N/A",tone:"slate"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-end justify-between gap-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:r.profile.myRecipes}),s.length>0&&l.jsx(Aa,{to:"/perfil?tab=recipes",className:"text-xs font-semibold text-emerald-700 hover:underline dark:text-emerald-300",children:r.profile.viewAll??r.common.search})]}),s.length===0?l.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center dark:border-slate-800 dark:bg-slate-900/40",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:r.profile.noRecipesYet}),l.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:r.profile.publishFirstRecipe??"Publish your first recipe to start receiving reviews."})]}):l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.slice(-3).reverse().map(o=>l.jsxs(Aa,{to:`/receita/${o.id}`,className:"group flex items-center gap-4 rounded-xl border border-slate-100 bg-white p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md dark:border-slate-800 dark:bg-slate-900/60",children:[l.jsx("img",{src:o.image,alt:o.title,loading:"lazy",className:"h-16 w-16 rounded-lg object-cover ring-1 ring-slate-200/40 dark:ring-slate-800/50"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h4",{className:"truncate text-sm font-semibold text-slate-900 group-hover:text-emerald-700 dark:text-slate-50 dark:group-hover:text-emerald-300",children:o.title}),l.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[l.jsxs("span",{children:[" ",o.rating.toFixed(1)]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[o.reviews.length," ",r.recipe.reviews]})]})]})]},o.id))})]})]})}function W5({onBackToRecipes:e}){var u,d,h,f,m,y;const{user:t}=Ge(),r=we(),n=r.buttons.BackToRecipes,s=(t==null?void 0:t.type)==="Client",i=(u=r.profile)==null?void 0:u.title,a=(d=r.profile)==null?void 0:d.subtitle,o=s?(h=r.profile)==null?void 0:h.overviewClient:(f=r.profile)==null?void 0:f.overviewNutritionist,c=s?(m=r.profile)==null?void 0:m.overviewClientDescription:(y=r.profile)==null?void 0:y.overviewNutritionistDescription;return l.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[e&&l.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-sm font-medium text-emerald-700 transition-colors hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-200 dark:hover:bg-emerald-900/50",children:[l.jsx(Ya,{className:"h-4 w-4"}),l.jsx("span",{children:n})]}),t&&l.jsx("span",{className:"ml-auto inline-flex items-center rounded-full border border-emerald-100 bg-emerald-50 px-3 py-1 text-xs font-semibold uppercase tracking-[0.12em] text-emerald-700 dark:border-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200",children:s?r.profile.client:r.profile.nutricionist})]}),l.jsxs("header",{className:"mb-8 space-y-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50 sm:text-3xl",children:i}),l.jsx("p",{className:"max-w-2xl text-sm text-slate-500 dark:text-slate-400 sm:text-base",children:a})]}),l.jsxs("div",{className:"space-y-10",children:[l.jsx(I5,{}),l.jsxs("section",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 sm:text-xl",children:o}),l.jsx("p",{className:"max-w-2xl text-sm text-slate-500 dark:text-slate-400",children:c})]}),s?l.jsx(B5,{}):l.jsx(G5,{}),l.jsx("div",{className:"border-t border-slate-100 pt-6 dark:border-slate-800",children:l.jsx(V5,{})})]})]})]})}function K5(){const e=kt();return l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(W5,{onBackToRecipes:()=>e("/")})})})}function q5({recipe:e,isOpen:t,onClose:r}){const{updateRecipe:n}=ir(),s=we(),[i,a]=w.useState(!1),[o,c]=w.useState(e);if(!t)return null;const u=async D=>{D.preventDefault(),a(!0);try{await n(o),r()}catch(L){console.error("Error updating recipe:",L)}finally{a(!1)}},d=(D,L,de)=>{c(fe=>({...fe,[D]:fe[D].map((te,le)=>le===L?de:te)}))},h=D=>{c(L=>({...L,[D]:[...L[D],""]}))},f=(D,L)=>{c(de=>({...de,[D]:de[D].filter((fe,te)=>te!==L)}))},m=(D,L)=>{const de=parseFloat(L)||0;c(fe=>({...fe,nutritionFacts:{...fe.nutritionFacts,[D]:de}}))},y=s.recipe.edit||"Editar Receita",x=s.recipe.recipeTitle,b=s.recipe.recipeDescription,g=s.recipe.recipeImageURL,p=s.recipe.prepTime,v=s.recipe.difficulty,j=s.recipe.recipeCategory,k=s.recipe.ingredients,T=s.recipe.instructions,_=s.recipe.nutritionFacts,E=s.recipe.addIngredient,C=s.recipe.addStep,R=Object.keys(s.categories).map(D=>({value:D,label:s.categories[D]}));return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:l.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-xl bg-white dark:bg-slate-900 border border-slate-200/80 dark:border-slate-800 shadow-xl",children:[l.jsxs("button",{onClick:r,className:"absolute right-4 top-4 inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-700 dark:hover:bg-slate-800",children:[l.jsx(Ut,{className:"w-5 h-5"}),l.jsx("span",{className:"sr-only",children:s.common.close})]}),l.jsxs("div",{className:"px-6 pt-5 pb-4 border-b border-slate-100 dark:border-slate-800",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900 dark:text-slate-50",children:y}),l.jsx("p",{className:"mt-1 text-base text-slate-500 dark:text-slate-400",children:s.recipe.details})]}),l.jsxs("form",{onSubmit:u,className:"px-6 pb-6 pt-4 space-y-6 text-base",children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:x}),l.jsx("input",{type:"text",value:o.title,onChange:D=>c(L=>({...L,title:D.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:g}),l.jsx("input",{type:"url",value:o.image,onChange:D=>c(L=>({...L,image:D.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:b}),l.jsx("textarea",{value:o.description,onChange:D=>c(L=>({...L,description:D.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",rows:3,required:!0})]}),l.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:p}),l.jsx("input",{type:"number",value:o.prepTime,onChange:D=>c(L=>({...L,prepTime:Number(D.target.value)})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",min:1,required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:v}),l.jsxs("select",{value:o.difficulty,onChange:D=>c(L=>({...L,difficulty:D.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0,children:[l.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),l.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),l.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:j}),l.jsx("select",{value:o.category,onChange:D=>c(L=>({...L,category:D.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0,children:R.map(D=>l.jsx("option",{value:D.value,children:D.label},D.value))})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:k}),l.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"inline-flex items-center gap-1 text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:[l.jsx(si,{className:"w-4 h-4"}),E]})]}),l.jsx("div",{className:"space-y-2",children:o.ingredients.map((D,L)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:D,onChange:de=>d("ingredients",L,de.target.value),className:"flex-1 rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",placeholder:s.recipe.example,required:!0}),l.jsx("button",{type:"button",onClick:()=>f("ingredients",L),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 px-2 text-slate-400 hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(Fl,{className:"w-4 h-4"})})]},L))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:T}),l.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"inline-flex items-center gap-1 text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:[l.jsx(si,{className:"w-4 h-4"}),C]})]}),l.jsx("div",{className:"space-y-2",children:o.instructions.map((D,L)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:D,onChange:de=>d("instructions",L,de.target.value),className:"flex-1 rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",placeholder:`${s.recipe.Step} ${L+1}`,required:!0}),l.jsx("button",{type:"button",onClick:()=>f("instructions",L),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 px-2 text-slate-400 hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(Fl,{className:"w-4 h-4"})})]},L))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:_}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(o.nutritionFacts).map(([D,L])=>{const de=D;return l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-200",children:s.profile.nutritionGoalsnames[de]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:L,onChange:fe=>m(D,fe.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",placeholder:"0.00",required:!0})]},D)})})]}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",disabled:i,className:ee("inline-flex w-full items-center justify-center rounded-lg bg-emerald-600 px-4 py-3 text-base font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-400",i&&"opacity-80"),children:i?s.common.loading:s.common.save})})]})]})})}function Y5({recipe:e,onClose:t}){const[r,n]=w.useState({rating:5,comment:""}),[s,i]=w.useState(null),[a,o]=w.useState(!1),[c,u]=w.useState(!1),[d,h]=w.useState(1),[f,m]=w.useState(()=>{const z=new Date,he=z.getFullYear(),Ur=String(z.getMonth()+1).padStart(2,"0"),Kt=String(z.getDate()).padStart(2,"0");return`${he}-${Ur}-${Kt}`}),{user:y,isAuthenticated:x}=Ge(),{favoriteRecipes:b,addToFavorites:g,removeFromFavorites:p,addReview:v,updateReview:j,deleteReview:k,deleteRecipe:T}=ir(),{addRecipeToLog:_}=Oc(),{showToast:E}=ne(),C=we(),D=C.recipe.difficultyLevels[e.difficulty]||e.difficulty,L=C.categories,fe=(z=>{const he={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},Ur=z.toLowerCase().replace(/\s+/g,""),Kt=Object.keys(he).find(Vr=>Vr.toLowerCase().replace(/\s+/g,"")===Ur);return Kt?L[he[Kt]]:L[z]||z})(e.category),te=b.includes(e.id),le=(y==null?void 0:y.id)===e.authorId,Q=async z=>{if(z.preventDefault(),!!y)try{await v(e.id,{userId:y.id,userName:y.name,rating:r.rating,comment:r.comment,date:new Date().toISOString().split("T")[0]}),n({rating:5,comment:""})}catch(he){console.error("Error adding review:",he)}},A=async z=>{if(z.preventDefault(),!!s)try{await j(s.id,{rating:s.rating,comment:s.comment}),i(null)}catch(he){console.error("Error updating review:",he)}},F=async z=>{if(window.confirm(C.recipe.deleteReviewConfirm||"Tem certeza que deseja excluir esta avaliao?"))try{await k(z)}catch(he){console.error("Error deleting review:",he)}},U=async()=>{window.confirm(C.recipe.deleteConfirm)&&(await T(e.id),t())},J=z=>Number(z).toFixed(1),ge=z=>new Date(z).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),Ue=()=>{const z=C.recipe.noReviews||"Sem avaliaes",he=C.recipe.reviewSingular||"avaliao",Ur=C.recipe.reviewPlural||"avaliaes";if(e.rating===0||!e.rating||e.reviews.length===0)return z;const Kt=e.reviews.length===1?he:Ur;return`${e.rating.toFixed(1)} (${e.reviews.length} ${Kt})`},ke=e.ingredients.length===1?C.recipe.ingredientsCountSingular||"item":C.recipe.ingredientsCountPlural||"itens",jt=e.reviews.find(z=>z.userId===(y==null?void 0:y.id)),mt=x&&!jt;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm overflow-y-auto z-50",children:l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 py-8",children:l.jsxs("div",{className:"relative max-w-6xl w-full",children:[l.jsx("div",{className:"absolute -top-10 right-0 hidden md:block text-xs uppercase tracking-wider text-gray-400 dark:text-gray-500 font-medium",children:C.recipe.details||"Detalhes da receita"}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 md:px-8 pt-5 pb-4 border-b border-gray-200 dark:border-gray-800",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:C.recipe.recipe||"Receita"}),l.jsx("button",{onClick:t,className:"inline-flex items-center justify-center rounded-lg p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":C.common.close||"Fechar",children:l.jsx(Ut,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"px-6 md:px-8 pb-8 pt-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-xl shadow-md border border-gray-200 dark:border-gray-700"}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-t from-black/40 via-transparent to-transparent"}),l.jsxs("div",{className:"absolute bottom-3 left-3 inline-flex items-center gap-2 rounded-lg bg-white/90 dark:bg-gray-900/90 px-3 py-2 text-sm font-semibold shadow-lg backdrop-blur-sm",children:[l.jsx(yn,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),l.jsx("span",{className:"text-gray-900 dark:text-white",children:fe})]})]}),l.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-4 rounded-xl border border-emerald-100 dark:border-emerald-800/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40",children:l.jsx(xr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-0.5",children:C.recipe.author||"Autor"}),l.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:e.authorName||"Usurio"})]})]}),l.jsx("span",{className:"inline-flex items-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40 px-2.5 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-700 dark:text-emerald-300",children:e.authorType==="Nutritionist"?C.profile.nutricionist:C.profile.client})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-300 bg-white/50 dark:bg-black/10 rounded-lg px-3 py-2",children:[l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(VN,{className:"w-3.5 h-3.5"}),C.recipe.postedOn||"Postado em"]}),l.jsx("span",{className:"font-semibold",children:ge(e.createdAt)})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-5 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-9 h-9 rounded-lg bg-emerald-50 dark:bg-emerald-900/30",children:l.jsx(zl,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),C.recipe.ingredients]}),l.jsxs("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2.5 py-1 rounded-lg",children:[e.ingredients.length," ",ke]})]}),l.jsx("ul",{className:"space-y-2",children:e.ingredients.map((z,he)=>l.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-200 leading-relaxed",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 text-xs font-semibold mt-0.5",children:he+1}),l.jsx("span",{className:"flex-1",children:z})]},he))})]})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex justify-between items-start gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white leading-tight mb-3",children:e.title}),l.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-3 py-1.5 text-sm font-semibold",children:[l.jsx(yn,{className:"w-4 h-4"}),fe]})})]}),l.jsxs("div",{className:"flex gap-1.5",children:[x&&l.jsx("button",{onClick:()=>te?p(e.id):g(e.id),className:ee("p-2.5 rounded-full border text-base shadow-sm transition-all",te?"border-red-300 bg-red-50 text-red-500 dark:border-red-700/60 dark:bg-red-900/30":"border-gray-200 bg-white text-gray-400 hover:text-red-500 hover:border-red-200 dark:bg-gray-900 dark:border-gray-700"),children:l.jsx(Ja,{className:ee("w-5 h-5",te&&"fill-current")})}),(y==null?void 0:y.type)==="Client"&&l.jsx("button",{onClick:()=>u(!0),className:"p-2.5 border rounded-xl transition-all duration-200 border-gray-200 bg-white text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-emerald-900/20 dark:hover:border-emerald-700",title:C.profile.addToDiary??"Adicionar ao dirio",children:l.jsx(r2,{className:"w-5 h-5"})}),le&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>o(!0),className:"p-2.5 rounded-full border border-blue-200 bg-blue-50 text-blue-500 hover:bg-blue-100 shadow-sm transition-colors dark:bg-blue-900/30 dark:border-blue-700/60 dark:hover:bg-blue-900/50",title:C.recipe.edit,children:l.jsx(c2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:U,className:"p-2.5 rounded-full border border-red-200 bg-red-50 text-red-500 hover:bg-red-100 shadow-sm transition-colors dark:bg-red-900/30 dark:border-red-700/60 dark:hover:bg-red-900/50",title:C.recipe.delete,children:l.jsx($l,{className:"w-4 h-4"})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-800/30",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(ls,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:C.labels.time})]}),l.jsxs("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[e.prepTime,"min"]})]}),l.jsxs("div",{className:ee("p-3 rounded-lg border",e.difficulty==="easy"&&"bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-100 dark:border-emerald-800/30",e.difficulty==="medium"&&"bg-amber-50/50 dark:bg-amber-900/10 border-amber-100 dark:border-amber-800/30",e.difficulty==="hard"&&"bg-red-50/50 dark:bg-red-900/10 border-red-100 dark:border-red-800/30"),children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(yn,{className:ee("w-4 h-4",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-amber-600 dark:text-amber-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400")}),l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:C.labels.level})]}),l.jsx("span",{className:ee("text-base font-bold capitalize",e.difficulty==="easy"&&"text-emerald-700 dark:text-emerald-300",e.difficulty==="medium"&&"text-amber-700 dark:text-amber-300",e.difficulty==="hard"&&"text-red-700 dark:text-red-300"),children:D})]}),l.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-3 rounded-lg border border-amber-100 dark:border-amber-800/30",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(pr,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:C.labels.rating})]}),l.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Ue()})]})]}),l.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/30 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:l.jsx("p",{className:"text-base text-gray-700 dark:text-gray-200 leading-relaxed",children:e.description})}),l.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-5 rounded-xl border border-emerald-100 dark:border-emerald-800/30",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40",children:l.jsx(pr,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),C.recipe.nutritionFacts]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.calories}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[J(e.nutritionFacts.calories),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"kcal"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.protein}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[J(e.nutritionFacts.protein),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.carbs}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[J(e.nutritionFacts.carbs),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.fat}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[J(e.nutritionFacts.fat),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700 col-span-2",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.fiber}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[J(e.nutritionFacts.fiber),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-5 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-lg bg-emerald-50 dark:bg-emerald-900/30",children:l.jsx(zl,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),C.recipe.instructions]}),l.jsx("ol",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:e.instructions.map((z,he)=>l.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-200 leading-relaxed",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 text-xs font-semibold mt-0.5",children:he+1}),l.jsx("span",{className:"flex-1",children:z})]},he))})]})]})]}),l.jsxs("div",{className:"mt-10 space-y-6 border-t border-gray-100 dark:border-gray-800 pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(pr,{className:"w-5 h-5 text-yellow-400"}),C.recipe.reviews," (",e.reviews.length,")"]}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-500",children:Ue()})]}),mt&&l.jsxs("form",{onSubmit:Q,className:ee("rounded-xl p-4 space-y-3","bg-emerald-50/80 shadow-sm ring-1 ring-emerald-100","dark:bg-gray-900/50 dark:ring-0 dark:border-l-4 dark:border-emerald-500/80"),children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:C.recipe.addReviewTitle}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-base text-gray-700 dark:text-gray-300",children:[C.recipe.rating,":"]}),[1,2,3,4,5].map(z=>l.jsx("button",{type:"button",onClick:()=>n(he=>({...he,rating:z})),className:ee("text-3xl transition-colors",z<=r.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},z))]}),l.jsx("textarea",{value:r.comment,onChange:z=>n(he=>({...he,comment:z.target.value})),placeholder:C.recipe.writeReview,className:"w-full p-3 rounded-lg text-base placeholder:text-gray-500 bg-white border border-gray-300 text-gray-900 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100",rows:4,required:!0}),l.jsx("button",{type:"submit",className:"inline-flex px-5 py-2.5 bg-emerald-600 text-white text-base rounded-lg hover:bg-emerald-700 transition-colors font-semibold",children:C.recipe.submitReview})]}),s&&l.jsxs("form",{onSubmit:A,className:ee("rounded-xl p-4 space-y-3","bg-blue-50/80 ring-1 ring-blue-200 shadow-sm","dark:bg-blue-900/30 dark:ring-0 dark:border dark:border-blue-700/70"),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:C.recipe.editReviewTitle}),l.jsx("button",{type:"button",onClick:()=>i(null),className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:l.jsx(Ut,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-base text-gray-700 dark:text-gray-300",children:C.recipe.reviewLabel||"Avaliao:"}),[1,2,3,4,5].map(z=>l.jsx("button",{type:"button",onClick:()=>i(he=>he?{...he,rating:z}:null),className:ee("text-3xl transition-colors",z<=s.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},z))]}),l.jsx("textarea",{value:s.comment,onChange:z=>i(he=>he&&{...he,comment:z.target.value}),placeholder:C.recipe.writeReview,className:"w-full p-3 rounded-lg text-base placeholder:text-gray-500 bg-white border border-gray-300 text-gray-900 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100",rows:4,required:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-600 text-white text-base rounded-lg hover:bg-blue-700 transition-colors",children:C.common.save}),l.jsx("button",{type:"button",onClick:()=>i(null),className:"px-5 py-2.5 text-base rounded-lg transition-colors bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",children:C.common.cancel})]})]}),!x&&l.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400",children:C.recipe.signInToReview}),l.jsx("div",{className:"space-y-3",children:e.reviews.length===0?l.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400",children:C.recipe.noReviews}):e.reviews.map(z=>{const he=(y==null?void 0:y.id)===z.userId;return l.jsxs("div",{className:ee("rounded-xl p-4 flex flex-col gap-1","bg-gray-50 shadow-sm ring-1 ring-gray-200","dark:bg-gray-900/50 dark:ring-0 dark:border dark:border-gray-800"),children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:z.userName}),l.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300",children:z.comment})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsx("div",{className:"flex items-center",children:[...Array(5)].map((Ur,Kt)=>l.jsx("span",{className:ee("text-xl",Kt<z.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},Kt))}),he&&l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>i({id:z.id,rating:z.rating,comment:z.comment}),className:"p-1.5 rounded transition-colors text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/40",title:C.recipe.editReview,children:l.jsx(e2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>F(z.id),className:"p-1.5 rounded transition-colors text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/40",title:C.recipe.deleteReview,children:l.jsx($l,{className:"w-4 h-4"})})]})]})]}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:z.date})]},z.id)})})]})]})]})]})})}),c&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-5 shadow-xl dark:bg-gray-900",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.profile.addToDiary??"Adicionar ao dirio"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:C.profile.addToDiaryHelper??"Registre esta receita no seu dia para acompanhar as metas."})]}),l.jsx("button",{onClick:()=>u(!1),className:"rounded-lg p-2 text-gray-500 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800","aria-label":C.common.close??"Fechar",children:l.jsx(Ut,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-200",children:C.profile.date??"Data"}),l.jsx("input",{type:"date",value:f,onChange:z=>m(z.target.value),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 outline-none focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-200",children:C.profile.servings??"Pores"}),l.jsx("input",{type:"number",min:.1,step:.1,value:d,onChange:z=>h(Math.max(.1,Number(z.target.value)||1)),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 outline-none focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:C.profile.perServingHint??"Os valores nutricionais so multiplicados pelas pores."})]})]}),l.jsxs("div",{className:"mt-5 flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-200 dark:hover:bg-gray-900",children:C.common.cancel??"Cancelar"}),l.jsxs("button",{type:"button",onClick:()=>{_(e,d,f),E(C.profile.loggedToDiary??"Adicionado ao dirio.","success"),u(!1)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700",children:[l.jsx(ur,{className:"h-4 w-4"}),C.profile.confirmAdd??"Adicionar"]})]})]})}),a&&l.jsx(q5,{recipe:e,isOpen:a,onClose:()=>o(!1)})]})}function J5(){const e=kt(),{id:t}=qx(),{recipes:r,loading:n,fetchRecipes:s}=ir(),[i,a]=w.useState(!1);w.useEffect(()=>{!i&&r.length===0?s().then(()=>a(!0)):a(!0)},[s,i,r.length]);const o=r.find(c=>c.id===parseInt(t||"0"));return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:l.jsx(am,{size:"lg"})}):o?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(Y5,{recipe:o,onClose:()=>e("/")})})}):l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Receita no encontrada"}),l.jsx("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Voltar ao Incio"})]})})}var H0;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(H0||(H0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G0;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(G0||(G0={}));var W0;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(W0||(W0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=["user","model","function","system"];var Jl;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Jl||(Jl={}));var Ql;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Ql||(Ql={}));var q0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(q0||(q0={}));var Y0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Y0||(Y0={}));var da;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(da||(da={}));var J0;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(J0||(J0={}));var Q0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Q0||(Q0={}));var X0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(X0||(X0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class bs extends at{constructor(t,r){super(t),this.response=r}}class b1 extends at{constructor(t,r,n,s){super(t),this.status=r,this.statusText=n,this.errorDetails=s}}class vn extends at{}class w1 extends at{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="https://generativelanguage.googleapis.com",X5="v1beta",Z5="0.24.1",e3="genai-js";var ss;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ss||(ss={}));class t3{constructor(t,r,n,s,i){this.model=t,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=i}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||X5;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||Q5}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function r3(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${e3}/${Z5}`),t.join(" ")}async function n3(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",r3(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new vn(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,i]of n.entries()){if(s==="x-goog-api-key")throw new vn(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new vn(`Header name ${s} can only be set using the apiClient field`);r.append(s,i)}}return r}async function s3(e,t,r,n,s,i){const a=new t3(e,t,r,n,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},l3(i)),{method:"POST",headers:await n3(a),body:s})}}async function oo(e,t,r,n,s,i={},a=fetch){const{url:o,fetchOptions:c}=await s3(e,t,r,n,s,i);return i3(o,c,a)}async function i3(e,t,r=fetch){let n;try{n=await r(e,t)}catch(s){a3(s,e)}return n.ok||await o3(n,e),n}function a3(e,t){let r=e;throw r.name==="AbortError"?(r=new w1(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof b1||e instanceof vn||(r=new at(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function o3(e,t){let r="",n;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new b1(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function l3(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),cl(e.candidates[0]))throw new bs(`${Zr(e)}`,e);return c3(e)}else if(e.promptFeedback)throw new bs(`Text not available. ${Zr(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),cl(e.candidates[0]))throw new bs(`${Zr(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Z0(e)[0]}else if(e.promptFeedback)throw new bs(`Function call not available. ${Zr(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),cl(e.candidates[0]))throw new bs(`${Zr(e)}`,e);return Z0(e)}else if(e.promptFeedback)throw new bs(`Function call not available. ${Zr(e)}`,e)},e}function c3(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Z0(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const u3=[da.RECITATION,da.SAFETY,da.LANGUAGE];function cl(e){return!!e.finishReason&&u3.includes(e.finishReason)}function Zr(e){var t,r,n;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const i=e.candidates[0];cl(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function za(e){return this instanceof za?(this.v=e,this):new za(e)}function d3(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(f){n[f]&&(s[f]=function(m){return new Promise(function(y,x){i.push([f,m,y,x])>1||o(f,m)})})}function o(f,m){try{c(n[f](m))}catch(y){h(i[0][3],y)}}function c(f){f.value instanceof za?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){o("next",f)}function d(f){o("throw",f)}function h(f,m){f(m),i.shift(),i.length&&o(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function h3(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=p3(t),[n,s]=r.tee();return{stream:m3(n),response:f3(s)}}async function f3(e){const t=[],r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return om(g3(t));t.push(s)}}function m3(e){return d3(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:s}=yield za(r.read());if(s)break;yield yield za(om(n))}})}function p3(e){const t=e.getReader();return new ReadableStream({start(n){let s="";return i();function i(){return t.read().then(({value:a,done:o})=>{if(o){if(s.trim()){n.error(new at("Failed to parse stream"));return}n.close();return}s+=a;let c=s.match(ey),u;for(;c;){try{u=JSON.parse(c[1])}catch{n.error(new at(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(u),s=s.substring(c[0].length),c=s.match(ey)}return i()}).catch(a=>{let o=a;throw o.stack=a.stack,o.name==="AbortError"?o=new w1("Request aborted when reading from the stream"):o=new at("Error reading from the stream"),o})}}})}function g3(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let s=0;for(const i of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=i.citationMetadata,r.candidates[s].groundingMetadata=i.groundingMetadata,r.candidates[s].finishReason=i.finishReason,r.candidates[s].finishMessage=i.finishMessage,r.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[s].content||(r.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const o of i.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[s].content.parts.push(a)}s++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(e,t,r,n){const s=await oo(t,ss.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return h3(s)}async function j1(e,t,r,n){const i=await(await oo(t,ss.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:om(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Ua(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return y3(t)}function y3(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const i of e)"functionResponse"in i?(r.parts.push(i),s=!0):(t.parts.push(i),n=!0);if(n&&s)throw new at("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new at("No content is provided for sending chat message.");return n?t:r}function v3(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new vn("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const i=Ua(e);n.contents=[i]}return{generateContentRequest:n}}function ty(e){let t;return e.contents?t=e:t={contents:[Ua(e)]},e.systemInstruction&&(t.systemInstruction=_1(e.systemInstruction)),t}function x3(e){return typeof e=="string"||Array.isArray(e)?{content:Ua(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],b3={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function w3(e){let t=!1;for(const r of e){const{role:n,parts:s}=r;if(!t&&n!=="user")throw new at(`First content should be with role 'user', got ${n}`);if(!K0.includes(n))throw new at(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(K0)}`);if(!Array.isArray(s))throw new at("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new at("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of s)for(const c of ry)c in o&&(i[c]+=1);const a=b3[n];for(const o of ry)if(!a.includes(o)&&i[o]>0)throw new at(`Content with role '${n}' can't contain '${o}' part`);t=!0}}function ny(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="SILENT_ERROR";class k3{constructor(t,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(w3(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,s,i,a,o,c;await this._sendPromise;const u=Ua(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r);let f;return this._sendPromise=this._sendPromise.then(()=>j1(this._apiKey,this.model,d,h)).then(m=>{var y;if(ny(m.response)){this._history.push(u);const x=Object.assign({parts:[],role:"model"},(y=m.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(x)}else{const x=Zr(m.response);x&&console.warn(`sendMessage() was unsuccessful. ${x}. Inspect response object for details.`)}f=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,f}async sendMessageStream(t,r={}){var n,s,i,a,o,c;await this._sendPromise;const u=Ua(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r),f=k1(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(m=>{throw new Error(sy)}).then(m=>m.response).then(m=>{if(ny(m)){this._history.push(u);const y=Object.assign({},m.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=Zr(m);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(m=>{m.message!==sy&&console.error(m)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(e,t,r,n){return(await oo(t,ss.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(e,t,r,n){return(await oo(t,ss.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function S3(e,t,r,n){const s=r.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await oo(t,ss.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=_1(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const s=ty(t),i=Object.assign(Object.assign({},this._requestOptions),r);return j1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}async generateContentStream(t,r={}){var n;const s=ty(t),i=Object.assign(Object.assign({},this._requestOptions),r);return k1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}startChat(t){var r;return new k3(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=v3(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return j3(this.apiKey,this.model,n,s)}async embedContent(t,r={}){const n=x3(t),s=Object.assign(Object.assign({},this._requestOptions),r);return _3(this.apiKey,this.model,n,s)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return S3(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new at("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new iy(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new vn("Cached content must contain a `name` field.");if(!t.model)throw new vn("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(r!=null&&r[a]&&t[a]&&(r==null?void 0:r[a])!==t[a]){if(a==="model"){const o=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===c)continue}throw new vn(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${t[a]})`)}const i=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new iy(this.apiKey,i,n)}}const C3="gemini-2.5-flash",E3=10,S1="AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",T3=new N3(S1);async function ay(e,t,r=[]){var n;try{const s=P3(t),i=R3(r,t),u=(await T3.getGenerativeModel({model:C3,systemInstruction:{role:"system",parts:[{text:s}]},safetySettings:[{category:Jl.HARM_CATEGORY_HARASSMENT,threshold:Ql.BLOCK_MEDIUM_AND_ABOVE},{category:Jl.HARM_CATEGORY_HATE_SPEECH,threshold:Ql.BLOCK_MEDIUM_AND_ABOVE}]}).startChat({history:i}).sendMessage(e)).response;return{content:(((n=u==null?void 0:u.text)==null?void 0:n.call(u))||"").trim()||"Oi! Como posso te ajudar hoje? Posso sugerir receitas por dificuldade (easy/medium/hard), tempo (ex.: at 30 min) e avaliao (ex.: 4.5+ )."}}catch(s){console.error("Erro ao chamar a API do Gemini:",s);let i="Desculpe, ocorreu um erro ao tentar processar sua solicitao. Tente novamente em alguns instantes.";return s instanceof Error&&(s.message.includes("API_KEY")?i="Erro de configurao da IA. Entre em contato com o suporte.":s.message.includes("quota")?i="Limite de uso da IA atingido. Tente novamente mais tarde.":(s.message.includes("network")||s.message.includes("fetch"))&&(i="Erro de conexo. Verifique sua internet e tente novamente.")),{content:i,error:s instanceof Error?s.message:"Unknown error"}}}function P3(e){return`
Voc  NutriBot, um assistente virtual geral do site NutriChefe.

Papel:
- Responder a QUALQUER pergunta do usurio (receitas, nutrio, treino/alimentao, curiosidades ou at que dia  hoje?).
- Quando a pergunta envolver receitas (fcil/medium/hard, vegana etc.), o backend aplica filtros e envia os cards; voc pode responder curto e encorajar refinamentos.
- Quando envolver metas nutricionais (emagrecimento, ganho de massa, definio etc.), oferea recomendaes prticas e seguras.

Estilo:
- Tom humano, acolhedor e objetivo. Sem texto robtico.
- Prefira listas curtas e exemplos prticos.
- Se algo estiver ambguo, faa no mximo 1 pergunta curta para destravar.

Boas prticas para nutrio:
- Emagrecimento: foco em dficit calrico sustentvel, protenas, fibras, hidratao e movimento dirio; evitar ultraprocessados e bebidas aucaradas.
- Ganho de massa: supervit leve, 1,62,2 g/kg/dia de protena distribuda, carboidratos suficientes para treino, sono e consistncia.
- Sempre adaptao  realidade do usurio; evite prescries fechadas.

Regras:
1) Orientao educativa  para plano individual, recomende consultar nutricionista.
2) No faa diagnstico mdico.
3) Responda em PT-BR por padro.
4) Mapeie dificuldade: fcil/fceiseasy, mdio/mdiamedium, difcil/difceishard (tambm em EN).
5) Se perguntarem a data/hora, use o contexto: hoje  ${new Intl.DateTimeFormat("pt-BR",{dateStyle:"full",timeStyle:"short",timeZone:"America/Sao_Paulo"}).format(new Date)} (America/Sao_Paulo).
  `.trim()}function R3(e,t){return e.slice(-E3).map(r=>({role:r.sender_type==="user"?"user":"model",parts:[{text:r.content}]}))}function A3(){return S1!=="your-api-key-here"}const M3={easy:["fcil","facil","fceis","faceis","facinha","facinho","facinhas","facinhos","simples","iniciante","tranquila","descomplicada","easy","simple","beginner","quick"],medium:["mdio","medio","intermedirio","intermediario","mdia","mediana","medium","average","intermediate","normal"],hard:["difcil","dificil","difceis","dificeis","avanado","avancado","complexo","trabalhosa","desafiadora","hard","difficult","advanced","complex","challenging"]},N1=["Vegana","Baixo Carboidrato","Rica em Protena","Sem Glten","Vegetariana"],C1={Vegana:["vegana","vegano","vegan"],"Baixo Carboidrato":["baixo carboidrato","low carb","pouco carbo","baixo carb","lowcarb"],"Rica em Protena":["rica em protena","muita proteina","alta protena","alto teor proteico","proteica","proteinado","protein rich","high protein"],"Sem Glten":["sem glten","sem gluten","gluten free","sg","livre de glten"],Vegetariana:["vegetariana","vegetariano","veggie","ovo-lacto","ovolacto","vegetarian"]},oy={vegan:"Vegana",vegetarian:"Vegetariana","gluten-free":"Sem Glten","gluten free":"Sem Glten","low carb":"Baixo Carboidrato","low-carb":"Baixo Carboidrato","high protein":"Rica em Protena","protein rich":"Rica em Protena"},ly=/(\d+(?:[.,]\d+)?)/,I3=new Set(["receita","receitas","quero","queria","gostaria","me","mostra","mostrar","mostre","traga","trazer","uma","umas","um","uns","de","do","da","no","na","em","pra","para","por","a","o","as","os","ai","ia","porfavor","por","favor"]);function D3(e){const t=e.replace(/-/g,"").slice(0,8);return parseInt(t,16)}function L3(e){return e==null?"":typeof e=="string"?e:String(e)}function rr(e){return L3(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim()}function uh(e){return e==null||Number.isNaN(e)?0:Math.round(Number(e)*10)/10}function O3(e){if(!(e!=null&&e.length))return 0;const t=e.reduce((r,n)=>r+(n.rating??0),0)/e.length;return uh(t)}function F3(e){const t=(typeof e.rating=="number"?e.rating:O3(e.reviews))||0;return{id:D3(e.id),title:e.title,description:e.description,author:e.author_name||"NutriChefe",rating:t}}function E1(e){const t=rr(e).trim();if(oy[t])return oy[t];for(const r of N1)if(C1[r].map(rr).some(s=>t===s||t.includes(s)||s.includes(t)))return r;return null}function $3(e){const t=rr(e);return t==="easy"||t==="medium"||t==="hard"?t:/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||t.includes("simples")?"easy":/\bmedi/.test(t)?"medium":/\bdific/.test(t)||/\bhard\b/.test(t)||/\bdifficult\b/.test(t)?"hard":"medium"}function z3(e){const t=e.match(/\b(top|s[o]|somente|apenas|mostrar|mostra|traga|trazer)?\s*(\d{1,3})\b/);if(!t)return;const r=parseInt(t[2],10);if(!(!Number.isFinite(r)||r<=0))return Math.min(r,100)}function U3(e){if(/\b(nota|avalia|melhores|melhor|maior(es)? nota|rank|mais bem avaliadas?)\b/.test(e))return"rating";if(/\btempo|rapidez|mais r[a]pidas?|r[a]pido(s)? primeiro\b/.test(e))return"prepTime";if(/\bnovo(s)?|recent(es)?|mais recente(s)?\b/.test(e))return"newest"}function V3(e){const t=rr(e).split(/\s+/).filter(Boolean).filter(r=>!I3.has(r)).join(" ").trim();if(!(!t||t.length<=2))return t}function B3(e){const t=rr(e),r={};for(const a of N1)if(C1[a].map(rr).some(c=>t.includes(c))){r.category=a;break}for(const[a,o]of Object.entries(M3))if(o.some(c=>t.includes(rr(c)))){r.difficulty=a;break}r.difficulty||(/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||/\beasy\b|\bsimple\b/.test(t)?r.difficulty="easy":/\bm[e]di[oa]\b|\bmedium\b/.test(t)?r.difficulty="medium":/\bdific(?:eis|il)\b|\bhard\b|\bdifficult\b/.test(t)&&(r.difficulty="hard")),(/\br[a]pid[oa]s?\b/.test(t)||/\b<=?\s*15\b/.test(t))&&(r.maxPrep=15),(/\bm[e]di[oa]\b/.test(t)||/\b<=?\s*30\b/.test(t))&&(r.maxPrep=r.maxPrep??30),/\blongo?s?\b|\b>?\s*30\b/.test(t)&&(r.minPrep=31);const n=t.match(new RegExp(`\\b(em|ate|at|<=?)\\s*${ly.source}\\s*(min|mins|minutos)\\b`));if(n){const a=parseFloat(n[2].replace(",","."));isNaN(a)||(r.maxPrep=Math.min(r.maxPrep??1/0,a))}const s=t.match(new RegExp(`${ly.source}\\s*(\\+|mais)?\\s*(\\*|estrela|estrelas)?`));if(s){const a=parseFloat(s[1].replace(",","."));!isNaN(a)&&a>=0&&a<=5&&(/\+|mais/.test(s[2]||"")||/estrela|\*/.test(s[3]||""))&&(r.minRating=a)}/\b4\+\b/.test(t)&&(r.minRating=Math.max(r.minRating??0,4)),/\b4[.,]5\+\b/.test(t)&&(r.minRating=Math.max(r.minRating??0,4.5)),/\b5\s*(\*|estrelas?)?\b/.test(t)&&(r.minRating=5),/\btod[ao]s?\b|\bqualquer\b/.test(t)&&(r.wantAll=!0),r.limit=z3(t)??void 0,r.sort=U3(t)??void 0,r.hasStructuredFilter=!!(r.category||r.difficulty||r.maxPrep||r.minPrep||r.minRating);const i=V3(e);return!r.hasStructuredFilter&&i&&(r.plainSearch=i),r}async function H3(){const{data:e,error:t}=await q.from("recipes").select("id, title, description, image, prep_time, difficulty, category, rating, nutrition_facts, author_id, created_at, updated_at");if(t)throw t;const r=e||[];if(r.length===0)return[];const n=Array.from(new Set(r.map(u=>u.author_id).filter(Boolean)));let s={};if(n.length>0){const{data:u}=await q.from("profiles").select("id, full_name").in("id",n);u&&(s=Object.fromEntries(u.map(d=>[d.id,d.full_name||"NutriChefe"])))}const i=r.map(u=>u.id),{data:a}=await q.from("reviews").select("recipe_id, rating").in("recipe_id",i),o={};if(a&&a.length)for(const u of a)o[u.recipe_id]||(o[u.recipe_id]={sum:0,count:0}),o[u.recipe_id].sum+=u.rating??0,o[u.recipe_id].count+=1;return r.map(u=>{const d=o[u.id];let h=null;if(d&&d.count>0)h=uh(d.sum/d.count);else if(u.rating!==null&&u.rating!==void 0){const m=Number(u.rating);h=Number.isFinite(m)&&m>0?uh(m):null}const f=E1(u.category)??u.category;return{id:u.id,title:u.title,description:u.description,image:u.image,prep_time:u.prep_time,difficulty:$3(u.difficulty),category:f,rating:h,author_id:u.author_id,author_name:u.author_id&&s[u.author_id]?s[u.author_id]:"NutriChefe",nutrition_facts:u.nutrition_facts||null,reviews:[],created_at:u.created_at,updated_at:u.updated_at}})}function T1(e,t){let r=e.slice();if(t.category&&(r=r.filter(n=>(E1(n.category)??n.category)===t.category)),t.difficulty&&(r=r.filter(n=>n.difficulty===t.difficulty)),typeof t.maxPrep=="number"&&(r=r.filter(n=>n.prep_time<=t.maxPrep)),typeof t.minPrep=="number"&&(r=r.filter(n=>n.prep_time>=t.minPrep)),typeof t.minRating=="number"&&(r=r.filter(n=>(typeof n.rating=="number"?n.rating:0)>=t.minRating)),t.plainSearch){const n=rr(t.plainSearch);r=r.filter(s=>rr(s.title).includes(n)||rr(s.description||"").includes(n))}return r}function G3(e,t){const r=e.slice();return t==="prepTime"?r.sort((n,s)=>n.prep_time-s.prep_time||(s.rating??0)-(n.rating??0)):t==="newest"?r.sort((n,s)=>new Date(s.created_at||0).getTime()-new Date(n.created_at||0).getTime()):r.sort((n,s)=>{const i=n.rating??0,a=s.rating??0;return a!==i?a-i:n.prep_time-s.prep_time}),r}function W3(e,t=12){return e.slice(0,t).map(F3)}function K3(e,t){const r=[n=>{typeof n.minRating=="number"&&delete n.minRating},n=>{typeof n.maxPrep=="number"&&delete n.maxPrep},n=>{n.category&&delete n.category},n=>{n.difficulty&&delete n.difficulty}];for(const n of r){const s={...t};n(s);const i=T1(e,s);if(i.length>0)return{list:i}}return{list:e.slice()}}function q3(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Math.abs(t)}function zu(e,t=0){if(!e.length)return e[0];const r=t%e.length;return e[r]}function Y3(e){const t=e.filter(Boolean);return t.length===0?"":t.length===1?t[0]:t.length===2?`${t[0]} e ${t[1]}`:`${t.slice(0,-1).join(", ")} e ${t[t.length-1]}`}function J3(e,t){const{f0:r,shown:n,matchedExactly:s,sortKey:i}=t,a=q3(e),o=[];r.category&&o.push(r.category),r.difficulty&&o.push(r.difficulty==="easy"?"fceis":r.difficulty==="medium"?"mdias":"difceis"),typeof r.maxPrep=="number"&&o.push(`at ${r.maxPrep} min`),typeof r.minRating=="number"&&o.push(`${r.minRating}+ `),i==="prepTime"&&o.push("mais rpidas primeiro"),i==="newest"&&o.push("mais recentes"),i==="rating"&&o.push("bem avaliadas");const c=Y3(o),u=typeof r.limit=="number",d=[`Separei estas ${c?`**${c}**`:"opes"} pra voc:`,`Olha s algumas ideias ${c?`**${c}**`:""}:`,`Que tal comear por estas ${c?`**${c}**`:"sugestes"}:`],h=["Separei algumas das favoritas do pessoal:","Aqui vo algumas ideias legais do nosso acervo:","Peguei algumas sugestes que costumam agradar:"],y=[!!r.difficulty&&!r.category&&typeof r.maxPrep!="number"&&typeof r.minPrep!="number"&&typeof r.minRating!="number"||r.category||r.maxPrep||r.minRating||i?zu(d,a):zu(h,a)];if(u?y.push(n<(r.limit??n)?`Consegui **${n}** no momento.`:`Mostrando **${n}** como voc pediu.`):!r.hasStructuredFilter&&!r.plainSearch&&y.push(`Mostrando ${n}.`),!s&&n>0&&!u){const x=["Ajustei um pouquinho os critrios pra ampliar as ideias.","Dei uma flexionada nos filtros pra te trazer opes parecidas.","Expandi levemente os critrios pra no te deixar na mo."];y.push(zu(x,a))}return y.join(`
`)}async function cy(e){const t=B3(e),r=await H3();let s=T1(r,t),i=s.length>0;s.length===0&&(s=K3(r,t).list,i=!1);const a=!t.hasStructuredFilter&&!t.plainSearch;let o=t.sort??(a?"rating":void 0);!t.sort&&t.difficulty==="easy"&&(o="prepTime"),!t.sort&&t.difficulty==="hard"&&(o="rating");const c=t.limit??(t.wantAll?100:12),u=G3(s,o),d=W3(u,c);return d.length===0?{content:"No pintou nada com esses critrios. Quer tentar vegana fcil, rpida 4.5+ ou sem glten em 15 min?",recipes:[],suggestions:["receitas fceis","vegana rpida","rica em protena 5"]}:{content:J3(e,{f0:t,shown:d.length,total:s.length,matchedExactly:i,sortKey:o}),recipes:d,suggestions:d.length<5?["receitas rpidas","vegana fcil","5 "]:[]}}async function uy(e){const{data:t,error:r}=await q.from("ai_configurations").select("*").eq("nutritionist_id",e).single();if(r&&r.code!=="PGRST116")throw r;return t}async function Q3(e){const{data:t,error:r}=await q.from("ai_configurations").insert([e]).select().single();if(r)throw r;return t}async function X3(e,t){const{data:r,error:n}=await q.from("ai_configurations").update(t).eq("id",e).select().single();if(n)throw n;return r}async function Z3(e){let t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{throw new Error("createAIConversation: payload invlido (string no  JSON)")}const r={client_id:t.client_id,nutritionist_id:t.nutritionist_id??null,ai_config_id:t.ai_config_id??null,title:t.title??"Nova conversa com IA",is_active:t.is_active??!0},{data:n,error:s}=await q.from("ai_conversations").insert([r]).select("*").single();if(s)throw s;return n}async function eM(e){const{data:t,error:r}=await q.from("ai_conversations").select("*").eq("client_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function tM(e){const{data:t,error:r}=await q.from("ai_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return t||[]}async function dy(e){const{data:t,error:r}=await q.from("ai_messages").insert([e]).select().single();if(r)throw r;return t}function rM(e){const t=rr(e);return/\bemagrec|perder peso|perda de gordura|defini[c][a]o|definir|secar\b/.test(t)||/\bganhar massa|hipertrof|massa magra|bulking|volume\b/.test(t)}async function nM(e,t,r){let n="";typeof e=="string"?n=e:e&&typeof e=="object"&&"content"in e&&(n=String(e.content));const s=n.toLowerCase(),i=/\breceit|\bprato|\bingredient|\bvegana|\bgluten|\bcarbo|\bprote[i]na|\bfac(eis|il)|\bhard\b|\bdifficult\b|\bmedium\b/.test(s),a=rM(n);if(i&&a){const[c,u]=await Promise.all([cy(n),ay(`Contexto: o usurio quer sugestes voltadas para objetivo corporal/nutricional.
Pergunta: "${n}"
Responda de forma direta e til, em 35 bullets, incluindo:
- princpios prticos para o objetivo (emagrecer/ganhar massa);
- 24 ideias de refeies;
- lembrete curto de consultar nutricionista para plano individual.`)]);return{content:`${u.content}

${c.content}`,recipes:c.recipes,suggestions:c.suggestions}}return i?cy(n):{content:(await ay(n)).content,recipes:[],suggestions:[]}}const sM=zr((e,t)=>({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null,fetchAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await uy(r);e({aiConfig:n,loading:!1})}catch(n){console.error("Error fetching AI configuration:",n);const s=n instanceof Error?n.message:"Erro ao carregar configurao da IA";e({error:s,loading:!1})}},createAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await Q3(r);e({aiConfig:n,loading:!1}),ne.getState().showToast("Configurao da IA criada com sucesso!","success")}catch(n){console.error("Error creating AI configuration:",n);const s=n instanceof Error?n.message:"Erro ao criar configurao da IA";throw e({error:s,loading:!1}),ne.getState().showToast("Erro ao criar configurao da IA","error"),n}},updateAIConfiguration:async(r,n)=>{e({loading:!0,error:null});try{const s=await X3(r,n);e({aiConfig:s,loading:!1}),ne.getState().showToast("Configurao da IA atualizada com sucesso!","success")}catch(s){console.error("Error updating AI configuration:",s);const i=s instanceof Error?s.message:"Erro ao atualizar configurao da IA";throw e({error:i,loading:!1}),ne.getState().showToast("Erro ao atualizar configurao da IA","error"),s}},fetchConversations:async r=>{e({loading:!0,error:null});try{const n=await eM(r);e({conversations:n,loading:!1})}catch(n){console.error("Error fetching conversations:",n);const s=n instanceof Error?n.message:"Erro ao carregar conversas";e({error:s,loading:!1})}},createConversation:async(r,n)=>{e({loading:!0,error:null});try{let s=null;if(n){const a=await uy(n);s=(a==null?void 0:a.id)||null}const i=await Z3({client_id:r,nutritionist_id:n,ai_config_id:s,title:"Nova conversa com IA",is_active:!0});return e(a=>({conversations:[i,...a.conversations],currentConversation:i,loading:!1})),i}catch(s){console.error("Error creating conversation:",s);const i=s instanceof Error?s.message:"Erro ao criar conversa";throw e({error:i,loading:!1}),ne.getState().showToast("Erro ao criar conversa","error"),s}},setCurrentConversation:r=>{e({currentConversation:r,messages:[]}),r&&t().fetchMessages(r.id)},fetchMessages:async r=>{e({loading:!0,error:null});try{const n=await tM(r);e({messages:n,loading:!1})}catch(n){console.error("Error fetching messages:",n);const s=n instanceof Error?n.message:"Erro ao carregar mensagens";e({error:s,loading:!1})}},sendMessage:async(r,n)=>{const{currentConversation:s}=t();if(s){e({sendingMessage:!0,error:null});try{const i=await dy({conversation_id:r,sender_type:"user",content:n,metadata:{}});e(u=>({messages:[...u.messages,i]}));let a=t().aiConfig;if(!a&&s.ai_config_id){const{data:u}=await q.from("ai_configurations").select("*").eq("id",s.ai_config_id).single();a=u}const o=await nM(n,a||{id:"default",nutritionist_id:"default",ai_name:"NutriBot",personality:"empathetic",custom_instructions:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t().messages),c=await dy({conversation_id:r,sender_type:"ai",content:o.content,metadata:{recipes:o.recipes,suggestions:o.suggestions}});e(u=>({messages:[...u.messages,c],sendingMessage:!1}))}catch(i){console.error("Error sending message:",i);const a=i instanceof Error?i.message:"Erro ao enviar mensagem";e({error:a,sendingMessage:!1}),ne.getState().showToast("Erro ao enviar mensagem","error")}}},clearError:()=>e({error:null}),reset:()=>e({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null})}));function iM(){var v;const{user:e}=Ge(),{conversations:t,currentConversation:r,messages:n,sendingMessage:s,createConversation:i,setCurrentConversation:a,sendMessage:o,fetchMessages:c}=sM(),[u,d]=w.useState(""),h=w.useRef(null),f=w.useRef(null),m=we(),y=A3();w.useEffect(()=>{var j;(j=h.current)==null||j.scrollIntoView({behavior:"smooth"})},[n]),w.useEffect(()=>{!s&&f.current&&f.current.focus()},[s]);const x=async()=>{if(e)try{const j=await i(e.id);a(j)}catch(j){console.error("Error starting conversation:",j)}},b=async j=>{if(j.preventDefault(),!u.trim()||!r||s)return;const k=u.trim();d("");try{await o(r.id,k)}catch(T){console.error("Error sending message:",T),d(k)}},g=j=>j.split(`
`).map((k,T)=>{if(k.startsWith("# "))return l.jsx("h3",{className:"text-lg font-bold mt-4 mb-2",children:k.substring(2)},T);if(k.startsWith("## "))return l.jsx("h4",{className:"text-md font-semibold mt-3 mb-1",children:k.substring(3)},T);if(k.startsWith("- ")||k.startsWith(" "))return l.jsxs("div",{className:"flex items-start gap-2 my-1",children:[l.jsx("span",{className:"text-purple-500 mt-1",children:""}),l.jsx("span",{children:k.substring(2)})]},T);const _=k.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return k.trim()?l.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:_}},T):l.jsx("br",{},T)}),p=j=>l.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-purple-200 dark:border-purple-700 mt-3",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(yn,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:j.title}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:j.description}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(xr,{className:"w-3 h-3"}),j.author]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(pr,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),j.rating>0?j.rating.toFixed(1):m.recipe.noReviews]})]})]})]})});return r?l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:l.jsx(Wn,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white",children:((v=r.ai_config)==null?void 0:v.ai_name)||"NutriBot"}),l.jsx("p",{className:"text-purple-100 text-sm",children:m.aiChat.headerSubtitle})]})]})}),l.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[l.jsx(to,{children:n.map(j=>{var k;return l.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:ee("flex gap-3",j.sender_type==="user"?"justify-end":"justify-start"),children:[j.sender_type==="ai"&&l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex-shrink-0",children:l.jsx(Wn,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:ee("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",j.sender_type==="user"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"),children:[l.jsx("div",{className:"text-sm",children:g(j.content)}),((k=j.metadata)==null?void 0:k.recipes)&&j.metadata.recipes.length>0&&l.jsx("div",{className:"mt-3 space-y-2",children:j.metadata.recipes.map((T,_)=>p(T))}),l.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(j.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),j.sender_type==="user"&&l.jsx("div",{className:"p-2 bg-green-600 rounded-full flex-shrink-0",children:l.jsx(xr,{className:"w-4 h-4 text-white"})})]},j.id)})}),s&&l.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full",children:l.jsx(Wn,{className:"w-4 h-4 text-white"})}),l.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(am,{size:"sm"}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.typing})]})})]}),l.jsx("div",{ref:h})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[l.jsxs("form",{onSubmit:b,className:"flex gap-3",children:[l.jsx("input",{ref:f,type:"text",value:u,onChange:j=>d(j.target.value),placeholder:m.aiChat.inputPlaceholder,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",disabled:s}),l.jsx(oe.button,{type:"submit",disabled:!u.trim()||s,className:ee("px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",!u.trim()||s?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700"),whileHover:!s&&u.trim()?{scale:1.05}:{},whileTap:!s&&u.trim()?{scale:.95}:{},children:s?l.jsx(ni,{className:"w-4 h-4 animate-spin"}):l.jsx(i2,{className:"w-4 h-4"})})]}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:[m.aiChat.disclaimer,!y]})]})]})}):l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:l.jsx(Wn,{className:"w-12 h-12 text-white"})}),l.jsx(oe.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1",children:l.jsx(ab,{className:"w-6 h-6 text-yellow-500"})})]})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:m.aiChat.welcomeTitle}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:m.aiChat.welcomeDescription}),!y,l.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[l.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:m.aiChat.examples.recipesTitle}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.recipesExample})]}),l.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:m.aiChat.examples.tipsTitle}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.tipsExample})]}),l.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-green-700 dark:text-green-300 mb-2",children:m.aiChat.examples.helpTitle}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.helpExample})]})]}),l.jsxs(oe.button,{onClick:x,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 mx-auto",whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(pf,{className:"w-5 h-5"}),m.aiChat.startConversationButton]})]})})}const aM="price_1S8hUJRvfweGXYGcPyJ9VAR9",oM=19.9;function lM(){const e=we(),{showToast:t}=ne(),[r,n]=w.useState([]),[s,i]=w.useState(!1),[a,o]=w.useState(null);w.useEffect(()=>{q.auth.getUser().then(({data:x})=>o(x.user?{id:x.user.id}:null));const{data:y}=q.auth.onAuthStateChange((x,b)=>{o(b!=null&&b.user?{id:b.user.id}:null)});return()=>{var x,b;(b=(x=y==null?void 0:y.subscription)==null?void 0:x.unsubscribe)==null||b.call(x)}},[]),w.useEffect(()=>{Gb().then(y=>n(y||[])).catch(y=>{console.error(y),t(e.premium.loadPlansError)})},[t,e.premium.loadPlansError]);const c=w.useMemo(()=>r.find(y=>y.stripe_price_id)??r[0]??null,[r]),u=c&&typeof c.price=="number"&&c.price>0?c.price:oM,d=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),h=(c==null?void 0:c.billing_period)||"monthly",f=[{icon:l.jsx(Wn,{className:"w-5 h-5"}),title:e.premium.features.mentoringUnlimitedTitle,description:e.premium.features.mentoringUnlimitedDescription},{icon:l.jsx(pf,{className:"w-5 h-5"}),title:e.premium.features.personalizedConsultationsTitle,description:e.premium.features.personalizedConsultationsDescription},{icon:l.jsx(pr,{className:"w-5 h-5"}),title:e.premium.features.smartRecommendationsTitle,description:e.premium.features.smartRecommendationsDescription},{icon:l.jsx(d2,{className:"w-5 h-5"}),title:e.premium.features.prioritySupportTitle,description:e.premium.features.prioritySupportDescription}],m=async()=>{try{if(i(!0),!a){t(e.premium.loginRequired),window.location.href="/login";return}const y=(c==null?void 0:c.stripe_price_id)||aM;await qT({planId:c==null?void 0:c.id,priceId:y})}catch(y){console.error(y),t((y==null?void 0:y.message)||e.premium.checkoutErrorGeneric)}finally{i(!1)}};return l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-2xl p-8 text-center border border-purple-200 dark:border-purple-700",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:l.jsx(sa,{className:"w-12 h-12 text-white"})}),l.jsx(oe.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:l.jsx(ab,{className:"w-6 h-6 text-yellow-500"})})]})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e.premium.title}),l.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:[e.premium.descriptionPrefix,l.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:e.premium.planName}),e.premium.descriptionSuffix]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 mb-8 border border-purple-200 dark:border-purple-700",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx(sa,{className:"w-6 h-6 text-purple-600"}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.premium.planName})]}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("span",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400",children:d}),l.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["/ ",h==="monthly"?e.premium.perMonthLabel:h]})]}),l.jsx("div",{className:"rounded-xl border border-purple-100 dark:border-purple-900/40 bg-white/70 dark:bg-white/5 backdrop-blur p-4 md:p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.accessNutritionists})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.whatsappDirect})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.personalizedGoals})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.mealPlans})]})]}),l.jsx("div",{className:"md:pl-6 md:border-l md:border-purple-200/60 dark:md:border-purple-900/40",children:l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.weeklyFollowup})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.progressReports})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.premiumRecipes})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.vipCommunity})]})]})})]})}),l.jsxs(oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:s,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[l.jsx(sa,{className:"w-5 h-5"}),s?e.premium.ctaLoading:e.premium.ctaSubscribe]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-2",children:f.map((y,x)=>l.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"flex items-start gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg text-white",children:y.icon}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:y.title}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.description})]})]},x))}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.premium.footerNote})]})})}function cM({onBack:e}){const{user:t,isNutritionist:r}=Ge(),{hasFeatureAccess:n}=Tc(),s=we(),i=t&&(r()||n("ai_mentoring"));return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("button",{onClick:e,className:`
          mb-8 inline-flex items-center gap-2
          text-green-600 dark:text-green-400
          hover:text-green-700 dark:hover:text-green-300
          font-medium text-lg
          group
        `,children:[l.jsx(Ya,{className:`
            w-6 h-6 transition-transform duration-200
            group-hover:-translate-x-1
          `}),l.jsx("span",{className:"tracking-wide",children:s.common.back})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 md:p-8",children:i?l.jsx(iM,{}):l.jsx(lM,{})})]})}function uM(){const e=kt();return l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(cM,{onBack:()=>e("/")})})})}function dM(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,o]=w.useState(!1),[c,u]=w.useState(!1),[d,h]=w.useState(!0),[f,m]=w.useState("idle"),[y,x]=w.useState(""),[b,g]=w.useState(!1);w.useEffect(()=>{(async()=>{try{console.log("Checking recovery token..."),(await GT()).valid?(console.log("Valid recovery token found"),g(!0)):(m("error"),x("Link de recuperao invlido ou expirado. Solicite um novo link."),g(!1))}catch(C){console.error("Token validation error:",C),m("error"),x("Erro ao validar link de recuperao. Tente novamente."),g(!1)}finally{h(!1)}})()},[]);const p=E=>{const C=[];return E.length<6&&C.push("A senha deve ter pelo menos 6 caracteres"),/(?=.*[a-z])/.test(E)||C.push("A senha deve conter pelo menos uma letra minscula"),/(?=.*[A-Z])/.test(E)||C.push("A senha deve conter pelo menos uma letra maiscula"),/(?=.*\d)/.test(E)||C.push("A senha deve conter pelo menos um nmero"),C},v=async E=>{E.preventDefault(),u(!0),x("");const C=p(e);if(C.length>0){x(C[0]),u(!1);return}if(e!==r){x("As senhas no coincidem"),u(!1);return}try{console.log("Updating password..."),await HT(e),console.log("Password updated successfully"),m("success"),setTimeout(async()=>{await q.auth.signOut(),setTimeout(()=>{window.location.href="/"},3e3)},1e3)}catch(R){console.error("Password reset error:",R),x(R.message||"Erro inesperado. Tente novamente."),m("error")}finally{u(!1)}},k=(E=>{let C=0;return E.length>=6&&C++,E.match(/[a-z]/)&&C++,E.match(/[A-Z]/)&&C++,E.match(/[0-9]/)&&C++,E.match(/[^a-zA-Z0-9]/)&&C++,C})(e),T=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"],_=["Muito fraca","Fraca","Regular","Boa","Forte"];return d?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[l.jsx(ni,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-green-600"}),l.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Verificando link de recuperao..."}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto validamos seu link de recuperao."})]})}):f==="success"?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:l.jsx(ns,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Senha redefinida com sucesso!"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua senha foi alterada com sucesso. Voc ser redirecionado para a pgina de login em alguns segundos."}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:l.jsx(oe.div,{className:"bg-green-600 h-2 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:3}})}),l.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Ir para login agora"})]})}):f==="error"||!b?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:l.jsx(xc,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Link invlido ou expirado"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:y||"Este link de recuperao  invlido ou expirou. Solicite um novo link de recuperao."}),l.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Voltar ao login"})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[l.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:l.jsx(JN,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Nova senha"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite sua nova senha segura"})]})]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(l2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Dicas para uma senha segura:"}),l.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[l.jsx("li",{children:" Pelo menos 6 caracteres"}),l.jsx("li",{children:" Combine letras maisculas e minsculas"}),l.jsx("li",{children:" Inclua nmeros e smbolos"}),l.jsx("li",{children:" Evite informaes pessoais"})]})]})]})}),l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova senha"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:s?"text":"password",id:"password",value:e,onChange:E=>t(E.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite sua nova senha",required:!0,disabled:c}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:c,children:s?l.jsx(tg,{className:"w-5 h-5"}):l.jsx(rg,{className:"w-5 h-5"})})]}),e&&l.jsx("div",{className:"mt-2",children:l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:ee("h-2 rounded-full transition-all duration-300",T[Math.max(0,k-1)]),style:{width:`${k/5*100}%`}})}),l.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:_[Math.max(0,k-1)]})]})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar senha"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a?"text":"password",id:"confirmPassword",value:r,onChange:E=>n(E.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirme sua nova senha",required:!0,disabled:c}),l.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:c,children:a?l.jsx(tg,{className:"w-5 h-5"}):l.jsx(rg,{className:"w-5 h-5"})})]}),r&&e!==r&&l.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"As senhas no coincidem"})]}),y&&l.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:y})}),l.jsxs("button",{type:"submit",disabled:c||e!==r||k<3,className:ee("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",c||e!==r||k<3?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[c&&l.jsx(ni,{className:"w-4 h-4 animate-spin"}),c?"Redefinindo...":"Redefinir senha"]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium",disabled:c,children:"Voltar ao login"})})]})})}function hM(){return l.jsx(dM,{})}function fM(){const e=kt();return w.useEffect(()=>{const t=setTimeout(()=>{e("/perfil")},5e3);return()=>clearTimeout(t)},[e]),l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-4 rounded-full",children:l.jsx(ur,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Assinatura Confirmada!"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua assinatura foi processada com sucesso. Voc agora tem acesso a todos os recursos premium."}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Redirecionando para seu perfil em 5 segundos..."}),l.jsx("button",{onClick:()=>e("/perfil"),className:"mt-6 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Ir para o Perfil Agora"})]})})}function mM(){const e=kt();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-4 rounded-full",children:l.jsx(Ut,{className:"w-12 h-12 text-red-600 dark:text-red-400"})})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pagamento Cancelado"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Seu pagamento foi cancelado. Sua assinatura no foi processada."}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-6",children:"Voc pode tentar novamente a qualquer momento."}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>e("/mentoria-ia"),className:"w-full px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar Novamente"}),l.jsx("button",{onClick:()=>e("/"),className:"w-full px-6 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors",children:"Voltar ao Incio"})]})]})})}function pM(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),s=kt(),i=we();w.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o}=await q.from("profiles").select("*").eq("user_type","Nutritionist").eq("profile_visibility","public").order("years_of_experience",{ascending:!1});if(!o){t([]),n(!1);return}const c=await Promise.all(o.map(async u=>{const{count:d}=await q.from("recipes").select("*",{count:"exact",head:!0}).eq("author_id",u.id),{data:h}=await q.from("reviews").select("rating").in("recipe_id",await q.from("recipes").select("id").eq("author_id",u.id).then(m=>{var y;return((y=m.data)==null?void 0:y.map(x=>x.id))||[]})),f=h&&h.length>0?h.reduce((m,y)=>m+y.rating,0)/h.length:0;return{id:u.id,full_name:u.full_name||"Nutricionista",professional_bio:u.professional_bio||"",specializations:u.specializations||[],years_of_experience:u.years_of_experience||0,consultation_price:u.consultation_price||0,clinic_address:u.clinic_address||"",accepting_new_clients:u.accepting_new_clients??!0,published_recipes_count:d||0,average_rating:f}}));t(c)}catch(o){console.error("Error loading nutritionists:",o)}finally{n(!1)}};return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("button",{onClick:()=>s("/"),className:"mb-6 flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:[l.jsx(Ya,{className:"h-5 w-5"}),i.common.back]}),l.jsxs("div",{className:"mb-12 text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:i.nutritionists.title}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:i.nutritionists.subtitle})]}),e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(xr,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i.nutritionists.noNutritionists})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(o=>l.jsxs("div",{onClick:()=>s(`/nutricionista/${o.id}`),className:"group cursor-pointer bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-200 overflow-hidden border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 h-24"}),l.jsxs("div",{className:"p-6 -mt-12",children:[l.jsx("div",{className:"flex items-center justify-center w-20 h-20 rounded-full bg-white dark:bg-gray-800 mx-auto mb-4 shadow-lg border-4 border-white dark:border-gray-800",children:l.jsx(xr,{className:"h-10 w-10 text-emerald-600 dark:text-emerald-400"})}),l.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 dark:text-white mb-2",children:o.full_name}),l.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[o.years_of_experience>0&&l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-300",children:[l.jsx(ls,{className:"h-4 w-4"}),o.years_of_experience," anos"]}),o.average_rating>0&&l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-300",children:[l.jsx(pr,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),o.average_rating.toFixed(1)]})]}),o.specializations.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:o.specializations.slice(0,3).map((c,u)=>l.jsx("span",{className:"px-3 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 text-xs font-medium rounded-full",children:c},u))}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 text-center line-clamp-3 mb-4 min-h-[60px]",children:o.professional_bio||"Profissional de nutrio"}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700",children:[o.consultation_price>0&&l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.nutritionists.profile.price}),l.jsxs("p",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:["R$ ",o.consultation_price.toFixed(2)]})]}),l.jsx("div",{className:ee("flex items-center gap-1 text-xs font-medium px-3 py-1.5 rounded-full",o.accepting_new_clients?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:o.accepting_new_clients?l.jsxs(l.Fragment,{children:[l.jsx(ns,{className:"h-3.5 w-3.5"}),i.nutritionists.acceptingClients]}):l.jsxs(l.Fragment,{children:[l.jsx(gf,{className:"h-3.5 w-3.5"}),i.nutritionists.notAcceptingClients]})})]})]})]},o.id))})]})})}function gM(){const{id:e}=qx(),t=kt(),r=we(),[n,s]=w.useState(null),[i,a]=w.useState([]),[o,c]=w.useState(0),[u,d]=w.useState(!0);w.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{const{data:f}=await q.from("profiles").select("*").eq("id",e).eq("user_type","Nutritionist").eq("profile_visibility","public").maybeSingle();if(!f){t("/nutricionistas");return}s({id:f.id,full_name:f.full_name||"Nutricionista",professional_bio:f.professional_bio||"",specializations:f.specializations||[],years_of_experience:f.years_of_experience||0,education:f.education||"",certifications:f.certifications||[],approach:f.approach||"",consultation_price:f.consultation_price||0,consultation_duration:f.consultation_duration||60,consultation_types:f.consultation_types||[],accepts_health_insurance:f.accepts_health_insurance||!1,health_insurances:f.health_insurances||[],phone:f.phone||"",whatsapp:f.whatsapp||"",instagram:f.instagram||"",website:f.website||"",clinic_address:f.clinic_address||"",accepting_new_clients:f.accepting_new_clients??!0});const{data:m}=await q.from("recipes").select("*").eq("author_id",e).order("created_at",{ascending:!1}).limit(6);if(m){a(m);const{data:y}=await q.from("reviews").select("rating").in("recipe_id",m.map(x=>x.id));if(y&&y.length>0){const x=y.reduce((b,g)=>b+g.rating,0)/y.length;c(x)}}}catch(f){console.error("Error loading profile:",f)}finally{d(!1)}};return u?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):n?l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[l.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 h-48"}),l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 -mt-32 pb-12",children:[l.jsxs("button",{onClick:()=>t("/nutricionistas"),className:"mb-4 flex items-center gap-2 text-white hover:text-emerald-100 transition-colors",children:[l.jsx(Ya,{className:"h-5 w-5"}),r.common.back]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start mb-8",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex items-center justify-center w-32 h-32 rounded-full bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/40 dark:to-teal-900/40 shadow-lg",children:l.jsx(xr,{className:"h-16 w-16 text-emerald-600 dark:text-emerald-400"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:n.full_name}),l.jsxs("div",{className:"flex flex-wrap gap-3 mb-3",children:[n.years_of_experience>0&&l.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600 dark:text-gray-300",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsxs("span",{className:"text-sm font-medium",children:[n.years_of_experience," ",r.nutritionists.profile.experience]})]}),o>0&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(pr,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),l.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:o.toFixed(1)})]}),i.length>0&&l.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600 dark:text-gray-300",children:[l.jsx(Ja,{className:"h-4 w-4"}),l.jsxs("span",{className:"text-sm font-medium",children:[i.length," ",r.nutritionists.profile.publishedRecipes]})]})]})]}),l.jsx("div",{className:ee("flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold",n.accepting_new_clients?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:n.accepting_new_clients?l.jsxs(l.Fragment,{children:[l.jsx(ns,{className:"h-4 w-4"}),r.nutritionists.acceptingClients]}):l.jsxs(l.Fragment,{children:[l.jsx(gf,{className:"h-4 w-4"}),r.nutritionists.notAcceptingClients]})})]}),n.specializations.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.specializations.map((f,m)=>l.jsx("span",{className:"px-3 py-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 text-sm font-medium rounded-full",children:f},m))})]})]}),l.jsxs("div",{className:"space-y-8",children:[n.professional_bio&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx(xr,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.about]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-line",children:n.professional_bio})]}),n.education&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx(WN,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.education]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:n.education})]}),n.certifications.length>0&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx(tb,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.certifications]}),l.jsx("ul",{className:"space-y-2",children:n.certifications.map((f,m)=>l.jsxs("li",{className:"flex items-start gap-2 text-gray-600 dark:text-gray-300",children:[l.jsx(ns,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400 flex-shrink-0 mt-0.5"}),f]},m))})]}),n.approach&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:r.nutritionists.profile.approach}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-line",children:n.approach})]}),n.consultation_price>0&&l.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(HN,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.consultationInfo]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:r.nutritionists.profile.price}),l.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["R$ ",n.consultation_price.toFixed(2)]})]}),n.consultation_duration>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:r.nutritionists.profile.duration}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[n.consultation_duration," ",r.nutritionists.profile.minutes]})]})]}),n.consultation_types.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.profile.consultationTypes}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.consultation_types.map((f,m)=>l.jsxs("span",{className:"px-3 py-1.5 bg-white dark:bg-gray-800 rounded-lg text-sm font-medium text-gray-900 dark:text-white",children:[f.type,": R$ ",f.price]},m))})]}),n.accepts_health_insurance&&n.health_insurances.length>0&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-emerald-200 dark:border-emerald-800",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.profile.acceptsInsurance}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.health_insurances.map((f,m)=>l.jsx("span",{className:"px-3 py-1 bg-white dark:bg-gray-800 rounded-lg text-sm text-gray-900 dark:text-white",children:f},m))})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:r.nutritionists.profile.contactInfo}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.whatsapp&&l.jsxs("a",{href:`https://wa.me/${n.whatsapp.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-xl hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[l.jsx(pf,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"WhatsApp"}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:n.whatsapp})]})]}),n.phone&&l.jsxs("a",{href:`tel:${n.phone}`,className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(t2,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.nutritionists.profile.phone}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:n.phone})]})]}),n.instagram&&l.jsxs("a",{href:`https://instagram.com/${n.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-pink-50 dark:bg-pink-900/20 rounded-xl hover:bg-pink-100 dark:hover:bg-pink-900/30 transition-colors",children:[l.jsx(YN,{className:"h-5 w-5 text-pink-600 dark:text-pink-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Instagram"}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:n.instagram})]})]}),n.website&&l.jsxs("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[l.jsx(sb,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.nutritionists.profile.website}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:n.website})]})]}),n.clinic_address&&l.jsxs("div",{className:"md:col-span-2 flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[l.jsx(QN,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:r.nutritionists.profile.address}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:n.clinic_address})]})]})]})]}),i.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:r.nutritionists.profile.publishedRecipes}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(f=>l.jsxs("div",{onClick:()=>t(`/receita/${f.id}`),className:"cursor-pointer group rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all",children:[l.jsx("img",{src:f.image,alt:f.title,className:"w-full h-32 object-cover"}),l.jsx("div",{className:"p-3",children:l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm line-clamp-2",children:f.title})})]},f.id))})]})]})]})})]})]}):null}function hy(){const e=kt();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"text-6xl font-bold text-gray-300 dark:text-gray-700",children:"404"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pgina no encontrada"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Desculpe, a pgina que voc est procurando no existe ou foi removida."}),l.jsxs("button",{onClick:()=>e("/"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(KN,{className:"w-5 h-5"}),"Voltar ao Incio"]})]})})}class P1 extends w.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx($N,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function R1({children:e}){const{theme:t}=Lc();return w.useEffect(()=>{const r=()=>{const n=t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",n)};if(r(),t==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addEventListener("change",r),()=>n.removeEventListener("change",r)}},[t]),l.jsx(l.Fragment,{children:e})}function yM(){return l.jsx(P1,{children:l.jsx(R1,{children:l.jsx(ZS,{})})})}const vM=jN([{path:"/",element:l.jsx(yM,{}),errorElement:l.jsx(hy,{}),children:[{index:!0,element:l.jsx(P5,{})},{path:"perfil",element:l.jsx(K5,{})},{path:"receita/:id",element:l.jsx(J5,{})},{path:"mentoria-ia",element:l.jsx(uM,{})},{path:"nutricionistas",element:l.jsx(pM,{})},{path:"nutricionista/:id",element:l.jsx(gM,{})},{path:"reset-password",element:l.jsx(hM,{})},{path:"assinatura/sucesso",element:l.jsx(fM,{})},{path:"assinatura/cancelada",element:l.jsx(mM,{})},{path:"404",element:l.jsx(hy,{})},{path:"*",element:l.jsx(XS,{to:"/404",replace:!0})}]}]);function xM(){return l.jsx(DN,{router:vM})}Ex(document.getElementById("root")).render(l.jsx(w.StrictMode,{children:l.jsx(P1,{children:l.jsx(R1,{children:l.jsx(xM,{})})})}));export{fy as g};
