(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function V1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var uy={exports:{}},Kl={},dy={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),B1=Symbol.for("react.portal"),H1=Symbol.for("react.fragment"),G1=Symbol.for("react.strict_mode"),W1=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),q1=Symbol.for("react.context"),Y1=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),Q1=Symbol.for("react.memo"),X1=Symbol.for("react.lazy"),ym=Symbol.iterator;function Z1(e){return e===null||typeof e!="object"?null:(e=ym&&e[ym]||e["@@iterator"],typeof e=="function"?e:null)}var hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fy=Object.assign,my={};function li(e,t,r){this.props=e,this.context=t,this.refs=my,this.updater=r||hy}li.prototype.isReactComponent={};li.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};li.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function py(){}py.prototype=li.prototype;function oh(e,t,r){this.props=e,this.context=t,this.refs=my,this.updater=r||hy}var lh=oh.prototype=new py;lh.constructor=oh;fy(lh,li.prototype);lh.isPureReactComponent=!0;var vm=Array.isArray,gy=Object.prototype.hasOwnProperty,ch={current:null},yy={key:!0,ref:!0,__self:!0,__source:!0};function vy(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)gy.call(t,n)&&!yy.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:$a,type:e,key:i,ref:a,props:s,_owner:ch.current}}function ek(e,t){return{$$typeof:$a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uh(e){return typeof e=="object"&&e!==null&&e.$$typeof===$a}function tk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xm=/\/+/g;function Dc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tk(""+e.key):t.toString(36)}function Uo(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case $a:case B1:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Dc(a,0):n,vm(s)?(r="",e!=null&&(r=e.replace(xm,"$&/")+"/"),Uo(s,t,r,"",function(u){return u})):s!=null&&(uh(s)&&(s=ek(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(xm,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",vm(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+Dc(i,o);a+=Uo(i,t,r,l,s)}else if(l=Z1(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+Dc(i,o++),a+=Uo(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function uo(e,t,r){if(e==null)return e;var n=[],s=0;return Uo(e,n,"","",function(i){return t.call(r,i,s++)}),n}function rk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},zo={transition:null},nk={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:zo,ReactCurrentOwner:ch};ce.Children={map:uo,forEach:function(e,t,r){uo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return uo(e,function(){t++}),t},toArray:function(e){return uo(e,function(t){return t})||[]},only:function(e){if(!uh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=li;ce.Fragment=H1;ce.Profiler=W1;ce.PureComponent=oh;ce.StrictMode=G1;ce.Suspense=J1;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nk;ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=fy({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ch.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)gy.call(t,l)&&!yy.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:$a,type:e.type,key:s,ref:i,props:n,_owner:a}};ce.createContext=function(e){return e={$$typeof:q1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:K1,_context:e},e.Consumer=e};ce.createElement=vy;ce.createFactory=function(e){var t=vy.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:Y1,render:e}};ce.isValidElement=uh;ce.lazy=function(e){return{$$typeof:X1,_payload:{_status:-1,_result:e},_init:rk}};ce.memo=function(e,t){return{$$typeof:Q1,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=zo.transition;zo.transition={};try{e()}finally{zo.transition=t}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(e,t){return ht.current.useCallback(e,t)};ce.useContext=function(e){return ht.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ce.useEffect=function(e,t){return ht.current.useEffect(e,t)};ce.useId=function(){return ht.current.useId()};ce.useImperativeHandle=function(e,t,r){return ht.current.useImperativeHandle(e,t,r)};ce.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return ht.current.useMemo(e,t)};ce.useReducer=function(e,t,r){return ht.current.useReducer(e,t,r)};ce.useRef=function(e){return ht.current.useRef(e)};ce.useState=function(e){return ht.current.useState(e)};ce.useSyncExternalStore=function(e,t,r){return ht.current.useSyncExternalStore(e,t,r)};ce.useTransition=function(){return ht.current.useTransition()};ce.version="18.2.0";dy.exports=ce;var b=dy.exports;const Kn=cy(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sk=b,ik=Symbol.for("react.element"),ak=Symbol.for("react.fragment"),ok=Object.prototype.hasOwnProperty,lk=sk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ck={key:!0,ref:!0,__self:!0,__source:!0};function xy(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)ok.call(t,n)&&!ck.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ik,type:e,key:i,ref:a,props:s,_owner:lk.current}}Kl.Fragment=ak;Kl.jsx=xy;Kl.jsxs=xy;uy.exports=Kl;var c=uy.exports,wy={exports:{}},Pt={},by={exports:{}},ky={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,F){var z=A.length;A.push(F);e:for(;0<z;){var Y=z-1>>>1,ge=A[Y];if(0<s(ge,F))A[Y]=F,A[z]=ge,z=Y;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var F=A[0],z=A.pop();if(z!==F){A[0]=z;e:for(var Y=0,ge=A.length,ze=ge>>>1;Y<ze;){var be=2*(Y+1)-1,kt=A[be],mt=be+1,U=A[mt];if(0>s(kt,z))mt<ge&&0>s(U,kt)?(A[Y]=U,A[mt]=z,Y=mt):(A[Y]=kt,A[be]=z,Y=be);else if(mt<ge&&0>s(U,z))A[Y]=U,A[mt]=z,Y=mt;else break e}}return F}function s(A,F){var z=A.sortIndex-F.sortIndex;return z!==0?z:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,m=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=A)n(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=r(u)}}function j(A){if(v=!1,x(A),!y)if(r(l)!==null)y=!0,le(S);else{var F=r(u);F!==null&&J(j,F.startTime-A)}}function S(A,F){y=!1,v&&(v=!1,g(C),C=-1),m=!0;var z=f;try{for(x(F),h=r(l);h!==null&&(!(h.expirationTime>F)||A&&!L());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var ge=Y(h.expirationTime<=F);F=e.unstable_now(),typeof ge=="function"?h.callback=ge:h===r(l)&&n(l),x(F)}else n(l);h=r(l)}if(h!==null)var ze=!0;else{var be=r(u);be!==null&&J(j,be.startTime-F),ze=!1}return ze}finally{h=null,f=z,m=!1}}var T=!1,k=null,C=-1,N=5,P=-1;function L(){return!(e.unstable_now()-P<N)}function D(){if(k!==null){var A=e.unstable_now();P=A;var F=!0;try{F=k(!0,A)}finally{F?de():(T=!1,k=null)}}else T=!1}var de;if(typeof p=="function")de=function(){p(D)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Z=fe.port2;fe.port1.onmessage=D,de=function(){Z.postMessage(null)}}else de=function(){w(D,0)};function le(A){k=A,T||(T=!0,de())}function J(A,F){C=w(function(){A(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,le(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var z=f;f=F;try{return A()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=f;f=A;try{return F()}finally{f=z}},e.unstable_scheduleCallback=function(A,F,z){var Y=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,A){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=z+ge,A={id:d++,callback:F,priorityLevel:A,startTime:z,expirationTime:ge,sortIndex:-1},z>Y?(A.sortIndex=z,t(u,A),r(l)===null&&A===r(u)&&(v?(g(C),C=-1):v=!0,J(j,z-Y))):(A.sortIndex=ge,t(l,A),y||m||(y=!0,le(S))),A},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(A){var F=f;return function(){var z=f;f=F;try{return A.apply(this,arguments)}finally{f=z}}}})(ky);by.exports=ky;var uk=by.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy=b,Tt=uk;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jy=new Set,la={};function ns(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(la[e]=t,e=0;e<t.length;e++)jy.add(t[e])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=Object.prototype.hasOwnProperty,dk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wm={},bm={};function hk(e){return Ou.call(bm,e)?!0:Ou.call(wm,e)?!1:dk.test(e)?bm[e]=!0:(wm[e]=!0,!1)}function fk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mk(e,t,r,n){if(t===null||typeof t>"u"||fk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var dh=/[\-:]([a-z])/g;function hh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dh,hh);et[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dh,hh);et[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dh,hh);et[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function fh(e,t,r,n){var s=et.hasOwnProperty(t)?et[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mk(t,r,s,n)&&(r=null),n||s===null?hk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Or=Sy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ho=Symbol.for("react.element"),ws=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),mh=Symbol.for("react.strict_mode"),Fu=Symbol.for("react.profiler"),_y=Symbol.for("react.provider"),Ey=Symbol.for("react.context"),ph=Symbol.for("react.forward_ref"),$u=Symbol.for("react.suspense"),Uu=Symbol.for("react.suspense_list"),gh=Symbol.for("react.memo"),qr=Symbol.for("react.lazy"),Ny=Symbol.for("react.offscreen"),km=Symbol.iterator;function wi(e){return e===null||typeof e!="object"?null:(e=km&&e[km]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,Oc;function Di(e){if(Oc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Oc=t&&t[1]||""}return`
`+Oc+e}var Fc=!1;function $c(e,t){if(!e||Fc)return"";Fc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Fc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Di(e):""}function pk(e){switch(e.tag){case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return e=$c(e.type,!1),e;case 11:return e=$c(e.type.render,!1),e;case 1:return e=$c(e.type,!0),e;default:return""}}function zu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bs:return"Fragment";case ws:return"Portal";case Fu:return"Profiler";case mh:return"StrictMode";case $u:return"Suspense";case Uu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ey:return(e.displayName||"Context")+".Consumer";case _y:return(e._context.displayName||"Context")+".Provider";case ph:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gh:return t=e.displayName||null,t!==null?t:zu(e.type)||"Memo";case qr:t=e._payload,e=e._init;try{return zu(e(t))}catch{}}return null}function gk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zu(t);case 8:return t===mh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yk(e){var t=Cy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fo(e){e._valueTracker||(e._valueTracker=yk(e))}function Ty(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Cy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vu(e,t){var r=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ry(e,t){t=t.checked,t!=null&&fh(e,"checked",t,!1)}function Bu(e,t){Ry(e,t);var r=vn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hu(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hu(e,t,r){(t!=="number"||il(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Oi=Array.isArray;function Fs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _m(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(Oi(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vn(r)}}function Py(e,t){var r=vn(t.value),n=vn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Em(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ay(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ay(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mo,My=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ca(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vk=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(e){vk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wi[t]=Wi[e]})});function Iy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wi.hasOwnProperty(e)&&Wi[e]?(""+t).trim():t+"px"}function Ly(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Iy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var xk=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ku(e,t){if(t){if(xk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function qu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=null;function yh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ju=null,$s=null,Us=null;function Nm(e){if(e=Va(e)){if(typeof Ju!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Xl(t),Ju(e.stateNode,e.type,t))}}function Dy(e){$s?Us?Us.push(e):Us=[e]:$s=e}function Oy(){if($s){var e=$s,t=Us;if(Us=$s=null,Nm(e),t)for(e=0;e<t.length;e++)Nm(t[e])}}function Fy(e,t){return e(t)}function $y(){}var Uc=!1;function Uy(e,t,r){if(Uc)return e(t,r);Uc=!0;try{return Fy(e,t,r)}finally{Uc=!1,($s!==null||Us!==null)&&($y(),Oy())}}function ua(e,t){var r=e.stateNode;if(r===null)return null;var n=Xl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Qu=!1;if(Ar)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Qu=!1}function wk(e,t,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ki=!1,al=null,ol=!1,Xu=null,bk={onError:function(e){Ki=!0,al=e}};function kk(e,t,r,n,s,i,a,o,l){Ki=!1,al=null,wk.apply(bk,arguments)}function Sk(e,t,r,n,s,i,a,o,l){if(kk.apply(this,arguments),Ki){if(Ki){var u=al;Ki=!1,al=null}else throw Error(I(198));ol||(ol=!0,Xu=u)}}function ss(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function zy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cm(e){if(ss(e)!==e)throw Error(I(188))}function jk(e){var t=e.alternate;if(!t){if(t=ss(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Cm(s),e;if(i===n)return Cm(s),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Vy(e){return e=jk(e),e!==null?By(e):null}function By(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=By(e);if(t!==null)return t;e=e.sibling}return null}var Hy=Tt.unstable_scheduleCallback,Tm=Tt.unstable_cancelCallback,_k=Tt.unstable_shouldYield,Ek=Tt.unstable_requestPaint,$e=Tt.unstable_now,Nk=Tt.unstable_getCurrentPriorityLevel,vh=Tt.unstable_ImmediatePriority,Gy=Tt.unstable_UserBlockingPriority,ll=Tt.unstable_NormalPriority,Ck=Tt.unstable_LowPriority,Wy=Tt.unstable_IdlePriority,ql=null,ur=null;function Tk(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(ql,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Ak,Rk=Math.log,Pk=Math.LN2;function Ak(e){return e>>>=0,e===0?32:31-(Rk(e)/Pk|0)|0}var po=64,go=4194304;function Fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Fi(o):(i&=a,i!==0&&(n=Fi(i)))}else a=r&~s,a!==0?n=Fi(a):i!==0&&(n=Fi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xt(t),s=1<<r,n|=e[r],t&=~s;return n}function Mk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ik(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Xt(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Mk(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Zu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ky(){var e=po;return po<<=1,!(po&4194240)&&(po=64),e}function zc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ua(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=r}function Lk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Xt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function xh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ye=0;function qy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yy,wh,Jy,Qy,Xy,ed=!1,yo=[],on=null,ln=null,cn=null,da=new Map,ha=new Map,Xr=[],Dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rm(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":da.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(t.pointerId)}}function ki(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Va(t),t!==null&&wh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ok(e,t,r,n,s){switch(t){case"focusin":return on=ki(on,e,t,r,n,s),!0;case"dragenter":return ln=ki(ln,e,t,r,n,s),!0;case"mouseover":return cn=ki(cn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return da.set(i,ki(da.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ha.set(i,ki(ha.get(i)||null,e,t,r,n,s)),!0}return!1}function Zy(e){var t=zn(e.target);if(t!==null){var r=ss(t);if(r!==null){if(t=r.tag,t===13){if(t=zy(r),t!==null){e.blockedOn=t,Xy(e.priority,function(){Jy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=td(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yu=n,r.target.dispatchEvent(n),Yu=null}else return t=Va(r),t!==null&&wh(t),e.blockedOn=r,!1;t.shift()}return!0}function Pm(e,t,r){Vo(e)&&r.delete(t)}function Fk(){ed=!1,on!==null&&Vo(on)&&(on=null),ln!==null&&Vo(ln)&&(ln=null),cn!==null&&Vo(cn)&&(cn=null),da.forEach(Pm),ha.forEach(Pm)}function Si(e,t){e.blockedOn===t&&(e.blockedOn=null,ed||(ed=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,Fk)))}function fa(e){function t(s){return Si(s,e)}if(0<yo.length){Si(yo[0],e);for(var r=1;r<yo.length;r++){var n=yo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(on!==null&&Si(on,e),ln!==null&&Si(ln,e),cn!==null&&Si(cn,e),da.forEach(t),ha.forEach(t),r=0;r<Xr.length;r++)n=Xr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xr.length&&(r=Xr[0],r.blockedOn===null);)Zy(r),r.blockedOn===null&&Xr.shift()}var zs=Or.ReactCurrentBatchConfig,ul=!0;function $k(e,t,r,n){var s=ye,i=zs.transition;zs.transition=null;try{ye=1,bh(e,t,r,n)}finally{ye=s,zs.transition=i}}function Uk(e,t,r,n){var s=ye,i=zs.transition;zs.transition=null;try{ye=4,bh(e,t,r,n)}finally{ye=s,zs.transition=i}}function bh(e,t,r,n){if(ul){var s=td(e,t,r,n);if(s===null)Qc(e,t,n,dl,r),Rm(e,n);else if(Ok(s,e,t,r,n))n.stopPropagation();else if(Rm(e,n),t&4&&-1<Dk.indexOf(e)){for(;s!==null;){var i=Va(s);if(i!==null&&Yy(i),i=td(e,t,r,n),i===null&&Qc(e,t,n,dl,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Qc(e,t,n,null,r)}}var dl=null;function td(e,t,r,n){if(dl=null,e=yh(n),e=zn(e),e!==null)if(t=ss(e),t===null)e=null;else if(r=t.tag,r===13){if(e=zy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dl=e,null}function ev(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nk()){case vh:return 1;case Gy:return 4;case ll:case Ck:return 16;case Wy:return 536870912;default:return 16}default:return 16}}var nn=null,kh=null,Bo=null;function tv(){if(Bo)return Bo;var e,t=kh,r=t.length,n,s="value"in nn?nn.value:nn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Bo=s.slice(e,1<n?1-n:void 0)}function Ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vo(){return!0}function Am(){return!1}function At(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vo:Am,this.isPropagationStopped=Am,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),t}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sh=At(ci),za=Ae({},ci,{view:0,detail:0}),zk=At(za),Vc,Bc,ji,Yl=Ae({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ji&&(ji&&e.type==="mousemove"?(Vc=e.screenX-ji.screenX,Bc=e.screenY-ji.screenY):Bc=Vc=0,ji=e),Vc)},movementY:function(e){return"movementY"in e?e.movementY:Bc}}),Mm=At(Yl),Vk=Ae({},Yl,{dataTransfer:0}),Bk=At(Vk),Hk=Ae({},za,{relatedTarget:0}),Hc=At(Hk),Gk=Ae({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Wk=At(Gk),Kk=Ae({},ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qk=At(Kk),Yk=Ae({},ci,{data:0}),Im=At(Yk),Jk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xk[e])?!!t[e]:!1}function jh(){return Zk}var eS=Ae({},za,{key:function(e){if(e.key){var t=Jk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jh,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tS=At(eS),rS=Ae({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lm=At(rS),nS=Ae({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jh}),sS=At(nS),iS=Ae({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),aS=At(iS),oS=Ae({},Yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lS=At(oS),cS=[9,13,27,32],_h=Ar&&"CompositionEvent"in window,qi=null;Ar&&"documentMode"in document&&(qi=document.documentMode);var uS=Ar&&"TextEvent"in window&&!qi,rv=Ar&&(!_h||qi&&8<qi&&11>=qi),Dm=" ",Om=!1;function nv(e,t){switch(e){case"keyup":return cS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ks=!1;function dS(e,t){switch(e){case"compositionend":return sv(t);case"keypress":return t.which!==32?null:(Om=!0,Dm);case"textInput":return e=t.data,e===Dm&&Om?null:e;default:return null}}function hS(e,t){if(ks)return e==="compositionend"||!_h&&nv(e,t)?(e=tv(),Bo=kh=nn=null,ks=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rv&&t.locale!=="ko"?null:t.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fS[e.type]:t==="textarea"}function iv(e,t,r,n){Dy(n),t=hl(t,"onChange"),0<t.length&&(r=new Sh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yi=null,ma=null;function mS(e){gv(e,0)}function Jl(e){var t=_s(e);if(Ty(t))return e}function pS(e,t){if(e==="change")return t}var av=!1;if(Ar){var Gc;if(Ar){var Wc="oninput"in document;if(!Wc){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),Wc=typeof $m.oninput=="function"}Gc=Wc}else Gc=!1;av=Gc&&(!document.documentMode||9<document.documentMode)}function Um(){Yi&&(Yi.detachEvent("onpropertychange",ov),ma=Yi=null)}function ov(e){if(e.propertyName==="value"&&Jl(ma)){var t=[];iv(t,ma,e,yh(e)),Uy(mS,t)}}function gS(e,t,r){e==="focusin"?(Um(),Yi=t,ma=r,Yi.attachEvent("onpropertychange",ov)):e==="focusout"&&Um()}function yS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(ma)}function vS(e,t){if(e==="click")return Jl(t)}function xS(e,t){if(e==="input"||e==="change")return Jl(t)}function wS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tr=typeof Object.is=="function"?Object.is:wS;function pa(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ou.call(t,s)||!tr(e[s],t[s]))return!1}return!0}function zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vm(e,t){var r=zm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zm(r)}}function lv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cv(){for(var e=window,t=il();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=il(e.document)}return t}function Eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bS(e){var t=cv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&lv(r.ownerDocument.documentElement,r)){if(n!==null&&Eh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Vm(r,i);var a=Vm(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kS=Ar&&"documentMode"in document&&11>=document.documentMode,Ss=null,rd=null,Ji=null,nd=!1;function Bm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nd||Ss==null||Ss!==il(n)||(n=Ss,"selectionStart"in n&&Eh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ji&&pa(Ji,n)||(Ji=n,n=hl(rd,"onSelect"),0<n.length&&(t=new Sh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ss)))}function xo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var js={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionend:xo("Transition","TransitionEnd")},Kc={},uv={};Ar&&(uv=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Ql(e){if(Kc[e])return Kc[e];if(!js[e])return e;var t=js[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uv)return Kc[e]=t[r];return e}var dv=Ql("animationend"),hv=Ql("animationiteration"),fv=Ql("animationstart"),mv=Ql("transitionend"),pv=new Map,Hm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){pv.set(e,t),ns(t,[e])}for(var qc=0;qc<Hm.length;qc++){var Yc=Hm[qc],SS=Yc.toLowerCase(),jS=Yc[0].toUpperCase()+Yc.slice(1);kn(SS,"on"+jS)}kn(dv,"onAnimationEnd");kn(hv,"onAnimationIteration");kn(fv,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(mv,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_S=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function Gm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Sk(n,t,void 0,e),e.currentTarget=null}function gv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Gm(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Gm(s,o,u),i=l}}}if(ol)throw e=Xu,ol=!1,Xu=null,e}function _e(e,t){var r=t[ld];r===void 0&&(r=t[ld]=new Set);var n=e+"__bubble";r.has(n)||(yv(t,e,2,!1),r.add(n))}function Jc(e,t,r){var n=0;t&&(n|=4),yv(r,e,n,t)}var wo="_reactListening"+Math.random().toString(36).slice(2);function ga(e){if(!e[wo]){e[wo]=!0,jy.forEach(function(r){r!=="selectionchange"&&(_S.has(r)||Jc(r,!1,e),Jc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wo]||(t[wo]=!0,Jc("selectionchange",!1,t))}}function yv(e,t,r,n){switch(ev(t)){case 1:var s=$k;break;case 4:s=Uk;break;default:s=bh}r=s.bind(null,t,r,e),s=void 0,!Qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Qc(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=zn(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Uy(function(){var u=i,d=yh(r),h=[];e:{var f=pv.get(e);if(f!==void 0){var m=Sh,y=e;switch(e){case"keypress":if(Ho(r)===0)break e;case"keydown":case"keyup":m=tS;break;case"focusin":y="focus",m=Hc;break;case"focusout":y="blur",m=Hc;break;case"beforeblur":case"afterblur":m=Hc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Bk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sS;break;case dv:case hv:case fv:m=Wk;break;case mv:m=aS;break;case"scroll":m=zk;break;case"wheel":m=lS;break;case"copy":case"cut":case"paste":m=qk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Lm}var v=(t&4)!==0,w=!v&&e==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,x;p!==null;){x=p;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,g!==null&&(j=ua(p,g),j!=null&&v.push(ya(p,j,x)))),w)break;p=p.return}0<v.length&&(f=new m(f,y,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==Yu&&(y=r.relatedTarget||r.fromElement)&&(zn(y)||y[Mr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?zn(y):null,y!==null&&(w=ss(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=Mm,j="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Lm,j="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?f:_s(m),x=y==null?f:_s(y),f=new v(j,p+"leave",m,r,d),f.target=w,f.relatedTarget=x,j=null,zn(d)===u&&(v=new v(g,p+"enter",y,r,d),v.target=x,v.relatedTarget=w,j=v),w=j,m&&y)t:{for(v=m,g=y,p=0,x=v;x;x=us(x))p++;for(x=0,j=g;j;j=us(j))x++;for(;0<p-x;)v=us(v),p--;for(;0<x-p;)g=us(g),x--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=us(v),g=us(g)}v=null}else v=null;m!==null&&Wm(h,f,m,v,!1),y!==null&&w!==null&&Wm(h,w,y,v,!0)}}e:{if(f=u?_s(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=pS;else if(Fm(f))if(av)S=xS;else{S=yS;var T=gS}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=vS);if(S&&(S=S(e,u))){iv(h,S,r,d);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Hu(f,"number",f.value)}switch(T=u?_s(u):window,e){case"focusin":(Fm(T)||T.contentEditable==="true")&&(Ss=T,rd=u,Ji=null);break;case"focusout":Ji=rd=Ss=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,Bm(h,r,d);break;case"selectionchange":if(kS)break;case"keydown":case"keyup":Bm(h,r,d)}var k;if(_h)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ks?nv(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(rv&&r.locale!=="ko"&&(ks||C!=="onCompositionStart"?C==="onCompositionEnd"&&ks&&(k=tv()):(nn=d,kh="value"in nn?nn.value:nn.textContent,ks=!0)),T=hl(u,C),0<T.length&&(C=new Im(C,e,null,r,d),h.push({event:C,listeners:T}),k?C.data=k:(k=sv(r),k!==null&&(C.data=k)))),(k=uS?dS(e,r):hS(e,r))&&(u=hl(u,"onBeforeInput"),0<u.length&&(d=new Im("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}gv(h,t)})}function ya(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hl(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ua(e,r),i!=null&&n.unshift(ya(e,i,s)),i=ua(e,t),i!=null&&n.push(ya(e,i,s))),e=e.return}return n}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wm(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=ua(r,i),l!=null&&a.unshift(ya(r,l,o))):s||(l=ua(r,i),l!=null&&a.push(ya(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var ES=/\r\n?/g,NS=/\u0000|\uFFFD/g;function Km(e){return(typeof e=="string"?e:""+e).replace(ES,`
`).replace(NS,"")}function bo(e,t,r){if(t=Km(t),Km(e)!==t&&r)throw Error(I(425))}function fl(){}var sd=null,id=null;function ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var od=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(e){return qm.resolve(null).then(e).catch(RS)}:od;function RS(e){setTimeout(function(){throw e})}function Xc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),fa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);fa(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),cr="__reactFiber$"+ui,va="__reactProps$"+ui,Mr="__reactContainer$"+ui,ld="__reactEvents$"+ui,PS="__reactListeners$"+ui,AS="__reactHandles$"+ui;function zn(e){var t=e[cr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mr]||r[cr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ym(e);e!==null;){if(r=e[cr])return r;e=Ym(e)}return t}e=r,r=e.parentNode}return null}function Va(e){return e=e[cr]||e[Mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Xl(e){return e[va]||null}var cd=[],Es=-1;function Sn(e){return{current:e}}function Ee(e){0>Es||(e.current=cd[Es],cd[Es]=null,Es--)}function we(e,t){Es++,cd[Es]=e.current,e.current=t}var xn={},lt=Sn(xn),xt=Sn(!1),Qn=xn;function qs(e,t){var r=e.type.contextTypes;if(!r)return xn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wt(e){return e=e.childContextTypes,e!=null}function ml(){Ee(xt),Ee(lt)}function Jm(e,t,r){if(lt.current!==xn)throw Error(I(168));we(lt,t),we(xt,r)}function vv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(I(108,gk(e)||"Unknown",s));return Ae({},r,n)}function pl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,Qn=lt.current,we(lt,e),we(xt,xt.current),!0}function Qm(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=vv(e,t,Qn),n.__reactInternalMemoizedMergedChildContext=e,Ee(xt),Ee(lt),we(lt,e)):Ee(xt),we(xt,r)}var Er=null,Zl=!1,Zc=!1;function xv(e){Er===null?Er=[e]:Er.push(e)}function MS(e){Zl=!0,xv(e)}function jn(){if(!Zc&&Er!==null){Zc=!0;var e=0,t=ye;try{var r=Er;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Er=null,Zl=!1}catch(s){throw Er!==null&&(Er=Er.slice(e+1)),Hy(vh,jn),s}finally{ye=t,Zc=!1}}return null}var Ns=[],Cs=0,gl=null,yl=0,Dt=[],Ot=0,Xn=null,Nr=1,Cr="";function Ln(e,t){Ns[Cs++]=yl,Ns[Cs++]=gl,gl=e,yl=t}function wv(e,t,r){Dt[Ot++]=Nr,Dt[Ot++]=Cr,Dt[Ot++]=Xn,Xn=e;var n=Nr;e=Cr;var s=32-Xt(n)-1;n&=~(1<<s),r+=1;var i=32-Xt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Nr=1<<32-Xt(t)+s|r<<s|n,Cr=i+e}else Nr=1<<i|r<<s|n,Cr=e}function Nh(e){e.return!==null&&(Ln(e,1),wv(e,1,0))}function Ch(e){for(;e===gl;)gl=Ns[--Cs],Ns[Cs]=null,yl=Ns[--Cs],Ns[Cs]=null;for(;e===Xn;)Xn=Dt[--Ot],Dt[Ot]=null,Cr=Dt[--Ot],Dt[Ot]=null,Nr=Dt[--Ot],Dt[Ot]=null}var Nt=null,Et=null,Ce=!1,Qt=null;function bv(e,t){var r=Ft(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Et=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xn!==null?{id:Nr,overflow:Cr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ft(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,Et=null,!0):!1;default:return!1}}function ud(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dd(e){if(Ce){var t=Et;if(t){var r=t;if(!Xm(e,t)){if(ud(e))throw Error(I(418));t=un(r.nextSibling);var n=Nt;t&&Xm(e,t)?bv(n,r):(e.flags=e.flags&-4097|2,Ce=!1,Nt=e)}}else{if(ud(e))throw Error(I(418));e.flags=e.flags&-4097|2,Ce=!1,Nt=e}}}function Zm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function ko(e){if(e!==Nt)return!1;if(!Ce)return Zm(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ad(e.type,e.memoizedProps)),t&&(t=Et)){if(ud(e))throw kv(),Error(I(418));for(;t;)bv(e,t),t=un(t.nextSibling)}if(Zm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Et=un(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=Nt?un(e.stateNode.nextSibling):null;return!0}function kv(){for(var e=Et;e;)e=un(e.nextSibling)}function Ys(){Et=Nt=null,Ce=!1}function Th(e){Qt===null?Qt=[e]:Qt.push(e)}var IS=Or.ReactCurrentBatchConfig;function qt(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var vl=Sn(null),xl=null,Ts=null,Rh=null;function Ph(){Rh=Ts=xl=null}function Ah(e){var t=vl.current;Ee(vl),e._currentValue=t}function hd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vs(e,t){xl=e,Rh=Ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(Rh!==e)if(e={context:e,memoizedValue:t,next:null},Ts===null){if(xl===null)throw Error(I(308));Ts=e,xl.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var Vn=null;function Mh(e){Vn===null?Vn=[e]:Vn.push(e)}function Sv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Mh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ir(e,n)}function Ir(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yr=!1;function Ih(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ir(e,r)}return s=n.interleaved,s===null?(t.next=t,Mh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ir(e,r)}function Go(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xh(e,r)}}function ep(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wl(e,t,r,n){var s=e.updateQueue;Yr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=u=l=null,o=i;do{var f=o.lane,m=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,v=o;switch(f=t,m=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=Ae({},h,f);break e;case 2:Yr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);es|=a,e.lanes=a,e.memoizedState=h}}function tp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var _v=new Sy.Component().refs;function fd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ae({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ec={isMounted:function(e){return(e=e._reactInternals)?ss(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dt(),s=fn(e),i=Tr(n,s);i.payload=t,r!=null&&(i.callback=r),t=dn(e,i,s),t!==null&&(Zt(t,e,s,n),Go(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dt(),s=fn(e),i=Tr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=dn(e,i,s),t!==null&&(Zt(t,e,s,n),Go(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dt(),n=fn(e),s=Tr(r,n);s.tag=2,t!=null&&(s.callback=t),t=dn(e,s,n),t!==null&&(Zt(t,e,n,r),Go(t,e,n))}};function rp(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!pa(r,n)||!pa(s,i):!0}function Ev(e,t,r){var n=!1,s=xn,i=t.contextType;return typeof i=="object"&&i!==null?i=zt(i):(s=wt(t)?Qn:lt.current,n=t.contextTypes,i=(n=n!=null)?qs(e,s):xn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ec,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function np(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ec.enqueueReplaceState(t,t.state,null)}function md(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=_v,Ih(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=zt(i):(i=wt(t)?Qn:lt.current,s.context=qs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fd(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ec.enqueueReplaceState(s,s.state,null),wl(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function _i(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;o===_v&&(o=s.refs={}),a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function So(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sp(e){var t=e._init;return t(e._payload)}function Nv(e){function t(g,p){if(e){var x=g.deletions;x===null?(g.deletions=[p],g.flags|=16):x.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=mn(g,p),g.index=0,g.sibling=null,g}function i(g,p,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<p?(g.flags|=2,p):x):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,x,j){return p===null||p.tag!==6?(p=au(x,g.mode,j),p.return=g,p):(p=s(p,x),p.return=g,p)}function l(g,p,x,j){var S=x.type;return S===bs?d(g,p,x.props.children,j,x.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qr&&sp(S)===p.type)?(j=s(p,x.props),j.ref=_i(g,p,x),j.return=g,j):(j=Qo(x.type,x.key,x.props,null,g.mode,j),j.ref=_i(g,p,x),j.return=g,j)}function u(g,p,x,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=ou(x,g.mode,j),p.return=g,p):(p=s(p,x.children||[]),p.return=g,p)}function d(g,p,x,j,S){return p===null||p.tag!==7?(p=Yn(x,g.mode,j,S),p.return=g,p):(p=s(p,x),p.return=g,p)}function h(g,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=au(""+p,g.mode,x),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ho:return x=Qo(p.type,p.key,p.props,null,g.mode,x),x.ref=_i(g,null,p),x.return=g,x;case ws:return p=ou(p,g.mode,x),p.return=g,p;case qr:var j=p._init;return h(g,j(p._payload),x)}if(Oi(p)||wi(p))return p=Yn(p,g.mode,x,null),p.return=g,p;So(g,p)}return null}function f(g,p,x,j){var S=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:o(g,p,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ho:return x.key===S?l(g,p,x,j):null;case ws:return x.key===S?u(g,p,x,j):null;case qr:return S=x._init,f(g,p,S(x._payload),j)}if(Oi(x)||wi(x))return S!==null?null:d(g,p,x,j,null);So(g,x)}return null}function m(g,p,x,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(x)||null,o(p,g,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ho:return g=g.get(j.key===null?x:j.key)||null,l(p,g,j,S);case ws:return g=g.get(j.key===null?x:j.key)||null,u(p,g,j,S);case qr:var T=j._init;return m(g,p,x,T(j._payload),S)}if(Oi(j)||wi(j))return g=g.get(x)||null,d(p,g,j,S,null);So(p,j)}return null}function y(g,p,x,j){for(var S=null,T=null,k=p,C=p=0,N=null;k!==null&&C<x.length;C++){k.index>C?(N=k,k=null):N=k.sibling;var P=f(g,k,x[C],j);if(P===null){k===null&&(k=N);break}e&&k&&P.alternate===null&&t(g,k),p=i(P,p,C),T===null?S=P:T.sibling=P,T=P,k=N}if(C===x.length)return r(g,k),Ce&&Ln(g,C),S;if(k===null){for(;C<x.length;C++)k=h(g,x[C],j),k!==null&&(p=i(k,p,C),T===null?S=k:T.sibling=k,T=k);return Ce&&Ln(g,C),S}for(k=n(g,k);C<x.length;C++)N=m(k,g,C,x[C],j),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?C:N.key),p=i(N,p,C),T===null?S=N:T.sibling=N,T=N);return e&&k.forEach(function(L){return t(g,L)}),Ce&&Ln(g,C),S}function v(g,p,x,j){var S=wi(x);if(typeof S!="function")throw Error(I(150));if(x=S.call(x),x==null)throw Error(I(151));for(var T=S=null,k=p,C=p=0,N=null,P=x.next();k!==null&&!P.done;C++,P=x.next()){k.index>C?(N=k,k=null):N=k.sibling;var L=f(g,k,P.value,j);if(L===null){k===null&&(k=N);break}e&&k&&L.alternate===null&&t(g,k),p=i(L,p,C),T===null?S=L:T.sibling=L,T=L,k=N}if(P.done)return r(g,k),Ce&&Ln(g,C),S;if(k===null){for(;!P.done;C++,P=x.next())P=h(g,P.value,j),P!==null&&(p=i(P,p,C),T===null?S=P:T.sibling=P,T=P);return Ce&&Ln(g,C),S}for(k=n(g,k);!P.done;C++,P=x.next())P=m(k,g,C,P.value,j),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?C:P.key),p=i(P,p,C),T===null?S=P:T.sibling=P,T=P);return e&&k.forEach(function(D){return t(g,D)}),Ce&&Ln(g,C),S}function w(g,p,x,j){if(typeof x=="object"&&x!==null&&x.type===bs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ho:e:{for(var S=x.key,T=p;T!==null;){if(T.key===S){if(S=x.type,S===bs){if(T.tag===7){r(g,T.sibling),p=s(T,x.props.children),p.return=g,g=p;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qr&&sp(S)===T.type){r(g,T.sibling),p=s(T,x.props),p.ref=_i(g,T,x),p.return=g,g=p;break e}r(g,T);break}else t(g,T);T=T.sibling}x.type===bs?(p=Yn(x.props.children,g.mode,j,x.key),p.return=g,g=p):(j=Qo(x.type,x.key,x.props,null,g.mode,j),j.ref=_i(g,p,x),j.return=g,g=j)}return a(g);case ws:e:{for(T=x.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(g,p.sibling),p=s(p,x.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=ou(x,g.mode,j),p.return=g,g=p}return a(g);case qr:return T=x._init,w(g,p,T(x._payload),j)}if(Oi(x))return y(g,p,x,j);if(wi(x))return v(g,p,x,j);So(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,x),p.return=g,g=p):(r(g,p),p=au(x,g.mode,j),p.return=g,g=p),a(g)):r(g,p)}return w}var Js=Nv(!0),Cv=Nv(!1),Ba={},dr=Sn(Ba),xa=Sn(Ba),wa=Sn(Ba);function Bn(e){if(e===Ba)throw Error(I(174));return e}function Lh(e,t){switch(we(wa,t),we(xa,e),we(dr,Ba),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wu(t,e)}Ee(dr),we(dr,t)}function Qs(){Ee(dr),Ee(xa),Ee(wa)}function Tv(e){Bn(wa.current);var t=Bn(dr.current),r=Wu(t,e.type);t!==r&&(we(xa,e),we(dr,r))}function Dh(e){xa.current===e&&(Ee(dr),Ee(xa))}var Te=Sn(0);function bl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eu=[];function Oh(){for(var e=0;e<eu.length;e++)eu[e]._workInProgressVersionPrimary=null;eu.length=0}var Wo=Or.ReactCurrentDispatcher,tu=Or.ReactCurrentBatchConfig,Zn=0,Pe=null,Be=null,Ke=null,kl=!1,Qi=!1,ba=0,LS=0;function rt(){throw Error(I(321))}function Fh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tr(e[r],t[r]))return!1;return!0}function $h(e,t,r,n,s,i){if(Zn=i,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wo.current=e===null||e.memoizedState===null?$S:US,e=r(n,s),Qi){i=0;do{if(Qi=!1,ba=0,25<=i)throw Error(I(301));i+=1,Ke=Be=null,t.updateQueue=null,Wo.current=zS,e=r(n,s)}while(Qi)}if(Wo.current=Sl,t=Be!==null&&Be.next!==null,Zn=0,Ke=Be=Pe=null,kl=!1,t)throw Error(I(300));return e}function Uh(){var e=ba!==0;return ba=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Pe.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Vt(){if(Be===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ke===null?Pe.memoizedState:Ke.next;if(t!==null)Ke=t,Be=e;else{if(e===null)throw Error(I(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ke===null?Pe.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ka(e,t){return typeof t=="function"?t(e):t}function ru(e){var t=Vt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=Be,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if((Zn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Pe.lanes|=d,es|=d}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,tr(n,t.memoizedState)||(vt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Pe.lanes|=i,es|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nu(e){var t=Vt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);tr(i,t.memoizedState)||(vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Rv(){}function Pv(e,t){var r=Pe,n=Vt(),s=t(),i=!tr(n.memoizedState,s);if(i&&(n.memoizedState=s,vt=!0),n=n.queue,zh(Iv.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,Sa(9,Mv.bind(null,r,n,s,t),void 0,null),Ye===null)throw Error(I(349));Zn&30||Av(r,t,s)}return s}function Av(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Mv(e,t,r,n){t.value=r,t.getSnapshot=n,Lv(t)&&Dv(e)}function Iv(e,t,r){return r(function(){Lv(t)&&Dv(e)})}function Lv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tr(e,r)}catch{return!0}}function Dv(e){var t=Ir(e,1);t!==null&&Zt(t,e,1,-1)}function ip(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=FS.bind(null,Pe,e),[t.memoizedState,e]}function Sa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ov(){return Vt().memoizedState}function Ko(e,t,r,n){var s=or();Pe.flags|=e,s.memoizedState=Sa(1|t,r,void 0,n===void 0?null:n)}function tc(e,t,r,n){var s=Vt();n=n===void 0?null:n;var i=void 0;if(Be!==null){var a=Be.memoizedState;if(i=a.destroy,n!==null&&Fh(n,a.deps)){s.memoizedState=Sa(t,r,i,n);return}}Pe.flags|=e,s.memoizedState=Sa(1|t,r,i,n)}function ap(e,t){return Ko(8390656,8,e,t)}function zh(e,t){return tc(2048,8,e,t)}function Fv(e,t){return tc(4,2,e,t)}function $v(e,t){return tc(4,4,e,t)}function Uv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zv(e,t,r){return r=r!=null?r.concat([e]):null,tc(4,4,Uv.bind(null,t,e),r)}function Vh(){}function Vv(e,t){var r=Vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bv(e,t){var r=Vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hv(e,t,r){return Zn&21?(tr(r,t)||(r=Ky(),Pe.lanes|=r,es|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=r)}function DS(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=tu.transition;tu.transition={};try{e(!1),t()}finally{ye=r,tu.transition=n}}function Gv(){return Vt().memoizedState}function OS(e,t,r){var n=fn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wv(e))Kv(t,r);else if(r=Sv(e,t,r,n),r!==null){var s=dt();Zt(r,e,n,s),qv(r,t,n)}}function FS(e,t,r){var n=fn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wv(e))Kv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,tr(o,a)){var l=t.interleaved;l===null?(s.next=s,Mh(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Sv(e,t,s,n),r!==null&&(s=dt(),Zt(r,e,n,s),qv(r,t,n))}}function Wv(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function Kv(e,t){Qi=kl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function qv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xh(e,r)}}var Sl={readContext:zt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},$S={readContext:zt,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:ap,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ko(4194308,4,Uv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ko(4,2,e,t)},useMemo:function(e,t){var r=or();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=or();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=OS.bind(null,Pe,e),[n.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:ip,useDebugValue:Vh,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=ip(!1),t=e[0];return e=DS.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pe,s=or();if(Ce){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Ye===null)throw Error(I(349));Zn&30||Av(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ap(Iv.bind(null,n,i,e),[e]),n.flags|=2048,Sa(9,Mv.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=or(),t=Ye.identifierPrefix;if(Ce){var r=Cr,n=Nr;r=(n&~(1<<32-Xt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ba++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=LS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},US={readContext:zt,useCallback:Vv,useContext:zt,useEffect:zh,useImperativeHandle:zv,useInsertionEffect:Fv,useLayoutEffect:$v,useMemo:Bv,useReducer:ru,useRef:Ov,useState:function(){return ru(ka)},useDebugValue:Vh,useDeferredValue:function(e){var t=Vt();return Hv(t,Be.memoizedState,e)},useTransition:function(){var e=ru(ka)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Rv,useSyncExternalStore:Pv,useId:Gv,unstable_isNewReconciler:!1},zS={readContext:zt,useCallback:Vv,useContext:zt,useEffect:zh,useImperativeHandle:zv,useInsertionEffect:Fv,useLayoutEffect:$v,useMemo:Bv,useReducer:nu,useRef:Ov,useState:function(){return nu(ka)},useDebugValue:Vh,useDeferredValue:function(e){var t=Vt();return Be===null?t.memoizedState=e:Hv(t,Be.memoizedState,e)},useTransition:function(){var e=nu(ka)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Rv,useSyncExternalStore:Pv,useId:Gv,unstable_isNewReconciler:!1};function Xs(e,t){try{var r="",n=t;do r+=pk(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function su(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function pd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var VS=typeof WeakMap=="function"?WeakMap:Map;function Yv(e,t,r){r=Tr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_l||(_l=!0,_d=n),pd(e,t)},r}function Jv(e,t,r){r=Tr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){pd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){pd(e,t),typeof n!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function op(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new VS;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=rj.bind(null,e,t,r),t.then(e,e))}function lp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Tr(-1,1),t.tag=2,dn(r,t,1))),r.lanes|=1),e)}var BS=Or.ReactCurrentOwner,vt=!1;function ct(e,t,r,n){t.child=e===null?Cv(t,null,r,n):Js(t,e.child,r,n)}function up(e,t,r,n,s){r=r.render;var i=t.ref;return Vs(t,s),n=$h(e,t,r,n,i,s),r=Uh(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lr(e,t,s)):(Ce&&r&&Nh(t),t.flags|=1,ct(e,t,n,s),t.child)}function dp(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Jh(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Qv(e,t,i,n,s)):(e=Qo(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:pa,r(a,n)&&e.ref===t.ref)return Lr(e,t,s)}return t.flags|=1,e=mn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Qv(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(pa(i,n)&&e.ref===t.ref)if(vt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Lr(e,t,s)}return gd(e,t,r,n,s)}function Xv(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ps,jt),jt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Ps,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,we(Ps,jt),jt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,we(Ps,jt),jt|=n;return ct(e,t,s,r),t.child}function Zv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gd(e,t,r,n,s){var i=wt(r)?Qn:lt.current;return i=qs(t,i),Vs(t,s),r=$h(e,t,r,n,i,s),n=Uh(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lr(e,t,s)):(Ce&&n&&Nh(t),t.flags|=1,ct(e,t,r,s),t.child)}function hp(e,t,r,n,s){if(wt(r)){var i=!0;pl(t)}else i=!1;if(Vs(t,s),t.stateNode===null)qo(e,t),Ev(t,r,n),md(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=zt(u):(u=wt(r)?Qn:lt.current,u=qs(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&np(t,a,n,u),Yr=!1;var f=t.memoizedState;a.state=f,wl(t,n,a,s),l=t.memoizedState,o!==n||f!==l||xt.current||Yr?(typeof d=="function"&&(fd(t,r,d,n),l=t.memoizedState),(o=Yr||rp(t,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,jv(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:qt(t.type,o),a.props=u,h=t.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=zt(l):(l=wt(r)?Qn:lt.current,l=qs(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&np(t,a,n,l),Yr=!1,f=t.memoizedState,a.state=f,wl(t,n,a,s);var y=t.memoizedState;o!==h||f!==y||xt.current||Yr?(typeof m=="function"&&(fd(t,r,m,n),y=t.memoizedState),(u=Yr||rp(t,r,u,n,f,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return yd(e,t,r,n,i,s)}function yd(e,t,r,n,s,i){Zv(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Qm(t,r,!1),Lr(e,t,i);n=t.stateNode,BS.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Js(t,e.child,null,i),t.child=Js(t,null,o,i)):ct(e,t,o,i),t.memoizedState=n.state,s&&Qm(t,r,!0),t.child}function ex(e){var t=e.stateNode;t.pendingContext?Jm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jm(e,t.context,!1),Lh(e,t.containerInfo)}function fp(e,t,r,n,s){return Ys(),Th(s),t.flags|=256,ct(e,t,r,n),t.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function xd(e){return{baseLanes:e,cachePool:null,transitions:null}}function tx(e,t,r){var n=t.pendingProps,s=Te.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),we(Te,s&1),e===null)return dd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=sc(a,n,0,null),e=Yn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xd(r),t.memoizedState=vd,e):Bh(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return HS(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=mn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=mn(o,i):(i=Yn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?xd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=vd,n}return i=e.child,e=i.sibling,n=mn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bh(e,t){return t=sc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jo(e,t,r,n){return n!==null&&Th(n),Js(t,e.child,null,r),e=Bh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HS(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=su(Error(I(422))),jo(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=sc({mode:"visible",children:n.children},s,0,null),i=Yn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Js(t,e.child,null,a),t.child.memoizedState=xd(a),t.memoizedState=vd,i);if(!(t.mode&1))return jo(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(I(419)),n=su(i,n,void 0),jo(e,t,a,n)}if(o=(a&e.childLanes)!==0,vt||o){if(n=Ye,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ir(e,s),Zt(n,e,s,-1))}return Yh(),n=su(Error(I(421))),jo(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=nj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Et=un(s.nextSibling),Nt=t,Ce=!0,Qt=null,e!==null&&(Dt[Ot++]=Nr,Dt[Ot++]=Cr,Dt[Ot++]=Xn,Nr=e.id,Cr=e.overflow,Xn=t),t=Bh(t,n.children),t.flags|=4096,t)}function mp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hd(e.return,t,r)}function iu(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function rx(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ct(e,t,n.children,r),n=Te.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mp(e,r,t);else if(e.tag===19)mp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(we(Te,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&bl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),iu(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}iu(t,!0,r,null,i);break;case"together":iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),es|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=mn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function GS(e,t,r){switch(t.tag){case 3:ex(t),Ys();break;case 5:Tv(t);break;case 1:wt(t.type)&&pl(t);break;case 4:Lh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;we(vl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(we(Te,Te.current&1),t.flags|=128,null):r&t.child.childLanes?tx(e,t,r):(we(Te,Te.current&1),e=Lr(e,t,r),e!==null?e.sibling:null);we(Te,Te.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rx(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Te,Te.current),n)break;return null;case 22:case 23:return t.lanes=0,Xv(e,t,r)}return Lr(e,t,r)}var nx,wd,sx,ix;nx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wd=function(){};sx=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Bn(dr.current);var i=null;switch(r){case"input":s=Vu(e,s),n=Vu(e,n),i=[];break;case"select":s=Ae({},s,{value:void 0}),n=Ae({},n,{value:void 0}),i=[];break;case"textarea":s=Gu(e,s),n=Gu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fl)}Ku(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(la.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(la.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_e("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ix=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ei(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function WS(e,t,r){var n=t.pendingProps;switch(Ch(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return wt(t.type)&&ml(),nt(t),null;case 3:return n=t.stateNode,Qs(),Ee(xt),Ee(lt),Oh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ko(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(Cd(Qt),Qt=null))),wd(e,t),nt(t),null;case 5:Dh(t);var s=Bn(wa.current);if(r=t.type,e!==null&&t.stateNode!=null)sx(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return nt(t),null}if(e=Bn(dr.current),ko(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[cr]=t,n[va]=i,e=(t.mode&1)!==0,r){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(s=0;s<$i.length;s++)_e($i[s],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":Sm(n,i),_e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},_e("invalid",n);break;case"textarea":_m(n,i),_e("invalid",n)}Ku(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&bo(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&bo(n.textContent,o,e),s=["children",""+o]):la.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&_e("scroll",n)}switch(r){case"input":fo(n),jm(n,i,!0);break;case"textarea":fo(n),Em(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=fl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ay(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[cr]=t,e[va]=n,nx(e,t,!1,!1),t.stateNode=e;e:{switch(a=qu(r,n),r){case"dialog":_e("cancel",e),_e("close",e),s=n;break;case"iframe":case"object":case"embed":_e("load",e),s=n;break;case"video":case"audio":for(s=0;s<$i.length;s++)_e($i[s],e);s=n;break;case"source":_e("error",e),s=n;break;case"img":case"image":case"link":_e("error",e),_e("load",e),s=n;break;case"details":_e("toggle",e),s=n;break;case"input":Sm(e,n),s=Vu(e,n),_e("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ae({},n,{value:void 0}),_e("invalid",e);break;case"textarea":_m(e,n),s=Gu(e,n),_e("invalid",e);break;default:s=n}Ku(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Ly(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&My(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ca(e,l):typeof l=="number"&&ca(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(la.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",e):l!=null&&fh(e,i,l,a))}switch(r){case"input":fo(e),jm(e,n,!1);break;case"textarea":fo(e),Em(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Fs(e,!!n.multiple,i,!1):n.defaultValue!=null&&Fs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)ix(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=Bn(wa.current),Bn(dr.current),ko(t)){if(n=t.stateNode,r=t.memoizedProps,n[cr]=t,(i=n.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:bo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bo(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cr]=t,t.stateNode=n}return nt(t),null;case 13:if(Ee(Te),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&Et!==null&&t.mode&1&&!(t.flags&128))kv(),Ys(),t.flags|=98560,i=!1;else if(i=ko(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[cr]=t}else Ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),i=!1}else Qt!==null&&(Cd(Qt),Qt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?He===0&&(He=3):Yh())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return Qs(),wd(e,t),e===null&&ga(t.stateNode.containerInfo),nt(t),null;case 10:return Ah(t.type._context),nt(t),null;case 17:return wt(t.type)&&ml(),nt(t),null;case 19:if(Ee(Te),i=t.memoizedState,i===null)return nt(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Ei(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=bl(e),a!==null){for(t.flags|=128,Ei(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return we(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&$e()>Zs&&(t.flags|=128,n=!0,Ei(i,!1),t.lanes=4194304)}else{if(!n)if(e=bl(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ei(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ce)return nt(t),null}else 2*$e()-i.renderingStartTime>Zs&&r!==1073741824&&(t.flags|=128,n=!0,Ei(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,r=Te.current,we(Te,n?r&1|2:r&1),t):(nt(t),null);case 22:case 23:return qh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?jt&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function KS(e,t){switch(Ch(t),t.tag){case 1:return wt(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qs(),Ee(xt),Ee(lt),Oh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dh(t),null;case 13:if(Ee(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Te),null;case 4:return Qs(),null;case 10:return Ah(t.type._context),null;case 22:case 23:return qh(),null;case 24:return null;default:return null}}var _o=!1,it=!1,qS=typeof WeakSet=="function"?WeakSet:Set,$=null;function Rs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){De(e,t,n)}else r.current=null}function bd(e,t,r){try{r()}catch(n){De(e,t,n)}}var pp=!1;function YS(e,t){if(sd=ul,e=cv(),Eh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=a),f===i&&++d===n&&(l=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(id={focusedElem:e,selectionRange:r},ul=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:qt(t.type,v),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(j){De(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return y=pp,pp=!1,y}function Xi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bd(t,r,i)}s=s.next}while(s!==n)}}function rc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function kd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ax(e){var t=e.alternate;t!==null&&(e.alternate=null,ax(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cr],delete t[va],delete t[ld],delete t[PS],delete t[AS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ox(e){return e.tag===5||e.tag===3||e.tag===4}function gp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ox(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fl));else if(n!==4&&(e=e.child,e!==null))for(Sd(e,t,r),e=e.sibling;e!==null;)Sd(e,t,r),e=e.sibling}function jd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jd(e,t,r),e=e.sibling;e!==null;)jd(e,t,r),e=e.sibling}var Qe=null,Yt=!1;function Vr(e,t,r){for(r=r.child;r!==null;)lx(e,t,r),r=r.sibling}function lx(e,t,r){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(ql,r)}catch{}switch(r.tag){case 5:it||Rs(r,t);case 6:var n=Qe,s=Yt;Qe=null,Vr(e,t,r),Qe=n,Yt=s,Qe!==null&&(Yt?(e=Qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qe.removeChild(r.stateNode));break;case 18:Qe!==null&&(Yt?(e=Qe,r=r.stateNode,e.nodeType===8?Xc(e.parentNode,r):e.nodeType===1&&Xc(e,r),fa(e)):Xc(Qe,r.stateNode));break;case 4:n=Qe,s=Yt,Qe=r.stateNode.containerInfo,Yt=!0,Vr(e,t,r),Qe=n,Yt=s;break;case 0:case 11:case 14:case 15:if(!it&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&bd(r,t,a),s=s.next}while(s!==n)}Vr(e,t,r);break;case 1:if(!it&&(Rs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){De(r,t,o)}Vr(e,t,r);break;case 21:Vr(e,t,r);break;case 22:r.mode&1?(it=(n=it)||r.memoizedState!==null,Vr(e,t,r),it=n):Vr(e,t,r);break;default:Vr(e,t,r)}}function yp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qS),t.forEach(function(n){var s=sj.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Wt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Qe=o.stateNode,Yt=!1;break e;case 3:Qe=o.stateNode.containerInfo,Yt=!0;break e;case 4:Qe=o.stateNode.containerInfo,Yt=!0;break e}o=o.return}if(Qe===null)throw Error(I(160));lx(i,a,s),Qe=null,Yt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){De(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cx(t,e),t=t.sibling}function cx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),ir(e),n&4){try{Xi(3,e,e.return),rc(3,e)}catch(v){De(e,e.return,v)}try{Xi(5,e,e.return)}catch(v){De(e,e.return,v)}}break;case 1:Wt(t,e),ir(e),n&512&&r!==null&&Rs(r,r.return);break;case 5:if(Wt(t,e),ir(e),n&512&&r!==null&&Rs(r,r.return),e.flags&32){var s=e.stateNode;try{ca(s,"")}catch(v){De(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Ry(s,i),qu(o,a);var u=qu(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?Ly(s,h):d==="dangerouslySetInnerHTML"?My(s,h):d==="children"?ca(s,h):fh(s,d,h,u)}switch(o){case"input":Bu(s,i);break;case"textarea":Py(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Fs(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fs(s,!!i.multiple,i.defaultValue,!0):Fs(s,!!i.multiple,i.multiple?[]:"",!1))}s[va]=i}catch(v){De(e,e.return,v)}}break;case 6:if(Wt(t,e),ir(e),n&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){De(e,e.return,v)}}break;case 3:if(Wt(t,e),ir(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fa(t.containerInfo)}catch(v){De(e,e.return,v)}break;case 4:Wt(t,e),ir(e);break;case 13:Wt(t,e),ir(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wh=$e())),n&4&&yp(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(it=(u=it)||d,Wt(t,e),it=u):Wt(t,e),ir(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(h=$=d;$!==null;){switch(f=$,m=f.child,f.tag){case 0:case 11:case 14:case 15:Xi(4,f,f.return);break;case 1:Rs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){De(n,r,v)}}break;case 5:Rs(f,f.return);break;case 22:if(f.memoizedState!==null){xp(h);continue}}m!==null?(m.return=f,$=m):xp(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Iy("display",a))}catch(v){De(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){De(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wt(t,e),ir(e),n&4&&yp(e);break;case 21:break;default:Wt(t,e),ir(e)}}function ir(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ox(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ca(s,""),n.flags&=-33);var i=gp(e);jd(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=gp(e);Sd(e,o,a);break;default:throw Error(I(161))}}catch(l){De(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JS(e,t,r){$=e,ux(e)}function ux(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||_o;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||it;o=_o;var u=it;if(_o=a,(it=l)&&!u)for($=s;$!==null;)a=$,l=a.child,a.tag===22&&a.memoizedState!==null?wp(s):l!==null?(l.return=a,$=l):wp(s);for(;i!==null;)$=i,ux(i),i=i.sibling;$=s,_o=o,it=u}vp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):vp(e)}}function vp(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||rc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!it)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:qt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tp(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tp(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&fa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}it||t.flags&512&&kd(t)}catch(f){De(t,t.return,f)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function xp(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function wp(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rc(4,t)}catch(l){De(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){De(t,s,l)}}var i=t.return;try{kd(t)}catch(l){De(t,i,l)}break;case 5:var a=t.return;try{kd(t)}catch(l){De(t,a,l)}}}catch(l){De(t,t.return,l)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var QS=Math.ceil,jl=Or.ReactCurrentDispatcher,Hh=Or.ReactCurrentOwner,$t=Or.ReactCurrentBatchConfig,pe=0,Ye=null,Ue=null,Ze=0,jt=0,Ps=Sn(0),He=0,ja=null,es=0,nc=0,Gh=0,Zi=null,gt=null,Wh=0,Zs=1/0,jr=null,_l=!1,_d=null,hn=null,Eo=!1,sn=null,El=0,ea=0,Ed=null,Yo=-1,Jo=0;function dt(){return pe&6?$e():Yo!==-1?Yo:Yo=$e()}function fn(e){return e.mode&1?pe&2&&Ze!==0?Ze&-Ze:IS.transition!==null?(Jo===0&&(Jo=Ky()),Jo):(e=ye,e!==0||(e=window.event,e=e===void 0?16:ev(e.type)),e):1}function Zt(e,t,r,n){if(50<ea)throw ea=0,Ed=null,Error(I(185));Ua(e,r,n),(!(pe&2)||e!==Ye)&&(e===Ye&&(!(pe&2)&&(nc|=r),He===4&&Zr(e,Ze)),bt(e,n),r===1&&pe===0&&!(t.mode&1)&&(Zs=$e()+500,Zl&&jn()))}function bt(e,t){var r=e.callbackNode;Ik(e,t);var n=cl(e,e===Ye?Ze:0);if(n===0)r!==null&&Tm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Tm(r),t===1)e.tag===0?MS(bp.bind(null,e)):xv(bp.bind(null,e)),TS(function(){!(pe&6)&&jn()}),r=null;else{switch(qy(n)){case 1:r=vh;break;case 4:r=Gy;break;case 16:r=ll;break;case 536870912:r=Wy;break;default:r=ll}r=vx(r,dx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dx(e,t){if(Yo=-1,Jo=0,pe&6)throw Error(I(327));var r=e.callbackNode;if(Bs()&&e.callbackNode!==r)return null;var n=cl(e,e===Ye?Ze:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Nl(e,n);else{t=n;var s=pe;pe|=2;var i=fx();(Ye!==e||Ze!==t)&&(jr=null,Zs=$e()+500,qn(e,t));do try{ej();break}catch(o){hx(e,o)}while(!0);Ph(),jl.current=i,pe=s,Ue!==null?t=0:(Ye=null,Ze=0,t=He)}if(t!==0){if(t===2&&(s=Zu(e),s!==0&&(n=s,t=Nd(e,s))),t===1)throw r=ja,qn(e,0),Zr(e,n),bt(e,$e()),r;if(t===6)Zr(e,n);else{if(s=e.current.alternate,!(n&30)&&!XS(s)&&(t=Nl(e,n),t===2&&(i=Zu(e),i!==0&&(n=i,t=Nd(e,i))),t===1))throw r=ja,qn(e,0),Zr(e,n),bt(e,$e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:Dn(e,gt,jr);break;case 3:if(Zr(e,n),(n&130023424)===n&&(t=Wh+500-$e(),10<t)){if(cl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=od(Dn.bind(null,e,gt,jr),t);break}Dn(e,gt,jr);break;case 4:if(Zr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Xt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QS(n/1960))-n,10<n){e.timeoutHandle=od(Dn.bind(null,e,gt,jr),n);break}Dn(e,gt,jr);break;case 5:Dn(e,gt,jr);break;default:throw Error(I(329))}}}return bt(e,$e()),e.callbackNode===r?dx.bind(null,e):null}function Nd(e,t){var r=Zi;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=Nl(e,t),e!==2&&(t=gt,gt=r,t!==null&&Cd(t)),e}function Cd(e){gt===null?gt=e:gt.push.apply(gt,e)}function XS(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!tr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zr(e,t){for(t&=~Gh,t&=~nc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xt(t),n=1<<r;e[r]=-1,t&=~n}}function bp(e){if(pe&6)throw Error(I(327));Bs();var t=cl(e,0);if(!(t&1))return bt(e,$e()),null;var r=Nl(e,t);if(e.tag!==0&&r===2){var n=Zu(e);n!==0&&(t=n,r=Nd(e,n))}if(r===1)throw r=ja,qn(e,0),Zr(e,t),bt(e,$e()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,gt,jr),bt(e,$e()),null}function Kh(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(Zs=$e()+500,Zl&&jn())}}function ts(e){sn!==null&&sn.tag===0&&!(pe&6)&&Bs();var t=pe;pe|=1;var r=$t.transition,n=ye;try{if($t.transition=null,ye=1,e)return e()}finally{ye=n,$t.transition=r,pe=t,!(pe&6)&&jn()}}function qh(){jt=Ps.current,Ee(Ps)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,CS(r)),Ue!==null)for(r=Ue.return;r!==null;){var n=r;switch(Ch(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ml();break;case 3:Qs(),Ee(xt),Ee(lt),Oh();break;case 5:Dh(n);break;case 4:Qs();break;case 13:Ee(Te);break;case 19:Ee(Te);break;case 10:Ah(n.type._context);break;case 22:case 23:qh()}r=r.return}if(Ye=e,Ue=e=mn(e.current,null),Ze=jt=t,He=0,ja=null,Gh=nc=es=0,gt=Zi=null,Vn!==null){for(t=0;t<Vn.length;t++)if(r=Vn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Vn=null}return e}function hx(e,t){do{var r=Ue;try{if(Ph(),Wo.current=Sl,kl){for(var n=Pe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}kl=!1}if(Zn=0,Ke=Be=Pe=null,Qi=!1,ba=0,Hh.current=null,r===null||r.return===null){He=1,ja=t,Ue=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=Ze,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=lp(a);if(m!==null){m.flags&=-257,cp(m,a,o,i,t),m.mode&1&&op(i,u,t),t=m,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){op(i,u,t),Yh();break e}l=Error(I(426))}}else if(Ce&&o.mode&1){var w=lp(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cp(w,a,o,i,t),Th(Xs(l,o));break e}}i=l=Xs(l,o),He!==4&&(He=2),Zi===null?Zi=[i]:Zi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Yv(i,l,t);ep(i,g);break e;case 1:o=l;var p=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(hn===null||!hn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Jv(i,o,t);ep(i,j);break e}}i=i.return}while(i!==null)}px(r)}catch(S){t=S,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function fx(){var e=jl.current;return jl.current=Sl,e===null?Sl:e}function Yh(){(He===0||He===3||He===2)&&(He=4),Ye===null||!(es&268435455)&&!(nc&268435455)||Zr(Ye,Ze)}function Nl(e,t){var r=pe;pe|=2;var n=fx();(Ye!==e||Ze!==t)&&(jr=null,qn(e,t));do try{ZS();break}catch(s){hx(e,s)}while(!0);if(Ph(),pe=r,jl.current=n,Ue!==null)throw Error(I(261));return Ye=null,Ze=0,He}function ZS(){for(;Ue!==null;)mx(Ue)}function ej(){for(;Ue!==null&&!_k();)mx(Ue)}function mx(e){var t=yx(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?px(e):Ue=t,Hh.current=null}function px(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=KS(r,t),r!==null){r.flags&=32767,Ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Ue=null;return}}else if(r=WS(r,t,jt),r!==null){Ue=r;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);He===0&&(He=5)}function Dn(e,t,r){var n=ye,s=$t.transition;try{$t.transition=null,ye=1,tj(e,t,r,n)}finally{$t.transition=s,ye=n}return null}function tj(e,t,r,n){do Bs();while(sn!==null);if(pe&6)throw Error(I(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Lk(e,i),e===Ye&&(Ue=Ye=null,Ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Eo||(Eo=!0,vx(ll,function(){return Bs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=$t.transition,$t.transition=null;var a=ye;ye=1;var o=pe;pe|=4,Hh.current=null,YS(e,r),cx(r,e),bS(id),ul=!!sd,id=sd=null,e.current=r,JS(r),Ek(),pe=o,ye=a,$t.transition=i}else e.current=r;if(Eo&&(Eo=!1,sn=e,El=s),i=e.pendingLanes,i===0&&(hn=null),Tk(r.stateNode),bt(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(_l)throw _l=!1,e=_d,_d=null,e;return El&1&&e.tag!==0&&Bs(),i=e.pendingLanes,i&1?e===Ed?ea++:(ea=0,Ed=e):ea=0,jn(),null}function Bs(){if(sn!==null){var e=qy(El),t=$t.transition,r=ye;try{if($t.transition=null,ye=16>e?16:e,sn===null)var n=!1;else{if(e=sn,sn=null,El=0,pe&6)throw Error(I(331));var s=pe;for(pe|=4,$=e.current;$!==null;){var i=$,a=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Xi(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var f=d.sibling,m=d.return;if(ax(d),d===u){$=null;break}if(f!==null){f.return=m,$=f;break}$=m}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}$=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,$=a;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var p=e.current;for($=p;$!==null;){a=$;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,$=x;else e:for(a=p;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:rc(9,o)}}catch(S){De(o,o.return,S)}if(o===a){$=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,$=j;break e}$=o.return}}if(pe=s,jn(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(ql,e)}catch{}n=!0}return n}finally{ye=r,$t.transition=t}}return!1}function kp(e,t,r){t=Xs(r,t),t=Yv(e,t,1),e=dn(e,t,1),t=dt(),e!==null&&(Ua(e,1,t),bt(e,t))}function De(e,t,r){if(e.tag===3)kp(e,e,r);else for(;t!==null;){if(t.tag===3){kp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hn===null||!hn.has(n))){e=Xs(r,e),e=Jv(t,e,1),t=dn(t,e,1),e=dt(),t!==null&&(Ua(t,1,e),bt(t,e));break}}t=t.return}}function rj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&r,Ye===e&&(Ze&r)===r&&(He===4||He===3&&(Ze&130023424)===Ze&&500>$e()-Wh?qn(e,0):Gh|=r),bt(e,t)}function gx(e,t){t===0&&(e.mode&1?(t=go,go<<=1,!(go&130023424)&&(go=4194304)):t=1);var r=dt();e=Ir(e,t),e!==null&&(Ua(e,t,r),bt(e,r))}function nj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gx(e,r)}function sj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),gx(e,r)}var yx;yx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vt=!1,GS(e,t,r);vt=!!(e.flags&131072)}else vt=!1,Ce&&t.flags&1048576&&wv(t,yl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qo(e,t),e=t.pendingProps;var s=qs(t,lt.current);Vs(t,r),s=$h(null,t,n,e,s,r);var i=Uh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(n)?(i=!0,pl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ih(t),s.updater=ec,t.stateNode=s,s._reactInternals=t,md(t,n,e,r),t=yd(null,t,n,!0,i,r)):(t.tag=0,Ce&&i&&Nh(t),ct(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=aj(n),e=qt(n,e),s){case 0:t=gd(null,t,n,e,r);break e;case 1:t=hp(null,t,n,e,r);break e;case 11:t=up(null,t,n,e,r);break e;case 14:t=dp(null,t,n,qt(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),gd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),hp(e,t,n,s,r);case 3:e:{if(ex(t),e===null)throw Error(I(387));n=t.pendingProps,i=t.memoizedState,s=i.element,jv(e,t),wl(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xs(Error(I(423)),t),t=fp(e,t,n,r,s);break e}else if(n!==s){s=Xs(Error(I(424)),t),t=fp(e,t,n,r,s);break e}else for(Et=un(t.stateNode.containerInfo.firstChild),Nt=t,Ce=!0,Qt=null,r=Cv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ys(),n===s){t=Lr(e,t,r);break e}ct(e,t,n,r)}t=t.child}return t;case 5:return Tv(t),e===null&&dd(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,ad(n,s)?a=null:i!==null&&ad(n,i)&&(t.flags|=32),Zv(e,t),ct(e,t,a,r),t.child;case 6:return e===null&&dd(t),null;case 13:return tx(e,t,r);case 4:return Lh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Js(t,null,n,r):ct(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),up(e,t,n,s,r);case 7:return ct(e,t,t.pendingProps,r),t.child;case 8:return ct(e,t,t.pendingProps.children,r),t.child;case 12:return ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,we(vl,n._currentValue),n._currentValue=a,i!==null)if(tr(i.value,a)){if(i.children===s.children&&!xt.current){t=Lr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Tr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),hd(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),hd(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ct(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Vs(t,r),s=zt(s),n=n(s),t.flags|=1,ct(e,t,n,r),t.child;case 14:return n=t.type,s=qt(n,t.pendingProps),s=qt(n.type,s),dp(e,t,n,s,r);case 15:return Qv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qt(n,s),qo(e,t),t.tag=1,wt(n)?(e=!0,pl(t)):e=!1,Vs(t,r),Ev(t,n,s),md(t,n,s,r),yd(null,t,n,!0,e,r);case 19:return rx(e,t,r);case 22:return Xv(e,t,r)}throw Error(I(156,t.tag))};function vx(e,t){return Hy(e,t)}function ij(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,r,n){return new ij(e,t,r,n)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aj(e){if(typeof e=="function")return Jh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ph)return 11;if(e===gh)return 14}return 2}function mn(e,t){var r=e.alternate;return r===null?(r=Ft(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qo(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Jh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case bs:return Yn(r.children,s,i,t);case mh:a=8,s|=8;break;case Fu:return e=Ft(12,r,t,s|2),e.elementType=Fu,e.lanes=i,e;case $u:return e=Ft(13,r,t,s),e.elementType=$u,e.lanes=i,e;case Uu:return e=Ft(19,r,t,s),e.elementType=Uu,e.lanes=i,e;case Ny:return sc(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _y:a=10;break e;case Ey:a=9;break e;case ph:a=11;break e;case gh:a=14;break e;case qr:a=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Ft(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Yn(e,t,r,n){return e=Ft(7,e,n,t),e.lanes=r,e}function sc(e,t,r,n){return e=Ft(22,e,n,t),e.elementType=Ny,e.lanes=r,e.stateNode={isHidden:!1},e}function au(e,t,r){return e=Ft(6,e,null,t),e.lanes=r,e}function ou(e,t,r){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oj(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qh(e,t,r,n,s,i,a,o,l){return e=new oj(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(i),e}function lj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function xx(e){if(!e)return xn;e=e._reactInternals;e:{if(ss(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(wt(r))return vv(e,r,t)}return t}function wx(e,t,r,n,s,i,a,o,l){return e=Qh(r,n,!0,e,s,i,a,o,l),e.context=xx(null),r=e.current,n=dt(),s=fn(r),i=Tr(n,s),i.callback=t??null,dn(r,i,s),e.current.lanes=s,Ua(e,s,n),bt(e,n),e}function ic(e,t,r,n){var s=t.current,i=dt(),a=fn(s);return r=xx(r),t.context===null?t.context=r:t.pendingContext=r,t=Tr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=dn(s,t,a),e!==null&&(Zt(e,s,a,i),Go(e,s,a)),a}function Cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xh(e,t){Sp(e,t),(e=e.alternate)&&Sp(e,t)}function cj(){return null}var bx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zh(e){this._internalRoot=e}ac.prototype.render=Zh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));ic(e,t,null,null)};ac.prototype.unmount=Zh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ts(function(){ic(null,e,null,null)}),t[Mr]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xr.length&&t!==0&&t<Xr[r].priority;r++);Xr.splice(r,0,e),r===0&&Zy(e)}};function ef(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jp(){}function uj(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Cl(a);i.call(u)}}var a=wx(t,n,e,0,null,!1,!1,"",jp);return e._reactRootContainer=a,e[Mr]=a.current,ga(e.nodeType===8?e.parentNode:e),ts(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Cl(l);o.call(u)}}var l=Qh(e,0,!1,null,null,!1,!1,"",jp);return e._reactRootContainer=l,e[Mr]=l.current,ga(e.nodeType===8?e.parentNode:e),ts(function(){ic(t,l,r,n)}),l}function lc(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Cl(a);o.call(l)}}ic(t,a,e,s)}else a=uj(r,t,e,s,n);return Cl(a)}Yy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fi(t.pendingLanes);r!==0&&(xh(t,r|1),bt(t,$e()),!(pe&6)&&(Zs=$e()+500,jn()))}break;case 13:ts(function(){var n=Ir(e,1);if(n!==null){var s=dt();Zt(n,e,1,s)}}),Xh(e,1)}};wh=function(e){if(e.tag===13){var t=Ir(e,134217728);if(t!==null){var r=dt();Zt(t,e,134217728,r)}Xh(e,134217728)}};Jy=function(e){if(e.tag===13){var t=fn(e),r=Ir(e,t);if(r!==null){var n=dt();Zt(r,e,t,n)}Xh(e,t)}};Qy=function(){return ye};Xy=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};Ju=function(e,t,r){switch(t){case"input":if(Bu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Xl(n);if(!s)throw Error(I(90));Ty(n),Bu(n,s)}}}break;case"textarea":Py(e,r);break;case"select":t=r.value,t!=null&&Fs(e,!!r.multiple,t,!1)}};Fy=Kh;$y=ts;var dj={usingClientEntryPoint:!1,Events:[Va,_s,Xl,Dy,Oy,Kh]},Ni={findFiberByHostInstance:zn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hj={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||cj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{ql=No.inject(hj),ur=No}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dj;Pt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(t))throw Error(I(200));return lj(e,t,null,r)};Pt.createRoot=function(e,t){if(!ef(e))throw Error(I(299));var r=!1,n="",s=bx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Qh(e,1,!1,null,null,r,!1,n,s),e[Mr]=t.current,ga(e.nodeType===8?e.parentNode:e),new Zh(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Vy(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return ts(e)};Pt.hydrate=function(e,t,r){if(!oc(t))throw Error(I(200));return lc(null,e,t,!0,r)};Pt.hydrateRoot=function(e,t,r){if(!ef(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=bx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=wx(t,null,e,1,r??null,s,!1,i,a),e[Mr]=t.current,ga(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ac(t)};Pt.render=function(e,t,r){if(!oc(t))throw Error(I(200));return lc(null,e,t,!1,r)};Pt.unmountComponentAtNode=function(e){if(!oc(e))throw Error(I(40));return e._reactRootContainer?(ts(function(){lc(null,null,e,!1,function(){e._reactRootContainer=null,e[Mr]=null})}),!0):!1};Pt.unstable_batchedUpdates=Kh;Pt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!oc(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return lc(e,t,r,!1,n)};Pt.version="18.2.0-next-9e3b772b8-20220608";function kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kx)}catch(e){console.error(e)}}kx(),wy.exports=Pt;var Sx=wy.exports,jx,_p=Sx;jx=_p.createRoot,_p.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _x=e=>{throw TypeError(e)},fj=(e,t,r)=>t.has(e)||_x("Cannot "+r),lu=(e,t,r)=>(fj(e,t,"read from private field"),r?r.call(e):t.get(e)),mj=(e,t,r)=>t.has(e)?_x("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ep="popstate";function pj(e={}){function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return _a("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:gr(s)}return yj(t,r,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gj(){return Math.random().toString(36).substring(2,10)}function Np(e,t){return{usr:e.state,key:e.key,idx:t}}function _a(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_n(t):t,state:r,key:t&&t.key||n||gj()}}function gr({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _n(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function yj(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let w=d(),g=w==null?null:w-u;u=w,l&&l({action:o,location:v.location,delta:g})}function f(w,g){o="PUSH";let p=_a(v.location,w,g);u=d()+1;let x=Np(p,u),j=v.createHref(p);try{a.pushState(x,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}i&&l&&l({action:o,location:v.location,delta:1})}function m(w,g){o="REPLACE";let p=_a(v.location,w,g);u=d();let x=Np(p,u),j=v.createHref(p);a.replaceState(x,"",j),i&&l&&l({action:o,location:v.location,delta:0})}function y(w){return Ex(w)}let v={get action(){return o},get location(){return e(s,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ep,h),l=w,()=>{s.removeEventListener(Ep,h),l=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(w){return a.go(w)}};return v}function Ex(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ae(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:gr(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var Ui,Cp=class{constructor(e){if(mj(this,Ui,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(lu(this,Ui).has(e))return lu(this,Ui).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){lu(this,Ui).set(e,t)}};Ui=new WeakMap;var vj=new Set(["lazy","caseSensitive","path","id","index","children"]);function xj(e){return vj.has(e)}var wj=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function bj(e){return wj.has(e)}function kj(e){return e.index===!0}function Ea(e,t,r=[],n={},s=!1){return e.map((i,a)=>{let o=[...r,String(a)],l=typeof i.id=="string"?i.id:o.join("-");if(ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),ae(s||!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),kj(i)){let u={...i,id:l};return n[l]=Tp(u,t(u)),u}else{let u={...i,id:l,children:void 0};return n[l]=Tp(u,t(u)),i.children&&(u.children=Ea(i.children,t,o,n,s)),u}})}function Tp(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function en(e,t,r="/"){return zi(e,t,r,!1)}function zi(e,t,r,n){let s=typeof t=="string"?_n(t):t,i=Bt(s.pathname||"/",r);if(i==null)return null;let a=Nx(e);jj(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Lj(i);o=Mj(a[l],u,n)}return o}function Sj(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function Nx(e,t=[],r=[],n="",s=!1){let i=(a,o,l=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;ae(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=hr([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(ae(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Nx(a.children,t,f,h,l)),!(a.path==null&&!a.index)&&t.push({path:h,score:Pj(h,a.index),routesMeta:f})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let u of Cx(a.path))i(a,o,!0,u)}),t}function Cx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Cx(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function jj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Aj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var _j=/^:[\w-]+$/,Ej=3,Nj=2,Cj=1,Tj=10,Rj=-2,Rp=e=>e==="*";function Pj(e,t){let r=e.split("/"),n=r.length;return r.some(Rp)&&(n+=Rj),t&&(n+=Nj),r.filter(s=>!Rp(s)).reduce((s,i)=>s+(_j.test(i)?Ej:i===""?Cj:Tj),n)}function Aj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Mj(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Tl({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Tl({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:hr([i,h.pathname]),pathnameBase:$j(hr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=hr([i,h.pathnameBase]))}return a}function Tl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Ij(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=o[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Ij(e,t=!1,r=!0){Oe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Lj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oe(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Bt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Dj({basename:e,pathname:t}){return t==="/"?e:hr([e,t])}var Oj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cc=e=>Oj.test(e);function Fj(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?_n(e):e,i;if(r)if(cc(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Oe(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=Pp(r.substring(1),"/"):i=Pp(r,t)}else i=t;return{pathname:i,search:Uj(n),hash:zj(s)}}function Pp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cu(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function uc(e){let t=Tx(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function dc(e,t,r,n=!1){let s;typeof e=="string"?s=_n(e):(s={...e},ae(!s.pathname||!s.pathname.includes("?"),cu("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),cu("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),cu("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let l=Fj(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var hr=e=>e.join("/").replace(/\/\/+/g,"/"),$j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Uj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Rl=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Na(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function tf(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var an=Symbol("Uninstrumented");function Vj(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(s=>s({id:t.id,index:t.index,path:t.path,instrument(i){let a=Object.keys(r);for(let o of a)i[o]&&r[o].push(i[o])}}));let n={};if(typeof t.lazy=="function"&&r.lazy.length>0){let s=As(r.lazy,t.lazy,()=>{});s&&(n.lazy=s)}if(typeof t.lazy=="object"){let s=t.lazy;["middleware","loader","action"].forEach(i=>{let a=s[i],o=r[`lazy.${i}`];if(typeof a=="function"&&o.length>0){let l=As(o,a,()=>{});l&&(n.lazy=Object.assign(n.lazy||{},{[i]:l}))}})}return["loader","action"].forEach(s=>{let i=t[s];if(typeof i=="function"&&r[s].length>0){let a=i[an]??i,o=As(r[s],a,(...l)=>Ap(l[0]));o&&(o[an]=a,n[s]=o)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(n.middleware=t.middleware.map(s=>{let i=s[an]??s,a=As(r.middleware,i,(...o)=>Ap(o[0]));return a?(a[an]=i,a):s})),n}function Bj(e,t){let r={navigate:[],fetch:[]};if(t.forEach(n=>n({instrument(s){let i=Object.keys(s);for(let a of i)s[a]&&r[a].push(s[a])}})),r.navigate.length>0){let n=e.navigate[an]??e.navigate,s=As(r.navigate,n,(...i)=>{let[a,o]=i;return{to:typeof a=="number"||typeof a=="string"?a:a?gr(a):".",...Mp(e,o??{})}});s&&(s[an]=n,e.navigate=s)}if(r.fetch.length>0){let n=e.fetch[an]??e.fetch,s=As(r.fetch,n,(...i)=>{let[a,,o,l]=i;return{href:o??".",fetcherKey:a,...Mp(e,l??{})}});s&&(s[an]=n,e.fetch=s)}return e}function As(e,t,r){return e.length===0?null:async(...n)=>{let s=await Rx(e,r(...n),()=>t(...n),e.length-1);if(s.type==="error")throw s.value;return s.value}}async function Rx(e,t,r,n){let s=e[n],i;if(s){let a,o=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=Rx(e,t,r,n-1),i=await a,ae(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await s(o,t)}catch(l){console.error("An instrumentation function threw an error:",l)}a||await o(),await a}else try{i={type:"success",value:await r()}}catch(a){i={type:"error",value:a}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Ap(e){let{request:t,context:r,params:n,unstable_pattern:s}=e;return{request:Hj(t),params:{...n},unstable_pattern:s,context:Gj(r)}}function Mp(e,t){return{currentUrl:gr(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function Hj(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function Gj(e){if(Kj(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var Wj=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kj(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===Wj}var Px=["POST","PUT","PATCH","DELETE"],qj=new Set(Px),Yj=["GET",...Px],Jj=new Set(Yj),Qj=new Set([301,302,303,307,308]),Xj=new Set([307,308]),uu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ci={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},e_=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Ax="remix-router-transitions",Mx=Symbol("ResetLoaderData");function t_(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";ae(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],s=e.mapRouteProperties||e_,i=s;if(e.unstable_instrumentations){let _=e.unstable_instrumentations;i=E=>({...s(E),...Vj(_.map(R=>R.route).filter(Boolean),E)})}let a={},o=Ea(e.routes,i,void 0,a),l,u=e.basename||"/";u.startsWith("/")||(u=`/${u}`);let d=e.dataStrategy||a_,h={...e.future},f=null,m=new Set,y=null,v=null,w=null,g=e.hydrationData!=null,p=en(o,e.history.location,u),x=!1,j=null,S;if(p==null&&!e.patchRoutesOnNavigation){let _=Lt(404,{pathname:e.history.location.pathname}),{matches:E,route:R}=Co(o);S=!0,p=E,j={[R.id]:_}}else if(p&&!e.hydrationData&&io(p,o,e.history.location.pathname).active&&(p=null),p)if(p.some(_=>_.route.lazy))S=!1;else if(!p.some(_=>rf(_.route)))S=!0;else{let _=e.hydrationData?e.hydrationData.loaderData:null,E=e.hydrationData?e.hydrationData.errors:null;if(E){let R=p.findIndex(M=>E[M.route.id]!==void 0);S=p.slice(0,R+1).every(M=>!Rd(M.route,_,E))}else S=p.every(R=>!Rd(R.route,_,E))}else{S=!1,p=[];let _=io(null,o,e.history.location.pathname);_.active&&_.matches&&(x=!0,p=_.matches)}let T,k={historyAction:e.history.action,location:e.history.location,matches:p,initialized:S,navigation:uu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||j,fetchers:new Map,blockers:new Map},C="POP",N=!1,P,L=!1,D=new Map,de=null,fe=!1,Z=!1,le=new Set,J=new Map,A=0,F=-1,z=new Map,Y=new Set,ge=new Map,ze=new Map,be=new Set,kt=new Map,mt,U=null;function he(){if(f=e.history.listen(({action:_,location:E,delta:R})=>{if(mt){mt(),mt=void 0;return}Oe(kt.size===0||R!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let M=hm({currentLocation:k.location,nextLocation:E,historyAction:_});if(M&&R!=null){let O=new Promise(H=>{mt=H});e.history.go(R*-1),so(M,{state:"blocked",location:E,proceed(){so(M,{state:"proceeding",proceed:void 0,reset:void 0,location:E}),O.then(()=>e.history.go(R))},reset(){let H=new Map(k.blockers);H.set(M,Ci),Je({blockers:H})}});return}return Cn(_,E)}),r){b_(t,D);let _=()=>k_(t,D);t.addEventListener("pagehide",_),de=()=>t.removeEventListener("pagehide",_)}return k.initialized||Cn("POP",k.location,{initialHydration:!0}),T}function $r(){f&&f(),de&&de(),m.clear(),P&&P.abort(),k.fetchers.forEach((_,E)=>Mc(E)),k.blockers.forEach((_,E)=>dm(E))}function Gt(_){return m.add(_),()=>m.delete(_)}function Je(_,E={}){_.matches&&(_.matches=_.matches.map(O=>{let H=a[O.route.id],G=O.route;return G.element!==H.element||G.errorElement!==H.errorElement||G.hydrateFallbackElement!==H.hydrateFallbackElement?{...O,route:H}:O})),k={...k,..._};let R=[],M=[];k.fetchers.forEach((O,H)=>{O.state==="idle"&&(be.has(H)?R.push(H):M.push(H))}),be.forEach(O=>{!k.fetchers.has(O)&&!J.has(O)&&R.push(O)}),[...m].forEach(O=>O(k,{deletedFetchers:R,viewTransitionOpts:E.viewTransitionOpts,flushSync:E.flushSync===!0})),R.forEach(O=>Mc(O)),M.forEach(O=>k.fetchers.delete(O))}function Ur(_,E,{flushSync:R}={}){var X,K;let M=k.actionData!=null&&k.navigation.formMethod!=null&&ut(k.navigation.formMethod)&&k.navigation.state==="loading"&&((X=_.state)==null?void 0:X._isRedirect)!==!0,O;E.actionData?Object.keys(E.actionData).length>0?O=E.actionData:O=null:M?O=k.actionData:O=null;let H=E.loaderData?Bp(k.loaderData,E.loaderData,E.matches||[],E.errors):k.loaderData,G=k.blockers;G.size>0&&(G=new Map(G),G.forEach((re,ve)=>G.set(ve,Ci)));let V=fe?!1:mm(_,E.matches||k.matches),W=N===!0||k.navigation.formMethod!=null&&ut(k.navigation.formMethod)&&((K=_.state)==null?void 0:K._isRedirect)!==!0;l&&(o=l,l=void 0),fe||C==="POP"||(C==="PUSH"?e.history.push(_,_.state):C==="REPLACE"&&e.history.replace(_,_.state));let q;if(C==="POP"){let re=D.get(k.location.pathname);re&&re.has(_.pathname)?q={currentLocation:k.location,nextLocation:_}:D.has(_.pathname)&&(q={currentLocation:_,nextLocation:k.location})}else if(L){let re=D.get(k.location.pathname);re?re.add(_.pathname):(re=new Set([_.pathname]),D.set(k.location.pathname,re)),q={currentLocation:k.location,nextLocation:_}}Je({...E,actionData:O,loaderData:H,historyAction:C,location:_,initialized:!0,navigation:uu,revalidation:"idle",restoreScrollPosition:V,preventScrollReset:W,blockers:G},{viewTransitionOpts:q,flushSync:R===!0}),C="POP",N=!1,L=!1,fe=!1,Z=!1,U==null||U.resolve(),U=null}async function sm(_,E){if(typeof _=="number"){e.history.go(_);return}let R=Td(k.location,k.matches,u,_,E==null?void 0:E.fromRouteId,E==null?void 0:E.relative),{path:M,submission:O,error:H}=Ip(!1,R,E),G=k.location,V=_a(k.location,M,E&&E.state);V={...V,...e.history.encodeLocation(V)};let W=E&&E.replace!=null?E.replace:void 0,q="PUSH";W===!0?q="REPLACE":W===!1||O!=null&&ut(O.formMethod)&&O.formAction===k.location.pathname+k.location.search&&(q="REPLACE");let X=E&&"preventScrollReset"in E?E.preventScrollReset===!0:void 0,K=(E&&E.flushSync)===!0,re=hm({currentLocation:G,nextLocation:V,historyAction:q});if(re){so(re,{state:"blocked",location:V,proceed(){so(re,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),sm(_,E)},reset(){let ve=new Map(k.blockers);ve.set(re,Ci),Je({blockers:ve})}});return}await Cn(q,V,{submission:O,pendingError:H,preventScrollReset:X,replace:E&&E.replace,enableViewTransition:E&&E.viewTransition,flushSync:K})}function N1(){U||(U=S_()),Ac(),Je({revalidation:"loading"});let _=U.promise;return k.navigation.state==="submitting"?_:k.navigation.state==="idle"?(Cn(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),_):(Cn(C||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:L===!0}),_)}async function Cn(_,E,R){P&&P.abort(),P=null,C=_,fe=(R&&R.startUninterruptedRevalidation)===!0,F1(k.location,k.matches),N=(R&&R.preventScrollReset)===!0,L=(R&&R.enableViewTransition)===!0;let M=l||o,O=R&&R.overrideNavigation,H=R!=null&&R.initialHydration&&k.matches&&k.matches.length>0&&!x?k.matches:en(M,E,u),G=(R&&R.flushSync)===!0;if(H&&k.initialized&&!Z&&m_(k.location,E)&&!(R&&R.submission&&ut(R.submission.formMethod))){Ur(E,{matches:H},{flushSync:G});return}let V=io(H,M,E.pathname);if(V.active&&V.matches&&(H=V.matches),!H){let{error:Ge,notFoundMatches:ke,route:Se}=Ic(E.pathname);Ur(E,{matches:ke,loaderData:{},errors:{[Se.id]:Ge}},{flushSync:G});return}P=new AbortController;let W=vs(e.history,E,P.signal,R&&R.submission),q=e.getContext?await e.getContext():new Cp,X;if(R&&R.pendingError)X=[tn(H).route.id,{type:"error",error:R.pendingError}];else if(R&&R.submission&&ut(R.submission.formMethod)){let Ge=await C1(W,E,R.submission,H,q,V.active,R&&R.initialHydration===!0,{replace:R.replace,flushSync:G});if(Ge.shortCircuited)return;if(Ge.pendingActionResult){let[ke,Se]=Ge.pendingActionResult;if(_t(Se)&&Na(Se.error)&&Se.error.status===404){P=null,Ur(E,{matches:Ge.matches,loaderData:{},errors:{[ke]:Se.error}});return}}H=Ge.matches||H,X=Ge.pendingActionResult,O=du(E,R.submission),G=!1,V.active=!1,W=vs(e.history,W.url,W.signal)}let{shortCircuited:K,matches:re,loaderData:ve,errors:Ve}=await T1(W,E,H,q,V.active,O,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,R&&R.initialHydration===!0,G,X);K||(P=null,Ur(E,{matches:re||H,...Hp(X),loaderData:ve,errors:Ve}))}async function C1(_,E,R,M,O,H,G,V={}){Ac();let W=x_(E,R);if(Je({navigation:W},{flushSync:V.flushSync===!0}),H){let K=await ao(M,E.pathname,_.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){if(K.partialMatches.length===0){let{matches:ve,route:Ve}=Co(o);return{matches:ve,pendingActionResult:[Ve.id,{type:"error",error:K.error}]}}let re=tn(K.partialMatches).route.id;return{matches:K.partialMatches,pendingActionResult:[re,{type:"error",error:K.error}]}}else if(K.matches)M=K.matches;else{let{notFoundMatches:re,error:ve,route:Ve}=Ic(E.pathname);return{matches:re,pendingActionResult:[Ve.id,{type:"error",error:ve}]}}}let q,X=Xo(M,E);if(!X.route.action&&!X.route.lazy)q={type:"error",error:Lt(405,{method:_.method,pathname:E.pathname,routeId:X.route.id})};else{let K=Hs(i,a,_,M,X,G?[]:n,O),re=await yi(_,K,O,null);if(q=re[X.route.id],!q){for(let ve of M)if(re[ve.route.id]){q=re[ve.route.id];break}}if(_.signal.aborted)return{shortCircuited:!0}}if(Hn(q)){let K;return V&&V.replace!=null?K=V.replace:K=Up(q.response.headers.get("Location"),new URL(_.url),u)===k.location.pathname+k.location.search,await Tn(_,q,!0,{submission:R,replace:K}),{shortCircuited:!0}}if(_t(q)){let K=tn(M,X.route.id);return(V&&V.replace)!==!0&&(C="PUSH"),{matches:M,pendingActionResult:[K.route.id,q,X.route.id]}}return{matches:M,pendingActionResult:[X.route.id,q]}}async function T1(_,E,R,M,O,H,G,V,W,q,X,K){let re=H||du(E,G),ve=G||V||Wp(re),Ve=!fe&&!q;if(O){if(Ve){let tt=im(K);Je({navigation:re,...tt!==void 0?{actionData:tt}:{}},{flushSync:X})}let me=await ao(R,E.pathname,_.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){if(me.partialMatches.length===0){let{matches:cs,route:An}=Co(o);return{matches:cs,loaderData:{},errors:{[An.id]:me.error}}}let tt=tn(me.partialMatches).route.id;return{matches:me.partialMatches,loaderData:{},errors:{[tt]:me.error}}}else if(me.matches)R=me.matches;else{let{error:tt,notFoundMatches:cs,route:An}=Ic(E.pathname);return{matches:cs,loaderData:{},errors:{[An.id]:tt}}}}let Ge=l||o,{dsMatches:ke,revalidatingFetchers:Se}=Lp(_,M,i,a,e.history,k,R,ve,E,q?[]:n,q===!0,Z,le,be,ge,Y,Ge,u,e.patchRoutesOnNavigation!=null,K);if(F=++A,!e.dataStrategy&&!ke.some(me=>me.shouldLoad)&&!ke.some(me=>me.route.middleware&&me.route.middleware.length>0)&&Se.length===0){let me=cm();return Ur(E,{matches:R,loaderData:{},errors:K&&_t(K[1])?{[K[0]]:K[1].error}:null,...Hp(K),...me?{fetchers:new Map(k.fetchers)}:{}},{flushSync:X}),{shortCircuited:!0}}if(Ve){let me={};if(!O){me.navigation=re;let tt=im(K);tt!==void 0&&(me.actionData=tt)}Se.length>0&&(me.fetchers=R1(Se)),Je(me,{flushSync:X})}Se.forEach(me=>{wr(me.key),me.controller&&J.set(me.key,me.controller)});let Rn=()=>Se.forEach(me=>wr(me.key));P&&P.signal.addEventListener("abort",Rn);let{loaderResults:vi,fetcherResults:zr}=await am(ke,Se,_,M);if(_.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Rn),Se.forEach(me=>J.delete(me.key));let sr=To(vi);if(sr)return await Tn(_,sr.result,!0,{replace:W}),{shortCircuited:!0};if(sr=To(zr),sr)return Y.add(sr.key),await Tn(_,sr.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:Lc,errors:xi}=Vp(k,R,vi,K,Se,zr);q&&k.errors&&(xi={...k.errors,...xi});let Pn=cm(),oo=um(F),lo=Pn||oo||Se.length>0;return{matches:R,loaderData:Lc,errors:xi,...lo?{fetchers:new Map(k.fetchers)}:{}}}function im(_){if(_&&!_t(_[1]))return{[_[0]]:_[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function R1(_){return _.forEach(E=>{let R=k.fetchers.get(E.key),M=Ti(void 0,R?R.data:void 0);k.fetchers.set(E.key,M)}),new Map(k.fetchers)}async function P1(_,E,R,M){wr(_);let O=(M&&M.flushSync)===!0,H=l||o,G=Td(k.location,k.matches,u,R,E,M==null?void 0:M.relative),V=en(H,G,u),W=io(V,H,G);if(W.active&&W.matches&&(V=W.matches),!V){xr(_,E,Lt(404,{pathname:G}),{flushSync:O});return}let{path:q,submission:X,error:K}=Ip(!0,G,M);if(K){xr(_,E,K,{flushSync:O});return}let re=e.getContext?await e.getContext():new Cp,ve=(M&&M.preventScrollReset)===!0;if(X&&ut(X.formMethod)){await A1(_,E,q,V,re,W.active,O,ve,X);return}ge.set(_,{routeId:E,path:q}),await M1(_,E,q,V,re,W.active,O,ve,X)}async function A1(_,E,R,M,O,H,G,V,W){Ac(),ge.delete(_);let q=k.fetchers.get(_);vr(_,w_(W,q),{flushSync:G});let X=new AbortController,K=vs(e.history,R,X.signal,W);if(H){let Ie=await ao(M,new URL(K.url).pathname,K.signal,_);if(Ie.type==="aborted")return;if(Ie.type==="error"){xr(_,E,Ie.error,{flushSync:G});return}else if(Ie.matches)M=Ie.matches;else{xr(_,E,Lt(404,{pathname:R}),{flushSync:G});return}}let re=Xo(M,R);if(!re.route.action&&!re.route.lazy){let Ie=Lt(405,{method:W.formMethod,pathname:R,routeId:E});xr(_,E,Ie,{flushSync:G});return}J.set(_,X);let ve=A,Ve=Hs(i,a,K,M,re,n,O),Ge=await yi(K,Ve,O,_),ke=Ge[re.route.id];if(!ke){for(let Ie of Ve)if(Ge[Ie.route.id]){ke=Ge[Ie.route.id];break}}if(K.signal.aborted){J.get(_)===X&&J.delete(_);return}if(be.has(_)){if(Hn(ke)||_t(ke)){vr(_,Sr(void 0));return}}else{if(Hn(ke))if(J.delete(_),F>ve){vr(_,Sr(void 0));return}else return Y.add(_),vr(_,Ti(W)),Tn(K,ke,!1,{fetcherSubmission:W,preventScrollReset:V});if(_t(ke)){xr(_,E,ke.error);return}}let Se=k.navigation.location||k.location,Rn=vs(e.history,Se,X.signal),vi=l||o,zr=k.navigation.state!=="idle"?en(vi,k.navigation.location,u):k.matches;ae(zr,"Didn't find any matches after fetcher action");let sr=++A;z.set(_,sr);let Lc=Ti(W,ke.data);k.fetchers.set(_,Lc);let{dsMatches:xi,revalidatingFetchers:Pn}=Lp(Rn,O,i,a,e.history,k,zr,W,Se,n,!1,Z,le,be,ge,Y,vi,u,e.patchRoutesOnNavigation!=null,[re.route.id,ke]);Pn.filter(Ie=>Ie.key!==_).forEach(Ie=>{let co=Ie.key,gm=k.fetchers.get(co),z1=Ti(void 0,gm?gm.data:void 0);k.fetchers.set(co,z1),wr(co),Ie.controller&&J.set(co,Ie.controller)}),Je({fetchers:new Map(k.fetchers)});let oo=()=>Pn.forEach(Ie=>wr(Ie.key));X.signal.addEventListener("abort",oo);let{loaderResults:lo,fetcherResults:me}=await am(xi,Pn,Rn,O);if(X.signal.aborted)return;if(X.signal.removeEventListener("abort",oo),z.delete(_),J.delete(_),Pn.forEach(Ie=>J.delete(Ie.key)),k.fetchers.has(_)){let Ie=Sr(ke.data);k.fetchers.set(_,Ie)}let tt=To(lo);if(tt)return Tn(Rn,tt.result,!1,{preventScrollReset:V});if(tt=To(me),tt)return Y.add(tt.key),Tn(Rn,tt.result,!1,{preventScrollReset:V});let{loaderData:cs,errors:An}=Vp(k,zr,lo,void 0,Pn,me);um(sr),k.navigation.state==="loading"&&sr>F?(ae(C,"Expected pending action"),P&&P.abort(),Ur(k.navigation.location,{matches:zr,loaderData:cs,errors:An,fetchers:new Map(k.fetchers)})):(Je({errors:An,loaderData:Bp(k.loaderData,cs,zr,An),fetchers:new Map(k.fetchers)}),Z=!1)}async function M1(_,E,R,M,O,H,G,V,W){let q=k.fetchers.get(_);vr(_,Ti(W,q?q.data:void 0),{flushSync:G});let X=new AbortController,K=vs(e.history,R,X.signal);if(H){let Se=await ao(M,new URL(K.url).pathname,K.signal,_);if(Se.type==="aborted")return;if(Se.type==="error"){xr(_,E,Se.error,{flushSync:G});return}else if(Se.matches)M=Se.matches;else{xr(_,E,Lt(404,{pathname:R}),{flushSync:G});return}}let re=Xo(M,R);J.set(_,X);let ve=A,Ve=Hs(i,a,K,M,re,n,O),ke=(await yi(K,Ve,O,_))[re.route.id];if(J.get(_)===X&&J.delete(_),!K.signal.aborted){if(be.has(_)){vr(_,Sr(void 0));return}if(Hn(ke))if(F>ve){vr(_,Sr(void 0));return}else{Y.add(_),await Tn(K,ke,!1,{preventScrollReset:V});return}if(_t(ke)){xr(_,E,ke.error);return}vr(_,Sr(ke.data))}}async function Tn(_,E,R,{submission:M,fetcherSubmission:O,preventScrollReset:H,replace:G}={}){E.response.headers.has("X-Remix-Revalidate")&&(Z=!0);let V=E.response.headers.get("Location");ae(V,"Expected a Location header on the redirect Response"),V=Up(V,new URL(_.url),u);let W=_a(k.location,V,{_isRedirect:!0});if(r){let Ve=!1;if(E.response.headers.has("X-Remix-Reload-Document"))Ve=!0;else if(cc(V)){const Ge=Ex(V,!0);Ve=Ge.origin!==t.location.origin||Bt(Ge.pathname,u)==null}if(Ve){G?t.location.replace(V):t.location.assign(V);return}}P=null;let q=G===!0||E.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:X,formAction:K,formEncType:re}=k.navigation;!M&&!O&&X&&K&&re&&(M=Wp(k.navigation));let ve=M||O;if(Xj.has(E.response.status)&&ve&&ut(ve.formMethod))await Cn(q,W,{submission:{...ve,formAction:V},preventScrollReset:H||N,enableViewTransition:R?L:void 0});else{let Ve=du(W,M);await Cn(q,W,{overrideNavigation:Ve,fetcherSubmission:O,preventScrollReset:H||N,enableViewTransition:R?L:void 0})}}async function yi(_,E,R,M){let O,H={};try{O=await l_(d,_,E,M,R,!1)}catch(G){return E.filter(V=>V.shouldLoad).forEach(V=>{H[V.route.id]={type:"error",error:G}}),H}if(_.signal.aborted)return H;for(let[G,V]of Object.entries(O))if(y_(V)){let W=V.result;H[G]={type:"redirect",response:h_(W,_,G,E,u)}}else H[G]=await d_(V);return H}async function am(_,E,R,M){let O=yi(R,_,M,null),H=Promise.all(E.map(async W=>{if(W.matches&&W.match&&W.request&&W.controller){let X=(await yi(W.request,W.matches,M,W.key))[W.match.route.id];return{[W.key]:X}}else return Promise.resolve({[W.key]:{type:"error",error:Lt(404,{pathname:W.path})}})})),G=await O,V=(await H).reduce((W,q)=>Object.assign(W,q),{});return{loaderResults:G,fetcherResults:V}}function Ac(){Z=!0,ge.forEach((_,E)=>{J.has(E)&&le.add(E),wr(E)})}function vr(_,E,R={}){k.fetchers.set(_,E),Je({fetchers:new Map(k.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function xr(_,E,R,M={}){let O=tn(k.matches,E);Mc(_),Je({errors:{[O.route.id]:R},fetchers:new Map(k.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function om(_){return ze.set(_,(ze.get(_)||0)+1),be.has(_)&&be.delete(_),k.fetchers.get(_)||Zj}function I1(_,E){wr(_,E==null?void 0:E.reason),vr(_,Sr(null))}function Mc(_){let E=k.fetchers.get(_);J.has(_)&&!(E&&E.state==="loading"&&z.has(_))&&wr(_),ge.delete(_),z.delete(_),Y.delete(_),be.delete(_),le.delete(_),k.fetchers.delete(_)}function L1(_){let E=(ze.get(_)||0)-1;E<=0?(ze.delete(_),be.add(_)):ze.set(_,E),Je({fetchers:new Map(k.fetchers)})}function wr(_,E){let R=J.get(_);R&&(R.abort(E),J.delete(_))}function lm(_){for(let E of _){let R=om(E),M=Sr(R.data);k.fetchers.set(E,M)}}function cm(){let _=[],E=!1;for(let R of Y){let M=k.fetchers.get(R);ae(M,`Expected fetcher: ${R}`),M.state==="loading"&&(Y.delete(R),_.push(R),E=!0)}return lm(_),E}function um(_){let E=[];for(let[R,M]of z)if(M<_){let O=k.fetchers.get(R);ae(O,`Expected fetcher: ${R}`),O.state==="loading"&&(wr(R),z.delete(R),E.push(R))}return lm(E),E.length>0}function D1(_,E){let R=k.blockers.get(_)||Ci;return kt.get(_)!==E&&kt.set(_,E),R}function dm(_){k.blockers.delete(_),kt.delete(_)}function so(_,E){let R=k.blockers.get(_)||Ci;ae(R.state==="unblocked"&&E.state==="blocked"||R.state==="blocked"&&E.state==="blocked"||R.state==="blocked"&&E.state==="proceeding"||R.state==="blocked"&&E.state==="unblocked"||R.state==="proceeding"&&E.state==="unblocked",`Invalid blocker state transition: ${R.state} -> ${E.state}`);let M=new Map(k.blockers);M.set(_,E),Je({blockers:M})}function hm({currentLocation:_,nextLocation:E,historyAction:R}){if(kt.size===0)return;kt.size>1&&Oe(!1,"A router only supports one blocker at a time");let M=Array.from(kt.entries()),[O,H]=M[M.length-1],G=k.blockers.get(O);if(!(G&&G.state==="proceeding")&&H({currentLocation:_,nextLocation:E,historyAction:R}))return O}function Ic(_){let E=Lt(404,{pathname:_}),R=l||o,{matches:M,route:O}=Co(R);return{notFoundMatches:M,route:O,error:E}}function O1(_,E,R){if(y=_,w=E,v=R||null,!g&&k.navigation===uu){g=!0;let M=mm(k.location,k.matches);M!=null&&Je({restoreScrollPosition:M})}return()=>{y=null,w=null,v=null}}function fm(_,E){return v&&v(_,E.map(M=>Sj(M,k.loaderData)))||_.key}function F1(_,E){if(y&&w){let R=fm(_,E);y[R]=w()}}function mm(_,E){if(y){let R=fm(_,E),M=y[R];if(typeof M=="number")return M}return null}function io(_,E,R){if(e.patchRoutesOnNavigation)if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:zi(E,R,u,!0)}}else return{active:!0,matches:zi(E,R,u,!0)||[]};return{active:!1,matches:null}}async function ao(_,E,R,M){if(!e.patchRoutesOnNavigation)return{type:"success",matches:_};let O=_;for(;;){let H=l==null,G=l||o,V=a;try{await e.patchRoutesOnNavigation({signal:R,path:E,matches:O,fetcherKey:M,patch:(X,K)=>{R.aborted||Dp(X,K,G,V,i,!1)}})}catch(X){return{type:"error",error:X,partialMatches:O}}finally{H&&!R.aborted&&(o=[...o])}if(R.aborted)return{type:"aborted"};let W=en(G,E,u),q=null;if(W){if(Object.keys(W[0].params).length===0)return{type:"success",matches:W};if(q=zi(G,E,u,!0),!(q&&O.length<q.length&&pm(O,q.slice(0,O.length))))return{type:"success",matches:W}}if(q||(q=zi(G,E,u,!0)),!q||pm(O,q))return{type:"success",matches:null};O=q}}function pm(_,E){return _.length===E.length&&_.every((R,M)=>R.route.id===E[M].route.id)}function $1(_){a={},l=Ea(_,i,void 0,a)}function U1(_,E,R=!1){let M=l==null;Dp(_,E,l||o,a,i,R),M&&(o=[...o],Je({}))}return T={get basename(){return u},get future(){return h},get state(){return k},get routes(){return o},get window(){return t},initialize:he,subscribe:Gt,enableScrollRestoration:O1,navigate:sm,fetch:P1,revalidate:N1,createHref:_=>e.history.createHref(_),encodeLocation:_=>e.history.encodeLocation(_),getFetcher:om,resetFetcher:I1,deleteFetcher:L1,dispose:$r,getBlocker:D1,deleteBlocker:dm,patchRoutes:U1,_internalFetchControllers:J,_internalSetRoutes:$1,_internalSetStateDoNotUseOrYouWillBreakYourApp(_){Je(_)}},e.unstable_instrumentations&&(T=Bj(T,e.unstable_instrumentations.map(_=>_.router).filter(Boolean))),T}function r_(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Td(e,t,r,n,s,i){let a,o;if(s){a=[];for(let u of t)if(a.push(u),u.route.id===s){o=u;break}}else a=t,o=t[t.length-1];let l=dc(n||".",uc(a),Bt(e.pathname,r)||e.pathname,i==="path");if(n==null&&(l.search=e.search,l.hash=e.hash),(n==null||n===""||n===".")&&o){let u=nf(l.search);if(o.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(l.search),h=d.getAll("index");d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let f=d.toString();l.search=f?`?${f}`:""}}return r!=="/"&&(l.pathname=Dj({basename:r,pathname:l.pathname})),gr(l)}function Ip(e,t,r){if(!r||!r_(r))return{path:t};if(r.formMethod&&!v_(r.formMethod))return{path:t,error:Lt(405,{method:r.formMethod})};let n=()=>({path:t,error:Lt(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),a=$x(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ut(i))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[m,y])=>`${f}${m}=${y}
`,""):String(r.body);return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ut(i))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}ae(typeof FormData=="function","FormData is not available in this environment");let o,l;if(r.formData)o=Ad(r.formData),l=r.formData;else if(r.body instanceof FormData)o=Ad(r.body),l=r.body;else if(r.body instanceof URLSearchParams)o=r.body,l=zp(o);else if(r.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(r.body),l=zp(o)}catch{return n()}let u={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(ut(u.formMethod))return{path:t,submission:u};let d=_n(t);return e&&d.search&&nf(d.search)&&o.append("index",""),d.search=`?${o}`,{path:gr(d),submission:u}}function Lp(e,t,r,n,s,i,a,o,l,u,d,h,f,m,y,v,w,g,p,x){var fe;let j=x?_t(x[1])?x[1].error:x[1].data:void 0,S=s.createURL(i.location),T=s.createURL(l),k;if(d&&i.errors){let Z=Object.keys(i.errors)[0];k=a.findIndex(le=>le.route.id===Z)}else if(x&&_t(x[1])){let Z=x[0];k=a.findIndex(le=>le.route.id===Z)-1}let C=x?x[1].statusCode:void 0,N=C&&C>=400,P={currentUrl:S,currentParams:((fe=i.matches[0])==null?void 0:fe.params)||{},nextUrl:T,nextParams:a[0].params,...o,actionResult:j,actionStatus:C},L=tf(a.map(Z=>Z.route.path)),D=a.map((Z,le)=>{let{route:J}=Z,A=null;if(k!=null&&le>k?A=!1:J.lazy?A=!0:rf(J)?d?A=Rd(J,i.loaderData,i.errors):n_(i.loaderData,i.matches[le],Z)&&(A=!0):A=!1,A!==null)return Pd(r,n,e,L,Z,u,t,A);let F=N?!1:h||S.pathname+S.search===T.pathname+T.search||S.search!==T.search||s_(i.matches[le],Z),z={...P,defaultShouldRevalidate:F},Y=Pl(Z,z);return Pd(r,n,e,L,Z,u,t,Y,z)}),de=[];return y.forEach((Z,le)=>{if(d||!a.some(be=>be.route.id===Z.routeId)||m.has(le))return;let J=i.fetchers.get(le),A=J&&J.state!=="idle"&&J.data===void 0,F=en(w,Z.path,g);if(!F){if(p&&A)return;de.push({key:le,routeId:Z.routeId,path:Z.path,matches:null,match:null,request:null,controller:null});return}if(v.has(le))return;let z=Xo(F,Z.path),Y=new AbortController,ge=vs(s,Z.path,Y.signal),ze=null;if(f.has(le))f.delete(le),ze=Hs(r,n,ge,F,z,u,t);else if(A)h&&(ze=Hs(r,n,ge,F,z,u,t));else{let be={...P,defaultShouldRevalidate:N?!1:h};Pl(z,be)&&(ze=Hs(r,n,ge,F,z,u,t,be))}ze&&de.push({key:le,routeId:Z.routeId,path:Z.path,matches:ze,match:z,request:ge,controller:Y})}),{dsMatches:D,revalidatingFetchers:de}}function rf(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Rd(e,t,r){if(e.lazy)return!0;if(!rf(e))return!1;let n=t!=null&&e.id in t,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function n_(e,t,r){let n=!t||r.route.id!==t.route.id,s=!e.hasOwnProperty(r.route.id);return n||s}function s_(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Pl(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Dp(e,t,r,n,s,i){let a;if(e){let u=n[e];ae(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),a=u.children}else a=r;let o=[],l=[];if(t.forEach(u=>{let d=a.find(h=>Ix(u,h));d?l.push({existingRoute:d,newRoute:u}):o.push(u)}),o.length>0){let u=Ea(o,s,[e||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...u)}if(i&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:d,newRoute:h}=l[u],f=d,[m]=Ea([h],s,[],{},!0);Object.assign(f,{element:m.element?m.element:f.element,errorElement:m.errorElement?m.errorElement:f.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:f.hydrateFallbackElement})}}function Ix(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(i=>Ix(r,i))}):!1}var Op=new WeakMap,Lx=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let s=r[t.id];if(ae(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[e];if(!i)return;let a=Op.get(s);a||(a={},Op.set(s,a));let o=a[e];if(o)return o;let l=(async()=>{let u=xj(e),h=s[e]!==void 0&&e!=="hasErrorBoundary";if(u)Oe(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(h)Oe(!1,`Route "${s.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(s,{[e]:f}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[e]=void 0,Object.values(s.lazy).every(f=>f===void 0)&&(s.lazy=void 0))})();return a[e]=l,l},Fp=new WeakMap;function i_(e,t,r,n,s){let i=r[e.id];if(ae(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=Fp.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{ae(typeof e.lazy=="function","No lazy route function found");let f=await e.lazy(),m={};for(let y in f){let v=f[y];if(v===void 0)continue;let w=bj(y),p=i[y]!==void 0&&y!=="hasErrorBoundary";w?Oe(!w,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):p?Oe(!p,`Route "${i.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):m[y]=v}Object.assign(i,m),Object.assign(i,{...n(i),lazy:void 0})})();return Fp.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(e.lazy),o=[],l;for(let d of a){if(s&&s.includes(d))continue;let h=Lx({key:d,route:e,manifest:r,mapRouteProperties:n});h&&(o.push(h),d===t&&(l=h))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function $p(e){let t=e.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(t.map(s=>s.resolve()))).forEach((s,i)=>{r[t[i].route.id]=s}),r}async function a_(e){return e.matches.some(t=>t.route.middleware)?Dx(e,()=>$p(e)):$p(e)}function Dx(e,t){return o_(e,t,n=>n,p_,r);function r(n,s,i){if(i)return Promise.resolve(Object.assign(i.value,{[s]:{type:"error",result:n}}));{let{matches:a}=e,o=Math.min(Math.max(a.findIndex(u=>u.route.id===s),0),Math.max(a.findIndex(u=>u.unstable_shouldCallHandler()),0)),l=tn(a,a[o].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:n}})}}}async function o_(e,t,r,n,s){let{matches:i,request:a,params:o,context:l,unstable_pattern:u}=e,d=i.flatMap(f=>f.route.middleware?f.route.middleware.map(m=>[f.route.id,m]):[]);return await Ox({request:a,params:o,context:l,unstable_pattern:u},d,t,r,n,s)}async function Ox(e,t,r,n,s,i,a=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let l=t[a];if(!l)return await r();let[u,d]=l,h,f=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await Ox(e,t,r,n,s,i,a+1)},h.value}catch(m){return h={value:await i(m,u,h)},h.value}};try{let m=await d(e,f),y=m!=null?n(m):void 0;return s(y)?y:h?y??h.value:(h={value:await f()},h.value)}catch(m){return await i(m,u,h)}}function Fx(e,t,r,n,s){let i=Lx({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),a=i_(n.route,ut(r.method)?"action":"loader",t,e,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Pd(e,t,r,n,s,i,a,o,l=null){let u=!1,d=Fx(e,t,r,s,i);return{...s,_lazyPromises:d,shouldLoad:o,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(h){return u=!0,l?typeof h=="boolean"?Pl(s,{...l,defaultShouldRevalidate:h}):Pl(s,l):o},resolve(h){let{lazy:f,loader:m,middleware:y}=s.route,v=u||o||h&&!ut(r.method)&&(f||m),w=y&&y.length>0&&!m&&!f;return v&&(ut(r.method)||!w)?c_({request:r,unstable_pattern:n,match:s,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:h,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Hs(e,t,r,n,s,i,a,o=null){return n.map(l=>l.route.id!==s.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Fx(e,t,r,l,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Pd(e,t,r,tf(n.map(u=>u.route.path)),l,i,a,!0,o))}async function l_(e,t,r,n,s,i){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:t,unstable_pattern:tf(r.map(u=>u.route.path)),params:r[0].params,context:s,matches:r},l=await e({...a,fetcherKey:n,runClientMiddleware:u=>{let d=a;return Dx(d,()=>u({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return l}async function c_({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:i,scopedContext:a}){let o,l,u=ut(e.method),d=u?"action":"loader",h=f=>{let m,y=new Promise((g,p)=>m=p);l=()=>m(),e.signal.addEventListener("abort",l);let v=g=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${r.route.id}]`)):f({request:e,unstable_pattern:t,params:r.params,context:a},...g!==void 0?[g]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(p=>v(p)):v())}}catch(g){return{type:"error",result:g}}})();return Promise.race([w,y])};try{let f=u?r.route.action:r.route.loader;if(n||s)if(f){let m,[y]=await Promise.all([h(f).catch(v=>{m=v}),n,s]);if(m!==void 0)throw m;o=y}else{await n;let m=u?r.route.action:r.route.loader;if(m)[o]=await Promise.all([h(m),s]);else if(d==="action"){let y=new URL(e.url),v=y.pathname+y.search;throw Lt(405,{method:e.method,pathname:v,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(f)o=await h(f);else{let m=new URL(e.url),y=m.pathname+m.search;throw Lt(404,{pathname:y})}}catch(f){return{type:"error",result:f}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function u_(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function d_(e){var n,s,i,a,o,l;let{result:t,type:r}=e;if(Ux(t)){let u;try{u=await u_(t)}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new Rl(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?Gp(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Rl(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:Na(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Na(t)?t.status:void 0}:Gp(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function h_(e,t,r,n,s){let i=e.headers.get("Location");if(ae(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!cc(i)){let a=n.slice(0,n.findIndex(o=>o.route.id===r)+1);i=Td(new URL(t.url),a,s,i),e.headers.set("Location",i)}return e}function Up(e,t,r){if(cc(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=Bt(s.pathname,r)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function vs(e,t,r,n){let s=e.createURL($x(t)).toString(),i={signal:r};if(n&&ut(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=Ad(n.formData):i.body=n.formData}return new Request(s,i)}function Ad(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function zp(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function f_(e,t,r,n=!1,s=!1){let i={},a=null,o,l=!1,u={},d=r&&_t(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,m=t[f];if(ae(!Hn(m),"Cannot handle redirect results in processLoaderData"),_t(m)){let y=m.error;if(d!==void 0&&(y=d,d=void 0),a=a||{},s)a[f]=y;else{let v=tn(e,f);a[v.route.id]==null&&(a[v.route.id]=y)}n||(i[f]=Mx),l||(l=!0,o=Na(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else i[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(o=m.statusCode),m.headers&&(u[f]=m.headers)}),d!==void 0&&r&&(a={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:u}}function Vp(e,t,r,n,s,i){let{loaderData:a,errors:o}=f_(t,r,n);return s.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:d,controller:h}=l;if(h&&h.signal.aborted)return;let f=i[u];if(ae(f,"Did not find corresponding fetcher result"),_t(f)){let m=tn(e.matches,d==null?void 0:d.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:f.error}),e.fetchers.delete(u)}else if(Hn(f))ae(!1,"Unhandled fetcher revalidation redirect");else{let m=Sr(f.data);e.fetchers.set(u,m)}}),{loaderData:a,errors:o}}function Bp(e,t,r,n){let s=Object.entries(t).filter(([,i])=>i!==Mx).reduce((i,[a,o])=>(i[a]=o,i),{});for(let i of r){let a=i.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&i.route.loader&&(s[a]=e[a]),n&&n.hasOwnProperty(a))break}return s}function Hp(e){return e?_t(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function tn(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Co(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Lt(e,{pathname:t,routeId:r,method:n,type:s,message:i}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(a="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(o="Unable to encode submission body")):e===403?(a="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(a="Not Found",o=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new Rl(e||500,a,new Error(o),!0)}function To(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(Hn(s))return{key:n,result:s}}}function $x(e){let t=typeof e=="string"?_n(e):e;return gr({...t,hash:""})}function m_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function p_(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&g_(r))}function g_(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function y_(e){return Ux(e.result)&&Qj.has(e.result.status)}function _t(e){return e.type==="error"}function Hn(e){return(e&&e.type)==="redirect"}function Gp(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Ux(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function v_(e){return Jj.has(e.toUpperCase())}function ut(e){return qj.has(e.toUpperCase())}function nf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Xo(e,t){let r=typeof t=="string"?_n(t).search:t.search;if(e[e.length-1].route.index&&nf(r||""))return e[e.length-1];let n=Tx(e);return n[n.length-1]}function Wp(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:i,json:a}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function du(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function x_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ti(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function w_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Sr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function b_(e,t){try{let r=e.sessionStorage.getItem(Ax);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function k_(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem(Ax,JSON.stringify(r))}catch(n){Oe(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function S_(){let e,t,r=new Promise((n,s)=>{e=async i=>{n(i);try{await r}catch{}},t=async i=>{s(i);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var is=b.createContext(null);is.displayName="DataRouter";var Ha=b.createContext(null);Ha.displayName="DataRouterState";b.createContext(!1);var sf=b.createContext({isTransitioning:!1});sf.displayName="ViewTransition";var zx=b.createContext(new Map);zx.displayName="Fetchers";var j_=b.createContext(null);j_.displayName="Await";var rr=b.createContext(null);rr.displayName="Navigation";var hc=b.createContext(null);hc.displayName="Location";var Ht=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ht.displayName="Route";var af=b.createContext(null);af.displayName="RouteError";function __(e,{relative:t}={}){ae(di(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(rr),{hash:s,pathname:i,search:a}=Ga(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:hr([r,i])),n.createHref({pathname:o,search:a,hash:s})}function di(){return b.useContext(hc)!=null}function En(){return ae(di(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(hc).location}var Vx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bx(e){b.useContext(rr).static||b.useLayoutEffect(e)}function yr(){let{isDataRoute:e}=b.useContext(Ht);return e?z_():E_()}function E_(){ae(di(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(is),{basename:t,navigator:r}=b.useContext(rr),{matches:n}=b.useContext(Ht),{pathname:s}=En(),i=JSON.stringify(uc(n)),a=b.useRef(!1);return Bx(()=>{a.current=!0}),b.useCallback((l,u={})=>{if(Oe(a.current,Vx),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=dc(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:hr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}var N_=b.createContext(null);function C_(e){let t=b.useContext(Ht).outlet;return b.useMemo(()=>t&&b.createElement(N_.Provider,{value:e},t),[t,e])}function T_(){let{matches:e}=b.useContext(Ht),t=e[e.length-1];return t?t.params:{}}function Ga(e,{relative:t}={}){let{matches:r}=b.useContext(Ht),{pathname:n}=En(),s=JSON.stringify(uc(r));return b.useMemo(()=>dc(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function R_(e,t,r,n,s){ae(di(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(rr),{matches:a}=b.useContext(Ht),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let p=h&&h.path||"";Hx(u,!h||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let f=En(),m;m=f;let y=m.pathname||"/",v=y;if(d!=="/"){let p=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=en(e,{pathname:v});return Oe(h||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Oe(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),L_(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:hr([d,i.encodeLocation?i.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:hr([d,i.encodeLocation?i.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),a,r,n,s)}function P_(){let e=U_(),t=Na(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,a)}var A_=b.createElement(P_,null),M_=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Ht.Provider,{value:this.props.routeContext},b.createElement(af.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I_({routeContext:e,match:t,children:r}){let n=b.useContext(is);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ht.Provider,{value:e},r)}function L_(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);ae(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,l=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:f,errors:m}=r,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var f,m;n(d,{location:r.location,params:((m=(f=r.matches)==null?void 0:f[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return i.reduceRight((d,h,f)=>{let m,y=!1,v=null,w=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||A_,o&&(l<0&&f===0?(Hx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):l===f&&(y=!0,w=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,f+1)),p=()=>{let x;return m?x=v:y?x=w:h.route.Component?x=b.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,b.createElement(I_,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(M_,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):p()},null)}function of(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D_(e){let t=b.useContext(is);return ae(t,of(e)),t}function O_(e){let t=b.useContext(Ha);return ae(t,of(e)),t}function F_(e){let t=b.useContext(Ht);return ae(t,of(e)),t}function lf(e){let t=F_(e),r=t.matches[t.matches.length-1];return ae(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function $_(){return lf("useRouteId")}function U_(){var n;let e=b.useContext(af),t=O_("useRouteError"),r=lf("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function z_(){let{router:e}=D_("useNavigate"),t=lf("useNavigate"),r=b.useRef(!1);return Bx(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{Oe(r.current,Vx),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Kp={};function Hx(e,t,r){!t&&!Kp[e]&&(Kp[e]=!0,Oe(!1,r))}var qp={};function Yp(e,t){!e&&!qp[t]&&(qp[t]=!0,console.warn(t))}function V_(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Oe(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Oe(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Oe(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var B_=["HydrateFallback","hydrateFallbackElement"],H_=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function G_({router:e,flushSync:t,unstable_onError:r}){let[n,s]=b.useState(e.state),[i,a]=b.useState(),[o,l]=b.useState({isTransitioning:!1}),[u,d]=b.useState(),[h,f]=b.useState(),[m,y]=b.useState(),v=b.useRef(new Map),w=b.useCallback(S=>{s(T=>(S.errors&&r&&Object.entries(S.errors).forEach(([k,C])=>{var N,P;((N=T.errors)==null?void 0:N[k])!==C&&r(C,{location:S.location,params:((P=S.matches[0])==null?void 0:P.params)??{}})}),S))},[r]),g=b.useCallback((S,{deletedFetchers:T,flushSync:k,viewTransitionOpts:C})=>{S.fetchers.forEach((P,L)=>{P.data!==void 0&&v.current.set(L,P.data)}),T.forEach(P=>v.current.delete(P)),Yp(k===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Yp(C==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!C||!N){t&&k?t(()=>w(S)):b.startTransition(()=>w(S));return}if(t&&k){t(()=>{h&&(u&&u.resolve(),h.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let P=e.window.document.startViewTransition(()=>{t(()=>w(S))});P.finished.finally(()=>{t(()=>{d(void 0),f(void 0),a(void 0),l({isTransitioning:!1})})}),t(()=>f(P));return}h?(u&&u.resolve(),h.skipTransition(),y({state:S,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(a(S),l({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[e.window,t,h,u,w]);b.useLayoutEffect(()=>e.subscribe(g),[e,g]),b.useEffect(()=>{o.isTransitioning&&!o.flushSync&&d(new H_)},[o]),b.useEffect(()=>{if(u&&i&&e.window){let S=i,T=u.promise,k=e.window.document.startViewTransition(async()=>{b.startTransition(()=>w(S)),await T});k.finished.finally(()=>{d(void 0),f(void 0),a(void 0),l({isTransitioning:!1})}),f(k)}},[i,u,e.window,w]),b.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,h,n.location,i]),b.useEffect(()=>{!o.isTransitioning&&m&&(a(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[o.isTransitioning,m]);let p=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:S=>e.navigate(S),push:(S,T,k)=>e.navigate(S,{state:T,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(S,T,k)=>e.navigate(S,{replace:!0,state:T,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[e]),x=e.basename||"/",j=b.useMemo(()=>({router:e,navigator:p,static:!1,basename:x,unstable_onError:r}),[e,p,x,r]);return b.createElement(b.Fragment,null,b.createElement(is.Provider,{value:j},b.createElement(Ha.Provider,{value:n},b.createElement(zx.Provider,{value:v.current},b.createElement(sf.Provider,{value:o},b.createElement(J_,{basename:x,location:n.location,navigationType:n.historyAction,navigator:p},b.createElement(W_,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var W_=b.memo(K_);function K_({routes:e,future:t,state:r,unstable_onError:n}){return R_(e,void 0,r,n,t)}function q_({to:e,replace:t,state:r,relative:n}){ae(di(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(rr);Oe(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Ht),{pathname:a}=En(),o=yr(),l=dc(e,uc(i),a,n==="path"),u=JSON.stringify(l);return b.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function Y_(e){return C_(e.context)}function J_({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){ae(!di(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=_n(r));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,m=b.useMemo(()=>{let y=Bt(l,a);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:f},navigationType:n}},[a,l,u,d,h,f,n]);return Oe(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:b.createElement(rr.Provider,{value:o},b.createElement(hc.Provider,{children:t,value:m}))}var Zo="get",el="application/x-www-form-urlencoded";function fc(e){return e!=null&&typeof e.tagName=="string"}function Q_(e){return fc(e)&&e.tagName.toLowerCase()==="button"}function X_(e){return fc(e)&&e.tagName.toLowerCase()==="form"}function Z_(e){return fc(e)&&e.tagName.toLowerCase()==="input"}function eE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tE(e,t){return e.button===0&&(!t||t==="_self")&&!eE(e)}var Ro=null;function rE(){if(Ro===null)try{new FormData(document.createElement("form"),0),Ro=!1}catch{Ro=!0}return Ro}var nE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hu(e){return e!=null&&!nE.has(e)?(Oe(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${el}"`),null):e}function sE(e,t){let r,n,s,i,a;if(X_(e)){let o=e.getAttribute("action");n=o?Bt(o,t):null,r=e.getAttribute("method")||Zo,s=hu(e.getAttribute("enctype"))||el,i=new FormData(e)}else if(Q_(e)||Z_(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?Bt(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Zo,s=hu(e.getAttribute("formenctype"))||hu(o.getAttribute("enctype"))||el,i=new FormData(o,e),!rE()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(fc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Zo,n=null,s=el,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cf(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iE(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Bt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function aE(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lE(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await aE(i,r);return a.links?a.links():[]}return[]}));return hE(n.flat(1).filter(oE).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Jp(e,t,r,n,s,i){let a=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var d;return r[u].pathname!==l.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>a(l,u)||o(l,u)):i==="data"?t.filter((l,u)=>{var h;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function cE(e,t,{includeHydrateFallback:r}={}){return uE(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function uE(e){return[...new Set(e)]}function dE(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function hE(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(dE(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Gx(){let e=b.useContext(is);return cf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fE(){let e=b.useContext(Ha);return cf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var uf=b.createContext(void 0);uf.displayName="FrameworkContext";function Wx(){let e=b.useContext(uf);return cf(e,"You must render this element inside a <HydratedRouter> element"),e}function mE(e,t){let r=b.useContext(uf),[n,s]=b.useState(!1),[i,a]=b.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=b.useRef(null);b.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let v=g=>{g.forEach(p=>{a(p.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[e]),b.useEffect(()=>{if(n){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{s(!0)},y=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Ri(o,m),onBlur:Ri(l,y),onMouseEnter:Ri(u,m),onMouseLeave:Ri(d,y),onTouchStart:Ri(h,m)}]:[!1,f,{}]}function Ri(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function pE({page:e,...t}){let{router:r}=Gx(),n=b.useMemo(()=>en(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(yE,{page:e,matches:n,...t}):null}function gE(e){let{manifest:t,routeModules:r}=Wx(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return lE(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function yE({page:e,matches:t,...r}){let n=En(),{manifest:s,routeModules:i}=Wx(),{basename:a}=Gx(),{loaderData:o,matches:l}=fE(),u=b.useMemo(()=>Jp(e,t,l,s,n,"data"),[e,t,l,s,n]),d=b.useMemo(()=>Jp(e,t,l,s,n,"assets"),[e,t,l,s,n]),h=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,v=!1;if(t.forEach(g=>{var x;let p=s.routes[g.route.id];!p||!p.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in o&&((x=i[g.route.id])!=null&&x.shouldRevalidate)||p.hasClientLoader?v=!0:y.add(g.route.id))}),y.size===0)return[];let w=iE(e,a,"data");return v&&y.size>0&&w.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[a,o,n,s,u,t,e,i]),f=b.useMemo(()=>cE(d,s),[d,s]),m=gE(d);return b.createElement(b.Fragment,null,h.map(y=>b.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),f.map(y=>b.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:v})=>b.createElement("link",{key:y,nonce:r.nonce,...v})))}function vE(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kx&&(window.__reactRouterVersion="7.9.6")}catch{}function xE(e,t){return t_({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:pj({window:t==null?void 0:t.window}),hydrationData:wE(),routes:e,mapRouteProperties:V_,hydrationRouteProperties:B_,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function wE(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:bE(e.errors)}),e}function bE(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new Rl(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}var qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ca=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:y}=b.useContext(rr),v=typeof u=="string"&&qx.test(u),w,g=!1;if(typeof u=="string"&&v&&(w=u,Kx))try{let N=new URL(window.location.href),P=u.startsWith("//")?new URL(N.protocol+u):new URL(u),L=Bt(P.pathname,y);P.origin===N.origin&&L!=null?u=L+P.search+P.hash:g=!0}catch{Oe(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=__(u,{relative:s}),[x,j,S]=mE(n,f),T=_E(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:h});function k(N){t&&t(N),N.defaultPrevented||T(N)}let C=b.createElement("a",{...f,...S,href:w||p,onClick:g||i?t:k,ref:vE(m,j),target:l,"data-discover":!v&&r==="render"?"true":void 0});return x&&!v?b.createElement(b.Fragment,null,C,b.createElement(pE,{page:p})):C});Ca.displayName="Link";var kE=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...u},d){let h=Ga(a,{relative:u.relative}),f=En(),m=b.useContext(Ha),{navigator:y,basename:v}=b.useContext(rr),w=m!=null&&RE(h)&&o===!0,g=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,p=f.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(p=p.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&v&&(x=Bt(x,v)||x);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let S=p===g||!s&&p.startsWith(g)&&p.charAt(j)==="/",T=x!=null&&(x===g||!s&&x.startsWith(g)&&x.charAt(g.length)==="/"),k={isActive:S,isPending:T,isTransitioning:w},C=S?t:void 0,N;typeof n=="function"?N=n(k):N=[n,S?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(k):i;return b.createElement(Ca,{...u,"aria-current":C,className:N,ref:d,style:P,to:a,viewTransition:o},typeof l=="function"?l(k):l)});kE.displayName="NavLink";var SE=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=Zo,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let y=CE(),v=TE(o,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&qx.test(o),p=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let j=x.nativeEvent.submitter,S=(j==null?void 0:j.getAttribute("formmethod"))||a;y(j||x.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return b.createElement("form",{ref:m,method:w,action:v,onSubmit:n?l:p,...f,"data-discover":!g&&e==="render"?"true":void 0})});SE.displayName="Form";function jE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yx(e){let t=b.useContext(is);return ae(t,jE(e)),t}function _E(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=yr(),l=En(),u=Ga(e,{relative:i});return b.useCallback(d=>{if(tE(d,t)){d.preventDefault();let h=r!==void 0?r:gr(l)===gr(u);o(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[l,o,u,r,n,t,e,s,i,a])}var EE=0,NE=()=>`__${String(++EE)}__`;function CE(){let{router:e}=Yx("useSubmit"),{basename:t}=b.useContext(rr),r=$_();return b.useCallback(async(n,s={})=>{let{action:i,method:a,encType:o,formData:l,body:u}=sE(n,t);if(s.navigate===!1){let d=s.fetcherKey||NE();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function TE(e,{relative:t}={}){let{basename:r}=b.useContext(rr),n=b.useContext(Ht);ae(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Ga(e||".",{relative:t})},a=En();if(e==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:hr([r,i.pathname])),gr(i)}function RE(e,{relative:t}={}){let r=b.useContext(sf);ae(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Yx("useViewTransitionState"),s=Ga(e,{relative:t});if(!r.isTransitioning)return!1;let i=Bt(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Bt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Tl(s.pathname,a)!=null||Tl(s.pathname,i)!=null}function PE(e){return b.createElement(G_,{flushSync:Sx.flushSync,...e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},d)=>b.createElement("svg",{ref:d,...AE,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ME(e)}`,o].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=B("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=B("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=B("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=B("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=B("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=B("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=B("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=B("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=B("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=B("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=B("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=B("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=B("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=B("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=B("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=B("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=B("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=B("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=B("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=B("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=B("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=B("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=B("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=B("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=B("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=B("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=B("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function iw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=iw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function aN(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=iw(e))&&(n&&(n+=" "),n+=t);return n}const ff="-",oN=e=>{const t=cN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(ff);return o[0]===""&&o.length!==1&&o.shift(),aw(o,t)||lN(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},aw=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?aw(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(ff);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},tg=/^\[(.+)\]$/,lN=e=>{if(tg.test(e)){const t=tg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},cN=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return dN(Object.entries(e.classGroups),r).forEach(([i,a])=>{Md(a,n,i,t)}),n},Md=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:rg(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(uN(s)){Md(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Md(a,rg(t,i),r,n)})})},rg=(e,t)=>{let r=e;return t.split(ff).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},uN=e=>e.isThemeGetter,dN=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[r,s]}):e,hN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},ow="!",fN=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=o=>{const l=[];let u=0,d=0,h;for(let w=0;w<o.length;w++){let g=o[w];if(u===0){if(g===s&&(n||o.slice(w,w+i)===t)){l.push(o.slice(d,w)),d=w+i;continue}if(g==="/"){h=w;continue}}g==="["?u++:g==="]"&&u--}const f=l.length===0?o:o.substring(d),m=f.startsWith(ow),y=m?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:a}):a},mN=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},pN=e=>({cache:hN(e.cacheSize),parseClassName:fN(e),...oN(e)}),gN=/\s+/,yN=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(gN);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let y=!!m,v=n(y?f.substring(0,m):f);if(!v){if(!y){o=u+(o.length>0?" "+o:o);continue}if(v=n(f),!v){o=u+(o.length>0?" "+o:o);continue}y=!1}const w=mN(d).join(":"),g=h?w+ow:w,p=g+v;if(i.includes(p))continue;i.push(p);const x=s(v,y);for(let j=0;j<x.length;++j){const S=x[j];i.push(g+S)}o=u+(o.length>0?" "+o:o)}return o};function vN(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=lw(t))&&(n&&(n+=" "),n+=r);return n}const lw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=lw(e[n]))&&(r&&(r+=" "),r+=t);return r};function xN(e,...t){let r,n,s,i=a;function a(l){const u=t.reduce((d,h)=>h(d),e());return r=pN(u),n=r.cache.get,s=r.cache.set,i=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=yN(l,r);return s(l,d),d}return function(){return i(vN.apply(null,arguments))}}const je=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},cw=/^\[(?:([a-z-]+):)?(.+)\]$/i,wN=/^\d+\/\d+$/,bN=new Set(["px","full","screen"]),kN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_N=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,br=e=>Gs(e)||bN.has(e)||wN.test(e),Br=e=>hi(e,"length",IN),Gs=e=>!!e&&!Number.isNaN(Number(e)),mu=e=>hi(e,"number",Gs),Pi=e=>!!e&&Number.isInteger(Number(e)),NN=e=>e.endsWith("%")&&Gs(e.slice(0,-1)),ne=e=>cw.test(e),Hr=e=>kN.test(e),CN=new Set(["length","size","percentage"]),TN=e=>hi(e,CN,uw),RN=e=>hi(e,"position",uw),PN=new Set(["image","url"]),AN=e=>hi(e,PN,DN),MN=e=>hi(e,"",LN),Ai=()=>!0,hi=(e,t,r)=>{const n=cw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},IN=e=>SN.test(e)&&!jN.test(e),uw=()=>!1,LN=e=>_N.test(e),DN=e=>EN.test(e),ON=()=>{const e=je("colors"),t=je("spacing"),r=je("blur"),n=je("brightness"),s=je("borderColor"),i=je("borderRadius"),a=je("borderSpacing"),o=je("borderWidth"),l=je("contrast"),u=je("grayscale"),d=je("hueRotate"),h=je("invert"),f=je("gap"),m=je("gradientColorStops"),y=je("gradientColorStopPositions"),v=je("inset"),w=je("margin"),g=je("opacity"),p=je("padding"),x=je("saturate"),j=je("scale"),S=je("sepia"),T=je("skew"),k=je("space"),C=je("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ne,t],D=()=>[ne,t],de=()=>["",br,Br],fe=()=>["auto",Gs,ne],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ne],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Gs,ne];return{cacheSize:500,separator:":",theme:{colors:[Ai],spacing:[br,Br],blur:["none","",Hr,ne],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Hr,ne],borderSpacing:D(),borderWidth:de(),contrast:Y(),grayscale:F(),hueRotate:Y(),invert:F(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[NN,Br],inset:L(),margin:L(),opacity:Y(),padding:D(),saturate:Y(),scale:Y(),sepia:F(),skew:Y(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ne]}],container:["container"],columns:[{columns:[Hr]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),ne]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pi,ne]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ne]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Pi,ne]}],"grid-cols":[{"grid-cols":[Ai]}],"col-start-end":[{col:["auto",{span:["full",Pi,ne]},ne]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[Ai]}],"row-start-end":[{row:["auto",{span:[Pi,ne]},ne]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ne]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ne,t]}],"min-w":[{"min-w":[ne,t,"min","max","fit"]}],"max-w":[{"max-w":[ne,t,"none","full","min","max","fit","prose",{screen:[Hr]},Hr]}],h:[{h:[ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hr,Br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mu]}],"font-family":[{font:[Ai]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ne]}],"line-clamp":[{"line-clamp":["none",Gs,mu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",br,ne]}],"list-image":[{"list-image":["none",ne]}],"list-style-type":[{list:["none","disc","decimal",ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",br,Br]}],"underline-offset":[{"underline-offset":["auto",br,ne]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),RN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:le()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[br,ne]}],"outline-w":[{outline:[br,Br]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[br,Br]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hr,MN]}],"shadow-color":[{shadow:[Ai]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hr,ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ne]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",ne]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Pi,ne]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ne]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[br,Br,mu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FN=xN(ON);function te(...e){return FN(aN(e))}const $N={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},ng=e=>{let t;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(y=>y(t,m))}},s=()=>t,l={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{($N?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,l);return l},UN=e=>e?ng(e):ng;var dw={exports:{}},hw={},fw={exports:{}},mw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ri=b;function zN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VN=typeof Object.is=="function"?Object.is:zN,BN=ri.useState,HN=ri.useEffect,GN=ri.useLayoutEffect,WN=ri.useDebugValue;function KN(e,t){var r=t(),n=BN({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return GN(function(){s.value=r,s.getSnapshot=t,pu(s)&&i({inst:s})},[e,r,t]),HN(function(){return pu(s)&&i({inst:s}),e(function(){pu(s)&&i({inst:s})})},[e]),WN(r),r}function pu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!VN(e,r)}catch{return!0}}function qN(e,t){return t()}var YN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qN:KN;mw.useSyncExternalStore=ri.useSyncExternalStore!==void 0?ri.useSyncExternalStore:YN;fw.exports=mw;var JN=fw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=b,QN=JN;function XN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZN=typeof Object.is=="function"?Object.is:XN,eC=QN.useSyncExternalStore,tC=gc.useRef,rC=gc.useEffect,nC=gc.useMemo,sC=gc.useDebugValue;hw.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=tC(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=nC(function(){function l(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&a.hasValue){var y=a.value;if(s(y,m))return h=y}return h=m}if(y=h,ZN(d,m))return y;var v=n(m);return s!==void 0&&s(y,v)?y:(d=m,h=v)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,s]);var o=eC(e,i[0],i[1]);return rC(function(){a.hasValue=!0,a.value=o},[o]),sC(o),o};dw.exports=hw;var iC=dw.exports;const aC=cy(iC),pw={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},{useDebugValue:oC}=Kn,{useSyncExternalStoreWithSelector:lC}=aC;let sg=!1;const cC=e=>e;function uC(e,t=cC,r){(pw?"production":void 0)!=="production"&&r&&!sg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sg=!0);const n=lC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return oC(n),n}const ig=e=>{(pw?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?UN(e):e,r=(n,s)=>uC(t,n,s);return Object.assign(r,t),r},Fr=e=>e?ig(e):ig,dC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"};function hC(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=r.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const Ra=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Ra(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Ra(n)(r)}}}},fC=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,g)=>({...g,...w}),...t},a=!1;const o=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...w)},n,s);const d=Ra(i.serialize),h=()=>{const w=i.partialize({...n()});let g;const p=d({state:w,version:i.version}).then(x=>u.setItem(i.name,x)).catch(x=>{g=x});if(g)throw g;return p},f=s.setState;s.setState=(w,g)=>{f(w,g),h()};const m=e((...w)=>{r(...w),h()},n,s);let y;const v=()=>{var w;if(!u)return;a=!1,o.forEach(p=>p(n()));const g=((w=i.onRehydrateStorage)==null?void 0:w.call(i,n()))||void 0;return Ra(u.getItem.bind(u))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var x;return y=i.merge(p,(x=n())!=null?x:m),r(y,!0),h()}).then(()=>{g==null||g(y,void 0),a=!0,l.forEach(p=>p(y))}).catch(p=>{g==null||g(void 0,p)})};return s.persist={setOptions:w=>{i={...i,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:w=>(o.add(w),()=>{o.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},v(),y||m},mC=(e,t)=>(r,n,s)=>{let i={storage:hC(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...t},a=!1;const o=new Set,l=new Set;let u=i.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...v)},n,s);const d=()=>{const v=i.partialize({...n()});return u.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,w)=>{h(v,w),d()};const f=e((...v)=>{r(...v),d()},n,s);s.getInitialState=()=>f;let m;const y=()=>{var v,w;if(!u)return;a=!1,o.forEach(p=>{var x;return p((x=n())!=null?x:f)});const g=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(v=n())!=null?v:f))||void 0;return Ra(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var x;const[j,S]=p;if(m=i.merge(S,(x=n())!=null?x:f),r(m,!0),j)return d()}).then(()=>{g==null||g(m,void 0),m=n(),a=!0,l.forEach(p=>p(m))}).catch(p=>{g==null||g(void 0,p)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||y(),m||f},pC=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((dC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),fC(e,t)):mC(e,t),Ka=pC,gC="modulepreload",yC=function(e){return"/"+e},ag={},ni=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=yC(l),l in ag)return;ag[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":gC,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},vC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ni(async()=>{const{default:n}=await Promise.resolve().then(()=>fi);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class mf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class xC extends mf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wC extends mf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bC extends mf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Id;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Id||(Id={}));var kC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class SC{constructor(t,{headers:r={},customFetch:n,region:s=Id.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=vC(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return kC(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(y=>{throw new xC(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new wC(d);if(!d.ok)throw new bC(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var yt={},pf={},yc={},qa={},vc={},xc={},jC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},si=jC();const _C=si.fetch,gw=si.fetch.bind(si),yw=si.Headers,EC=si.Request,NC=si.Response,fi=Object.freeze(Object.defineProperty({__proto__:null,Headers:yw,Request:EC,Response:NC,default:gw,fetch:_C},Symbol.toStringTag,{value:"Module"})),CC=V1(fi);var wc={};Object.defineProperty(wc,"__esModule",{value:!0});let TC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};wc.default=TC;var vw=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xc,"__esModule",{value:!0});const RC=vw(CC),PC=vw(wc);let AC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=RC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&v===""?(f=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new PC.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};xc.default=AC;var MC=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vc,"__esModule",{value:!0});const IC=MC(xc);let LC=class extends IC.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vc.default=LC;var DC=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qa,"__esModule",{value:!0});const OC=DC(vc);let FC=class extends OC.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};qa.default=FC;var $C=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yc,"__esModule",{value:!0});const Mi=$C(qa);let UC=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Mi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Mi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Mi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Mi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Mi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};yc.default=UC;var bc={},kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.version=void 0;kc.version="0.0.0-automated";Object.defineProperty(bc,"__esModule",{value:!0});bc.DEFAULT_HEADERS=void 0;const zC=kc;bc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zC.version}`};var xw=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pf,"__esModule",{value:!0});const VC=xw(yc),BC=xw(qa),HC=bc;let GC=class ww{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},HC.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new VC.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ww(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new BC.default({method:a,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};pf.default=GC;var mi=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const bw=mi(pf);yt.PostgrestClient=bw.default;const kw=mi(yc);yt.PostgrestQueryBuilder=kw.default;const Sw=mi(qa);yt.PostgrestFilterBuilder=Sw.default;const jw=mi(vc);yt.PostgrestTransformBuilder=jw.default;const _w=mi(xc);yt.PostgrestBuilder=_w.default;const Ew=mi(wc);yt.PostgrestError=Ew.default;var WC=yt.default={PostgrestClient:bw.default,PostgrestQueryBuilder:kw.default,PostgrestFilterBuilder:Sw.default,PostgrestTransformBuilder:jw.default,PostgrestBuilder:_w.default,PostgrestError:Ew.default};const{PostgrestClient:KC,PostgrestQueryBuilder:g3,PostgrestFilterBuilder:y3,PostgrestTransformBuilder:v3,PostgrestBuilder:x3,PostgrestError:w3}=WC,qC="2.11.2",YC={"X-Client-Info":`realtime-js/${qC}`},JC="1.0.0",Nw=1e4,QC=1e3;var Ws;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ws||(Ws={}));var St;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(St||(St={}));var Jt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jt||(Jt={}));var Ld;(function(e){e.websocket="websocket"})(Ld||(Ld={}));var Un;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Un||(Un={}));class XC{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const l=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Cw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xe||(xe={}));const og=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=ZC(a,e,t,s),i),{})},ZC=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Tw(i,a):Dd(a)},Tw=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return n2(t,r)}switch(e){case xe.bool:return e2(t);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return t2(t);case xe.json:case xe.jsonb:return r2(t);case xe.timestamp:return s2(t);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return Dd(t);default:return Dd(t)}},Dd=e=>e,e2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},t2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},r2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},n2=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Tw(t,o))}return e},s2=e=>typeof e=="string"?e.replace(" ","T"):e,Rw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class gu{constructor(t,r,n={},s=Nw){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lg||(lg={}));class ta{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ta.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ta.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ta.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),m=h.map(w=>w.presence_ref),y=d.filter(w=>m.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);y.length>0&&(o[u]=y),v.length>0&&(l[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const h=t[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[o].unshift(...f)}n(o,d,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cg||(cg={}));var ug;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ug||(ug={}));var _r;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_r||(_r={}));class gf{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gu(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new Cw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ta(this),this.broadcastEndpointURL=Rw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(_r.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(_r.CLOSED));const l={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(_r.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let v=0;v<m;v++){const w=f[v],{filter:{event:g,schema:p,table:x,filter:j}}=w,S=d&&d[v];if(S&&S.event===g&&S.schema===p&&S.table===x&&S.filter===j)y.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),t==null||t(_r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(_r.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(_r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=St.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new gu(this,Jt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gu(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Jt;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,v,w;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(v=m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var y,v,w,g,p,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,S=(y=m.filter)===null||y===void 0?void 0:y.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:v,table:w,commit_timestamp:g,type:p,errors:x}=y;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:g,eventType:p,new:{},old:{},errors:x}),this._getPayloadRecords(y))}m.callback(f,n)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&gf.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jt.close,{},t)}_onError(t){this._on(Jt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=og(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=og(t.columns,t.old_record)),r}}const i2=()=>{},a2=typeof WebSocket<"u",o2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class l2{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=YC,this.params={},this.timeout=Nw,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=i2,this.conn=null,this.sendBuffer=[],this.serializer=new XC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ni(async()=>{const{default:l}=await Promise.resolve().then(()=>fi);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${Ld.websocket}`,this.httpEndpoint=Rw(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Cw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(a2){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new c2(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ni(async()=>{const{default:t}=await import("./browser-BSWeV5Pi.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JC}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ws.connecting:return Un.Connecting;case Ws.open:return Un.Open;case Ws.closing:return Un.Closing;default:return Un.Closed}}isConnected(){return this.connectionState()===Un.Open}channel(t,r={config:{}}){const n=new gf(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Jt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(QC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([o2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class c2{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ws.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class yf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function We(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class u2 extends yf{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Od extends yf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var d2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const Pw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ni(async()=>{const{default:n}=await Promise.resolve().then(()=>fi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},h2=()=>d2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ni(()=>Promise.resolve().then(()=>fi),void 0)).Response:Response}),Fd=e=>{if(Array.isArray(e))return e.map(r=>Fd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Fd(n)}),t};var as=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const yu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),f2=(e,t,r)=>as(void 0,void 0,void 0,function*(){const n=yield h2();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new u2(yu(s),e.status||500))}).catch(s=>{t(new Od(yu(s),s))}):t(new Od(yu(e),e))}),m2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ya(e,t,r,n,s,i){return as(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,m2(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>f2(l,o,n))})})}function Dl(e,t,r,n){return as(this,void 0,void 0,function*(){return Ya(e,"GET",t,r,n)})}function Jr(e,t,r,n,s){return as(this,void 0,void 0,function*(){return Ya(e,"POST",t,n,s,r)})}function p2(e,t,r,n,s){return as(this,void 0,void 0,function*(){return Ya(e,"PUT",t,n,s,r)})}function g2(e,t,r,n){return as(this,void 0,void 0,function*(){return Ya(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Aw(e,t,r,n,s){return as(this,void 0,void 0,function*(){return Ya(e,"DELETE",t,n,s,r)})}var pt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const y2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class v2{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Pw(s)}uploadOrUpdate(t,r,n,s){return pt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},dg),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(We(i))return{data:null,error:i};throw i}})}upload(t,r,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return pt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:dg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(We(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Jr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new yf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}update(t,r,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return pt(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}copy(t,r,n){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return pt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Jr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return pt(this,void 0,void 0,function*(){try{const s=yield Jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}download(t,r){return pt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Dl(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(We(o))return{data:null,error:o};throw o}})}info(t){return pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Dl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fd(n),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}exists(t){return pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield g2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(We(n)&&n instanceof Od){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return pt(this,void 0,void 0,function*(){try{return{data:yield Aw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}list(t,r,n){return pt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},y2),r),{prefix:t||""});return{data:yield Jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const x2="2.7.1",w2={"X-Client-Info":`storage-js/${x2}`};var ds=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class b2{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},w2),r),this.fetch=Pw(n)}listBuckets(){return ds(this,void 0,void 0,function*(){try{return{data:yield Dl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(We(t))return{data:null,error:t};throw t}})}getBucket(t){return ds(this,void 0,void 0,function*(){try{return{data:yield Dl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ds(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ds(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ds(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ds(this,void 0,void 0,function*(){try{return{data:yield Aw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}}class k2 extends b2{constructor(t,r={},n){super(t,r,n)}from(t){return new v2(this.url,this.headers,t,this.fetch)}}const S2="2.49.1";let Vi="";typeof Deno<"u"?Vi="deno":typeof document<"u"?Vi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vi="react-native":Vi="node";const j2={"X-Client-Info":`supabase-js-${Vi}/${S2}`},_2={headers:j2},E2={schema:"public"},N2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},C2={};var T2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};const R2=e=>{let t;return e?t=e:typeof fetch>"u"?t=gw:t=fetch,(...r)=>t(...r)},P2=()=>typeof Headers>"u"?yw:Headers,A2=(e,t,r)=>{const n=R2(r),s=P2();return(i,a)=>T2(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var M2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};function I2(e){return e.replace(/\/$/,"")}function L2(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:a,auth:o,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>M2(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Mw="2.68.0",xs=30*1e3,$d=3,vu=$d*xs,D2="http://localhost:9999",O2="supabase.auth.token",F2={"X-Client-Info":`gotrue-js/${Mw}`},Ud="X-Supabase-Api-Version",Iw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function $2(e){return Math.round(Date.now()/1e3)+e}function U2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ar=()=>typeof window<"u"&&typeof document<"u",Mn={tested:!1,writable:!1},ra=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mn.tested)return Mn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mn.tested=!0,Mn.writable=!0}catch{Mn.tested=!0,Mn.writable=!1}return Mn.writable};function z2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Lw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ni(async()=>{const{default:n}=await Promise.resolve().then(()=>fi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},V2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dw=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Po=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ao=async(e,t)=>{await e.removeItem(t)};function B2(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,a,o,l,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)a=t.indexOf(e.charAt(d++)),o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=a<<2|o>>4,s=(o&15)<<4|l>>2,i=(l&3)<<6|u,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Sc{constructor(){this.promise=new Sc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Sc.promiseConstructor=Promise;function hg(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(B2(n))}async function H2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function G2(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function W2(e){return("0"+e.toString(16)).substr(-2)}function K2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,W2).join("")}async function q2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Y2(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function J2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await q2(e);return Y2(r)}async function hs(e,t,r=!1){const n=K2();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Dw(e,`${t}-code-verifier`,s);const i=await J2(n);return[i,n===i?"plain":"s256"]}const Q2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X2(e){const t=e.headers.get(Ud);if(!t||!t.match(Q2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class vf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Z2 extends vf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function eT(e){return ie(e)&&e.name==="AuthApiError"}class Ow extends vf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class os extends vf{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Gr extends os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tT(e){return ie(e)&&e.name==="AuthSessionMissingError"}class xu extends os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mo extends os{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Io extends os{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rT(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class fg extends os{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zd extends os{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wu(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class mg extends os{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var nT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const On=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sT=[502,503,504];async function pg(e){var t;if(!V2(e))throw new zd(On(e),0);if(sT.includes(e.status))throw new zd(On(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ow(On(i),i)}let n;const s=X2(e);if(s&&s.getTime()>=Iw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new mg(On(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Gr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new mg(On(r),e.status,r.weak_password.reasons);throw new Z2(On(r),e.status||500,n)}const iT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ue(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ud]||(i[Ud]=Iw["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await aT(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function aT(e,t,r,n,s,i){const a=iT(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new zd(On(l),0)}if(o.ok||await pg(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await pg(l)}}function Wr(e){var t;let r=null;uT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gg(e){const t=Wr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function rn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oT(e){return{data:e,error:null}}function lT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=nT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function cT(e){return e}function uT(e){return e.access_token&&e.refresh_token&&e.expires_in}var dT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class hT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Lw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:rn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=dT(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cT});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:rn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:rn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}const fT={getItem:e=>ra()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ra()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ra()&&globalThis.localStorage.removeItem(e)}};function yg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function mT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fs={debug:!!(globalThis&&ra()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pT extends Fw{}async function gT(e,t,r){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}mT();const yT={url:D2,storageKey:O2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vg(e,t,r){return await r()}class Pa{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pa.nextInstanceID,Pa.nextInstanceID+=1,this.instanceID>0&&ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},yT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Lw(s.fetch),this.lock=s.lock||vg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ar()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=gT:this.lock=vg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ra()?this.storage=fT:(this.memoryStorage={},this.storage=yg(this.memoryStorage)):(this.memoryStorage={},this.storage=yg(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=z2(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ar()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rT(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?{error:r}:{error:new Ow("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Wr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await hs(this.storage,this.storageKey)),i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},xform:Wr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Wr})}else throw new Mo("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gg})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gg})}else throw new Mo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new xu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Po(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Wr});if(await Ao(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new xu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ie(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Wr}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new xu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await hs(this.storage,this.storageKey));const{error:h}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Mo("You must provide either an email or phone number.")}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Wr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await hs(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:oT})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Gr;const{error:s}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ie(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Mo("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Po(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:rn}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gr}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:rn})})}catch(r){if(ie(r))return tT(r)&&(await this._removeSession(),await Ao(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Gr;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await hs(this.storage,this.storageKey));const{data:u,error:d}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:rn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return hg(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const a=hg(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Gr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ar())throw new Io("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Io(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Io("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fg("No code detected.");const{data:p,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new Io("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(ie(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Po(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(eT(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ao(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=U2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await hs(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ar()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ie(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await G2(async s=>(s>0&&await H2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&wu(i)&&Date.now()+a-n<xs})}catch(n){if(this._debug(r,"error",n),ie(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ar()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Po(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${vu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),wu(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Sc;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Gr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),ie(i)){const a={session:null,error:i};return wu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Dw(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ao(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xs}ms, refresh threshold is ${$d} ticks`),s<=$d&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await hs(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}Pa.nextInstanceID=0;const vT=Pa;class xT extends vT{constructor(t){super(t)}}var wT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class bT{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=I2(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:E2,realtime:C2,auth:Object.assign(Object.assign({},N2),{storageKey:l}),global:_2},d=L2(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=A2(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new KC(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new SC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new k2(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return wT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xT({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new l2(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kT=(e,t,r)=>new bT(e,t,r),ST="https://ptmfcodrlfufrzkxrtxg.supabase.co",jT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",ee=kT(ST,jT),Ol=new Map,xf=new Map;let _T=1;function wf(e){var s,i;let t=Ol.get(e.id);t||(t=_T++,Ol.set(e.id,t),xf.set(t,e.id));const r=e.reviews||[],n=r.length>0?r.reduce((a,o)=>a+o.rating,0)/r.length:0;return{id:t,title:e.title,description:e.description,image:e.image,prepTime:e.prep_time,difficulty:e.difficulty,rating:Number(n.toFixed(1)),category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutritionFacts:{calories:Number(e.nutrition_facts.calories),protein:Number(e.nutrition_facts.protein),carbs:Number(e.nutrition_facts.carbs),fat:Number(e.nutrition_facts.fat),fiber:Number(e.nutrition_facts.fiber)},reviews:r.map(a=>({id:a.id,userId:a.user_id,userName:a.profiles.full_name,rating:a.rating,comment:a.comment||"",date:new Date(a.created_at).toISOString().split("T")[0]})),authorId:e.author_id,authorName:(s=e.profiles)==null?void 0:s.full_name,authorType:(i=e.profiles)==null?void 0:i.user_type,createdAt:e.created_at,updatedAt:e.updated_at}}function Ja(e){return xf.get(e)||null}async function bu(e){console.log("Getting user profile for ID:",e);const{data:t,error:r}=await ee.from("profiles").select("*").eq("id",e).single();if(r)throw console.error("Error getting user profile:",r),r;return console.log("User profile retrieved:",t),t}async function ET(e){console.log("Creating recipe:",e);const{data:t,error:r}=await ee.from("recipes").insert([{title:e.title,description:e.description,image:e.image,prep_time:e.prepTime,difficulty:e.difficulty,category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutrition_facts:{calories:Number(e.nutritionFacts.calories),protein:Number(e.nutritionFacts.protein),carbs:Number(e.nutritionFacts.carbs),fat:Number(e.nutritionFacts.fat),fiber:Number(e.nutritionFacts.fiber)},author_id:e.authorId}]).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(r)throw console.error("Error creating recipe:",r),r;return console.log("Recipe created successfully:",t),wf(t)}async function NT(e,t){const r=Ja(e);if(!r)throw new Error("Receita no encontrada");const{data:n,error:s}=await ee.from("recipes").update({title:t.title,description:t.description,image:t.image,prep_time:t.prepTime,difficulty:t.difficulty,category:t.category,ingredients:t.ingredients,instructions:t.instructions,nutrition_facts:t.nutritionFacts?{calories:Number(t.nutritionFacts.calories),protein:Number(t.nutritionFacts.protein),carbs:Number(t.nutritionFacts.carbs),fat:Number(t.nutritionFacts.fat),fiber:Number(t.nutritionFacts.fiber)}:void 0}).eq("id",r).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(s)throw s;return wf(n)}async function CT(e){const t=Ja(e);if(!t)throw new Error("Receita no encontrada");const{error:r}=await ee.from("recipes").delete().eq("id",t);if(r)throw r;Ol.delete(t),xf.delete(e)}async function TT(){console.log("Fetching recipes from Supabase...");const{data:e,error:t}=await ee.from("recipes").select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),t;if(console.log("Raw recipes from database:",(e==null?void 0:e.length)||0),!e||e.length===0)return console.log("No recipes found in database"),[];const r=e.map(wf);return console.log("Converted recipes:",r.length),r}async function RT(e,t){const r=Ja(e);if(!r)throw new Error("Receita no encontrada");console.log("Adding review to recipe:",{recipeId:e,uuid:r,review:t});const{data:n,error:s}=await ee.from("reviews").insert([{recipe_id:r,user_id:t.user_id,rating:t.rating,comment:t.comment}]).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(s)throw console.error("Error adding review:",s),s;return console.log("Review added successfully:",n),n}async function PT(e,t){console.log("Updating review:",{reviewId:e,updates:t});const{data:r,error:n}=await ee.from("reviews").update({rating:t.rating,comment:t.comment}).eq("id",e).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(n)throw console.error("Error updating review:",n),n;return console.log("Review updated successfully:",r),r}async function AT(e){console.log("Deleting review:",e);const{error:t}=await ee.from("reviews").delete().eq("id",e);if(t)throw console.error("Error deleting review:",t),t;console.log("Review deleted successfully")}async function MT(e,t){const r=Ja(t);if(!r)throw new Error("Receita no encontrada");const{error:n}=await ee.from("favorites").insert([{user_id:e,recipe_id:r}]);if(n)throw console.error("Error adding to favorites:",n),n}async function IT(e,t){const r=Ja(t);if(!r)throw new Error("Receita no encontrada");const{error:n}=await ee.from("favorites").delete().eq("user_id",e).eq("recipe_id",r);if(n)throw console.error("Error removing from favorites:",n),n}async function LT(e){console.log("Fetching favorites for user:",e);const{data:t,error:r}=await ee.from("favorites").select("recipe_id").eq("user_id",e);if(r)throw console.error("Error fetching favorites:",r),r;console.log("Raw favorites data:",t);const n=[];return t==null||t.forEach(s=>{const i=Ol.get(s.recipe_id);i&&n.push(i)}),console.log("Converted favorite IDs:",n),n}async function DT(e){try{console.log("Checking if email exists:",e);const{data:t,error:r}=await ee.from("profiles").select("email").eq("email",e.toLowerCase().trim()).single();return r?r.code==="PGRST116"?(console.log("Email not found in profiles table"),!1):(console.error("Error checking email:",r),!1):(console.log("Email found in profiles table:",!!t),!!t)}catch(t){return console.error("Error checking email existence:",t),!1}}async function OT(e){console.log("Sending password reset email to:",e);const{error:t}=await ee.auth.resetPasswordForEmail(e.toLowerCase().trim(),{redirectTo:`${window.location.origin}/reset-password`});if(t)throw console.error("Error sending password reset email:",t),t.message.includes("Email rate limit exceeded")?new Error("Muitas tentativas de recuperao. Aguarde alguns minutos antes de tentar novamente."):t.message.includes("For security purposes")?new Error("Por motivos de segurana, aguarde alguns minutos antes de solicitar outro email."):t.message.includes("Invalid email")?new Error("Email invlido. Verifique o formato do email."):t.message.includes("User not found")?new Error("Email no encontrado. Verifique se o email est correto ou crie uma conta."):new Error("Erro ao enviar email de recuperao. Tente novamente em alguns minutos.");console.log("Password reset email sent successfully")}async function FT(e){console.log("Updating user password");const{error:t}=await ee.auth.updateUser({password:e});if(t)throw console.error("Error updating password:",t),t.message.includes("session_not_found")?new Error("Sesso expirada. Solicite um novo link de recuperao."):t.message.includes("same_password")?new Error("A nova senha deve ser diferente da senha atual."):t.message.includes("Password should be at least")?new Error("A senha deve ter pelo menos 6 caracteres."):new Error("Erro ao atualizar senha. Tente novamente.");console.log("Password updated successfully")}async function $T(){try{const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),r=e.get("type");if(!t||r!=="recovery")return{valid:!1};const{data:{user:n},error:s}=await ee.auth.getUser(t);if(s||!n)return console.error("Invalid recovery token:",s),{valid:!1};const{error:i}=await ee.auth.setSession({access_token:t,refresh_token:e.get("refresh_token")||""});return i?(console.error("Error setting session:",i),{valid:!1}):{valid:!0,user:n}}catch(e){return console.error("Error validating recovery token:",e),{valid:!1}}}const se=Fr(e=>({message:null,type:"info",showToast:(t,r)=>e({message:t,type:r}),hideToast:()=>e({message:null})})),qe=Fr()(Ka((e,t)=>({user:null,token:null,isAuthenticated:!1,error:null,loading:!1,initializeAuth:async()=>{var r,n;try{const{data:s}=await ee.auth.getSession(),i=s.session;if(!(i!=null&&i.user)){e({user:null,token:null,isAuthenticated:!1});return}const a=i.user,o=await bu(a.id).catch(()=>null),l={id:a.id,email:a.email??"",name:((r=a.user_metadata)==null?void 0:r.full_name)||(o==null?void 0:o.full_name)||"",type:(((n=a.user_metadata)==null?void 0:n.user_type)||(o==null?void 0:o.user_type))??"Client",profile:void 0};e({user:l,token:i.access_token,isAuthenticated:!0})}catch(s){console.error("initializeAuth error:",s),e({user:null,token:null,isAuthenticated:!1})}},signIn:async(r,n)=>{var s,i;e({loading:!0,error:null});try{const{data:a,error:o}=await ee.auth.signInWithPassword({email:r,password:n});if(o){let f="Erro ao fazer login";o.message.includes("Invalid login credentials")&&(f="Email ou senha incorretos."),o.message.includes("Email not confirmed")&&(f="Email no confirmado. Verifique sua caixa de entrada."),o.message.includes("Too many requests")&&(f="Muitas tentativas. Tente mais tarde."),se.getState().showToast(f,"error"),e({error:f,loading:!1});return}const l=a.user,u=a.session??(await ee.auth.getSession()).data.session,d=await bu(l.id).catch(()=>null),h={id:l.id,email:l.email??"",name:((s=l.user_metadata)==null?void 0:s.full_name)||(d==null?void 0:d.full_name)||"",type:(((i=l.user_metadata)==null?void 0:i.user_type)||(d==null?void 0:d.user_type))??"Client",profile:void 0};e({user:h,token:(u==null?void 0:u.access_token)??null,isAuthenticated:!0,loading:!1}),se.getState().showToast("Login realizado com sucesso!","success")}catch(a){console.error("signIn error:",a),se.getState().showToast("Erro inesperado ao fazer login.","error"),e({error:"Erro inesperado",loading:!1})}},signUp:async(r,n,s,i)=>{var a,o;e({loading:!0,error:null});try{const{data:l,error:u}=await ee.auth.signUp({email:r,password:n,options:{data:{full_name:s,user_type:i}}});if(u){let f="Erro ao criar conta";u.message.includes("User already registered")&&(f="Este e-mail j est cadastrado."),u.message.includes("Password should be at least")&&(f="A senha deve ter pelo menos 6 caracteres."),u.message.includes("Invalid email")&&(f="E-mail invlido."),se.getState().showToast(f,"error"),e({error:f,loading:!1});return}const d=l.user,h=l.session??(await ee.auth.getSession()).data.session;if(d&&(h!=null&&h.access_token)){const f=await bu(d.id).catch(()=>null),m={id:d.id,email:d.email??"",name:((a=d.user_metadata)==null?void 0:a.full_name)||(f==null?void 0:f.full_name)||"",type:(((o=d.user_metadata)==null?void 0:o.user_type)||(f==null?void 0:f.user_type))??"Client",profile:void 0};e({user:m,token:h.access_token,isAuthenticated:!0,loading:!1}),se.getState().showToast("Conta criada com sucesso!","success");return}se.getState().showToast("Conta criada com sucesso! Agora faa login.","success"),e({loading:!1})}catch(l){console.error("signUp error:",l),se.getState().showToast("Erro inesperado ao criar conta.","error"),e({error:"Erro inesperado",loading:!1})}},signOut:async()=>{try{await ee.auth.signOut(),e({user:null,token:null,isAuthenticated:!1}),se.getState().showToast("Logout realizado!","info")}catch(r){console.error("signOut error:",r),se.getState().showToast("Logout realizado","info")}},clearError:()=>e({error:null}),isNutritionist:()=>{var r;return((r=t().user)==null?void 0:r.type)==="Nutritionist"}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));async function $w(){const{data:e,error:t}=await ee.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return e||[]}async function UT(e){const{data:t,error:r}=await ee.from("user_subscriptions").select(`
      *,
      plan:subscription_plans(*)
    `).eq("user_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(r&&r.code!=="PGRST116")throw r;return t??null}async function zT(e){const{data:t,error:r}=await ee.from("user_subscriptions").insert(e).select(`
      *,
      plan:subscription_plans(*)
    `).single();if(r)throw r;return t}async function VT({priceId:e,planId:t,successUrl:r,cancelUrl:n}){var u,d,h;let{data:{session:s},error:i}=await ee.auth.getSession();if(i||!(s!=null&&s.access_token)){const f=await ee.auth.refreshSession().catch(()=>null);s=((u=f==null?void 0:f.data)==null?void 0:u.session)??null}const a=s==null?void 0:s.access_token;if(!a)throw new Error("Voc precisa estar logado para assinar. Faa login e tente novamente.");const{data:o}=await ee.functions.invoke("create-checkout-session",{body:{priceId:e,planId:t,successUrl:r,cancelUrl:n},headers:{Authorization:`Bearer ${a}`}});if(!o)throw new Error("Checkout failed: sem resposta do servidor");if(o.error){const f=(d=o.debug)!=null&&d.priceId?` (priceId: ${o.debug.priceId}${(h=o.debug)!=null&&h.message?`  ${o.debug.message}`:""})`:"";throw new Error(`Checkout failed: ${o.error}${f}`)}if(!o.url)throw new Error("Falha ao criar sesso de pagamento (sem URL)");const l=o.url;try{if(typeof window<"u"&&window.top&&window.top!==window){window.top.location.href=l;return}}catch{}try{window.location.assign(l)}catch{window.open(l,"_blank","noopener,noreferrer")}}const Uw=Fr()(Ka((e,t)=>({plans:[],userSubscription:null,loading:!1,error:null,fetchPlans:async()=>{e({loading:!0,error:null});try{const r=await $w();e({plans:r,loading:!1})}catch(r){console.error("Error fetching plans:",r);const n=r instanceof Error?r.message:"Erro ao carregar planos";e({error:n,loading:!1}),se.getState().showToast("Erro ao carregar planos de assinatura","error")}},fetchUserSubscription:async r=>{try{const n=await UT(r);e({userSubscription:n})}catch(n){console.error("Error fetching user subscription:",n),e({userSubscription:null})}},hasFeatureAccess:r=>{const{userSubscription:n}=t();return!n||!n.plan?!1:n.plan.features.includes(r)},isPremium:()=>t().hasFeatureAccess("ai_mentoring"),createSubscription:async r=>{e({loading:!0,error:null});try{const n=await zT(r);e({userSubscription:n,loading:!1}),se.getState().showToast("Assinatura ativada com sucesso!","success")}catch(n){console.error("Error creating subscription:",n);const s=n instanceof Error?n.message:"Erro ao criar assinatura";throw e({error:s,loading:!1}),se.getState().showToast("Erro ao ativar assinatura","error"),n}},reset:()=>e({plans:[],userSubscription:null,loading:!1,error:null})}),{name:"subscription-storage",partialize:e=>({userSubscription:e.userSubscription})})),bf=Fr(e=>({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:"",setCategory:t=>e({category:t}),setSearchQuery:t=>e({searchQuery:t}),setDifficulty:t=>e({difficulty:t}),setPrepTimeRange:t=>e({prepTimeRange:t}),setMinRating:t=>e({minRating:t}),setSortBy:t=>e({sortBy:t}),resetFilters:()=>e({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:""})})),kf=b.createContext({});function Sf(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const jc=b.createContext(null),jf=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class BT extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function HT({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=b.useContext(jf);return b.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:u}=s.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(BT,{isPresent:t,childRef:n,sizeRef:s,children:b.cloneElement(e,{ref:n})})}const GT=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=Sf(WT),l=b.useId(),u=b.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;n&&n()},[o,n]),d=b.useMemo(()=>({id:l,initial:t,isPresent:r,custom:s,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),i?[Math.random(),u]:[r,u]);return b.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[r]),b.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(e=c.jsx(HT,{isPresent:r,children:e})),c.jsx(jc.Provider,{value:d,children:e})};function WT(){return new Map}function zw(e=!0){const t=b.useContext(jc);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=b.useId();b.useEffect(()=>{e&&s(i)},[e]);const a=b.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const Lo=e=>e.key||"";function xg(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const _f=typeof window<"u",Vw=_f?b.useLayoutEffect:b.useEffect,Qa=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,l]=zw(a),u=b.useMemo(()=>xg(e),[e]),d=a&&!o?[]:u.map(Lo),h=b.useRef(!0),f=b.useRef(u),m=Sf(()=>new Map),[y,v]=b.useState(u),[w,g]=b.useState(u);Vw(()=>{h.current=!1,f.current=u;for(let j=0;j<w.length;j++){const S=Lo(w[j]);d.includes(S)?m.delete(S):m.get(S)!==!0&&m.set(S,!1)}},[w,d.length,d.join("-")]);const p=[];if(u!==y){let j=[...u];for(let S=0;S<w.length;S++){const T=w[S],k=Lo(T);d.includes(k)||(j.splice(S,0,T),p.push(T))}i==="wait"&&p.length&&(j=p),g(xg(j)),v(u);return}const{forceRender:x}=b.useContext(kf);return c.jsx(c.Fragment,{children:w.map(j=>{const S=Lo(j),T=a&&!o?!1:u===w||d.includes(S),k=()=>{if(m.has(S))m.set(S,!0);else return;let C=!0;m.forEach(N=>{N||(C=!1)}),C&&(x==null||x(),g(f.current),a&&(l==null||l()),n&&n())};return c.jsx(GT,{isPresent:T,initial:!h.current||r?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:T?void 0:k,children:j},S)})})},Ct=e=>e;let Vd=Ct;function Ef(e){let t;return()=>(t===void 0&&(t=e()),t)}const ii=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Rr=e=>e*1e3,Pr=e=>e/1e3,KT={skipAnimations:!1,useManualTiming:!1};function qT(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){i.has(u)&&(l.schedule(u),e()),u(a)}const l={schedule:(u,d=!1,h=!1)=>{const m=h&&n?t:r;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(a=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,s&&(s=!1,l.process(u))}};return l}const Do=["read","resolveKeyframes","update","preRender","render","postRender"],YT=40;function Bw(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=Do.reduce((g,p)=>(g[p]=qT(i),g),{}),{read:o,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=a,m=()=>{const g=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(g-s.timestamp,YT),1),s.timestamp=g,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},y=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:Do.reduce((g,p)=>{const x=a[p];return g[p]=(j,S=!1,T=!1)=>(r||y(),x.schedule(j,S,T)),g},{}),cancel:g=>{for(let p=0;p<Do.length;p++)a[Do[p]].cancel(g)},state:s,steps:a}}const{schedule:Ne,cancel:wn,state:Xe,steps:ku}=Bw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ct,!0),Hw=b.createContext({strict:!1}),wg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ai={};for(const e in wg)ai[e]={isEnabled:t=>wg[e].some(r=>!!t[r])};function JT(e){for(const t in e)ai[t]={...ai[t],...e[t]}}const QT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||QT.has(e)}let Gw=e=>!Fl(e);function XT(e){e&&(Gw=t=>t.startsWith("on")?!Fl(t):e(t))}try{XT(require("@emotion/is-prop-valid").default)}catch{}function ZT(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Gw(s)||r===!0&&Fl(s)||!t&&!Fl(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function eR(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const _c=b.createContext({});function Aa(e){return typeof e=="string"||Array.isArray(e)}function Ec(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Nf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cf=["initial",...Nf];function Nc(e){return Ec(e.animate)||Cf.some(t=>Aa(e[t]))}function Ww(e){return!!(Nc(e)||e.variants)}function tR(e,t){if(Nc(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Aa(r)?r:void 0,animate:Aa(n)?n:void 0}}return e.inherit!==!1?t:{}}function rR(e){const{initial:t,animate:r}=tR(e,b.useContext(_c));return b.useMemo(()=>({initial:t,animate:r}),[bg(t),bg(r)])}function bg(e){return Array.isArray(e)?e.join(" "):e}const nR=Symbol.for("motionComponentSymbol");function Ms(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sR(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ms(r)&&(r.current=n))},[t])}const Tf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iR="framerAppearId",Kw="data-"+Tf(iR),{schedule:Rf,cancel:b3}=Bw(queueMicrotask,!1),qw=b.createContext({});function aR(e,t,r,n,s){var i,a;const{visualElement:o}=b.useContext(_c),l=b.useContext(Hw),u=b.useContext(jc),d=b.useContext(jf).reducedMotion,h=b.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=b.useContext(qw);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&oR(h.current,r,s,m);const y=b.useRef(!1);b.useInsertionEffect(()=>{f&&y.current&&f.update(r,u)});const v=r[Kw],w=b.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return Vw(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Rf.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),w.current=!1))}),f}function oR(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Yw(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Ms(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:u})}function Yw(e){if(e)return e.options.allowProjection!==!1?e.projection:Yw(e.parent)}function lR({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,a;e&&JT(e);function o(u,d){let h;const f={...b.useContext(jf),...u,layoutId:cR(u)},{isStatic:m}=f,y=rR(u),v=n(u,m);if(!m&&_f){uR();const w=dR(f);h=w.MeasureLayout,y.visualElement=aR(s,v,f,t,w.ProjectionNode)}return c.jsxs(_c.Provider,{value:y,children:[h&&y.visualElement?c.jsx(h,{visualElement:y.visualElement,...f}):null,r(s,u,sR(v,y.visualElement,d),v,m,y.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const l=b.forwardRef(o);return l[nR]=s,l}function cR({layoutId:e}){const t=b.useContext(kf).id;return t&&e!==void 0?t+"-"+e:e}function uR(e,t){b.useContext(Hw).strict}function dR(e){const{drag:t,layout:r}=ai;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const hR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pf(e){return typeof e!="string"||e.includes("-")?!1:!!(hR.indexOf(e)>-1||/[A-Z]/u.test(e))}function kg(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Af(e,t,r,n){if(typeof t=="function"){const[s,i]=kg(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=kg(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const Bd=e=>Array.isArray(e),fR=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),mR=e=>Bd(e)?e[e.length-1]||0:e,ot=e=>!!(e&&e.getVelocity);function tl(e){const t=ot(e)?e.get():e;return fR(t)?t.toValue():t}function pR({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const a={latestValues:gR(n,s,i,e),renderState:t()};return r&&(a.onMount=o=>r({props:n,current:o,...a}),a.onUpdate=o=>r(o)),a}const Jw=e=>(t,r)=>{const n=b.useContext(_c),s=b.useContext(jc),i=()=>pR(e,t,n,s);return r?i():Sf(i)};function gR(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=tl(i[f]);let{initial:a,animate:o}=e;const l=Nc(e),u=Ww(e);t&&u&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Ec(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=Af(e,f[m]);if(y){const{transitionEnd:v,transition:w,...g}=y;for(const p in g){let x=g[p];if(Array.isArray(x)){const j=d?x.length-1:0;x=x[j]}x!==null&&(s[p]=x)}for(const p in v)s[p]=v[p]}}}return s}const pi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ls=new Set(pi),Qw=e=>t=>typeof t=="string"&&t.startsWith(e),Xw=Qw("--"),yR=Qw("var(--"),Mf=e=>yR(e)?vR.test(e.split("/*")[0].trim()):!1,vR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Dr=(e,t,r)=>r>t?t:r<e?e:r,gi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ma={...gi,transform:e=>Dr(0,1,e)},Oo={...gi,default:1},Xa=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kr=Xa("deg"),mr=Xa("%"),Q=Xa("px"),xR=Xa("vh"),wR=Xa("vw"),Sg={...mr,parse:e=>mr.parse(e)/100,transform:e=>mr.transform(e*100)},bR={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,backgroundPositionX:Q,backgroundPositionY:Q},kR={rotate:Kr,rotateX:Kr,rotateY:Kr,rotateZ:Kr,scale:Oo,scaleX:Oo,scaleY:Oo,scaleZ:Oo,skew:Kr,skewX:Kr,skewY:Kr,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:Ma,originX:Sg,originY:Sg,originZ:Q},jg={...gi,transform:Math.round},If={...bR,...kR,zIndex:jg,size:Q,fillOpacity:Ma,strokeOpacity:Ma,numOctaves:jg},SR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jR=pi.length;function _R(e,t,r){let n="",s=!0;for(let i=0;i<jR;i++){const a=pi[i],o=e[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=Zw(o,If[a]);if(!l){s=!1;const d=SR[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Lf(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const u=t[l];if(ls.has(l)){a=!0;continue}else if(Xw(l)){s[l]=u;continue}else{const d=Zw(u,If[l]);l.startsWith("origin")?(o=!0,i[l]=d):n[l]=d}}if(t.transform||(a||r?n.transform=_R(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${l} ${u} ${d}`}}const ER={offset:"stroke-dashoffset",array:"stroke-dasharray"},NR={offset:"strokeDashoffset",array:"strokeDasharray"};function CR(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?ER:NR;e[i.offset]=Q.transform(-n);const a=Q.transform(t),o=Q.transform(r);e[i.array]=`${a} ${o}`}function _g(e,t,r){return typeof e=="string"?e:Q.transform(t+r*e)}function TR(e,t,r){const n=_g(t,e.x,e.width),s=_g(r,e.y,e.height);return`${n} ${s}`}function Df(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},d,h){if(Lf(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:y}=e;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=TR(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&CR(f,a,o,l,!1)}const Of=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),eb=()=>({...Of(),attrs:{}}),Ff=e=>typeof e=="string"&&e.toLowerCase()==="svg";function tb(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const rb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nb(e,t,r,n){tb(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(rb.has(s)?s:Tf(s),t.attrs[s])}const $l={};function RR(e){Object.assign($l,e)}function sb(e,{layout:t,layoutId:r}){return ls.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!$l[e]||e==="opacity")}function $f(e,t,r){var n;const{style:s}=e,i={};for(const a in s)(ot(s[a])||t.style&&ot(t.style[a])||sb(a,e)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function ib(e,t,r){const n=$f(e,t,r);for(const s in e)if(ot(e[s])||ot(t[s])){const i=pi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function PR(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Eg=["x","y","width","height","cx","cy","r"],AR={useVisualState:Jw({scrapeMotionValuesFromProps:ib,createRenderState:eb,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const o in s)if(ls.has(o)){i=!0;break}}if(!i)return;let a=!t;if(t)for(let o=0;o<Eg.length;o++){const l=Eg[o];e[l]!==t[l]&&(a=!0)}a&&Ne.read(()=>{PR(r,n),Ne.render(()=>{Df(n,s,Ff(r.tagName),e.transformTemplate),nb(r,n)})})}})},MR={useVisualState:Jw({scrapeMotionValuesFromProps:$f,createRenderState:Of})};function ab(e,t,r){for(const n in t)!ot(t[n])&&!sb(n,r)&&(e[n]=t[n])}function IR({transformTemplate:e},t){return b.useMemo(()=>{const r=Of();return Lf(r,t,e),Object.assign({},r.vars,r.style)},[t])}function LR(e,t){const r=e.style||{},n={};return ab(n,r,e),Object.assign(n,IR(e,t)),n}function DR(e,t){const r={},n=LR(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function OR(e,t,r,n){const s=b.useMemo(()=>{const i=eb();return Df(i,t,Ff(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};ab(i,e.style,e),s.style={...i,...s.style}}return s}function FR(e=!1){return(r,n,s,{latestValues:i},a)=>{const l=(Pf(r)?OR:DR)(n,i,a,r),u=ZT(n,typeof r=="string",e),d=r!==b.Fragment?{...u,...l,ref:s}:{},{children:h}=n,f=b.useMemo(()=>ot(h)?h.get():h,[h]);return b.createElement(r,{...d,children:f})}}function $R(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Pf(n)?AR:MR,preloadedFeatures:e,useRender:FR(s),createVisualElement:t,Component:n};return lR(a)}}function ob(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Cc(e,t,r){const n=e.getProps();return Af(n,t,r!==void 0?r:n.custom,e)}const UR=Ef(()=>window.ScrollTimeline!==void 0);class zR{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(UR()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class VR extends zR{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function Uf(e,t){return e?e[t]||e.default||e:void 0}const Hd=2e4;function lb(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Hd;)t+=r,n=e.next(t);return t>=Hd?1/0:t}function zf(e){return typeof e=="function"}function Ng(e,t){e.timeline=t,e.onfinish=null}const Vf=e=>Array.isArray(e)&&typeof e[0]=="number",BR={linearEasing:void 0};function HR(e,t){const r=Ef(e);return()=>{var n;return(n=BR[t])!==null&&n!==void 0?n:r()}}const Ul=HR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cb=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(ii(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function ub(e){return!!(typeof e=="function"&&Ul()||!e||typeof e=="string"&&(e in Gd||Ul())||Vf(e)||Array.isArray(e)&&e.every(ub))}const Bi=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Gd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bi([0,.65,.55,1]),circOut:Bi([.55,0,1,.45]),backIn:Bi([.31,.01,.66,-.59]),backOut:Bi([.33,1.53,.69,.99])};function db(e,t){if(e)return typeof e=="function"&&Ul()?cb(e,t):Vf(e)?Bi(e):Array.isArray(e)?e.map(r=>db(r,t)||Gd.easeOut):Gd[e]}const Kt={x:!1,y:!1};function hb(){return Kt.x||Kt.y}function GR(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function fb(e,t){const r=GR(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Cg(e){return t=>{t.pointerType==="touch"||hb()||e(t)}}function WR(e,t,r={}){const[n,s,i]=fb(e,r),a=Cg(o=>{const{target:l}=o,u=t(o);if(typeof u!="function"||!l)return;const d=Cg(h=>{u(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return n.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const mb=(e,t)=>t?e===t?!0:mb(e,t.parentElement):!1,Bf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,KR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qR(e){return KR.has(e.tagName)||e.tabIndex!==-1}const Hi=new WeakSet;function Tg(e){return t=>{t.key==="Enter"&&e(t)}}function Su(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const YR=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Tg(()=>{if(Hi.has(r))return;Su(r,"down");const s=Tg(()=>{Su(r,"up")}),i=()=>Su(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Rg(e){return Bf(e)&&!hb()}function JR(e,t,r={}){const[n,s,i]=fb(e,r),a=o=>{const l=o.currentTarget;if(!Rg(o)||Hi.has(l))return;Hi.add(l);const u=t(o),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Rg(m)||!Hi.has(l))&&(Hi.delete(l),typeof u=="function"&&u(m,{success:y}))},h=m=>{d(m,r.useGlobalTarget||mb(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(o=>{!qR(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",u=>YR(u,s),s)}),i}function QR(e){return e==="x"||e==="y"?Kt[e]?null:(Kt[e]=!0,()=>{Kt[e]=!1}):Kt.x||Kt.y?null:(Kt.x=Kt.y=!0,()=>{Kt.x=Kt.y=!1})}const pb=new Set(["width","height","top","left","right","bottom",...pi]);let rl;function XR(){rl=void 0}const pr={now:()=>(rl===void 0&&pr.set(Xe.isProcessing||KT.useManualTiming?Xe.timestamp:performance.now()),rl),set:e=>{rl=e,queueMicrotask(XR)}};function Hf(e,t){e.indexOf(t)===-1&&e.push(t)}function Gf(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Wf{constructor(){this.subscriptions=[]}add(t){return Hf(this.subscriptions,t),()=>Gf(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function gb(e,t){return t?e*(1e3/t):0}const Pg=30,ZR=e=>!isNaN(parseFloat(e));class eP{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=pr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=pr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ZR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Wf);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Pg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Pg);return gb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ia(e,t){return new eP(e,t)}function tP(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ia(r))}function rP(e,t){const r=Cc(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=mR(i[a]);tP(e,a,o)}}function nP(e){return!!(ot(e)&&e.add)}function Wd(e,t){const r=e.getValue("willChange");if(nP(r))return r.add(t)}function yb(e){return e.props[Kw]}const vb=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,sP=1e-7,iP=12;function aP(e,t,r,n,s){let i,a,o=0;do a=t+(r-t)/2,i=vb(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>sP&&++o<iP);return a}function Za(e,t,r,n){if(e===t&&r===n)return Ct;const s=i=>aP(i,0,1,e,r);return i=>i===0||i===1?i:vb(s(i),t,n)}const xb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wb=e=>t=>1-e(1-t),bb=Za(.33,1.53,.69,.99),Kf=wb(bb),kb=xb(Kf),Sb=e=>(e*=2)<1?.5*Kf(e):.5*(2-Math.pow(2,-10*(e-1))),qf=e=>1-Math.sin(Math.acos(e)),jb=wb(qf),_b=xb(qf),Eb=e=>/^0[^.\s]+$/u.test(e);function oP(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Eb(e):!0}const na=e=>Math.round(e*1e5)/1e5,Yf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lP(e){return e==null}const cP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jf=(e,t)=>r=>!!(typeof r=="string"&&cP.test(r)&&r.startsWith(e)||t&&!lP(r)&&Object.prototype.hasOwnProperty.call(r,t)),Nb=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(Yf);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},uP=e=>Dr(0,255,e),ju={...gi,transform:e=>Math.round(uP(e))},Wn={test:Jf("rgb","red"),parse:Nb("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+ju.transform(e)+", "+ju.transform(t)+", "+ju.transform(r)+", "+na(Ma.transform(n))+")"};function dP(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Kd={test:Jf("#"),parse:dP,transform:Wn.transform},Is={test:Jf("hsl","hue"),parse:Nb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+mr.transform(na(t))+", "+mr.transform(na(r))+", "+na(Ma.transform(n))+")"},st={test:e=>Wn.test(e)||Kd.test(e)||Is.test(e),parse:e=>Wn.test(e)?Wn.parse(e):Is.test(e)?Is.parse(e):Kd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wn.transform(e):Is.transform(e)},hP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fP(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Yf))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(hP))===null||r===void 0?void 0:r.length)||0)>0}const Cb="number",Tb="color",mP="var",pP="var(",Ag="${}",gP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function La(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(gP,l=>(st.test(l)?(n.color.push(i),s.push(Tb),r.push(st.parse(l))):l.startsWith(pP)?(n.var.push(i),s.push(mP),r.push(l)):(n.number.push(i),s.push(Cb),r.push(parseFloat(l))),++i,Ag)).split(Ag);return{values:r,split:o,indexes:n,types:s}}function Rb(e){return La(e).values}function Pb(e){const{split:t,types:r}=La(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const o=r[a];o===Cb?i+=na(s[a]):o===Tb?i+=st.transform(s[a]):i+=s[a]}return i}}const yP=e=>typeof e=="number"?0:e;function vP(e){const t=Rb(e);return Pb(e)(t.map(yP))}const bn={test:fP,parse:Rb,createTransformer:Pb,getAnimatableNone:vP},xP=new Set(["brightness","contrast","saturate","opacity"]);function wP(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Yf)||[];if(!n)return e;const s=r.replace(n,"");let i=xP.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const bP=/\b([a-z-]*)\(.*?\)/gu,qd={...bn,getAnimatableNone:e=>{const t=e.match(bP);return t?t.map(wP).join(" "):e}},kP={...If,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:qd,WebkitFilter:qd},Qf=e=>kP[e];function Ab(e,t){let r=Qf(e);return r!==qd&&(r=bn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const SP=new Set(["auto","none","0"]);function jP(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!SP.has(i)&&La(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Ab(r,s)}const Mg=e=>e===gi||e===Q,Ig=(e,t)=>parseFloat(e.split(", ")[t]),Lg=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return Ig(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?Ig(i[1],e):0}},_P=new Set(["x","y","z"]),EP=pi.filter(e=>!_P.has(e));function NP(e){const t=[];return EP.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const oi={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Lg(4,13),y:Lg(5,14)};oi.translateX=oi.x;oi.translateY=oi.y;const Jn=new Set;let Yd=!1,Jd=!1;function Mb(){if(Jd){const e=Array.from(Jn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=NP(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Jd=!1,Yd=!1,Jn.forEach(e=>e.complete()),Jn.clear()}function Ib(){Jn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Jd=!0)})}function CP(){Ib(),Mb()}class Xf{constructor(t,r,n,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jn.add(this),Yd||(Yd=!0,Ne.read(Ib),Ne.resolveKeyframes(Mb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Lb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),TP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RP(e){const t=TP.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function Db(e,t,r=1){const[n,s]=RP(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return Lb(a)?parseFloat(a):a}return Mf(s)?Db(s,t,r+1):s}const Ob=e=>t=>t.test(e),PP={test:e=>e==="auto",parse:e=>e},Fb=[gi,Q,mr,Kr,wR,xR,PP],Dg=e=>Fb.find(Ob(e));class $b extends Xf{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Mf(u))){const d=Db(u,r.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!pb.has(n)||t.length!==2)return;const[s,i]=t,a=Dg(s),o=Dg(i);if(a!==o)if(Mg(a)&&Mg(o))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)oP(t[s])&&n.push(s);n.length&&jP(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=oi[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{r.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Og=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bn.test(e)||e==="0")&&!e.startsWith("url("));function AP(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function MP(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Og(s,t),o=Og(i,t);return!a||!o?!1:AP(e)||(r==="spring"||zf(r))&&n}const IP=e=>e!==null;function Tc(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(IP),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const LP=40;class Ub{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pr.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>LP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&CP(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=pr.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!MP(t,n,s,i))if(a)this.options.duration=0;else{l&&l(Tc(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Re=(e,t,r)=>e+(t-e)*r;function _u(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function DP({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;s=_u(l,o,e+1/3),i=_u(l,o,e),a=_u(l,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function zl(e,t){return r=>r>0?t:e}const Eu=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},OP=[Kd,Wn,Is],FP=e=>OP.find(t=>t.test(e));function Fg(e){const t=FP(e);if(!t)return!1;let r=t.parse(e);return t===Is&&(r=DP(r)),r}const $g=(e,t)=>{const r=Fg(e),n=Fg(t);if(!r||!n)return zl(e,t);const s={...r};return i=>(s.red=Eu(r.red,n.red,i),s.green=Eu(r.green,n.green,i),s.blue=Eu(r.blue,n.blue,i),s.alpha=Re(r.alpha,n.alpha,i),Wn.transform(s))},$P=(e,t)=>r=>t(e(r)),eo=(...e)=>e.reduce($P),Qd=new Set(["none","hidden"]);function UP(e,t){return Qd.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function zP(e,t){return r=>Re(e,t,r)}function Zf(e){return typeof e=="number"?zP:typeof e=="string"?Mf(e)?zl:st.test(e)?$g:HP:Array.isArray(e)?zb:typeof e=="object"?st.test(e)?$g:VP:zl}function zb(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>Zf(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function VP(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Zf(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function BP(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],l=(r=e.values[o])!==null&&r!==void 0?r:0;n[i]=l,s[a]++}return n}const HP=(e,t)=>{const r=bn.createTransformer(t),n=La(e),s=La(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Qd.has(e)&&!s.values.length||Qd.has(t)&&!n.values.length?UP(e,t):eo(zb(BP(n,s),s.values),r):zl(e,t)};function Vb(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Re(e,t,r):Zf(e)(e,t)}const GP=5;function Bb(e,t,r){const n=Math.max(t-GP,0);return gb(r-e(n),t-n)}const Le={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nu=.001;function WP({duration:e=Le.duration,bounce:t=Le.bounce,velocity:r=Le.velocity,mass:n=Le.mass}){let s,i,a=1-t;a=Dr(Le.minDamping,Le.maxDamping,a),e=Dr(Le.minDuration,Le.maxDuration,Pr(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-r,m=Xd(u,a),y=Math.exp(-h);return Nu-f/m*y},i=u=>{const h=u*a*e,f=h*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,y=Math.exp(-h),v=Xd(Math.pow(u,2),a);return(-s(u)+Nu>0?-1:1)*((f-m)*y)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-Nu+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const o=5/e,l=qP(s,i,o);if(e=Rr(e),isNaN(l))return{stiffness:Le.stiffness,damping:Le.damping,duration:e};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const KP=12;function qP(e,t,r){let n=r;for(let s=1;s<KP;s++)n=n-e(n)/t(n);return n}function Xd(e,t){return e*Math.sqrt(1-t*t)}const YP=["duration","bounce"],JP=["stiffness","damping","mass"];function Ug(e,t){return t.some(r=>e[r]!==void 0)}function QP(e){let t={velocity:Le.velocity,stiffness:Le.stiffness,damping:Le.damping,mass:Le.mass,isResolvedFromDuration:!1,...e};if(!Ug(e,JP)&&Ug(e,YP))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Dr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Le.mass,stiffness:s,damping:i}}else{const r=WP(e);t={...t,...r,mass:Le.mass},t.isResolvedFromDuration=!0}return t}function Hb(e=Le.visualDuration,t=Le.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=QP({...r,velocity:-Pr(r.velocity||0)}),y=f||0,v=u/(2*Math.sqrt(l*d)),w=a-i,g=Pr(Math.sqrt(l/d)),p=Math.abs(w)<5;n||(n=p?Le.restSpeed.granular:Le.restSpeed.default),s||(s=p?Le.restDelta.granular:Le.restDelta.default);let x;if(v<1){const S=Xd(g,v);x=T=>{const k=Math.exp(-v*g*T);return a-k*((y+v*g*w)/S*Math.sin(S*T)+w*Math.cos(S*T))}}else if(v===1)x=S=>a-Math.exp(-g*S)*(w+(y+g*w)*S);else{const S=g*Math.sqrt(v*v-1);x=T=>{const k=Math.exp(-v*g*T),C=Math.min(S*T,300);return a-k*((y+v*g*w)*Math.sinh(C)+S*w*Math.cosh(C))/S}}const j={calculatedDuration:m&&h||null,next:S=>{const T=x(S);if(m)o.done=S>=h;else{let k=0;v<1&&(k=S===0?Rr(y):Bb(x,S,T));const C=Math.abs(k)<=n,N=Math.abs(a-T)<=s;o.done=C&&N}return o.value=o.done?a:T,o},toString:()=>{const S=Math.min(lb(j),Hd),T=cb(k=>j.next(S*k).value,S,30);return S+"ms "+T}};return j}function zg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=C=>o!==void 0&&C<o||l!==void 0&&C>l,y=C=>o===void 0?l:l===void 0||Math.abs(o-C)<Math.abs(l-C)?o:l;let v=r*t;const w=h+v,g=a===void 0?w:a(w);g!==w&&(v=g-h);const p=C=>-v*Math.exp(-C/n),x=C=>g+p(C),j=C=>{const N=p(C),P=x(C);f.done=Math.abs(N)<=u,f.value=f.done?g:P};let S,T;const k=C=>{m(f.value)&&(S=C,T=Hb({keyframes:[f.value,y(f.value)],velocity:Bb(x,C,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:C=>{let N=!1;return!T&&S===void 0&&(N=!0,j(C),k(C)),S!==void 0&&C>=S?T.next(C-S):(!N&&j(C),f)}}}const XP=Za(.42,0,1,1),ZP=Za(0,0,.58,1),Gb=Za(.42,0,.58,1),eA=e=>Array.isArray(e)&&typeof e[0]!="number",Vg={linear:Ct,easeIn:XP,easeInOut:Gb,easeOut:ZP,circIn:qf,circInOut:_b,circOut:jb,backIn:Kf,backInOut:kb,backOut:bb,anticipate:Sb},Bg=e=>{if(Vf(e)){Vd(e.length===4);const[t,r,n,s]=e;return Za(t,r,n,s)}else if(typeof e=="string")return Vd(Vg[e]!==void 0),Vg[e];return e};function tA(e,t,r){const n=[],s=r||Vb,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||Ct:t;o=eo(l,o)}n.push(o)}return n}function rA(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(Vd(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=tA(t,n,s),l=o.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=ii(e[h],e[h+1],d);return o[h](f)};return r?d=>u(Dr(e[0],e[i-1],d)):u}function nA(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=ii(0,t,n);e.push(Re(r,1,s))}}function sA(e){const t=[0];return nA(t,e.length-1),t}function iA(e,t){return e.map(r=>r*t)}function aA(e,t){return e.map(()=>t||Gb).splice(0,e.length-1)}function Vl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=eA(n)?n.map(Bg):Bg(n),i={done:!1,value:t[0]},a=iA(r&&r.length===t.length?r:sA(t),e),o=rA(a,t,{ease:Array.isArray(s)?s:aA(t,s)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const oA=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ne.update(t,!0),stop:()=>wn(t),now:()=>Xe.isProcessing?Xe.timestamp:pr.now()}},lA={decay:zg,inertia:zg,tween:Vl,keyframes:Vl,spring:Hb},cA=e=>e/100;class em extends Ub{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Xf,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(i,o,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=zf(r)?r:lA[r]||Vl;let l,u;o!==Vl&&typeof t[0]!="number"&&(l=eo(cA,Vb(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});i==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=lb(d));const{calculatedDuration:h}=d,f=h+s,m=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let x=this.currentTime,j=i;if(m){const C=Math.min(this.currentTime,d)/h;let N=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&N--,N=Math.min(N,m+1),!!(N%2)&&(y==="reverse"?(P=1-P,v&&(P-=v/h)):y==="mirror"&&(j=a)),x=Dr(0,1,P)*h}const S=p?{done:!1,value:l[0]}:j.next(x);o&&(S.value=o(S.value));let{done:T}=S;!p&&u!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return k&&s!==void 0&&(S.value=Tc(l,this.options,s)),w&&w(S.value),k&&this.finish(),S}get duration(){const{resolved:t}=this;return t?Pr(t.calculatedDuration):0}get time(){return Pr(this.currentTime)}set time(t){t=Rr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Pr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=oA,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const uA=new Set(["opacity","clipPath","filter","transform"]);function dA(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const u={[t]:r};l&&(u.offset=l);const d=db(o,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const hA=Ef(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bl=10,fA=2e4;function mA(e){return zf(e.type)||e.type==="spring"||!ub(e.ease)}function pA(e,t){const r=new em({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<fA;)n=r.sample(i),s.push(n.value),i+=Bl;return{times:void 0,keyframes:s,duration:i-Bl,ease:"linear"}}const Wb={anticipate:Sb,backInOut:kb,circInOut:_b};function gA(e){return e in Wb}class Hg extends Ub{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new $b(i,(a,o)=>this.onKeyframesResolved(a,o),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:a,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&Ul()&&gA(i)&&(i=Wb[i]),mA(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:y,...v}=this.options,w=pA(t,v);t=w.keyframes,t.length===1&&(t[1]=t[0]),n=w.duration,s=w.times,i=w.ease,a="keyframes"}const d=dA(o.owner.current,l,t,{...this.options,duration:n,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Ng(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Tc(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Pr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Pr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Rr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Ct;const{animation:n}=r;Ng(n,t)}return Ct}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:a,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,y=new em({...m,keyframes:n,duration:s,type:i,ease:a,times:o,isGenerator:!0}),v=Rr(this.time);u.setWithVelocity(y.sample(v-Bl).value,y.sample(v).value,Bl)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=r.owner.getProps();return hA()&&n&&uA.has(n)&&!l&&!u&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const yA={type:"spring",stiffness:500,damping:25,restSpeed:10},vA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xA={type:"keyframes",duration:.8},wA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bA=(e,{keyframes:t})=>t.length>2?xA:ls.has(e)?e.startsWith("scale")?vA(t[1]):yA:wA;function kA({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const tm=(e,t,r,n={},s,i)=>a=>{const o=Uf(n,e)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Rr(l);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};kA(o)||(d={...d,...bA(e,d)}),d.duration&&(d.duration=Rr(d.duration)),d.repeatDelay&&(d.repeatDelay=Rr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Tc(d.keyframes,o);if(f!==void 0)return Ne.update(()=>{d.onUpdate(f),d.onComplete()}),new VR([])}return!i&&Hg.supports(d)?new Hg(d):new em(d)};function SA({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Kb(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(a=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),m=l[h];if(m===void 0||d&&SA(d,h))continue;const y={delay:r,...Uf(a||{},h)};let v=!1;if(window.MotionHandoffAnimation){const g=yb(e);if(g){const p=window.MotionHandoffAnimation(g,h,Ne);p!==null&&(y.startTime=p,v=!0)}}Wd(e,h),f.start(tm(h,f,m,e.shouldReduceMotion&&pb.has(h)?{type:!1}:y,e,v));const w=f.animation;w&&u.push(w)}return o&&Promise.all(u).then(()=>{Ne.update(()=>{o&&rP(e,o)})}),u}function Zd(e,t,r={}){var n;const s=Cc(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(Kb(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return jA(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function jA(e,t,r=0,n=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*n,l=s===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort(_A).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(Zd(u,t,{...i,delay:r+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function _A(e,t){return e.sortNodePosition(t)}function EA(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Zd(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Zd(e,t,r);else{const s=typeof t=="function"?Cc(e,t,r.custom):t;n=Promise.all(Kb(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const NA=Cf.length;function qb(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?qb(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<NA;r++){const n=Cf[r],s=e.props[n];(Aa(s)||s===!1)&&(t[n]=s)}return t}const CA=[...Nf].reverse(),TA=Nf.length;function RA(e){return t=>Promise.all(t.map(({animation:r,options:n})=>EA(e,r,n)))}function PA(e){let t=RA(e),r=Gg(),n=!0;const s=l=>(u,d)=>{var h;const f=Cc(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...v}=f;u={...u,...v,...y}}return u};function i(l){t=l(e)}function a(l){const{props:u}=e,d=qb(e.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let w=0;w<TA;w++){const g=CA[w],p=r[g],x=u[g]!==void 0?u[g]:d[g],j=Aa(x),S=g===l?p.isActive:null;S===!1&&(y=w);let T=x===d[g]&&x!==u[g]&&j;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),p.protectedKeys={...m},!p.isActive&&S===null||!x&&!p.prevProp||Ec(x)||typeof x=="boolean")continue;const k=AA(p.prevProp,x);let C=k||g===l&&p.isActive&&!T&&j||w>y&&j,N=!1;const P=Array.isArray(x)?x:[x];let L=P.reduce(s(g),{});S===!1&&(L={});const{prevResolvedValues:D={}}=p,de={...D,...L},fe=J=>{C=!0,f.has(J)&&(N=!0,f.delete(J)),p.needsAnimating[J]=!0;const A=e.getValue(J);A&&(A.liveStyle=!1)};for(const J in de){const A=L[J],F=D[J];if(m.hasOwnProperty(J))continue;let z=!1;Bd(A)&&Bd(F)?z=!ob(A,F):z=A!==F,z?A!=null?fe(J):f.add(J):A!==void 0&&f.has(J)?fe(J):p.protectedKeys[J]=!0}p.prevProp=x,p.prevResolvedValues=L,p.isActive&&(m={...m,...L}),n&&e.blockInitialAnimation&&(C=!1),C&&(!(T&&k)||N)&&h.push(...P.map(J=>({animation:J,options:{type:g}})))}if(f.size){const w={};f.forEach(g=>{const p=e.getBaseTarget(g),x=e.getValue(g);x&&(x.liveStyle=!0),w[g]=p??null}),h.push({animation:w})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(h):Promise.resolve()}function o(l,u){var d;if(r[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),r[l].isActive=u;const h=a(l);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Gg(),n=!0}}}function AA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ob(t,e):!1}function In(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Gg(){return{animate:In(!0),whileInView:In(),whileHover:In(),whileTap:In(),whileDrag:In(),whileFocus:In(),exit:In()}}class Nn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class MA extends Nn{constructor(t){super(t),t.animationState||(t.animationState=PA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ec(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let IA=0;class LA extends Nn{constructor(){super(...arguments),this.id=IA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const DA={animation:{Feature:MA},exit:{Feature:LA}};function Da(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function to(e){return{point:{x:e.pageX,y:e.pageY}}}const OA=e=>t=>Bf(t)&&e(t,to(t));function sa(e,t,r,n){return Da(e,t,OA(r),n)}const Wg=(e,t)=>Math.abs(e-t);function FA(e,t){const r=Wg(e.x,t.x),n=Wg(e.y,t.y);return Math.sqrt(r**2+n**2)}class Yb{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Tu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=FA(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:v}=Xe;this.history.push({...y,timestamp:v});const{onStart:w,onMove:g}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Cu(f,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Tu(h.type==="pointercancel"?this.lastMoveEventInfo:Cu(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,w),y&&y(h,w)},!Bf(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=to(t),o=Cu(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=Xe;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Tu(o,this.history)),this.removeListeners=eo(sa(this.contextWindow,"pointermove",this.handlePointerMove),sa(this.contextWindow,"pointerup",this.handlePointerUp),sa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function Cu(e,t){return t?{point:t(e.point)}:e}function Kg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tu({point:e},t){return{point:e,delta:Kg(e,Jb(t)),offset:Kg(e,$A(t)),velocity:UA(t,.1)}}function $A(e){return e[0]}function Jb(e){return e[e.length-1]}function UA(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Jb(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Rr(t)));)r--;if(!n)return{x:0,y:0};const i=Pr(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const Qb=1e-4,zA=1-Qb,VA=1+Qb,Xb=.01,BA=0-Xb,HA=0+Xb;function Rt(e){return e.max-e.min}function GA(e,t,r){return Math.abs(e-t)<=r}function qg(e,t,r,n=.5){e.origin=n,e.originPoint=Re(t.min,t.max,e.origin),e.scale=Rt(r)/Rt(t),e.translate=Re(r.min,r.max,e.origin)-e.originPoint,(e.scale>=zA&&e.scale<=VA||isNaN(e.scale))&&(e.scale=1),(e.translate>=BA&&e.translate<=HA||isNaN(e.translate))&&(e.translate=0)}function ia(e,t,r,n){qg(e.x,t.x,r.x,n?n.originX:void 0),qg(e.y,t.y,r.y,n?n.originY:void 0)}function Yg(e,t,r){e.min=r.min+t.min,e.max=e.min+Rt(t)}function WA(e,t,r){Yg(e.x,t.x,r.x),Yg(e.y,t.y,r.y)}function Jg(e,t,r){e.min=t.min-r.min,e.max=e.min+Rt(t)}function aa(e,t,r){Jg(e.x,t.x,r.x),Jg(e.y,t.y,r.y)}function KA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Re(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Re(r,e,n.max):Math.min(e,r)),e}function Qg(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function qA(e,{top:t,left:r,bottom:n,right:s}){return{x:Qg(e.x,r,s),y:Qg(e.y,t,n)}}function Xg(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function YA(e,t){return{x:Xg(e.x,t.x),y:Xg(e.y,t.y)}}function JA(e,t){let r=.5;const n=Rt(e),s=Rt(t);return s>n?r=ii(t.min,t.max-n,e.min):n>s&&(r=ii(e.min,e.max-s,t.min)),Dr(0,1,r)}function QA(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const eh=.35;function XA(e=eh){return e===!1?e=0:e===!0&&(e=eh),{x:Zg(e,"left","right"),y:Zg(e,"top","bottom")}}function Zg(e,t,r){return{min:e0(e,t),max:e0(e,r)}}function e0(e,t){return typeof e=="number"?e:e[t]||0}const t0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ls=()=>({x:t0(),y:t0()}),r0=()=>({min:0,max:0}),Fe=()=>({x:r0(),y:r0()});function It(e){return[e("x"),e("y")]}function Zb({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ZA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function e4(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ru(e){return e===void 0||e===1}function th({scale:e,scaleX:t,scaleY:r}){return!Ru(e)||!Ru(t)||!Ru(r)}function Fn(e){return th(e)||e1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function e1(e){return n0(e.x)||n0(e.y)}function n0(e){return e&&e!=="0%"}function Hl(e,t,r){const n=e-r,s=t*n;return r+s}function s0(e,t,r,n,s){return s!==void 0&&(e=Hl(e,s,n)),Hl(e,r,n)+t}function rh(e,t=0,r=1,n,s){e.min=s0(e.min,t,r,n,s),e.max=s0(e.max,t,r,n,s)}function t1(e,{x:t,y:r}){rh(e.x,t.translate,t.scale,t.originPoint),rh(e.y,r.translate,r.scale,r.originPoint)}const i0=.999999999999,a0=1.0000000000001;function t4(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Os(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,t1(e,a)),n&&Fn(i.latestValues)&&Os(e,i.latestValues))}t.x<a0&&t.x>i0&&(t.x=1),t.y<a0&&t.y>i0&&(t.y=1)}function Ds(e,t){e.min=e.min+t,e.max=e.max+t}function o0(e,t,r,n,s=.5){const i=Re(e.min,e.max,s);rh(e,t,r,i,n)}function Os(e,t){o0(e.x,t.x,t.scaleX,t.scale,t.originX),o0(e.y,t.y,t.scaleY,t.scale,t.originY)}function r1(e,t){return Zb(e4(e.getBoundingClientRect(),t))}function r4(e,t,r){const n=r1(e,r),{scroll:s}=t;return s&&(Ds(n.x,s.offset.x),Ds(n.y,s.offset.y)),n}const n1=({current:e})=>e?e.ownerDocument.defaultView:null,n4=new WeakMap;class s4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(to(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QR(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),It(w=>{let g=this.getAxisMotionValue(w).get()||0;if(mr.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const x=p.layout.layoutBox[w];x&&(g=Rt(x)*(parseFloat(g)/100))}}this.originPoint[w]=g}),y&&Ne.postRender(()=>y(d,h)),Wd(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(m&&this.currentDirection===null){this.currentDirection=i4(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(d,h)},o=(d,h)=>this.stop(d,h),l=()=>It(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Yb(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:n1(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ne.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Fo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=KA(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Ms(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=qA(s.layoutBox,r):this.constraints=!1,this.elastic=XA(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&It(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=QA(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ms(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=r4(n,s.root,this.visualElement.getTransformPagePoint());let a=YA(s.layout.layoutBox,i);if(r){const o=r(ZA(a));this.hasMutatedConstraints=!!o,o&&(a=Zb(o))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=It(d=>{if(!Fo(d,r,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Wd(this.visualElement,t),n.start(tm(t,n,0,r,this.visualElement,!1))}stopAnimation(){It(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){It(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){It(r=>{const{drag:n}=this.getProps();if(!Fo(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(t[r]-Re(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ms(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};It(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=JA({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),It(a=>{if(!Fo(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(Re(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;n4.set(this.visualElement,this);const t=this.visualElement.current,r=sa(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Ms(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ne.read(n);const a=Da(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(It(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=eh,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Fo(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function i4(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class a4 extends Nn{constructor(t){super(t),this.removeGroupControls=Ct,this.removeListeners=Ct,this.controls=new s4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ct}unmount(){this.removeGroupControls(),this.removeListeners()}}const l0=e=>(t,r)=>{e&&Ne.postRender(()=>e(t,r))};class o4 extends Nn{constructor(){super(...arguments),this.removePointerDownListener=Ct}onPointerDown(t){this.session=new Yb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:l0(t),onStart:l0(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&Ne.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=sa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ii={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const r=c0(e,t.target.x),n=c0(e,t.target.y);return`${r}% ${n}%`}},l4={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=bn.parse(e);if(s.length>5)return n;const i=bn.createTransformer(e),a=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;s[0+a]/=o,s[1+a]/=l;const u=Re(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class c4 extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;RR(u4),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ne.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Rf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function s1(e){const[t,r]=zw(),n=b.useContext(kf);return c.jsx(c4,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(qw),isPresent:t,safeToRemove:r})}const u4={borderRadius:{...Ii,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ii,borderTopRightRadius:Ii,borderBottomLeftRadius:Ii,borderBottomRightRadius:Ii,boxShadow:l4};function d4(e,t,r){const n=ot(e)?e:Ia(e);return n.start(tm("",n,t,r)),n.animation}function h4(e){return e instanceof SVGElement&&e.tagName!=="svg"}const f4=(e,t)=>e.depth-t.depth;class m4{constructor(){this.children=[],this.isDirty=!1}add(t){Hf(this.children,t),this.isDirty=!0}remove(t){Gf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(f4),this.isDirty=!1,this.children.forEach(t)}}function p4(e,t){const r=pr.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(wn(n),e(i-t))};return Ne.read(n,!0),()=>wn(n)}const i1=["TopLeft","TopRight","BottomLeft","BottomRight"],g4=i1.length,u0=e=>typeof e=="string"?parseFloat(e):e,d0=e=>typeof e=="number"||Q.test(e);function y4(e,t,r,n,s,i){s?(e.opacity=Re(0,r.opacity!==void 0?r.opacity:1,v4(n)),e.opacityExit=Re(t.opacity!==void 0?t.opacity:1,0,x4(n))):i&&(e.opacity=Re(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<g4;a++){const o=`border${i1[a]}Radius`;let l=h0(t,o),u=h0(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||d0(l)===d0(u)?(e[o]=Math.max(Re(u0(l),u0(u),n),0),(mr.test(u)||mr.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=Re(t.rotate||0,r.rotate||0,n))}function h0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const v4=a1(0,.5,jb),x4=a1(.5,.95,Ct);function a1(e,t,r){return n=>n<e?0:n>t?1:r(ii(e,t,n))}function f0(e,t){e.min=t.min,e.max=t.max}function Mt(e,t){f0(e.x,t.x),f0(e.y,t.y)}function m0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function p0(e,t,r,n,s){return e-=t,e=Hl(e,1/r,n),s!==void 0&&(e=Hl(e,1/s,n)),e}function w4(e,t=0,r=1,n=.5,s,i=e,a=e){if(mr.test(t)&&(t=parseFloat(t),t=Re(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Re(i.min,i.max,n);e===i&&(o-=t),e.min=p0(e.min,t,r,o,s),e.max=p0(e.max,t,r,o,s)}function g0(e,t,[r,n,s],i,a){w4(e,t[r],t[n],t[s],t.scale,i,a)}const b4=["x","scaleX","originX"],k4=["y","scaleY","originY"];function y0(e,t,r,n){g0(e.x,t,b4,r?r.x:void 0,n?n.x:void 0),g0(e.y,t,k4,r?r.y:void 0,n?n.y:void 0)}function v0(e){return e.translate===0&&e.scale===1}function o1(e){return v0(e.x)&&v0(e.y)}function x0(e,t){return e.min===t.min&&e.max===t.max}function S4(e,t){return x0(e.x,t.x)&&x0(e.y,t.y)}function w0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function l1(e,t){return w0(e.x,t.x)&&w0(e.y,t.y)}function b0(e){return Rt(e.x)/Rt(e.y)}function k0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class j4{constructor(){this.members=[]}add(t){Hf(this.members,t),t.scheduleRender()}remove(t){if(Gf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _4(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const $n={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Gi=typeof window<"u"&&window.MotionDebug!==void 0,Pu=["","X","Y","Z"],E4={visibility:"hidden"},S0=1e3;let N4=0;function Au(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function c1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=yb(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ne,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&c1(n)}function u1({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=N4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gi&&($n.totalNodes=$n.resolvedTargetDeltas=$n.recalculatedProjection=0),this.nodes.forEach(R4),this.nodes.forEach(L4),this.nodes.forEach(D4),this.nodes.forEach(P4),Gi&&window.MotionDebug.record($n)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new m4)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Wf),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=h4(a),this.instance=a;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=p4(f,250),nl.hasAnimatedSinceResize&&(nl.hasAnimatedSinceResize=!1,this.nodes.forEach(_0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||z4,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=d.getProps(),p=!this.targetLayout||!l1(this.targetLayout,y)||m,x=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const j={...Uf(v,"layout"),onPlay:w,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||_0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O4),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&c1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(j0);return}this.isUpdating||this.nodes.forEach(M4),this.isUpdating=!1,this.nodes.forEach(I4),this.nodes.forEach(C4),this.nodes.forEach(T4),this.clearAllSnapshots();const o=pr.now();Xe.delta=Dr(0,1e3/60,o-Xe.timestamp),Xe.timestamp=o,Xe.isProcessing=!0,ku.update.process(Xe),ku.preRender.process(Xe),ku.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(A4),this.sharedNodes.forEach(F4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!o1(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||Fn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),V4(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Fe();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(B4))){const{scroll:d}=this.root;d&&(Ds(l.x,d.offset.x),Ds(l.y,d.offset.y))}return l}removeElementScroll(a){var o;const l=Fe();if(Mt(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Mt(l,a),Ds(l.x,h.offset.x),Ds(l.y,h.offset.y))}return l}applyTransform(a,o=!1){const l=Fe();Mt(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Os(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Fn(d.latestValues)&&Os(l,d.latestValues)}return Fn(this.latestValues)&&Os(l,this.latestValues),l}removeTransform(a){const o=Fe();Mt(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Fn(u.latestValues))continue;th(u.latestValues)&&u.updateSnapshot();const d=Fe(),h=u.measurePageBox();Mt(d,h),y0(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Fn(this.latestValues)&&y0(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),aa(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mt(this.target,this.layout.layoutBox),t1(this.target,this.targetDelta)):Mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),aa(this.relativeTargetOrigin,this.target,m.target),Mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gi&&$n.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||th(this.parent.latestValues)||e1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Mt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;t4(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fe());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m0(this.prevProjectionDelta.x,this.projectionDelta.x),m0(this.prevProjectionDelta.y,this.projectionDelta.y)),ia(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!k0(this.projectionDelta.x,this.prevProjectionDelta.x)||!k0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Gi&&$n.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ls(),this.projectionDelta=Ls(),this.projectionDeltaWithTransform=Ls()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Fe(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,w=this.getStack(),g=!w||w.members.length<=1,p=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(U4));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const S=j/1e3;E0(h.x,a.x,S),E0(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(aa(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$4(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&S4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Fe()),Mt(x,this.relativeTarget)),v&&(this.animationValues=d,y4(d,u,this.latestValues,S,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{nl.hasAnimatedSinceResize=!0,this.currentAnimation=d4(0,S0,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&d1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Fe();const h=Rt(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const f=Rt(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Mt(o,l),Os(o,d),ia(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new j4),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&Au("z",a,u,this.animationValues);for(let d=0;d<Pu.length;d++)Au(`rotate${Pu[d]}`,a,u,this.animationValues),Au(`skew${Pu[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return E4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=tl(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=tl(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Fn(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=_4(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in $l){if(f[v]===void 0)continue;const{correct:w,applyTo:g}=$l[v],p=u.transform==="none"?f[v]:w(f[v],h);if(g){const x=g.length;for(let j=0;j<x;j++)u[g[j]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?tl(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(j0),this.root.sharedNodes.clear()}}}function C4(e){e.updateLayout()}function T4(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=r.source!==e.layout.source;i==="size"?It(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],m=Rt(f);f.min=n[h].min,f.max=f.min+m}):d1(i,r.layoutBox,n)&&It(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],m=Rt(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const o=Ls();ia(o,n,r.layoutBox);const l=Ls();a?ia(l,e.applyTransform(s,!0),r.measuredBox):ia(l,n,r.layoutBox);const u=!o1(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=Fe();aa(y,r.layoutBox,f.layoutBox);const v=Fe();aa(v,n,m.layoutBox),l1(y,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function R4(e){Gi&&$n.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function P4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function A4(e){e.clearSnapshot()}function j0(e){e.clearMeasurements()}function M4(e){e.isLayoutDirty=!1}function I4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function L4(e){e.resolveTargetDelta()}function D4(e){e.calcProjection()}function O4(e){e.resetSkewAndRotation()}function F4(e){e.removeLeadSnapshot()}function E0(e,t,r){e.translate=Re(t.translate,0,r),e.scale=Re(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function N0(e,t,r,n){e.min=Re(t.min,r.min,n),e.max=Re(t.max,r.max,n)}function $4(e,t,r,n){N0(e.x,t.x,r.x,n),N0(e.y,t.y,r.y,n)}function U4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const z4={duration:.45,ease:[.4,0,.1,1]},C0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),T0=C0("applewebkit/")&&!C0("chrome/")?Math.round:Ct;function R0(e){e.min=T0(e.min),e.max=T0(e.max)}function V4(e){R0(e.x),R0(e.y)}function d1(e,t,r){return e==="position"||e==="preserve-aspect"&&!GA(b0(t),b0(r),.2)}function B4(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const H4=u1({attachResizeListener:(e,t)=>Da(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mu={current:void 0},h1=u1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mu.current){const e=new H4({});e.mount(window),e.setOptions({layoutScroll:!0}),Mu.current=e}return Mu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),G4={pan:{Feature:o4},drag:{Feature:a4,ProjectionNode:h1,MeasureLayout:s1}};function P0(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Ne.postRender(()=>i(t,to(t)))}class W4 extends Nn{mount(){const{current:t}=this.node;t&&(this.unmount=WR(t,r=>(P0(this.node,r,"Start"),n=>P0(this.node,n,"End"))))}unmount(){}}class K4 extends Nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eo(Da(this.node.current,"focus",()=>this.onFocus()),Da(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function A0(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Ne.postRender(()=>i(t,to(t)))}class q4 extends Nn{mount(){const{current:t}=this.node;t&&(this.unmount=JR(t,r=>(A0(this.node,r,"Start"),(n,{success:s})=>A0(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nh=new WeakMap,Iu=new WeakMap,Y4=e=>{const t=nh.get(e.target);t&&t(e)},J4=e=>{e.forEach(Y4)};function Q4({root:e,...t}){const r=e||document;Iu.has(r)||Iu.set(r,{});const n=Iu.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(J4,{root:e,...t})),n[s]}function X4(e,t,r){const n=Q4(t);return nh.set(e,r),n.observe(e),()=>{nh.delete(e),n.unobserve(e)}}const Z4={some:0,all:1};class e5 extends Nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Z4[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return X4(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(t5(t,r))&&this.startObserver()}unmount(){}}function t5({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const r5={inView:{Feature:e5},tap:{Feature:q4},focus:{Feature:K4},hover:{Feature:W4}},n5={layout:{ProjectionNode:h1,MeasureLayout:s1}},sh={current:null},f1={current:!1};function s5(){if(f1.current=!0,!!_f)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sh.current=e.matches;e.addListener(t),t()}else sh.current=!1}const i5=[...Fb,st,bn],a5=e=>i5.find(Ob(e)),M0=new WeakMap;function o5(e,t,r){for(const n in t){const s=t[n],i=r[n];if(ot(s))e.addValue(n,s);else if(ot(i))e.addValue(n,Ia(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,Ia(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const I0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l5{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=pr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ne.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Nc(r),this.isVariantNode=Ww(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const y=f[m];l[m]!==void 0&&ot(y)&&y.set(l[m],!1)}}mount(t){this.current=t,M0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),f1.current||s5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){M0.delete(this.current),this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ls.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ai){const r=ai[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<I0.length;n++){const s=I0[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=o5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ia(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Lb(s)||Eb(s))?s=parseFloat(s):!a5(s)&&bn.test(r)&&(s=Ab(t,r)),this.setBaseTarget(t,ot(s)?s.get():s)),ot(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=Af(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ot(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Wf),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class m1 extends l5{constructor(){super(...arguments),this.KeyframeResolver=$b}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ot(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function c5(e){return window.getComputedStyle(e)}class u5 extends m1{constructor(){super(...arguments),this.type="html",this.renderInstance=tb}readValueFromInstance(t,r){if(ls.has(r)){const n=Qf(r);return n&&n.default||0}else{const n=c5(t),s=(Xw(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return r1(t,r)}build(t,r,n){Lf(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return $f(t,r,n)}}class d5 extends m1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ls.has(r)){const n=Qf(r);return n&&n.default||0}return r=rb.has(r)?r:Tf(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return ib(t,r,n)}build(t,r,n){Df(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){nb(t,r,n,s)}mount(t){this.isSVGTag=Ff(t.tagName),super.mount(t)}}const h5=(e,t)=>Pf(e)?new d5(t):new u5(t,{allowProjection:e!==b.Fragment}),f5=$R({...DA,...r5,...G4,...n5},h5),oe=eR(f5),Rc=Fr()(Ka(e=>({theme:"system",language:"pt",setTheme:t=>e({theme:t}),setLanguage:t=>e({language:t})}),{name:"settings"})),m5={en:{common:{forgotPassword:"Forgot my password",selected:"Selected",search:"Search for recipes...",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",profile:"Profile",darkMode:"Dark Mode",language:"Language",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",remove:"Remove",edit:"Edit",back:"Back",settings:"Settings",createaccount:"Create Account",dontHaveAccount:"Don't have an account? ",alreadyHaveAccount:"Already have an account? ",theme:{light:"Light",dark:"Dark",system:"System"},close:"Close"},buttons:{BackToRecipes:"Back to Recipes",My_recipes:"My recipes",Favorites:"Favorites",Nutrition_goal:"Nutrition Goals"},labels:{time:"Time",rating:"Rating",level:"Level",aiMentoring:"AI Mentoring",premium:"Premium",activeGoals:"Active Goals"},filters:{advanced:"Advanced Filters",minRating:"Minimum Rating",clearAll:"Clear All Filters",prepTime:{quick:"Quick (15 min)",medium:"Medium (30 min)",long:"Long (>30 min)"}},home:{title:"Discover Healthy Recipes",subtitle:"Find and share nutritious recipes that match your dietary preferences.",createRecipe:"Create Recipe",noRecipes:"No recipes found. Try adjusting your filters, or log in to see more."},profile:{title:"My profile",subtitle:"View your personal information, goals, and activity within the platform.",overviewClient:"My activity",overviewClientDescription:"Track your favorites, goals, and the impact of your daily choices.",overviewNutritionist:"My activity",overviewNutritionistDescription:"See the performance of your recipes, client reviews, and your presence on the platform.",myRecipes:"My Recipes",favorites:"Favorites",nutritionGoals:"Nutrition Goals",settings:"Settings",noRecipesYet:"You haven't published any recipes yet.",noFavorites:"You haven't saved any recipes as favorites yet.",statistics:"Statistics",publishedRecipes:"Published Recipes",totalReviews:"Total Reviews",averageRating:"Average Rating",experience:"Experience",healthGoals:"Health Goals",dietaryPreferences:"Dietary Preferences",allergies:"Allergies",dailyGoals:"Daily Goals",viewDiaryAndGoals:"View diary & goals",remaining:"Remaining",progressBasedOnDiary:"Progress is calculated from what you log in your food diary.",diaryTitle:"Food diary",addToDiary:"Add to diary",addToDiaryHelper:"Log this recipe to track your daily goals.",loggedToDiary:"Added to diary.",clearDay:"Clear",clearDiaryConfirm:"Clear this days diary?",diaryCleared:"Diary cleared.",todayProgress:"Day progress",loggedMeals:"Entries",items:"items",noDiaryEntries:"No entries for this day yet.",chooseRecipe:"Choose a recipe...",servings:"Servings",perServing:"serving",perServingHint:"Nutrition values are multiplied by servings.",confirmAdd:"Add",entryRemoved:"Entry removed.",pickARecipe:"Pick a recipe first.",date:"Date",recentFavorites:"Recent Favorites",personalInfo:"Personal Information",accountType:"Account Type",email:"Email",name:"Name",password:"Password",nutricionist:"Nutritionist",client:"Client",saveGoals:"Save goals",nutritionGoalsnames:{calories:"Calories",protein:"Protein",carbs:"Carbs",fat:"Fat",fiber:"Fiber"}},categories:{all:"All",vegan:"Vegan",lowCarb:"Low Carb",highProtein:"High Protein",glutenFree:"Gluten Free",vegetarian:"Vegetarian"},recipe:{recipeTitle:"Title",recipeImageURL:"Image URL",recipeDescription:"Description",prepTime:"Preparation Time",difficulty:"Difficulty",recipeCategory:"Category",ingredients:"Ingredients",instructions:"Instructions",nutritionFacts:"Nutrition Facts (Per Serving)",reviews:"Notes and ratings",writeReview:"Write your review...",submitReview:"Submit Review",signInToReview:"Please sign in to leave a review.",addIngredient:"Add Ingredient",addStep:"Add Step",step:"Step",Step:"Step",example:'"2 cups flour"',perServing:"per serving",deleteConfirm:"Are you sure you want to delete this recipe?",share:"Share Recipe",edit:"Edit Recipe",delete:"Delete Recipe",difficultyLevels:{easy:"Easy",medium:"Medium",hard:"Hard"},CreateNewRecipe:"Create new recipe",CreateRecipe:"Create recipe",rating:"Rating",noReviews:"No reviews",details:"Recipe details",recipe:"Recipe",author:"Author",authorFallbackName:"User",postedOn:"Posted on",reviewSingular:"review",reviewPlural:"reviews",deleteReviewConfirm:"Are you sure you want to delete this review?",addReviewTitle:"Add review",editReviewTitle:"Edit review"},aiChat:{welcomeTitle:"Welcome to AI Mentoring!",welcomeDescription:"Your intelligent nutrition assistant is ready to help with recipes, nutrition tips, how to use the platform and much more. Start a conversation now!",limitedModeNoticeTitle:"Notice:",limitedModeNoticeBody:"The AI is currently running in limited mode. For the full experience, configure the Gemini API key.",examples:{recipesTitle:" Recipes",recipesExample:'"Show me healthy cake recipes"',tipsTitle:" Tips",tipsExample:'"How can I improve my diet?"',helpTitle:" Help",helpExample:'"How do I save recipes to favorites?"'},startConversationButton:"Start conversation",headerSubtitle:"Nutrition assistant  Online",typing:"Typing...",inputPlaceholder:"Type your question about nutrition...",disclaimer:"AI can make mistakes. Always consult your nutritionist for personalized guidance.",limitedModeSuffix:"  Running in limited mode."},premium:{title:"Unlock AI Mentoring",descriptionPrefix:"To get unlimited access to our AI Mentoring and other exclusive features, subscribe to our ",planName:"Premium Plan",descriptionSuffix:"!",perMonthLabel:"month",features:{mentoringUnlimitedTitle:"Unlimited AI mentoring",mentoringUnlimitedDescription:"24/7 chat with a nutrition-focused AI assistant.",personalizedConsultationsTitle:"Personalized consultations",personalizedConsultationsDescription:"AI configured and guided by your nutritionist.",smartRecommendationsTitle:"Smart recommendations",smartRecommendationsDescription:"Recipe suggestions tailored to your profile.",prioritySupportTitle:"Priority support",prioritySupportDescription:"Fast and specialized support whenever you need it."},benefits:{accessNutritionists:"Access to certified nutritionists",whatsappDirect:"Direct WhatsApp contact with nutritionists",personalizedGoals:"Personalized goals and periodization",mealPlans:"Meal plans adjusted to your profile",weeklyFollowup:"Weekly follow-up and continuous adjustments",progressReports:"Progress reports with charts",premiumRecipes:"Exclusive premium recipes",vipCommunity:"VIP community and monthly challenges"},ctaSubscribe:"Subscribe to Premium Plan",ctaLoading:"Starting...",footerNote:"Cancel anytime  No commitment  24/7 support",loginRequired:"Sign in to subscribe",loadPlansError:"Error loading plans",checkoutErrorGeneric:"Unable to start checkout"}},pt:{common:{forgotPassword:"Esqueci minha senha",selected:"Selecionado",search:"Buscar receitas...",signIn:"Entrar",signUp:"Cadastrar",signOut:"Sair",profile:"Perfil",darkMode:"Modo Escuro",language:"Idioma",loading:"Carregando...",save:"Salvar",cancel:"Cancelar",close:"Fechar",delete:"Excluir",remove:"Remover",edit:"Editar",back:"Voltar",settings:"Configuraes",createaccount:"Criar conta",dontHaveAccount:"No tem uma conta? ",alreadyHaveAccount:"J tem uma conta? ",theme:{light:"Claro",dark:"Escuro",system:"Sistema"}},buttons:{BackToRecipes:"Voltar para as receitas",My_recipes:"Minhas receitas",Favorites:"Favoritos",Nutrition_goal:"Metas Nutricionais"},labels:{time:"Tempo",rating:"Avaliao",level:"Nvel",aiMentoring:"Mentoria IA",premium:"Premium",activeGoals:"Metas Ativas"},filters:{advanced:"Filtros Avanados",minRating:"Avaliao Mnima",clearAll:"Limpar Todos os Filtros",prepTime:{quick:"Rpido (15 min)",medium:"Mdio (30 min)",long:"Longo (>30 min)"}},home:{title:"Descubra Receitas Saudveis",subtitle:"Encontre e compartilhe receitas nutritivas que combinam com suas preferncias alimentares.",createRecipe:"Criar Receita",noRecipes:"Nenhuma receita encontrada. Tente ajustar seus filtros ou faa login para ver mais."},profile:{title:"Meu perfil",subtitle:"Veja suas informaes pessoais, metas e atividades dentro da plataforma.",overviewClient:"Minha atividade",overviewClientDescription:"Acompanhe seus favoritos, metas e impacto das suas escolhas no dia a dia.",overviewNutritionist:"Minha atividade",overviewNutritionistDescription:"Veja o desempenho das suas receitas, avaliaes dos clientes e sua presena na plataforma.",myRecipes:"Minhas Receitas",favorites:"Favoritos",nutritionGoals:"Metas Nutricionais",settings:"Configuraes",noRecipesYet:"Voc ainda no publicou nenhuma receita.",noFavorites:"Voc ainda no salvou nenhuma receita como favorita.",statistics:"Estatsticas",publishedRecipes:"Receitas Publicadas",totalReviews:"Total de Avaliaes",averageRating:"Avaliao Mdia",experience:"Experincia",healthGoals:"Objetivos de Sade",dietaryPreferences:"Preferncias Alimentares",allergies:"Alergias",dailyGoals:"Metas Dirias",recentFavorites:"Favoritos Recentes",personalInfo:"Informaes Pessoais",accountType:"Tipo de Conta",email:"Email",name:"Nome completo",password:"Senha",nutricionist:"Nutricionista",client:"Cliente",saveGoals:"Salvar metas",nutritionGoalsnames:{calories:"Calorias",protein:"Protena",carbs:"Carboidratos",fat:"Gordura",fiber:"Fibra"}},categories:{all:"Todas",vegan:"Vegana",lowCarb:"Baixo Carboidrato",highProtein:"Rica em Protena",glutenFree:"Sem Glten",vegetarian:"Vegetariana"},recipe:{recipeTitle:"Titulo",recipeImageURL:"URL da imagem",recipeDescription:"Descrio",prepTime:"Tempo de Preparo",difficulty:"Dificuldade",recipeCategory:"Categoria",ingredients:"Ingredientes",addIngredient:"Adicionar Ingrediente",instructions:"Modo de Preparo",addStep:"Adicionar Passo",step:"Passo a passo",Step:"Passo",example:"Exemplo: 2 xcaras de aucar",nutritionFacts:"Informao Nutricional (Por poro)",reviews:"Notas e avaliaes",writeReview:"Compartilhe sua opinio",submitReview:"Enviar Avaliao",signInToReview:"Faa login para deixar uma avaliao.",perServing:"por poro",deleteConfirm:"Tem certeza que deseja excluir esta receita?",share:"Compartilhar Receita",edit:"Editar Receita",delete:"Excluir Receita",difficultyLevels:{easy:"Fcil",medium:"Mdio",hard:"Difcil"},CreateNewRecipe:"Criar nova receita",CreateRecipe:"Criar receita",rating:"Classifique essa receita",noReviews:"Sem Avaliaes",details:"Detalhes da receita",recipe:"Receita",author:"Autor",authorFallbackName:"Usurio",postedOn:"Postado em",reviewSingular:"avaliao",reviewPlural:"avaliaes",deleteReviewConfirm:"Tem certeza que deseja excluir esta avaliao?",addReviewTitle:"Adicionar avaliao",editReviewTitle:"Editar avaliao"},aiChat:{welcomeTitle:"Bem-vindo  Mentoria IA!",welcomeDescription:"Sua assistente de nutrio inteligente est pronta para ajudar com receitas, dicas alimentares, uso da plataforma e muito mais. Inicie uma conversa agora!",limitedModeNoticeTitle:"Aviso:",limitedModeNoticeBody:"A IA est funcionando em modo limitado. Para uma experincia completa, configure a chave da API do Gemini.",examples:{recipesTitle:" Receitas",recipesExample:'"Me mostre receitas de bolo fit"',tipsTitle:" Dicas",tipsExample:'"Como posso melhorar minha alimentao?"',helpTitle:" Ajuda",helpExample:'"Como salvo receitas nos favoritos?"'},startConversationButton:"Iniciar conversa",headerSubtitle:"Assistente de Nutrio  Online",typing:"Digitando...",inputPlaceholder:"Digite sua pergunta sobre nutrio...",disclaimer:"A IA pode cometer erros. Sempre consulte seu nutricionista para orientaes personalizadas.",limitedModeSuffix:"  Funcionando em modo limitado."},premium:{title:"Desbloqueie a Mentoria IA",descriptionPrefix:"Para ter acesso ilimitado  nossa Mentoria IA e outras funcionalidades exclusivas, assine o nosso ",planName:"Plano Premium",descriptionSuffix:"!",perMonthLabel:"ms",features:{mentoringUnlimitedTitle:"Mentoria IA ilimitada",mentoringUnlimitedDescription:"Chat 24/7 com IA especializada em nutrio.",personalizedConsultationsTitle:"Consultas personalizadas",personalizedConsultationsDescription:"IA configurada e orientada pelo seu nutricionista.",smartRecommendationsTitle:"Recomendaes inteligentes",smartRecommendationsDescription:"Sugestes de receitas baseadas no seu perfil.",prioritySupportTitle:"Suporte prioritrio",prioritySupportDescription:"Atendimento rpido e especializado."},benefits:{accessNutritionists:"Acesso a nutricionistas certificados",whatsappDirect:"WhatsApp direto com nutricionistas",personalizedGoals:"Metas personalizadas e periodizao",mealPlans:"Planos alimentares ajustados ao seu perfil",weeklyFollowup:"Acompanhamento semanal e ajustes contnuos",progressReports:"Relatrios de progresso com grficos",premiumRecipes:"Receitas premium exclusivas",vipCommunity:"Comunidade VIP e desafios mensais"},ctaSubscribe:"Assinar Plano Premium",ctaLoading:"Iniciando...",footerNote:"Cancele a qualquer momento  Sem compromisso  Suporte 24/7",loginRequired:"Faa login para assinar",loadPlansError:"Erro ao carregar planos",checkoutErrorGeneric:"No foi possvel iniciar o checkout"}}};function Me(){const{language:e}=Rc();return m5[e]}function p5({isOpen:e,onClose:t}){const[r,n]=b.useState(""),[s,i]=b.useState(!1),[a,o]=b.useState("email"),[l,u]=b.useState("");if(Me(),!e)return null;const d=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y),h=async y=>{y.preventDefault();const v=r.toLowerCase().trim();if(!v){u("Por favor, digite seu email.");return}if(!d(v)){u("Por favor, digite um email vlido.");return}i(!0),u("");try{if(console.log("Starting password reset process for:",v),!await DT(v)){u("Email no encontrado. Verifique se o email est correto ou crie uma conta."),o("error");return}console.log("Email exists, sending reset email..."),await OT(v),console.log("Reset email sent successfully"),o("sent")}catch(w){console.error("Password reset error:",w);let g="Erro ao enviar email de recuperao. Tente novamente em alguns minutos.";w.message&&(g=w.message),u(g),o("error")}finally{i(!1)}},f=()=>{n(""),o("email"),u(""),i(!1),t()},m=()=>{o("email"),u(""),i(!1)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[c.jsx("button",{onClick:f,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:s,children:c.jsx(fr,{className:"w-6 h-6"})}),a==="email"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(Zx,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Esqueci minha senha"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite seu email para receber o link de recuperao"})]})]}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:r,onChange:y=>n(y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"seu@email.com",required:!0,disabled:s,autoComplete:"email"})]}),l&&c.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),c.jsxs("button",{type:"submit",disabled:s||!r.trim(),className:te("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",s||!r.trim()?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[s&&c.jsx(Ta,{className:"w-4 h-4 animate-spin"}),s?"Verificando...":"Enviar link de recuperao"]})]}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:c.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Dica:"})," Verifique sua pasta de spam caso no receba o email em alguns minutos."]})})]}),a==="sent"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx(hf,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Email enviado!"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Enviamos um link de recuperao para ",c.jsx("strong",{children:r}),". Verifique sua caixa de entrada e pasta de spam."]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Importante:"})," O link expira em 1 hora. Se no receber o email em alguns minutos, verifique sua pasta de spam ou tente novamente."]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:f,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Fechar"}),c.jsx("button",{onClick:m,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Enviar novamente"})]})]}),a==="error"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx(df,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao enviar"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:m,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Tentar novamente"}),c.jsx("button",{onClick:f,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Fechar"})]})]})]})})}const L0="authMode@NutriChefe";function g5({isOpen:e,onClose:t,initialMode:r="signin"}){const[n,s]=b.useState(r),[i,a]=b.useState(""),[o,l]=b.useState(""),[u,d]=b.useState(""),[h,f]=b.useState("Client"),[m,y]=b.useState(!1),[v,w]=b.useState(!1),g=Me(),{signIn:p,signUp:x}=qe();b.useEffect(()=>{if(!e)return;let k=r;try{const C=localStorage.getItem(L0);!r&&C&&(k=C)}catch{}s(k)},[e,r]),b.useEffect(()=>{try{localStorage.setItem(L0,n)}catch{}},[n]);const j=n==="signup";if(!e)return null;const S=async k=>{k.preventDefault(),y(!0);try{n==="signin"?await p(i,o,u):await x(i,o,u,h),t()}catch(C){console.error("Auth error:",C)}finally{y(!1)}},T=()=>{w(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"relative w-full max-w-md rounded-2xl bg-white/95 shadow-2xl dark:bg-slate-900/95 border border-slate-100/70 dark:border-slate-800",children:[c.jsxs("button",{onClick:t,className:"absolute right-4 top-4 inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-700 dark:hover:bg-slate-800",children:[c.jsx(fr,{className:"h-5 w-5"}),c.jsx("span",{className:"sr-only",children:g.common.close})]}),c.jsxs("div",{className:"flex items-center gap-3 px-6 pt-6 pb-3",children:[c.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-emerald-50 text-emerald-600 dark:bg-emerald-900/40 dark:text-emerald-300",children:c.jsx(pc,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.16em] text-emerald-600 dark:text-emerald-300",children:"NutriChef"}),c.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:j?g.common.createaccount:g.common.signIn})]})]}),c.jsx("div",{className:"px-6 pb-3",children:c.jsxs("div",{className:"flex rounded-full bg-slate-100 p-1.5 text-sm dark:bg-slate-800",children:[c.jsx("button",{type:"button",onClick:()=>s("signin"),className:te("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",n==="signin"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:g.common.signIn}),c.jsx("button",{type:"button",onClick:()=>s("signup"),className:te("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",n==="signup"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:g.common.signUp})]})}),c.jsxs("form",{onSubmit:S,className:"space-y-3 border-t border-slate-100 px-6 pb-5 pt-4 dark:border-slate-800 text-sm",children:[j&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:g.profile.name}),c.jsx("input",{type:"text",id:"name",name:"name",value:u,autoComplete:"name",onChange:k=>d(k.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:g.profile.accountType}),c.jsxs("div",{className:"flex rounded-full bg-slate-100 p-1.5 text-sm dark:bg-slate-800",children:[c.jsx("button",{type:"button",onClick:()=>f("Client"),className:te("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",h==="Client"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:g.profile.client}),c.jsx("button",{type:"button",onClick:()=>f("Nutritionist"),className:te("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",h==="Nutritionist"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:g.profile.nutricionist})]})]})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:g.profile.email}),c.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",value:i,onChange:k=>a(k.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:g.profile.password}),c.jsx("input",{type:"password",id:"password",name:"password",autoComplete:j?"new-password":"current-password",value:o,onChange:k=>l(k.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),n==="signin"&&c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"button",onClick:T,className:"text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:g.common.forgotPassword})}),c.jsx("button",{type:"submit",disabled:m,className:te("mt-2 inline-flex w-full items-center justify-center rounded-xl bg-emerald-600 px-4 py-2.5 text-base font-semibold text-white shadow-sm hover:bg-emerald-700 transition disabled:cursor-not-allowed disabled:bg-emerald-400",m&&"opacity-80"),children:m?g.common.loading:n==="signin"?g.common.signIn:g.common.signUp}),c.jsxs("p",{className:"mt-3 text-center text-sm text-slate-500 dark:text-slate-400",children:[n==="signin"?g.common.dontHaveAccount:g.common.alreadyHaveAccount,c.jsx("button",{type:"button",onClick:()=>s(n==="signin"?"signup":"signin"),className:"ml-1 font-semibold text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:n==="signin"?g.common.signUp:g.common.signIn})]})]})]})}),c.jsx(p5,{isOpen:v,onClose:()=>w(!1)})]})}function D0(){const{theme:e,setTheme:t}=Rc(),r=Me(),n=[{id:"light",icon:rN,label:r.common.theme.light},{id:"dark",icon:KE,label:r.common.theme.dark}];return c.jsx("div",{className:"flex items-center gap-2",children:n.map(({id:s,icon:i,label:a})=>c.jsx("button",{onClick:()=>t(s),className:`p-2 rounded-lg transition-colors ${e===s?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,title:a,children:c.jsx(i,{className:"w-5 h-5"})},s))})}function O0(){var l;const{language:e,setLanguage:t}=Rc(),[r,n]=b.useState(!1),i=((l=Me().common)==null?void 0:l.selected)||"Selecionado",a=[{value:"en",label:"English",flagUrl:"https://flagcdn.com/us.svg"},{value:"pt",label:"Portugus",flagUrl:"https://flagcdn.com/br.svg"}],o=a.find(u=>u.value===e)??a[0];return c.jsxs("div",{className:"relative",children:[c.jsxs(oe.button,{onClick:()=>n(!r),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(VE,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),c.jsx("span",{className:"relative inline-flex h-5 w-7 overflow-hidden rounded-sm ring-1 ring-gray-200 dark:ring-gray-700",children:c.jsx("img",{src:o.flagUrl,alt:o.label,className:"h-full w-full object-cover"})}),c.jsx("span",{className:"hidden text-sm font-medium text-gray-700 dark:text-gray-300 sm:block",children:o.label})]}),c.jsx(oe.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:c.jsx(UE,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})})]}),c.jsx(Qa,{children:r&&c.jsxs(c.Fragment,{children:[c.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>n(!1)}),c.jsx(oe.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full z-50 mt-2 w-48 overflow-hidden rounded-xl border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",children:a.map((u,d)=>c.jsxs(oe.button,{onClick:()=>{t(u.value),n(!1)},className:`flex w-full items-center gap-3 px-4 py-3 text-left transition-colors ${e===u.value?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},whileHover:{x:4},children:[c.jsx("span",{className:"relative inline-flex h-6 w-8 overflow-hidden rounded-sm ring-1 ring-gray-200 dark:ring-gray-700",children:c.jsx("img",{src:u.flagUrl,alt:u.label,className:"h-full w-full object-cover"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:u.label}),e===u.value&&c.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:i})]}),e===u.value&&c.jsx(oe.div,{className:"ml-auto h-2 w-2 rounded-full bg-green-500",initial:{scale:0},animate:{scale:1},transition:{delay:.1}})]},u.value))})]})})]})}function y5({onProfileClick:e,onAIMentoringClick:t}){const[r,n]=b.useState(!1),[s,i]=b.useState("signin"),[a,o]=b.useState(!1),{user:l,isAuthenticated:u,signOut:d,isNutritionist:h}=qe(),{hasFeatureAccess:f}=Uw(),{searchQuery:m,setSearchQuery:y}=bf(),v=Me(),w=p=>{i(p),n(!0)},g=u&&(h()||f("ai_mentoring"));return c.jsxs(c.Fragment,{children:[c.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(oe.h1,{className:"text-2xl font-bold text-green-600 dark:text-green-400 cursor-pointer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"NutriChef"})}),c.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-8",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:m,onChange:p=>y(p.target.value),placeholder:v.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),c.jsx(eg,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-200 dark:border-gray-600 pr-4 mr-4",children:[c.jsx(D0,{}),c.jsx(O0,{})]}),u?c.jsxs(oe.div,{className:"flex items-center space-x-4",initial:{opacity:0},animate:{opacity:1},children:[c.jsxs("button",{onClick:t,className:te("flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors",g?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),title:g?v.labels.aiMentoring:`${v.labels.aiMentoring} (${v.labels.premium})`,children:[c.jsx(Gn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden lg:inline",children:v.labels.aiMentoring}),!g&&c.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:v.labels.premium})]}),c.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(ti,{className:"w-4 h-4"}),c.jsx("span",{children:l==null?void 0:l.name})]}),c.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsx(Zp,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.signOut})]})]}):c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(oe.button,{onClick:()=>w("signin"),className:"px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.common.signIn}),c.jsx(oe.button,{onClick:()=>w("signup"),className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.common.signUp})]})]}),c.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[c.jsx(D0,{}),c.jsx(O0,{}),c.jsx("button",{onClick:()=>o(!a),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:c.jsx(WE,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})]})]})}),c.jsx(Qa,{children:a&&c.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:c.jsxs("div",{className:"px-4 py-3 space-y-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:m,onChange:p=>y(p.target.value),placeholder:v.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),c.jsx(eg,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),u?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>{t(),o(!1)},className:te("w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors",g?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),children:[c.jsx(Gn,{className:"w-4 h-4"}),c.jsx("span",{children:v.labels.aiMentoring}),!g&&c.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:v.labels.premium})]}),c.jsxs("button",{onClick:()=>{e(),o(!1)},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(ti,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.profile})]}),c.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsx(Zp,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.signOut})]})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>{w("signin"),o(!1)},className:"w-full px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:v.common.signIn}),c.jsx("button",{onClick:()=>{w("signup"),o(!1)},className:"w-full px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:v.common.signUp})]})]})})})]}),c.jsx(g5,{isOpen:r,onClose:()=>n(!1),initialMode:s})]})}const nr=Fr((e,t)=>({recipes:[],favoriteRecipes:[],loading:!1,error:null,clearUserData:()=>{console.log("Clearing user data from recipes store"),e({favoriteRecipes:[]})},initializeAuth:async()=>{const{user:r}=qe.getState();r&&await t().fetchFavorites(r.id)},fetchRecipes:async()=>{e({loading:!0,error:null});try{console.log("Fetching recipes from database...");const r=await TT();console.log("Recipes fetched successfully:",r.length),e({recipes:r,loading:!1});const{user:n}=qe.getState();n&&await t().fetchFavorites(n.id)}catch(r){console.error("Error fetching recipes:",r);const n=r instanceof Error?r.message:"Failed to fetch recipes";e({error:n,loading:!1}),se.getState().showToast("Erro ao carregar receitas","error")}},fetchFavorites:async r=>{try{console.log("Fetching favorites for user:",r);const n=await LT(r);console.log("Favorites fetched:",n),e({favoriteRecipes:n})}catch(n){console.error("Failed to fetch favorites:",n)}},addToFavorites:async r=>{const{user:n}=qe.getState();if(!n){se.getState().showToast("Faa login para favoritar receitas","error");return}try{console.log("Adding to favorites:",{userId:n.id,recipeId:r}),await MT(n.id,r),e(s=>({favoriteRecipes:[...s.favoriteRecipes,r]})),se.getState().showToast("Adicionado aos favoritos","success")}catch(s){console.error("Failed to add favorite:",s);const i=s instanceof Error?s.message:"Erro ao adicionar aos favoritos";se.getState().showToast(i,"error")}},removeFromFavorites:async r=>{const{user:n}=qe.getState();if(!n){se.getState().showToast("Faa login para gerenciar favoritos","error");return}try{console.log("Removing from favorites:",{userId:n.id,recipeId:r}),await IT(n.id,r),e(s=>({favoriteRecipes:s.favoriteRecipes.filter(i=>i!==r)})),se.getState().showToast("Removido dos favoritos","info")}catch(s){console.error("Failed to remove favorite:",s);const i=s instanceof Error?s.message:"Erro ao remover dos favoritos";se.getState().showToast(i,"error")}},addReview:async(r,n)=>{try{console.log("Adding review:",{recipeId:r,review:n}),await RT(r,{user_id:n.userId,rating:n.rating,comment:n.comment}),await t().fetchRecipes(),se.getState().showToast("Avaliao adicionada com sucesso!","success")}catch(s){console.error("Failed to add review:",s);const i=s instanceof Error?s.message:"Erro ao adicionar avaliao";throw se.getState().showToast(i,"error"),s}},updateReview:async(r,n)=>{try{console.log("Updating review:",{reviewId:r,updates:n}),await PT(r,n),await t().fetchRecipes(),se.getState().showToast("Avaliao atualizada com sucesso!","success")}catch(s){console.error("Failed to update review:",s);const i=s instanceof Error?s.message:"Erro ao atualizar avaliao";throw se.getState().showToast(i,"error"),s}},deleteReview:async r=>{try{console.log("Deleting review:",r),await AT(r),await t().fetchRecipes(),se.getState().showToast("Avaliao excluda com sucesso!","success")}catch(n){console.error("Failed to delete review:",n);const s=n instanceof Error?n.message:"Erro ao excluir avaliao";throw se.getState().showToast(s,"error"),n}},createRecipe:async r=>{e({loading:!0,error:null});try{console.log("Creating recipe:",r),await ET(r),await t().fetchRecipes(),se.getState().showToast("Receita criada com sucesso!","success")}catch(n){console.error("Failed to create recipe:",n);const s=n instanceof Error?n.message:"Failed to create recipe";throw e({error:s}),se.getState().showToast("Erro ao criar receita","error"),n}finally{e({loading:!1})}},updateRecipe:async r=>{e({loading:!0,error:null});try{console.log("Updating recipe:",r),await NT(r.id,r),await t().fetchRecipes(),se.getState().showToast("Receita atualizada com sucesso!","success")}catch(n){console.error("Failed to update recipe:",n);const s=n instanceof Error?n.message:"Failed to update recipe";throw e({error:s}),se.getState().showToast("Erro ao atualizar receita","error"),n}finally{e({loading:!1})}},deleteRecipe:async r=>{e({loading:!0,error:null});try{console.log("Deleting recipe:",r),await CT(r),e(n=>({recipes:n.recipes.filter(s=>s.id!==r),favoriteRecipes:n.favoriteRecipes.filter(s=>s!==r)})),se.getState().showToast("Receita excluda com sucesso!","success")}catch(n){console.error("Failed to delete recipe:",n);const s=n instanceof Error?n.message:"Failed to delete recipe";throw e({error:s}),se.getState().showToast("Erro ao excluir receita","error"),n}finally{e({loading:!1})}}}));function ih({recipe:e}){const t=yr(),{favoriteRecipes:r,addToFavorites:n,removeFromFavorites:s}=nr(),{isAuthenticated:i}=qe(),a=Me(),l=a.recipe.difficultyLevels[e.difficulty]||e.difficulty,u=a.categories,h=(v=>{const w={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},g=v.toLowerCase().replace(/\s+/g,""),p=Object.keys(w).find(j=>j.toLowerCase().replace(/\s+/g,"")===g);return p?u[w[p]]:u[v]||v})(e.category),f=r.includes(e.id),m=async v=>{if(v.stopPropagation(),!!i)try{f?await s(e.id):await n(e.id)}catch(w){console.error("Error toggling favorite:",w)}},y=()=>{var w,g,p;const v=((w=a.recipes)==null?void 0:w.noReviews)||((g=a.recipe)==null?void 0:g.noReviews)||"Sem avaliaes";return e.rating===0||!e.rating||((p=e.reviews)==null?void 0:p.length)===0?v:e.rating.toFixed(1)};return c.jsxs("div",{onClick:()=>t(`/receita/${e.id}`),className:`
        group relative flex h-full cursor-pointer flex-col overflow-hidden
        rounded-xl border shadow-sm transition-all duration-200
        hover:-translate-y-1 hover:shadow-lg hover:border-emerald-300
        bg-white border-gray-200
        dark:bg-slate-800 dark:border-slate-700
      `,children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("img",{src:e.image,alt:e.title,className:"h-52 w-full object-cover transition-transform duration-300 group-hover:scale-105",onError:v=>{const w=v.target;w.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop"}}),c.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"}),c.jsxs("span",{className:"absolute bottom-3 left-3 inline-flex items-center gap-1.5 rounded-lg bg-white/90 dark:bg-slate-900/90 px-3 py-1.5 text-xs font-medium shadow-md backdrop-blur-sm",children:[c.jsx(pn,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"}),c.jsx("span",{className:"truncate max-w-[130px] text-gray-900 dark:text-white",children:h})]}),c.jsxs("div",{className:"absolute top-3 left-3 inline-flex items-center gap-1 rounded-lg bg-white/90 dark:bg-slate-900/90 px-2.5 py-1 text-xs font-semibold shadow-md backdrop-blur-sm",children:[c.jsx(gn,{className:"h-3.5 w-3.5 fill-amber-500 text-amber-500"}),c.jsx("span",{className:"text-gray-900 dark:text-white",children:y()})]}),i&&c.jsx("button",{onClick:m,className:te("absolute top-3 right-3 inline-flex h-8 w-8 items-center justify-center rounded-lg shadow-md transition-all duration-200 backdrop-blur-sm","bg-white/90 dark:bg-slate-900/90",f?"text-rose-500":"text-gray-400 dark:text-gray-500 hover:text-rose-500"),children:c.jsx(mc,{className:te("h-4 w-4 transition-all",f&&"fill-current")})})]}),c.jsxs("div",{className:"flex flex-grow flex-col p-5",children:[c.jsx("h3",{className:"mb-2 line-clamp-2 text-lg font-semibold leading-snug text-gray-900 dark:text-white",children:e.title}),c.jsx("p",{className:"mb-4 flex-grow line-clamp-3 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:e.description}),c.jsxs("div",{className:"mt-auto flex items-center justify-between gap-3 border-t border-gray-100 dark:border-slate-700 pt-4",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[c.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-900/20 shadow-sm",children:c.jsx(Wa,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[c.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.time}),c.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[e.prepTime,"min"]})]})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[c.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-900/20 shadow-sm",children:c.jsx(gn,{className:"h-4 w-4 fill-amber-500 text-amber-500"})}),c.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[c.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.rating}),c.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:y()})]})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[c.jsx("div",{className:te("flex items-center justify-center w-9 h-9 rounded-xl shadow-sm bg-gradient-to-br",e.difficulty==="easy"&&"from-emerald-50 to-emerald-100 dark:from-emerald-900/30 dark:to-emerald-900/20",e.difficulty==="medium"&&"from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-900/20",e.difficulty==="hard"&&"from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-900/20"),children:c.jsx(pn,{className:te("h-4 w-4",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-orange-600 dark:text-orange-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400")})}),c.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[c.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.level}),c.jsx("span",{className:te("text-sm font-bold capitalize",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-orange-600 dark:text-orange-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400"),children:l})]})]})]})]})]})}const v5={all:Ll,vegan:pc,lowCarb:Al,highProtein:Al,glutenFree:ZE,vegetarian:JE};function x5({categories:e,selectedCategory:t,onSelectCategory:r}){const s=Me().categories;return c.jsx(c.Fragment,{children:e.map(i=>{const a=s[i]||i,o=v5[i]||Ll,l=t===i;return c.jsxs(oe.button,{onClick:()=>r(i),className:te("group relative px-4 sm:px-5 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 whitespace-nowrap","flex items-center gap-2",l?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx(o,{className:te("w-3.5 h-3.5 sm:w-4 sm:h-4 transition-colors duration-200",l?"text-emerald-600 dark:text-emerald-400":"text-slate-400 dark:text-slate-500")}),c.jsx("span",{children:a})]},i)})})}function w5(){const[e,t]=b.useState(!1),[r,n]=b.useState("right"),s=b.useRef(null),i=b.useRef(null),{difficulty:a,prepTimeRange:o,minRating:l,setDifficulty:u,setPrepTimeRange:d,setMinRating:h,resetFilters:f}=bf(),m=Me(),y=[{value:"quick",label:m.filters.prepTime.quick,max:15},{value:"medium",label:m.filters.prepTime.medium,max:30},{value:"long",label:m.filters.prepTime.long,max:null}],v=[{value:"easy",label:m.recipe.difficultyLevels.easy},{value:"medium",label:m.recipe.difficultyLevels.medium},{value:"hard",label:m.recipe.difficultyLevels.hard}],w=[{value:4,label:"4+ "},{value:4.5,label:"4.5+ "},{value:5,label:"5 "}],g=a||o||l;return b.useEffect(()=>{if(e&&s.current){const p=s.current.getBoundingClientRect(),x=window.innerWidth;p.right+320+16>x?n("left"):n("right")}},[e]),b.useEffect(()=>{function p(x){i.current&&!i.current.contains(x.target)&&s.current&&!s.current.contains(x.target)&&t(!1)}if(e)return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[e]),b.useEffect(()=>{function p(x){x.key==="Escape"&&t(!1)}if(e)return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e]),c.jsxs("div",{className:"relative",children:[c.jsxs(oe.button,{ref:s,onClick:()=>t(!e),className:te("group flex items-center gap-2 px-4 sm:px-5 py-2.5 rounded-lg transition-all duration-200 whitespace-nowrap text-sm font-medium",g?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-300 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[c.jsx(zE,{className:te("w-4 h-4 flex-shrink-0 transition-colors duration-200",g?"text-emerald-600 dark:text-emerald-400":"text-slate-400 dark:text-slate-500")}),c.jsx("span",{className:"hidden sm:inline",children:m.filters.advanced}),c.jsx("span",{className:"sm:hidden",children:"Filtros"}),g&&c.jsx(oe.span,{initial:{scale:0},animate:{scale:1},className:"bg-emerald-600 dark:bg-emerald-500 text-white text-xs rounded-full min-w-[18px] h-[18px] px-1 flex items-center justify-center flex-shrink-0 font-medium",children:[a,o,l].filter(Boolean).length})]}),c.jsx(Qa,{children:e&&c.jsxs(oe.div,{ref:i,initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},className:te("absolute top-full mt-2 bg-white dark:bg-slate-900 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-5 z-50 max-h-[80vh] overflow-y-auto","right-0",r==="left"&&"sm:right-0 sm:left-auto",r==="right"&&"sm:left-0 sm:right-auto","w-72 sm:w-80"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm",children:m.filters.advanced}),c.jsx(oe.button,{onClick:()=>t(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:c.jsx(fr,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"space-y-2.5",children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[c.jsx(pn,{className:"w-3.5 h-3.5 text-slate-400"}),m.recipe.difficulty]}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:v.map(p=>c.jsx(oe.button,{onClick:()=>u(a===p.value?null:p.value),className:te("px-2 sm:px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-center",a===p.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:p.label},p.value))})]}),c.jsxs("div",{className:"space-y-2.5",children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[c.jsx(Wa,{className:"w-3.5 h-3.5 text-slate-400"}),m.recipe.prepTime]}),c.jsx("div",{className:"space-y-1.5",children:y.map(p=>c.jsx(oe.button,{onClick:()=>d(o===p.value?null:p.value),className:te("w-full px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-left",o===p.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),c.jsxs("div",{className:"space-y-2.5",children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[c.jsx(gn,{className:"w-3.5 h-3.5 text-slate-400"}),m.filters.minRating]}),c.jsx("div",{className:"space-y-1.5",children:w.map(p=>c.jsx(oe.button,{onClick:()=>h(l===p.value?null:p.value),className:te("w-full px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-left",l===p.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),g&&c.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"pt-3 border-t border-slate-100 dark:border-slate-800",children:c.jsx(oe.button,{onClick:()=>{f(),t(!1)},className:"w-full px-3 py-2 bg-slate-50 text-slate-600 rounded-lg hover:bg-slate-100 transition-colors duration-150 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50 text-xs font-medium",whileHover:{scale:1.01},whileTap:{scale:.99},children:m.filters.clearAll})})]})]})})]})}const F0={title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}},kr="w-full rounded-lg border border-slate-200/90 bg-white/90 px-3 py-2.5 text-sm md:text-base text-slate-900 shadow-sm outline-none transition focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/60 dark:border-slate-700 dark:bg-slate-900/80 dark:text-slate-50",ms="block text-sm md:text-base font-medium text-slate-700 dark:text-slate-100",b5="text-base font-semibold text-slate-800 dark:text-slate-100";function ps({title:e,description:t,children:r,className:n}){return c.jsxs("section",{className:te("space-y-3",n),children:[(e||t)&&c.jsxs("header",{className:"space-y-1",children:[e&&c.jsx("h3",{className:b5,children:e}),t&&c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t})]}),r]})}function k5({isOpen:e,onClose:t}){var v,w;const{user:r}=qe(),{createRecipe:n}=nr(),s=Me(),[i,a]=b.useState(!1),[o,l]=b.useState(F0);if(!e||!r)return null;const u=async g=>{if(g.preventDefault(),!!r){a(!0);try{const p={...o,authorId:r.id,rating:0,reviews:[]};await n(p),l(F0),t()}catch(p){console.error("Error creating recipe:",p)}finally{a(!1)}}},d=(g,p,x)=>{l(j=>{var S;return{...j,[g]:(S=j[g])==null?void 0:S.map((T,k)=>k===p?x:T)}})},h=g=>{l(p=>({...p,[g]:[...p[g]||[],""]}))},f=(g,p)=>{l(x=>{var j;return{...x,[g]:(j=x[g])==null?void 0:j.filter((S,T)=>T!==p)}})},m=(g,p)=>{const x=parseFloat(p)||0;l(j=>({...j,nutritionFacts:{...j.nutritionFacts,[g]:x}}))},y=Object.keys(s.categories).filter(g=>g!=="all").map(g=>({value:g,label:s.categories[g]}));return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-2xl border border-slate-200/80 bg-gradient-to-br from-white via-white to-emerald-50/40 shadow-2xl dark:border-slate-800 dark:from-slate-900 dark:via-slate-900 dark:to-slate-950",children:[c.jsxs("button",{onClick:t,className:"absolute right-4 top-4 inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 text-slate-500 shadow-sm transition hover:scale-105 hover:bg-white hover:text-slate-700 dark:bg-slate-900/80 dark:text-slate-400 dark:hover:bg-slate-900",children:[c.jsx(fr,{className:"h-5 w-5"}),c.jsx("span",{className:"sr-only",children:s.common.close})]}),c.jsx("div",{className:"border-b border-slate-100/80 px-6 pb-4 pt-5 dark:border-slate-800/80 sm:px-7",children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("p",{className:"inline-flex w-fit items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium uppercase tracking-wide text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",children:s.recipe.CreateRecipe}),c.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50 sm:text-2xl",children:s.recipe.CreateNewRecipe}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 sm:text-base",children:s.recipe.details})]})}),c.jsxs("form",{onSubmit:u,className:"space-y-8 px-6 pb-7 pt-5 text-sm sm:text-base sm:px-7",children:[c.jsx(ps,{children:c.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:ms,children:s.recipe.recipeTitle}),c.jsx("input",{type:"text",value:o.title,onChange:g=>l(p=>({...p,title:g.target.value})),className:kr,required:!0})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:ms,children:s.recipe.recipeImageURL}),c.jsx("input",{type:"url",value:o.image,onChange:g=>l(p=>({...p,image:g.target.value})),className:kr,placeholder:"https://example.com/image.jpg",required:!0})]})]})}),c.jsx(ps,{description:s.recipe.details,children:c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:ms,children:s.recipe.recipeDescription}),c.jsx("textarea",{value:o.description,onChange:g=>l(p=>({...p,description:g.target.value})),className:te(kr,"min-h-[90px] resize-y"),rows:3,required:!0})]})}),c.jsx(ps,{children:c.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("label",{className:ms,children:[s.recipe.prepTime," (min)"]}),c.jsx("input",{type:"number",value:o.prepTime,onChange:g=>l(p=>({...p,prepTime:Number(g.target.value)})),className:kr,min:1,required:!0})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:ms,children:s.recipe.difficulty}),c.jsxs("select",{value:o.difficulty,onChange:g=>l(p=>({...p,difficulty:g.target.value})),className:kr,required:!0,children:[c.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),c.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),c.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:ms,children:s.recipe.recipeCategory}),c.jsx("select",{value:o.category,onChange:g=>l(p=>({...p,category:g.target.value})),className:kr,required:!0,children:y.map(g=>c.jsx("option",{value:g.value,children:g.label},g.value))})]})]})}),c.jsxs(ps,{title:s.recipe.ingredients,description:s.recipe.addIngredient,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:s.common.add}),c.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 dark:border-emerald-900 dark:bg-emerald-950/50 dark:text-emerald-300 dark:hover:bg-emerald-900/60",children:[c.jsx(ei,{className:"h-4 w-4"}),s.recipe.addIngredient]})]}),c.jsx("div",{className:"mt-2 space-y-2",children:(v=o.ingredients)==null?void 0:v.map((g,p)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:g,onChange:x=>d("ingredients",p,x.target.value),className:kr,placeholder:s.recipe.example,required:!0}),o.ingredients.length>1&&c.jsx("button",{type:"button",onClick:()=>f("ingredients",p),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white/80 px-2 text-slate-400 shadow-sm transition hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:bg-slate-900/70 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:c.jsx(Ml,{className:"h-4 w-4"})})]},p))})]}),c.jsxs(ps,{title:s.recipe.instructions,description:s.recipe.addStep,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:s.common.add}),c.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 dark:border-emerald-900 dark:bg-emerald-950/50 dark:text-emerald-300 dark:hover:bg-emerald-900/60",children:[c.jsx(ei,{className:"h-4 w-4"}),s.recipe.addStep]})]}),c.jsx("div",{className:"mt-2 space-y-2",children:(w=o.instructions)==null?void 0:w.map((g,p)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:g,onChange:x=>d("instructions",p,x.target.value),className:kr,placeholder:`${s.recipe.Step} ${p+1}`,required:!0}),o.instructions.length>1&&c.jsx("button",{type:"button",onClick:()=>f("instructions",p),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white/80 px-2 text-slate-400 shadow-sm transition hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:bg-slate-900/70 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:c.jsx(Ml,{className:"h-4 w-4"})})]},p))})]}),c.jsx(ps,{title:s.recipe.nutritionFacts,children:c.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-5",children:Object.entries(o.nutritionFacts||{}).map(([g,p])=>{const x=g;return c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-200 sm:text-sm",children:s.profile.nutritionGoalsnames[x]}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:p,onChange:j=>m(g,j.target.value),className:kr,placeholder:"0.00",required:!0})]},g)})})}),c.jsx("div",{className:"pt-2",children:c.jsx("button",{type:"submit",disabled:i,className:te("inline-flex w-full items-center justify-center rounded-lg bg-gradient-to-r from-emerald-600 via-emerald-500 to-emerald-600 px-4 py-3 text-base font-semibold text-white shadow-md transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-80 dark:focus-visible:ring-offset-slate-900",i&&"opacity-80"),children:i?s.common.loading:s.recipe.CreateRecipe})})]})]})})}function S5({message:e,type:t,onClose:r,duration:n=3e3}){Kn.useEffect(()=>{const i=setTimeout(r,n);return()=>clearTimeout(i)},[n,r]);const s={success:c.jsx(hf,{className:"w-5 h-5 text-green-500"}),error:c.jsx(df,{className:"w-5 h-5 text-red-500"}),info:c.jsx(HE,{className:"w-5 h-5 text-blue-500"})};return c.jsx(Qa,{children:c.jsxs(oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:te("fixed bottom-4 right-4 flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg",t==="success"&&"bg-green-50 border border-green-200",t==="error"&&"bg-red-50 border border-red-200",t==="info"&&"bg-blue-50 border border-blue-200"),children:[s[t],c.jsx("span",{className:"text-gray-700",children:e}),c.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-full",children:c.jsx(fr,{className:"w-4 h-4 text-gray-500"})})]})})}function rm({size:e="md",className:t}){const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return c.jsx(Ta,{className:te("animate-spin",r[e],t)})}function j5(){const e=yr(),[t,r]=b.useState(!1),[n,s]=b.useState(!1),{category:i,searchQuery:a,difficulty:o,prepTimeRange:l,minRating:u,setCategory:d}=bf(),{recipes:h,loading:f,fetchRecipes:m}=nr(),{isAuthenticated:y,isNutritionist:v,initializeAuth:w}=qe(),{message:g,type:p,hideToast:x}=se(),j=Me(),S=["all","vegan","lowCarb","highProtein","glutenFree"];b.useEffect(()=>{(async()=>{if(!n)try{await w(),await m(),s(!0)}catch(P){console.error("Error initializing app:",P),s(!0)}})()},[w,m,n]),b.useEffect(()=>{n&&d("all")},[d,n]);const T=N=>N.toLowerCase().replace(/\s+/g,""),k=N=>{if(!l)return!0;switch(l){case"quick":return N.prepTime<=15;case"medium":return N.prepTime<=30;case"long":return N.prepTime>30;default:return!0}},C=h.filter(N=>{const P=T(N.category),L=T(i),D=L==="all"||P===L,de=N.title.toLowerCase().includes(a.toLowerCase())||N.description.toLowerCase().includes(a.toLowerCase()),fe=!o||N.difficulty===o,Z=!u||N.rating>=u,le=k(N);return D&&de&&fe&&Z&&le});return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[c.jsx(y5,{onProfileClick:()=>e("/perfil"),onAIMentoringClick:()=>e("/mentoria-ia")}),c.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-4",children:j.home.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl text-sm sm:text-base",children:j.home.subtitle})]}),y&&v()&&c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm sm:text-base",children:[c.jsx(ei,{className:"w-4 h-4 sm:w-5 sm:h-5"}),j.home.createRecipe]})]}),c.jsx("div",{className:"mb-8",children:c.jsx("div",{className:"bg-white dark:bg-slate-800/30 rounded-xl p-4 sm:p-5 border border-slate-100 dark:border-slate-700/50",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(x5,{categories:S,selectedCategory:i,onSelectCategory:d}),c.jsx("div",{className:"ml-auto",children:c.jsx(w5,{})})]})})}),f?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx(rm,{size:"lg"})}):C.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:j.home.noRecipes}),h.length===0&&!f&&c.jsx("button",{onClick:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar novamente"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(N=>c.jsx(ih,{recipe:N},N.id))})]}),c.jsx(k5,{isOpen:t,onClose:()=>r(!1)}),g&&c.jsx(S5,{message:g,type:p,onClose:x})]})}const gs={calories:2e3,protein:50,carbs:250,fat:70,fiber:25},$0=["calories","protein","carbs","fat","fiber"],ro=Fr()(Ka(e=>({goals:gs,activeGoals:$0,loading:!1,fetchGoals:async t=>{e({loading:!0});try{const{data:r,error:n}=await ee.from("nutrition_goals").select("*").eq("user_id",t).maybeSingle();if(n)throw n;e(r?{goals:{calories:r.calories||gs.calories,protein:r.protein||gs.protein,carbs:r.carbs||gs.carbs,fat:r.fat||gs.fat,fiber:r.fiber||gs.fiber},activeGoals:r.active_goals||$0,loading:!1}:{loading:!1})}catch(r){console.error("Error fetching nutrition goals:",r),e({loading:!1})}},setActiveGoals:async(t,r)=>{try{const{error:n}=await ee.from("nutrition_goals").update({active_goals:r}).eq("user_id",t);if(n)throw n;e({activeGoals:r})}catch(n){throw console.error("Error updating active goals:",n),n}},toggleGoal:async(t,r)=>{e(n=>{const s=n.activeGoals.includes(r)?n.activeGoals.filter(i=>i!==r):[...n.activeGoals,r];return(async()=>{try{const{error:i}=await ee.from("nutrition_goals").update({active_goals:s}).eq("user_id",t);if(i)throw i}catch(i){console.error("Error toggling goal:",i)}})(),{activeGoals:s}})},setGoals:t=>e(r=>({goals:{...r.goals,...Object.fromEntries(Object.entries(t).map(([n,s])=>[n,Number(s)]))}}))}),{name:"nutrition-goals"})),_5=()=>({calories:0,protein:0,carbs:0,fat:0,fiber:0}),E5=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},N5=e=>{const t=Number(e??1);return!Number.isFinite(t)||t<=0?1:Math.round(t*10)/10},Pc=Fr()(Ka((e,t)=>({entries:[],addRecipeToLog:(r,n=1,s)=>{var l,u,d,h,f,m;const i=N5(n),a=s??E5(new Date),o={id:((l=crypto==null?void 0:crypto.randomUUID)==null?void 0:l.call(crypto))??`${Date.now()}-${Math.random()}`,date:a,recipeId:r.id,recipeTitle:r.title,servings:i,perServing:{calories:Number(((u=r.nutritionFacts)==null?void 0:u.calories)??0),protein:Number(((d=r.nutritionFacts)==null?void 0:d.protein)??0),carbs:Number(((h=r.nutritionFacts)==null?void 0:h.carbs)??0),fat:Number(((f=r.nutritionFacts)==null?void 0:f.fat)??0),fiber:Number(((m=r.nutritionFacts)==null?void 0:m.fiber)??0)},createdAt:new Date().toISOString()};e(y=>({entries:[o,...y.entries]}))},removeEntry:r=>e(n=>({entries:n.entries.filter(s=>s.id!==r)})),clearDate:r=>e(n=>({entries:n.entries.filter(s=>s.date!==r)})),getEntriesForDate:r=>t().entries.filter(n=>n.date===r),getTotalsForDate:r=>{const n=_5();for(const s of t().entries)s.date===r&&(n.calories+=s.perServing.calories*s.servings,n.protein+=s.perServing.protein*s.servings,n.carbs+=s.perServing.carbs*s.servings,n.fat+=s.perServing.fat*s.servings,n.fiber+=s.perServing.fiber*s.servings);return{calories:Math.round(n.calories*10)/10,protein:Math.round(n.protein*10)/10,carbs:Math.round(n.carbs*10)/10,fat:Math.round(n.fat*10)/10,fiber:Math.round(n.fiber*10)/10}}}),{name:"nutrition-tracking",version:1}));function C5(){const{user:e}=qe(),{recipes:t,favoriteRecipes:r}=nr(),{goals:n,activeGoals:s}=ro(),{entries:i}=Pc(),a=Me();if(!e)return null;const o=t.filter(f=>f.authorId===e.id),l=t.filter(f=>r.includes(f.id)).length,u=e.type==="Nutritionist",d=s.length>0,h=new Set(i.map(f=>f.date)).size;return c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/90 flex flex-col sm:flex-row sm:items-center gap-6",children:[c.jsx("div",{className:"flex items-center justify-center h-20 w-20 rounded-full bg-emerald-100 dark:bg-emerald-900/40 shadow-inner",children:c.jsx(ti,{className:"h-10 w-10 text-emerald-700 dark:text-emerald-300"})}),c.jsxs("div",{className:"flex-1 space-y-3",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:e.name}),c.jsxs("div",{className:"flex flex-col gap-1 text-sm text-slate-600 dark:text-slate-400",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zx,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-300"}),e.email]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pn,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-300"}),u?a.profile.nutricionist:a.profile.client]})]}),u&&c.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[c.jsx("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300",children:o.length}),c.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:a.profile.publishedRecipes})]}),c.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[c.jsx("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300",children:l}),c.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:a.profile.favorites})]})]}),!u&&c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[c.jsxs("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300 flex items-center justify-center gap-1",children:[c.jsx(mc,{className:"h-4 w-4"}),l]}),c.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:a.profile.favorites})]}),d&&c.jsxs("div",{className:"rounded-xl bg-blue-50 dark:bg-blue-900/20 p-3 text-center border border-blue-100 dark:border-blue-800/60",children:[c.jsxs("p",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300 flex items-center justify-center gap-1",children:[c.jsx(nw,{className:"h-4 w-4"}),s.length]}),c.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Metas ativas"})]}),h>0&&c.jsxs("div",{className:"rounded-xl bg-purple-50 dark:bg-purple-900/20 p-3 text-center border border-purple-100 dark:border-purple-800/60",children:[c.jsxs("p",{className:"text-lg font-semibold text-purple-700 dark:text-purple-300 flex items-center justify-center gap-1",children:[c.jsx(Wa,{className:"h-4 w-4"}),h]}),c.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Dias rastreados"})]})]})]})]})}function T5(){const{goals:e,setGoals:t}=ro(),[r,n]=b.useState(e),s=Me(),i=s.profile.saveGoals,a=s.profile.dailyGoals,o=s.profile.nutritionGoalsnames,l=h=>{h.preventDefault(),t(r)},u=b.useMemo(()=>({calories:{icon:Al,unit:"kcal",accent:"text-amber-300",ring:"focus-visible:ring-amber-400/40"},protein:{icon:Qx,unit:"g",accent:"text-rose-300",ring:"focus-visible:ring-rose-400/40"},carbs:{icon:sw,unit:"g",accent:"text-sky-300",ring:"focus-visible:ring-sky-400/40"},fat:{icon:Xx,unit:"g",accent:"text-emerald-300",ring:"focus-visible:ring-emerald-400/40"},fiber:{icon:pc,unit:"g",accent:"text-lime-300",ring:"focus-visible:ring-lime-400/40"}}),[r]),d=(h,f)=>{const m=Number.isFinite(Number(f))?parseFloat(f):0;n(y=>({...y,[h]:m<0?0:m}))};return c.jsxs("form",{onSubmit:l,className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-sm backdrop-blur md:p-6",children:[c.jsx("div",{className:"mb-4 flex items-start justify-between gap-3",children:c.jsx("div",{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-white/10 ring-1 ring-white/10",children:c.jsx(rw,{className:"h-5 w-5 text-emerald-300"})}),c.jsx("h3",{className:"text-lg font-semibold text-white",children:a})]})})}),c.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:Object.entries(r).map(([h,f])=>{const m=u[h],y=m.icon,v=o[h];return c.jsxs("div",{className:"group rounded-2xl border border-white/10 bg-slate-950/30 p-4 transition hover:border-white/15 hover:bg-slate-950/40",children:[c.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-white/5 ring-1 ring-white/10",children:c.jsx(y,{className:`h-5 w-5 ${m.accent}`})}),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"truncate text-sm font-medium text-white",children:v})})]}),c.jsx("span",{className:"shrink-0 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-xs text-white/70",children:m.unit})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"number",step:"0.1",min:"0",value:Number.isFinite(f)?f:0,onChange:w=>d(h,w.target.value),inputMode:"decimal",className:"w-full rounded-xl border border-white/10 bg-slate-950/40 px-4 py-3 text-base text-white outline-none transition placeholder:text-white/30 hover:border-white/15 focus-visible:ring-4 focus-visible:ring-emerald-400/20 "+m.ring,placeholder:"0.0","aria-label":`${v} (${m.unit})`})})]},h)})}),c.jsx("div",{className:"mt-5 flex flex-col-reverse gap-3 md:flex-row md:items-center md:justify-between",children:c.jsx("button",{type:"submit",className:"inline-flex w-full items-center justify-center rounded-xl bg-emerald-500 px-4 py-3 font-medium text-slate-950 shadow-sm transition hover:bg-emerald-400 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-emerald-400/30 md:w-auto",children:i})})]})}function R5(){const{activeGoals:e,toggleGoal:t}=ro(),{user:r}=qe(),s=Me().profile.nutritionGoalsnames,i=b.useMemo(()=>[{key:"calories",icon:Al,accent:"text-amber-300",color:"bg-amber-500/20 border-amber-500/50 hover:bg-amber-500/30"},{key:"protein",icon:Qx,accent:"text-rose-300",color:"bg-rose-500/20 border-rose-500/50 hover:bg-rose-500/30"},{key:"carbs",icon:sw,accent:"text-sky-300",color:"bg-sky-500/20 border-sky-500/50 hover:bg-sky-500/30"},{key:"fat",icon:Xx,accent:"text-emerald-300",color:"bg-emerald-500/20 border-emerald-500/50 hover:bg-emerald-500/30"},{key:"fiber",icon:pc,accent:"text-lime-300",color:"bg-lime-500/20 border-lime-500/50 hover:bg-lime-500/30"}],[]),a=async o=>{r!=null&&r.id&&await t(r.id,o)};return c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/90",children:[c.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[c.jsx(XE,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),c.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Metas para Acompanhar"})]}),c.jsx("p",{className:"mb-4 text-sm text-slate-600 dark:text-slate-400",children:"Selecione quais metas nutricionais voc deseja acompanhar diariamente"}),c.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-5",children:i.map(({key:o,icon:l,accent:u,color:d})=>{const h=e.includes(o),f=s[o];return c.jsxs("button",{onClick:()=>a(o),className:`relative flex flex-col items-center gap-2 rounded-xl border-2 p-4 transition ${h?`${d} border-current`:"border-slate-200 bg-slate-50 hover:bg-slate-100 dark:border-slate-700 dark:bg-slate-800/50 dark:hover:bg-slate-800"}`,children:[c.jsx(l,{className:`h-6 w-6 ${u}`}),c.jsx("span",{className:"text-xs font-medium text-slate-900 dark:text-slate-200",children:f}),h&&c.jsx("div",{className:"absolute -right-2 -top-2 flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500",children:c.jsx("svg",{className:"h-3 w-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},o)})})]})}const P5=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},A5=e=>Number.isFinite(e)?Math.max(0,Math.min(1,e)):0;function Li({label:e,value:t,goal:r,unit:n}){const s=A5(r>0?t/r:0),i=`${t.toFixed(1)} / ${r.toFixed(1)} ${n}`,a=Math.round(s*100);return c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:e}),c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:i})]}),c.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:c.jsx("div",{className:`h-full rounded-full transition-all ${s<=1?"bg-emerald-500":"bg-rose-500"}`,style:{width:`${a}%`}})})]})}function M5(){const e=Me(),{recipes:t}=nr(),{showToast:r}=se(),{goals:n}=ro(),{entries:s,addRecipeToLog:i,removeEntry:a,clearDate:o,getEntriesForDate:l,getTotalsForDate:u}=Pc(),[d,h]=Kn.useState(()=>P5(new Date)),[f,m]=Kn.useState(""),[y,v]=Kn.useState(1),w=b.useMemo(()=>l(d),[l,d,s]),g=b.useMemo(()=>u(d),[u,d,s]),p=t.slice().sort((S,T)=>S.title.localeCompare(T.title)),x=()=>{const S=Number(f),T=t.find(k=>k.id===S);if(!T){r(e.profile.pickARecipe??"Selecione uma receita.","warning");return}i(T,y,d),r(e.profile.loggedToDiary??"Adicionado ao dirio.","success")},j=()=>{!w.length||!window.confirm(e.profile.clearDiaryConfirm??"Limpar o dirio deste dia?")||(o(d),r(e.profile.diaryCleared??"Dirio limpo.","info"))};return c.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-100 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(FE,{className:"h-5 w-5 text-emerald-500"}),c.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-white",children:e.profile.diaryTitle??"Dirio alimentar"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"date",value:d,onChange:S=>h(S.target.value),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100"}),c.jsxs("button",{type:"button",onClick:j,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-900",children:[c.jsx(Il,{className:"h-4 w-4"}),e.profile.clearDay??"Limpar"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[c.jsxs("select",{value:f,onChange:S=>m(S.target.value===""?"":Number(S.target.value)),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",children:[c.jsx("option",{value:"",children:e.profile.chooseRecipe??"Escolher receita..."}),p.map(S=>c.jsx("option",{value:S.id,children:S.title},S.id))]}),c.jsx("input",{type:"number",min:.1,step:.1,value:y,onChange:S=>v(Math.max(.1,Number(S.target.value)||1)),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:e.profile.servings??"Pores"}),c.jsxs("button",{type:"button",onClick:x,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700",children:[c.jsx(ei,{className:"h-4 w-4"}),e.profile.addToDiary??"Adicionar"]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:e.profile.todayProgress??"Progresso do dia"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Li,{label:e.profile.nutritionGoalsnames.calories,value:g.calories,goal:n.calories,unit:"kcal"}),c.jsx(Li,{label:e.profile.nutritionGoalsnames.protein,value:g.protein,goal:n.protein,unit:"g"}),c.jsx(Li,{label:e.profile.nutritionGoalsnames.carbs,value:g.carbs,goal:n.carbs,unit:"g"}),c.jsx(Li,{label:e.profile.nutritionGoalsnames.fat,value:g.fat,goal:n.fat,unit:"g"}),c.jsx(Li,{label:e.profile.nutritionGoalsnames.fiber,value:g.fiber,goal:n.fiber,unit:"g"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:e.profile.loggedMeals??"Registros"}),c.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:[w.length," ",e.profile.items??"itens"]})]}),w.length?c.jsx("div",{className:"space-y-2",children:w.map(S=>c.jsxs("div",{className:"flex items-start justify-between gap-3 rounded-xl border border-slate-100 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"truncate text-sm font-semibold text-slate-900 dark:text-white",children:S.recipeTitle}),c.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300",children:[e.profile.servings??"Pores",": ",c.jsx("span",{className:"font-medium",children:S.servings}),"  ",S.perServing.calories.toFixed(0)," kcal/",e.profile.perServing??"poro"]})]}),c.jsx("button",{type:"button",onClick:()=>{a(S.id),r(e.profile.entryRemoved??"Item removido.","info")},className:"shrink-0 rounded-lg p-2 text-slate-600 hover:bg-white hover:text-rose-600 dark:text-slate-300 dark:hover:bg-slate-900","aria-label":e.profile.remove??"Remover",children:c.jsx(Il,{className:"h-4 w-4"})})]},S.id))}):c.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 p-4 text-sm text-slate-600 dark:border-slate-700 dark:text-slate-300",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(sN,{className:"mt-0.5 h-4 w-4 text-slate-400"}),c.jsx("p",{children:e.profile.noDiaryEntries??"Nenhum item registrado neste dia."})]})})]})]})}function Lu({active:e,onClick:t,children:r}){return c.jsx("button",{onClick:t,className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${e?"bg-emerald-500 text-white shadow-sm":"text-slate-500 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:r})}function I5(){const[e,t]=Kn.useState("favorites"),{user:r}=qe(),{recipes:n,favoriteRecipes:s}=nr(),i=Me(),a=n.filter(f=>f.authorId===(r==null?void 0:r.id)),o=n.filter(f=>s.includes(f.id)),l=i.buttons.My_recipes,u=i.buttons.Favorites,d=i.buttons.Nutrition_goal,h=(r==null?void 0:r.type)==="Nutritionist";return Kn.useEffect(()=>{if(h){e==="nutrition"&&t("recipes");return}e==="recipes"&&t("favorites")},[h,e]),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"inline-flex rounded-full border border-slate-100 bg-slate-50 p-1 dark:border-slate-800 dark:bg-slate-900",children:[h&&c.jsx(Lu,{active:e==="recipes",onClick:()=>t("recipes"),children:l}),c.jsx(Lu,{active:e==="favorites",onClick:()=>t("favorites"),children:u}),!h&&c.jsx(Lu,{active:e==="nutrition",onClick:()=>t("nutrition"),children:d})]}),c.jsxs("div",{className:"mt-2",children:[e==="recipes"&&h&&c.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[a.map(f=>c.jsx(ih,{recipe:f},f.id)),a.length===0&&c.jsx("p",{className:"col-span-full py-8 text-center text-sm text-slate-500 dark:text-slate-400",children:i.profile.noRecipesYet})]}),e==="favorites"&&c.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.map(f=>c.jsx(ih,{recipe:f},f.id)),o.length===0&&c.jsx("p",{className:"col-span-full py-8 text-center text-sm text-slate-500 dark:text-slate-400",children:i.profile.noFavorites})]}),e==="nutrition"&&!h&&c.jsxs("div",{className:"space-y-6",children:[c.jsx(R5,{}),c.jsxs("div",{className:"mx-auto grid max-w-5xl grid-cols-1 gap-6 lg:grid-cols-2",children:[c.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white/90 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/90 sm:p-5",children:c.jsx(T5,{})}),c.jsx(M5,{})]})]})]})]})}function L5(){const{user:e}=qe(),{recipes:t,favoriteRecipes:r}=nr(),{goals:n,activeGoals:s}=ro(),{getTotalsForDate:i,entries:a}=Pc(),o=Me();if(!e||e.type!=="Client")return null;e.profile;const l=t.filter(v=>r.includes(v.id)),u=l.length,d=l.reduce((v,w)=>v+w.nutritionFacts.calories,0)/(u||1),h=l.reduce((v,w)=>v+w.prepTime,0)/(u||1),f=b.useMemo(()=>{const v=new Date,w=v.getFullYear(),g=String(v.getMonth()+1).padStart(2,"0"),p=String(v.getDate()).padStart(2,"0");return`${w}-${g}-${p}`},[]),m=b.useMemo(()=>i(f),[i,f,a]),y=o.profile.nutritionGoalsnames;return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[c.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[c.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[c.jsx(mc,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),c.jsx("span",{children:o.profile.favorites})]}),c.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:u})]}),c.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[c.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[c.jsx(IE,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),c.jsx("span",{children:o.profile.nutritionGoalsnames.calories})]}),c.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:d.toFixed(0)})]}),c.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[c.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[c.jsx(Wa,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),c.jsx("span",{children:o.recipe.prepTime})]}),c.jsxs("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:[h.toFixed(0),"min"]})]}),c.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[c.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[c.jsx(rw,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),c.jsx("span",{children:o.labels.activeGoals})]}),c.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:s.length})]})]}),Object.keys(n).length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:o.profile.dailyGoals}),c.jsx(Ca,{to:"/perfil?tab=nutrition",className:"text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:o.profile.viewDiaryAndGoals??"Ver dirio e metas"})]}),c.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:["calories","protein","carbs","fat","fiber"].map(v=>{if(!s.includes(v))return null;const w=n[v]??0,g=m[v]??0,p=w>0?Math.min(1,g/w):0,x=v==="calories"?"kcal":"g",j=Math.max(0,w-g);return c.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:y[v]}),c.jsxs("p",{className:"mt-1 text-xs text-slate-600 dark:text-slate-300",children:[g.toFixed(1)," / ",w.toFixed(1)," ",x,"  ",o.profile.remaining??"Restante",": ",j.toFixed(1)," ",x]})]}),c.jsx("div",{className:"shrink-0 text-right",children:c.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[Math.round(p*100),"%"]})})]}),c.jsx("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:c.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all",style:{width:`${Math.round(p*100)}%`}})})]},v)})}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:o.profile.progressBasedOnDiary??"O progresso  calculado com base no que voc registra no dirio alimentar."})]}),l.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:o.profile.recentFavorites}),c.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:l.slice(0,3).map(v=>c.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-slate-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60",children:[c.jsx("img",{src:v.image,alt:v.title,className:"h-16 w-16 rounded-lg object-cover"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:v.title}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 sm:text-sm",children:v.category}),c.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[c.jsxs("span",{children:[" ",v.rating.toFixed(1)]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[v.prepTime,"min"]})]})]})]},v.id))})]})]})}const D5={emerald:{ring:"ring-emerald-500/10 dark:ring-emerald-400/10",icon:"text-emerald-600 dark:text-emerald-400",value:"text-emerald-700 dark:text-emerald-300",pillBg:"bg-emerald-50 dark:bg-emerald-900/30",pillText:"text-emerald-700 dark:text-emerald-200"},slate:{ring:"ring-slate-500/10 dark:ring-slate-400/10",icon:"text-slate-600 dark:text-slate-300",value:"text-slate-900 dark:text-slate-50",pillBg:"bg-slate-100 dark:bg-slate-800/60",pillText:"text-slate-600 dark:text-slate-200"},amber:{ring:"ring-amber-500/10 dark:ring-amber-400/10",icon:"text-amber-600 dark:text-amber-400",value:"text-amber-700 dark:text-amber-300",pillBg:"bg-amber-50 dark:bg-amber-900/30",pillText:"text-amber-700 dark:text-amber-200"},rose:{ring:"ring-rose-500/10 dark:ring-rose-400/10",icon:"text-rose-600 dark:text-rose-400",value:"text-rose-700 dark:text-rose-300",pillBg:"bg-rose-50 dark:bg-rose-900/30",pillText:"text-rose-700 dark:text-rose-200"},sky:{ring:"ring-sky-500/10 dark:ring-sky-400/10",icon:"text-sky-600 dark:text-sky-400",value:"text-sky-700 dark:text-sky-300",pillBg:"bg-sky-50 dark:bg-sky-900/30",pillText:"text-sky-700 dark:text-sky-200"}};function $o({icon:e,label:t,value:r,helperText:n,tone:s="emerald"}){const i=D5[s];return c.jsx("div",{className:`group rounded-2xl border border-slate-100 bg-white p-4 shadow-sm ring-1 transition hover:-translate-y-0.5 hover:shadow-md dark:border-slate-800 dark:bg-slate-900/60 ${i.ring}`,children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:[c.jsx("span",{className:`inline-flex h-8 w-8 items-center justify-center rounded-xl ${i.pillBg}`,children:c.jsx("span",{className:i.icon,children:e})}),c.jsx("span",{className:"truncate",children:t})]}),c.jsx("div",{className:`mt-2 text-3xl font-bold leading-none ${i.value}`,children:r}),n&&c.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n})]}),c.jsx("span",{className:`mt-1 hidden rounded-full px-2 py-1 text-[11px] font-semibold sm:inline-flex ${i.pillBg} ${i.pillText}`,children:""})]})})}function O5(){const{user:e}=qe(),{recipes:t}=nr(),r=Me();if(!e||e.type!=="Nutritionist")return null;const n=e.profile||{},s=b.useMemo(()=>t.filter(o=>o.authorId===e.id),[t,e.id]),i=b.useMemo(()=>s.reduce((o,l)=>o+l.reviews.length,0),[s]),a=b.useMemo(()=>{const o=s.reduce((l,u)=>l+u.rating,0);return s.length?o/s.length:0},[s]);return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[c.jsx($o,{icon:c.jsx(OE,{className:"h-4 w-4"}),label:r.profile.publishedRecipes,value:s.length,helperText:s.length?void 0:r.profile.noRecipesYet,tone:"emerald"}),c.jsx($o,{icon:c.jsx(nN,{className:"h-4 w-4"}),label:r.profile.totalReviews,value:i,tone:"sky"}),c.jsx($o,{icon:c.jsx(nw,{className:"h-4 w-4"}),label:r.profile.averageRating,value:a.toFixed(1),helperText:s.length?void 0:r.profile.publishToGetReviews??void 0,tone:"amber"}),c.jsx($o,{icon:c.jsx(DE,{className:"h-4 w-4"}),label:r.profile.experience,value:n.experience||"N/A",tone:"slate"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-end justify-between gap-4",children:[c.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:r.profile.myRecipes}),s.length>0&&c.jsx(Ca,{to:"/perfil?tab=recipes",className:"text-xs font-semibold text-emerald-700 hover:underline dark:text-emerald-300",children:r.profile.viewAll??r.common.search})]}),s.length===0?c.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center dark:border-slate-800 dark:bg-slate-900/40",children:[c.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:r.profile.noRecipesYet}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:r.profile.publishFirstRecipe??"Publish your first recipe to start receiving reviews."})]}):c.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.slice(-3).reverse().map(o=>c.jsxs(Ca,{to:`/receita/${o.id}`,className:"group flex items-center gap-4 rounded-xl border border-slate-100 bg-white p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md dark:border-slate-800 dark:bg-slate-900/60",children:[c.jsx("img",{src:o.image,alt:o.title,loading:"lazy",className:"h-16 w-16 rounded-lg object-cover ring-1 ring-slate-200/40 dark:ring-slate-800/50"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("h4",{className:"truncate text-sm font-semibold text-slate-900 group-hover:text-emerald-700 dark:text-slate-50 dark:group-hover:text-emerald-300",children:o.title}),c.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[c.jsxs("span",{children:[" ",o.rating.toFixed(1)]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[o.reviews.length," ",r.recipe.reviews]})]})]})]},o.id))})]})]})}function F5({onBackToRecipes:e}){var u,d,h,f,m,y;const{user:t}=qe(),r=Me(),n=r.buttons.BackToRecipes,s=(t==null?void 0:t.type)==="Client",i=(u=r.profile)==null?void 0:u.title,a=(d=r.profile)==null?void 0:d.subtitle,o=s?(h=r.profile)==null?void 0:h.overviewClient:(f=r.profile)==null?void 0:f.overviewNutritionist,l=s?(m=r.profile)==null?void 0:m.overviewClientDescription:(y=r.profile)==null?void 0:y.overviewNutritionistDescription;return c.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[e&&c.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-sm font-medium text-emerald-700 transition-colors hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-200 dark:hover:bg-emerald-900/50",children:[c.jsx(Jx,{className:"h-4 w-4"}),c.jsx("span",{children:n})]}),t&&c.jsx("span",{className:"ml-auto inline-flex items-center rounded-full border border-emerald-100 bg-emerald-50 px-3 py-1 text-xs font-semibold uppercase tracking-[0.12em] text-emerald-700 dark:border-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200",children:s?r.profile.client:r.profile.nutricionist})]}),c.jsxs("header",{className:"mb-8 space-y-2",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50 sm:text-3xl",children:i}),c.jsx("p",{className:"max-w-2xl text-sm text-slate-500 dark:text-slate-400 sm:text-base",children:a})]}),c.jsxs("div",{className:"space-y-10",children:[c.jsx(C5,{}),c.jsxs("section",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 sm:text-xl",children:o}),c.jsx("p",{className:"max-w-2xl text-sm text-slate-500 dark:text-slate-400",children:l})]}),s?c.jsx(L5,{}):c.jsx(O5,{}),c.jsx("div",{className:"border-t border-slate-100 pt-6 dark:border-slate-800",children:c.jsx(I5,{})})]})]})]})}function $5(){const e=yr();return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx(F5,{onBackToRecipes:()=>e("/")})})})}function U5({recipe:e,isOpen:t,onClose:r}){const{updateRecipe:n}=nr(),s=Me(),[i,a]=b.useState(!1),[o,l]=b.useState(e);if(!t)return null;const u=async L=>{L.preventDefault(),a(!0);try{await n(o),r()}catch(D){console.error("Error updating recipe:",D)}finally{a(!1)}},d=(L,D,de)=>{l(fe=>({...fe,[L]:fe[L].map((Z,le)=>le===D?de:Z)}))},h=L=>{l(D=>({...D,[L]:[...D[L],""]}))},f=(L,D)=>{l(de=>({...de,[L]:de[L].filter((fe,Z)=>Z!==D)}))},m=(L,D)=>{const de=parseFloat(D)||0;l(fe=>({...fe,nutritionFacts:{...fe.nutritionFacts,[L]:de}}))},y=s.recipe.edit||"Editar Receita",v=s.recipe.recipeTitle,w=s.recipe.recipeDescription,g=s.recipe.recipeImageURL,p=s.recipe.prepTime,x=s.recipe.difficulty,j=s.recipe.recipeCategory,S=s.recipe.ingredients,T=s.recipe.instructions,k=s.recipe.nutritionFacts,C=s.recipe.addIngredient,N=s.recipe.addStep,P=Object.keys(s.categories).map(L=>({value:L,label:s.categories[L]}));return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:c.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-xl bg-white dark:bg-slate-900 border border-slate-200/80 dark:border-slate-800 shadow-xl",children:[c.jsxs("button",{onClick:r,className:"absolute right-4 top-4 inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-700 dark:hover:bg-slate-800",children:[c.jsx(fr,{className:"w-5 h-5"}),c.jsx("span",{className:"sr-only",children:s.common.close})]}),c.jsxs("div",{className:"px-6 pt-5 pb-4 border-b border-slate-100 dark:border-slate-800",children:[c.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900 dark:text-slate-50",children:y}),c.jsx("p",{className:"mt-1 text-base text-slate-500 dark:text-slate-400",children:s.recipe.details})]}),c.jsxs("form",{onSubmit:u,className:"px-6 pb-6 pt-4 space-y-6 text-base",children:[c.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:v}),c.jsx("input",{type:"text",value:o.title,onChange:L=>l(D=>({...D,title:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:g}),c.jsx("input",{type:"url",value:o.image,onChange:L=>l(D=>({...D,image:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0})]})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:w}),c.jsx("textarea",{value:o.description,onChange:L=>l(D=>({...D,description:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",rows:3,required:!0})]}),c.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:p}),c.jsx("input",{type:"number",value:o.prepTime,onChange:L=>l(D=>({...D,prepTime:Number(L.target.value)})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",min:1,required:!0})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:x}),c.jsxs("select",{value:o.difficulty,onChange:L=>l(D=>({...D,difficulty:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0,children:[c.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),c.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),c.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:j}),c.jsx("select",{value:o.category,onChange:L=>l(D=>({...D,category:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0,children:P.map(L=>c.jsx("option",{value:L.value,children:L.label},L.value))})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:S}),c.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"inline-flex items-center gap-1 text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:[c.jsx(ei,{className:"w-4 h-4"}),C]})]}),c.jsx("div",{className:"space-y-2",children:o.ingredients.map((L,D)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:L,onChange:de=>d("ingredients",D,de.target.value),className:"flex-1 rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",placeholder:s.recipe.example,required:!0}),c.jsx("button",{type:"button",onClick:()=>f("ingredients",D),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 px-2 text-slate-400 hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:c.jsx(Ml,{className:"w-4 h-4"})})]},D))})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:T}),c.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"inline-flex items-center gap-1 text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:[c.jsx(ei,{className:"w-4 h-4"}),N]})]}),c.jsx("div",{className:"space-y-2",children:o.instructions.map((L,D)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:L,onChange:de=>d("instructions",D,de.target.value),className:"flex-1 rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",placeholder:`${s.recipe.Step} ${D+1}`,required:!0}),c.jsx("button",{type:"button",onClick:()=>f("instructions",D),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 px-2 text-slate-400 hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:c.jsx(Ml,{className:"w-4 h-4"})})]},D))})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:k}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(o.nutritionFacts).map(([L,D])=>{const de=L;return c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-200",children:s.profile.nutritionGoalsnames[de]}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:D,onChange:fe=>m(L,fe.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",placeholder:"0.00",required:!0})]},L)})})]}),c.jsx("div",{className:"pt-2",children:c.jsx("button",{type:"submit",disabled:i,className:te("inline-flex w-full items-center justify-center rounded-lg bg-emerald-600 px-4 py-3 text-base font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-400",i&&"opacity-80"),children:i?s.common.loading:s.common.save})})]})]})})}function z5({recipe:e,onClose:t}){const[r,n]=b.useState({rating:5,comment:""}),[s,i]=b.useState(null),[a,o]=b.useState(!1),[l,u]=b.useState(!1),[d,h]=b.useState(1),[f,m]=b.useState(()=>{const U=new Date,he=U.getFullYear(),$r=String(U.getMonth()+1).padStart(2,"0"),Gt=String(U.getDate()).padStart(2,"0");return`${he}-${$r}-${Gt}`}),{user:y,isAuthenticated:v}=qe(),{favoriteRecipes:w,addToFavorites:g,removeFromFavorites:p,addReview:x,updateReview:j,deleteReview:S,deleteRecipe:T}=nr(),{addRecipeToLog:k}=Pc(),{showToast:C}=se(),N=Me(),L=N.recipe.difficultyLevels[e.difficulty]||e.difficulty,D=N.categories,fe=(U=>{const he={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},$r=U.toLowerCase().replace(/\s+/g,""),Gt=Object.keys(he).find(Ur=>Ur.toLowerCase().replace(/\s+/g,"")===$r);return Gt?D[he[Gt]]:D[U]||U})(e.category),Z=w.includes(e.id),le=(y==null?void 0:y.id)===e.authorId,J=async U=>{if(U.preventDefault(),!!y)try{await x(e.id,{userId:y.id,userName:y.name,rating:r.rating,comment:r.comment,date:new Date().toISOString().split("T")[0]}),n({rating:5,comment:""})}catch(he){console.error("Error adding review:",he)}},A=async U=>{if(U.preventDefault(),!!s)try{await j(s.id,{rating:s.rating,comment:s.comment}),i(null)}catch(he){console.error("Error updating review:",he)}},F=async U=>{if(window.confirm(N.recipe.deleteReviewConfirm||"Tem certeza que deseja excluir esta avaliao?"))try{await S(U)}catch(he){console.error("Error deleting review:",he)}},z=async()=>{window.confirm(N.recipe.deleteConfirm)&&(await T(e.id),t())},Y=U=>Number(U).toFixed(1),ge=U=>new Date(U).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),ze=()=>{const U=N.recipe.noReviews||"Sem avaliaes",he=N.recipe.reviewSingular||"avaliao",$r=N.recipe.reviewPlural||"avaliaes";if(e.rating===0||!e.rating||e.reviews.length===0)return U;const Gt=e.reviews.length===1?he:$r;return`${e.rating.toFixed(1)} (${e.reviews.length} ${Gt})`},be=e.ingredients.length===1?N.recipe.ingredientsCountSingular||"item":N.recipe.ingredientsCountPlural||"itens",kt=e.reviews.find(U=>U.userId===(y==null?void 0:y.id)),mt=v&&!kt;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm overflow-y-auto z-50",children:c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 py-8",children:c.jsxs("div",{className:"relative max-w-6xl w-full",children:[c.jsx("div",{className:"absolute -top-10 right-0 hidden md:block text-xs uppercase tracking-wider text-gray-400 dark:text-gray-500 font-medium",children:N.recipe.details||"Detalhes da receita"}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 md:px-8 pt-5 pb-4 border-b border-gray-200 dark:border-gray-800",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:N.recipe.recipe||"Receita"}),c.jsx("button",{onClick:t,className:"inline-flex items-center justify-center rounded-lg p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":N.common.close||"Fechar",children:c.jsx(fr,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"px-6 md:px-8 pb-8 pt-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-xl shadow-md border border-gray-200 dark:border-gray-700"}),c.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-t from-black/40 via-transparent to-transparent"}),c.jsxs("div",{className:"absolute bottom-3 left-3 inline-flex items-center gap-2 rounded-lg bg-white/90 dark:bg-gray-900/90 px-3 py-2 text-sm font-semibold shadow-lg backdrop-blur-sm",children:[c.jsx(pn,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),c.jsx("span",{className:"text-gray-900 dark:text-white",children:fe})]})]}),c.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-4 rounded-xl border border-emerald-100 dark:border-emerald-800/30",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40",children:c.jsx(ti,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-0.5",children:N.recipe.author||"Autor"}),c.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:e.authorName||"Usurio"})]})]}),c.jsx("span",{className:"inline-flex items-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40 px-2.5 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-700 dark:text-emerald-300",children:e.authorType==="Nutritionist"?N.profile.nutricionist:N.profile.client})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-300 bg-white/50 dark:bg-black/10 rounded-lg px-3 py-2",children:[c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx($E,{className:"w-3.5 h-3.5"}),N.recipe.postedOn||"Postado em"]}),c.jsx("span",{className:"font-semibold",children:ge(e.createdAt)})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-5 rounded-xl border border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-9 h-9 rounded-lg bg-emerald-50 dark:bg-emerald-900/30",children:c.jsx(Ll,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),N.recipe.ingredients]}),c.jsxs("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2.5 py-1 rounded-lg",children:[e.ingredients.length," ",be]})]}),c.jsx("ul",{className:"space-y-2",children:e.ingredients.map((U,he)=>c.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-200 leading-relaxed",children:[c.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 text-xs font-semibold mt-0.5",children:he+1}),c.jsx("span",{className:"flex-1",children:U})]},he))})]})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"flex justify-between items-start gap-3",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white leading-tight mb-3",children:e.title}),c.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:c.jsxs("span",{className:"inline-flex items-center gap-2 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-3 py-1.5 text-sm font-semibold",children:[c.jsx(pn,{className:"w-4 h-4"}),fe]})})]}),c.jsxs("div",{className:"flex gap-1.5",children:[v&&c.jsx("button",{onClick:()=>Z?p(e.id):g(e.id),className:te("p-2.5 rounded-full border text-base shadow-sm transition-all",Z?"border-red-300 bg-red-50 text-red-500 dark:border-red-700/60 dark:bg-red-900/30":"border-gray-200 bg-white text-gray-400 hover:text-red-500 hover:border-red-200 dark:bg-gray-900 dark:border-gray-700"),children:c.jsx(mc,{className:te("w-5 h-5",Z&&"fill-current")})}),(y==null?void 0:y.type)==="Client"&&c.jsx("button",{onClick:()=>u(!0),className:"p-2.5 border rounded-xl transition-all duration-200 border-gray-200 bg-white text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-emerald-900/20 dark:hover:border-emerald-700",title:N.profile.addToDiary??"Adicionar ao dirio",children:c.jsx(YE,{className:"w-5 h-5"})}),le&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>o(!0),className:"p-2.5 rounded-full border border-blue-200 bg-blue-50 text-blue-500 hover:bg-blue-100 shadow-sm transition-colors dark:bg-blue-900/30 dark:border-blue-700/60 dark:hover:bg-blue-900/50",title:N.recipe.edit,children:c.jsx(tN,{className:"w-4 h-4"})}),c.jsx("button",{onClick:z,className:"p-2.5 rounded-full border border-red-200 bg-red-50 text-red-500 hover:bg-red-100 shadow-sm transition-colors dark:bg-red-900/30 dark:border-red-700/60 dark:hover:bg-red-900/50",title:N.recipe.delete,children:c.jsx(Il,{className:"w-4 h-4"})})]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-800/30",children:[c.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[c.jsx(Wa,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),c.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:N.labels.time})]}),c.jsxs("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[e.prepTime,"min"]})]}),c.jsxs("div",{className:te("p-3 rounded-lg border",e.difficulty==="easy"&&"bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-100 dark:border-emerald-800/30",e.difficulty==="medium"&&"bg-amber-50/50 dark:bg-amber-900/10 border-amber-100 dark:border-amber-800/30",e.difficulty==="hard"&&"bg-red-50/50 dark:bg-red-900/10 border-red-100 dark:border-red-800/30"),children:[c.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[c.jsx(pn,{className:te("w-4 h-4",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-amber-600 dark:text-amber-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400")}),c.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:N.labels.level})]}),c.jsx("span",{className:te("text-base font-bold capitalize",e.difficulty==="easy"&&"text-emerald-700 dark:text-emerald-300",e.difficulty==="medium"&&"text-amber-700 dark:text-amber-300",e.difficulty==="hard"&&"text-red-700 dark:text-red-300"),children:L})]}),c.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-3 rounded-lg border border-amber-100 dark:border-amber-800/30",children:[c.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[c.jsx(gn,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),c.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:N.labels.rating})]}),c.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:ze()})]})]}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/30 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:c.jsx("p",{className:"text-base text-gray-700 dark:text-gray-200 leading-relaxed",children:e.description})}),c.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-5 rounded-xl border border-emerald-100 dark:border-emerald-800/30",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40",children:c.jsx(gn,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),N.recipe.nutritionFacts]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:N.profile.nutritionGoalsnames.calories}),c.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Y(e.nutritionFacts.calories),c.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"kcal"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:N.profile.nutritionGoalsnames.protein}),c.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Y(e.nutritionFacts.protein),c.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:N.profile.nutritionGoalsnames.carbs}),c.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Y(e.nutritionFacts.carbs),c.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:N.profile.nutritionGoalsnames.fat}),c.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Y(e.nutritionFacts.fat),c.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700 col-span-2",children:[c.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:N.profile.nutritionGoalsnames.fiber}),c.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[Y(e.nutritionFacts.fiber),c.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-5 rounded-xl border border-gray-200 dark:border-gray-700",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-lg bg-emerald-50 dark:bg-emerald-900/30",children:c.jsx(Ll,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),N.recipe.instructions]}),c.jsx("ol",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:e.instructions.map((U,he)=>c.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-200 leading-relaxed",children:[c.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 text-xs font-semibold mt-0.5",children:he+1}),c.jsx("span",{className:"flex-1",children:U})]},he))})]})]})]}),c.jsxs("div",{className:"mt-10 space-y-6 border-t border-gray-100 dark:border-gray-800 pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(gn,{className:"w-5 h-5 text-yellow-400"}),N.recipe.reviews," (",e.reviews.length,")"]}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-500",children:ze()})]}),mt&&c.jsxs("form",{onSubmit:J,className:te("rounded-xl p-4 space-y-3","bg-emerald-50/80 shadow-sm ring-1 ring-emerald-100","dark:bg-gray-900/50 dark:ring-0 dark:border-l-4 dark:border-emerald-500/80"),children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:N.recipe.addReviewTitle}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-base text-gray-700 dark:text-gray-300",children:[N.recipe.rating,":"]}),[1,2,3,4,5].map(U=>c.jsx("button",{type:"button",onClick:()=>n(he=>({...he,rating:U})),className:te("text-3xl transition-colors",U<=r.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},U))]}),c.jsx("textarea",{value:r.comment,onChange:U=>n(he=>({...he,comment:U.target.value})),placeholder:N.recipe.writeReview,className:"w-full p-3 rounded-lg text-base placeholder:text-gray-500 bg-white border border-gray-300 text-gray-900 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100",rows:4,required:!0}),c.jsx("button",{type:"submit",className:"inline-flex px-5 py-2.5 bg-emerald-600 text-white text-base rounded-lg hover:bg-emerald-700 transition-colors font-semibold",children:N.recipe.submitReview})]}),s&&c.jsxs("form",{onSubmit:A,className:te("rounded-xl p-4 space-y-3","bg-blue-50/80 ring-1 ring-blue-200 shadow-sm","dark:bg-blue-900/30 dark:ring-0 dark:border dark:border-blue-700/70"),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:N.recipe.editReviewTitle}),c.jsx("button",{type:"button",onClick:()=>i(null),className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:c.jsx(fr,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-base text-gray-700 dark:text-gray-300",children:N.recipe.reviewLabel||"Avaliao:"}),[1,2,3,4,5].map(U=>c.jsx("button",{type:"button",onClick:()=>i(he=>he?{...he,rating:U}:null),className:te("text-3xl transition-colors",U<=s.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},U))]}),c.jsx("textarea",{value:s.comment,onChange:U=>i(he=>he&&{...he,comment:U.target.value}),placeholder:N.recipe.writeReview,className:"w-full p-3 rounded-lg text-base placeholder:text-gray-500 bg-white border border-gray-300 text-gray-900 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100",rows:4,required:!0}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-600 text-white text-base rounded-lg hover:bg-blue-700 transition-colors",children:N.common.save}),c.jsx("button",{type:"button",onClick:()=>i(null),className:"px-5 py-2.5 text-base rounded-lg transition-colors bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",children:N.common.cancel})]})]}),!v&&c.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400",children:N.recipe.signInToReview}),c.jsx("div",{className:"space-y-3",children:e.reviews.length===0?c.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400",children:N.recipe.noReviews}):e.reviews.map(U=>{const he=(y==null?void 0:y.id)===U.userId;return c.jsxs("div",{className:te("rounded-xl p-4 flex flex-col gap-1","bg-gray-50 shadow-sm ring-1 ring-gray-200","dark:bg-gray-900/50 dark:ring-0 dark:border dark:border-gray-800"),children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:U.userName}),c.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300",children:U.comment})]}),c.jsxs("div",{className:"flex flex-col items-end gap-2",children:[c.jsx("div",{className:"flex items-center",children:[...Array(5)].map(($r,Gt)=>c.jsx("span",{className:te("text-xl",Gt<U.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},Gt))}),he&&c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>i({id:U.id,rating:U.rating,comment:U.comment}),className:"p-1.5 rounded transition-colors text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/40",title:N.recipe.editReview,children:c.jsx(qE,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>F(U.id),className:"p-1.5 rounded transition-colors text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/40",title:N.recipe.deleteReview,children:c.jsx(Il,{className:"w-4 h-4"})})]})]})]}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:U.date})]},U.id)})})]})]})]})]})})}),l&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:c.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-5 shadow-xl dark:bg-gray-900",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:N.profile.addToDiary??"Adicionar ao dirio"}),c.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:N.profile.addToDiaryHelper??"Registre esta receita no seu dia para acompanhar as metas."})]}),c.jsx("button",{onClick:()=>u(!1),className:"rounded-lg p-2 text-gray-500 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800","aria-label":N.common.close??"Fechar",children:c.jsx(fr,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-200",children:N.profile.date??"Data"}),c.jsx("input",{type:"date",value:f,onChange:U=>m(U.target.value),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 outline-none focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-200",children:N.profile.servings??"Pores"}),c.jsx("input",{type:"number",min:.1,step:.1,value:d,onChange:U=>h(Math.max(.1,Number(U.target.value)||1)),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 outline-none focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:N.profile.perServingHint??"Os valores nutricionais so multiplicados pelas pores."})]})]}),c.jsxs("div",{className:"mt-5 flex gap-2",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-200 dark:hover:bg-gray-900",children:N.common.cancel??"Cancelar"}),c.jsxs("button",{type:"button",onClick:()=>{k(e,d,f),C(N.profile.loggedToDiary??"Adicionado ao dirio.","success"),u(!1)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700",children:[c.jsx(lr,{className:"h-4 w-4"}),N.profile.confirmAdd??"Adicionar"]})]})]})}),a&&c.jsx(U5,{recipe:e,isOpen:a,onClose:()=>o(!1)})]})}function V5(){const e=yr(),{id:t}=T_(),{recipes:r,loading:n,fetchRecipes:s}=nr(),[i,a]=b.useState(!1);b.useEffect(()=>{!i&&r.length===0?s().then(()=>a(!0)):a(!0)},[s,i,r.length]);const o=r.find(l=>l.id===parseInt(t||"0"));return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:c.jsx(rm,{size:"lg"})}):o?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx(z5,{recipe:o,onClose:()=>e("/")})})}):c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Receita no encontrada"}),c.jsx("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Voltar ao Incio"})]})})}var U0;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(U0||(U0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z0;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(z0||(z0={}));var V0;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(V0||(V0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=["user","model","function","system"];var Gl;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Gl||(Gl={}));var Wl;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Wl||(Wl={}));var H0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(H0||(H0={}));var G0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(G0||(G0={}));var oa;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(oa||(oa={}));var W0;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(W0||(W0={}));var K0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(K0||(K0={}));var q0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(q0||(q0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class ys extends at{constructor(t,r){super(t),this.response=r}}class p1 extends at{constructor(t,r,n,s){super(t),this.status=r,this.statusText=n,this.errorDetails=s}}class yn extends at{}class g1 extends at{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="https://generativelanguage.googleapis.com",H5="v1beta",G5="0.24.1",W5="genai-js";var rs;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(rs||(rs={}));class K5{constructor(t,r,n,s,i){this.model=t,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=i}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||H5;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||B5}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function q5(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${W5}/${G5}`),t.join(" ")}async function Y5(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",q5(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new yn(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,i]of n.entries()){if(s==="x-goog-api-key")throw new yn(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new yn(`Header name ${s} can only be set using the apiClient field`);r.append(s,i)}}return r}async function J5(e,t,r,n,s,i){const a=new K5(e,t,r,n,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},eM(i)),{method:"POST",headers:await Y5(a),body:s})}}async function no(e,t,r,n,s,i={},a=fetch){const{url:o,fetchOptions:l}=await J5(e,t,r,n,s,i);return Q5(o,l,a)}async function Q5(e,t,r=fetch){let n;try{n=await r(e,t)}catch(s){X5(s,e)}return n.ok||await Z5(n,e),n}function X5(e,t){let r=e;throw r.name==="AbortError"?(r=new g1(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof p1||e instanceof yn||(r=new at(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function Z5(e,t){let r="",n;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new p1(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function eM(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),sl(e.candidates[0]))throw new ys(`${Qr(e)}`,e);return tM(e)}else if(e.promptFeedback)throw new ys(`Text not available. ${Qr(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),sl(e.candidates[0]))throw new ys(`${Qr(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Y0(e)[0]}else if(e.promptFeedback)throw new ys(`Function call not available. ${Qr(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),sl(e.candidates[0]))throw new ys(`${Qr(e)}`,e);return Y0(e)}else if(e.promptFeedback)throw new ys(`Function call not available. ${Qr(e)}`,e)},e}function tM(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Y0(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const rM=[oa.RECITATION,oa.SAFETY,oa.LANGUAGE];function sl(e){return!!e.finishReason&&rM.includes(e.finishReason)}function Qr(e){var t,r,n;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const i=e.candidates[0];sl(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Oa(e){return this instanceof Oa?(this.v=e,this):new Oa(e)}function nM(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(f){n[f]&&(s[f]=function(m){return new Promise(function(y,v){i.push([f,m,y,v])>1||o(f,m)})})}function o(f,m){try{l(n[f](m))}catch(y){h(i[0][3],y)}}function l(f){f.value instanceof Oa?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){o("next",f)}function d(f){o("throw",f)}function h(f,m){f(m),i.shift(),i.length&&o(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function sM(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=oM(t),[n,s]=r.tee();return{stream:aM(n),response:iM(s)}}async function iM(e){const t=[],r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return nm(lM(t));t.push(s)}}function aM(e){return nM(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:s}=yield Oa(r.read());if(s)break;yield yield Oa(nm(n))}})}function oM(e){const t=e.getReader();return new ReadableStream({start(n){let s="";return i();function i(){return t.read().then(({value:a,done:o})=>{if(o){if(s.trim()){n.error(new at("Failed to parse stream"));return}n.close();return}s+=a;let l=s.match(J0),u;for(;l;){try{u=JSON.parse(l[1])}catch{n.error(new at(`Error parsing JSON response: "${l[1]}"`));return}n.enqueue(u),s=s.substring(l[0].length),l=s.match(J0)}return i()}).catch(a=>{let o=a;throw o.stack=a.stack,o.name==="AbortError"?o=new g1("Request aborted when reading from the stream"):o=new at("Error reading from the stream"),o})}}})}function lM(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let s=0;for(const i of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=i.citationMetadata,r.candidates[s].groundingMetadata=i.groundingMetadata,r.candidates[s].finishReason=i.finishReason,r.candidates[s].finishMessage=i.finishMessage,r.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[s].content||(r.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const o of i.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[s].content.parts.push(a)}s++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(e,t,r,n){const s=await no(t,rs.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return sM(s)}async function v1(e,t,r,n){const i=await(await no(t,rs.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:nm(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Fa(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return cM(t)}function cM(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const i of e)"functionResponse"in i?(r.parts.push(i),s=!0):(t.parts.push(i),n=!0);if(n&&s)throw new at("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new at("No content is provided for sending chat message.");return n?t:r}function uM(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new yn("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const i=Fa(e);n.contents=[i]}return{generateContentRequest:n}}function Q0(e){let t;return e.contents?t=e:t={contents:[Fa(e)]},e.systemInstruction&&(t.systemInstruction=x1(e.systemInstruction)),t}function dM(e){return typeof e=="string"||Array.isArray(e)?{content:Fa(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],hM={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function fM(e){let t=!1;for(const r of e){const{role:n,parts:s}=r;if(!t&&n!=="user")throw new at(`First content should be with role 'user', got ${n}`);if(!B0.includes(n))throw new at(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(B0)}`);if(!Array.isArray(s))throw new at("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new at("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of s)for(const l of X0)l in o&&(i[l]+=1);const a=hM[n];for(const o of X0)if(!a.includes(o)&&i[o]>0)throw new at(`Content with role '${n}' can't contain '${o}' part`);t=!0}}function Z0(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="SILENT_ERROR";class mM{constructor(t,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(fM(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,s,i,a,o,l;await this._sendPromise;const u=Fa(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r);let f;return this._sendPromise=this._sendPromise.then(()=>v1(this._apiKey,this.model,d,h)).then(m=>{var y;if(Z0(m.response)){this._history.push(u);const v=Object.assign({parts:[],role:"model"},(y=m.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(v)}else{const v=Qr(m.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}f=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,f}async sendMessageStream(t,r={}){var n,s,i,a,o,l;await this._sendPromise;const u=Fa(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r),f=y1(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(m=>{throw new Error(ey)}).then(m=>m.response).then(m=>{if(Z0(m)){this._history.push(u);const y=Object.assign({},m.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=Qr(m);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(m=>{m.message!==ey&&console.error(m)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(e,t,r,n){return(await no(t,rs.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(e,t,r,n){return(await no(t,rs.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function yM(e,t,r,n){const s=r.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await no(t,rs.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=x1(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const s=Q0(t),i=Object.assign(Object.assign({},this._requestOptions),r);return v1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}async generateContentStream(t,r={}){var n;const s=Q0(t),i=Object.assign(Object.assign({},this._requestOptions),r);return y1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}startChat(t){var r;return new mM(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=uM(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return pM(this.apiKey,this.model,n,s)}async embedContent(t,r={}){const n=dM(t),s=Object.assign(Object.assign({},this._requestOptions),r);return gM(this.apiKey,this.model,n,s)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return yM(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new at("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new ty(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new yn("Cached content must contain a `name` field.");if(!t.model)throw new yn("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(r!=null&&r[a]&&t[a]&&(r==null?void 0:r[a])!==t[a]){if(a==="model"){const o=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===l)continue}throw new yn(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${t[a]})`)}const i=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new ty(this.apiKey,i,n)}}const xM="gemini-2.5-flash",wM=10,w1="AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",bM=new vM(w1);async function ry(e,t,r=[]){var n;try{const s=kM(t),i=SM(r,t),u=(await bM.getGenerativeModel({model:xM,systemInstruction:{role:"system",parts:[{text:s}]},safetySettings:[{category:Gl.HARM_CATEGORY_HARASSMENT,threshold:Wl.BLOCK_MEDIUM_AND_ABOVE},{category:Gl.HARM_CATEGORY_HATE_SPEECH,threshold:Wl.BLOCK_MEDIUM_AND_ABOVE}]}).startChat({history:i}).sendMessage(e)).response;return{content:(((n=u==null?void 0:u.text)==null?void 0:n.call(u))||"").trim()||"Oi! Como posso te ajudar hoje? Posso sugerir receitas por dificuldade (easy/medium/hard), tempo (ex.: at 30 min) e avaliao (ex.: 4.5+ )."}}catch(s){console.error("Erro ao chamar a API do Gemini:",s);let i="Desculpe, ocorreu um erro ao tentar processar sua solicitao. Tente novamente em alguns instantes.";return s instanceof Error&&(s.message.includes("API_KEY")?i="Erro de configurao da IA. Entre em contato com o suporte.":s.message.includes("quota")?i="Limite de uso da IA atingido. Tente novamente mais tarde.":(s.message.includes("network")||s.message.includes("fetch"))&&(i="Erro de conexo. Verifique sua internet e tente novamente.")),{content:i,error:s instanceof Error?s.message:"Unknown error"}}}function kM(e){return`
Voc  NutriBot, um assistente virtual geral do site NutriChefe.

Papel:
- Responder a QUALQUER pergunta do usurio (receitas, nutrio, treino/alimentao, curiosidades ou at que dia  hoje?).
- Quando a pergunta envolver receitas (fcil/medium/hard, vegana etc.), o backend aplica filtros e envia os cards; voc pode responder curto e encorajar refinamentos.
- Quando envolver metas nutricionais (emagrecimento, ganho de massa, definio etc.), oferea recomendaes prticas e seguras.

Estilo:
- Tom humano, acolhedor e objetivo. Sem texto robtico.
- Prefira listas curtas e exemplos prticos.
- Se algo estiver ambguo, faa no mximo 1 pergunta curta para destravar.

Boas prticas para nutrio:
- Emagrecimento: foco em dficit calrico sustentvel, protenas, fibras, hidratao e movimento dirio; evitar ultraprocessados e bebidas aucaradas.
- Ganho de massa: supervit leve, 1,62,2 g/kg/dia de protena distribuda, carboidratos suficientes para treino, sono e consistncia.
- Sempre adaptao  realidade do usurio; evite prescries fechadas.

Regras:
1) Orientao educativa  para plano individual, recomende consultar nutricionista.
2) No faa diagnstico mdico.
3) Responda em PT-BR por padro.
4) Mapeie dificuldade: fcil/fceiseasy, mdio/mdiamedium, difcil/difceishard (tambm em EN).
5) Se perguntarem a data/hora, use o contexto: hoje  ${new Intl.DateTimeFormat("pt-BR",{dateStyle:"full",timeStyle:"short",timeZone:"America/Sao_Paulo"}).format(new Date)} (America/Sao_Paulo).
  `.trim()}function SM(e,t){return e.slice(-wM).map(r=>({role:r.sender_type==="user"?"user":"model",parts:[{text:r.content}]}))}function jM(){return w1!=="your-api-key-here"}const _M={easy:["fcil","facil","fceis","faceis","facinha","facinho","facinhas","facinhos","simples","iniciante","tranquila","descomplicada","easy","simple","beginner","quick"],medium:["mdio","medio","intermedirio","intermediario","mdia","mediana","medium","average","intermediate","normal"],hard:["difcil","dificil","difceis","dificeis","avanado","avancado","complexo","trabalhosa","desafiadora","hard","difficult","advanced","complex","challenging"]},b1=["Vegana","Baixo Carboidrato","Rica em Protena","Sem Glten","Vegetariana"],k1={Vegana:["vegana","vegano","vegan"],"Baixo Carboidrato":["baixo carboidrato","low carb","pouco carbo","baixo carb","lowcarb"],"Rica em Protena":["rica em protena","muita proteina","alta protena","alto teor proteico","proteica","proteinado","protein rich","high protein"],"Sem Glten":["sem glten","sem gluten","gluten free","sg","livre de glten"],Vegetariana:["vegetariana","vegetariano","veggie","ovo-lacto","ovolacto","vegetarian"]},ny={vegan:"Vegana",vegetarian:"Vegetariana","gluten-free":"Sem Glten","gluten free":"Sem Glten","low carb":"Baixo Carboidrato","low-carb":"Baixo Carboidrato","high protein":"Rica em Protena","protein rich":"Rica em Protena"},sy=/(\d+(?:[.,]\d+)?)/,EM=new Set(["receita","receitas","quero","queria","gostaria","me","mostra","mostrar","mostre","traga","trazer","uma","umas","um","uns","de","do","da","no","na","em","pra","para","por","a","o","as","os","ai","ia","porfavor","por","favor"]);function NM(e){const t=e.replace(/-/g,"").slice(0,8);return parseInt(t,16)}function CM(e){return e==null?"":typeof e=="string"?e:String(e)}function er(e){return CM(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim()}function ah(e){return e==null||Number.isNaN(e)?0:Math.round(Number(e)*10)/10}function TM(e){if(!(e!=null&&e.length))return 0;const t=e.reduce((r,n)=>r+(n.rating??0),0)/e.length;return ah(t)}function RM(e){const t=(typeof e.rating=="number"?e.rating:TM(e.reviews))||0;return{id:NM(e.id),title:e.title,description:e.description,author:e.author_name||"NutriChefe",rating:t}}function S1(e){const t=er(e).trim();if(ny[t])return ny[t];for(const r of b1)if(k1[r].map(er).some(s=>t===s||t.includes(s)||s.includes(t)))return r;return null}function PM(e){const t=er(e);return t==="easy"||t==="medium"||t==="hard"?t:/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||t.includes("simples")?"easy":/\bmedi/.test(t)?"medium":/\bdific/.test(t)||/\bhard\b/.test(t)||/\bdifficult\b/.test(t)?"hard":"medium"}function AM(e){const t=e.match(/\b(top|s[o]|somente|apenas|mostrar|mostra|traga|trazer)?\s*(\d{1,3})\b/);if(!t)return;const r=parseInt(t[2],10);if(!(!Number.isFinite(r)||r<=0))return Math.min(r,100)}function MM(e){if(/\b(nota|avalia|melhores|melhor|maior(es)? nota|rank|mais bem avaliadas?)\b/.test(e))return"rating";if(/\btempo|rapidez|mais r[a]pidas?|r[a]pido(s)? primeiro\b/.test(e))return"prepTime";if(/\bnovo(s)?|recent(es)?|mais recente(s)?\b/.test(e))return"newest"}function IM(e){const t=er(e).split(/\s+/).filter(Boolean).filter(r=>!EM.has(r)).join(" ").trim();if(!(!t||t.length<=2))return t}function LM(e){const t=er(e),r={};for(const a of b1)if(k1[a].map(er).some(l=>t.includes(l))){r.category=a;break}for(const[a,o]of Object.entries(_M))if(o.some(l=>t.includes(er(l)))){r.difficulty=a;break}r.difficulty||(/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||/\beasy\b|\bsimple\b/.test(t)?r.difficulty="easy":/\bm[e]di[oa]\b|\bmedium\b/.test(t)?r.difficulty="medium":/\bdific(?:eis|il)\b|\bhard\b|\bdifficult\b/.test(t)&&(r.difficulty="hard")),(/\br[a]pid[oa]s?\b/.test(t)||/\b<=?\s*15\b/.test(t))&&(r.maxPrep=15),(/\bm[e]di[oa]\b/.test(t)||/\b<=?\s*30\b/.test(t))&&(r.maxPrep=r.maxPrep??30),/\blongo?s?\b|\b>?\s*30\b/.test(t)&&(r.minPrep=31);const n=t.match(new RegExp(`\\b(em|ate|at|<=?)\\s*${sy.source}\\s*(min|mins|minutos)\\b`));if(n){const a=parseFloat(n[2].replace(",","."));isNaN(a)||(r.maxPrep=Math.min(r.maxPrep??1/0,a))}const s=t.match(new RegExp(`${sy.source}\\s*(\\+|mais)?\\s*(\\*|estrela|estrelas)?`));if(s){const a=parseFloat(s[1].replace(",","."));!isNaN(a)&&a>=0&&a<=5&&(/\+|mais/.test(s[2]||"")||/estrela|\*/.test(s[3]||""))&&(r.minRating=a)}/\b4\+\b/.test(t)&&(r.minRating=Math.max(r.minRating??0,4)),/\b4[.,]5\+\b/.test(t)&&(r.minRating=Math.max(r.minRating??0,4.5)),/\b5\s*(\*|estrelas?)?\b/.test(t)&&(r.minRating=5),/\btod[ao]s?\b|\bqualquer\b/.test(t)&&(r.wantAll=!0),r.limit=AM(t)??void 0,r.sort=MM(t)??void 0,r.hasStructuredFilter=!!(r.category||r.difficulty||r.maxPrep||r.minPrep||r.minRating);const i=IM(e);return!r.hasStructuredFilter&&i&&(r.plainSearch=i),r}async function DM(){const{data:e,error:t}=await ee.from("recipes").select("id, title, description, image, prep_time, difficulty, category, rating, nutrition_facts, author_id, created_at, updated_at");if(t)throw t;const r=e||[];if(r.length===0)return[];const n=Array.from(new Set(r.map(u=>u.author_id).filter(Boolean)));let s={};if(n.length>0){const{data:u}=await ee.from("profiles").select("id, full_name").in("id",n);u&&(s=Object.fromEntries(u.map(d=>[d.id,d.full_name||"NutriChefe"])))}const i=r.map(u=>u.id),{data:a}=await ee.from("reviews").select("recipe_id, rating").in("recipe_id",i),o={};if(a&&a.length)for(const u of a)o[u.recipe_id]||(o[u.recipe_id]={sum:0,count:0}),o[u.recipe_id].sum+=u.rating??0,o[u.recipe_id].count+=1;return r.map(u=>{const d=o[u.id];let h=null;if(d&&d.count>0)h=ah(d.sum/d.count);else if(u.rating!==null&&u.rating!==void 0){const m=Number(u.rating);h=Number.isFinite(m)&&m>0?ah(m):null}const f=S1(u.category)??u.category;return{id:u.id,title:u.title,description:u.description,image:u.image,prep_time:u.prep_time,difficulty:PM(u.difficulty),category:f,rating:h,author_id:u.author_id,author_name:u.author_id&&s[u.author_id]?s[u.author_id]:"NutriChefe",nutrition_facts:u.nutrition_facts||null,reviews:[],created_at:u.created_at,updated_at:u.updated_at}})}function j1(e,t){let r=e.slice();if(t.category&&(r=r.filter(n=>(S1(n.category)??n.category)===t.category)),t.difficulty&&(r=r.filter(n=>n.difficulty===t.difficulty)),typeof t.maxPrep=="number"&&(r=r.filter(n=>n.prep_time<=t.maxPrep)),typeof t.minPrep=="number"&&(r=r.filter(n=>n.prep_time>=t.minPrep)),typeof t.minRating=="number"&&(r=r.filter(n=>(typeof n.rating=="number"?n.rating:0)>=t.minRating)),t.plainSearch){const n=er(t.plainSearch);r=r.filter(s=>er(s.title).includes(n)||er(s.description||"").includes(n))}return r}function OM(e,t){const r=e.slice();return t==="prepTime"?r.sort((n,s)=>n.prep_time-s.prep_time||(s.rating??0)-(n.rating??0)):t==="newest"?r.sort((n,s)=>new Date(s.created_at||0).getTime()-new Date(n.created_at||0).getTime()):r.sort((n,s)=>{const i=n.rating??0,a=s.rating??0;return a!==i?a-i:n.prep_time-s.prep_time}),r}function FM(e,t=12){return e.slice(0,t).map(RM)}function $M(e,t){const r=[n=>{typeof n.minRating=="number"&&delete n.minRating},n=>{typeof n.maxPrep=="number"&&delete n.maxPrep},n=>{n.category&&delete n.category},n=>{n.difficulty&&delete n.difficulty}];for(const n of r){const s={...t};n(s);const i=j1(e,s);if(i.length>0)return{list:i}}return{list:e.slice()}}function UM(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Math.abs(t)}function Du(e,t=0){if(!e.length)return e[0];const r=t%e.length;return e[r]}function zM(e){const t=e.filter(Boolean);return t.length===0?"":t.length===1?t[0]:t.length===2?`${t[0]} e ${t[1]}`:`${t.slice(0,-1).join(", ")} e ${t[t.length-1]}`}function VM(e,t){const{f0:r,shown:n,matchedExactly:s,sortKey:i}=t,a=UM(e),o=[];r.category&&o.push(r.category),r.difficulty&&o.push(r.difficulty==="easy"?"fceis":r.difficulty==="medium"?"mdias":"difceis"),typeof r.maxPrep=="number"&&o.push(`at ${r.maxPrep} min`),typeof r.minRating=="number"&&o.push(`${r.minRating}+ `),i==="prepTime"&&o.push("mais rpidas primeiro"),i==="newest"&&o.push("mais recentes"),i==="rating"&&o.push("bem avaliadas");const l=zM(o),u=typeof r.limit=="number",d=[`Separei estas ${l?`**${l}**`:"opes"} pra voc:`,`Olha s algumas ideias ${l?`**${l}**`:""}:`,`Que tal comear por estas ${l?`**${l}**`:"sugestes"}:`],h=["Separei algumas das favoritas do pessoal:","Aqui vo algumas ideias legais do nosso acervo:","Peguei algumas sugestes que costumam agradar:"],y=[!!r.difficulty&&!r.category&&typeof r.maxPrep!="number"&&typeof r.minPrep!="number"&&typeof r.minRating!="number"||r.category||r.maxPrep||r.minRating||i?Du(d,a):Du(h,a)];if(u?y.push(n<(r.limit??n)?`Consegui **${n}** no momento.`:`Mostrando **${n}** como voc pediu.`):!r.hasStructuredFilter&&!r.plainSearch&&y.push(`Mostrando ${n}.`),!s&&n>0&&!u){const v=["Ajustei um pouquinho os critrios pra ampliar as ideias.","Dei uma flexionada nos filtros pra te trazer opes parecidas.","Expandi levemente os critrios pra no te deixar na mo."];y.push(Du(v,a))}return y.join(`
`)}async function iy(e){const t=LM(e),r=await DM();let s=j1(r,t),i=s.length>0;s.length===0&&(s=$M(r,t).list,i=!1);const a=!t.hasStructuredFilter&&!t.plainSearch;let o=t.sort??(a?"rating":void 0);!t.sort&&t.difficulty==="easy"&&(o="prepTime"),!t.sort&&t.difficulty==="hard"&&(o="rating");const l=t.limit??(t.wantAll?100:12),u=OM(s,o),d=FM(u,l);return d.length===0?{content:"No pintou nada com esses critrios. Quer tentar vegana fcil, rpida 4.5+ ou sem glten em 15 min?",recipes:[],suggestions:["receitas fceis","vegana rpida","rica em protena 5"]}:{content:VM(e,{f0:t,shown:d.length,total:s.length,matchedExactly:i,sortKey:o}),recipes:d,suggestions:d.length<5?["receitas rpidas","vegana fcil","5 "]:[]}}async function ay(e){const{data:t,error:r}=await ee.from("ai_configurations").select("*").eq("nutritionist_id",e).single();if(r&&r.code!=="PGRST116")throw r;return t}async function BM(e){const{data:t,error:r}=await ee.from("ai_configurations").insert([e]).select().single();if(r)throw r;return t}async function HM(e,t){const{data:r,error:n}=await ee.from("ai_configurations").update(t).eq("id",e).select().single();if(n)throw n;return r}async function GM(e){let t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{throw new Error("createAIConversation: payload invlido (string no  JSON)")}const r={client_id:t.client_id,nutritionist_id:t.nutritionist_id??null,ai_config_id:t.ai_config_id??null,title:t.title??"Nova conversa com IA",is_active:t.is_active??!0},{data:n,error:s}=await ee.from("ai_conversations").insert([r]).select("*").single();if(s)throw s;return n}async function WM(e){const{data:t,error:r}=await ee.from("ai_conversations").select("*").eq("client_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function KM(e){const{data:t,error:r}=await ee.from("ai_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return t||[]}async function oy(e){const{data:t,error:r}=await ee.from("ai_messages").insert([e]).select().single();if(r)throw r;return t}function qM(e){const t=er(e);return/\bemagrec|perder peso|perda de gordura|defini[c][a]o|definir|secar\b/.test(t)||/\bganhar massa|hipertrof|massa magra|bulking|volume\b/.test(t)}async function YM(e,t,r){let n="";typeof e=="string"?n=e:e&&typeof e=="object"&&"content"in e&&(n=String(e.content));const s=n.toLowerCase(),i=/\breceit|\bprato|\bingredient|\bvegana|\bgluten|\bcarbo|\bprote[i]na|\bfac(eis|il)|\bhard\b|\bdifficult\b|\bmedium\b/.test(s),a=qM(n);if(i&&a){const[l,u]=await Promise.all([iy(n),ry(`Contexto: o usurio quer sugestes voltadas para objetivo corporal/nutricional.
Pergunta: "${n}"
Responda de forma direta e til, em 35 bullets, incluindo:
- princpios prticos para o objetivo (emagrecer/ganhar massa);
- 24 ideias de refeies;
- lembrete curto de consultar nutricionista para plano individual.`)]);return{content:`${u.content}

${l.content}`,recipes:l.recipes,suggestions:l.suggestions}}return i?iy(n):{content:(await ry(n)).content,recipes:[],suggestions:[]}}const JM=Fr((e,t)=>({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null,fetchAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await ay(r);e({aiConfig:n,loading:!1})}catch(n){console.error("Error fetching AI configuration:",n);const s=n instanceof Error?n.message:"Erro ao carregar configurao da IA";e({error:s,loading:!1})}},createAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await BM(r);e({aiConfig:n,loading:!1}),se.getState().showToast("Configurao da IA criada com sucesso!","success")}catch(n){console.error("Error creating AI configuration:",n);const s=n instanceof Error?n.message:"Erro ao criar configurao da IA";throw e({error:s,loading:!1}),se.getState().showToast("Erro ao criar configurao da IA","error"),n}},updateAIConfiguration:async(r,n)=>{e({loading:!0,error:null});try{const s=await HM(r,n);e({aiConfig:s,loading:!1}),se.getState().showToast("Configurao da IA atualizada com sucesso!","success")}catch(s){console.error("Error updating AI configuration:",s);const i=s instanceof Error?s.message:"Erro ao atualizar configurao da IA";throw e({error:i,loading:!1}),se.getState().showToast("Erro ao atualizar configurao da IA","error"),s}},fetchConversations:async r=>{e({loading:!0,error:null});try{const n=await WM(r);e({conversations:n,loading:!1})}catch(n){console.error("Error fetching conversations:",n);const s=n instanceof Error?n.message:"Erro ao carregar conversas";e({error:s,loading:!1})}},createConversation:async(r,n)=>{e({loading:!0,error:null});try{let s=null;if(n){const a=await ay(n);s=(a==null?void 0:a.id)||null}const i=await GM({client_id:r,nutritionist_id:n,ai_config_id:s,title:"Nova conversa com IA",is_active:!0});return e(a=>({conversations:[i,...a.conversations],currentConversation:i,loading:!1})),i}catch(s){console.error("Error creating conversation:",s);const i=s instanceof Error?s.message:"Erro ao criar conversa";throw e({error:i,loading:!1}),se.getState().showToast("Erro ao criar conversa","error"),s}},setCurrentConversation:r=>{e({currentConversation:r,messages:[]}),r&&t().fetchMessages(r.id)},fetchMessages:async r=>{e({loading:!0,error:null});try{const n=await KM(r);e({messages:n,loading:!1})}catch(n){console.error("Error fetching messages:",n);const s=n instanceof Error?n.message:"Erro ao carregar mensagens";e({error:s,loading:!1})}},sendMessage:async(r,n)=>{const{currentConversation:s}=t();if(s){e({sendingMessage:!0,error:null});try{const i=await oy({conversation_id:r,sender_type:"user",content:n,metadata:{}});e(u=>({messages:[...u.messages,i]}));let a=t().aiConfig;if(!a&&s.ai_config_id){const{data:u}=await ee.from("ai_configurations").select("*").eq("id",s.ai_config_id).single();a=u}const o=await YM(n,a||{id:"default",nutritionist_id:"default",ai_name:"NutriBot",personality:"empathetic",custom_instructions:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t().messages),l=await oy({conversation_id:r,sender_type:"ai",content:o.content,metadata:{recipes:o.recipes,suggestions:o.suggestions}});e(u=>({messages:[...u.messages,l],sendingMessage:!1}))}catch(i){console.error("Error sending message:",i);const a=i instanceof Error?i.message:"Erro ao enviar mensagem";e({error:a,sendingMessage:!1}),se.getState().showToast("Erro ao enviar mensagem","error")}}},clearError:()=>e({error:null}),reset:()=>e({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null})}));function QM(){var x;const{user:e}=qe(),{conversations:t,currentConversation:r,messages:n,sendingMessage:s,createConversation:i,setCurrentConversation:a,sendMessage:o,fetchMessages:l}=JM(),[u,d]=b.useState(""),h=b.useRef(null),f=b.useRef(null),m=Me(),y=jM();b.useEffect(()=>{var j;(j=h.current)==null||j.scrollIntoView({behavior:"smooth"})},[n]),b.useEffect(()=>{!s&&f.current&&f.current.focus()},[s]);const v=async()=>{if(e)try{const j=await i(e.id);a(j)}catch(j){console.error("Error starting conversation:",j)}},w=async j=>{if(j.preventDefault(),!u.trim()||!r||s)return;const S=u.trim();d("");try{await o(r.id,S)}catch(T){console.error("Error sending message:",T),d(S)}},g=j=>j.split(`
`).map((S,T)=>{if(S.startsWith("# "))return c.jsx("h3",{className:"text-lg font-bold mt-4 mb-2",children:S.substring(2)},T);if(S.startsWith("## "))return c.jsx("h4",{className:"text-md font-semibold mt-3 mb-1",children:S.substring(3)},T);if(S.startsWith("- ")||S.startsWith(" "))return c.jsxs("div",{className:"flex items-start gap-2 my-1",children:[c.jsx("span",{className:"text-purple-500 mt-1",children:""}),c.jsx("span",{children:S.substring(2)})]},T);const k=S.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return S.trim()?c.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:k}},T):c.jsx("br",{},T)}),p=j=>c.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-purple-200 dark:border-purple-700 mt-3",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(pn,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:j.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:j.description}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(ti,{className:"w-3 h-3"}),j.author]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(gn,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),j.rating>0?j.rating.toFixed(1):m.recipe.noReviews]})]})]})]})});return r?c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:c.jsx(Gn,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white",children:((x=r.ai_config)==null?void 0:x.ai_name)||"NutriBot"}),c.jsx("p",{className:"text-purple-100 text-sm",children:m.aiChat.headerSubtitle})]})]})}),c.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[c.jsx(Qa,{children:n.map(j=>{var S;return c.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:te("flex gap-3",j.sender_type==="user"?"justify-end":"justify-start"),children:[j.sender_type==="ai"&&c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex-shrink-0",children:c.jsx(Gn,{className:"w-4 h-4 text-white"})}),c.jsxs("div",{className:te("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",j.sender_type==="user"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"),children:[c.jsx("div",{className:"text-sm",children:g(j.content)}),((S=j.metadata)==null?void 0:S.recipes)&&j.metadata.recipes.length>0&&c.jsx("div",{className:"mt-3 space-y-2",children:j.metadata.recipes.map((T,k)=>p(T))}),c.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(j.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),j.sender_type==="user"&&c.jsx("div",{className:"p-2 bg-green-600 rounded-full flex-shrink-0",children:c.jsx(ti,{className:"w-4 h-4 text-white"})})]},j.id)})}),s&&c.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full",children:c.jsx(Gn,{className:"w-4 h-4 text-white"})}),c.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rm,{size:"sm"}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.typing})]})})]}),c.jsx("div",{ref:h})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[c.jsxs("form",{onSubmit:w,className:"flex gap-3",children:[c.jsx("input",{ref:f,type:"text",value:u,onChange:j=>d(j.target.value),placeholder:m.aiChat.inputPlaceholder,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",disabled:s}),c.jsx(oe.button,{type:"submit",disabled:!u.trim()||s,className:te("px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",!u.trim()||s?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700"),whileHover:!s&&u.trim()?{scale:1.05}:{},whileTap:!s&&u.trim()?{scale:.95}:{},children:s?c.jsx(Ta,{className:"w-4 h-4 animate-spin"}):c.jsx(QE,{className:"w-4 h-4"})})]}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:[m.aiChat.disclaimer,!y]})]})]})}):c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:c.jsx(Gn,{className:"w-12 h-12 text-white"})}),c.jsx(oe.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1",children:c.jsx(tw,{className:"w-6 h-6 text-yellow-500"})})]})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:m.aiChat.welcomeTitle}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:m.aiChat.welcomeDescription}),!y,c.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:m.aiChat.examples.recipesTitle}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.recipesExample})]}),c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:m.aiChat.examples.tipsTitle}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.tipsExample})]}),c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-green-700 dark:text-green-300 mb-2",children:m.aiChat.examples.helpTitle}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.helpExample})]})]}),c.jsxs(oe.button,{onClick:v,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 mx-auto",whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.jsx(ew,{className:"w-5 h-5"}),m.aiChat.startConversationButton]})]})})}const XM="price_1S8hUJRvfweGXYGcPyJ9VAR9",ZM=19.9;function e3(){const e=Me(),{showToast:t}=se(),[r,n]=b.useState([]),[s,i]=b.useState(!1),[a,o]=b.useState(null);b.useEffect(()=>{ee.auth.getUser().then(({data:v})=>o(v.user?{id:v.user.id}:null));const{data:y}=ee.auth.onAuthStateChange((v,w)=>{o(w!=null&&w.user?{id:w.user.id}:null)});return()=>{var v,w;(w=(v=y==null?void 0:y.subscription)==null?void 0:v.unsubscribe)==null||w.call(v)}},[]),b.useEffect(()=>{$w().then(y=>n(y||[])).catch(y=>{console.error(y),t(e.premium.loadPlansError)})},[t,e.premium.loadPlansError]);const l=b.useMemo(()=>r.find(y=>y.stripe_price_id)??r[0]??null,[r]),u=l&&typeof l.price=="number"&&l.price>0?l.price:ZM,d=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),h=(l==null?void 0:l.billing_period)||"monthly",f=[{icon:c.jsx(Gn,{className:"w-5 h-5"}),title:e.premium.features.mentoringUnlimitedTitle,description:e.premium.features.mentoringUnlimitedDescription},{icon:c.jsx(ew,{className:"w-5 h-5"}),title:e.premium.features.personalizedConsultationsTitle,description:e.premium.features.personalizedConsultationsDescription},{icon:c.jsx(gn,{className:"w-5 h-5"}),title:e.premium.features.smartRecommendationsTitle,description:e.premium.features.smartRecommendationsDescription},{icon:c.jsx(iN,{className:"w-5 h-5"}),title:e.premium.features.prioritySupportTitle,description:e.premium.features.prioritySupportDescription}],m=async()=>{try{if(i(!0),!a){t(e.premium.loginRequired),window.location.href="/login";return}const y=(l==null?void 0:l.stripe_price_id)||XM;await VT({planId:l==null?void 0:l.id,priceId:y})}catch(y){console.error(y),t((y==null?void 0:y.message)||e.premium.checkoutErrorGeneric)}finally{i(!1)}};return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-2xl p-8 text-center border border-purple-200 dark:border-purple-700",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:c.jsx(fu,{className:"w-12 h-12 text-white"})}),c.jsx(oe.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:c.jsx(tw,{className:"w-6 h-6 text-yellow-500"})})]})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e.premium.title}),c.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:[e.premium.descriptionPrefix,c.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:e.premium.planName}),e.premium.descriptionSuffix]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 mb-8 border border-purple-200 dark:border-purple-700",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(fu,{className:"w-6 h-6 text-purple-600"}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.premium.planName})]}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("span",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400",children:d}),c.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["/ ",h==="monthly"?e.premium.perMonthLabel:h]})]}),c.jsx("div",{className:"rounded-xl border border-purple-100 dark:border-purple-900/40 bg-white/70 dark:bg-white/5 backdrop-blur p-4 md:p-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(lr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.accessNutritionists})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(lr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.whatsappDirect})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(lr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.personalizedGoals})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(lr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.mealPlans})]})]}),c.jsx("div",{className:"md:pl-6 md:border-l md:border-purple-200/60 dark:md:border-purple-900/40",children:c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(lr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.weeklyFollowup})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(lr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.progressReports})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(lr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.premiumRecipes})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(lr,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.vipCommunity})]})]})})]})}),c.jsxs(oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:s,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(fu,{className:"w-5 h-5"}),s?e.premium.ctaLoading:e.premium.ctaSubscribe]})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-2",children:f.map((y,v)=>c.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"flex items-start gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg text-white",children:y.icon}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:y.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.description})]})]},v))}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.premium.footerNote})]})})}function t3({onBack:e}){const{user:t,isNutritionist:r}=qe(),{hasFeatureAccess:n}=Uw(),s=Me(),i=t&&(r()||n("ai_mentoring"));return c.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("button",{onClick:e,className:`
          mb-8 inline-flex items-center gap-2
          text-green-600 dark:text-green-400
          hover:text-green-700 dark:hover:text-green-300
          font-medium text-lg
          group
        `,children:[c.jsx(Jx,{className:`
            w-6 h-6 transition-transform duration-200
            group-hover:-translate-x-1
          `}),c.jsx("span",{className:"tracking-wide",children:s.common.back})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 md:p-8",children:i?c.jsx(QM,{}):c.jsx(e3,{})})]})}function r3(){const e=yr();return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx(t3,{onBack:()=>e("/")})})})}function n3(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(!1),[a,o]=b.useState(!1),[l,u]=b.useState(!1),[d,h]=b.useState(!0),[f,m]=b.useState("idle"),[y,v]=b.useState(""),[w,g]=b.useState(!1);b.useEffect(()=>{(async()=>{try{console.log("Checking recovery token..."),(await $T()).valid?(console.log("Valid recovery token found"),g(!0)):(m("error"),v("Link de recuperao invlido ou expirado. Solicite um novo link."),g(!1))}catch(N){console.error("Token validation error:",N),m("error"),v("Erro ao validar link de recuperao. Tente novamente."),g(!1)}finally{h(!1)}})()},[]);const p=C=>{const N=[];return C.length<6&&N.push("A senha deve ter pelo menos 6 caracteres"),/(?=.*[a-z])/.test(C)||N.push("A senha deve conter pelo menos uma letra minscula"),/(?=.*[A-Z])/.test(C)||N.push("A senha deve conter pelo menos uma letra maiscula"),/(?=.*\d)/.test(C)||N.push("A senha deve conter pelo menos um nmero"),N},x=async C=>{C.preventDefault(),u(!0),v("");const N=p(e);if(N.length>0){v(N[0]),u(!1);return}if(e!==r){v("As senhas no coincidem"),u(!1);return}try{console.log("Updating password..."),await FT(e),console.log("Password updated successfully"),m("success"),setTimeout(async()=>{await ee.auth.signOut(),setTimeout(()=>{window.location.href="/"},3e3)},1e3)}catch(P){console.error("Password reset error:",P),v(P.message||"Erro inesperado. Tente novamente."),m("error")}finally{u(!1)}},S=(C=>{let N=0;return C.length>=6&&N++,C.match(/[a-z]/)&&N++,C.match(/[A-Z]/)&&N++,C.match(/[0-9]/)&&N++,C.match(/[^a-zA-Z0-9]/)&&N++,N})(e),T=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"],k=["Muito fraca","Fraca","Regular","Boa","Forte"];return d?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx(Ta,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-green-600"}),c.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Verificando link de recuperao..."}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto validamos seu link de recuperao."})]})}):f==="success"?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:c.jsx(hf,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Senha redefinida com sucesso!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua senha foi alterada com sucesso. Voc ser redirecionado para a pgina de login em alguns segundos."}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:c.jsx(oe.div,{className:"bg-green-600 h-2 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:3}})}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Ir para login agora"})]})}):f==="error"||!w?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:c.jsx(df,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Link invlido ou expirado"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:y||"Este link de recuperao  invlido ou expirou. Solicite um novo link de recuperao."}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Voltar ao login"})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(GE,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Nova senha"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite sua nova senha segura"})]})]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(eN,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Dicas para uma senha segura:"}),c.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[c.jsx("li",{children:" Pelo menos 6 caracteres"}),c.jsx("li",{children:" Combine letras maisculas e minsculas"}),c.jsx("li",{children:" Inclua nmeros e smbolos"}),c.jsx("li",{children:" Evite informaes pessoais"})]})]})]})}),c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:s?"text":"password",id:"password",value:e,onChange:C=>t(C.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite sua nova senha",required:!0,disabled:l}),c.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:s?c.jsx(Qp,{className:"w-5 h-5"}):c.jsx(Xp,{className:"w-5 h-5"})})]}),e&&c.jsx("div",{className:"mt-2",children:c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:te("h-2 rounded-full transition-all duration-300",T[Math.max(0,S-1)]),style:{width:`${S/5*100}%`}})}),c.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:k[Math.max(0,S-1)]})]})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:a?"text":"password",id:"confirmPassword",value:r,onChange:C=>n(C.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirme sua nova senha",required:!0,disabled:l}),c.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:a?c.jsx(Qp,{className:"w-5 h-5"}):c.jsx(Xp,{className:"w-5 h-5"})})]}),r&&e!==r&&c.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"As senhas no coincidem"})]}),y&&c.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:y})}),c.jsxs("button",{type:"submit",disabled:l||e!==r||S<3,className:te("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",l||e!==r||S<3?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[l&&c.jsx(Ta,{className:"w-4 h-4 animate-spin"}),l?"Redefinindo...":"Redefinir senha"]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium",disabled:l,children:"Voltar ao login"})})]})})}function s3(){return c.jsx(n3,{})}function i3(){const e=yr();return b.useEffect(()=>{const t=setTimeout(()=>{e("/perfil")},5e3);return()=>clearTimeout(t)},[e]),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("div",{className:"mb-6 flex justify-center",children:c.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-4 rounded-full",children:c.jsx(lr,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Assinatura Confirmada!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua assinatura foi processada com sucesso. Voc agora tem acesso a todos os recursos premium."}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Redirecionando para seu perfil em 5 segundos..."}),c.jsx("button",{onClick:()=>e("/perfil"),className:"mt-6 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Ir para o Perfil Agora"})]})})}function a3(){const e=yr();return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("div",{className:"mb-6 flex justify-center",children:c.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-4 rounded-full",children:c.jsx(fr,{className:"w-12 h-12 text-red-600 dark:text-red-400"})})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pagamento Cancelado"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Seu pagamento foi cancelado. Sua assinatura no foi processada."}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-6",children:"Voc pode tentar novamente a qualquer momento."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>e("/mentoria-ia"),className:"w-full px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar Novamente"}),c.jsx("button",{onClick:()=>e("/"),className:"w-full px-6 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors",children:"Voltar ao Incio"})]})]})})}function ly(){const e=yr();return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("div",{className:"mb-6 flex justify-center",children:c.jsx("div",{className:"text-6xl font-bold text-gray-300 dark:text-gray-700",children:"404"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pgina no encontrada"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Desculpe, a pgina que voc est procurando no existe ou foi removida."}),c.jsxs("button",{onClick:()=>e("/"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[c.jsx(BE,{className:"w-5 h-5"}),"Voltar ao Incio"]})]})})}class _1 extends b.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx(LE,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),c.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function E1({children:e}){const{theme:t}=Rc();return b.useEffect(()=>{const r=()=>{const n=t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",n)};if(r(),t==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addEventListener("change",r),()=>n.removeEventListener("change",r)}},[t]),c.jsx(c.Fragment,{children:e})}function o3(){return c.jsx(_1,{children:c.jsx(E1,{children:c.jsx(Y_,{})})})}const l3=xE([{path:"/",element:c.jsx(o3,{}),errorElement:c.jsx(ly,{}),children:[{index:!0,element:c.jsx(j5,{})},{path:"perfil",element:c.jsx($5,{})},{path:"receita/:id",element:c.jsx(V5,{})},{path:"mentoria-ia",element:c.jsx(r3,{})},{path:"reset-password",element:c.jsx(s3,{})},{path:"assinatura/sucesso",element:c.jsx(i3,{})},{path:"assinatura/cancelada",element:c.jsx(a3,{})},{path:"404",element:c.jsx(ly,{})},{path:"*",element:c.jsx(q_,{to:"/404",replace:!0})}]}]);function c3(){return c.jsx(PE,{router:l3})}jx(document.getElementById("root")).render(c.jsx(b.StrictMode,{children:c.jsx(_1,{children:c.jsx(E1,{children:c.jsx(c3,{})})})}));export{cy as g};
