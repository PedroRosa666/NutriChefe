(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Z1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var yy={exports:{}},rc={},vy={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Symbol.for("react.element"),ek=Symbol.for("react.portal"),tk=Symbol.for("react.fragment"),rk=Symbol.for("react.strict_mode"),nk=Symbol.for("react.profiler"),sk=Symbol.for("react.provider"),ik=Symbol.for("react.context"),ak=Symbol.for("react.forward_ref"),ok=Symbol.for("react.suspense"),lk=Symbol.for("react.memo"),ck=Symbol.for("react.lazy"),_m=Symbol.iterator;function uk(e){return e===null||typeof e!="object"?null:(e=_m&&e[_m]||e["@@iterator"],typeof e=="function"?e:null)}var xy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},by=Object.assign,wy={};function di(e,t,r){this.props=e,this.context=t,this.refs=wy,this.updater=r||xy}di.prototype.isReactComponent={};di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ky(){}ky.prototype=di.prototype;function fh(e,t,r){this.props=e,this.context=t,this.refs=wy,this.updater=r||xy}var mh=fh.prototype=new ky;mh.constructor=fh;by(mh,di.prototype);mh.isPureReactComponent=!0;var Sm=Array.isArray,jy=Object.prototype.hasOwnProperty,ph={current:null},_y={key:!0,ref:!0,__self:!0,__source:!0};function Sy(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)jy.call(t,n)&&!_y.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Ba,type:e,key:i,ref:a,props:s,_owner:ph.current}}function dk(e,t){return{$$typeof:Ba,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ba}function hk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Nm=/\/+/g;function Hc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hk(""+e.key):t.toString(36)}function Ko(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ba:case ek:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Hc(a,0):n,Sm(s)?(r="",e!=null&&(r=e.replace(Nm,"$&/")+"/"),Ko(s,t,r,"",function(u){return u})):s!=null&&(gh(s)&&(s=dk(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Nm,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Sm(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Hc(i,o);a+=Ko(i,t,r,c,s)}else if(c=uk(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Hc(i,o++),a+=Ko(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function go(e,t,r){if(e==null)return e;var n=[],s=0;return Ko(e,n,"","",function(i){return t.call(r,i,s++)}),n}function fk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},qo={transition:null},mk={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:qo,ReactCurrentOwner:ph};ce.Children={map:go,forEach:function(e,t,r){go(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return go(e,function(){t++}),t},toArray:function(e){return go(e,function(t){return t})||[]},only:function(e){if(!gh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=di;ce.Fragment=tk;ce.Profiler=nk;ce.PureComponent=fh;ce.StrictMode=rk;ce.Suspense=ok;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mk;ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=by({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ph.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)jy.call(t,c)&&!_y.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Ba,type:e.type,key:s,ref:i,props:n,_owner:a}};ce.createContext=function(e){return e={$$typeof:ik,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sk,_context:e},e.Consumer=e};ce.createElement=Sy;ce.createFactory=function(e){var t=Sy.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:ak,render:e}};ce.isValidElement=gh;ce.lazy=function(e){return{$$typeof:ck,_payload:{_status:-1,_result:e},_init:fk}};ce.memo=function(e,t){return{$$typeof:lk,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=qo.transition;qo.transition={};try{e()}finally{qo.transition=t}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(e,t){return ht.current.useCallback(e,t)};ce.useContext=function(e){return ht.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ce.useEffect=function(e,t){return ht.current.useEffect(e,t)};ce.useId=function(){return ht.current.useId()};ce.useImperativeHandle=function(e,t,r){return ht.current.useImperativeHandle(e,t,r)};ce.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return ht.current.useMemo(e,t)};ce.useReducer=function(e,t,r){return ht.current.useReducer(e,t,r)};ce.useRef=function(e){return ht.current.useRef(e)};ce.useState=function(e){return ht.current.useState(e)};ce.useSyncExternalStore=function(e,t,r){return ht.current.useSyncExternalStore(e,t,r)};ce.useTransition=function(){return ht.current.useTransition()};ce.version="18.2.0";vy.exports=ce;var w=vy.exports;const qn=gy(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk=w,gk=Symbol.for("react.element"),yk=Symbol.for("react.fragment"),vk=Object.prototype.hasOwnProperty,xk=pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bk={key:!0,ref:!0,__self:!0,__source:!0};function Ny(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)vk.call(t,n)&&!bk.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:gk,type:e,key:i,ref:a,props:s,_owner:xk.current}}rc.Fragment=yk;rc.jsx=Ny;rc.jsxs=Ny;yy.exports=rc;var l=yy.exports,Cy={exports:{}},At={},Ey={exports:{}},Ty={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,F){var V=A.length;A.push(F);e:for(;0<V;){var J=V-1>>>1,ge=A[J];if(0<s(ge,F))A[J]=F,A[V]=ge,V=J;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var F=A[0],V=A.pop();if(V!==F){A[0]=V;e:for(var J=0,ge=A.length,Ve=ge>>>1;J<Ve;){var ke=2*(J+1)-1,jt=A[ke],mt=ke+1,z=A[mt];if(0>s(jt,V))mt<ge&&0>s(z,jt)?(A[J]=z,A[mt]=V,J=mt):(A[J]=jt,A[ke]=V,J=ke);else if(mt<ge&&0>s(z,V))A[J]=z,A[mt]=V,J=mt;else break e}}return F}function s(A,F){var V=A.sortIndex-F.sortIndex;return V!==0?V:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,f=3,m=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=A)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function _(A){if(y=!1,x(A),!v)if(r(c)!==null)v=!0,le(k);else{var F=r(u);F!==null&&Q(_,F.startTime-A)}}function k(A,F){v=!1,y&&(y=!1,p(E),E=-1),m=!0;var V=f;try{for(x(F),h=r(c);h!==null&&(!(h.expirationTime>F)||A&&!L());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var ge=J(h.expirationTime<=F);F=e.unstable_now(),typeof ge=="function"?h.callback=ge:h===r(c)&&n(c),x(F)}else n(c);h=r(c)}if(h!==null)var Ve=!0;else{var ke=r(u);ke!==null&&Q(_,ke.startTime-F),Ve=!1}return Ve}finally{h=null,f=V,m=!1}}var T=!1,j=null,E=-1,C=5,R=-1;function L(){return!(e.unstable_now()-R<C)}function D(){if(j!==null){var A=e.unstable_now();R=A;var F=!0;try{F=j(!0,A)}finally{F?de():(T=!1,j=null)}}else T=!1}var de;if(typeof g=="function")de=function(){g(D)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,te=fe.port2;fe.port1.onmessage=D,de=function(){te.postMessage(null)}}else de=function(){b(D,0)};function le(A){j=A,T||(T=!0,de())}function Q(A,F){E=b(function(){A(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,le(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var V=f;f=F;try{return A()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var V=f;f=A;try{return F()}finally{f=V}},e.unstable_scheduleCallback=function(A,F,V){var J=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?J+V:J):V=J,A){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=V+ge,A={id:d++,callback:F,priorityLevel:A,startTime:V,expirationTime:ge,sortIndex:-1},V>J?(A.sortIndex=V,t(u,A),r(c)===null&&A===r(u)&&(y?(p(E),E=-1):y=!0,Q(_,V-J))):(A.sortIndex=ge,t(c,A),v||m||(v=!0,le(k))),A},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(A){var F=f;return function(){var V=f;f=F;try{return A.apply(this,arguments)}finally{f=V}}}})(Ty);Ey.exports=Ty;var wk=Ey.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py=w,Pt=wk;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ry=new Set,fa={};function is(e,t){Js(e,t),Js(e+"Capture",t)}function Js(e,t){for(fa[e]=t,e=0;e<t.length;e++)Ry.add(t[e])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bu=Object.prototype.hasOwnProperty,kk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cm={},Em={};function jk(e){return Bu.call(Em,e)?!0:Bu.call(Cm,e)?!1:kk.test(e)?Em[e]=!0:(Cm[e]=!0,!1)}function _k(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sk(e,t,r,n){if(t===null||typeof t>"u"||_k(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var yh=/[\-:]([a-z])/g;function vh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yh,vh);et[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yh,vh);et[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yh,vh);et[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function xh(e,t,r,n){var s=et.hasOwnProperty(t)?et[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sk(t,r,s,n)&&(r=null),n||s===null?jk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $r=Py.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),js=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),Hu=Symbol.for("react.profiler"),Ay=Symbol.for("react.provider"),My=Symbol.for("react.context"),wh=Symbol.for("react.forward_ref"),Gu=Symbol.for("react.suspense"),Wu=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),Iy=Symbol.for("react.offscreen"),Tm=Symbol.iterator;function _i(e){return e===null||typeof e!="object"?null:(e=Tm&&e[Tm]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,Gc;function zi(e){if(Gc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Gc=t&&t[1]||""}return`
`+Gc+e}var Wc=!1;function Kc(e,t){if(!e||Wc)return"";Wc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Wc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zi(e):""}function Nk(e){switch(e.tag){case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 2:case 15:return e=Kc(e.type,!1),e;case 11:return e=Kc(e.type.render,!1),e;case 1:return e=Kc(e.type,!0),e;default:return""}}function Ku(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _s:return"Fragment";case js:return"Portal";case Hu:return"Profiler";case bh:return"StrictMode";case Gu:return"Suspense";case Wu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case My:return(e.displayName||"Context")+".Consumer";case Ay:return(e._context.displayName||"Context")+".Provider";case wh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kh:return t=e.displayName||null,t!==null?t:Ku(e.type)||"Memo";case Jr:t=e._payload,e=e._init;try{return Ku(e(t))}catch{}}return null}function Ck(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ku(t);case 8:return t===bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ly(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ek(e){var t=Ly(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vo(e){e._valueTracker||(e._valueTracker=Ek(e))}function Dy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ly(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qu(e,t){var r=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oy(e,t){t=t.checked,t!=null&&xh(e,"checked",t,!1)}function Yu(e,t){Oy(e,t);var r=xn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ju(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ju(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ju(e,t,r){(t!=="number"||hl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ui=Array.isArray;function Us(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Am(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(Ui(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xn(r)}}function Fy(e,t){var r=xn(t.value),n=xn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Mm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $y(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$y(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xo,zy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xo=xo||document.createElement("div"),xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ma(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tk=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(e){Tk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ji[t]=Ji[e]})});function Uy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ji.hasOwnProperty(e)&&Ji[e]?(""+t).trim():t+"px"}function Vy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Uy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Pk=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zu(e,t){if(t){if(Pk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function ed(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=null;function jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rd=null,Vs=null,Bs=null;function Im(e){if(e=Wa(e)){if(typeof rd!="function")throw Error(I(280));var t=e.stateNode;t&&(t=oc(t),rd(e.stateNode,e.type,t))}}function By(e){Vs?Bs?Bs.push(e):Bs=[e]:Vs=e}function Hy(){if(Vs){var e=Vs,t=Bs;if(Bs=Vs=null,Im(e),t)for(e=0;e<t.length;e++)Im(t[e])}}function Gy(e,t){return e(t)}function Wy(){}var qc=!1;function Ky(e,t,r){if(qc)return e(t,r);qc=!0;try{return Gy(e,t,r)}finally{qc=!1,(Vs!==null||Bs!==null)&&(Wy(),Hy())}}function pa(e,t){var r=e.stateNode;if(r===null)return null;var n=oc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var nd=!1;if(Ir)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){nd=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{nd=!1}function Rk(e,t,r,n,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Qi=!1,fl=null,ml=!1,sd=null,Ak={onError:function(e){Qi=!0,fl=e}};function Mk(e,t,r,n,s,i,a,o,c){Qi=!1,fl=null,Rk.apply(Ak,arguments)}function Ik(e,t,r,n,s,i,a,o,c){if(Mk.apply(this,arguments),Qi){if(Qi){var u=fl;Qi=!1,fl=null}else throw Error(I(198));ml||(ml=!0,sd=u)}}function as(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lm(e){if(as(e)!==e)throw Error(I(188))}function Lk(e){var t=e.alternate;if(!t){if(t=as(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Lm(s),e;if(i===n)return Lm(s),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Yy(e){return e=Lk(e),e!==null?Jy(e):null}function Jy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jy(e);if(t!==null)return t;e=e.sibling}return null}var Qy=Pt.unstable_scheduleCallback,Dm=Pt.unstable_cancelCallback,Dk=Pt.unstable_shouldYield,Ok=Pt.unstable_requestPaint,$e=Pt.unstable_now,Fk=Pt.unstable_getCurrentPriorityLevel,_h=Pt.unstable_ImmediatePriority,Xy=Pt.unstable_UserBlockingPriority,pl=Pt.unstable_NormalPriority,$k=Pt.unstable_LowPriority,Zy=Pt.unstable_IdlePriority,nc=null,hr=null;function zk(e){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(nc,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Bk,Uk=Math.log,Vk=Math.LN2;function Bk(e){return e>>>=0,e===0?32:31-(Uk(e)/Vk|0)|0}var bo=64,wo=4194304;function Vi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Vi(o):(i&=a,i!==0&&(n=Vi(i)))}else a=r&~s,a!==0?n=Vi(a):i!==0&&(n=Vi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zt(t),s=1<<r,n|=e[r],t&=~s;return n}function Hk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Zt(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=Hk(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function id(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ev(){var e=bo;return bo<<=1,!(bo&4194240)&&(bo=64),e}function Yc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ha(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=r}function Wk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Zt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Sh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ye=0;function tv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rv,Nh,nv,sv,iv,ad=!1,ko=[],cn=null,un=null,dn=null,ga=new Map,ya=new Map,en=[],Kk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":ga.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(t.pointerId)}}function Ni(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Wa(t),t!==null&&Nh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function qk(e,t,r,n,s){switch(t){case"focusin":return cn=Ni(cn,e,t,r,n,s),!0;case"dragenter":return un=Ni(un,e,t,r,n,s),!0;case"mouseover":return dn=Ni(dn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ga.set(i,Ni(ga.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ya.set(i,Ni(ya.get(i)||null,e,t,r,n,s)),!0}return!1}function av(e){var t=Vn(e.target);if(t!==null){var r=as(t);if(r!==null){if(t=r.tag,t===13){if(t=qy(r),t!==null){e.blockedOn=t,iv(e.priority,function(){nv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=od(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);td=n,r.target.dispatchEvent(n),td=null}else return t=Wa(r),t!==null&&Nh(t),e.blockedOn=r,!1;t.shift()}return!0}function Fm(e,t,r){Yo(e)&&r.delete(t)}function Yk(){ad=!1,cn!==null&&Yo(cn)&&(cn=null),un!==null&&Yo(un)&&(un=null),dn!==null&&Yo(dn)&&(dn=null),ga.forEach(Fm),ya.forEach(Fm)}function Ci(e,t){e.blockedOn===t&&(e.blockedOn=null,ad||(ad=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,Yk)))}function va(e){function t(s){return Ci(s,e)}if(0<ko.length){Ci(ko[0],e);for(var r=1;r<ko.length;r++){var n=ko[r];n.blockedOn===e&&(n.blockedOn=null)}}for(cn!==null&&Ci(cn,e),un!==null&&Ci(un,e),dn!==null&&Ci(dn,e),ga.forEach(t),ya.forEach(t),r=0;r<en.length;r++)n=en[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<en.length&&(r=en[0],r.blockedOn===null);)av(r),r.blockedOn===null&&en.shift()}var Hs=$r.ReactCurrentBatchConfig,yl=!0;function Jk(e,t,r,n){var s=ye,i=Hs.transition;Hs.transition=null;try{ye=1,Ch(e,t,r,n)}finally{ye=s,Hs.transition=i}}function Qk(e,t,r,n){var s=ye,i=Hs.transition;Hs.transition=null;try{ye=4,Ch(e,t,r,n)}finally{ye=s,Hs.transition=i}}function Ch(e,t,r,n){if(yl){var s=od(e,t,r,n);if(s===null)iu(e,t,n,vl,r),Om(e,n);else if(qk(s,e,t,r,n))n.stopPropagation();else if(Om(e,n),t&4&&-1<Kk.indexOf(e)){for(;s!==null;){var i=Wa(s);if(i!==null&&rv(i),i=od(e,t,r,n),i===null&&iu(e,t,n,vl,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else iu(e,t,n,null,r)}}var vl=null;function od(e,t,r,n){if(vl=null,e=jh(n),e=Vn(e),e!==null)if(t=as(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vl=e,null}function ov(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fk()){case _h:return 1;case Xy:return 4;case pl:case $k:return 16;case Zy:return 536870912;default:return 16}default:return 16}}var an=null,Eh=null,Jo=null;function lv(){if(Jo)return Jo;var e,t=Eh,r=t.length,n,s="value"in an?an.value:an.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Jo=s.slice(e,1<n?1-n:void 0)}function Qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function $m(){return!1}function Mt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jo:$m,this.isPropagationStopped=$m,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),t}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Th=Mt(hi),Ga=Me({},hi,{view:0,detail:0}),Xk=Mt(Ga),Jc,Qc,Ei,sc=Me({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ph,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Jc=e.screenX-Ei.screenX,Qc=e.screenY-Ei.screenY):Qc=Jc=0,Ei=e),Jc)},movementY:function(e){return"movementY"in e?e.movementY:Qc}}),zm=Mt(sc),Zk=Me({},sc,{dataTransfer:0}),ej=Mt(Zk),tj=Me({},Ga,{relatedTarget:0}),Xc=Mt(tj),rj=Me({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),nj=Mt(rj),sj=Me({},hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ij=Mt(sj),aj=Me({},hi,{data:0}),Um=Mt(aj),oj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cj[e])?!!t[e]:!1}function Ph(){return uj}var dj=Me({},Ga,{key:function(e){if(e.key){var t=oj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ph,charCode:function(e){return e.type==="keypress"?Qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hj=Mt(dj),fj=Me({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vm=Mt(fj),mj=Me({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ph}),pj=Mt(mj),gj=Me({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yj=Mt(gj),vj=Me({},sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xj=Mt(vj),bj=[9,13,27,32],Rh=Ir&&"CompositionEvent"in window,Xi=null;Ir&&"documentMode"in document&&(Xi=document.documentMode);var wj=Ir&&"TextEvent"in window&&!Xi,cv=Ir&&(!Rh||Xi&&8<Xi&&11>=Xi),Bm=" ",Hm=!1;function uv(e,t){switch(e){case"keyup":return bj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function kj(e,t){switch(e){case"compositionend":return dv(t);case"keypress":return t.which!==32?null:(Hm=!0,Bm);case"textInput":return e=t.data,e===Bm&&Hm?null:e;default:return null}}function jj(e,t){if(Ss)return e==="compositionend"||!Rh&&uv(e,t)?(e=lv(),Jo=Eh=an=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cv&&t.locale!=="ko"?null:t.data;default:return null}}var _j={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_j[e.type]:t==="textarea"}function hv(e,t,r,n){By(n),t=xl(t,"onChange"),0<t.length&&(r=new Th("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zi=null,xa=null;function Sj(e){jv(e,0)}function ic(e){var t=Es(e);if(Dy(t))return e}function Nj(e,t){if(e==="change")return t}var fv=!1;if(Ir){var Zc;if(Ir){var eu="oninput"in document;if(!eu){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),eu=typeof Wm.oninput=="function"}Zc=eu}else Zc=!1;fv=Zc&&(!document.documentMode||9<document.documentMode)}function Km(){Zi&&(Zi.detachEvent("onpropertychange",mv),xa=Zi=null)}function mv(e){if(e.propertyName==="value"&&ic(xa)){var t=[];hv(t,xa,e,jh(e)),Ky(Sj,t)}}function Cj(e,t,r){e==="focusin"?(Km(),Zi=t,xa=r,Zi.attachEvent("onpropertychange",mv)):e==="focusout"&&Km()}function Ej(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ic(xa)}function Tj(e,t){if(e==="click")return ic(t)}function Pj(e,t){if(e==="input"||e==="change")return ic(t)}function Rj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nr=typeof Object.is=="function"?Object.is:Rj;function ba(e,t){if(nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Bu.call(t,s)||!nr(e[s],t[s]))return!1}return!0}function qm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ym(e,t){var r=qm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qm(r)}}function pv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gv(){for(var e=window,t=hl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hl(e.document)}return t}function Ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Aj(e){var t=gv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pv(r.ownerDocument.documentElement,r)){if(n!==null&&Ah(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ym(r,i);var a=Ym(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mj=Ir&&"documentMode"in document&&11>=document.documentMode,Ns=null,ld=null,ea=null,cd=!1;function Jm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cd||Ns==null||Ns!==hl(n)||(n=Ns,"selectionStart"in n&&Ah(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ea&&ba(ea,n)||(ea=n,n=xl(ld,"onSelect"),0<n.length&&(t=new Th("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ns)))}function _o(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Cs={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},tu={},yv={};Ir&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function ac(e){if(tu[e])return tu[e];if(!Cs[e])return e;var t=Cs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yv)return tu[e]=t[r];return e}var vv=ac("animationend"),xv=ac("animationiteration"),bv=ac("animationstart"),wv=ac("transitionend"),kv=new Map,Qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,t){kv.set(e,t),is(t,[e])}for(var ru=0;ru<Qm.length;ru++){var nu=Qm[ru],Ij=nu.toLowerCase(),Lj=nu[0].toUpperCase()+nu.slice(1);jn(Ij,"on"+Lj)}jn(vv,"onAnimationEnd");jn(xv,"onAnimationIteration");jn(bv,"onAnimationStart");jn("dblclick","onDoubleClick");jn("focusin","onFocus");jn("focusout","onBlur");jn(wv,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bi));function Xm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ik(n,t,void 0,e),e.currentTarget=null}function jv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Xm(s,o,u),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Xm(s,o,u),i=c}}}if(ml)throw e=sd,ml=!1,sd=null,e}function Ne(e,t){var r=t[md];r===void 0&&(r=t[md]=new Set);var n=e+"__bubble";r.has(n)||(_v(t,e,2,!1),r.add(n))}function su(e,t,r){var n=0;t&&(n|=4),_v(r,e,n,t)}var So="_reactListening"+Math.random().toString(36).slice(2);function wa(e){if(!e[So]){e[So]=!0,Ry.forEach(function(r){r!=="selectionchange"&&(Dj.has(r)||su(r,!1,e),su(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[So]||(t[So]=!0,su("selectionchange",!1,t))}}function _v(e,t,r,n){switch(ov(t)){case 1:var s=Jk;break;case 4:s=Qk;break;default:s=Ch}r=s.bind(null,t,r,e),s=void 0,!nd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function iu(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Vn(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Ky(function(){var u=i,d=jh(r),h=[];e:{var f=kv.get(e);if(f!==void 0){var m=Th,v=e;switch(e){case"keypress":if(Qo(r)===0)break e;case"keydown":case"keyup":m=hj;break;case"focusin":v="focus",m=Xc;break;case"focusout":v="blur",m=Xc;break;case"beforeblur":case"afterblur":m=Xc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pj;break;case vv:case xv:case bv:m=nj;break;case wv:m=yj;break;case"scroll":m=Xk;break;case"wheel":m=xj;break;case"copy":case"cut":case"paste":m=ij;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Vm}var y=(t&4)!==0,b=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,p!==null&&(_=pa(g,p),_!=null&&y.push(ka(g,_,x)))),b)break;g=g.return}0<y.length&&(f=new m(f,v,null,r,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==td&&(v=r.relatedTarget||r.fromElement)&&(Vn(v)||v[Lr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Vn(v):null,v!==null&&(b=as(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=zm,_="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Vm,_="onPointerLeave",p="onPointerEnter",g="pointer"),b=m==null?f:Es(m),x=v==null?f:Es(v),f=new y(_,g+"leave",m,r,d),f.target=b,f.relatedTarget=x,_=null,Vn(d)===u&&(y=new y(p,g+"enter",v,r,d),y.target=x,y.relatedTarget=b,_=y),b=_,m&&v)t:{for(y=m,p=v,g=0,x=y;x;x=fs(x))g++;for(x=0,_=p;_;_=fs(_))x++;for(;0<g-x;)y=fs(y),g--;for(;0<x-g;)p=fs(p),x--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=fs(y),p=fs(p)}y=null}else y=null;m!==null&&Zm(h,f,m,y,!1),v!==null&&b!==null&&Zm(h,b,v,y,!0)}}e:{if(f=u?Es(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=Nj;else if(Gm(f))if(fv)k=Pj;else{k=Ej;var T=Cj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Tj);if(k&&(k=k(e,u))){hv(h,k,r,d);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Ju(f,"number",f.value)}switch(T=u?Es(u):window,e){case"focusin":(Gm(T)||T.contentEditable==="true")&&(Ns=T,ld=u,ea=null);break;case"focusout":ea=ld=Ns=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Jm(h,r,d);break;case"selectionchange":if(Mj)break;case"keydown":case"keyup":Jm(h,r,d)}var j;if(Rh)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ss?uv(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(cv&&r.locale!=="ko"&&(Ss||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ss&&(j=lv()):(an=d,Eh="value"in an?an.value:an.textContent,Ss=!0)),T=xl(u,E),0<T.length&&(E=new Um(E,e,null,r,d),h.push({event:E,listeners:T}),j?E.data=j:(j=dv(r),j!==null&&(E.data=j)))),(j=wj?kj(e,r):jj(e,r))&&(u=xl(u,"onBeforeInput"),0<u.length&&(d=new Um("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}jv(h,t)})}function ka(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xl(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pa(e,r),i!=null&&n.unshift(ka(e,i,s)),i=pa(e,t),i!=null&&n.push(ka(e,i,s))),e=e.return}return n}function fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zm(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=pa(r,i),c!=null&&a.unshift(ka(r,c,o))):s||(c=pa(r,i),c!=null&&a.push(ka(r,c,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Oj=/\r\n?/g,Fj=/\u0000|\uFFFD/g;function ep(e){return(typeof e=="string"?e:""+e).replace(Oj,`
`).replace(Fj,"")}function No(e,t,r){if(t=ep(t),ep(e)!==t&&r)throw Error(I(425))}function bl(){}var ud=null,dd=null;function hd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fd=typeof setTimeout=="function"?setTimeout:void 0,$j=typeof clearTimeout=="function"?clearTimeout:void 0,tp=typeof Promise=="function"?Promise:void 0,zj=typeof queueMicrotask=="function"?queueMicrotask:typeof tp<"u"?function(e){return tp.resolve(null).then(e).catch(Uj)}:fd;function Uj(e){setTimeout(function(){throw e})}function au(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),va(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);va(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),dr="__reactFiber$"+fi,ja="__reactProps$"+fi,Lr="__reactContainer$"+fi,md="__reactEvents$"+fi,Vj="__reactListeners$"+fi,Bj="__reactHandles$"+fi;function Vn(e){var t=e[dr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lr]||r[dr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rp(e);e!==null;){if(r=e[dr])return r;e=rp(e)}return t}e=r,r=e.parentNode}return null}function Wa(e){return e=e[dr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function oc(e){return e[ja]||null}var pd=[],Ts=-1;function _n(e){return{current:e}}function Ce(e){0>Ts||(e.current=pd[Ts],pd[Ts]=null,Ts--)}function be(e,t){Ts++,pd[Ts]=e.current,e.current=t}var bn={},lt=_n(bn),xt=_n(!1),Xn=bn;function Qs(e,t){var r=e.type.contextTypes;if(!r)return bn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function bt(e){return e=e.childContextTypes,e!=null}function wl(){Ce(xt),Ce(lt)}function np(e,t,r){if(lt.current!==bn)throw Error(I(168));be(lt,t),be(xt,r)}function Sv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(I(108,Ck(e)||"Unknown",s));return Me({},r,n)}function kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Xn=lt.current,be(lt,e),be(xt,xt.current),!0}function sp(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=Sv(e,t,Xn),n.__reactInternalMemoizedMergedChildContext=e,Ce(xt),Ce(lt),be(lt,e)):Ce(xt),be(xt,r)}var Er=null,lc=!1,ou=!1;function Nv(e){Er===null?Er=[e]:Er.push(e)}function Hj(e){lc=!0,Nv(e)}function Sn(){if(!ou&&Er!==null){ou=!0;var e=0,t=ye;try{var r=Er;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Er=null,lc=!1}catch(s){throw Er!==null&&(Er=Er.slice(e+1)),Qy(_h,Sn),s}finally{ye=t,ou=!1}}return null}var Ps=[],Rs=0,jl=null,_l=0,Ot=[],Ft=0,Zn=null,Tr=1,Pr="";function Dn(e,t){Ps[Rs++]=_l,Ps[Rs++]=jl,jl=e,_l=t}function Cv(e,t,r){Ot[Ft++]=Tr,Ot[Ft++]=Pr,Ot[Ft++]=Zn,Zn=e;var n=Tr;e=Pr;var s=32-Zt(n)-1;n&=~(1<<s),r+=1;var i=32-Zt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Tr=1<<32-Zt(t)+s|r<<s|n,Pr=i+e}else Tr=1<<i|r<<s|n,Pr=e}function Mh(e){e.return!==null&&(Dn(e,1),Cv(e,1,0))}function Ih(e){for(;e===jl;)jl=Ps[--Rs],Ps[Rs]=null,_l=Ps[--Rs],Ps[Rs]=null;for(;e===Zn;)Zn=Ot[--Ft],Ot[Ft]=null,Pr=Ot[--Ft],Ot[Ft]=null,Tr=Ot[--Ft],Ot[Ft]=null}var Et=null,Ct=null,Te=!1,Xt=null;function Ev(e,t){var r=$t(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ip(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,Ct=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zn!==null?{id:Tr,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$t(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Et=e,Ct=null,!0):!1;default:return!1}}function gd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yd(e){if(Te){var t=Ct;if(t){var r=t;if(!ip(e,t)){if(gd(e))throw Error(I(418));t=hn(r.nextSibling);var n=Et;t&&ip(e,t)?Ev(n,r):(e.flags=e.flags&-4097|2,Te=!1,Et=e)}}else{if(gd(e))throw Error(I(418));e.flags=e.flags&-4097|2,Te=!1,Et=e}}}function ap(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Co(e){if(e!==Et)return!1;if(!Te)return ap(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hd(e.type,e.memoizedProps)),t&&(t=Ct)){if(gd(e))throw Tv(),Error(I(418));for(;t;)Ev(e,t),t=hn(t.nextSibling)}if(ap(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ct=hn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=Et?hn(e.stateNode.nextSibling):null;return!0}function Tv(){for(var e=Ct;e;)e=hn(e.nextSibling)}function Xs(){Ct=Et=null,Te=!1}function Lh(e){Xt===null?Xt=[e]:Xt.push(e)}var Gj=$r.ReactCurrentBatchConfig;function Yt(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Sl=_n(null),Nl=null,As=null,Dh=null;function Oh(){Dh=As=Nl=null}function Fh(e){var t=Sl.current;Ce(Sl),e._currentValue=t}function vd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gs(e,t){Nl=e,Dh=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(Dh!==e)if(e={context:e,memoizedValue:t,next:null},As===null){if(Nl===null)throw Error(I(308));As=e,Nl.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Bn=null;function $h(e){Bn===null?Bn=[e]:Bn.push(e)}function Pv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,$h(t)):(r.next=s.next,s.next=r),t.interleaved=r,Dr(e,n)}function Dr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qr=!1;function zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Dr(e,r)}return s=n.interleaved,s===null?(t.next=t,$h(n)):(t.next=s.next,s.next=t),n.interleaved=t,Dr(e,r)}function Xo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sh(e,r)}}function op(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Cl(e,t,r,n){var s=e.updateQueue;Qr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,o=i;do{var f=o.lane,m=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,y=o;switch(f=t,m=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Me({},h,f);break e;case 2:Qr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ts|=a,e.lanes=a,e.memoizedState=h}}function lp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var Av=new Py.Component().refs;function xd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cc={isMounted:function(e){return(e=e._reactInternals)?as(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dt(),s=pn(e),i=Rr(n,s);i.payload=t,r!=null&&(i.callback=r),t=fn(e,i,s),t!==null&&(er(t,e,s,n),Xo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dt(),s=pn(e),i=Rr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fn(e,i,s),t!==null&&(er(t,e,s,n),Xo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dt(),n=pn(e),s=Rr(r,n);s.tag=2,t!=null&&(s.callback=t),t=fn(e,s,n),t!==null&&(er(t,e,n,r),Xo(t,e,n))}};function cp(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ba(r,n)||!ba(s,i):!0}function Mv(e,t,r){var n=!1,s=bn,i=t.contextType;return typeof i=="object"&&i!==null?i=Vt(i):(s=bt(t)?Xn:lt.current,n=t.contextTypes,i=(n=n!=null)?Qs(e,s):bn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function up(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cc.enqueueReplaceState(t,t.state,null)}function bd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=Av,zh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Vt(i):(i=bt(t)?Xn:lt.current,s.context=Qs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xd(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cc.enqueueReplaceState(s,s.state,null),Cl(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ti(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;o===Av&&(o=s.refs={}),a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dp(e){var t=e._init;return t(e._payload)}function Iv(e){function t(p,g){if(e){var x=p.deletions;x===null?(p.deletions=[g],p.flags|=16):x.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=gn(p,g),p.index=0,p.sibling=null,p}function i(p,g,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<g?(p.flags|=2,g):x):(p.flags|=2,g)):(p.flags|=1048576,g)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,g,x,_){return g===null||g.tag!==6?(g=mu(x,p.mode,_),g.return=p,g):(g=s(g,x),g.return=p,g)}function c(p,g,x,_){var k=x.type;return k===_s?d(p,g,x.props.children,_,x.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jr&&dp(k)===g.type)?(_=s(g,x.props),_.ref=Ti(p,g,x),_.return=p,_):(_=sl(x.type,x.key,x.props,null,p.mode,_),_.ref=Ti(p,g,x),_.return=p,_)}function u(p,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=pu(x,p.mode,_),g.return=p,g):(g=s(g,x.children||[]),g.return=p,g)}function d(p,g,x,_,k){return g===null||g.tag!==7?(g=Jn(x,p.mode,_,k),g.return=p,g):(g=s(g,x),g.return=p,g)}function h(p,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=mu(""+g,p.mode,x),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case yo:return x=sl(g.type,g.key,g.props,null,p.mode,x),x.ref=Ti(p,null,g),x.return=p,x;case js:return g=pu(g,p.mode,x),g.return=p,g;case Jr:var _=g._init;return h(p,_(g._payload),x)}if(Ui(g)||_i(g))return g=Jn(g,p.mode,x,null),g.return=p,g;Eo(p,g)}return null}function f(p,g,x,_){var k=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:o(p,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yo:return x.key===k?c(p,g,x,_):null;case js:return x.key===k?u(p,g,x,_):null;case Jr:return k=x._init,f(p,g,k(x._payload),_)}if(Ui(x)||_i(x))return k!==null?null:d(p,g,x,_,null);Eo(p,x)}return null}function m(p,g,x,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(x)||null,o(g,p,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yo:return p=p.get(_.key===null?x:_.key)||null,c(g,p,_,k);case js:return p=p.get(_.key===null?x:_.key)||null,u(g,p,_,k);case Jr:var T=_._init;return m(p,g,x,T(_._payload),k)}if(Ui(_)||_i(_))return p=p.get(x)||null,d(g,p,_,k,null);Eo(g,_)}return null}function v(p,g,x,_){for(var k=null,T=null,j=g,E=g=0,C=null;j!==null&&E<x.length;E++){j.index>E?(C=j,j=null):C=j.sibling;var R=f(p,j,x[E],_);if(R===null){j===null&&(j=C);break}e&&j&&R.alternate===null&&t(p,j),g=i(R,g,E),T===null?k=R:T.sibling=R,T=R,j=C}if(E===x.length)return r(p,j),Te&&Dn(p,E),k;if(j===null){for(;E<x.length;E++)j=h(p,x[E],_),j!==null&&(g=i(j,g,E),T===null?k=j:T.sibling=j,T=j);return Te&&Dn(p,E),k}for(j=n(p,j);E<x.length;E++)C=m(j,p,E,x[E],_),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?E:C.key),g=i(C,g,E),T===null?k=C:T.sibling=C,T=C);return e&&j.forEach(function(L){return t(p,L)}),Te&&Dn(p,E),k}function y(p,g,x,_){var k=_i(x);if(typeof k!="function")throw Error(I(150));if(x=k.call(x),x==null)throw Error(I(151));for(var T=k=null,j=g,E=g=0,C=null,R=x.next();j!==null&&!R.done;E++,R=x.next()){j.index>E?(C=j,j=null):C=j.sibling;var L=f(p,j,R.value,_);if(L===null){j===null&&(j=C);break}e&&j&&L.alternate===null&&t(p,j),g=i(L,g,E),T===null?k=L:T.sibling=L,T=L,j=C}if(R.done)return r(p,j),Te&&Dn(p,E),k;if(j===null){for(;!R.done;E++,R=x.next())R=h(p,R.value,_),R!==null&&(g=i(R,g,E),T===null?k=R:T.sibling=R,T=R);return Te&&Dn(p,E),k}for(j=n(p,j);!R.done;E++,R=x.next())R=m(j,p,E,R.value,_),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?E:R.key),g=i(R,g,E),T===null?k=R:T.sibling=R,T=R);return e&&j.forEach(function(D){return t(p,D)}),Te&&Dn(p,E),k}function b(p,g,x,_){if(typeof x=="object"&&x!==null&&x.type===_s&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yo:e:{for(var k=x.key,T=g;T!==null;){if(T.key===k){if(k=x.type,k===_s){if(T.tag===7){r(p,T.sibling),g=s(T,x.props.children),g.return=p,p=g;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jr&&dp(k)===T.type){r(p,T.sibling),g=s(T,x.props),g.ref=Ti(p,T,x),g.return=p,p=g;break e}r(p,T);break}else t(p,T);T=T.sibling}x.type===_s?(g=Jn(x.props.children,p.mode,_,x.key),g.return=p,p=g):(_=sl(x.type,x.key,x.props,null,p.mode,_),_.ref=Ti(p,g,x),_.return=p,p=_)}return a(p);case js:e:{for(T=x.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(p,g.sibling),g=s(g,x.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=pu(x,p.mode,_),g.return=p,p=g}return a(p);case Jr:return T=x._init,b(p,g,T(x._payload),_)}if(Ui(x))return v(p,g,x,_);if(_i(x))return y(p,g,x,_);Eo(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(p,g.sibling),g=s(g,x),g.return=p,p=g):(r(p,g),g=mu(x,p.mode,_),g.return=p,p=g),a(p)):r(p,g)}return b}var Zs=Iv(!0),Lv=Iv(!1),Ka={},fr=_n(Ka),_a=_n(Ka),Sa=_n(Ka);function Hn(e){if(e===Ka)throw Error(I(174));return e}function Uh(e,t){switch(be(Sa,t),be(_a,e),be(fr,Ka),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xu(t,e)}Ce(fr),be(fr,t)}function ei(){Ce(fr),Ce(_a),Ce(Sa)}function Dv(e){Hn(Sa.current);var t=Hn(fr.current),r=Xu(t,e.type);t!==r&&(be(_a,e),be(fr,r))}function Vh(e){_a.current===e&&(Ce(fr),Ce(_a))}var Pe=_n(0);function El(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lu=[];function Bh(){for(var e=0;e<lu.length;e++)lu[e]._workInProgressVersionPrimary=null;lu.length=0}var Zo=$r.ReactCurrentDispatcher,cu=$r.ReactCurrentBatchConfig,es=0,Ae=null,He=null,qe=null,Tl=!1,ta=!1,Na=0,Wj=0;function rt(){throw Error(I(321))}function Hh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nr(e[r],t[r]))return!1;return!0}function Gh(e,t,r,n,s,i){if(es=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zo.current=e===null||e.memoizedState===null?Jj:Qj,e=r(n,s),ta){i=0;do{if(ta=!1,Na=0,25<=i)throw Error(I(301));i+=1,qe=He=null,t.updateQueue=null,Zo.current=Xj,e=r(n,s)}while(ta)}if(Zo.current=Pl,t=He!==null&&He.next!==null,es=0,qe=He=Ae=null,Tl=!1,t)throw Error(I(300));return e}function Wh(){var e=Na!==0;return Na=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ae.memoizedState=qe=e:qe=qe.next=e,qe}function Bt(){if(He===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=qe===null?Ae.memoizedState:qe.next;if(t!==null)qe=t,He=e;else{if(e===null)throw Error(I(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},qe===null?Ae.memoizedState=qe=e:qe=qe.next=e}return qe}function Ca(e,t){return typeof t=="function"?t(e):t}function uu(e){var t=Bt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=He,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((es&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=n):c=c.next=h,Ae.lanes|=d,ts|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=o,nr(n,t.memoizedState)||(vt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ae.lanes|=i,ts|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function du(e){var t=Bt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);nr(i,t.memoizedState)||(vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Ov(){}function Fv(e,t){var r=Ae,n=Bt(),s=t(),i=!nr(n.memoizedState,s);if(i&&(n.memoizedState=s,vt=!0),n=n.queue,Kh(Uv.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,Ea(9,zv.bind(null,r,n,s,t),void 0,null),Ye===null)throw Error(I(349));es&30||$v(r,t,s)}return s}function $v(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zv(e,t,r,n){t.value=r,t.getSnapshot=n,Vv(t)&&Bv(e)}function Uv(e,t,r){return r(function(){Vv(t)&&Bv(e)})}function Vv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nr(e,r)}catch{return!0}}function Bv(e){var t=Dr(e,1);t!==null&&er(t,e,1,-1)}function hp(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=Yj.bind(null,Ae,e),[t.memoizedState,e]}function Ea(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Hv(){return Bt().memoizedState}function el(e,t,r,n){var s=cr();Ae.flags|=e,s.memoizedState=Ea(1|t,r,void 0,n===void 0?null:n)}function uc(e,t,r,n){var s=Bt();n=n===void 0?null:n;var i=void 0;if(He!==null){var a=He.memoizedState;if(i=a.destroy,n!==null&&Hh(n,a.deps)){s.memoizedState=Ea(t,r,i,n);return}}Ae.flags|=e,s.memoizedState=Ea(1|t,r,i,n)}function fp(e,t){return el(8390656,8,e,t)}function Kh(e,t){return uc(2048,8,e,t)}function Gv(e,t){return uc(4,2,e,t)}function Wv(e,t){return uc(4,4,e,t)}function Kv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qv(e,t,r){return r=r!=null?r.concat([e]):null,uc(4,4,Kv.bind(null,t,e),r)}function qh(){}function Yv(e,t){var r=Bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Jv(e,t){var r=Bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Qv(e,t,r){return es&21?(nr(r,t)||(r=ev(),Ae.lanes|=r,ts|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=r)}function Kj(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=cu.transition;cu.transition={};try{e(!1),t()}finally{ye=r,cu.transition=n}}function Xv(){return Bt().memoizedState}function qj(e,t,r){var n=pn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zv(e))ex(t,r);else if(r=Pv(e,t,r,n),r!==null){var s=dt();er(r,e,n,s),tx(r,t,n)}}function Yj(e,t,r){var n=pn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zv(e))ex(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,nr(o,a)){var c=t.interleaved;c===null?(s.next=s,$h(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Pv(e,t,s,n),r!==null&&(s=dt(),er(r,e,n,s),tx(r,t,n))}}function Zv(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function ex(e,t){ta=Tl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tx(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sh(e,r)}}var Pl={readContext:Vt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Jj={readContext:Vt,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:fp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,el(4194308,4,Kv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return el(4194308,4,e,t)},useInsertionEffect:function(e,t){return el(4,2,e,t)},useMemo:function(e,t){var r=cr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qj.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:hp,useDebugValue:qh,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=hp(!1),t=e[0];return e=Kj.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ae,s=cr();if(Te){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Ye===null)throw Error(I(349));es&30||$v(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,fp(Uv.bind(null,n,i,e),[e]),n.flags|=2048,Ea(9,zv.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=cr(),t=Ye.identifierPrefix;if(Te){var r=Pr,n=Tr;r=(n&~(1<<32-Zt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Na++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Wj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qj={readContext:Vt,useCallback:Yv,useContext:Vt,useEffect:Kh,useImperativeHandle:qv,useInsertionEffect:Gv,useLayoutEffect:Wv,useMemo:Jv,useReducer:uu,useRef:Hv,useState:function(){return uu(Ca)},useDebugValue:qh,useDeferredValue:function(e){var t=Bt();return Qv(t,He.memoizedState,e)},useTransition:function(){var e=uu(Ca)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:Ov,useSyncExternalStore:Fv,useId:Xv,unstable_isNewReconciler:!1},Xj={readContext:Vt,useCallback:Yv,useContext:Vt,useEffect:Kh,useImperativeHandle:qv,useInsertionEffect:Gv,useLayoutEffect:Wv,useMemo:Jv,useReducer:du,useRef:Hv,useState:function(){return du(Ca)},useDebugValue:qh,useDeferredValue:function(e){var t=Bt();return He===null?t.memoizedState=e:Qv(t,He.memoizedState,e)},useTransition:function(){var e=du(Ca)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:Ov,useSyncExternalStore:Fv,useId:Xv,unstable_isNewReconciler:!1};function ti(e,t){try{var r="",n=t;do r+=Nk(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function hu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Zj=typeof WeakMap=="function"?WeakMap:Map;function rx(e,t,r){r=Rr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Al||(Al=!0,Rd=n),wd(e,t)},r}function nx(e,t,r){r=Rr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){wd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){wd(e,t),typeof n!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function mp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Zj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=f_.bind(null,e,t,r),t.then(e,e))}function pp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rr(-1,1),t.tag=2,fn(r,t,1))),r.lanes|=1),e)}var e_=$r.ReactCurrentOwner,vt=!1;function ct(e,t,r,n){t.child=e===null?Lv(t,null,r,n):Zs(t,e.child,r,n)}function yp(e,t,r,n,s){r=r.render;var i=t.ref;return Gs(t,s),n=Gh(e,t,r,n,i,s),r=Wh(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Or(e,t,s)):(Te&&r&&Mh(t),t.flags|=1,ct(e,t,n,s),t.child)}function vp(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!rf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,sx(e,t,i,n,s)):(e=sl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ba,r(a,n)&&e.ref===t.ref)return Or(e,t,s)}return t.flags|=1,e=gn(i,n),e.ref=t.ref,e.return=t,t.child=e}function sx(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ba(i,n)&&e.ref===t.ref)if(vt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,Or(e,t,s)}return kd(e,t,r,n,s)}function ix(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Is,St),St|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(Is,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,be(Is,St),St|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,be(Is,St),St|=n;return ct(e,t,s,r),t.child}function ax(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function kd(e,t,r,n,s){var i=bt(r)?Xn:lt.current;return i=Qs(t,i),Gs(t,s),r=Gh(e,t,r,n,i,s),n=Wh(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Or(e,t,s)):(Te&&n&&Mh(t),t.flags|=1,ct(e,t,r,s),t.child)}function xp(e,t,r,n,s){if(bt(r)){var i=!0;kl(t)}else i=!1;if(Gs(t,s),t.stateNode===null)tl(e,t),Mv(t,r,n),bd(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Vt(u):(u=bt(r)?Xn:lt.current,u=Qs(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&up(t,a,n,u),Qr=!1;var f=t.memoizedState;a.state=f,Cl(t,n,a,s),c=t.memoizedState,o!==n||f!==c||xt.current||Qr?(typeof d=="function"&&(xd(t,r,d,n),c=t.memoizedState),(o=Qr||cp(t,r,o,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Rv(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Yt(t.type,o),a.props=u,h=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Vt(c):(c=bt(r)?Xn:lt.current,c=Qs(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&up(t,a,n,c),Qr=!1,f=t.memoizedState,a.state=f,Cl(t,n,a,s);var v=t.memoizedState;o!==h||f!==v||xt.current||Qr?(typeof m=="function"&&(xd(t,r,m,n),v=t.memoizedState),(u=Qr||cp(t,r,u,n,f,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return jd(e,t,r,n,i,s)}function jd(e,t,r,n,s,i){ax(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&sp(t,r,!1),Or(e,t,i);n=t.stateNode,e_.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Zs(t,e.child,null,i),t.child=Zs(t,null,o,i)):ct(e,t,o,i),t.memoizedState=n.state,s&&sp(t,r,!0),t.child}function ox(e){var t=e.stateNode;t.pendingContext?np(e,t.pendingContext,t.pendingContext!==t.context):t.context&&np(e,t.context,!1),Uh(e,t.containerInfo)}function bp(e,t,r,n,s){return Xs(),Lh(s),t.flags|=256,ct(e,t,r,n),t.child}var _d={dehydrated:null,treeContext:null,retryLane:0};function Sd(e){return{baseLanes:e,cachePool:null,transitions:null}}function lx(e,t,r){var n=t.pendingProps,s=Pe.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),be(Pe,s&1),e===null)return yd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=fc(a,n,0,null),e=Jn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sd(r),t.memoizedState=_d,e):Yh(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return t_(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=gn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=gn(o,i):(i=Jn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Sd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=_d,n}return i=e.child,e=i.sibling,n=gn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yh(e,t){return t=fc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function To(e,t,r,n){return n!==null&&Lh(n),Zs(t,e.child,null,r),e=Yh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function t_(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=hu(Error(I(422))),To(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=fc({mode:"visible",children:n.children},s,0,null),i=Jn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Zs(t,e.child,null,a),t.child.memoizedState=Sd(a),t.memoizedState=_d,i);if(!(t.mode&1))return To(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(I(419)),n=hu(i,n,void 0),To(e,t,a,n)}if(o=(a&e.childLanes)!==0,vt||o){if(n=Ye,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dr(e,s),er(n,e,s,-1))}return tf(),n=hu(Error(I(421))),To(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=m_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ct=hn(s.nextSibling),Et=t,Te=!0,Xt=null,e!==null&&(Ot[Ft++]=Tr,Ot[Ft++]=Pr,Ot[Ft++]=Zn,Tr=e.id,Pr=e.overflow,Zn=t),t=Yh(t,n.children),t.flags|=4096,t)}function wp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vd(e.return,t,r)}function fu(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function cx(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ct(e,t,n.children,r),n=Pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wp(e,r,t);else if(e.tag===19)wp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(be(Pe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&El(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),fu(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&El(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}fu(t,!0,r,null,i);break;case"together":fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Or(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=gn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=gn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function r_(e,t,r){switch(t.tag){case 3:ox(t),Xs();break;case 5:Dv(t);break;case 1:bt(t.type)&&kl(t);break;case 4:Uh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;be(Sl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(be(Pe,Pe.current&1),t.flags|=128,null):r&t.child.childLanes?lx(e,t,r):(be(Pe,Pe.current&1),e=Or(e,t,r),e!==null?e.sibling:null);be(Pe,Pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cx(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Pe,Pe.current),n)break;return null;case 22:case 23:return t.lanes=0,ix(e,t,r)}return Or(e,t,r)}var ux,Nd,dx,hx;ux=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nd=function(){};dx=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Hn(fr.current);var i=null;switch(r){case"input":s=qu(e,s),n=qu(e,n),i=[];break;case"select":s=Me({},s,{value:void 0}),n=Me({},n,{value:void 0}),i=[];break;case"textarea":s=Qu(e,s),n=Qu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bl)}Zu(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};hx=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pi(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function n_(e,t,r){var n=t.pendingProps;switch(Ih(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return bt(t.type)&&wl(),nt(t),null;case 3:return n=t.stateNode,ei(),Ce(xt),Ce(lt),Bh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Co(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xt!==null&&(Id(Xt),Xt=null))),Nd(e,t),nt(t),null;case 5:Vh(t);var s=Hn(Sa.current);if(r=t.type,e!==null&&t.stateNode!=null)dx(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return nt(t),null}if(e=Hn(fr.current),Co(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[dr]=t,n[ja]=i,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<Bi.length;s++)Ne(Bi[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Pm(n,i),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",n);break;case"textarea":Am(n,i),Ne("invalid",n)}Zu(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&No(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&No(n.textContent,o,e),s=["children",""+o]):fa.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ne("scroll",n)}switch(r){case"input":vo(n),Rm(n,i,!0);break;case"textarea":vo(n),Mm(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=bl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$y(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[dr]=t,e[ja]=n,ux(e,t,!1,!1),t.stateNode=e;e:{switch(a=ed(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Bi.length;s++)Ne(Bi[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":Pm(e,n),s=qu(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Me({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":Am(e,n),s=Qu(e,n),Ne("invalid",e);break;default:s=n}Zu(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Vy(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zy(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ma(e,c):typeof c=="number"&&ma(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fa.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ne("scroll",e):c!=null&&xh(e,i,c,a))}switch(r){case"input":vo(e),Rm(e,n,!1);break;case"textarea":vo(e),Mm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Us(e,!!n.multiple,i,!1):n.defaultValue!=null&&Us(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)hx(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=Hn(Sa.current),Hn(fr.current),Co(t)){if(n=t.stateNode,r=t.memoizedProps,n[dr]=t,(i=n.nodeValue!==r)&&(e=Et,e!==null))switch(e.tag){case 3:No(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&No(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dr]=t,t.stateNode=n}return nt(t),null;case 13:if(Ce(Pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Ct!==null&&t.mode&1&&!(t.flags&128))Tv(),Xs(),t.flags|=98560,i=!1;else if(i=Co(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[dr]=t}else Xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),i=!1}else Xt!==null&&(Id(Xt),Xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?Ge===0&&(Ge=3):tf())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return ei(),Nd(e,t),e===null&&wa(t.stateNode.containerInfo),nt(t),null;case 10:return Fh(t.type._context),nt(t),null;case 17:return bt(t.type)&&wl(),nt(t),null;case 19:if(Ce(Pe),i=t.memoizedState,i===null)return nt(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Pi(i,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=El(e),a!==null){for(t.flags|=128,Pi(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return be(Pe,Pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&$e()>ri&&(t.flags|=128,n=!0,Pi(i,!1),t.lanes=4194304)}else{if(!n)if(e=El(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Te)return nt(t),null}else 2*$e()-i.renderingStartTime>ri&&r!==1073741824&&(t.flags|=128,n=!0,Pi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,r=Pe.current,be(Pe,n?r&1|2:r&1),t):(nt(t),null);case 22:case 23:return ef(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?St&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function s_(e,t){switch(Ih(t),t.tag){case 1:return bt(t.type)&&wl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),Ce(xt),Ce(lt),Bh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vh(t),null;case 13:if(Ce(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Pe),null;case 4:return ei(),null;case 10:return Fh(t.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var Po=!1,it=!1,i_=typeof WeakSet=="function"?WeakSet:Set,$=null;function Ms(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){De(e,t,n)}else r.current=null}function Cd(e,t,r){try{r()}catch(n){De(e,t,n)}}var kp=!1;function a_(e,t){if(ud=yl,e=gv(),Ah(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=a),f===i&&++d===n&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(dd={focusedElem:e,selectionRange:r},yl=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Yt(t.type,y),b);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(_){De(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return v=kp,kp=!1,v}function ra(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cd(t,r,i)}s=s.next}while(s!==n)}}function dc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ed(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fx(e){var t=e.alternate;t!==null&&(e.alternate=null,fx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dr],delete t[ja],delete t[md],delete t[Vj],delete t[Bj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mx(e){return e.tag===5||e.tag===3||e.tag===4}function jp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Td(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bl));else if(n!==4&&(e=e.child,e!==null))for(Td(e,t,r),e=e.sibling;e!==null;)Td(e,t,r),e=e.sibling}function Pd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Pd(e,t,r),e=e.sibling;e!==null;)Pd(e,t,r),e=e.sibling}var Qe=null,Jt=!1;function Hr(e,t,r){for(r=r.child;r!==null;)px(e,t,r),r=r.sibling}function px(e,t,r){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(nc,r)}catch{}switch(r.tag){case 5:it||Ms(r,t);case 6:var n=Qe,s=Jt;Qe=null,Hr(e,t,r),Qe=n,Jt=s,Qe!==null&&(Jt?(e=Qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qe.removeChild(r.stateNode));break;case 18:Qe!==null&&(Jt?(e=Qe,r=r.stateNode,e.nodeType===8?au(e.parentNode,r):e.nodeType===1&&au(e,r),va(e)):au(Qe,r.stateNode));break;case 4:n=Qe,s=Jt,Qe=r.stateNode.containerInfo,Jt=!0,Hr(e,t,r),Qe=n,Jt=s;break;case 0:case 11:case 14:case 15:if(!it&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Cd(r,t,a),s=s.next}while(s!==n)}Hr(e,t,r);break;case 1:if(!it&&(Ms(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){De(r,t,o)}Hr(e,t,r);break;case 21:Hr(e,t,r);break;case 22:r.mode&1?(it=(n=it)||r.memoizedState!==null,Hr(e,t,r),it=n):Hr(e,t,r);break;default:Hr(e,t,r)}}function _p(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new i_),t.forEach(function(n){var s=p_.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Kt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Qe=o.stateNode,Jt=!1;break e;case 3:Qe=o.stateNode.containerInfo,Jt=!0;break e;case 4:Qe=o.stateNode.containerInfo,Jt=!0;break e}o=o.return}if(Qe===null)throw Error(I(160));px(i,a,s),Qe=null,Jt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){De(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gx(t,e),t=t.sibling}function gx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kt(t,e),or(e),n&4){try{ra(3,e,e.return),dc(3,e)}catch(y){De(e,e.return,y)}try{ra(5,e,e.return)}catch(y){De(e,e.return,y)}}break;case 1:Kt(t,e),or(e),n&512&&r!==null&&Ms(r,r.return);break;case 5:if(Kt(t,e),or(e),n&512&&r!==null&&Ms(r,r.return),e.flags&32){var s=e.stateNode;try{ma(s,"")}catch(y){De(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Oy(s,i),ed(o,a);var u=ed(o,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Vy(s,h):d==="dangerouslySetInnerHTML"?zy(s,h):d==="children"?ma(s,h):xh(s,d,h,u)}switch(o){case"input":Yu(s,i);break;case"textarea":Fy(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Us(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Us(s,!!i.multiple,i.defaultValue,!0):Us(s,!!i.multiple,i.multiple?[]:"",!1))}s[ja]=i}catch(y){De(e,e.return,y)}}break;case 6:if(Kt(t,e),or(e),n&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){De(e,e.return,y)}}break;case 3:if(Kt(t,e),or(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{va(t.containerInfo)}catch(y){De(e,e.return,y)}break;case 4:Kt(t,e),or(e);break;case 13:Kt(t,e),or(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xh=$e())),n&4&&_p(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(it=(u=it)||d,Kt(t,e),it=u):Kt(t,e),or(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(h=$=d;$!==null;){switch(f=$,m=f.child,f.tag){case 0:case 11:case 14:case 15:ra(4,f,f.return);break;case 1:Ms(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){De(n,r,y)}}break;case 5:Ms(f,f.return);break;case 22:if(f.memoizedState!==null){Np(h);continue}}m!==null?(m.return=f,$=m):Np(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Uy("display",a))}catch(y){De(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){De(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Kt(t,e),or(e),n&4&&_p(e);break;case 21:break;default:Kt(t,e),or(e)}}function or(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mx(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ma(s,""),n.flags&=-33);var i=jp(e);Pd(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=jp(e);Td(e,o,a);break;default:throw Error(I(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function o_(e,t,r){$=e,yx(e)}function yx(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Po;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||it;o=Po;var u=it;if(Po=a,(it=c)&&!u)for($=s;$!==null;)a=$,c=a.child,a.tag===22&&a.memoizedState!==null?Cp(s):c!==null?(c.return=a,$=c):Cp(s);for(;i!==null;)$=i,yx(i),i=i.sibling;$=s,Po=o,it=u}Sp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Sp(e)}}function Sp(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||dc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!it)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Yt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&lp(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}lp(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&va(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}it||t.flags&512&&Ed(t)}catch(f){De(t,t.return,f)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Np(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Cp(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dc(4,t)}catch(c){De(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){De(t,s,c)}}var i=t.return;try{Ed(t)}catch(c){De(t,i,c)}break;case 5:var a=t.return;try{Ed(t)}catch(c){De(t,a,c)}}}catch(c){De(t,t.return,c)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var l_=Math.ceil,Rl=$r.ReactCurrentDispatcher,Jh=$r.ReactCurrentOwner,zt=$r.ReactCurrentBatchConfig,pe=0,Ye=null,ze=null,Ze=0,St=0,Is=_n(0),Ge=0,Ta=null,ts=0,hc=0,Qh=0,na=null,gt=null,Xh=0,ri=1/0,Nr=null,Al=!1,Rd=null,mn=null,Ro=!1,on=null,Ml=0,sa=0,Ad=null,rl=-1,nl=0;function dt(){return pe&6?$e():rl!==-1?rl:rl=$e()}function pn(e){return e.mode&1?pe&2&&Ze!==0?Ze&-Ze:Gj.transition!==null?(nl===0&&(nl=ev()),nl):(e=ye,e!==0||(e=window.event,e=e===void 0?16:ov(e.type)),e):1}function er(e,t,r,n){if(50<sa)throw sa=0,Ad=null,Error(I(185));Ha(e,r,n),(!(pe&2)||e!==Ye)&&(e===Ye&&(!(pe&2)&&(hc|=r),Ge===4&&tn(e,Ze)),wt(e,n),r===1&&pe===0&&!(t.mode&1)&&(ri=$e()+500,lc&&Sn()))}function wt(e,t){var r=e.callbackNode;Gk(e,t);var n=gl(e,e===Ye?Ze:0);if(n===0)r!==null&&Dm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Dm(r),t===1)e.tag===0?Hj(Ep.bind(null,e)):Nv(Ep.bind(null,e)),zj(function(){!(pe&6)&&Sn()}),r=null;else{switch(tv(n)){case 1:r=_h;break;case 4:r=Xy;break;case 16:r=pl;break;case 536870912:r=Zy;break;default:r=pl}r=Sx(r,vx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vx(e,t){if(rl=-1,nl=0,pe&6)throw Error(I(327));var r=e.callbackNode;if(Ws()&&e.callbackNode!==r)return null;var n=gl(e,e===Ye?Ze:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Il(e,n);else{t=n;var s=pe;pe|=2;var i=bx();(Ye!==e||Ze!==t)&&(Nr=null,ri=$e()+500,Yn(e,t));do try{d_();break}catch(o){xx(e,o)}while(!0);Oh(),Rl.current=i,pe=s,ze!==null?t=0:(Ye=null,Ze=0,t=Ge)}if(t!==0){if(t===2&&(s=id(e),s!==0&&(n=s,t=Md(e,s))),t===1)throw r=Ta,Yn(e,0),tn(e,n),wt(e,$e()),r;if(t===6)tn(e,n);else{if(s=e.current.alternate,!(n&30)&&!c_(s)&&(t=Il(e,n),t===2&&(i=id(e),i!==0&&(n=i,t=Md(e,i))),t===1))throw r=Ta,Yn(e,0),tn(e,n),wt(e,$e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:On(e,gt,Nr);break;case 3:if(tn(e,n),(n&130023424)===n&&(t=Xh+500-$e(),10<t)){if(gl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=fd(On.bind(null,e,gt,Nr),t);break}On(e,gt,Nr);break;case 4:if(tn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Zt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*l_(n/1960))-n,10<n){e.timeoutHandle=fd(On.bind(null,e,gt,Nr),n);break}On(e,gt,Nr);break;case 5:On(e,gt,Nr);break;default:throw Error(I(329))}}}return wt(e,$e()),e.callbackNode===r?vx.bind(null,e):null}function Md(e,t){var r=na;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=Il(e,t),e!==2&&(t=gt,gt=r,t!==null&&Id(t)),e}function Id(e){gt===null?gt=e:gt.push.apply(gt,e)}function c_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~Qh,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zt(t),n=1<<r;e[r]=-1,t&=~n}}function Ep(e){if(pe&6)throw Error(I(327));Ws();var t=gl(e,0);if(!(t&1))return wt(e,$e()),null;var r=Il(e,t);if(e.tag!==0&&r===2){var n=id(e);n!==0&&(t=n,r=Md(e,n))}if(r===1)throw r=Ta,Yn(e,0),tn(e,t),wt(e,$e()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,gt,Nr),wt(e,$e()),null}function Zh(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(ri=$e()+500,lc&&Sn())}}function rs(e){on!==null&&on.tag===0&&!(pe&6)&&Ws();var t=pe;pe|=1;var r=zt.transition,n=ye;try{if(zt.transition=null,ye=1,e)return e()}finally{ye=n,zt.transition=r,pe=t,!(pe&6)&&Sn()}}function ef(){St=Is.current,Ce(Is)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$j(r)),ze!==null)for(r=ze.return;r!==null;){var n=r;switch(Ih(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wl();break;case 3:ei(),Ce(xt),Ce(lt),Bh();break;case 5:Vh(n);break;case 4:ei();break;case 13:Ce(Pe);break;case 19:Ce(Pe);break;case 10:Fh(n.type._context);break;case 22:case 23:ef()}r=r.return}if(Ye=e,ze=e=gn(e.current,null),Ze=St=t,Ge=0,Ta=null,Qh=hc=ts=0,gt=na=null,Bn!==null){for(t=0;t<Bn.length;t++)if(r=Bn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Bn=null}return e}function xx(e,t){do{var r=ze;try{if(Oh(),Zo.current=Pl,Tl){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Tl=!1}if(es=0,qe=He=Ae=null,ta=!1,Na=0,Jh.current=null,r===null||r.return===null){Ge=1,Ta=t,ze=null;break}e:{var i=e,a=r.return,o=r,c=t;if(t=Ze,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=pp(a);if(m!==null){m.flags&=-257,gp(m,a,o,i,t),m.mode&1&&mp(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){mp(i,u,t),tf();break e}c=Error(I(426))}}else if(Te&&o.mode&1){var b=pp(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),gp(b,a,o,i,t),Lh(ti(c,o));break e}}i=c=ti(c,o),Ge!==4&&(Ge=2),na===null?na=[i]:na.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=rx(i,c,t);op(i,p);break e;case 1:o=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(mn===null||!mn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=nx(i,o,t);op(i,_);break e}}i=i.return}while(i!==null)}kx(r)}catch(k){t=k,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function bx(){var e=Rl.current;return Rl.current=Pl,e===null?Pl:e}function tf(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ye===null||!(ts&268435455)&&!(hc&268435455)||tn(Ye,Ze)}function Il(e,t){var r=pe;pe|=2;var n=bx();(Ye!==e||Ze!==t)&&(Nr=null,Yn(e,t));do try{u_();break}catch(s){xx(e,s)}while(!0);if(Oh(),pe=r,Rl.current=n,ze!==null)throw Error(I(261));return Ye=null,Ze=0,Ge}function u_(){for(;ze!==null;)wx(ze)}function d_(){for(;ze!==null&&!Dk();)wx(ze)}function wx(e){var t=_x(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?kx(e):ze=t,Jh.current=null}function kx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=s_(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,ze=null;return}}else if(r=n_(r,t,St),r!==null){ze=r;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Ge===0&&(Ge=5)}function On(e,t,r){var n=ye,s=zt.transition;try{zt.transition=null,ye=1,h_(e,t,r,n)}finally{zt.transition=s,ye=n}return null}function h_(e,t,r,n){do Ws();while(on!==null);if(pe&6)throw Error(I(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Wk(e,i),e===Ye&&(ze=Ye=null,Ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ro||(Ro=!0,Sx(pl,function(){return Ws(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=zt.transition,zt.transition=null;var a=ye;ye=1;var o=pe;pe|=4,Jh.current=null,a_(e,r),gx(r,e),Aj(dd),yl=!!ud,dd=ud=null,e.current=r,o_(r),Ok(),pe=o,ye=a,zt.transition=i}else e.current=r;if(Ro&&(Ro=!1,on=e,Ml=s),i=e.pendingLanes,i===0&&(mn=null),zk(r.stateNode),wt(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Al)throw Al=!1,e=Rd,Rd=null,e;return Ml&1&&e.tag!==0&&Ws(),i=e.pendingLanes,i&1?e===Ad?sa++:(sa=0,Ad=e):sa=0,Sn(),null}function Ws(){if(on!==null){var e=tv(Ml),t=zt.transition,r=ye;try{if(zt.transition=null,ye=16>e?16:e,on===null)var n=!1;else{if(e=on,on=null,Ml=0,pe&6)throw Error(I(331));var s=pe;for(pe|=4,$=e.current;$!==null;){var i=$,a=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:ra(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var f=d.sibling,m=d.return;if(fx(d),d===u){$=null;break}if(f!==null){f.return=m,$=f;break}$=m}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}$=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,$=a;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ra(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,$=p;break e}$=i.return}}var g=e.current;for($=g;$!==null;){a=$;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,$=x;else e:for(a=g;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:dc(9,o)}}catch(k){De(o,o.return,k)}if(o===a){$=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,$=_;break e}$=o.return}}if(pe=s,Sn(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(nc,e)}catch{}n=!0}return n}finally{ye=r,zt.transition=t}}return!1}function Tp(e,t,r){t=ti(r,t),t=rx(e,t,1),e=fn(e,t,1),t=dt(),e!==null&&(Ha(e,1,t),wt(e,t))}function De(e,t,r){if(e.tag===3)Tp(e,e,r);else for(;t!==null;){if(t.tag===3){Tp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mn===null||!mn.has(n))){e=ti(r,e),e=nx(t,e,1),t=fn(t,e,1),e=dt(),t!==null&&(Ha(t,1,e),wt(t,e));break}}t=t.return}}function f_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&r,Ye===e&&(Ze&r)===r&&(Ge===4||Ge===3&&(Ze&130023424)===Ze&&500>$e()-Xh?Yn(e,0):Qh|=r),wt(e,t)}function jx(e,t){t===0&&(e.mode&1?(t=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):t=1);var r=dt();e=Dr(e,t),e!==null&&(Ha(e,t,r),wt(e,r))}function m_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jx(e,r)}function p_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),jx(e,r)}var _x;_x=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vt=!1,r_(e,t,r);vt=!!(e.flags&131072)}else vt=!1,Te&&t.flags&1048576&&Cv(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;tl(e,t),e=t.pendingProps;var s=Qs(t,lt.current);Gs(t,r),s=Gh(null,t,n,e,s,r);var i=Wh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(n)?(i=!0,kl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zh(t),s.updater=cc,t.stateNode=s,s._reactInternals=t,bd(t,n,e,r),t=jd(null,t,n,!0,i,r)):(t.tag=0,Te&&i&&Mh(t),ct(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(tl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=y_(n),e=Yt(n,e),s){case 0:t=kd(null,t,n,e,r);break e;case 1:t=xp(null,t,n,e,r);break e;case 11:t=yp(null,t,n,e,r);break e;case 14:t=vp(null,t,n,Yt(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yt(n,s),kd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yt(n,s),xp(e,t,n,s,r);case 3:e:{if(ox(t),e===null)throw Error(I(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Rv(e,t),Cl(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ti(Error(I(423)),t),t=bp(e,t,n,r,s);break e}else if(n!==s){s=ti(Error(I(424)),t),t=bp(e,t,n,r,s);break e}else for(Ct=hn(t.stateNode.containerInfo.firstChild),Et=t,Te=!0,Xt=null,r=Lv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xs(),n===s){t=Or(e,t,r);break e}ct(e,t,n,r)}t=t.child}return t;case 5:return Dv(t),e===null&&yd(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,hd(n,s)?a=null:i!==null&&hd(n,i)&&(t.flags|=32),ax(e,t),ct(e,t,a,r),t.child;case 6:return e===null&&yd(t),null;case 13:return lx(e,t,r);case 4:return Uh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zs(t,null,n,r):ct(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yt(n,s),yp(e,t,n,s,r);case 7:return ct(e,t,t.pendingProps,r),t.child;case 8:return ct(e,t,t.pendingProps.children,r),t.child;case 12:return ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,be(Sl,n._currentValue),n._currentValue=a,i!==null)if(nr(i.value,a)){if(i.children===s.children&&!xt.current){t=Or(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),vd(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),vd(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ct(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Gs(t,r),s=Vt(s),n=n(s),t.flags|=1,ct(e,t,n,r),t.child;case 14:return n=t.type,s=Yt(n,t.pendingProps),s=Yt(n.type,s),vp(e,t,n,s,r);case 15:return sx(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yt(n,s),tl(e,t),t.tag=1,bt(n)?(e=!0,kl(t)):e=!1,Gs(t,r),Mv(t,n,s),bd(t,n,s,r),jd(null,t,n,!0,e,r);case 19:return cx(e,t,r);case 22:return ix(e,t,r)}throw Error(I(156,t.tag))};function Sx(e,t){return Qy(e,t)}function g_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,r,n){return new g_(e,t,r,n)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function y_(e){if(typeof e=="function")return rf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wh)return 11;if(e===kh)return 14}return 2}function gn(e,t){var r=e.alternate;return r===null?(r=$t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function sl(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")rf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case _s:return Jn(r.children,s,i,t);case bh:a=8,s|=8;break;case Hu:return e=$t(12,r,t,s|2),e.elementType=Hu,e.lanes=i,e;case Gu:return e=$t(13,r,t,s),e.elementType=Gu,e.lanes=i,e;case Wu:return e=$t(19,r,t,s),e.elementType=Wu,e.lanes=i,e;case Iy:return fc(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ay:a=10;break e;case My:a=9;break e;case wh:a=11;break e;case kh:a=14;break e;case Jr:a=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=$t(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Jn(e,t,r,n){return e=$t(7,e,n,t),e.lanes=r,e}function fc(e,t,r,n){return e=$t(22,e,n,t),e.elementType=Iy,e.lanes=r,e.stateNode={isHidden:!1},e}function mu(e,t,r){return e=$t(6,e,null,t),e.lanes=r,e}function pu(e,t,r){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function v_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yc(0),this.expirationTimes=Yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nf(e,t,r,n,s,i,a,o,c){return e=new v_(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$t(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zh(i),e}function x_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Nx(e){if(!e)return bn;e=e._reactInternals;e:{if(as(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(bt(r))return Sv(e,r,t)}return t}function Cx(e,t,r,n,s,i,a,o,c){return e=nf(r,n,!0,e,s,i,a,o,c),e.context=Nx(null),r=e.current,n=dt(),s=pn(r),i=Rr(n,s),i.callback=t??null,fn(r,i,s),e.current.lanes=s,Ha(e,s,n),wt(e,n),e}function mc(e,t,r,n){var s=t.current,i=dt(),a=pn(s);return r=Nx(r),t.context===null?t.context=r:t.pendingContext=r,t=Rr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fn(s,t,a),e!==null&&(er(e,s,a,i),Xo(e,s,a)),a}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sf(e,t){Pp(e,t),(e=e.alternate)&&Pp(e,t)}function b_(){return null}var Ex=typeof reportError=="function"?reportError:function(e){console.error(e)};function af(e){this._internalRoot=e}pc.prototype.render=af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));mc(e,t,null,null)};pc.prototype.unmount=af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rs(function(){mc(null,e,null,null)}),t[Lr]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=sv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<en.length&&t!==0&&t<en[r].priority;r++);en.splice(r,0,e),r===0&&av(e)}};function of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rp(){}function w_(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ll(a);i.call(u)}}var a=Cx(t,n,e,0,null,!1,!1,"",Rp);return e._reactRootContainer=a,e[Lr]=a.current,wa(e.nodeType===8?e.parentNode:e),rs(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Ll(c);o.call(u)}}var c=nf(e,0,!1,null,null,!1,!1,"",Rp);return e._reactRootContainer=c,e[Lr]=c.current,wa(e.nodeType===8?e.parentNode:e),rs(function(){mc(t,c,r,n)}),c}function yc(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=Ll(a);o.call(c)}}mc(t,a,e,s)}else a=w_(r,t,e,s,n);return Ll(a)}rv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vi(t.pendingLanes);r!==0&&(Sh(t,r|1),wt(t,$e()),!(pe&6)&&(ri=$e()+500,Sn()))}break;case 13:rs(function(){var n=Dr(e,1);if(n!==null){var s=dt();er(n,e,1,s)}}),sf(e,1)}};Nh=function(e){if(e.tag===13){var t=Dr(e,134217728);if(t!==null){var r=dt();er(t,e,134217728,r)}sf(e,134217728)}};nv=function(e){if(e.tag===13){var t=pn(e),r=Dr(e,t);if(r!==null){var n=dt();er(r,e,t,n)}sf(e,t)}};sv=function(){return ye};iv=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};rd=function(e,t,r){switch(t){case"input":if(Yu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=oc(n);if(!s)throw Error(I(90));Dy(n),Yu(n,s)}}}break;case"textarea":Fy(e,r);break;case"select":t=r.value,t!=null&&Us(e,!!r.multiple,t,!1)}};Gy=Zh;Wy=rs;var k_={usingClientEntryPoint:!1,Events:[Wa,Es,oc,By,Hy,Zh]},Ri={findFiberByHostInstance:Vn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},j_={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||b_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{nc=Ao.inject(j_),hr=Ao}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k_;At.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!of(t))throw Error(I(200));return x_(e,t,null,r)};At.createRoot=function(e,t){if(!of(e))throw Error(I(299));var r=!1,n="",s=Ex;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nf(e,1,!1,null,null,r,!1,n,s),e[Lr]=t.current,wa(e.nodeType===8?e.parentNode:e),new af(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Yy(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return rs(e)};At.hydrate=function(e,t,r){if(!gc(t))throw Error(I(200));return yc(null,e,t,!0,r)};At.hydrateRoot=function(e,t,r){if(!of(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Ex;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Cx(t,null,e,1,r??null,s,!1,i,a),e[Lr]=t.current,wa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new pc(t)};At.render=function(e,t,r){if(!gc(t))throw Error(I(200));return yc(null,e,t,!1,r)};At.unmountComponentAtNode=function(e){if(!gc(e))throw Error(I(40));return e._reactRootContainer?(rs(function(){yc(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};At.unstable_batchedUpdates=Zh;At.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!gc(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return yc(e,t,r,!1,n)};At.version="18.2.0-next-9e3b772b8-20220608";function Tx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tx)}catch(e){console.error(e)}}Tx(),Cy.exports=At;var Px=Cy.exports,Rx,Ap=Px;Rx=Ap.createRoot,Ap.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ax=e=>{throw TypeError(e)},__=(e,t,r)=>t.has(e)||Ax("Cannot "+r),gu=(e,t,r)=>(__(e,t,"read from private field"),r?r.call(e):t.get(e)),S_=(e,t,r)=>t.has(e)?Ax("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Mp="popstate";function N_(e={}){function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Pa("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:vr(s)}return E_(t,r,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function C_(){return Math.random().toString(36).substring(2,10)}function Ip(e,t){return{usr:e.state,key:e.key,idx:t}}function Pa(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nn(t):t,state:r,key:t&&t.key||n||C_()}}function vr({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function E_(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let b=d(),p=b==null?null:b-u;u=b,c&&c({action:o,location:y.location,delta:p})}function f(b,p){o="PUSH";let g=Pa(y.location,b,p);u=d()+1;let x=Ip(g,u),_=y.createHref(g);try{a.pushState(x,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&c&&c({action:o,location:y.location,delta:1})}function m(b,p){o="REPLACE";let g=Pa(y.location,b,p);u=d();let x=Ip(g,u),_=y.createHref(g);a.replaceState(x,"",_),i&&c&&c({action:o,location:y.location,delta:0})}function v(b){return Mx(b)}let y={get action(){return o},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Mp,h),c=b,()=>{s.removeEventListener(Mp,h),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let p=v(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(b){return a.go(b)}};return y}function Mx(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ae(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:vr(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var Hi,Lp=class{constructor(e){if(S_(this,Hi,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(gu(this,Hi).has(e))return gu(this,Hi).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){gu(this,Hi).set(e,t)}};Hi=new WeakMap;var T_=new Set(["lazy","caseSensitive","path","id","index","children"]);function P_(e){return T_.has(e)}var R_=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function A_(e){return R_.has(e)}function M_(e){return e.index===!0}function Ra(e,t,r=[],n={},s=!1){return e.map((i,a)=>{let o=[...r,String(a)],c=typeof i.id=="string"?i.id:o.join("-");if(ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),ae(s||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),M_(i)){let u={...i,id:c};return n[c]=Dp(u,t(u)),u}else{let u={...i,id:c,children:void 0};return n[c]=Dp(u,t(u)),i.children&&(u.children=Ra(i.children,t,o,n,s)),u}})}function Dp(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function rn(e,t,r="/"){return Gi(e,t,r,!1)}function Gi(e,t,r,n){let s=typeof t=="string"?Nn(t):t,i=Ht(s.pathname||"/",r);if(i==null)return null;let a=Ix(e);L_(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=W_(i);o=H_(a[c],u,n)}return o}function I_(e,t){let{route:r,pathname:n,params:s}=e;return{id:r.id,pathname:n,params:s,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function Ix(e,t=[],r=[],n="",s=!1){let i=(a,o,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;ae(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=mr([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(ae(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Ix(a.children,t,f,h,c)),!(a.path==null&&!a.index)&&t.push({path:h,score:V_(h,a.index),routesMeta:f})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let u of Lx(a.path))i(a,o,!0,u)}),t}function Lx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Lx(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function L_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:B_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var D_=/^:[\w-]+$/,O_=3,F_=2,$_=1,z_=10,U_=-2,Op=e=>e==="*";function V_(e,t){let r=e.split("/"),n=r.length;return r.some(Op)&&(n+=U_),t&&(n+=F_),r.filter(s=>!Op(s)).reduce((s,i)=>s+(D_.test(i)?O_:i===""?$_:z_),n)}function B_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function H_(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Dl({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Dl({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:mr([i,h.pathname]),pathnameBase:J_(mr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=mr([i,h.pathnameBase]))}return a}function Dl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=G_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let v=o[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function G_(e,t=!1,r=!0){Oe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function W_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oe(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ht(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function K_({basename:e,pathname:t}){return t==="/"?e:mr([e,t])}var q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vc=e=>q_.test(e);function Y_(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Nn(e):e,i;if(r)if(vc(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Oe(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=Fp(r.substring(1),"/"):i=Fp(r,t)}else i=t;return{pathname:i,search:Q_(n),hash:X_(s)}}function Fp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yu(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xc(e){let t=Dx(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function bc(e,t,r,n=!1){let s;typeof e=="string"?s=Nn(e):(s={...e},ae(!s.pathname||!s.pathname.includes("?"),yu("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),yu("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),yu("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=Y_(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var mr=e=>e.join("/").replace(/\/\/+/g,"/"),J_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,X_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ol=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Aa(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function lf(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ln=Symbol("Uninstrumented");function Z_(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(s=>s({id:t.id,index:t.index,path:t.path,instrument(i){let a=Object.keys(r);for(let o of a)i[o]&&r[o].push(i[o])}}));let n={};if(typeof t.lazy=="function"&&r.lazy.length>0){let s=Ls(r.lazy,t.lazy,()=>{});s&&(n.lazy=s)}if(typeof t.lazy=="object"){let s=t.lazy;["middleware","loader","action"].forEach(i=>{let a=s[i],o=r[`lazy.${i}`];if(typeof a=="function"&&o.length>0){let c=Ls(o,a,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[i]:c}))}})}return["loader","action"].forEach(s=>{let i=t[s];if(typeof i=="function"&&r[s].length>0){let a=i[ln]??i,o=Ls(r[s],a,(...c)=>$p(c[0]));o&&(o[ln]=a,n[s]=o)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(n.middleware=t.middleware.map(s=>{let i=s[ln]??s,a=Ls(r.middleware,i,(...o)=>$p(o[0]));return a?(a[ln]=i,a):s})),n}function eS(e,t){let r={navigate:[],fetch:[]};if(t.forEach(n=>n({instrument(s){let i=Object.keys(s);for(let a of i)s[a]&&r[a].push(s[a])}})),r.navigate.length>0){let n=e.navigate[ln]??e.navigate,s=Ls(r.navigate,n,(...i)=>{let[a,o]=i;return{to:typeof a=="number"||typeof a=="string"?a:a?vr(a):".",...zp(e,o??{})}});s&&(s[ln]=n,e.navigate=s)}if(r.fetch.length>0){let n=e.fetch[ln]??e.fetch,s=Ls(r.fetch,n,(...i)=>{let[a,,o,c]=i;return{href:o??".",fetcherKey:a,...zp(e,c??{})}});s&&(s[ln]=n,e.fetch=s)}return e}function Ls(e,t,r){return e.length===0?null:async(...n)=>{let s=await Ox(e,r(...n),()=>t(...n),e.length-1);if(s.type==="error")throw s.value;return s.value}}async function Ox(e,t,r,n){let s=e[n],i;if(s){let a,o=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=Ox(e,t,r,n-1),i=await a,ae(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await s(o,t)}catch(c){console.error("An instrumentation function threw an error:",c)}a||await o(),await a}else try{i={type:"success",value:await r()}}catch(a){i={type:"error",value:a}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function $p(e){let{request:t,context:r,params:n,unstable_pattern:s}=e;return{request:tS(t),params:{...n},unstable_pattern:s,context:rS(r)}}function zp(e,t){return{currentUrl:vr(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function tS(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function rS(e){if(sS(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var nS=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sS(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===nS}var Fx=["POST","PUT","PATCH","DELETE"],iS=new Set(Fx),aS=["GET",...Fx],oS=new Set(aS),lS=new Set([301,302,303,307,308]),cS=new Set([307,308]),vu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ai={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dS=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),$x="remix-router-transitions",zx=Symbol("ResetLoaderData");function hS(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";ae(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],s=e.mapRouteProperties||dS,i=s;if(e.unstable_instrumentations){let S=e.unstable_instrumentations;i=N=>({...s(N),...Z_(S.map(P=>P.route).filter(Boolean),N)})}let a={},o=Ra(e.routes,i,void 0,a),c,u=e.basename||"/";u.startsWith("/")||(u=`/${u}`);let d=e.dataStrategy||yS,h={...e.future},f=null,m=new Set,v=null,y=null,b=null,p=e.hydrationData!=null,g=rn(o,e.history.location,u),x=!1,_=null,k;if(g==null&&!e.patchRoutesOnNavigation){let S=Dt(404,{pathname:e.history.location.pathname}),{matches:N,route:P}=Mo(o);k=!0,g=N,_={[P.id]:S}}else if(g&&!e.hydrationData&&uo(g,o,e.history.location.pathname).active&&(g=null),g)if(g.some(S=>S.route.lazy))k=!1;else if(!g.some(S=>cf(S.route)))k=!0;else{let S=e.hydrationData?e.hydrationData.loaderData:null,N=e.hydrationData?e.hydrationData.errors:null;if(N){let P=g.findIndex(M=>N[M.route.id]!==void 0);k=g.slice(0,P+1).every(M=>!Dd(M.route,S,N))}else k=g.every(P=>!Dd(P.route,S,N))}else{k=!1,g=[];let S=uo(null,o,e.history.location.pathname);S.active&&S.matches&&(x=!0,g=S.matches)}let T,j={historyAction:e.history.action,location:e.history.location,matches:g,initialized:k,navigation:vu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},E="POP",C=!1,R,L=!1,D=new Map,de=null,fe=!1,te=!1,le=new Set,Q=new Map,A=0,F=-1,V=new Map,J=new Set,ge=new Map,Ve=new Map,ke=new Set,jt=new Map,mt,z=null;function he(){if(f=e.history.listen(({action:S,location:N,delta:P})=>{if(mt){mt(),mt=void 0;return}Oe(jt.size===0||P!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let M=xm({currentLocation:j.location,nextLocation:N,historyAction:S});if(M&&P!=null){let O=new Promise(G=>{mt=G});e.history.go(P*-1),co(M,{state:"blocked",location:N,proceed(){co(M,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),O.then(()=>e.history.go(P))},reset(){let G=new Map(j.blockers);G.set(M,Ai),Je({blockers:G})}});return}return Tn(S,N)}),r){AS(t,D);let S=()=>MS(t,D);t.addEventListener("pagehide",S),de=()=>t.removeEventListener("pagehide",S)}return j.initialized||Tn("POP",j.location,{initialHydration:!0}),T}function Ur(){f&&f(),de&&de(),m.clear(),R&&R.abort(),j.fetchers.forEach((S,N)=>Uc(N)),j.blockers.forEach((S,N)=>vm(N))}function Wt(S){return m.add(S),()=>m.delete(S)}function Je(S,N={}){S.matches&&(S.matches=S.matches.map(O=>{let G=a[O.route.id],W=O.route;return W.element!==G.element||W.errorElement!==G.errorElement||W.hydrateFallbackElement!==G.hydrateFallbackElement?{...O,route:G}:O})),j={...j,...S};let P=[],M=[];j.fetchers.forEach((O,G)=>{O.state==="idle"&&(ke.has(G)?P.push(G):M.push(G))}),ke.forEach(O=>{!j.fetchers.has(O)&&!Q.has(O)&&P.push(O)}),[...m].forEach(O=>O(j,{deletedFetchers:P,viewTransitionOpts:N.viewTransitionOpts,flushSync:N.flushSync===!0})),P.forEach(O=>Uc(O)),M.forEach(O=>j.fetchers.delete(O))}function Vr(S,N,{flushSync:P}={}){var Z,q;let M=j.actionData!=null&&j.navigation.formMethod!=null&&ut(j.navigation.formMethod)&&j.navigation.state==="loading"&&((Z=S.state)==null?void 0:Z._isRedirect)!==!0,O;N.actionData?Object.keys(N.actionData).length>0?O=N.actionData:O=null:M?O=j.actionData:O=null;let G=N.loaderData?Jp(j.loaderData,N.loaderData,N.matches||[],N.errors):j.loaderData,W=j.blockers;W.size>0&&(W=new Map(W),W.forEach((ne,ve)=>W.set(ve,Ai)));let H=fe?!1:wm(S,N.matches||j.matches),K=C===!0||j.navigation.formMethod!=null&&ut(j.navigation.formMethod)&&((q=S.state)==null?void 0:q._isRedirect)!==!0;c&&(o=c,c=void 0),fe||E==="POP"||(E==="PUSH"?e.history.push(S,S.state):E==="REPLACE"&&e.history.replace(S,S.state));let Y;if(E==="POP"){let ne=D.get(j.location.pathname);ne&&ne.has(S.pathname)?Y={currentLocation:j.location,nextLocation:S}:D.has(S.pathname)&&(Y={currentLocation:S,nextLocation:j.location})}else if(L){let ne=D.get(j.location.pathname);ne?ne.add(S.pathname):(ne=new Set([S.pathname]),D.set(j.location.pathname,ne)),Y={currentLocation:j.location,nextLocation:S}}Je({...N,actionData:O,loaderData:G,historyAction:E,location:S,initialized:!0,navigation:vu,revalidation:"idle",restoreScrollPosition:H,preventScrollReset:K,blockers:W},{viewTransitionOpts:Y,flushSync:P===!0}),E="POP",C=!1,L=!1,fe=!1,te=!1,z==null||z.resolve(),z=null}async function dm(S,N){if(typeof S=="number"){e.history.go(S);return}let P=Ld(j.location,j.matches,u,S,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:M,submission:O,error:G}=Up(!1,P,N),W=j.location,H=Pa(j.location,M,N&&N.state);H={...H,...e.history.encodeLocation(H)};let K=N&&N.replace!=null?N.replace:void 0,Y="PUSH";K===!0?Y="REPLACE":K===!1||O!=null&&ut(O.formMethod)&&O.formAction===j.location.pathname+j.location.search&&(Y="REPLACE");let Z=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,q=(N&&N.flushSync)===!0,ne=xm({currentLocation:W,nextLocation:H,historyAction:Y});if(ne){co(ne,{state:"blocked",location:H,proceed(){co(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),dm(S,N)},reset(){let ve=new Map(j.blockers);ve.set(ne,Ai),Je({blockers:ve})}});return}await Tn(Y,H,{submission:O,pendingError:G,preventScrollReset:Z,replace:N&&N.replace,enableViewTransition:N&&N.viewTransition,flushSync:q})}function F1(){z||(z=IS()),zc(),Je({revalidation:"loading"});let S=z.promise;return j.navigation.state==="submitting"?S:j.navigation.state==="idle"?(Tn(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),S):(Tn(E||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:L===!0}),S)}async function Tn(S,N,P){R&&R.abort(),R=null,E=S,fe=(P&&P.startUninterruptedRevalidation)===!0,Y1(j.location,j.matches),C=(P&&P.preventScrollReset)===!0,L=(P&&P.enableViewTransition)===!0;let M=c||o,O=P&&P.overrideNavigation,G=P!=null&&P.initialHydration&&j.matches&&j.matches.length>0&&!x?j.matches:rn(M,N,u),W=(P&&P.flushSync)===!0;if(G&&j.initialized&&!te&&SS(j.location,N)&&!(P&&P.submission&&ut(P.submission.formMethod))){Vr(N,{matches:G},{flushSync:W});return}let H=uo(G,M,N.pathname);if(H.active&&H.matches&&(G=H.matches),!G){let{error:We,notFoundMatches:je,route:_e}=Vc(N.pathname);Vr(N,{matches:je,loaderData:{},errors:{[_e.id]:We}},{flushSync:W});return}R=new AbortController;let K=ws(e.history,N,R.signal,P&&P.submission),Y=e.getContext?await e.getContext():new Lp,Z;if(P&&P.pendingError)Z=[nn(G).route.id,{type:"error",error:P.pendingError}];else if(P&&P.submission&&ut(P.submission.formMethod)){let We=await $1(K,N,P.submission,G,Y,H.active,P&&P.initialHydration===!0,{replace:P.replace,flushSync:W});if(We.shortCircuited)return;if(We.pendingActionResult){let[je,_e]=We.pendingActionResult;if(Nt(_e)&&Aa(_e.error)&&_e.error.status===404){R=null,Vr(N,{matches:We.matches,loaderData:{},errors:{[je]:_e.error}});return}}G=We.matches||G,Z=We.pendingActionResult,O=xu(N,P.submission),W=!1,H.active=!1,K=ws(e.history,K.url,K.signal)}let{shortCircuited:q,matches:ne,loaderData:ve,errors:Be}=await z1(K,N,G,Y,H.active,O,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,W,Z);q||(R=null,Vr(N,{matches:ne||G,...Qp(Z),loaderData:ve,errors:Be}))}async function $1(S,N,P,M,O,G,W,H={}){zc();let K=PS(N,P);if(Je({navigation:K},{flushSync:H.flushSync===!0}),G){let q=await ho(M,N.pathname,S.signal);if(q.type==="aborted")return{shortCircuited:!0};if(q.type==="error"){if(q.partialMatches.length===0){let{matches:ve,route:Be}=Mo(o);return{matches:ve,pendingActionResult:[Be.id,{type:"error",error:q.error}]}}let ne=nn(q.partialMatches).route.id;return{matches:q.partialMatches,pendingActionResult:[ne,{type:"error",error:q.error}]}}else if(q.matches)M=q.matches;else{let{notFoundMatches:ne,error:ve,route:Be}=Vc(N.pathname);return{matches:ne,pendingActionResult:[Be.id,{type:"error",error:ve}]}}}let Y,Z=il(M,N);if(!Z.route.action&&!Z.route.lazy)Y={type:"error",error:Dt(405,{method:S.method,pathname:N.pathname,routeId:Z.route.id})};else{let q=Ks(i,a,S,M,Z,W?[]:n,O),ne=await wi(S,q,O,null);if(Y=ne[Z.route.id],!Y){for(let ve of M)if(ne[ve.route.id]){Y=ne[ve.route.id];break}}if(S.signal.aborted)return{shortCircuited:!0}}if(Gn(Y)){let q;return H&&H.replace!=null?q=H.replace:q=Kp(Y.response.headers.get("Location"),new URL(S.url),u)===j.location.pathname+j.location.search,await Pn(S,Y,!0,{submission:P,replace:q}),{shortCircuited:!0}}if(Nt(Y)){let q=nn(M,Z.route.id);return(H&&H.replace)!==!0&&(E="PUSH"),{matches:M,pendingActionResult:[q.route.id,Y,Z.route.id]}}return{matches:M,pendingActionResult:[Z.route.id,Y]}}async function z1(S,N,P,M,O,G,W,H,K,Y,Z,q){let ne=G||xu(N,W),ve=W||H||Zp(ne),Be=!fe&&!Y;if(O){if(Be){let tt=hm(q);Je({navigation:ne,...tt!==void 0?{actionData:tt}:{}},{flushSync:Z})}let me=await ho(P,N.pathname,S.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){if(me.partialMatches.length===0){let{matches:hs,route:Mn}=Mo(o);return{matches:hs,loaderData:{},errors:{[Mn.id]:me.error}}}let tt=nn(me.partialMatches).route.id;return{matches:me.partialMatches,loaderData:{},errors:{[tt]:me.error}}}else if(me.matches)P=me.matches;else{let{error:tt,notFoundMatches:hs,route:Mn}=Vc(N.pathname);return{matches:hs,loaderData:{},errors:{[Mn.id]:tt}}}}let We=c||o,{dsMatches:je,revalidatingFetchers:_e}=Vp(S,M,i,a,e.history,j,P,ve,N,Y?[]:n,Y===!0,te,le,ke,ge,J,We,u,e.patchRoutesOnNavigation!=null,q);if(F=++A,!e.dataStrategy&&!je.some(me=>me.shouldLoad)&&!je.some(me=>me.route.middleware&&me.route.middleware.length>0)&&_e.length===0){let me=gm();return Vr(N,{matches:P,loaderData:{},errors:q&&Nt(q[1])?{[q[0]]:q[1].error}:null,...Qp(q),...me?{fetchers:new Map(j.fetchers)}:{}},{flushSync:Z}),{shortCircuited:!0}}if(Be){let me={};if(!O){me.navigation=ne;let tt=hm(q);tt!==void 0&&(me.actionData=tt)}_e.length>0&&(me.fetchers=U1(_e)),Je(me,{flushSync:Z})}_e.forEach(me=>{kr(me.key),me.controller&&Q.set(me.key,me.controller)});let Rn=()=>_e.forEach(me=>kr(me.key));R&&R.signal.addEventListener("abort",Rn);let{loaderResults:ki,fetcherResults:Br}=await fm(je,_e,S,M);if(S.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Rn),_e.forEach(me=>Q.delete(me.key));let ar=Io(ki);if(ar)return await Pn(S,ar.result,!0,{replace:K}),{shortCircuited:!0};if(ar=Io(Br),ar)return J.add(ar.key),await Pn(S,ar.result,!0,{replace:K}),{shortCircuited:!0};let{loaderData:Bc,errors:ji}=Yp(j,P,ki,q,_e,Br);Y&&j.errors&&(ji={...j.errors,...ji});let An=gm(),fo=ym(F),mo=An||fo||_e.length>0;return{matches:P,loaderData:Bc,errors:ji,...mo?{fetchers:new Map(j.fetchers)}:{}}}function hm(S){if(S&&!Nt(S[1]))return{[S[0]]:S[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function U1(S){return S.forEach(N=>{let P=j.fetchers.get(N.key),M=Mi(void 0,P?P.data:void 0);j.fetchers.set(N.key,M)}),new Map(j.fetchers)}async function V1(S,N,P,M){kr(S);let O=(M&&M.flushSync)===!0,G=c||o,W=Ld(j.location,j.matches,u,P,N,M==null?void 0:M.relative),H=rn(G,W,u),K=uo(H,G,W);if(K.active&&K.matches&&(H=K.matches),!H){wr(S,N,Dt(404,{pathname:W}),{flushSync:O});return}let{path:Y,submission:Z,error:q}=Up(!0,W,M);if(q){wr(S,N,q,{flushSync:O});return}let ne=e.getContext?await e.getContext():new Lp,ve=(M&&M.preventScrollReset)===!0;if(Z&&ut(Z.formMethod)){await B1(S,N,Y,H,ne,K.active,O,ve,Z);return}ge.set(S,{routeId:N,path:Y}),await H1(S,N,Y,H,ne,K.active,O,ve,Z)}async function B1(S,N,P,M,O,G,W,H,K){zc(),ge.delete(S);let Y=j.fetchers.get(S);br(S,RS(K,Y),{flushSync:W});let Z=new AbortController,q=ws(e.history,P,Z.signal,K);if(G){let Ie=await ho(M,new URL(q.url).pathname,q.signal,S);if(Ie.type==="aborted")return;if(Ie.type==="error"){wr(S,N,Ie.error,{flushSync:W});return}else if(Ie.matches)M=Ie.matches;else{wr(S,N,Dt(404,{pathname:P}),{flushSync:W});return}}let ne=il(M,P);if(!ne.route.action&&!ne.route.lazy){let Ie=Dt(405,{method:K.formMethod,pathname:P,routeId:N});wr(S,N,Ie,{flushSync:W});return}Q.set(S,Z);let ve=A,Be=Ks(i,a,q,M,ne,n,O),We=await wi(q,Be,O,S),je=We[ne.route.id];if(!je){for(let Ie of Be)if(We[Ie.route.id]){je=We[Ie.route.id];break}}if(q.signal.aborted){Q.get(S)===Z&&Q.delete(S);return}if(ke.has(S)){if(Gn(je)||Nt(je)){br(S,Sr(void 0));return}}else{if(Gn(je))if(Q.delete(S),F>ve){br(S,Sr(void 0));return}else return J.add(S),br(S,Mi(K)),Pn(q,je,!1,{fetcherSubmission:K,preventScrollReset:H});if(Nt(je)){wr(S,N,je.error);return}}let _e=j.navigation.location||j.location,Rn=ws(e.history,_e,Z.signal),ki=c||o,Br=j.navigation.state!=="idle"?rn(ki,j.navigation.location,u):j.matches;ae(Br,"Didn't find any matches after fetcher action");let ar=++A;V.set(S,ar);let Bc=Mi(K,je.data);j.fetchers.set(S,Bc);let{dsMatches:ji,revalidatingFetchers:An}=Vp(Rn,O,i,a,e.history,j,Br,K,_e,n,!1,te,le,ke,ge,J,ki,u,e.patchRoutesOnNavigation!=null,[ne.route.id,je]);An.filter(Ie=>Ie.key!==S).forEach(Ie=>{let po=Ie.key,jm=j.fetchers.get(po),X1=Mi(void 0,jm?jm.data:void 0);j.fetchers.set(po,X1),kr(po),Ie.controller&&Q.set(po,Ie.controller)}),Je({fetchers:new Map(j.fetchers)});let fo=()=>An.forEach(Ie=>kr(Ie.key));Z.signal.addEventListener("abort",fo);let{loaderResults:mo,fetcherResults:me}=await fm(ji,An,Rn,O);if(Z.signal.aborted)return;if(Z.signal.removeEventListener("abort",fo),V.delete(S),Q.delete(S),An.forEach(Ie=>Q.delete(Ie.key)),j.fetchers.has(S)){let Ie=Sr(je.data);j.fetchers.set(S,Ie)}let tt=Io(mo);if(tt)return Pn(Rn,tt.result,!1,{preventScrollReset:H});if(tt=Io(me),tt)return J.add(tt.key),Pn(Rn,tt.result,!1,{preventScrollReset:H});let{loaderData:hs,errors:Mn}=Yp(j,Br,mo,void 0,An,me);ym(ar),j.navigation.state==="loading"&&ar>F?(ae(E,"Expected pending action"),R&&R.abort(),Vr(j.navigation.location,{matches:Br,loaderData:hs,errors:Mn,fetchers:new Map(j.fetchers)})):(Je({errors:Mn,loaderData:Jp(j.loaderData,hs,Br,Mn),fetchers:new Map(j.fetchers)}),te=!1)}async function H1(S,N,P,M,O,G,W,H,K){let Y=j.fetchers.get(S);br(S,Mi(K,Y?Y.data:void 0),{flushSync:W});let Z=new AbortController,q=ws(e.history,P,Z.signal);if(G){let _e=await ho(M,new URL(q.url).pathname,q.signal,S);if(_e.type==="aborted")return;if(_e.type==="error"){wr(S,N,_e.error,{flushSync:W});return}else if(_e.matches)M=_e.matches;else{wr(S,N,Dt(404,{pathname:P}),{flushSync:W});return}}let ne=il(M,P);Q.set(S,Z);let ve=A,Be=Ks(i,a,q,M,ne,n,O),je=(await wi(q,Be,O,S))[ne.route.id];if(Q.get(S)===Z&&Q.delete(S),!q.signal.aborted){if(ke.has(S)){br(S,Sr(void 0));return}if(Gn(je))if(F>ve){br(S,Sr(void 0));return}else{J.add(S),await Pn(q,je,!1,{preventScrollReset:H});return}if(Nt(je)){wr(S,N,je.error);return}br(S,Sr(je.data))}}async function Pn(S,N,P,{submission:M,fetcherSubmission:O,preventScrollReset:G,replace:W}={}){N.response.headers.has("X-Remix-Revalidate")&&(te=!0);let H=N.response.headers.get("Location");ae(H,"Expected a Location header on the redirect Response"),H=Kp(H,new URL(S.url),u);let K=Pa(j.location,H,{_isRedirect:!0});if(r){let Be=!1;if(N.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(vc(H)){const We=Mx(H,!0);Be=We.origin!==t.location.origin||Ht(We.pathname,u)==null}if(Be){W?t.location.replace(H):t.location.assign(H);return}}R=null;let Y=W===!0||N.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Z,formAction:q,formEncType:ne}=j.navigation;!M&&!O&&Z&&q&&ne&&(M=Zp(j.navigation));let ve=M||O;if(cS.has(N.response.status)&&ve&&ut(ve.formMethod))await Tn(Y,K,{submission:{...ve,formAction:H},preventScrollReset:G||C,enableViewTransition:P?L:void 0});else{let Be=xu(K,M);await Tn(Y,K,{overrideNavigation:Be,fetcherSubmission:O,preventScrollReset:G||C,enableViewTransition:P?L:void 0})}}async function wi(S,N,P,M){let O,G={};try{O=await xS(d,S,N,M,P,!1)}catch(W){return N.filter(H=>H.shouldLoad).forEach(H=>{G[H.route.id]={type:"error",error:W}}),G}if(S.signal.aborted)return G;for(let[W,H]of Object.entries(O))if(ES(H)){let K=H.result;G[W]={type:"redirect",response:jS(K,S,W,N,u)}}else G[W]=await kS(H);return G}async function fm(S,N,P,M){let O=wi(P,S,M,null),G=Promise.all(N.map(async K=>{if(K.matches&&K.match&&K.request&&K.controller){let Z=(await wi(K.request,K.matches,M,K.key))[K.match.route.id];return{[K.key]:Z}}else return Promise.resolve({[K.key]:{type:"error",error:Dt(404,{pathname:K.path})}})})),W=await O,H=(await G).reduce((K,Y)=>Object.assign(K,Y),{});return{loaderResults:W,fetcherResults:H}}function zc(){te=!0,ge.forEach((S,N)=>{Q.has(N)&&le.add(N),kr(N)})}function br(S,N,P={}){j.fetchers.set(S,N),Je({fetchers:new Map(j.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function wr(S,N,P,M={}){let O=nn(j.matches,N);Uc(S),Je({errors:{[O.route.id]:P},fetchers:new Map(j.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function mm(S){return Ve.set(S,(Ve.get(S)||0)+1),ke.has(S)&&ke.delete(S),j.fetchers.get(S)||uS}function G1(S,N){kr(S,N==null?void 0:N.reason),br(S,Sr(null))}function Uc(S){let N=j.fetchers.get(S);Q.has(S)&&!(N&&N.state==="loading"&&V.has(S))&&kr(S),ge.delete(S),V.delete(S),J.delete(S),ke.delete(S),le.delete(S),j.fetchers.delete(S)}function W1(S){let N=(Ve.get(S)||0)-1;N<=0?(Ve.delete(S),ke.add(S)):Ve.set(S,N),Je({fetchers:new Map(j.fetchers)})}function kr(S,N){let P=Q.get(S);P&&(P.abort(N),Q.delete(S))}function pm(S){for(let N of S){let P=mm(N),M=Sr(P.data);j.fetchers.set(N,M)}}function gm(){let S=[],N=!1;for(let P of J){let M=j.fetchers.get(P);ae(M,`Expected fetcher: ${P}`),M.state==="loading"&&(J.delete(P),S.push(P),N=!0)}return pm(S),N}function ym(S){let N=[];for(let[P,M]of V)if(M<S){let O=j.fetchers.get(P);ae(O,`Expected fetcher: ${P}`),O.state==="loading"&&(kr(P),V.delete(P),N.push(P))}return pm(N),N.length>0}function K1(S,N){let P=j.blockers.get(S)||Ai;return jt.get(S)!==N&&jt.set(S,N),P}function vm(S){j.blockers.delete(S),jt.delete(S)}function co(S,N){let P=j.blockers.get(S)||Ai;ae(P.state==="unblocked"&&N.state==="blocked"||P.state==="blocked"&&N.state==="blocked"||P.state==="blocked"&&N.state==="proceeding"||P.state==="blocked"&&N.state==="unblocked"||P.state==="proceeding"&&N.state==="unblocked",`Invalid blocker state transition: ${P.state} -> ${N.state}`);let M=new Map(j.blockers);M.set(S,N),Je({blockers:M})}function xm({currentLocation:S,nextLocation:N,historyAction:P}){if(jt.size===0)return;jt.size>1&&Oe(!1,"A router only supports one blocker at a time");let M=Array.from(jt.entries()),[O,G]=M[M.length-1],W=j.blockers.get(O);if(!(W&&W.state==="proceeding")&&G({currentLocation:S,nextLocation:N,historyAction:P}))return O}function Vc(S){let N=Dt(404,{pathname:S}),P=c||o,{matches:M,route:O}=Mo(P);return{notFoundMatches:M,route:O,error:N}}function q1(S,N,P){if(v=S,b=N,y=P||null,!p&&j.navigation===vu){p=!0;let M=wm(j.location,j.matches);M!=null&&Je({restoreScrollPosition:M})}return()=>{v=null,b=null,y=null}}function bm(S,N){return y&&y(S,N.map(M=>I_(M,j.loaderData)))||S.key}function Y1(S,N){if(v&&b){let P=bm(S,N);v[P]=b()}}function wm(S,N){if(v){let P=bm(S,N),M=v[P];if(typeof M=="number")return M}return null}function uo(S,N,P){if(e.patchRoutesOnNavigation)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:Gi(N,P,u,!0)}}else return{active:!0,matches:Gi(N,P,u,!0)||[]};return{active:!1,matches:null}}async function ho(S,N,P,M){if(!e.patchRoutesOnNavigation)return{type:"success",matches:S};let O=S;for(;;){let G=c==null,W=c||o,H=a;try{await e.patchRoutesOnNavigation({signal:P,path:N,matches:O,fetcherKey:M,patch:(Z,q)=>{P.aborted||Bp(Z,q,W,H,i,!1)}})}catch(Z){return{type:"error",error:Z,partialMatches:O}}finally{G&&!P.aborted&&(o=[...o])}if(P.aborted)return{type:"aborted"};let K=rn(W,N,u),Y=null;if(K){if(Object.keys(K[0].params).length===0)return{type:"success",matches:K};if(Y=Gi(W,N,u,!0),!(Y&&O.length<Y.length&&km(O,Y.slice(0,O.length))))return{type:"success",matches:K}}if(Y||(Y=Gi(W,N,u,!0)),!Y||km(O,Y))return{type:"success",matches:null};O=Y}}function km(S,N){return S.length===N.length&&S.every((P,M)=>P.route.id===N[M].route.id)}function J1(S){a={},c=Ra(S,i,void 0,a)}function Q1(S,N,P=!1){let M=c==null;Bp(S,N,c||o,a,i,P),M&&(o=[...o],Je({}))}return T={get basename(){return u},get future(){return h},get state(){return j},get routes(){return o},get window(){return t},initialize:he,subscribe:Wt,enableScrollRestoration:q1,navigate:dm,fetch:V1,revalidate:F1,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:mm,resetFetcher:G1,deleteFetcher:W1,dispose:Ur,getBlocker:K1,deleteBlocker:vm,patchRoutes:Q1,_internalFetchControllers:Q,_internalSetRoutes:J1,_internalSetStateDoNotUseOrYouWillBreakYourApp(S){Je(S)}},e.unstable_instrumentations&&(T=eS(T,e.unstable_instrumentations.map(S=>S.router).filter(Boolean))),T}function fS(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Ld(e,t,r,n,s,i){let a,o;if(s){a=[];for(let u of t)if(a.push(u),u.route.id===s){o=u;break}}else a=t,o=t[t.length-1];let c=bc(n||".",xc(a),Ht(e.pathname,r)||e.pathname,i==="path");if(n==null&&(c.search=e.search,c.hash=e.hash),(n==null||n===""||n===".")&&o){let u=uf(c.search);if(o.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(m=>m).forEach(m=>d.append("index",m));let f=d.toString();c.search=f?`?${f}`:""}}return r!=="/"&&(c.pathname=K_({basename:r,pathname:c.pathname})),vr(c)}function Up(e,t,r){if(!r||!fS(r))return{path:t};if(r.formMethod&&!TS(r.formMethod))return{path:t,error:Dt(405,{method:r.formMethod})};let n=()=>({path:t,error:Dt(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),a=Wx(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ut(i))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[m,v])=>`${f}${m}=${v}
`,""):String(r.body);return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ut(i))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}ae(typeof FormData=="function","FormData is not available in this environment");let o,c;if(r.formData)o=Fd(r.formData),c=r.formData;else if(r.body instanceof FormData)o=Fd(r.body),c=r.body;else if(r.body instanceof URLSearchParams)o=r.body,c=qp(o);else if(r.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(r.body),c=qp(o)}catch{return n()}let u={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ut(u.formMethod))return{path:t,submission:u};let d=Nn(t);return e&&d.search&&uf(d.search)&&o.append("index",""),d.search=`?${o}`,{path:vr(d),submission:u}}function Vp(e,t,r,n,s,i,a,o,c,u,d,h,f,m,v,y,b,p,g,x){var fe;let _=x?Nt(x[1])?x[1].error:x[1].data:void 0,k=s.createURL(i.location),T=s.createURL(c),j;if(d&&i.errors){let te=Object.keys(i.errors)[0];j=a.findIndex(le=>le.route.id===te)}else if(x&&Nt(x[1])){let te=x[0];j=a.findIndex(le=>le.route.id===te)-1}let E=x?x[1].statusCode:void 0,C=E&&E>=400,R={currentUrl:k,currentParams:((fe=i.matches[0])==null?void 0:fe.params)||{},nextUrl:T,nextParams:a[0].params,...o,actionResult:_,actionStatus:E},L=lf(a.map(te=>te.route.path)),D=a.map((te,le)=>{let{route:Q}=te,A=null;if(j!=null&&le>j?A=!1:Q.lazy?A=!0:cf(Q)?d?A=Dd(Q,i.loaderData,i.errors):mS(i.loaderData,i.matches[le],te)&&(A=!0):A=!1,A!==null)return Od(r,n,e,L,te,u,t,A);let F=C?!1:h||k.pathname+k.search===T.pathname+T.search||k.search!==T.search||pS(i.matches[le],te),V={...R,defaultShouldRevalidate:F},J=Fl(te,V);return Od(r,n,e,L,te,u,t,J,V)}),de=[];return v.forEach((te,le)=>{if(d||!a.some(ke=>ke.route.id===te.routeId)||m.has(le))return;let Q=i.fetchers.get(le),A=Q&&Q.state!=="idle"&&Q.data===void 0,F=rn(b,te.path,p);if(!F){if(g&&A)return;de.push({key:le,routeId:te.routeId,path:te.path,matches:null,match:null,request:null,controller:null});return}if(y.has(le))return;let V=il(F,te.path),J=new AbortController,ge=ws(s,te.path,J.signal),Ve=null;if(f.has(le))f.delete(le),Ve=Ks(r,n,ge,F,V,u,t);else if(A)h&&(Ve=Ks(r,n,ge,F,V,u,t));else{let ke={...R,defaultShouldRevalidate:C?!1:h};Fl(V,ke)&&(Ve=Ks(r,n,ge,F,V,u,t,ke))}Ve&&de.push({key:le,routeId:te.routeId,path:te.path,matches:Ve,match:V,request:ge,controller:J})}),{dsMatches:D,revalidatingFetchers:de}}function cf(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Dd(e,t,r){if(e.lazy)return!0;if(!cf(e))return!1;let n=t!=null&&e.id in t,s=r!=null&&r[e.id]!==void 0;return!n&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!s}function mS(e,t,r){let n=!t||r.route.id!==t.route.id,s=!e.hasOwnProperty(r.route.id);return n||s}function pS(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Fl(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Bp(e,t,r,n,s,i){let a;if(e){let u=n[e];ae(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),a=u.children}else a=r;let o=[],c=[];if(t.forEach(u=>{let d=a.find(h=>Ux(u,h));d?c.push({existingRoute:d,newRoute:u}):o.push(u)}),o.length>0){let u=Ra(o,s,[e||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...u)}if(i&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:d,newRoute:h}=c[u],f=d,[m]=Ra([h],s,[],{},!0);Object.assign(f,{element:m.element?m.element:f.element,errorElement:m.errorElement?m.errorElement:f.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:f.hydrateFallbackElement})}}function Ux(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var s;return(s=t.children)==null?void 0:s.some(i=>Ux(r,i))}):!1}var Hp=new WeakMap,Vx=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let s=r[t.id];if(ae(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[e];if(!i)return;let a=Hp.get(s);a||(a={},Hp.set(s,a));let o=a[e];if(o)return o;let c=(async()=>{let u=P_(e),h=s[e]!==void 0&&e!=="hasErrorBoundary";if(u)Oe(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(h)Oe(!1,`Route "${s.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let f=await i();f!=null&&(Object.assign(s,{[e]:f}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[e]=void 0,Object.values(s.lazy).every(f=>f===void 0)&&(s.lazy=void 0))})();return a[e]=c,c},Gp=new WeakMap;function gS(e,t,r,n,s){let i=r[e.id];if(ae(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=Gp.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{ae(typeof e.lazy=="function","No lazy route function found");let f=await e.lazy(),m={};for(let v in f){let y=f[v];if(y===void 0)continue;let b=A_(v),g=i[v]!==void 0&&v!=="hasErrorBoundary";b?Oe(!b,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):g?Oe(!g,`Route "${i.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):m[v]=y}Object.assign(i,m),Object.assign(i,{...n(i),lazy:void 0})})();return Gp.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(e.lazy),o=[],c;for(let d of a){if(s&&s.includes(d))continue;let h=Vx({key:d,route:e,manifest:r,mapRouteProperties:n});h&&(o.push(h),d===t&&(c=h))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function Wp(e){let t=e.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(t.map(s=>s.resolve()))).forEach((s,i)=>{r[t[i].route.id]=s}),r}async function yS(e){return e.matches.some(t=>t.route.middleware)?Bx(e,()=>Wp(e)):Wp(e)}function Bx(e,t){return vS(e,t,n=>n,NS,r);function r(n,s,i){if(i)return Promise.resolve(Object.assign(i.value,{[s]:{type:"error",result:n}}));{let{matches:a}=e,o=Math.min(Math.max(a.findIndex(u=>u.route.id===s),0),Math.max(a.findIndex(u=>u.unstable_shouldCallHandler()),0)),c=nn(a,a[o].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function vS(e,t,r,n,s){let{matches:i,request:a,params:o,context:c,unstable_pattern:u}=e,d=i.flatMap(f=>f.route.middleware?f.route.middleware.map(m=>[f.route.id,m]):[]);return await Hx({request:a,params:o,context:c,unstable_pattern:u},d,t,r,n,s)}async function Hx(e,t,r,n,s,i,a=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let c=t[a];if(!c)return await r();let[u,d]=c,h,f=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await Hx(e,t,r,n,s,i,a+1)},h.value}catch(m){return h={value:await i(m,u,h)},h.value}};try{let m=await d(e,f),v=m!=null?n(m):void 0;return s(v)?v:h?v??h.value:(h={value:await f()},h.value)}catch(m){return await i(m,u,h)}}function Gx(e,t,r,n,s){let i=Vx({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),a=gS(n.route,ut(r.method)?"action":"loader",t,e,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Od(e,t,r,n,s,i,a,o,c=null){let u=!1,d=Gx(e,t,r,s,i);return{...s,_lazyPromises:d,shouldLoad:o,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(h){return u=!0,c?typeof h=="boolean"?Fl(s,{...c,defaultShouldRevalidate:h}):Fl(s,c):o},resolve(h){let{lazy:f,loader:m,middleware:v}=s.route,y=u||o||h&&!ut(r.method)&&(f||m),b=v&&v.length>0&&!m&&!f;return y&&(ut(r.method)||!b)?bS({request:r,unstable_pattern:n,match:s,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:h,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Ks(e,t,r,n,s,i,a,o=null){return n.map(c=>c.route.id!==s.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Gx(e,t,r,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Od(e,t,r,lf(n.map(u=>u.route.path)),c,i,a,!0,o))}async function xS(e,t,r,n,s,i){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:t,unstable_pattern:lf(r.map(u=>u.route.path)),params:r[0].params,context:s,matches:r},c=await e({...a,fetcherKey:n,runClientMiddleware:u=>{let d=a;return Bx(d,()=>u({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return c}async function bS({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:i,scopedContext:a}){let o,c,u=ut(e.method),d=u?"action":"loader",h=f=>{let m,v=new Promise((p,g)=>m=g);c=()=>m(),e.signal.addEventListener("abort",c);let y=p=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${r.route.id}]`)):f({request:e,unstable_pattern:t,params:r.params,context:a},...p!==void 0?[p]:[]),b=(async()=>{try{return{type:"data",result:await(i?i(g=>y(g)):y())}}catch(p){return{type:"error",result:p}}})();return Promise.race([b,v])};try{let f=u?r.route.action:r.route.loader;if(n||s)if(f){let m,[v]=await Promise.all([h(f).catch(y=>{m=y}),n,s]);if(m!==void 0)throw m;o=v}else{await n;let m=u?r.route.action:r.route.loader;if(m)[o]=await Promise.all([h(m),s]);else if(d==="action"){let v=new URL(e.url),y=v.pathname+v.search;throw Dt(405,{method:e.method,pathname:y,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(f)o=await h(f);else{let m=new URL(e.url),v=m.pathname+m.search;throw Dt(404,{pathname:v})}}catch(f){return{type:"error",result:f}}finally{c&&e.signal.removeEventListener("abort",c)}return o}async function wS(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function kS(e){var n,s,i,a,o,c;let{result:t,type:r}=e;if(Kx(t)){let u;try{u=await wS(t)}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new Ol(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?Xp(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Ol(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:Aa(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Aa(t)?t.status:void 0}:Xp(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function jS(e,t,r,n,s){let i=e.headers.get("Location");if(ae(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!vc(i)){let a=n.slice(0,n.findIndex(o=>o.route.id===r)+1);i=Ld(new URL(t.url),a,s,i),e.headers.set("Location",i)}return e}function Kp(e,t,r){if(vc(e)){let n=e,s=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=Ht(s.pathname,r)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function ws(e,t,r,n){let s=e.createURL(Wx(t)).toString(),i={signal:r};if(n&&ut(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=Fd(n.formData):i.body=n.formData}return new Request(s,i)}function Fd(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function qp(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function _S(e,t,r,n=!1,s=!1){let i={},a=null,o,c=!1,u={},d=r&&Nt(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,m=t[f];if(ae(!Gn(m),"Cannot handle redirect results in processLoaderData"),Nt(m)){let v=m.error;if(d!==void 0&&(v=d,d=void 0),a=a||{},s)a[f]=v;else{let y=nn(e,f);a[y.route.id]==null&&(a[y.route.id]=v)}n||(i[f]=zx),c||(c=!0,o=Aa(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else i[f]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(o=m.statusCode),m.headers&&(u[f]=m.headers)}),d!==void 0&&r&&(a={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:u}}function Yp(e,t,r,n,s,i){let{loaderData:a,errors:o}=_S(t,r,n);return s.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:h}=c;if(h&&h.signal.aborted)return;let f=i[u];if(ae(f,"Did not find corresponding fetcher result"),Nt(f)){let m=nn(e.matches,d==null?void 0:d.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:f.error}),e.fetchers.delete(u)}else if(Gn(f))ae(!1,"Unhandled fetcher revalidation redirect");else{let m=Sr(f.data);e.fetchers.set(u,m)}}),{loaderData:a,errors:o}}function Jp(e,t,r,n){let s=Object.entries(t).filter(([,i])=>i!==zx).reduce((i,[a,o])=>(i[a]=o,i),{});for(let i of r){let a=i.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&i.route.loader&&(s[a]=e[a]),n&&n.hasOwnProperty(a))break}return s}function Qp(e){return e?Nt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function nn(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Mo(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Dt(e,{pathname:t,routeId:r,method:n,type:s,message:i}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(a="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(o="Unable to encode submission body")):e===403?(a="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(a="Not Found",o=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new Ol(e||500,a,new Error(o),!0)}function Io(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,s]=t[r];if(Gn(s))return{key:n,result:s}}}function Wx(e){let t=typeof e=="string"?Nn(e):e;return vr({...t,hash:""})}function SS(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function NS(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&CS(r))}function CS(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function ES(e){return Kx(e.result)&&lS.has(e.result.status)}function Nt(e){return e.type==="error"}function Gn(e){return(e&&e.type)==="redirect"}function Xp(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Kx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function TS(e){return oS.has(e.toUpperCase())}function ut(e){return iS.has(e.toUpperCase())}function uf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function il(e,t){let r=typeof t=="string"?Nn(t).search:t.search;if(e[e.length-1].route.index&&uf(r||""))return e[e.length-1];let n=Dx(e);return n[n.length-1]}function Zp(e){let{formMethod:t,formAction:r,formEncType:n,text:s,formData:i,json:a}=e;if(!(!t||!r||!n)){if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function xu(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function PS(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Mi(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function RS(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Sr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function AS(e,t){try{let r=e.sessionStorage.getItem($x);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function MS(e,t){if(t.size>0){let r={};for(let[n,s]of t)r[n]=[...s];try{e.sessionStorage.setItem($x,JSON.stringify(r))}catch(n){Oe(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function IS(){let e,t,r=new Promise((n,s)=>{e=async i=>{n(i);try{await r}catch{}},t=async i=>{s(i);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var os=w.createContext(null);os.displayName="DataRouter";var qa=w.createContext(null);qa.displayName="DataRouterState";w.createContext(!1);var df=w.createContext({isTransitioning:!1});df.displayName="ViewTransition";var qx=w.createContext(new Map);qx.displayName="Fetchers";var LS=w.createContext(null);LS.displayName="Await";var sr=w.createContext(null);sr.displayName="Navigation";var wc=w.createContext(null);wc.displayName="Location";var Gt=w.createContext({outlet:null,matches:[],isDataRoute:!1});Gt.displayName="Route";var hf=w.createContext(null);hf.displayName="RouteError";function DS(e,{relative:t}={}){ae(mi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(sr),{hash:s,pathname:i,search:a}=Ya(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:mr([r,i])),n.createHref({pathname:o,search:a,hash:s})}function mi(){return w.useContext(wc)!=null}function Cn(){return ae(mi(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(wc).location}var Yx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jx(e){w.useContext(sr).static||w.useLayoutEffect(e)}function kt(){let{isDataRoute:e}=w.useContext(Gt);return e?QS():OS()}function OS(){ae(mi(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(os),{basename:t,navigator:r}=w.useContext(sr),{matches:n}=w.useContext(Gt),{pathname:s}=Cn(),i=JSON.stringify(xc(n)),a=w.useRef(!1);return Jx(()=>{a.current=!0}),w.useCallback((c,u={})=>{if(Oe(a.current,Yx),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=bc(c,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:mr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,s,e])}var FS=w.createContext(null);function $S(e){let t=w.useContext(Gt).outlet;return w.useMemo(()=>t&&w.createElement(FS.Provider,{value:e},t),[t,e])}function Qx(){let{matches:e}=w.useContext(Gt),t=e[e.length-1];return t?t.params:{}}function Ya(e,{relative:t}={}){let{matches:r}=w.useContext(Gt),{pathname:n}=Cn(),s=JSON.stringify(xc(r));return w.useMemo(()=>bc(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function zS(e,t,r,n,s){ae(mi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(sr),{matches:a}=w.useContext(Gt),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let g=h&&h.path||"";Xx(u,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=Cn(),m;m=f;let v=m.pathname||"/",y=v;if(d!=="/"){let g=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=rn(e,{pathname:y});return Oe(h||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Oe(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),GS(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:mr([d,i.encodeLocation?i.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:mr([d,i.encodeLocation?i.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),a,r,n,s)}function US(){let e=JS(),t=Aa(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,a)}var VS=w.createElement(US,null),BS=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Gt.Provider,{value:this.props.routeContext},w.createElement(hf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HS({routeContext:e,match:t,children:r}){let n=w.useContext(os);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Gt.Provider,{value:e},r)}function GS(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);ae(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=r,v=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var f,m;n(d,{location:r.location,params:((m=(f=r.matches)==null?void 0:f[0])==null?void 0:m.params)??{},errorInfo:h})}:void 0;return i.reduceRight((d,h,f)=>{let m,v=!1,y=null,b=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||VS,o&&(c<0&&f===0?(Xx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):c===f&&(v=!0,b=h.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,f+1)),g=()=>{let x;return m?x=y:v?x=b:h.route.Component?x=w.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,w.createElement(HS,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(BS,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:u}):g()},null)}function ff(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(e){let t=w.useContext(os);return ae(t,ff(e)),t}function KS(e){let t=w.useContext(qa);return ae(t,ff(e)),t}function qS(e){let t=w.useContext(Gt);return ae(t,ff(e)),t}function mf(e){let t=qS(e),r=t.matches[t.matches.length-1];return ae(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function YS(){return mf("useRouteId")}function JS(){var n;let e=w.useContext(hf),t=KS("useRouteError"),r=mf("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function QS(){let{router:e}=WS("useNavigate"),t=mf("useNavigate"),r=w.useRef(!1);return Jx(()=>{r.current=!0}),w.useCallback(async(s,i={})=>{Oe(r.current,Yx),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var eg={};function Xx(e,t,r){!t&&!eg[e]&&(eg[e]=!0,Oe(!1,r))}var tg={};function rg(e,t){!e&&!tg[t]&&(tg[t]=!0,console.warn(t))}function XS(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Oe(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:w.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Oe(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Oe(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var ZS=["HydrateFallback","hydrateFallbackElement"],eN=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function tN({router:e,flushSync:t,unstable_onError:r}){let[n,s]=w.useState(e.state),[i,a]=w.useState(),[o,c]=w.useState({isTransitioning:!1}),[u,d]=w.useState(),[h,f]=w.useState(),[m,v]=w.useState(),y=w.useRef(new Map),b=w.useCallback(k=>{s(T=>(k.errors&&r&&Object.entries(k.errors).forEach(([j,E])=>{var C,R;((C=T.errors)==null?void 0:C[j])!==E&&r(E,{location:k.location,params:((R=k.matches[0])==null?void 0:R.params)??{}})}),k))},[r]),p=w.useCallback((k,{deletedFetchers:T,flushSync:j,viewTransitionOpts:E})=>{k.fetchers.forEach((R,L)=>{R.data!==void 0&&y.current.set(L,R.data)}),T.forEach(R=>y.current.delete(R)),rg(j===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(rg(E==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!E||!C){t&&j?t(()=>b(k)):w.startTransition(()=>b(k));return}if(t&&j){t(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation})});let R=e.window.document.startViewTransition(()=>{t(()=>b(k))});R.finished.finally(()=>{t(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),t(()=>f(R));return}h?(u&&u.resolve(),h.skipTransition(),v({state:k,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(a(k),c({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[e.window,t,h,u,b]);w.useLayoutEffect(()=>e.subscribe(p),[e,p]),w.useEffect(()=>{o.isTransitioning&&!o.flushSync&&d(new eN)},[o]),w.useEffect(()=>{if(u&&i&&e.window){let k=i,T=u.promise,j=e.window.document.startViewTransition(async()=>{w.startTransition(()=>b(k)),await T});j.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(j)}},[i,u,e.window,b]),w.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,h,n.location,i]),w.useEffect(()=>{!o.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[o.isTransitioning,m]);let g=w.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:k=>e.navigate(k),push:(k,T,j)=>e.navigate(k,{state:T,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(k,T,j)=>e.navigate(k,{replace:!0,state:T,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[e]),x=e.basename||"/",_=w.useMemo(()=>({router:e,navigator:g,static:!1,basename:x,unstable_onError:r}),[e,g,x,r]);return w.createElement(w.Fragment,null,w.createElement(os.Provider,{value:_},w.createElement(qa.Provider,{value:n},w.createElement(qx.Provider,{value:y.current},w.createElement(df.Provider,{value:o},w.createElement(aN,{basename:x,location:n.location,navigationType:n.historyAction,navigator:g},w.createElement(rN,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var rN=w.memo(nN);function nN({routes:e,future:t,state:r,unstable_onError:n}){return zS(e,void 0,r,n,t)}function sN({to:e,replace:t,state:r,relative:n}){ae(mi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(sr);Oe(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(Gt),{pathname:a}=Cn(),o=kt(),c=bc(e,xc(i),a,n==="path"),u=JSON.stringify(c);return w.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function iN(e){return $S(e.context)}function aN({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){ae(!mi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=w.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=Nn(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,m=w.useMemo(()=>{let v=Ht(c,a);return v==null?null:{location:{pathname:v,search:u,hash:d,state:h,key:f},navigationType:n}},[a,c,u,d,h,f,n]);return Oe(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:w.createElement(sr.Provider,{value:o},w.createElement(wc.Provider,{children:t,value:m}))}var al="get",ol="application/x-www-form-urlencoded";function kc(e){return e!=null&&typeof e.tagName=="string"}function oN(e){return kc(e)&&e.tagName.toLowerCase()==="button"}function lN(e){return kc(e)&&e.tagName.toLowerCase()==="form"}function cN(e){return kc(e)&&e.tagName.toLowerCase()==="input"}function uN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dN(e,t){return e.button===0&&(!t||t==="_self")&&!uN(e)}var Lo=null;function hN(){if(Lo===null)try{new FormData(document.createElement("form"),0),Lo=!1}catch{Lo=!0}return Lo}var fN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bu(e){return e!=null&&!fN.has(e)?(Oe(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ol}"`),null):e}function mN(e,t){let r,n,s,i,a;if(lN(e)){let o=e.getAttribute("action");n=o?Ht(o,t):null,r=e.getAttribute("method")||al,s=bu(e.getAttribute("enctype"))||ol,i=new FormData(e)}else if(oN(e)||cN(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?Ht(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||al,s=bu(e.getAttribute("formenctype"))||bu(o.getAttribute("enctype"))||ol,i=new FormData(o,e),!hN()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,h)}}else{if(kc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=al,n=null,s=ol,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pf(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pN(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Ht(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function gN(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vN(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await gN(i,r);return a.links?a.links():[]}return[]}));return kN(n.flat(1).filter(yN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ng(e,t,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>a(c,u)||o(c,u)):i==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function xN(e,t,{includeHydrateFallback:r}={}){return bN(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function bN(e){return[...new Set(e)]}function wN(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function kN(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(wN(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Zx(){let e=w.useContext(os);return pf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function jN(){let e=w.useContext(qa);return pf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gf=w.createContext(void 0);gf.displayName="FrameworkContext";function eb(){let e=w.useContext(gf);return pf(e,"You must render this element inside a <HydratedRouter> element"),e}function _N(e,t){let r=w.useContext(gf),[n,s]=w.useState(!1),[i,a]=w.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=w.useRef(null);w.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let y=p=>{p.forEach(g=>{a(g.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),w.useEffect(()=>{if(n){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[n]);let m=()=>{s(!0)},v=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Ii(o,m),onBlur:Ii(c,v),onMouseEnter:Ii(u,m),onMouseLeave:Ii(d,v),onTouchStart:Ii(h,m)}]:[!1,f,{}]}function Ii(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function SN({page:e,...t}){let{router:r}=Zx(),n=w.useMemo(()=>rn(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(CN,{page:e,matches:n,...t}):null}function NN(e){let{manifest:t,routeModules:r}=eb(),[n,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return vN(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function CN({page:e,matches:t,...r}){let n=Cn(),{manifest:s,routeModules:i}=eb(),{basename:a}=Zx(),{loaderData:o,matches:c}=jN(),u=w.useMemo(()=>ng(e,t,c,s,n,"data"),[e,t,c,s,n]),d=w.useMemo(()=>ng(e,t,c,s,n,"assets"),[e,t,c,s,n]),h=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,y=!1;if(t.forEach(p=>{var x;let g=s.routes[p.route.id];!g||!g.hasLoader||(!u.some(_=>_.route.id===p.route.id)&&p.route.id in o&&((x=i[p.route.id])!=null&&x.shouldRevalidate)||g.hasClientLoader?y=!0:v.add(p.route.id))}),v.size===0)return[];let b=pN(e,a,"data");return y&&v.size>0&&b.searchParams.set("_routes",t.filter(p=>v.has(p.route.id)).map(p=>p.route.id).join(",")),[b.pathname+b.search]},[a,o,n,s,u,t,e,i]),f=w.useMemo(()=>xN(d,s),[d,s]),m=NN(d);return w.createElement(w.Fragment,null,h.map(v=>w.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),f.map(v=>w.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),m.map(({key:v,link:y})=>w.createElement("link",{key:v,nonce:r.nonce,...y})))}function EN(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tb&&(window.__reactRouterVersion="7.9.6")}catch{}function TN(e,t){return hS({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:N_({window:t==null?void 0:t.window}),hydrationData:PN(),routes:e,mapRouteProperties:XS,hydrationRouteProperties:ZS,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function PN(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:RN(e.errors)}),e}function RN(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,s]of t)if(s&&s.__type==="RouteErrorResponse")r[n]=new Ol(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}var rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ma=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:v}=w.useContext(sr),y=typeof u=="string"&&rb.test(u),b,p=!1;if(typeof u=="string"&&y&&(b=u,tb))try{let C=new URL(window.location.href),R=u.startsWith("//")?new URL(C.protocol+u):new URL(u),L=Ht(R.pathname,v);R.origin===C.origin&&L!=null?u=L+R.search+R.hash:p=!0}catch{Oe(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=DS(u,{relative:s}),[x,_,k]=_N(n,f),T=LN(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function j(C){t&&t(C),C.defaultPrevented||T(C)}let E=w.createElement("a",{...f,...k,href:b||g,onClick:p||i?t:j,ref:EN(m,_),target:c,"data-discover":!y&&r==="render"?"true":void 0});return x&&!y?w.createElement(w.Fragment,null,E,w.createElement(SN,{page:g})):E});Ma.displayName="Link";var AN=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:c,...u},d){let h=Ya(a,{relative:u.relative}),f=Cn(),m=w.useContext(qa),{navigator:v,basename:y}=w.useContext(sr),b=m!=null&&zN(h)&&o===!0,p=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,g=f.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(g=g.toLowerCase(),x=x?x.toLowerCase():null,p=p.toLowerCase()),x&&y&&(x=Ht(x,y)||x);const _=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let k=g===p||!s&&g.startsWith(p)&&g.charAt(_)==="/",T=x!=null&&(x===p||!s&&x.startsWith(p)&&x.charAt(p.length)==="/"),j={isActive:k,isPending:T,isTransitioning:b},E=k?t:void 0,C;typeof n=="function"?C=n(j):C=[n,k?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(j):i;return w.createElement(Ma,{...u,"aria-current":E,className:C,ref:d,style:R,to:a,viewTransition:o},typeof c=="function"?c(j):c)});AN.displayName="NavLink";var MN=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=al,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let v=FN(),y=$N(o,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",p=typeof o=="string"&&rb.test(o),g=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let _=x.nativeEvent.submitter,k=(_==null?void 0:_.getAttribute("formmethod"))||a;v(_||x.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return w.createElement("form",{ref:m,method:b,action:y,onSubmit:n?c:g,...f,"data-discover":!p&&e==="render"?"true":void 0})});MN.displayName="Form";function IN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nb(e){let t=w.useContext(os);return ae(t,IN(e)),t}function LN(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=kt(),c=Cn(),u=Ya(e,{relative:i});return w.useCallback(d=>{if(dN(d,t)){d.preventDefault();let h=r!==void 0?r:vr(c)===vr(u);o(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[c,o,u,r,n,t,e,s,i,a])}var DN=0,ON=()=>`__${String(++DN)}__`;function FN(){let{router:e}=nb("useSubmit"),{basename:t}=w.useContext(sr),r=YS();return w.useCallback(async(n,s={})=>{let{action:i,method:a,encType:o,formData:c,body:u}=mN(n,t);if(s.navigate===!1){let d=s.fetcherKey||ON();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function $N(e,{relative:t}={}){let{basename:r}=w.useContext(sr),n=w.useContext(Gt);ae(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Ya(e||".",{relative:t})},a=Cn();if(e==null){i.search=a.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:mr([r,i.pathname])),vr(i)}function zN(e,{relative:t}={}){let r=w.useContext(df);ae(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=nb("useViewTransitionState"),s=Ya(e,{relative:t});if(!r.isTransitioning)return!1;let i=Ht(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Ht(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Dl(s.pathname,a)!=null||Dl(s.pathname,i)!=null}function UN(e){return w.createElement(tN,{flushSync:Px.flushSync,...e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...u},d)=>w.createElement("svg",{ref:d,...VN,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${BN(e)}`,o].join(" "),...u},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=U("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=U("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=U("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=U("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=U("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=U("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=U("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=U("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=U("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=U("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=U("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=U("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=U("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=U("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=U("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=U("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=U("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=U("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=U("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=U("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=U("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=U("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=U("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=U("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=U("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=U("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=U("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=U("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=U("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=U("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=U("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=U("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=U("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=U("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=U("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=U("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=U("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=U("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=U("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=U("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=U("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=U("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=U("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=U("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function mb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=mb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function b2(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=mb(e))&&(n&&(n+=" "),n+=t);return n}const bf="-",w2=e=>{const t=j2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(bf);return o[0]===""&&o.length!==1&&o.shift(),pb(o,t)||k2(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},pb=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?pb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(bf);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},lg=/^\[(.+)\]$/,k2=e=>{if(lg.test(e)){const t=lg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},j2=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return S2(Object.entries(e.classGroups),r).forEach(([i,a])=>{$d(a,n,i,t)}),n},$d=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:cg(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(_2(s)){$d(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{$d(a,cg(t,i),r,n)})})},cg=(e,t)=>{let r=e;return t.split(bf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},_2=e=>e.isThemeGetter,S2=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[r,s]}):e,N2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},gb="!",C2=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=o=>{const c=[];let u=0,d=0,h;for(let b=0;b<o.length;b++){let p=o[b];if(u===0){if(p===s&&(n||o.slice(b,b+i)===t)){c.push(o.slice(d,b)),d=b+i;continue}if(p==="/"){h=b;continue}}p==="["?u++:p==="]"&&u--}const f=c.length===0?o:o.substring(d),m=f.startsWith(gb),v=m?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:y}};return r?o=>r({className:o,parseClassName:a}):a},E2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},T2=e=>({cache:N2(e.cacheSize),parseClassName:C2(e),...w2(e)}),P2=/\s+/,R2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(P2);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let v=!!m,y=n(v?f.substring(0,m):f);if(!y){if(!v){o=u+(o.length>0?" "+o:o);continue}if(y=n(f),!y){o=u+(o.length>0?" "+o:o);continue}v=!1}const b=E2(d).join(":"),p=h?b+gb:b,g=p+y;if(i.includes(g))continue;i.push(g);const x=s(y,v);for(let _=0;_<x.length;++_){const k=x[_];i.push(p+k)}o=u+(o.length>0?" "+o:o)}return o};function A2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=yb(t))&&(n&&(n+=" "),n+=r);return n}const yb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=yb(e[n]))&&(r&&(r+=" "),r+=t);return r};function M2(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=T2(u),n=r.cache.get,s=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=R2(c,r);return s(c,d),d}return function(){return i(A2.apply(null,arguments))}}const Se=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},vb=/^\[(?:([a-z-]+):)?(.+)\]$/i,I2=/^\d+\/\d+$/,L2=new Set(["px","full","screen"]),D2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,z2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jr=e=>qs(e)||L2.has(e)||I2.test(e),Gr=e=>pi(e,"length",q2),qs=e=>!!e&&!Number.isNaN(Number(e)),wu=e=>pi(e,"number",qs),Li=e=>!!e&&Number.isInteger(Number(e)),U2=e=>e.endsWith("%")&&qs(e.slice(0,-1)),se=e=>vb.test(e),Wr=e=>D2.test(e),V2=new Set(["length","size","percentage"]),B2=e=>pi(e,V2,xb),H2=e=>pi(e,"position",xb),G2=new Set(["image","url"]),W2=e=>pi(e,G2,J2),K2=e=>pi(e,"",Y2),Di=()=>!0,pi=(e,t,r)=>{const n=vb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},q2=e=>O2.test(e)&&!F2.test(e),xb=()=>!1,Y2=e=>$2.test(e),J2=e=>z2.test(e),Q2=()=>{const e=Se("colors"),t=Se("spacing"),r=Se("blur"),n=Se("brightness"),s=Se("borderColor"),i=Se("borderRadius"),a=Se("borderSpacing"),o=Se("borderWidth"),c=Se("contrast"),u=Se("grayscale"),d=Se("hueRotate"),h=Se("invert"),f=Se("gap"),m=Se("gradientColorStops"),v=Se("gradientColorStopPositions"),y=Se("inset"),b=Se("margin"),p=Se("opacity"),g=Se("padding"),x=Se("saturate"),_=Se("scale"),k=Se("sepia"),T=Se("skew"),j=Se("space"),E=Se("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",se,t],D=()=>[se,t],de=()=>["",jr,Gr],fe=()=>["auto",qs,se],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",se],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[qs,se];return{cacheSize:500,separator:":",theme:{colors:[Di],spacing:[jr,Gr],blur:["none","",Wr,se],brightness:J(),borderColor:[e],borderRadius:["none","","full",Wr,se],borderSpacing:D(),borderWidth:de(),contrast:J(),grayscale:F(),hueRotate:J(),invert:F(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[U2,Gr],inset:L(),margin:L(),opacity:J(),padding:D(),saturate:J(),scale:J(),sepia:F(),skew:J(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[Wr]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),se]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Li,se]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Li,se]}],"grid-cols":[{"grid-cols":[Di]}],"col-start-end":[{col:["auto",{span:["full",Li,se]},se]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[Di]}],"row-start-end":[{row:["auto",{span:[Li,se]},se]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,t]}],"min-w":[{"min-w":[se,t,"min","max","fit"]}],"max-w":[{"max-w":[se,t,"none","full","min","max","fit","prose",{screen:[Wr]},Wr]}],h:[{h:[se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wr,Gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wu]}],"font-family":[{font:[Di]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",qs,wu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jr,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jr,Gr]}],"underline-offset":[{"underline-offset":["auto",jr,se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),H2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",B2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:le()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[jr,se]}],"outline-w":[{outline:[jr,Gr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[jr,Gr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wr,K2]}],"shadow-color":[{shadow:[Di]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wr,se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Li,se]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[jr,Gr,wu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},X2=M2(Q2);function ee(...e){return X2(b2(e))}const Z2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},ug=e=>{let t;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(v=>v(t,m))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(Z2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},eC=e=>e?ug(e):ug;var bb={exports:{}},wb={},kb={exports:{}},jb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=w;function tC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rC=typeof Object.is=="function"?Object.is:tC,nC=ii.useState,sC=ii.useEffect,iC=ii.useLayoutEffect,aC=ii.useDebugValue;function oC(e,t){var r=t(),n=nC({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return iC(function(){s.value=r,s.getSnapshot=t,ku(s)&&i({inst:s})},[e,r,t]),sC(function(){return ku(s)&&i({inst:s}),e(function(){ku(s)&&i({inst:s})})},[e]),aC(r),r}function ku(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rC(e,r)}catch{return!0}}function lC(e,t){return t()}var cC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lC:oC;jb.useSyncExternalStore=ii.useSyncExternalStore!==void 0?ii.useSyncExternalStore:cC;kb.exports=jb;var uC=kb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=w,dC=uC;function hC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fC=typeof Object.is=="function"?Object.is:hC,mC=dC.useSyncExternalStore,pC=_c.useRef,gC=_c.useEffect,yC=_c.useMemo,vC=_c.useDebugValue;wb.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=pC(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=yC(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&a.hasValue){var v=a.value;if(s(v,m))return h=v}return h=m}if(v=h,fC(d,m))return v;var y=n(m);return s!==void 0&&s(v,y)?v:(d=m,h=y)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var o=mC(e,i[0],i[1]);return gC(function(){a.hasValue=!0,a.value=o},[o]),vC(o),o};bb.exports=wb;var xC=bb.exports;const bC=gy(xC),_b={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},{useDebugValue:wC}=qn,{useSyncExternalStoreWithSelector:kC}=bC;let dg=!1;const jC=e=>e;function _C(e,t=jC,r){(_b?"production":void 0)!=="production"&&r&&!dg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),dg=!0);const n=kC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return wC(n),n}const hg=e=>{(_b?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?eC(e):e,r=(n,s)=>_C(t,n,s);return Object.assign(r,t),r},zr=e=>e?hg(e):hg,SC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"};function NC(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),o=(i=r.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const Ia=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Ia(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Ia(n)(r)}}}},CC=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,p)=>({...p,...b}),...t},a=!1;const o=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...b)},n,s);const d=Ia(i.serialize),h=()=>{const b=i.partialize({...n()});let p;const g=d({state:b,version:i.version}).then(x=>u.setItem(i.name,x)).catch(x=>{p=x});if(p)throw p;return g},f=s.setState;s.setState=(b,p)=>{f(b,p),h()};const m=e((...b)=>{r(...b),h()},n,s);let v;const y=()=>{var b;if(!u)return;a=!1,o.forEach(g=>g(n()));const p=((b=i.onRehydrateStorage)==null?void 0:b.call(i,n()))||void 0;return Ia(u.getItem.bind(u))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var x;return v=i.merge(g,(x=n())!=null?x:m),r(v,!0),h()}).then(()=>{p==null||p(v,void 0),a=!0,c.forEach(g=>g(v))}).catch(g=>{p==null||p(void 0,g)})};return s.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},y(),v||m},EC=(e,t)=>(r,n,s)=>{let i={storage:NC(()=>localStorage),partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...t},a=!1;const o=new Set,c=new Set;let u=i.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...y)},n,s);const d=()=>{const y=i.partialize({...n()});return u.setItem(i.name,{state:y,version:i.version})},h=s.setState;s.setState=(y,b)=>{h(y,b),d()};const f=e((...y)=>{r(...y),d()},n,s);s.getInitialState=()=>f;let m;const v=()=>{var y,b;if(!u)return;a=!1,o.forEach(g=>{var x;return g((x=n())!=null?x:f)});const p=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(y=n())!=null?y:f))||void 0;return Ia(u.getItem.bind(u))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var x;const[_,k]=g;if(m=i.merge(k,(x=n())!=null?x:f),r(m,!0),_)return d()}).then(()=>{p==null||p(m,void 0),m=n(),a=!0,c.forEach(g=>g(m))}).catch(g=>{p==null||p(void 0,g)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||v(),m||f},TC=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((SC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),CC(e,t)):EC(e,t),Xa=TC,PC="modulepreload",RC=function(e){return"/"+e},fg={},ai=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=RC(c),c in fg)return;fg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":PC,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},AC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ai(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class wf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class MC extends wf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class IC extends wf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class LC extends wf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zd||(zd={}));var DC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class OC{constructor(t,{headers:r={},customFetch:n,region:s=zd.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=AC(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return DC(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(v=>{throw new MC(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new IC(d);if(!d.ok)throw new LC(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var yt={},kf={},Sc={},Za={},Nc={},Cc={},FC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},oi=FC();const $C=oi.fetch,Sb=oi.fetch.bind(oi),Nb=oi.Headers,zC=oi.Request,UC=oi.Response,gi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nb,Request:zC,Response:UC,default:Sb,fetch:$C},Symbol.toStringTag,{value:"Module"})),VC=Z1(gi);var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});let BC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ec.default=BC;var Cb=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cc,"__esModule",{value:!0});const HC=Cb(VC),GC=Cb(Ec);let WC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=HC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&y===""?(f=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new GC.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Cc.default=WC;var KC=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nc,"__esModule",{value:!0});const qC=KC(Cc);let YC=class extends qC.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Nc.default=YC;var JC=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Za,"__esModule",{value:!0});const QC=JC(Nc);let XC=class extends QC.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Za.default=XC;var ZC=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sc,"__esModule",{value:!0});const Oi=ZC(Za);let eE=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Oi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Oi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Oi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Oi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Oi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Sc.default=eE;var Tc={},Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.version=void 0;Pc.version="0.0.0-automated";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.DEFAULT_HEADERS=void 0;const tE=Pc;Tc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${tE.version}`};var Eb=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kf,"__esModule",{value:!0});const rE=Eb(Sc),nE=Eb(Za),sE=Tc;let iE=class Tb{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},sE.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new rE.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Tb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new nE.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};kf.default=iE;var yi=Ut&&Ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const Pb=yi(kf);yt.PostgrestClient=Pb.default;const Rb=yi(Sc);yt.PostgrestQueryBuilder=Rb.default;const Ab=yi(Za);yt.PostgrestFilterBuilder=Ab.default;const Mb=yi(Nc);yt.PostgrestTransformBuilder=Mb.default;const Ib=yi(Cc);yt.PostgrestBuilder=Ib.default;const Lb=yi(Ec);yt.PostgrestError=Lb.default;var aE=yt.default={PostgrestClient:Pb.default,PostgrestQueryBuilder:Rb.default,PostgrestFilterBuilder:Ab.default,PostgrestTransformBuilder:Mb.default,PostgrestBuilder:Ib.default,PostgrestError:Lb.default};const{PostgrestClient:oE,PostgrestQueryBuilder:IM,PostgrestFilterBuilder:LM,PostgrestTransformBuilder:DM,PostgrestBuilder:OM,PostgrestError:FM}=aE,lE="2.11.2",cE={"X-Client-Info":`realtime-js/${lE}`},uE="1.0.0",Db=1e4,dE=1e3;var Ys;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ys||(Ys={}));var _t;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_t||(_t={}));var Qt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qt||(Qt={}));var Ud;(function(e){e.websocket="websocket"})(Ud||(Ud={}));var Un;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Un||(Un={}));class hE{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class Ob{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xe||(xe={}));const mg=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=fE(a,e,t,s),i),{})},fE=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Fb(i,a):Vd(a)},Fb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yE(t,r)}switch(e){case xe.bool:return mE(t);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return pE(t);case xe.json:case xe.jsonb:return gE(t);case xe.timestamp:return vE(t);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return Vd(t);default:return Vd(t)}},Vd=e=>e,mE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},yE=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Fb(t,o))}return e},vE=e=>typeof e=="string"?e.replace(" ","T"):e,$b=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ju{constructor(t,r,n={},s=Db){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pg||(pg={}));class aa{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=aa.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=aa.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=aa.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),v=d.filter(b=>m.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(o[u]=v),y.length>0&&(c[u]=y)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[o].unshift(...f)}n(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gg||(gg={}));var yg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yg||(yg={}));var Cr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Cr||(Cr={}));class jf{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ju(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new Ob(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new aa(this),this.broadcastEndpointURL=$b(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Cr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Cr.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Cr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let y=0;y<m;y++){const b=f[y],{filter:{event:p,schema:g,table:x,filter:_}}=b,k=d&&d[y];if(k&&k.event===p&&k.schema===g&&k.table===x&&k.filter===_)v.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),t==null||t(Cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Cr.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new ju(this,Qt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ju(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Qt;if(n&&[o,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,y,b;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var v,y,b,p,g,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,k=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(g=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:b,commit_timestamp:p,type:g,errors:x}=v;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:p,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(v))}m.callback(f,n)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jf.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qt.close,{},t)}_onError(t){this._on(Qt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mg(t.columns,t.old_record)),r}}const xE=()=>{},bE=typeof WebSocket<"u",wE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kE{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=cE,this.params={},this.timeout=Db,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=xE,this.conn=null,this.sendBuffer=[],this.serializer=new hE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ai(async()=>{const{default:c}=await Promise.resolve().then(()=>gi);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${Ud.websocket}`,this.httpEndpoint=$b(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ob(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(bE){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new jE(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ai(async()=>{const{default:t}=await import("./browser-DggBoiH-.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uE}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ys.connecting:return Un.Connecting;case Ys.open:return Un.Open;case Ys.closing:return Un.Closing;default:return Un.Closed}}isConnected(){return this.connectionState()===Un.Open}channel(t,r={config:{}}){const n=new jf(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Qt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(dE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([wE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class jE{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ys.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class _f extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _E extends _f{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Bd extends _f{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var SE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const zb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ai(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},NE=()=>SE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ai(()=>Promise.resolve().then(()=>gi),void 0)).Response:Response}),Hd=e=>{if(Array.isArray(e))return e.map(r=>Hd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Hd(n)}),t};var cs=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const _u=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CE=(e,t,r)=>cs(void 0,void 0,void 0,function*(){const n=yield NE();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new _E(_u(s),e.status||500))}).catch(s=>{t(new Bd(_u(s),s))}):t(new Bd(_u(e),e))}),EE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function eo(e,t,r,n,s,i){return cs(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,EE(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>CE(c,o,n))})})}function Bl(e,t,r,n){return cs(this,void 0,void 0,function*(){return eo(e,"GET",t,r,n)})}function Xr(e,t,r,n,s){return cs(this,void 0,void 0,function*(){return eo(e,"POST",t,n,s,r)})}function TE(e,t,r,n,s){return cs(this,void 0,void 0,function*(){return eo(e,"PUT",t,n,s,r)})}function PE(e,t,r,n){return cs(this,void 0,void 0,function*(){return eo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ub(e,t,r,n,s){return cs(this,void 0,void 0,function*(){return eo(e,"DELETE",t,n,s,r)})}var pt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const RE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AE{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=zb(s)}uploadOrUpdate(t,r,n,s){return pt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},vg),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}upload(t,r,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return pt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:vg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Xr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new _f("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}update(t,r,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return pt(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}copy(t,r,n){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Xr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return pt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Xr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return pt(this,void 0,void 0,function*(){try{const s=yield Xr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}download(t,r){return pt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Bl(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}info(t){return pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Bl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Hd(n),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}exists(t){return pt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield PE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ke(n)&&n instanceof Bd){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return pt(this,void 0,void 0,function*(){try{return{data:yield Ub(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}list(t,r,n){return pt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},RE),r),{prefix:t||""});return{data:yield Xr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ME="2.7.1",IE={"X-Client-Info":`storage-js/${ME}`};var ms=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class LE{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},IE),r),this.fetch=zb(n)}listBuckets(){return ms(this,void 0,void 0,function*(){try{return{data:yield Bl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}getBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Bl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ms(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ms(this,void 0,void 0,function*(){try{return{data:yield TE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ms(this,void 0,void 0,function*(){try{return{data:yield Ub(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}}class DE extends LE{constructor(t,r={},n){super(t,r,n)}from(t){return new AE(this.url,this.headers,t,this.fetch)}}const OE="2.49.1";let Wi="";typeof Deno<"u"?Wi="deno":typeof document<"u"?Wi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wi="react-native":Wi="node";const FE={"X-Client-Info":`supabase-js-${Wi}/${OE}`},$E={headers:FE},zE={schema:"public"},UE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VE={};var BE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const HE=e=>{let t;return e?t=e:typeof fetch>"u"?t=Sb:t=fetch,(...r)=>t(...r)},GE=()=>typeof Headers>"u"?Nb:Headers,WE=(e,t,r)=>{const n=HE(r),s=GE();return(i,a)=>BE(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var KE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function qE(e){return e.replace(/\/$/,"")}function YE(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:a,auth:o,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>KE(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Vb="2.68.0",ks=30*1e3,Gd=3,Su=Gd*ks,JE="http://localhost:9999",QE="supabase.auth.token",XE={"X-Client-Info":`gotrue-js/${Vb}`},Wd="X-Supabase-Api-Version",Bb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ZE(e){return Math.round(Date.now()/1e3)+e}function eT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const lr=()=>typeof window<"u"&&typeof document<"u",In={tested:!1,writable:!1},oa=()=>{if(!lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(In.tested)return In.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),In.tested=!0,In.writable=!0}catch{In.tested=!0,In.writable=!1}return In.writable};function tT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Hb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ai(async()=>{const{default:n}=await Promise.resolve().then(()=>gi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gb=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Do=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Oo=async(e,t)=>{await e.removeItem(t)};function nT(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,a,o,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)a=t.indexOf(e.charAt(d++)),o=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=a<<2|o>>4,s=(o&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Rc{constructor(){this.promise=new Rc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Rc.promiseConstructor=Promise;function xg(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(nT(n))}async function sT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iT(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function aT(e){return("0"+e.toString(16)).substr(-2)}function oT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,aT).join("")}async function lT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function cT(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await lT(e);return cT(r)}async function ps(e,t,r=!1){const n=oT();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Gb(e,`${t}-code-verifier`,s);const i=await uT(n);return[i,n===i?"plain":"s256"]}const dT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hT(e){const t=e.headers.get(Wd);if(!t||!t.match(dT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Sf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class fT extends Sf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mT(e){return ie(e)&&e.name==="AuthApiError"}class Wb extends Sf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class us extends Sf{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Kr extends us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pT(e){return ie(e)&&e.name==="AuthSessionMissingError"}class Nu extends us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fo extends us{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $o extends us{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gT(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class bg extends us{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kd extends us{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cu(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class wg extends us{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var yT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Fn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vT=[502,503,504];async function kg(e){var t;if(!rT(e))throw new Kd(Fn(e),0);if(vT.includes(e.status))throw new Kd(Fn(e),e.status);let r;try{r=await e.json()}catch(i){throw new Wb(Fn(i),i)}let n;const s=hT(e);if(s&&s.getTime()>=Bb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wg(Fn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new wg(Fn(r),e.status,r.weak_password.reasons);throw new fT(Fn(r),e.status||500,n)}const xT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ue(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Wd]||(i[Wd]=Bb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await bT(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function bT(e,t,r,n,s,i){const a=xT(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Kd(Fn(c),0)}if(o.ok||await kg(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await kg(c)}}function qr(e){var t;let r=null;_T(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ZE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function jg(e){const t=qr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function sn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wT(e){return{data:e,error:null}}function kT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=yT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function jT(e){return e}function _T(e){return e.access_token&&e.refresh_token&&e.expires_in}var ST=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class NT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Hb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ST(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:kT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:jT});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:sn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:sn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}const CT={getItem:e=>oa()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{oa()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{oa()&&globalThis.localStorage.removeItem(e)}};function _g(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function ET(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gs={debug:!!(globalThis&&oa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TT extends Kb{}async function PT(e,t,r){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}ET();const RT={url:JE,storageKey:QE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sg(e,t,r){return await r()}class La{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=La.nextInstanceID,La.nextInstanceID+=1,this.instanceID>0&&lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},RT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new NT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hb(s.fetch),this.lock=s.lock||Sg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:lr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=PT:this.lock=Sg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:oa()?this.storage=CT:(this.memoryStorage={},this.storage=_g(this.memoryStorage)):(this.memoryStorage={},this.storage=_g(this.memoryStorage)),lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=tT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),lr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),gT(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?{error:r}:{error:new Wb("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:qr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ps(this.storage,this.storageKey)),i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:qr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:qr})}else throw new Fo("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jg})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jg})}else throw new Fo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Nu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Do(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:qr});if(await Oo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Nu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ie(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qr}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Nu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ps(this.storage,this.storageKey));const{error:h}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Fo("You must provide either an email or phone number.")}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await ps(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:wT})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kr;const{error:s}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ie(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Fo("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Do(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Su:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sn}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kr}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:sn})})}catch(r){if(ie(r))return pT(r)&&(await this._removeSession(),await Oo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Kr;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await ps(this.storage,this.storageKey));const{data:u,error:d}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:sn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return xg(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const a=xg(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ie(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ie(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!lr())throw new $o("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $o(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $o("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bg("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!a||!u)throw new $o("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(ie(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Do(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(mT(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Oo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=eT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ps(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return lr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ie(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iT(async s=>(s>0&&await sT(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Cu(i)&&Date.now()+a-n<ks})}catch(n){if(this._debug(r,"error",n),ie(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),lr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Do(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Su;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Su}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Cu(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Rc;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Kr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),ie(i)){const a={session:null,error:i};return Cu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Gb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Oo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ks);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ks}ms, refresh threshold is ${Gd} ticks`),s<=Gd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Kb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await ps(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ie(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}La.nextInstanceID=0;const AT=La;class MT extends AT{constructor(t){super(t)}}var IT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class LT{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=qE(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:zE,realtime:VE,auth:Object.assign(Object.assign({},UE),{storageKey:c}),global:$E},d=YE(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=WE(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new oE(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new OC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new DE(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return IT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MT({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new kE(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DT=(e,t,r)=>new LT(e,t,r),OT="https://ptmfcodrlfufrzkxrtxg.supabase.co",FT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",B=DT(OT,FT),Hl=new Map,Nf=new Map;let $T=1;function Cf(e){var s,i,a;let t=Hl.get(e.id);t||(t=$T++,Hl.set(e.id,t),Nf.set(t,e.id));const r=e.reviews||[],n=r.length>0?r.reduce((o,c)=>o+c.rating,0)/r.length:0;return{id:t,title:e.title,description:e.description,image:e.image,prepTime:e.prep_time,difficulty:e.difficulty,rating:Number(n.toFixed(1)),category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutritionFacts:{calories:Number(e.nutrition_facts.calories),protein:Number(e.nutrition_facts.protein),carbs:Number(e.nutrition_facts.carbs),fat:Number(e.nutrition_facts.fat),fiber:Number(e.nutrition_facts.fiber)},reviews:r.map(o=>({id:o.id,userId:o.user_id,userName:o.profiles.full_name,rating:o.rating,comment:o.comment||"",date:new Date(o.created_at).toISOString().split("T")[0]})),authorId:e.author_id,authorName:(s=e.profiles)==null?void 0:s.full_name,authorType:(i=e.profiles)==null?void 0:i.user_type,authorAvatarUrl:((a=e.profiles)==null?void 0:a.avatar_url)||null,createdAt:e.created_at,updatedAt:e.updated_at}}function to(e){return Nf.get(e)||null}async function Eu(e){console.log("Getting user profile for ID:",e);const{data:t,error:r}=await B.from("profiles").select("*").eq("id",e).single();if(r)throw console.error("Error getting user profile:",r),r;return console.log("User profile retrieved:",t),t}async function zT(e){console.log("Creating recipe:",e);const{data:t,error:r}=await B.from("recipes").insert([{title:e.title,description:e.description,image:e.image,prep_time:e.prepTime,difficulty:e.difficulty,category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutrition_facts:{calories:Number(e.nutritionFacts.calories),protein:Number(e.nutritionFacts.protein),carbs:Number(e.nutritionFacts.carbs),fat:Number(e.nutritionFacts.fat),fiber:Number(e.nutritionFacts.fiber)},author_id:e.authorId}]).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type, avatar_url),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(r)throw console.error("Error creating recipe:",r),r;return console.log("Recipe created successfully:",t),Cf(t)}async function UT(e,t){const r=to(e);if(!r)throw new Error("Receita no encontrada");const{data:n,error:s}=await B.from("recipes").update({title:t.title,description:t.description,image:t.image,prep_time:t.prepTime,difficulty:t.difficulty,category:t.category,ingredients:t.ingredients,instructions:t.instructions,nutrition_facts:t.nutritionFacts?{calories:Number(t.nutritionFacts.calories),protein:Number(t.nutritionFacts.protein),carbs:Number(t.nutritionFacts.carbs),fat:Number(t.nutritionFacts.fat),fiber:Number(t.nutritionFacts.fiber)}:void 0}).eq("id",r).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type, avatar_url),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(s)throw s;return Cf(n)}async function VT(e){const t=to(e);if(!t)throw new Error("Receita no encontrada");const{error:r}=await B.from("recipes").delete().eq("id",t);if(r)throw r;Hl.delete(t),Nf.delete(e)}async function BT(){console.log("Fetching recipes from Supabase...");const{data:e,error:t}=await B.from("recipes").select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type, avatar_url),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),t;if(console.log("Raw recipes from database:",(e==null?void 0:e.length)||0),!e||e.length===0)return console.log("No recipes found in database"),[];const r=e.map(Cf);return console.log("Converted recipes:",r.length),r}async function HT(e,t){const r=to(e);if(!r)throw new Error("Receita no encontrada");console.log("Adding review to recipe:",{recipeId:e,uuid:r,review:t});const{data:n,error:s}=await B.from("reviews").insert([{recipe_id:r,user_id:t.user_id,rating:t.rating,comment:t.comment}]).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(s)throw console.error("Error adding review:",s),s;return console.log("Review added successfully:",n),n}async function GT(e,t){console.log("Updating review:",{reviewId:e,updates:t});const{data:r,error:n}=await B.from("reviews").update({rating:t.rating,comment:t.comment}).eq("id",e).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(n)throw console.error("Error updating review:",n),n;return console.log("Review updated successfully:",r),r}async function WT(e){console.log("Deleting review:",e);const{error:t}=await B.from("reviews").delete().eq("id",e);if(t)throw console.error("Error deleting review:",t),t;console.log("Review deleted successfully")}async function KT(e,t){const r=to(t);if(!r)throw new Error("Receita no encontrada");const{error:n}=await B.from("favorites").insert([{user_id:e,recipe_id:r}]);if(n)throw console.error("Error adding to favorites:",n),n}async function qT(e,t){const r=to(t);if(!r)throw new Error("Receita no encontrada");const{error:n}=await B.from("favorites").delete().eq("user_id",e).eq("recipe_id",r);if(n)throw console.error("Error removing from favorites:",n),n}async function YT(e){console.log("Fetching favorites for user:",e);const{data:t,error:r}=await B.from("favorites").select("recipe_id").eq("user_id",e);if(r)throw console.error("Error fetching favorites:",r),r;console.log("Raw favorites data:",t);const n=[];return t==null||t.forEach(s=>{const i=Hl.get(s.recipe_id);i&&n.push(i)}),console.log("Converted favorite IDs:",n),n}async function JT(e){try{console.log("Checking if email exists:",e);const{data:t,error:r}=await B.from("profiles").select("email").eq("email",e.toLowerCase().trim()).single();return r?r.code==="PGRST116"?(console.log("Email not found in profiles table"),!1):(console.error("Error checking email:",r),!1):(console.log("Email found in profiles table:",!!t),!!t)}catch(t){return console.error("Error checking email existence:",t),!1}}async function QT(e){console.log("Sending password reset email to:",e);const{error:t}=await B.auth.resetPasswordForEmail(e.toLowerCase().trim(),{redirectTo:`${window.location.origin}/reset-password`});if(t)throw console.error("Error sending password reset email:",t),t.message.includes("Email rate limit exceeded")?new Error("Muitas tentativas de recuperao. Aguarde alguns minutos antes de tentar novamente."):t.message.includes("For security purposes")?new Error("Por motivos de segurana, aguarde alguns minutos antes de solicitar outro email."):t.message.includes("Invalid email")?new Error("Email invlido. Verifique o formato do email."):t.message.includes("User not found")?new Error("Email no encontrado. Verifique se o email est correto ou crie uma conta."):new Error("Erro ao enviar email de recuperao. Tente novamente em alguns minutos.");console.log("Password reset email sent successfully")}async function XT(e){console.log("Updating user password");const{error:t}=await B.auth.updateUser({password:e});if(t)throw console.error("Error updating password:",t),t.message.includes("session_not_found")?new Error("Sesso expirada. Solicite um novo link de recuperao."):t.message.includes("same_password")?new Error("A nova senha deve ser diferente da senha atual."):t.message.includes("Password should be at least")?new Error("A senha deve ter pelo menos 6 caracteres."):new Error("Erro ao atualizar senha. Tente novamente.");console.log("Password updated successfully")}async function ZT(){try{const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),r=e.get("type");if(!t||r!=="recovery")return{valid:!1};const{data:{user:n},error:s}=await B.auth.getUser(t);if(s||!n)return console.error("Invalid recovery token:",s),{valid:!1};const{error:i}=await B.auth.setSession({access_token:t,refresh_token:e.get("refresh_token")||""});return i?(console.error("Error setting session:",i),{valid:!1}):{valid:!0,user:n}}catch(e){return console.error("Error validating recovery token:",e),{valid:!1}}}const re=zr(e=>({message:null,type:"info",showToast:(t,r)=>e({message:t,type:r}),hideToast:()=>e({message:null})})),Ue=zr()(Xa((e,t)=>({user:null,token:null,isAuthenticated:!1,error:null,loading:!1,initializeAuth:async()=>{var r,n;try{const{data:s}=await B.auth.getSession(),i=s.session;if(!(i!=null&&i.user)){e({user:null,token:null,isAuthenticated:!1});return}const a=i.user,o=await Eu(a.id).catch(()=>null),c={id:a.id,email:a.email??"",name:((r=a.user_metadata)==null?void 0:r.full_name)||(o==null?void 0:o.full_name)||"",type:(((n=a.user_metadata)==null?void 0:n.user_type)||(o==null?void 0:o.user_type))??"Client",avatar_url:(o==null?void 0:o.avatar_url)||null,profile:void 0};e({user:c,token:i.access_token,isAuthenticated:!0})}catch(s){console.error("initializeAuth error:",s),e({user:null,token:null,isAuthenticated:!1})}},signIn:async(r,n)=>{var s,i;e({loading:!0,error:null});try{const{data:a,error:o}=await B.auth.signInWithPassword({email:r,password:n});if(o){let f="Erro ao fazer login";o.message.includes("Invalid login credentials")&&(f="Email ou senha incorretos."),o.message.includes("Email not confirmed")&&(f="Email no confirmado. Verifique sua caixa de entrada."),o.message.includes("Too many requests")&&(f="Muitas tentativas. Tente mais tarde."),re.getState().showToast(f,"error"),e({error:f,loading:!1});return}const c=a.user,u=a.session??(await B.auth.getSession()).data.session,d=await Eu(c.id).catch(()=>null),h={id:c.id,email:c.email??"",name:((s=c.user_metadata)==null?void 0:s.full_name)||(d==null?void 0:d.full_name)||"",type:(((i=c.user_metadata)==null?void 0:i.user_type)||(d==null?void 0:d.user_type))??"Client",avatar_url:(d==null?void 0:d.avatar_url)||null,profile:void 0};e({user:h,token:(u==null?void 0:u.access_token)??null,isAuthenticated:!0,loading:!1}),re.getState().showToast("Login realizado com sucesso!","success")}catch(a){console.error("signIn error:",a),re.getState().showToast("Erro inesperado ao fazer login.","error"),e({error:"Erro inesperado",loading:!1})}},signUp:async(r,n,s,i)=>{var a,o;e({loading:!0,error:null});try{const{data:c,error:u}=await B.auth.signUp({email:r,password:n,options:{data:{full_name:s,user_type:i}}});if(u){let f="Erro ao criar conta";u.message.includes("User already registered")&&(f="Este e-mail j est cadastrado."),u.message.includes("Password should be at least")&&(f="A senha deve ter pelo menos 6 caracteres."),u.message.includes("Invalid email")&&(f="E-mail invlido."),re.getState().showToast(f,"error"),e({error:f,loading:!1});return}const d=c.user,h=c.session??(await B.auth.getSession()).data.session;if(d&&(h!=null&&h.access_token)){const f=await Eu(d.id).catch(()=>null),m={id:d.id,email:d.email??"",name:((a=d.user_metadata)==null?void 0:a.full_name)||(f==null?void 0:f.full_name)||"",type:(((o=d.user_metadata)==null?void 0:o.user_type)||(f==null?void 0:f.user_type))??"Client",profile:void 0};e({user:m,token:h.access_token,isAuthenticated:!0,loading:!1}),re.getState().showToast("Conta criada com sucesso!","success");return}re.getState().showToast("Conta criada com sucesso! Agora faa login.","success"),e({loading:!1})}catch(c){console.error("signUp error:",c),re.getState().showToast("Erro inesperado ao criar conta.","error"),e({error:"Erro inesperado",loading:!1})}},signOut:async()=>{try{await B.auth.signOut(),e({user:null,token:null,isAuthenticated:!1}),re.getState().showToast("Logout realizado!","info")}catch(r){console.error("signOut error:",r),re.getState().showToast("Logout realizado","info")}},updateProfile:async r=>{const n=t().user;n&&e({user:{...n,...r}})},clearError:()=>e({error:null}),isNutritionist:()=>{var r;return((r=t().user)==null?void 0:r.type)==="Nutritionist"}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));async function qb(){const{data:e,error:t}=await B.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return e||[]}async function eP(e){const{data:t,error:r}=await B.from("user_subscriptions").select(`
      *,
      plan:subscription_plans(*)
    `).eq("user_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(r&&r.code!=="PGRST116")throw r;return t??null}async function tP(e){const{data:t,error:r}=await B.from("user_subscriptions").insert(e).select(`
      *,
      plan:subscription_plans(*)
    `).single();if(r)throw r;return t}async function rP({priceId:e,planId:t,successUrl:r,cancelUrl:n}){var u,d,h;let{data:{session:s},error:i}=await B.auth.getSession();if(i||!(s!=null&&s.access_token)){const f=await B.auth.refreshSession().catch(()=>null);s=((u=f==null?void 0:f.data)==null?void 0:u.session)??null}const a=s==null?void 0:s.access_token;if(!a)throw new Error("Voc precisa estar logado para assinar. Faa login e tente novamente.");const{data:o}=await B.functions.invoke("create-checkout-session",{body:{priceId:e,planId:t,successUrl:r,cancelUrl:n},headers:{Authorization:`Bearer ${a}`}});if(!o)throw new Error("Checkout failed: sem resposta do servidor");if(o.error){const f=(d=o.debug)!=null&&d.priceId?` (priceId: ${o.debug.priceId}${(h=o.debug)!=null&&h.message?`  ${o.debug.message}`:""})`:"";throw new Error(`Checkout failed: ${o.error}${f}`)}if(!o.url)throw new Error("Falha ao criar sesso de pagamento (sem URL)");const c=o.url;try{if(typeof window<"u"&&window.top&&window.top!==window){window.top.location.href=c;return}}catch{}try{window.location.assign(c)}catch{window.open(c,"_blank","noopener,noreferrer")}}const Ac=zr()(Xa((e,t)=>({plans:[],userSubscription:null,loading:!1,error:null,fetchPlans:async()=>{e({loading:!0,error:null});try{const r=await qb();e({plans:r,loading:!1})}catch(r){console.error("Error fetching plans:",r);const n=r instanceof Error?r.message:"Erro ao carregar planos";e({error:n,loading:!1}),re.getState().showToast("Erro ao carregar planos de assinatura","error")}},fetchUserSubscription:async r=>{try{const n=await eP(r);e({userSubscription:n})}catch(n){console.error("Error fetching user subscription:",n),e({userSubscription:null})}},hasFeatureAccess:r=>{const{userSubscription:n}=t();return!n||!n.plan?!1:n.plan.features.includes(r)},isPremium:()=>t().hasFeatureAccess("ai_mentoring"),createSubscription:async r=>{e({loading:!0,error:null});try{const n=await tP(r);e({userSubscription:n,loading:!1}),re.getState().showToast("Assinatura ativada com sucesso!","success")}catch(n){console.error("Error creating subscription:",n);const s=n instanceof Error?n.message:"Erro ao criar assinatura";throw e({error:s,loading:!1}),re.getState().showToast("Erro ao ativar assinatura","error"),n}},reset:()=>e({plans:[],userSubscription:null,loading:!1,error:null})}),{name:"subscription-storage",partialize:e=>({userSubscription:e.userSubscription})})),Ef=zr(e=>({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:"",setCategory:t=>e({category:t}),setSearchQuery:t=>e({searchQuery:t}),setDifficulty:t=>e({difficulty:t}),setPrepTimeRange:t=>e({prepTimeRange:t}),setMinRating:t=>e({minRating:t}),setSortBy:t=>e({sortBy:t}),resetFilters:()=>e({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:""})})),Tf=w.createContext({});function Pf(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Mc=w.createContext(null),Rf=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class nP extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sP({children:e,isPresent:t}){const r=w.useId(),n=w.useRef(null),s=w.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=w.useContext(Rf);return w.useInsertionEffect(()=>{const{width:a,height:o,top:c,left:u}=s.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),l.jsx(nP,{isPresent:t,childRef:n,sizeRef:s,children:w.cloneElement(e,{ref:n})})}const iP=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=Pf(aP),c=w.useId(),u=w.useCallback(h=>{o.set(h,!0);for(const f of o.values())if(!f)return;n&&n()},[o,n]),d=w.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),i?[Math.random(),u]:[r,u]);return w.useMemo(()=>{o.forEach((h,f)=>o.set(f,!1))},[r]),w.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(e=l.jsx(sP,{isPresent:r,children:e})),l.jsx(Mc.Provider,{value:d,children:e})};function aP(){return new Map}function Yb(e=!0){const t=w.useContext(Mc);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=w.useId();w.useEffect(()=>{e&&s(i)},[e]);const a=w.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const zo=e=>e.key||"";function Ng(e){const t=[];return w.Children.forEach(e,r=>{w.isValidElement(r)&&t.push(r)}),t}const Af=typeof window<"u",Jb=Af?w.useLayoutEffect:w.useEffect,ro=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,c]=Yb(a),u=w.useMemo(()=>Ng(e),[e]),d=a&&!o?[]:u.map(zo),h=w.useRef(!0),f=w.useRef(u),m=Pf(()=>new Map),[v,y]=w.useState(u),[b,p]=w.useState(u);Jb(()=>{h.current=!1,f.current=u;for(let _=0;_<b.length;_++){const k=zo(b[_]);d.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[b,d.length,d.join("-")]);const g=[];if(u!==v){let _=[...u];for(let k=0;k<b.length;k++){const T=b[k],j=zo(T);d.includes(j)||(_.splice(k,0,T),g.push(T))}i==="wait"&&g.length&&(_=g),p(Ng(_)),y(u);return}const{forceRender:x}=w.useContext(Tf);return l.jsx(l.Fragment,{children:b.map(_=>{const k=zo(_),T=a&&!o?!1:u===b||d.includes(k),j=()=>{if(m.has(k))m.set(k,!0);else return;let E=!0;m.forEach(C=>{C||(E=!1)}),E&&(x==null||x(),p(f.current),a&&(c==null||c()),n&&n())};return l.jsx(iP,{isPresent:T,initial:!h.current||r?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:T?void 0:j,children:_},k)})})},Tt=e=>e;let qd=Tt;function Mf(e){let t;return()=>(t===void 0&&(t=e()),t)}const li=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Ar=e=>e*1e3,Mr=e=>e/1e3,oP={skipAnimations:!1,useManualTiming:!1};function lP(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){i.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&n?t:r;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(a=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,s&&(s=!1,c.process(u))}};return c}const Uo=["read","resolveKeyframes","update","preRender","render","postRender"],cP=40;function Qb(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=Uo.reduce((p,g)=>(p[g]=lP(i),p),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,m=()=>{const p=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(p-s.timestamp,cP),1),s.timestamp=p,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:Uo.reduce((p,g)=>{const x=a[g];return p[g]=(_,k=!1,T=!1)=>(r||v(),x.schedule(_,k,T)),p},{}),cancel:p=>{for(let g=0;g<Uo.length;g++)a[Uo[g]].cancel(p)},state:s,steps:a}}const{schedule:Ee,cancel:wn,state:Xe,steps:Tu}=Qb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tt,!0),Xb=w.createContext({strict:!1}),Cg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ci={};for(const e in Cg)ci[e]={isEnabled:t=>Cg[e].some(r=>!!t[r])};function uP(e){for(const t in e)ci[t]={...ci[t],...e[t]}}const dP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||dP.has(e)}let Zb=e=>!Gl(e);function hP(e){e&&(Zb=t=>t.startsWith("on")?!Gl(t):e(t))}try{hP(require("@emotion/is-prop-valid").default)}catch{}function fP(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Zb(s)||r===!0&&Gl(s)||!t&&!Gl(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function mP(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Ic=w.createContext({});function Da(e){return typeof e=="string"||Array.isArray(e)}function Lc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const If=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lf=["initial",...If];function Dc(e){return Lc(e.animate)||Lf.some(t=>Da(e[t]))}function ew(e){return!!(Dc(e)||e.variants)}function pP(e,t){if(Dc(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Da(r)?r:void 0,animate:Da(n)?n:void 0}}return e.inherit!==!1?t:{}}function gP(e){const{initial:t,animate:r}=pP(e,w.useContext(Ic));return w.useMemo(()=>({initial:t,animate:r}),[Eg(t),Eg(r)])}function Eg(e){return Array.isArray(e)?e.join(" "):e}const yP=Symbol.for("motionComponentSymbol");function Ds(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vP(e,t,r){return w.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ds(r)&&(r.current=n))},[t])}const Df=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xP="framerAppearId",tw="data-"+Df(xP),{schedule:Of,cancel:$M}=Qb(queueMicrotask,!1),rw=w.createContext({});function bP(e,t,r,n,s){var i,a;const{visualElement:o}=w.useContext(Ic),c=w.useContext(Xb),u=w.useContext(Mc),d=w.useContext(Rf).reducedMotion,h=w.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=w.useContext(rw);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&wP(h.current,r,s,m);const v=w.useRef(!1);w.useInsertionEffect(()=>{f&&v.current&&f.update(r,u)});const y=r[tw],b=w.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,y)));return Jb(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Of.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),w.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,y)}),b.current=!1))}),f}function wP(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:nw(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Ds(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function nw(e){if(e)return e.options.allowProjection!==!1?e.projection:nw(e.parent)}function kP({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,a;e&&uP(e);function o(u,d){let h;const f={...w.useContext(Rf),...u,layoutId:jP(u)},{isStatic:m}=f,v=gP(u),y=n(u,m);if(!m&&Af){_P();const b=SP(f);h=b.MeasureLayout,v.visualElement=bP(s,y,f,t,b.ProjectionNode)}return l.jsxs(Ic.Provider,{value:v,children:[h&&v.visualElement?l.jsx(h,{visualElement:v.visualElement,...f}):null,r(s,u,vP(y,v.visualElement,d),y,m,v.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=w.forwardRef(o);return c[yP]=s,c}function jP({layoutId:e}){const t=w.useContext(Tf).id;return t&&e!==void 0?t+"-"+e:e}function _P(e,t){w.useContext(Xb).strict}function SP(e){const{drag:t,layout:r}=ci;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const NP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ff(e){return typeof e!="string"||e.includes("-")?!1:!!(NP.indexOf(e)>-1||/[A-Z]/u.test(e))}function Tg(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function $f(e,t,r,n){if(typeof t=="function"){const[s,i]=Tg(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Tg(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const Yd=e=>Array.isArray(e),CP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),EP=e=>Yd(e)?e[e.length-1]||0:e,ot=e=>!!(e&&e.getVelocity);function ll(e){const t=ot(e)?e.get():e;return CP(t)?t.toValue():t}function TP({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const a={latestValues:PP(n,s,i,e),renderState:t()};return r&&(a.onMount=o=>r({props:n,current:o,...a}),a.onUpdate=o=>r(o)),a}const sw=e=>(t,r)=>{const n=w.useContext(Ic),s=w.useContext(Mc),i=()=>TP(e,t,n,s);return r?i():Pf(i)};function PP(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=ll(i[f]);let{initial:a,animate:o}=e;const c=Dc(e),u=ew(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Lc(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const v=$f(e,f[m]);if(v){const{transitionEnd:y,transition:b,...p}=v;for(const g in p){let x=p[g];if(Array.isArray(x)){const _=d?x.length-1:0;x=x[_]}x!==null&&(s[g]=x)}for(const g in y)s[g]=y[g]}}}return s}const vi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ds=new Set(vi),iw=e=>t=>typeof t=="string"&&t.startsWith(e),aw=iw("--"),RP=iw("var(--"),zf=e=>RP(e)?AP.test(e.split("/*")[0].trim()):!1,AP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ow=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Fr=(e,t,r)=>r>t?t:r<e?e:r,xi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Oa={...xi,transform:e=>Fr(0,1,e)},Vo={...xi,default:1},no=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yr=no("deg"),gr=no("%"),X=no("px"),MP=no("vh"),IP=no("vw"),Pg={...gr,parse:e=>gr.parse(e)/100,transform:e=>gr.transform(e*100)},LP={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X},DP={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:Vo,scaleX:Vo,scaleY:Vo,scaleZ:Vo,skew:Yr,skewX:Yr,skewY:Yr,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:Oa,originX:Pg,originY:Pg,originZ:X},Rg={...xi,transform:Math.round},Uf={...LP,...DP,zIndex:Rg,size:X,fillOpacity:Oa,strokeOpacity:Oa,numOctaves:Rg},OP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FP=vi.length;function $P(e,t,r){let n="",s=!0;for(let i=0;i<FP;i++){const a=vi[i],o=e[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const u=ow(o,Uf[a]);if(!c){s=!1;const d=OP[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Vf(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const c in t){const u=t[c];if(ds.has(c)){a=!0;continue}else if(aw(c)){s[c]=u;continue}else{const d=ow(u,Uf[c]);c.startsWith("origin")?(o=!0,i[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=$P(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const zP={offset:"stroke-dashoffset",array:"stroke-dasharray"},UP={offset:"strokeDashoffset",array:"strokeDasharray"};function VP(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?zP:UP;e[i.offset]=X.transform(-n);const a=X.transform(t),o=X.transform(r);e[i.array]=`${a} ${o}`}function Ag(e,t,r){return typeof e=="string"?e:X.transform(t+r*e)}function BP(e,t,r){const n=Ag(t,e.x,e.width),s=Ag(r,e.y,e.height);return`${n} ${s}`}function Bf(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if(Vf(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:v}=e;f.transform&&(v&&(m.transform=f.transform),delete f.transform),v&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=BP(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&VP(f,a,o,c,!1)}const Hf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),lw=()=>({...Hf(),attrs:{}}),Gf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cw(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const uw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dw(e,t,r,n){cw(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(uw.has(s)?s:Df(s),t.attrs[s])}const Wl={};function HP(e){Object.assign(Wl,e)}function hw(e,{layout:t,layoutId:r}){return ds.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Wl[e]||e==="opacity")}function Wf(e,t,r){var n;const{style:s}=e,i={};for(const a in s)(ot(s[a])||t.style&&ot(t.style[a])||hw(a,e)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function fw(e,t,r){const n=Wf(e,t,r);for(const s in e)if(ot(e[s])||ot(t[s])){const i=vi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function GP(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Mg=["x","y","width","height","cx","cy","r"],WP={useVisualState:sw({scrapeMotionValuesFromProps:fw,createRenderState:lw,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const o in s)if(ds.has(o)){i=!0;break}}if(!i)return;let a=!t;if(t)for(let o=0;o<Mg.length;o++){const c=Mg[o];e[c]!==t[c]&&(a=!0)}a&&Ee.read(()=>{GP(r,n),Ee.render(()=>{Bf(n,s,Gf(r.tagName),e.transformTemplate),dw(r,n)})})}})},KP={useVisualState:sw({scrapeMotionValuesFromProps:Wf,createRenderState:Hf})};function mw(e,t,r){for(const n in t)!ot(t[n])&&!hw(n,r)&&(e[n]=t[n])}function qP({transformTemplate:e},t){return w.useMemo(()=>{const r=Hf();return Vf(r,t,e),Object.assign({},r.vars,r.style)},[t])}function YP(e,t){const r=e.style||{},n={};return mw(n,r,e),Object.assign(n,qP(e,t)),n}function JP(e,t){const r={},n=YP(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function QP(e,t,r,n){const s=w.useMemo(()=>{const i=lw();return Bf(i,t,Gf(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};mw(i,e.style,e),s.style={...i,...s.style}}return s}function XP(e=!1){return(r,n,s,{latestValues:i},a)=>{const c=(Ff(r)?QP:JP)(n,i,a,r),u=fP(n,typeof r=="string",e),d=r!==w.Fragment?{...u,...c,ref:s}:{},{children:h}=n,f=w.useMemo(()=>ot(h)?h.get():h,[h]);return w.createElement(r,{...d,children:f})}}function ZP(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Ff(n)?WP:KP,preloadedFeatures:e,useRender:XP(s),createVisualElement:t,Component:n};return kP(a)}}function pw(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Oc(e,t,r){const n=e.getProps();return $f(n,t,r!==void 0?r:n.custom,e)}const eR=Mf(()=>window.ScrollTimeline!==void 0);class tR{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(eR()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class rR extends tR{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function Kf(e,t){return e?e[t]||e.default||e:void 0}const Jd=2e4;function gw(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Jd;)t+=r,n=e.next(t);return t>=Jd?1/0:t}function qf(e){return typeof e=="function"}function Ig(e,t){e.timeline=t,e.onfinish=null}const Yf=e=>Array.isArray(e)&&typeof e[0]=="number",nR={linearEasing:void 0};function sR(e,t){const r=Mf(e);return()=>{var n;return(n=nR[t])!==null&&n!==void 0?n:r()}}const Kl=sR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yw=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(li(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function vw(e){return!!(typeof e=="function"&&Kl()||!e||typeof e=="string"&&(e in Qd||Kl())||Yf(e)||Array.isArray(e)&&e.every(vw))}const Ki=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Qd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ki([0,.65,.55,1]),circOut:Ki([.55,0,1,.45]),backIn:Ki([.31,.01,.66,-.59]),backOut:Ki([.33,1.53,.69,.99])};function xw(e,t){if(e)return typeof e=="function"&&Kl()?yw(e,t):Yf(e)?Ki(e):Array.isArray(e)?e.map(r=>xw(r,t)||Qd.easeOut):Qd[e]}const qt={x:!1,y:!1};function bw(){return qt.x||qt.y}function iR(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function ww(e,t){const r=iR(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Lg(e){return t=>{t.pointerType==="touch"||bw()||e(t)}}function aR(e,t,r={}){const[n,s,i]=ww(e,r),a=Lg(o=>{const{target:c}=o,u=t(o);if(typeof u!="function"||!c)return;const d=Lg(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return n.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const kw=(e,t)=>t?e===t?!0:kw(e,t.parentElement):!1,Jf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,oR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lR(e){return oR.has(e.tagName)||e.tabIndex!==-1}const qi=new WeakSet;function Dg(e){return t=>{t.key==="Enter"&&e(t)}}function Pu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cR=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Dg(()=>{if(qi.has(r))return;Pu(r,"down");const s=Dg(()=>{Pu(r,"up")}),i=()=>Pu(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Og(e){return Jf(e)&&!bw()}function uR(e,t,r={}){const[n,s,i]=ww(e,r),a=o=>{const c=o.currentTarget;if(!Og(o)||qi.has(c))return;qi.add(c);const u=t(o),d=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Og(m)||!qi.has(c))&&(qi.delete(c),typeof u=="function"&&u(m,{success:v}))},h=m=>{d(m,r.useGlobalTarget||kw(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(o=>{!lR(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",u=>cR(u,s),s)}),i}function dR(e){return e==="x"||e==="y"?qt[e]?null:(qt[e]=!0,()=>{qt[e]=!1}):qt.x||qt.y?null:(qt.x=qt.y=!0,()=>{qt.x=qt.y=!1})}const jw=new Set(["width","height","top","left","right","bottom",...vi]);let cl;function hR(){cl=void 0}const yr={now:()=>(cl===void 0&&yr.set(Xe.isProcessing||oP.useManualTiming?Xe.timestamp:performance.now()),cl),set:e=>{cl=e,queueMicrotask(hR)}};function Qf(e,t){e.indexOf(t)===-1&&e.push(t)}function Xf(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Zf{constructor(){this.subscriptions=[]}add(t){return Qf(this.subscriptions,t),()=>Xf(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function _w(e,t){return t?e*(1e3/t):0}const Fg=30,fR=e=>!isNaN(parseFloat(e));class mR{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=yr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=yr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Zf);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Fg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Fg);return _w(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fa(e,t){return new mR(e,t)}function pR(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Fa(r))}function gR(e,t){const r=Oc(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const o=EP(i[a]);pR(e,a,o)}}function yR(e){return!!(ot(e)&&e.add)}function Xd(e,t){const r=e.getValue("willChange");if(yR(r))return r.add(t)}function Sw(e){return e.props[tw]}const Nw=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,vR=1e-7,xR=12;function bR(e,t,r,n,s){let i,a,o=0;do a=t+(r-t)/2,i=Nw(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>vR&&++o<xR);return a}function so(e,t,r,n){if(e===t&&r===n)return Tt;const s=i=>bR(i,0,1,e,r);return i=>i===0||i===1?i:Nw(s(i),t,n)}const Cw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ew=e=>t=>1-e(1-t),Tw=so(.33,1.53,.69,.99),em=Ew(Tw),Pw=Cw(em),Rw=e=>(e*=2)<1?.5*em(e):.5*(2-Math.pow(2,-10*(e-1))),tm=e=>1-Math.sin(Math.acos(e)),Aw=Ew(tm),Mw=Cw(tm),Iw=e=>/^0[^.\s]+$/u.test(e);function wR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Iw(e):!0}const la=e=>Math.round(e*1e5)/1e5,rm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kR(e){return e==null}const jR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nm=(e,t)=>r=>!!(typeof r=="string"&&jR.test(r)&&r.startsWith(e)||t&&!kR(r)&&Object.prototype.hasOwnProperty.call(r,t)),Lw=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,o]=n.match(rm);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},_R=e=>Fr(0,255,e),Ru={...xi,transform:e=>Math.round(_R(e))},Kn={test:nm("rgb","red"),parse:Lw("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Ru.transform(e)+", "+Ru.transform(t)+", "+Ru.transform(r)+", "+la(Oa.transform(n))+")"};function SR(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Zd={test:nm("#"),parse:SR,transform:Kn.transform},Os={test:nm("hsl","hue"),parse:Lw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+gr.transform(la(t))+", "+gr.transform(la(r))+", "+la(Oa.transform(n))+")"},st={test:e=>Kn.test(e)||Zd.test(e)||Os.test(e),parse:e=>Kn.test(e)?Kn.parse(e):Os.test(e)?Os.parse(e):Zd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Kn.transform(e):Os.transform(e)},NR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CR(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(rm))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(NR))===null||r===void 0?void 0:r.length)||0)>0}const Dw="number",Ow="color",ER="var",TR="var(",$g="${}",PR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $a(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(PR,c=>(st.test(c)?(n.color.push(i),s.push(Ow),r.push(st.parse(c))):c.startsWith(TR)?(n.var.push(i),s.push(ER),r.push(c)):(n.number.push(i),s.push(Dw),r.push(parseFloat(c))),++i,$g)).split($g);return{values:r,split:o,indexes:n,types:s}}function Fw(e){return $a(e).values}function $w(e){const{split:t,types:r}=$a(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const o=r[a];o===Dw?i+=la(s[a]):o===Ow?i+=st.transform(s[a]):i+=s[a]}return i}}const RR=e=>typeof e=="number"?0:e;function AR(e){const t=Fw(e);return $w(e)(t.map(RR))}const kn={test:CR,parse:Fw,createTransformer:$w,getAnimatableNone:AR},MR=new Set(["brightness","contrast","saturate","opacity"]);function IR(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(rm)||[];if(!n)return e;const s=r.replace(n,"");let i=MR.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const LR=/\b([a-z-]*)\(.*?\)/gu,eh={...kn,getAnimatableNone:e=>{const t=e.match(LR);return t?t.map(IR).join(" "):e}},DR={...Uf,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:eh,WebkitFilter:eh},sm=e=>DR[e];function zw(e,t){let r=sm(e);return r!==eh&&(r=kn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const OR=new Set(["auto","none","0"]);function FR(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!OR.has(i)&&$a(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=zw(r,s)}const zg=e=>e===xi||e===X,Ug=(e,t)=>parseFloat(e.split(", ")[t]),Vg=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return Ug(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?Ug(i[1],e):0}},$R=new Set(["x","y","z"]),zR=vi.filter(e=>!$R.has(e));function UR(e){const t=[];return zR.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ui={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Vg(4,13),y:Vg(5,14)};ui.translateX=ui.x;ui.translateY=ui.y;const Qn=new Set;let th=!1,rh=!1;function Uw(){if(rh){const e=Array.from(Qn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=UR(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}rh=!1,th=!1,Qn.forEach(e=>e.complete()),Qn.clear()}function Vw(){Qn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(rh=!0)})}function VR(){Vw(),Uw()}class im{constructor(t,r,n,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qn.add(this),th||(th=!0,Ee.read(Vw),Ee.resolveKeyframes(Uw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const c=n.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Bw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),BR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HR(e){const t=BR.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function Hw(e,t,r=1){const[n,s]=HR(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return Bw(a)?parseFloat(a):a}return zf(s)?Hw(s,t,r+1):s}const Gw=e=>t=>t.test(e),GR={test:e=>e==="auto",parse:e=>e},Ww=[xi,X,gr,Yr,IP,MP,GR],Bg=e=>Ww.find(Gw(e));class Kw extends im{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),zf(u))){const d=Hw(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!jw.has(n)||t.length!==2)return;const[s,i]=t,a=Bg(s),o=Bg(i);if(a!==o)if(zg(a)&&zg(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)wR(t[s])&&n.push(s);n.length&&FR(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ui[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=ui[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Hg=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kn.test(e)||e==="0")&&!e.startsWith("url("));function WR(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function KR(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Hg(s,t),o=Hg(i,t);return!a||!o?!1:WR(e)||(r==="spring"||qf(r))&&n}const qR=e=>e!==null;function Fc(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(qR),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const YR=40;class qw{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yr.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>YR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&VR(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=yr.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:a,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!KR(t,n,s,i))if(a)this.options.duration=0;else{c&&c(Fc(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Re=(e,t,r)=>e+(t-e)*r;function Au(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function JR({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;s=Au(c,o,e+1/3),i=Au(c,o,e),a=Au(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function ql(e,t){return r=>r>0?t:e}const Mu=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},QR=[Zd,Kn,Os],XR=e=>QR.find(t=>t.test(e));function Gg(e){const t=XR(e);if(!t)return!1;let r=t.parse(e);return t===Os&&(r=JR(r)),r}const Wg=(e,t)=>{const r=Gg(e),n=Gg(t);if(!r||!n)return ql(e,t);const s={...r};return i=>(s.red=Mu(r.red,n.red,i),s.green=Mu(r.green,n.green,i),s.blue=Mu(r.blue,n.blue,i),s.alpha=Re(r.alpha,n.alpha,i),Kn.transform(s))},ZR=(e,t)=>r=>t(e(r)),io=(...e)=>e.reduce(ZR),nh=new Set(["none","hidden"]);function e4(e,t){return nh.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function t4(e,t){return r=>Re(e,t,r)}function am(e){return typeof e=="number"?t4:typeof e=="string"?zf(e)?ql:st.test(e)?Wg:s4:Array.isArray(e)?Yw:typeof e=="object"?st.test(e)?Wg:r4:ql}function Yw(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>am(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function r4(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=am(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function n4(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],c=(r=e.values[o])!==null&&r!==void 0?r:0;n[i]=c,s[a]++}return n}const s4=(e,t)=>{const r=kn.createTransformer(t),n=$a(e),s=$a(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?nh.has(e)&&!s.values.length||nh.has(t)&&!n.values.length?e4(e,t):io(Yw(n4(n,s),s.values),r):ql(e,t)};function Jw(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Re(e,t,r):am(e)(e,t)}const i4=5;function Qw(e,t,r){const n=Math.max(t-i4,0);return _w(r-e(n),t-n)}const Le={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Iu=.001;function a4({duration:e=Le.duration,bounce:t=Le.bounce,velocity:r=Le.velocity,mass:n=Le.mass}){let s,i,a=1-t;a=Fr(Le.minDamping,Le.maxDamping,a),e=Fr(Le.minDuration,Le.maxDuration,Mr(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-r,m=sh(u,a),v=Math.exp(-h);return Iu-f/m*v},i=u=>{const h=u*a*e,f=h*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,v=Math.exp(-h),y=sh(Math.pow(u,2),a);return(-s(u)+Iu>0?-1:1)*((f-m)*v)/y}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-Iu+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const o=5/e,c=l4(s,i,o);if(e=Ar(e),isNaN(c))return{stiffness:Le.stiffness,damping:Le.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const o4=12;function l4(e,t,r){let n=r;for(let s=1;s<o4;s++)n=n-e(n)/t(n);return n}function sh(e,t){return e*Math.sqrt(1-t*t)}const c4=["duration","bounce"],u4=["stiffness","damping","mass"];function Kg(e,t){return t.some(r=>e[r]!==void 0)}function d4(e){let t={velocity:Le.velocity,stiffness:Le.stiffness,damping:Le.damping,mass:Le.mass,isResolvedFromDuration:!1,...e};if(!Kg(e,u4)&&Kg(e,c4))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Fr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Le.mass,stiffness:s,damping:i}}else{const r=a4(e);t={...t,...r,mass:Le.mass},t.isResolvedFromDuration=!0}return t}function Xw(e=Le.visualDuration,t=Le.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=d4({...r,velocity:-Mr(r.velocity||0)}),v=f||0,y=u/(2*Math.sqrt(c*d)),b=a-i,p=Mr(Math.sqrt(c/d)),g=Math.abs(b)<5;n||(n=g?Le.restSpeed.granular:Le.restSpeed.default),s||(s=g?Le.restDelta.granular:Le.restDelta.default);let x;if(y<1){const k=sh(p,y);x=T=>{const j=Math.exp(-y*p*T);return a-j*((v+y*p*b)/k*Math.sin(k*T)+b*Math.cos(k*T))}}else if(y===1)x=k=>a-Math.exp(-p*k)*(b+(v+p*b)*k);else{const k=p*Math.sqrt(y*y-1);x=T=>{const j=Math.exp(-y*p*T),E=Math.min(k*T,300);return a-j*((v+y*p*b)*Math.sinh(E)+k*b*Math.cosh(E))/k}}const _={calculatedDuration:m&&h||null,next:k=>{const T=x(k);if(m)o.done=k>=h;else{let j=0;y<1&&(j=k===0?Ar(v):Qw(x,k,T));const E=Math.abs(j)<=n,C=Math.abs(a-T)<=s;o.done=E&&C}return o.value=o.done?a:T,o},toString:()=>{const k=Math.min(gw(_),Jd),T=yw(j=>_.next(k*j).value,k,30);return k+"ms "+T}};return _}function qg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=E=>o!==void 0&&E<o||c!==void 0&&E>c,v=E=>o===void 0?c:c===void 0||Math.abs(o-E)<Math.abs(c-E)?o:c;let y=r*t;const b=h+y,p=a===void 0?b:a(b);p!==b&&(y=p-h);const g=E=>-y*Math.exp(-E/n),x=E=>p+g(E),_=E=>{const C=g(E),R=x(E);f.done=Math.abs(C)<=u,f.value=f.done?p:R};let k,T;const j=E=>{m(f.value)&&(k=E,T=Xw({keyframes:[f.value,v(f.value)],velocity:Qw(x,E,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:E=>{let C=!1;return!T&&k===void 0&&(C=!0,_(E),j(E)),k!==void 0&&E>=k?T.next(E-k):(!C&&_(E),f)}}}const h4=so(.42,0,1,1),f4=so(0,0,.58,1),Zw=so(.42,0,.58,1),m4=e=>Array.isArray(e)&&typeof e[0]!="number",Yg={linear:Tt,easeIn:h4,easeInOut:Zw,easeOut:f4,circIn:tm,circInOut:Mw,circOut:Aw,backIn:em,backInOut:Pw,backOut:Tw,anticipate:Rw},Jg=e=>{if(Yf(e)){qd(e.length===4);const[t,r,n,s]=e;return so(t,r,n,s)}else if(typeof e=="string")return qd(Yg[e]!==void 0),Yg[e];return e};function p4(e,t,r){const n=[],s=r||Jw,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Tt:t;o=io(c,o)}n.push(o)}return n}function g4(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(qd(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=p4(t,n,s),c=o.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=li(e[h],e[h+1],d);return o[h](f)};return r?d=>u(Fr(e[0],e[i-1],d)):u}function y4(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=li(0,t,n);e.push(Re(r,1,s))}}function v4(e){const t=[0];return y4(t,e.length-1),t}function x4(e,t){return e.map(r=>r*t)}function b4(e,t){return e.map(()=>t||Zw).splice(0,e.length-1)}function Yl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=m4(n)?n.map(Jg):Jg(n),i={done:!1,value:t[0]},a=x4(r&&r.length===t.length?r:v4(t),e),o=g4(a,t,{ease:Array.isArray(s)?s:b4(t,s)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const w4=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ee.update(t,!0),stop:()=>wn(t),now:()=>Xe.isProcessing?Xe.timestamp:yr.now()}},k4={decay:qg,inertia:qg,tween:Yl,keyframes:Yl,spring:Xw},j4=e=>e/100;class om extends qw{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||im,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,o,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=qf(r)?r:k4[r]||Yl;let c,u;o!==Yl&&typeof t[0]!="number"&&(c=io(j4,Jw(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});i==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=gw(d));const{calculatedDuration:h}=d,f=h+s,m=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:v,repeatDelay:y,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const p=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?p<0:p>d;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let x=this.currentTime,_=i;if(m){const E=Math.min(this.currentTime,d)/h;let C=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(v==="reverse"?(R=1-R,y&&(R-=y/h)):v==="mirror"&&(_=a)),x=Fr(0,1,R)*h}const k=g?{done:!1,value:c[0]}:_.next(x);o&&(k.value=o(k.value));let{done:T}=k;!g&&u!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return j&&s!==void 0&&(k.value=Fc(c,this.options,s)),b&&b(k.value),j&&this.finish(),k}get duration(){const{resolved:t}=this;return t?Mr(t.calculatedDuration):0}get time(){return Mr(this.currentTime)}set time(t){t=Ar(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Mr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=w4,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const _4=new Set(["opacity","clipPath","filter","transform"]);function S4(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=xw(o,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const N4=Mf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jl=10,C4=2e4;function E4(e){return qf(e.type)||e.type==="spring"||!vw(e.ease)}function T4(e,t){const r=new om({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<C4;)n=r.sample(i),s.push(n.value),i+=Jl;return{times:void 0,keyframes:s,duration:i-Jl,ease:"linear"}}const e1={anticipate:Rw,backInOut:Pw,circInOut:Mw};function P4(e){return e in e1}class Qg extends qw{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new Kw(i,(a,o)=>this.onKeyframesResolved(a,o),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:a,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&Kl()&&P4(i)&&(i=e1[i]),E4(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:v,...y}=this.options,b=T4(t,y);t=b.keyframes,t.length===1&&(t[1]=t[0]),n=b.duration,s=b.times,i=b.ease,a="keyframes"}const d=S4(o.owner.current,c,t,{...this.options,duration:n,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Ig(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(Fc(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Mr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Mr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Ar(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Tt;const{animation:n}=r;Ig(n,t)}return Tt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:a,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,v=new om({...m,keyframes:n,duration:s,type:i,ease:a,times:o,isGenerator:!0}),y=Ar(this.time);u.setWithVelocity(v.sample(y-Jl).value,v.sample(y).value,Jl)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return N4()&&n&&_4.has(n)&&!c&&!u&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const R4={type:"spring",stiffness:500,damping:25,restSpeed:10},A4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),M4={type:"keyframes",duration:.8},I4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L4=(e,{keyframes:t})=>t.length>2?M4:ds.has(e)?e.startsWith("scale")?A4(t[1]):R4:I4;function D4({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const lm=(e,t,r,n={},s,i)=>a=>{const o=Kf(n,e)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ar(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};D4(o)||(d={...d,...L4(e,d)}),d.duration&&(d.duration=Ar(d.duration)),d.repeatDelay&&(d.repeatDelay=Ar(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Fc(d.keyframes,o);if(f!==void 0)return Ee.update(()=>{d.onUpdate(f),d.onComplete()}),new rR([])}return!i&&Qg.supports(d)?new Qg(d):new om(d)};function O4({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function t1(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;n&&(a=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),m=c[h];if(m===void 0||d&&O4(d,h))continue;const v={delay:r,...Kf(a||{},h)};let y=!1;if(window.MotionHandoffAnimation){const p=Sw(e);if(p){const g=window.MotionHandoffAnimation(p,h,Ee);g!==null&&(v.startTime=g,y=!0)}}Xd(e,h),f.start(lm(h,f,m,e.shouldReduceMotion&&jw.has(h)?{type:!1}:v,e,y));const b=f.animation;b&&u.push(b)}return o&&Promise.all(u).then(()=>{Ee.update(()=>{o&&gR(e,o)})}),u}function ih(e,t,r={}){var n;const s=Oc(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(t1(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return F4(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function F4(e,t,r=0,n=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort($4).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(ih(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function $4(e,t){return e.sortNodePosition(t)}function z4(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>ih(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=ih(e,t,r);else{const s=typeof t=="function"?Oc(e,t,r.custom):t;n=Promise.all(t1(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const U4=Lf.length;function r1(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?r1(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<U4;r++){const n=Lf[r],s=e.props[n];(Da(s)||s===!1)&&(t[n]=s)}return t}const V4=[...If].reverse(),B4=If.length;function H4(e){return t=>Promise.all(t.map(({animation:r,options:n})=>z4(e,r,n)))}function G4(e){let t=H4(e),r=Xg(),n=!0;const s=c=>(u,d)=>{var h;const f=Oc(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:v,...y}=f;u={...u,...y,...v}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=r1(e.parent)||{},h=[],f=new Set;let m={},v=1/0;for(let b=0;b<B4;b++){const p=V4[b],g=r[p],x=u[p]!==void 0?u[p]:d[p],_=Da(x),k=p===c?g.isActive:null;k===!1&&(v=b);let T=x===d[p]&&x!==u[p]&&_;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={...m},!g.isActive&&k===null||!x&&!g.prevProp||Lc(x)||typeof x=="boolean")continue;const j=W4(g.prevProp,x);let E=j||p===c&&g.isActive&&!T&&_||b>v&&_,C=!1;const R=Array.isArray(x)?x:[x];let L=R.reduce(s(p),{});k===!1&&(L={});const{prevResolvedValues:D={}}=g,de={...D,...L},fe=Q=>{E=!0,f.has(Q)&&(C=!0,f.delete(Q)),g.needsAnimating[Q]=!0;const A=e.getValue(Q);A&&(A.liveStyle=!1)};for(const Q in de){const A=L[Q],F=D[Q];if(m.hasOwnProperty(Q))continue;let V=!1;Yd(A)&&Yd(F)?V=!pw(A,F):V=A!==F,V?A!=null?fe(Q):f.add(Q):A!==void 0&&f.has(Q)?fe(Q):g.protectedKeys[Q]=!0}g.prevProp=x,g.prevResolvedValues=L,g.isActive&&(m={...m,...L}),n&&e.blockInitialAnimation&&(E=!1),E&&(!(T&&j)||C)&&h.push(...R.map(Q=>({animation:Q,options:{type:p}})))}if(f.size){const b={};f.forEach(p=>{const g=e.getBaseTarget(p),x=e.getValue(p);x&&(x.liveStyle=!0),b[p]=g??null}),h.push({animation:b})}let y=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function o(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const h=a(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Xg(),n=!0}}}function W4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!pw(t,e):!1}function Ln(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xg(){return{animate:Ln(!0),whileInView:Ln(),whileHover:Ln(),whileTap:Ln(),whileDrag:Ln(),whileFocus:Ln(),exit:Ln()}}class En{constructor(t){this.isMounted=!1,this.node=t}update(){}}class K4 extends En{constructor(t){super(t),t.animationState||(t.animationState=G4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Lc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let q4=0;class Y4 extends En{constructor(){super(...arguments),this.id=q4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const J4={animation:{Feature:K4},exit:{Feature:Y4}};function za(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ao(e){return{point:{x:e.pageX,y:e.pageY}}}const Q4=e=>t=>Jf(t)&&e(t,ao(t));function ca(e,t,r,n){return za(e,t,Q4(r),n)}const Zg=(e,t)=>Math.abs(e-t);function X4(e,t){const r=Zg(e.x,t.x),n=Zg(e.y,t.y);return Math.sqrt(r**2+n**2)}class n1{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Du(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=X4(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:y}=Xe;this.history.push({...v,timestamp:y});const{onStart:b,onMove:p}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Lu(f,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Du(h.type==="pointercancel"?this.lastMoveEventInfo:Lu(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),v&&v(h,b)},!Jf(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=ao(t),o=Lu(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=Xe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Du(o,this.history)),this.removeListeners=io(ca(this.contextWindow,"pointermove",this.handlePointerMove),ca(this.contextWindow,"pointerup",this.handlePointerUp),ca(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function Lu(e,t){return t?{point:t(e.point)}:e}function e0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Du({point:e},t){return{point:e,delta:e0(e,s1(t)),offset:e0(e,Z4(t)),velocity:eA(t,.1)}}function Z4(e){return e[0]}function s1(e){return e[e.length-1]}function eA(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=s1(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Ar(t)));)r--;if(!n)return{x:0,y:0};const i=Mr(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const i1=1e-4,tA=1-i1,rA=1+i1,a1=.01,nA=0-a1,sA=0+a1;function Rt(e){return e.max-e.min}function iA(e,t,r){return Math.abs(e-t)<=r}function t0(e,t,r,n=.5){e.origin=n,e.originPoint=Re(t.min,t.max,e.origin),e.scale=Rt(r)/Rt(t),e.translate=Re(r.min,r.max,e.origin)-e.originPoint,(e.scale>=tA&&e.scale<=rA||isNaN(e.scale))&&(e.scale=1),(e.translate>=nA&&e.translate<=sA||isNaN(e.translate))&&(e.translate=0)}function ua(e,t,r,n){t0(e.x,t.x,r.x,n?n.originX:void 0),t0(e.y,t.y,r.y,n?n.originY:void 0)}function r0(e,t,r){e.min=r.min+t.min,e.max=e.min+Rt(t)}function aA(e,t,r){r0(e.x,t.x,r.x),r0(e.y,t.y,r.y)}function n0(e,t,r){e.min=t.min-r.min,e.max=e.min+Rt(t)}function da(e,t,r){n0(e.x,t.x,r.x),n0(e.y,t.y,r.y)}function oA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Re(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Re(r,e,n.max):Math.min(e,r)),e}function s0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function lA(e,{top:t,left:r,bottom:n,right:s}){return{x:s0(e.x,r,s),y:s0(e.y,t,n)}}function i0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function cA(e,t){return{x:i0(e.x,t.x),y:i0(e.y,t.y)}}function uA(e,t){let r=.5;const n=Rt(e),s=Rt(t);return s>n?r=li(t.min,t.max-n,e.min):n>s&&(r=li(e.min,e.max-s,t.min)),Fr(0,1,r)}function dA(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ah=.35;function hA(e=ah){return e===!1?e=0:e===!0&&(e=ah),{x:a0(e,"left","right"),y:a0(e,"top","bottom")}}function a0(e,t,r){return{min:o0(e,t),max:o0(e,r)}}function o0(e,t){return typeof e=="number"?e:e[t]||0}const l0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fs=()=>({x:l0(),y:l0()}),c0=()=>({min:0,max:0}),Fe=()=>({x:c0(),y:c0()});function Lt(e){return[e("x"),e("y")]}function o1({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function fA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mA(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ou(e){return e===void 0||e===1}function oh({scale:e,scaleX:t,scaleY:r}){return!Ou(e)||!Ou(t)||!Ou(r)}function $n(e){return oh(e)||l1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function l1(e){return u0(e.x)||u0(e.y)}function u0(e){return e&&e!=="0%"}function Ql(e,t,r){const n=e-r,s=t*n;return r+s}function d0(e,t,r,n,s){return s!==void 0&&(e=Ql(e,s,n)),Ql(e,r,n)+t}function lh(e,t=0,r=1,n,s){e.min=d0(e.min,t,r,n,s),e.max=d0(e.max,t,r,n,s)}function c1(e,{x:t,y:r}){lh(e.x,t.translate,t.scale,t.originPoint),lh(e.y,r.translate,r.scale,r.originPoint)}const h0=.999999999999,f0=1.0000000000001;function pA(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,c1(e,a)),n&&$n(i.latestValues)&&zs(e,i.latestValues))}t.x<f0&&t.x>h0&&(t.x=1),t.y<f0&&t.y>h0&&(t.y=1)}function $s(e,t){e.min=e.min+t,e.max=e.max+t}function m0(e,t,r,n,s=.5){const i=Re(e.min,e.max,s);lh(e,t,r,i,n)}function zs(e,t){m0(e.x,t.x,t.scaleX,t.scale,t.originX),m0(e.y,t.y,t.scaleY,t.scale,t.originY)}function u1(e,t){return o1(mA(e.getBoundingClientRect(),t))}function gA(e,t,r){const n=u1(e,r),{scroll:s}=t;return s&&($s(n.x,s.offset.x),$s(n.y,s.offset.y)),n}const d1=({current:e})=>e?e.ownerDocument.defaultView:null,yA=new WeakMap;class vA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ao(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dR(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lt(b=>{let p=this.getAxisMotionValue(b).get()||0;if(gr.test(p)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[b];x&&(p=Rt(x)*(parseFloat(p)/100))}}this.originPoint[b]=p}),v&&Ee.postRender(()=>v(d,h)),Xd(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=xA(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(d,h)},o=(d,h)=>this.stop(d,h),c=()=>Lt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new n1(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:d1(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ee.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Bo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=oA(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Ds(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=lA(s.layoutBox,r):this.constraints=!1,this.elastic=hA(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Lt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=dA(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ds(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=gA(n,s.root,this.visualElement.getTransformPagePoint());let a=cA(s.layout.layoutBox,i);if(r){const o=r(fA(a));this.hasMutatedConstraints=!!o,o&&(a=o1(o))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Lt(d=>{if(!Bo(d,r,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Xd(this.visualElement,t),n.start(lm(t,n,0,r,this.visualElement,!1))}stopAnimation(){Lt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Lt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Lt(r=>{const{drag:n}=this.getProps();if(!Bo(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(t[r]-Re(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ds(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Lt(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=uA({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Lt(a=>{if(!Bo(a,t,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(Re(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;yA.set(this.visualElement,this);const t=this.visualElement.current,r=ca(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ds(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ee.read(n);const a=za(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Lt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=ah,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Bo(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function xA(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class bA extends En{constructor(t){super(t),this.removeGroupControls=Tt,this.removeListeners=Tt,this.controls=new vA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const p0=e=>(t,r)=>{e&&Ee.postRender(()=>e(t,r))};class wA extends En{constructor(){super(...arguments),this.removePointerDownListener=Tt}onPointerDown(t){this.session=new n1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:p0(t),onStart:p0(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&Ee.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ca(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ul={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function g0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(X.test(e))e=parseFloat(e);else return e;const r=g0(e,t.target.x),n=g0(e,t.target.y);return`${r}% ${n}%`}},kA={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=kn.parse(e);if(s.length>5)return n;const i=kn.createTransformer(e),a=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=o,s[1+a]/=c;const u=Re(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class jA extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;HP(_A),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ul.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ee.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Of.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function h1(e){const[t,r]=Yb(),n=w.useContext(Tf);return l.jsx(jA,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(rw),isPresent:t,safeToRemove:r})}const _A={borderRadius:{...Fi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fi,borderTopRightRadius:Fi,borderBottomLeftRadius:Fi,borderBottomRightRadius:Fi,boxShadow:kA};function SA(e,t,r){const n=ot(e)?e:Fa(e);return n.start(lm("",n,t,r)),n.animation}function NA(e){return e instanceof SVGElement&&e.tagName!=="svg"}const CA=(e,t)=>e.depth-t.depth;class EA{constructor(){this.children=[],this.isDirty=!1}add(t){Qf(this.children,t),this.isDirty=!0}remove(t){Xf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(CA),this.isDirty=!1,this.children.forEach(t)}}function TA(e,t){const r=yr.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(wn(n),e(i-t))};return Ee.read(n,!0),()=>wn(n)}const f1=["TopLeft","TopRight","BottomLeft","BottomRight"],PA=f1.length,y0=e=>typeof e=="string"?parseFloat(e):e,v0=e=>typeof e=="number"||X.test(e);function RA(e,t,r,n,s,i){s?(e.opacity=Re(0,r.opacity!==void 0?r.opacity:1,AA(n)),e.opacityExit=Re(t.opacity!==void 0?t.opacity:1,0,MA(n))):i&&(e.opacity=Re(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<PA;a++){const o=`border${f1[a]}Radius`;let c=x0(t,o),u=x0(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||v0(c)===v0(u)?(e[o]=Math.max(Re(y0(c),y0(u),n),0),(gr.test(u)||gr.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=Re(t.rotate||0,r.rotate||0,n))}function x0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const AA=m1(0,.5,Aw),MA=m1(.5,.95,Tt);function m1(e,t,r){return n=>n<e?0:n>t?1:r(li(e,t,n))}function b0(e,t){e.min=t.min,e.max=t.max}function It(e,t){b0(e.x,t.x),b0(e.y,t.y)}function w0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function k0(e,t,r,n,s){return e-=t,e=Ql(e,1/r,n),s!==void 0&&(e=Ql(e,1/s,n)),e}function IA(e,t=0,r=1,n=.5,s,i=e,a=e){if(gr.test(t)&&(t=parseFloat(t),t=Re(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Re(i.min,i.max,n);e===i&&(o-=t),e.min=k0(e.min,t,r,o,s),e.max=k0(e.max,t,r,o,s)}function j0(e,t,[r,n,s],i,a){IA(e,t[r],t[n],t[s],t.scale,i,a)}const LA=["x","scaleX","originX"],DA=["y","scaleY","originY"];function _0(e,t,r,n){j0(e.x,t,LA,r?r.x:void 0,n?n.x:void 0),j0(e.y,t,DA,r?r.y:void 0,n?n.y:void 0)}function S0(e){return e.translate===0&&e.scale===1}function p1(e){return S0(e.x)&&S0(e.y)}function N0(e,t){return e.min===t.min&&e.max===t.max}function OA(e,t){return N0(e.x,t.x)&&N0(e.y,t.y)}function C0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function g1(e,t){return C0(e.x,t.x)&&C0(e.y,t.y)}function E0(e){return Rt(e.x)/Rt(e.y)}function T0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class FA{constructor(){this.members=[]}add(t){Qf(this.members,t),t.scheduleRender()}remove(t){if(Xf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $A(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),v&&(n+=`skewY(${v}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const zn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Yi=typeof window<"u"&&window.MotionDebug!==void 0,Fu=["","X","Y","Z"],zA={visibility:"hidden"},P0=1e3;let UA=0;function $u(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function y1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Sw(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ee,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&y1(n)}function v1({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=UA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Yi&&(zn.totalNodes=zn.resolvedTargetDeltas=zn.recalculatedProjection=0),this.nodes.forEach(HA),this.nodes.forEach(YA),this.nodes.forEach(JA),this.nodes.forEach(GA),Yi&&window.MotionDebug.record(zn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new EA)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Zf),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=NA(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=TA(f,250),ul.hasAnimatedSinceResize&&(ul.hasAnimatedSinceResize=!1,this.nodes.forEach(A0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||t5,{onLayoutAnimationStart:b,onLayoutAnimationComplete:p}=d.getProps(),g=!this.targetLayout||!g1(this.targetLayout,v)||m,x=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const _={...Kf(y,"layout"),onPlay:b,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||A0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QA),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R0);return}this.isUpdating||this.nodes.forEach(KA),this.isUpdating=!1,this.nodes.forEach(qA),this.nodes.forEach(VA),this.nodes.forEach(BA),this.clearAllSnapshots();const o=yr.now();Xe.delta=Fr(0,1e3/60,o-Xe.timestamp),Xe.timestamp=o,Xe.isProcessing=!0,Tu.update.process(Xe),Tu.preRender.process(Xe),Tu.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Of.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WA),this.sharedNodes.forEach(XA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!p1(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||$n(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),r5(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Fe();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(n5))){const{scroll:d}=this.root;d&&($s(c.x,d.offset.x),$s(c.y,d.offset.y))}return c}removeElementScroll(a){var o;const c=Fe();if(It(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&It(c,a),$s(c.x,h.offset.x),$s(c.y,h.offset.y))}return c}applyTransform(a,o=!1){const c=Fe();It(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&zs(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$n(d.latestValues)&&zs(c,d.latestValues)}return $n(this.latestValues)&&zs(c,this.latestValues),c}removeTransform(a){const o=Fe();It(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!$n(u.latestValues))continue;oh(u.latestValues)&&u.updateSnapshot();const d=Fe(),h=u.measurePageBox();It(d,h),_0(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return $n(this.latestValues)&&_0(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),da(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):It(this.target,this.layout.layoutBox),c1(this.target,this.targetDelta)):It(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),da(this.relativeTargetOrigin,this.target,m.target),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yi&&zn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||oh(this.parent.latestValues)||l1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;It(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;pA(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fe());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w0(this.prevProjectionDelta.x,this.projectionDelta.x),w0(this.prevProjectionDelta.y,this.projectionDelta.y)),ua(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!T0(this.projectionDelta.x,this.prevProjectionDelta.x)||!T0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Yi&&zn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fs(),this.projectionDelta=Fs(),this.projectionDeltaWithTransform=Fs()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Fs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Fe(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=m!==v,b=this.getStack(),p=!b||b.members.length<=1,g=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(e5));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const k=_/1e3;M0(h.x,a.x,k),M0(h.y,a.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(da(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZA(this.relativeTarget,this.relativeTargetOrigin,f,k),x&&OA(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Fe()),It(x,this.relativeTarget)),y&&(this.animationValues=d,RA(d,u,this.latestValues,k,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{ul.hasAnimatedSinceResize=!0,this.currentAnimation=SA(0,P0,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&x1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Fe();const h=Rt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Rt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}It(o,c),zs(o,d),ua(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new FA),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&$u("z",a,u,this.animationValues);for(let d=0;d<Fu.length;d++)$u(`rotate${Fu[d]}`,a,u,this.animationValues),$u(`skew${Fu[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zA;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ll(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ll(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!$n(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=$A(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Wl){if(f[y]===void 0)continue;const{correct:b,applyTo:p}=Wl[y],g=u.transform==="none"?f[y]:b(f[y],h);if(p){const x=p.length;for(let _=0;_<x;_++)u[p[_]]=g}else u[y]=g}return this.options.layoutId&&(u.pointerEvents=h===this?ll(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(R0),this.root.sharedNodes.clear()}}}function VA(e){e.updateLayout()}function BA(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=r.source!==e.layout.source;i==="size"?Lt(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],m=Rt(f);f.min=n[h].min,f.max=f.min+m}):x1(i,r.layoutBox,n)&&Lt(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],m=Rt(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const o=Fs();ua(o,n,r.layoutBox);const c=Fs();a?ua(c,e.applyTransform(s,!0),r.measuredBox):ua(c,n,r.layoutBox);const u=!p1(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=Fe();da(v,r.layoutBox,f.layoutBox);const y=Fe();da(y,n,m.layoutBox),g1(v,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function HA(e){Yi&&zn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function GA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function WA(e){e.clearSnapshot()}function R0(e){e.clearMeasurements()}function KA(e){e.isLayoutDirty=!1}function qA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function A0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function YA(e){e.resolveTargetDelta()}function JA(e){e.calcProjection()}function QA(e){e.resetSkewAndRotation()}function XA(e){e.removeLeadSnapshot()}function M0(e,t,r){e.translate=Re(t.translate,0,r),e.scale=Re(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function I0(e,t,r,n){e.min=Re(t.min,r.min,n),e.max=Re(t.max,r.max,n)}function ZA(e,t,r,n){I0(e.x,t.x,r.x,n),I0(e.y,t.y,r.y,n)}function e5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const t5={duration:.45,ease:[.4,0,.1,1]},L0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),D0=L0("applewebkit/")&&!L0("chrome/")?Math.round:Tt;function O0(e){e.min=D0(e.min),e.max=D0(e.max)}function r5(e){O0(e.x),O0(e.y)}function x1(e,t,r){return e==="position"||e==="preserve-aspect"&&!iA(E0(t),E0(r),.2)}function n5(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const s5=v1({attachResizeListener:(e,t)=>za(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zu={current:void 0},b1=v1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zu.current){const e=new s5({});e.mount(window),e.setOptions({layoutScroll:!0}),zu.current=e}return zu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),i5={pan:{Feature:wA},drag:{Feature:bA,ProjectionNode:b1,MeasureLayout:h1}};function F0(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Ee.postRender(()=>i(t,ao(t)))}class a5 extends En{mount(){const{current:t}=this.node;t&&(this.unmount=aR(t,r=>(F0(this.node,r,"Start"),n=>F0(this.node,n,"End"))))}unmount(){}}class o5 extends En{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=io(za(this.node.current,"focus",()=>this.onFocus()),za(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $0(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Ee.postRender(()=>i(t,ao(t)))}class l5 extends En{mount(){const{current:t}=this.node;t&&(this.unmount=uR(t,r=>($0(this.node,r,"Start"),(n,{success:s})=>$0(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ch=new WeakMap,Uu=new WeakMap,c5=e=>{const t=ch.get(e.target);t&&t(e)},u5=e=>{e.forEach(c5)};function d5({root:e,...t}){const r=e||document;Uu.has(r)||Uu.set(r,{});const n=Uu.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(u5,{root:e,...t})),n[s]}function h5(e,t,r){const n=d5(t);return ch.set(e,r),n.observe(e),()=>{ch.delete(e),n.unobserve(e)}}const f5={some:0,all:1};class m5 extends En{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:f5[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return h5(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(p5(t,r))&&this.startObserver()}unmount(){}}function p5({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const g5={inView:{Feature:m5},tap:{Feature:l5},focus:{Feature:o5},hover:{Feature:a5}},y5={layout:{ProjectionNode:b1,MeasureLayout:h1}},uh={current:null},w1={current:!1};function v5(){if(w1.current=!0,!!Af)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uh.current=e.matches;e.addListener(t),t()}else uh.current=!1}const x5=[...Ww,st,kn],b5=e=>x5.find(Gw(e)),z0=new WeakMap;function w5(e,t,r){for(const n in t){const s=t[n],i=r[n];if(ot(s))e.addValue(n,s);else if(ot(i))e.addValue(n,Fa(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,Fa(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const U0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class k5{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=im,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=yr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ee.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Dc(r),this.isVariantNode=ew(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const v=f[m];c[m]!==void 0&&ot(v)&&v.set(c[m],!1)}}mount(t){this.current=t,z0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),w1.current||v5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){z0.delete(this.current),this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ds.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ee.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ci){const r=ci[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<U0.length;n++){const s=U0[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=w5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Fa(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Bw(s)||Iw(s))?s=parseFloat(s):!b5(s)&&kn.test(r)&&(s=zw(t,r)),this.setBaseTarget(t,ot(s)?s.get():s)),ot(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=$f(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ot(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Zf),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class k1 extends k5{constructor(){super(...arguments),this.KeyframeResolver=Kw}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ot(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function j5(e){return window.getComputedStyle(e)}class _5 extends k1{constructor(){super(...arguments),this.type="html",this.renderInstance=cw}readValueFromInstance(t,r){if(ds.has(r)){const n=sm(r);return n&&n.default||0}else{const n=j5(t),s=(aw(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return u1(t,r)}build(t,r,n){Vf(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Wf(t,r,n)}}class S5 extends k1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ds.has(r)){const n=sm(r);return n&&n.default||0}return r=uw.has(r)?r:Df(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return fw(t,r,n)}build(t,r,n){Bf(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){dw(t,r,n,s)}mount(t){this.isSVGTag=Gf(t.tagName),super.mount(t)}}const N5=(e,t)=>Ff(e)?new S5(t):new _5(t,{allowProjection:e!==w.Fragment}),C5=ZP({...J4,...g5,...i5,...y5},N5),oe=mP(C5),bi=zr()(Xa(e=>({theme:"system",language:"pt",setTheme:t=>e({theme:t}),setLanguage:t=>e({language:t})}),{name:"settings"})),j1={en:{common:{forgotPassword:"Forgot my password",selected:"Selected",search:"Search for recipes...",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",profile:"Profile",darkMode:"Dark Mode",language:"Language",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",remove:"Remove",edit:"Edit",back:"Back",settings:"Settings",createaccount:"Create Account",dontHaveAccount:"Don't have an account? ",alreadyHaveAccount:"Already have an account? ",theme:{light:"Light",dark:"Dark",system:"System"},close:"Close"},buttons:{BackToRecipes:"Back to Recipes",My_recipes:"My recipes",Favorites:"Favorites",Nutrition_goal:"Nutrition Goals",findNutritionists:"Find Nutritionists"},labels:{time:"Time",rating:"Rating",level:"Level",aiMentoring:"AI Mentoring",premium:"Premium",activeGoals:"Active Goals",unlimitedAccess:"Unlimited access"},filters:{advanced:"Advanced Filters",minRating:"Minimum Rating",clearAll:"Clear All Filters",prepTime:{quick:"Quick (15 min)",medium:"Medium (30 min)",long:"Long (>30 min)"}},home:{title:"Discover Healthy Recipes",subtitle:"Find and share nutritious recipes that match your dietary preferences.",createRecipe:"Create Recipe",noRecipes:"No recipes found. Try adjusting your filters, or log in to see more."},profile:{title:"My profile",subtitle:"View your personal information, goals, and activity within the platform.",overviewClient:"My activity",overviewClientDescription:"Track your favorites, goals, and the impact of your daily choices.",overviewNutritionist:"My activity",overviewNutritionistDescription:"See the performance of your recipes, client reviews, and your presence on the platform.",myRecipes:"My Recipes",favorites:"Favorites",nutritionGoals:"Nutrition Goals",settings:"Settings",noRecipesYet:"You haven't published any recipes yet.",noFavorites:"You haven't saved any recipes as favorites yet.",statistics:"Statistics",publishedRecipes:"Published Recipes",totalReviews:"Total Reviews",averageRating:"Average Rating",experience:"Experience",healthGoals:"Health Goals",dietaryPreferences:"Dietary Preferences",allergies:"Allergies",dailyGoals:"Daily Goals",viewDiaryAndGoals:"View diary & goals",remaining:"Remaining",progressBasedOnDiary:"Progress is calculated from what you log in your food diary.",diaryTitle:"Food diary",addToDiary:"Add to diary",addToDiaryHelper:"Log this recipe to track your daily goals.",loggedToDiary:"Added to diary.",clearDay:"Clear",clearDiaryConfirm:"Clear this days diary?",diaryCleared:"Diary cleared.",todayProgress:"Day progress",loggedMeals:"Entries",items:"items",noDiaryEntries:"No entries for this day yet.",chooseRecipe:"Choose a recipe...",servings:"Servings",perServing:"serving",perServingHint:"Nutrition values are multiplied by servings.",confirmAdd:"Add",entryRemoved:"Entry removed.",pickARecipe:"Pick a recipe first.",date:"Date",recentFavorites:"Recent Favorites",activeGoalsLabel:"Active goals",trackedDays:"Tracked days",personalInfo:"Personal Information",accountType:"Account Type",email:"Email",name:"Name",password:"Password",nutricionist:"Nutritionist",client:"Client",clientPremium:"Premium Client",saveGoals:"Save goals",nutritionGoalsnames:{calories:"Calories",protein:"Protein",carbs:"Carbs",fat:"Fat",fiber:"Fiber"}},categories:{all:"All",vegan:"Vegan",lowCarb:"Low Carb",highProtein:"High Protein",glutenFree:"Gluten Free",vegetarian:"Vegetarian"},recipe:{recipeTitle:"Title",recipeImageURL:"Image URL",recipeDescription:"Description",prepTime:"Preparation Time",difficulty:"Difficulty",recipeCategory:"Category",ingredients:"Ingredients",instructions:"Instructions",nutritionFacts:"Nutrition Facts (Per Serving)",reviews:"Notes and ratings",writeReview:"Write your review...",submitReview:"Submit Review",signInToReview:"Please sign in to leave a review.",addIngredient:"Add Ingredient",addStep:"Add Step",step:"Step",Step:"Step",example:'"2 cups flour"',perServing:"per serving",deleteConfirm:"Are you sure you want to delete this recipe?",share:"Share Recipe",edit:"Edit Recipe",delete:"Delete Recipe",difficultyLevels:{easy:"Easy",medium:"Medium",hard:"Hard"},CreateNewRecipe:"Create new recipe",CreateRecipe:"Create recipe",rating:"Rating",noReviews:"No reviews",details:"Recipe details",recipe:"Recipe",author:"Author",authorFallbackName:"User",postedOn:"Posted on",reviewSingular:"review",reviewPlural:"reviews",deleteReviewConfirm:"Are you sure you want to delete this review?",addReviewTitle:"Add review",editReviewTitle:"Edit review"},aiChat:{welcomeTitle:"Welcome to AI Mentoring!",welcomeDescription:"Your intelligent nutrition assistant is ready to help with recipes, nutrition tips, how to use the platform and much more. Start a conversation now!",limitedModeNoticeTitle:"Notice:",limitedModeNoticeBody:"The AI is currently running in limited mode. For the full experience, configure the Gemini API key.",examples:{recipesTitle:" Recipes",recipesExample:'"Show me healthy cake recipes"',tipsTitle:" Tips",tipsExample:'"How can I improve my diet?"',helpTitle:" Help",helpExample:'"How do I save recipes to favorites?"'},startConversationButton:"Start conversation",headerSubtitle:"Nutrition assistant  Online",typing:"Typing...",inputPlaceholder:"Type your question about nutrition...",disclaimer:"AI can make mistakes. Always consult your nutritionist for personalized guidance.",limitedModeSuffix:"  Running in limited mode."},premium:{title:"Unlock AI Mentoring",descriptionPrefix:"To get unlimited access to our AI Mentoring and other exclusive features, subscribe to our ",planName:"Premium Plan",descriptionSuffix:"!",perMonthLabel:"month",features:{mentoringUnlimitedTitle:"Unlimited AI mentoring",mentoringUnlimitedDescription:"24/7 chat with a nutrition-focused AI assistant.",personalizedConsultationsTitle:"Personalized consultations",personalizedConsultationsDescription:"AI configured and guided by your nutritionist.",smartRecommendationsTitle:"Smart recommendations",smartRecommendationsDescription:"Recipe suggestions tailored to your profile.",prioritySupportTitle:"Priority support",prioritySupportDescription:"Fast and specialized support whenever you need it."},benefits:{accessNutritionists:"Access to certified nutritionists",whatsappDirect:"Direct WhatsApp contact with nutritionists",personalizedGoals:"Personalized goals and periodization",mealPlans:"Meal plans adjusted to your profile",weeklyFollowup:"Weekly follow-up and continuous adjustments",progressReports:"Progress reports with charts",premiumRecipes:"Exclusive premium recipes",vipCommunity:"VIP community and monthly challenges"},ctaSubscribe:"Subscribe to Premium Plan",ctaLoading:"Starting...",footerNote:"Cancel anytime  No commitment  24/7 support",loginRequired:"Sign in to subscribe",loadPlansError:"Error loading plans",checkoutErrorGeneric:"Unable to start checkout"},nutritionists:{title:"Find Your Nutritionist",subtitle:"Connect with certified nutrition professionals",noNutritionists:"No nutritionists found",viewProfile:"View Profile",contact:"Contact",acceptingClients:"Accepting new clients",notAcceptingClients:"Not accepting new clients",specializations:{title:"Specializations",sports:"Sports Nutrition",clinical:"Clinical Nutrition",weightLoss:"Weight Loss",womensHealth:"Women's Health",pediatric:"Pediatric Nutrition",geriatric:"Geriatric Nutrition",vegetarian:"Vegetarian/Vegan",diabetes:"Diabetes Management",cardiovascular:"Cardiovascular Health",gastrointestinal:"Gastrointestinal Health"},profile:{about:"About",education:"Education",certifications:"Certifications",approach:"Professional Approach",experience:"Years of Experience",consultationInfo:"Consultation Information",price:"Price",duration:"Duration",minutes:"minutes",consultationTypes:"Consultation Types",online:"Online",inPerson:"In-Person",acceptsInsurance:"Accepts Health Insurance",insurances:"Accepted Insurances",contactInfo:"Contact Information",phone:"Phone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Website",address:"Clinic Address",publishedRecipes:"Published Recipes",averageRating:"Average Rating"},editProfile:{title:"Professional Profile",subtitle:"Manage your professional information",basicInfo:"Basic Information",professionalInfo:"Professional Information",consultationSettings:"Consultation Settings",contactInfo:"Contact Information",visibility:"Profile Visibility",public:"Public",private:"Private",save:"Save Changes",saved:"Great! Your professional profile has been updated successfully.",error:"Oops! We couldn't save your changes. Please check your connection and try again.",fields:{bio:"Professional Bio",bioPlaceholder:"Tell clients about your experience and approach...",specializations:"Specializations",specializationsPlaceholder:"Select your specializations",education:"Education",educationPlaceholder:"Your degree and academic background",certifications:"Certifications",certificationsPlaceholder:"Additional certifications (one per line)",yearsOfExperience:"Years of Experience",approach:"Professional Approach",approachPlaceholder:"Describe your working philosophy and methodology...",consultationPrice:"Consultation Price",consultationDuration:"Duration (minutes)",acceptsInsurance:"Accepts Health Insurance",insurances:"Accepted Insurances",insurancesPlaceholder:"List accepted insurances (one per line)",phone:"Phone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Website",address:"Clinic Address",acceptingClients:"Accepting New Clients"}}}},pt:{common:{forgotPassword:"Esqueci minha senha",selected:"Selecionado",search:"Buscar receitas...",signIn:"Entrar",signUp:"Cadastrar",signOut:"Sair",profile:"Perfil",darkMode:"Modo Escuro",language:"Idioma",loading:"Carregando...",save:"Salvar",cancel:"Cancelar",close:"Fechar",delete:"Excluir",remove:"Remover",edit:"Editar",back:"Voltar",settings:"Configuraes",createaccount:"Criar conta",dontHaveAccount:"No tem uma conta? ",alreadyHaveAccount:"J tem uma conta? ",theme:{light:"Claro",dark:"Escuro",system:"Sistema"}},buttons:{BackToRecipes:"Voltar para as receitas",My_recipes:"Minhas receitas",Favorites:"Favoritos",Nutrition_goal:"Metas Nutricionais",findNutritionists:"Encontrar Nutricionistas"},labels:{time:"Tempo",rating:"Avaliao",level:"Nvel",aiMentoring:"Mentoria IA",premium:"Premium",activeGoals:"Metas Ativas",unlimitedAccess:"Acesso ilimitado"},filters:{advanced:"Filtros Avanados",minRating:"Avaliao Mnima",clearAll:"Limpar Todos os Filtros",prepTime:{quick:"Rpido (15 min)",medium:"Mdio (30 min)",long:"Longo (>30 min)"}},home:{title:"Descubra Receitas Saudveis",subtitle:"Encontre e compartilhe receitas nutritivas que combinam com suas preferncias alimentares.",createRecipe:"Criar Receita",noRecipes:"Nenhuma receita encontrada. Tente ajustar seus filtros ou faa login para ver mais."},profile:{title:"Meu perfil",subtitle:"Veja suas informaes pessoais, metas e atividades dentro da plataforma.",overviewClient:"Minha atividade",overviewClientDescription:"Acompanhe seus favoritos, metas e impacto das suas escolhas no dia a dia.",overviewNutritionist:"Minha atividade",overviewNutritionistDescription:"Veja o desempenho das suas receitas, avaliaes dos clientes e sua presena na plataforma.",myRecipes:"Minhas Receitas",favorites:"Favoritos",nutritionGoals:"Metas Nutricionais",settings:"Configuraes",noRecipesYet:"Voc ainda no publicou nenhuma receita.",noFavorites:"Voc ainda no salvou nenhuma receita como favorita.",statistics:"Estatsticas",publishedRecipes:"Receitas Publicadas",totalReviews:"Total de Avaliaes",averageRating:"Avaliao Mdia",experience:"Experincia",healthGoals:"Objetivos de Sade",dietaryPreferences:"Preferncias Alimentares",allergies:"Alergias",dailyGoals:"Metas Dirias",recentFavorites:"Favoritos Recentes",personalInfo:"Informaes Pessoais",accountType:"Tipo de Conta",email:"Email",name:"Nome completo",password:"Senha",nutricionist:"Nutricionista",client:"Cliente",clientPremium:"Cliente Premium",saveGoals:"Salvar metas",nutritionGoalsnames:{calories:"Calorias",protein:"Protena",carbs:"Carboidratos",fat:"Gordura",fiber:"Fibra"},viewDiaryAndGoals:"Ver dirio e metas",remaining:"Restante",progressBasedOnDiary:"O progresso  calculado com base no que voc registra no dirio alimentar.",diaryTitle:"Dirio alimentar",addToDiary:"Adicionar ao dirio",addToDiaryHelper:"Registre esta receita para acompanhar as metas.",loggedToDiary:"Adicionado ao dirio.",clearDay:"Limpar",clearDiaryConfirm:"Limpar o dirio deste dia?",diaryCleared:"Dirio limpo.",todayProgress:"Progresso do dia",loggedMeals:"Registros",items:"itens",noDiaryEntries:"Nenhum registro para este dia ainda.",chooseRecipe:"Escolha uma receita...",servings:"Pores",perServing:"poro",perServingHint:"Os valores nutricionais so multiplicados pelas pores.",confirmAdd:"Adicionar",entryRemoved:"Registro removido.",pickARecipe:"Escolha uma receita primeiro.",date:"Data",activeGoalsLabel:"Metas ativas",trackedDays:"Dias rastreados"},categories:{all:"Todas",vegan:"Vegana",lowCarb:"Baixo Carboidrato",highProtein:"Rica em Protena",glutenFree:"Sem Glten",vegetarian:"Vegetariana"},recipe:{recipeTitle:"Titulo",recipeImageURL:"URL da imagem",recipeDescription:"Descrio",prepTime:"Tempo de Preparo",difficulty:"Dificuldade",recipeCategory:"Categoria",ingredients:"Ingredientes",addIngredient:"Adicionar Ingrediente",instructions:"Modo de Preparo",addStep:"Adicionar Passo",step:"Passo a passo",Step:"Passo",example:"Exemplo: 2 xcaras de aucar",nutritionFacts:"Informao Nutricional (Por poro)",reviews:"Notas e avaliaes",writeReview:"Compartilhe sua opinio",submitReview:"Enviar Avaliao",signInToReview:"Faa login para deixar uma avaliao.",perServing:"por poro",deleteConfirm:"Tem certeza que deseja excluir esta receita?",share:"Compartilhar Receita",edit:"Editar Receita",delete:"Excluir Receita",difficultyLevels:{easy:"Fcil",medium:"Mdio",hard:"Difcil"},CreateNewRecipe:"Criar nova receita",CreateRecipe:"Criar receita",rating:"Classifique essa receita",noReviews:"Sem Avaliaes",details:"Detalhes da receita",recipe:"Receita",author:"Autor",authorFallbackName:"Usurio",postedOn:"Postado em",reviewSingular:"avaliao",reviewPlural:"avaliaes",deleteReviewConfirm:"Tem certeza que deseja excluir esta avaliao?",addReviewTitle:"Adicionar avaliao",editReviewTitle:"Editar avaliao"},aiChat:{welcomeTitle:"Bem-vindo  Mentoria IA!",welcomeDescription:"Sua assistente de nutrio inteligente est pronta para ajudar com receitas, dicas alimentares, uso da plataforma e muito mais. Inicie uma conversa agora!",limitedModeNoticeTitle:"Aviso:",limitedModeNoticeBody:"A IA est funcionando em modo limitado. Para uma experincia completa, configure a chave da API do Gemini.",examples:{recipesTitle:" Receitas",recipesExample:'"Me mostre receitas de bolo fit"',tipsTitle:" Dicas",tipsExample:'"Como posso melhorar minha alimentao?"',helpTitle:" Ajuda",helpExample:'"Como salvo receitas nos favoritos?"'},startConversationButton:"Iniciar conversa",headerSubtitle:"Assistente de Nutrio  Online",typing:"Digitando...",inputPlaceholder:"Digite sua pergunta sobre nutrio...",disclaimer:"A IA pode cometer erros. Sempre consulte seu nutricionista para orientaes personalizadas.",limitedModeSuffix:"  Funcionando em modo limitado."},premium:{title:"Desbloqueie a Mentoria IA",descriptionPrefix:"Para ter acesso ilimitado  nossa Mentoria IA e outras funcionalidades exclusivas, assine o nosso ",planName:"Plano Premium",descriptionSuffix:"!",perMonthLabel:"ms",features:{mentoringUnlimitedTitle:"Mentoria IA ilimitada",mentoringUnlimitedDescription:"Chat 24/7 com IA especializada em nutrio.",personalizedConsultationsTitle:"Consultas personalizadas",personalizedConsultationsDescription:"IA configurada e orientada pelo seu nutricionista.",smartRecommendationsTitle:"Recomendaes inteligentes",smartRecommendationsDescription:"Sugestes de receitas baseadas no seu perfil.",prioritySupportTitle:"Suporte prioritrio",prioritySupportDescription:"Atendimento rpido e especializado."},benefits:{accessNutritionists:"Acesso a nutricionistas certificados",whatsappDirect:"WhatsApp direto com nutricionistas",personalizedGoals:"Metas personalizadas e periodizao",mealPlans:"Planos alimentares ajustados ao seu perfil",weeklyFollowup:"Acompanhamento semanal e ajustes contnuos",progressReports:"Relatrios de progresso com grficos",premiumRecipes:"Receitas premium exclusivas",vipCommunity:"Comunidade VIP e desafios mensais"},ctaSubscribe:"Assinar Plano Premium",ctaLoading:"Iniciando...",footerNote:"Cancele a qualquer momento  Sem compromisso  Suporte 24/7",loginRequired:"Faa login para assinar",loadPlansError:"Erro ao carregar planos",checkoutErrorGeneric:"No foi possvel iniciar o checkout"},nutritionists:{title:"Encontre seu Nutricionista",subtitle:"Conecte-se com profissionais certificados em nutrio",noNutritionists:"Nenhum nutricionista encontrado",viewProfile:"Ver Perfil",contact:"Entrar em Contato",acceptingClients:"Aceitando novos clientes",notAcceptingClients:"No est aceitando novos clientes",specializations:{title:"Especializaes",sports:"Nutrio Esportiva",clinical:"Nutrio Clnica",weightLoss:"Emagrecimento",womensHealth:"Sade da Mulher",pediatric:"Nutrio Peditrica",geriatric:"Nutrio Geritrica",vegetarian:"Vegetariano/Vegano",diabetes:"Controle de Diabetes",cardiovascular:"Sade Cardiovascular",gastrointestinal:"Sade Gastrointestinal"},profile:{about:"Sobre",education:"Formao",certifications:"Certificaes",approach:"Abordagem Profissional",experience:"Anos de Experincia",consultationInfo:"Informaes de Consulta",price:"Valor",duration:"Durao",minutes:"minutos",consultationTypes:"Tipos de Atendimento",online:"Online",inPerson:"Presencial",acceptsInsurance:"Aceita Plano de Sade",insurances:"Planos Aceitos",contactInfo:"Informaes de Contato",phone:"Telefone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Site",address:"Endereo do Consultrio",publishedRecipes:"Receitas Publicadas",averageRating:"Avaliao Mdia"},editProfile:{title:"Perfil Profissional",subtitle:"Gerencie suas informaes profissionais",basicInfo:"Informaes Bsicas",professionalInfo:"Informaes Profissionais",consultationSettings:"Configuraes de Consulta",contactInfo:"Informaes de Contato",visibility:"Visibilidade do Perfil",public:"Pblico",private:"Privado",save:"Salvar Alteraes",saved:"timo! Seu perfil profissional foi atualizado com sucesso.",error:"Ops! No conseguimos salvar suas alteraes. Por favor, verifique sua conexo e tente novamente.",fields:{bio:"Biografia Profissional",bioPlaceholder:"Conte aos clientes sobre sua experincia e abordagem...",specializations:"Especializaes",specializationsPlaceholder:"Selecione suas especializaes",education:"Formao",educationPlaceholder:"Seu diploma e formao acadmica",certifications:"Certificaes",certificationsPlaceholder:"Certificaes adicionais (uma por linha)",yearsOfExperience:"Anos de Experincia",approach:"Abordagem Profissional",approachPlaceholder:"Descreva sua filosofia e metodologia de trabalho...",consultationPrice:"Valor da Consulta",consultationDuration:"Durao (minutos)",acceptsInsurance:"Aceita Plano de Sade",insurances:"Planos Aceitos",insurancesPlaceholder:"Liste os planos aceitos (um por linha)",phone:"Telefone",whatsapp:"WhatsApp",instagram:"Instagram",website:"Site",address:"Endereo do Consultrio",acceptingClients:"Aceitando Novos Clientes"}}}}};function _1(e,t){const n={sports:"sports","Sports Nutrition":"sports","Nutrio Esportiva":"sports",clinical:"clinical","Clinical Nutrition":"clinical","Nutrio Clnica":"clinical",weightLoss:"weightLoss","Weight Loss":"weightLoss",Emagrecimento:"weightLoss",womensHealth:"womensHealth","Women's Health":"womensHealth","Sade da Mulher":"womensHealth",pediatric:"pediatric","Pediatric Nutrition":"pediatric","Nutrio Peditrica":"pediatric",geriatric:"geriatric","Geriatric Nutrition":"geriatric","Nutrio Geritrica":"geriatric",vegetarian:"vegetarian","Vegetarian/Vegan":"vegetarian","Vegetariano/Vegano":"vegetarian",diabetes:"diabetes","Diabetes Management":"diabetes","Controle de Diabetes":"diabetes",cardiovascular:"cardiovascular","Cardiovascular Health":"cardiovascular","Sade Cardiovascular":"cardiovascular",gastrointestinal:"gastrointestinal","Gastrointestinal Health":"gastrointestinal","Sade Gastrointestinal":"gastrointestinal"}[e];return n?j1[t].nutritionists.specializations[n]:e}function we(){const{language:e}=bi();return j1[e]}function E5({isOpen:e,onClose:t}){const[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,o]=w.useState("email"),[c,u]=w.useState("");if(we(),!e)return null;const d=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v),h=async v=>{v.preventDefault();const y=r.toLowerCase().trim();if(!y){u("Por favor, digite seu email.");return}if(!d(y)){u("Por favor, digite um email vlido.");return}i(!0),u("");try{if(console.log("Starting password reset process for:",y),!await JT(y)){u("Email no encontrado. Verifique se o email est correto ou crie uma conta."),o("error");return}console.log("Email exists, sending reset email..."),await QT(y),console.log("Reset email sent successfully"),o("sent")}catch(b){console.error("Password reset error:",b);let p="Erro ao enviar email de recuperao. Tente novamente em alguns minutos.";b.message&&(p=b.message),u(p),o("error")}finally{i(!1)}},f=()=>{n(""),o("email"),u(""),i(!1),t()},m=()=>{o("email"),u(""),i(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[l.jsx("button",{onClick:f,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:s,children:l.jsx(tr,{className:"w-6 h-6"})}),a==="email"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:l.jsx(lb,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Esqueci minha senha"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite seu email para receber o link de recuperao"})]})]}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:r,onChange:v=>n(v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"seu@email.com",required:!0,disabled:s,autoComplete:"email"})]}),c&&l.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c})}),l.jsxs("button",{type:"submit",disabled:s||!r.trim(),className:ee("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",s||!r.trim()?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[s&&l.jsx(ns,{className:"w-4 h-4 animate-spin"}),s?"Verificando...":"Enviar link de recuperao"]})]}),l.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:l.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[l.jsx("strong",{children:"Dica:"})," Verifique sua pasta de spam caso no receba o email em alguns minutos."]})})]}),a==="sent"&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:l.jsx(ni,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Email enviado!"}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Enviamos um link de recuperao para ",l.jsx("strong",{children:r}),". Verifique sua caixa de entrada e pasta de spam."]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:l.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[l.jsx("strong",{children:"Importante:"})," O link expira em 1 hora. Se no receber o email em alguns minutos, verifique sua pasta de spam ou tente novamente."]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:f,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Fechar"}),l.jsx("button",{onClick:m,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Enviar novamente"})]})]}),a==="error"&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:l.jsx(yf,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao enviar"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:c}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:m,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Tentar novamente"}),l.jsx("button",{onClick:f,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Fechar"})]})]})]})})}const V0="authMode@NutriChefe";function T5({isOpen:e,onClose:t,initialMode:r="signin"}){const[n,s]=w.useState(r),[i,a]=w.useState(""),[o,c]=w.useState(""),[u,d]=w.useState(""),[h,f]=w.useState("Client"),[m,v]=w.useState(!1),[y,b]=w.useState(!1),p=we(),{signIn:g,signUp:x}=Ue();w.useEffect(()=>{if(!e)return;let j=r;try{const E=localStorage.getItem(V0);!r&&E&&(j=E)}catch{}s(j)},[e,r]),w.useEffect(()=>{try{localStorage.setItem(V0,n)}catch{}},[n]);const _=n==="signup";if(!e)return null;const k=async j=>{j.preventDefault(),v(!0);try{n==="signin"?await g(i,o,u):await x(i,o,u,h),t()}catch(E){console.error("Auth error:",E)}finally{v(!1)}},T=()=>{b(!0)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"relative w-full max-w-md rounded-2xl bg-white/95 shadow-2xl dark:bg-slate-900/95 border border-slate-100/70 dark:border-slate-800",children:[l.jsxs("button",{onClick:t,className:"absolute right-4 top-4 inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-700 dark:hover:bg-slate-800",children:[l.jsx(tr,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:p.common.close})]}),l.jsxs("div",{className:"flex items-center gap-3 px-6 pt-6 pb-3",children:[l.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-emerald-50 text-emerald-600 dark:bg-emerald-900/40 dark:text-emerald-300",children:l.jsx(jc,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.16em] text-emerald-600 dark:text-emerald-300",children:"NutriChef"}),l.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:_?p.common.createaccount:p.common.signIn})]})]}),l.jsx("div",{className:"px-6 pb-3",children:l.jsxs("div",{className:"flex rounded-full bg-slate-100 p-1.5 text-sm dark:bg-slate-800",children:[l.jsx("button",{type:"button",onClick:()=>s("signin"),className:ee("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",n==="signin"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:p.common.signIn}),l.jsx("button",{type:"button",onClick:()=>s("signup"),className:ee("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",n==="signup"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:p.common.signUp})]})}),l.jsxs("form",{onSubmit:k,className:"space-y-3 border-t border-slate-100 px-6 pb-5 pt-4 dark:border-slate-800 text-sm",children:[_&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:p.profile.name}),l.jsx("input",{type:"text",id:"name",name:"name",value:u,autoComplete:"name",onChange:j=>d(j.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:p.profile.accountType}),l.jsxs("div",{className:"flex rounded-full bg-slate-100 p-1.5 text-sm dark:bg-slate-800",children:[l.jsx("button",{type:"button",onClick:()=>f("Client"),className:ee("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",h==="Client"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:p.profile.client}),l.jsx("button",{type:"button",onClick:()=>f("Nutritionist"),className:ee("flex-1 rounded-full px-3 py-1.5 font-medium transition-all",h==="Nutritionist"?"bg-white text-slate-900 shadow-sm dark:bg-slate-900 dark:text-slate-50":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100"),children:p.profile.nutricionist})]})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:p.profile.email}),l.jsx("input",{type:"email",id:"email",name:"email",autoComplete:"email",value:i,onChange:j=>a(j.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-100",children:p.profile.password}),l.jsx("input",{type:"password",id:"password",name:"password",autoComplete:_?"new-password":"current-password",value:o,onChange:j=>c(j.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-base text-slate-900 shadow-sm outline-none ring-0 transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-100 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:focus:border-emerald-500 dark:focus:ring-emerald-900/40",required:!0})]}),n==="signin"&&l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"button",onClick:T,className:"text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:p.common.forgotPassword})}),l.jsx("button",{type:"submit",disabled:m,className:ee("mt-2 inline-flex w-full items-center justify-center rounded-xl bg-emerald-600 px-4 py-2.5 text-base font-semibold text-white shadow-sm hover:bg-emerald-700 transition disabled:cursor-not-allowed disabled:bg-emerald-400",m&&"opacity-80"),children:m?p.common.loading:n==="signin"?p.common.signIn:p.common.signUp}),l.jsxs("p",{className:"mt-3 text-center text-sm text-slate-500 dark:text-slate-400",children:[n==="signin"?p.common.dontHaveAccount:p.common.alreadyHaveAccount,l.jsx("button",{type:"button",onClick:()=>s(n==="signin"?"signup":"signin"),className:"ml-1 font-semibold text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:n==="signin"?p.common.signUp:p.common.signIn})]})]})]})}),l.jsx(E5,{isOpen:y,onClose:()=>b(!1)})]})}function B0(){const{theme:e,setTheme:t}=bi(),r=we(),n=[{id:"light",icon:y2,label:r.common.theme.light},{id:"dark",icon:a2,label:r.common.theme.dark}];return l.jsx("div",{className:"flex items-center gap-2",children:n.map(({id:s,icon:i,label:a})=>l.jsx("button",{onClick:()=>t(s),className:`p-2 rounded-lg transition-colors ${e===s?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,title:a,children:l.jsx(i,{className:"w-5 h-5"})},s))})}function H0(){var c;const{language:e,setLanguage:t}=bi(),[r,n]=w.useState(!1),i=((c=we().common)==null?void 0:c.selected)||"Selecionado",a=[{value:"en",label:"English",flagUrl:"https://flagcdn.com/us.svg"},{value:"pt",label:"Portugus",flagUrl:"https://flagcdn.com/br.svg"}],o=a.find(u=>u.value===e)??a[0];return l.jsxs("div",{className:"relative",children:[l.jsxs(oe.button,{onClick:()=>n(!r),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ob,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),l.jsx("span",{className:"relative inline-flex h-5 w-7 overflow-hidden rounded-sm ring-1 ring-gray-200 dark:ring-gray-700",children:l.jsx("img",{src:o.flagUrl,alt:o.label,className:"h-full w-full object-cover"})}),l.jsx("span",{className:"hidden text-sm font-medium text-gray-700 dark:text-gray-300 sm:block",children:o.label})]}),l.jsx(oe.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:l.jsx(JN,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})})]}),l.jsx(ro,{children:r&&l.jsxs(l.Fragment,{children:[l.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>n(!1)}),l.jsx(oe.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 top-full z-50 mt-2 w-48 overflow-hidden rounded-xl border border-gray-200 bg-white shadow-lg dark:border-gray-700 dark:bg-gray-800",children:a.map((u,d)=>l.jsxs(oe.button,{onClick:()=>{t(u.value),n(!1)},className:`flex w-full items-center gap-3 px-4 py-3 text-left transition-colors ${e===u.value?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.05},whileHover:{x:4},children:[l.jsx("span",{className:"relative inline-flex h-6 w-8 overflow-hidden rounded-sm ring-1 ring-gray-200 dark:ring-gray-700",children:l.jsx("img",{src:u.flagUrl,alt:u.label,className:"h-full w-full object-cover"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:u.label}),e===u.value&&l.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:i})]}),e===u.value&&l.jsx(oe.div,{className:"ml-auto h-2 w-2 rounded-full bg-green-500",initial:{scale:0},animate:{scale:1},transition:{delay:.1}})]},u.value))})]})})]})}function P5({onProfileClick:e,onAIMentoringClick:t}){const r=kt(),[n,s]=w.useState(!1),[i,a]=w.useState("signin"),[o,c]=w.useState(!1),{user:u,isAuthenticated:d,signOut:h,isNutritionist:f}=Ue(),{hasFeatureAccess:m}=Ac(),{searchQuery:v,setSearchQuery:y}=Ef(),b=we(),p=x=>{a(x),s(!0)},g=d&&(f()||m("ai_mentoring"));return l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(oe.h1,{className:"text-2xl font-bold text-green-600 dark:text-green-400 cursor-pointer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"NutriChef"})}),l.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-8",children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:v,onChange:x=>y(x.target.value),placeholder:b.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),l.jsx(og,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-200 dark:border-gray-600 pr-4 mr-4",children:[l.jsx(B0,{}),l.jsx(H0,{})]}),d?l.jsxs(oe.div,{className:"flex items-center space-x-4",initial:{opacity:0},animate:{opacity:1},children:[l.jsxs("button",{onClick:()=>r("/nutricionistas"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[l.jsx(hb,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden lg:inline",children:b.buttons.findNutritionists})]}),l.jsxs("button",{onClick:t,className:ee("flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors",g?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),title:g?b.labels.aiMentoring:`${b.labels.aiMentoring} (${b.labels.premium})`,children:[l.jsx(Wn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden lg:inline",children:b.labels.aiMentoring}),!g&&l.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:b.labels.premium})]}),l.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[l.jsx(xr,{className:"w-4 h-4"}),l.jsx("span",{children:u==null?void 0:u.name})]}),l.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[l.jsx(ag,{className:"w-4 h-4"}),l.jsx("span",{children:b.common.signOut})]})]}):l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(oe.button,{onClick:()=>p("signin"),className:"px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:b.common.signIn}),l.jsx(oe.button,{onClick:()=>p("signup"),className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:b.common.signUp})]})]}),l.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[l.jsx(B0,{}),l.jsx(H0,{}),l.jsx("button",{onClick:()=>c(!o),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(i2,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})]})]})}),l.jsx(ro,{children:o&&l.jsx(oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:l.jsxs("div",{className:"px-4 py-3 space-y-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:v,onChange:x=>y(x.target.value),placeholder:b.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),l.jsx(og,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),d?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>{t(),c(!1)},className:ee("w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors",g?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),children:[l.jsx(Wn,{className:"w-4 h-4"}),l.jsx("span",{children:b.labels.aiMentoring}),!g&&l.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:b.labels.premium})]}),l.jsxs("button",{onClick:()=>{e(),c(!1)},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[l.jsx(xr,{className:"w-4 h-4"}),l.jsx("span",{children:b.common.profile})]}),l.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[l.jsx(ag,{className:"w-4 h-4"}),l.jsx("span",{children:b.common.signOut})]})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>{p("signin"),c(!1)},className:"w-full px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:b.common.signIn}),l.jsx("button",{onClick:()=>{p("signup"),c(!1)},className:"w-full px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:b.common.signUp})]})]})})})]}),l.jsx(T5,{isOpen:n,onClose:()=>s(!1),initialMode:i})]})}const ir=zr((e,t)=>({recipes:[],favoriteRecipes:[],loading:!1,error:null,clearUserData:()=>{console.log("Clearing user data from recipes store"),e({favoriteRecipes:[]})},initializeAuth:async()=>{const{user:r}=Ue.getState();r&&await t().fetchFavorites(r.id)},fetchRecipes:async()=>{e({loading:!0,error:null});try{console.log("Fetching recipes from database...");const r=await BT();console.log("Recipes fetched successfully:",r.length),e({recipes:r,loading:!1});const{user:n}=Ue.getState();n&&await t().fetchFavorites(n.id)}catch(r){console.error("Error fetching recipes:",r);const n=r instanceof Error?r.message:"Failed to fetch recipes";e({error:n,loading:!1}),re.getState().showToast("Erro ao carregar receitas","error")}},fetchFavorites:async r=>{try{console.log("Fetching favorites for user:",r);const n=await YT(r);console.log("Favorites fetched:",n),e({favoriteRecipes:n})}catch(n){console.error("Failed to fetch favorites:",n)}},addToFavorites:async r=>{const{user:n}=Ue.getState();if(!n){re.getState().showToast("Faa login para favoritar receitas","error");return}try{console.log("Adding to favorites:",{userId:n.id,recipeId:r}),await KT(n.id,r),e(s=>({favoriteRecipes:[...s.favoriteRecipes,r]})),re.getState().showToast("Adicionado aos favoritos","success")}catch(s){console.error("Failed to add favorite:",s);const i=s instanceof Error?s.message:"Erro ao adicionar aos favoritos";re.getState().showToast(i,"error")}},removeFromFavorites:async r=>{const{user:n}=Ue.getState();if(!n){re.getState().showToast("Faa login para gerenciar favoritos","error");return}try{console.log("Removing from favorites:",{userId:n.id,recipeId:r}),await qT(n.id,r),e(s=>({favoriteRecipes:s.favoriteRecipes.filter(i=>i!==r)})),re.getState().showToast("Removido dos favoritos","info")}catch(s){console.error("Failed to remove favorite:",s);const i=s instanceof Error?s.message:"Erro ao remover dos favoritos";re.getState().showToast(i,"error")}},addReview:async(r,n)=>{try{console.log("Adding review:",{recipeId:r,review:n}),await HT(r,{user_id:n.userId,rating:n.rating,comment:n.comment}),await t().fetchRecipes(),re.getState().showToast("Avaliao adicionada com sucesso!","success")}catch(s){console.error("Failed to add review:",s);const i=s instanceof Error?s.message:"Erro ao adicionar avaliao";throw re.getState().showToast(i,"error"),s}},updateReview:async(r,n)=>{try{console.log("Updating review:",{reviewId:r,updates:n}),await GT(r,n),await t().fetchRecipes(),re.getState().showToast("Avaliao atualizada com sucesso!","success")}catch(s){console.error("Failed to update review:",s);const i=s instanceof Error?s.message:"Erro ao atualizar avaliao";throw re.getState().showToast(i,"error"),s}},deleteReview:async r=>{try{console.log("Deleting review:",r),await WT(r),await t().fetchRecipes(),re.getState().showToast("Avaliao excluda com sucesso!","success")}catch(n){console.error("Failed to delete review:",n);const s=n instanceof Error?n.message:"Erro ao excluir avaliao";throw re.getState().showToast(s,"error"),n}},createRecipe:async r=>{e({loading:!0,error:null});try{console.log("Creating recipe:",r),await zT(r),await t().fetchRecipes(),re.getState().showToast("Receita criada com sucesso!","success")}catch(n){console.error("Failed to create recipe:",n);const s=n instanceof Error?n.message:"Failed to create recipe";throw e({error:s}),re.getState().showToast("Erro ao criar receita","error"),n}finally{e({loading:!1})}},updateRecipe:async r=>{e({loading:!0,error:null});try{console.log("Updating recipe:",r),await UT(r.id,r),await t().fetchRecipes(),re.getState().showToast("Receita atualizada com sucesso!","success")}catch(n){console.error("Failed to update recipe:",n);const s=n instanceof Error?n.message:"Failed to update recipe";throw e({error:s}),re.getState().showToast("Erro ao atualizar receita","error"),n}finally{e({loading:!1})}},deleteRecipe:async r=>{e({loading:!0,error:null});try{console.log("Deleting recipe:",r),await VT(r),e(n=>({recipes:n.recipes.filter(s=>s.id!==r),favoriteRecipes:n.favoriteRecipes.filter(s=>s!==r)})),re.getState().showToast("Receita excluda com sucesso!","success")}catch(n){console.error("Failed to delete recipe:",n);const s=n instanceof Error?n.message:"Failed to delete recipe";throw e({error:s}),re.getState().showToast("Erro ao excluir receita","error"),n}finally{e({loading:!1})}}}));function dh({recipe:e}){const t=kt(),{favoriteRecipes:r,addToFavorites:n,removeFromFavorites:s}=ir(),{isAuthenticated:i}=Ue(),a=we(),c=a.recipe.difficultyLevels[e.difficulty]||e.difficulty,u=a.categories,h=(y=>{const b={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},p=y.toLowerCase().replace(/\s+/g,""),g=Object.keys(b).find(_=>_.toLowerCase().replace(/\s+/g,"")===p);return g?u[b[g]]:u[y]||y})(e.category),f=r.includes(e.id),m=async y=>{if(y.stopPropagation(),!!i)try{f?await s(e.id):await n(e.id)}catch(b){console.error("Error toggling favorite:",b)}},v=()=>{var b,p,g;const y=((b=a.recipes)==null?void 0:b.noReviews)||((p=a.recipe)==null?void 0:p.noReviews)||"Sem avaliaes";return e.rating===0||!e.rating||((g=e.reviews)==null?void 0:g.length)===0?y:e.rating.toFixed(1)};return l.jsxs("div",{onClick:()=>t(`/receita/${e.id}`),className:`
        group relative flex h-full cursor-pointer flex-col overflow-hidden
        rounded-xl border shadow-sm transition-all duration-200
        hover:-translate-y-1 hover:shadow-lg hover:border-emerald-300
        bg-white border-gray-200
        dark:bg-slate-800 dark:border-slate-700
      `,children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{src:e.image,alt:e.title,className:"h-52 w-full object-cover transition-transform duration-300 group-hover:scale-105",onError:y=>{const b=y.target;b.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop"}}),l.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"}),l.jsxs("span",{className:"absolute bottom-3 left-3 inline-flex items-center gap-1.5 rounded-lg bg-white/90 dark:bg-slate-900/90 px-3 py-1.5 text-xs font-medium shadow-md backdrop-blur-sm",children:[l.jsx(yn,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"}),l.jsx("span",{className:"truncate max-w-[130px] text-gray-900 dark:text-white",children:h})]}),l.jsxs("div",{className:"absolute top-3 left-3 inline-flex items-center gap-1 rounded-lg bg-white/90 dark:bg-slate-900/90 px-2.5 py-1 text-xs font-semibold shadow-md backdrop-blur-sm",children:[l.jsx(pr,{className:"h-3.5 w-3.5 fill-amber-500 text-amber-500"}),l.jsx("span",{className:"text-gray-900 dark:text-white",children:v()})]}),i&&l.jsx("button",{onClick:m,className:ee("absolute top-3 right-3 inline-flex h-8 w-8 items-center justify-center rounded-lg shadow-md transition-all duration-200 backdrop-blur-sm","bg-white/90 dark:bg-slate-900/90",f?"text-rose-500":"text-gray-400 dark:text-gray-500 hover:text-rose-500"),children:l.jsx(Qa,{className:ee("h-4 w-4 transition-all",f&&"fill-current")})})]}),l.jsxs("div",{className:"flex flex-grow flex-col p-5",children:[l.jsx("h3",{className:"mb-2 line-clamp-2 text-lg font-semibold leading-snug text-gray-900 dark:text-white",children:e.title}),l.jsx("p",{className:"mb-4 flex-grow line-clamp-3 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:e.description}),l.jsxs("div",{className:"mt-auto flex items-center justify-between gap-3 border-t border-gray-100 dark:border-slate-700 pt-4",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[l.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-900/20 shadow-sm",children:l.jsx(ls,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[l.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.time}),l.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[e.prepTime,"min"]})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[l.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-900/20 shadow-sm",children:l.jsx(pr,{className:"h-4 w-4 fill-amber-500 text-amber-500"})}),l.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[l.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.rating}),l.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:v()})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[l.jsx("div",{className:ee("flex items-center justify-center w-9 h-9 rounded-xl shadow-sm bg-gradient-to-br",e.difficulty==="easy"&&"from-emerald-50 to-emerald-100 dark:from-emerald-900/30 dark:to-emerald-900/20",e.difficulty==="medium"&&"from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-900/20",e.difficulty==="hard"&&"from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-900/20"),children:l.jsx(yn,{className:ee("h-4 w-4",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-orange-600 dark:text-orange-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400")})}),l.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[l.jsx("span",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:a.labels.level}),l.jsx("span",{className:ee("text-sm font-bold capitalize",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-orange-600 dark:text-orange-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400"),children:c})]})]})]}),e.authorName&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-slate-700 flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gradient-to-br from-emerald-400 to-teal-600 flex items-center justify-center text-white text-xs font-bold shadow-sm",children:e.authorAvatarUrl?l.jsx("img",{src:e.authorAvatarUrl,alt:e.authorName,className:"w-full h-full object-cover"}):l.jsx(xr,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.recipe.by||"Por"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.authorName})]})]})]})]})}const R5={all:Vl,vegan:jc,lowCarb:$l,highProtein:$l,glutenFree:m2,vegetarian:u2};function A5({categories:e,selectedCategory:t,onSelectCategory:r}){const s=we().categories;return l.jsx(l.Fragment,{children:e.map(i=>{const a=s[i]||i,o=R5[i]||Vl,c=t===i;return l.jsxs(oe.button,{onClick:()=>r(i),className:ee("group relative px-4 sm:px-5 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 whitespace-nowrap","flex items-center gap-2",c?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[l.jsx(o,{className:ee("w-3.5 h-3.5 sm:w-4 sm:h-4 transition-colors duration-200",c?"text-emerald-600 dark:text-emerald-400":"text-slate-400 dark:text-slate-500")}),l.jsx("span",{children:a})]},i)})})}function M5(){const[e,t]=w.useState(!1),[r,n]=w.useState("right"),s=w.useRef(null),i=w.useRef(null),{difficulty:a,prepTimeRange:o,minRating:c,setDifficulty:u,setPrepTimeRange:d,setMinRating:h,resetFilters:f}=Ef(),m=we(),v=[{value:"quick",label:m.filters.prepTime.quick,max:15},{value:"medium",label:m.filters.prepTime.medium,max:30},{value:"long",label:m.filters.prepTime.long,max:null}],y=[{value:"easy",label:m.recipe.difficultyLevels.easy},{value:"medium",label:m.recipe.difficultyLevels.medium},{value:"hard",label:m.recipe.difficultyLevels.hard}],b=[{value:4,label:"4+ "},{value:4.5,label:"4.5+ "},{value:5,label:"5 "}],p=a||o||c;return w.useEffect(()=>{if(e&&s.current){const g=s.current.getBoundingClientRect(),x=window.innerWidth;g.right+320+16>x?n("left"):n("right")}},[e]),w.useEffect(()=>{function g(x){i.current&&!i.current.contains(x.target)&&s.current&&!s.current.contains(x.target)&&t(!1)}if(e)return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[e]),w.useEffect(()=>{function g(x){x.key==="Escape"&&t(!1)}if(e)return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[e]),l.jsxs("div",{className:"relative",children:[l.jsxs(oe.button,{ref:s,onClick:()=>t(!e),className:ee("group flex items-center gap-2 px-4 sm:px-5 py-2.5 rounded-lg transition-all duration-200 whitespace-nowrap text-sm font-medium",p?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-300 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[l.jsx(XN,{className:ee("w-4 h-4 flex-shrink-0 transition-colors duration-200",p?"text-emerald-600 dark:text-emerald-400":"text-slate-400 dark:text-slate-500")}),l.jsx("span",{className:"hidden sm:inline",children:m.filters.advanced}),l.jsx("span",{className:"sm:hidden",children:"Filtros"}),p&&l.jsx(oe.span,{initial:{scale:0},animate:{scale:1},className:"bg-emerald-600 dark:bg-emerald-500 text-white text-xs rounded-full min-w-[18px] h-[18px] px-1 flex items-center justify-center flex-shrink-0 font-medium",children:[a,o,c].filter(Boolean).length})]}),l.jsx(ro,{children:e&&l.jsxs(oe.div,{ref:i,initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},className:ee("absolute top-full mt-2 bg-white dark:bg-slate-900 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-5 z-50 max-h-[80vh] overflow-y-auto","right-0",r==="left"&&"sm:right-0 sm:left-auto",r==="right"&&"sm:left-0 sm:right-auto","w-72 sm:w-80"),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm",children:m.filters.advanced}),l.jsx(oe.button,{onClick:()=>t(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:l.jsx(tr,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"space-y-2.5",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.jsx(yn,{className:"w-3.5 h-3.5 text-slate-400"}),m.recipe.difficulty]}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:y.map(g=>l.jsx(oe.button,{onClick:()=>u(a===g.value?null:g.value),className:ee("px-2 sm:px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-center",a===g.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:g.label},g.value))})]}),l.jsxs("div",{className:"space-y-2.5",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.jsx(ls,{className:"w-3.5 h-3.5 text-slate-400"}),m.recipe.prepTime]}),l.jsx("div",{className:"space-y-1.5",children:v.map(g=>l.jsx(oe.button,{onClick:()=>d(o===g.value?null:g.value),className:ee("w-full px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-left",o===g.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.01},whileTap:{scale:.99},children:g.label},g.value))})]}),l.jsxs("div",{className:"space-y-2.5",children:[l.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 dark:text-slate-400",children:[l.jsx(pr,{className:"w-3.5 h-3.5 text-slate-400"}),m.filters.minRating]}),l.jsx("div",{className:"space-y-1.5",children:b.map(g=>l.jsx(oe.button,{onClick:()=>h(c===g.value?null:g.value),className:ee("w-full px-3 py-2 rounded-lg text-xs font-medium transition-colors duration-150 text-left",c===g.value?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300":"bg-slate-50 text-slate-600 hover:bg-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50"),whileHover:{scale:1.01},whileTap:{scale:.99},children:g.label},g.value))})]}),p&&l.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"pt-3 border-t border-slate-100 dark:border-slate-800",children:l.jsx(oe.button,{onClick:()=>{f(),t(!1)},className:"w-full px-3 py-2 bg-slate-50 text-slate-600 rounded-lg hover:bg-slate-100 transition-colors duration-150 dark:bg-slate-800/50 dark:text-slate-400 dark:hover:bg-slate-700/50 text-xs font-medium",whileHover:{scale:1.01},whileTap:{scale:.99},children:m.filters.clearAll})})]})]})})]})}const G0={title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}},_r="w-full rounded-lg border border-slate-200/90 bg-white/90 px-3 py-2.5 text-sm md:text-base text-slate-900 shadow-sm outline-none transition focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/60 dark:border-slate-700 dark:bg-slate-900/80 dark:text-slate-50",ys="block text-sm md:text-base font-medium text-slate-700 dark:text-slate-100",I5="text-base font-semibold text-slate-800 dark:text-slate-100";function vs({title:e,description:t,children:r,className:n}){return l.jsxs("section",{className:ee("space-y-3",n),children:[(e||t)&&l.jsxs("header",{className:"space-y-1",children:[e&&l.jsx("h3",{className:I5,children:e}),t&&l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t})]}),r]})}function L5({isOpen:e,onClose:t}){var y,b;const{user:r}=Ue(),{createRecipe:n}=ir(),s=we(),[i,a]=w.useState(!1),[o,c]=w.useState(G0);if(!e||!r)return null;const u=async p=>{if(p.preventDefault(),!!r){a(!0);try{const g={...o,authorId:r.id,rating:0,reviews:[]};await n(g),c(G0),t()}catch(g){console.error("Error creating recipe:",g)}finally{a(!1)}}},d=(p,g,x)=>{c(_=>{var k;return{..._,[p]:(k=_[p])==null?void 0:k.map((T,j)=>j===g?x:T)}})},h=p=>{c(g=>({...g,[p]:[...g[p]||[],""]}))},f=(p,g)=>{c(x=>{var _;return{...x,[p]:(_=x[p])==null?void 0:_.filter((k,T)=>T!==g)}})},m=(p,g)=>{const x=parseFloat(g)||0;c(_=>({..._,nutritionFacts:{..._.nutritionFacts,[p]:x}}))},v=Object.keys(s.categories).filter(p=>p!=="all").map(p=>({value:p,label:s.categories[p]}));return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-2xl border border-slate-200/80 bg-gradient-to-br from-white via-white to-emerald-50/40 shadow-2xl dark:border-slate-800 dark:from-slate-900 dark:via-slate-900 dark:to-slate-950",children:[l.jsxs("button",{onClick:t,className:"absolute right-4 top-4 inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 text-slate-500 shadow-sm transition hover:scale-105 hover:bg-white hover:text-slate-700 dark:bg-slate-900/80 dark:text-slate-400 dark:hover:bg-slate-900",children:[l.jsx(tr,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:s.common.close})]}),l.jsx("div",{className:"border-b border-slate-100/80 px-6 pb-4 pt-5 dark:border-slate-800/80 sm:px-7",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("p",{className:"inline-flex w-fit items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-medium uppercase tracking-wide text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300",children:s.recipe.CreateRecipe}),l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50 sm:text-2xl",children:s.recipe.CreateNewRecipe}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 sm:text-base",children:s.recipe.details})]})}),l.jsxs("form",{onSubmit:u,className:"space-y-8 px-6 pb-7 pt-5 text-sm sm:text-base sm:px-7",children:[l.jsx(vs,{children:l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:ys,children:s.recipe.recipeTitle}),l.jsx("input",{type:"text",value:o.title,onChange:p=>c(g=>({...g,title:p.target.value})),className:_r,required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:ys,children:s.recipe.recipeImageURL}),l.jsx("input",{type:"url",value:o.image,onChange:p=>c(g=>({...g,image:p.target.value})),className:_r,placeholder:"https://example.com/image.jpg",required:!0})]})]})}),l.jsx(vs,{description:s.recipe.details,children:l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:ys,children:s.recipe.recipeDescription}),l.jsx("textarea",{value:o.description,onChange:p=>c(g=>({...g,description:p.target.value})),className:ee(_r,"min-h-[90px] resize-y"),rows:3,required:!0})]})}),l.jsx(vs,{children:l.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:ys,children:[s.recipe.prepTime," (min)"]}),l.jsx("input",{type:"number",value:o.prepTime,onChange:p=>c(g=>({...g,prepTime:Number(p.target.value)})),className:_r,min:1,required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:ys,children:s.recipe.difficulty}),l.jsxs("select",{value:o.difficulty,onChange:p=>c(g=>({...g,difficulty:p.target.value})),className:_r,required:!0,children:[l.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),l.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),l.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:ys,children:s.recipe.recipeCategory}),l.jsx("select",{value:o.category,onChange:p=>c(g=>({...g,category:p.target.value})),className:_r,required:!0,children:v.map(p=>l.jsx("option",{value:p.value,children:p.label},p.value))})]})]})}),l.jsxs(vs,{title:s.recipe.ingredients,description:s.recipe.addIngredient,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:s.common.add}),l.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 dark:border-emerald-900 dark:bg-emerald-950/50 dark:text-emerald-300 dark:hover:bg-emerald-900/60",children:[l.jsx(si,{className:"h-4 w-4"}),s.recipe.addIngredient]})]}),l.jsx("div",{className:"mt-2 space-y-2",children:(y=o.ingredients)==null?void 0:y.map((p,g)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:p,onChange:x=>d("ingredients",g,x.target.value),className:_r,placeholder:s.recipe.example,required:!0}),o.ingredients.length>1&&l.jsx("button",{type:"button",onClick:()=>f("ingredients",g),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white/80 px-2 text-slate-400 shadow-sm transition hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:bg-slate-900/70 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(zl,{className:"h-4 w-4"})})]},g))})]}),l.jsxs(vs,{title:s.recipe.instructions,description:s.recipe.addStep,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:s.common.add}),l.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"inline-flex items-center gap-1 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100 dark:border-emerald-900 dark:bg-emerald-950/50 dark:text-emerald-300 dark:hover:bg-emerald-900/60",children:[l.jsx(si,{className:"h-4 w-4"}),s.recipe.addStep]})]}),l.jsx("div",{className:"mt-2 space-y-2",children:(b=o.instructions)==null?void 0:b.map((p,g)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:p,onChange:x=>d("instructions",g,x.target.value),className:_r,placeholder:`${s.recipe.Step} ${g+1}`,required:!0}),o.instructions.length>1&&l.jsx("button",{type:"button",onClick:()=>f("instructions",g),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white/80 px-2 text-slate-400 shadow-sm transition hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:bg-slate-900/70 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(zl,{className:"h-4 w-4"})})]},g))})]}),l.jsx(vs,{title:s.recipe.nutritionFacts,children:l.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-5",children:Object.entries(o.nutritionFacts||{}).map(([p,g])=>{const x=p;return l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-200 sm:text-sm",children:s.profile.nutritionGoalsnames[x]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:g,onChange:_=>m(p,_.target.value),className:_r,placeholder:"0.00",required:!0})]},p)})})}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",disabled:i,className:ee("inline-flex w-full items-center justify-center rounded-lg bg-gradient-to-r from-emerald-600 via-emerald-500 to-emerald-600 px-4 py-3 text-base font-semibold text-white shadow-md transition hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-80 dark:focus-visible:ring-offset-slate-900",i&&"opacity-80"),children:i?s.common.loading:s.recipe.CreateRecipe})})]})]})})}function S1({message:e,type:t,onClose:r,duration:n=3e3}){qn.useEffect(()=>{const i=setTimeout(r,n);return()=>clearTimeout(i)},[n,r]);const s={success:l.jsx(ni,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),error:l.jsx(yf,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),info:l.jsx(t2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})};return l.jsx(ro,{children:l.jsxs(oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:ee("fixed bottom-4 right-4 flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg backdrop-blur-sm z-50",t==="success"&&"bg-green-50/95 dark:bg-green-900/90 border-2 border-green-500 dark:border-green-400",t==="error"&&"bg-red-50/95 dark:bg-red-900/90 border-2 border-red-500 dark:border-red-400",t==="info"&&"bg-blue-50/95 dark:bg-blue-900/90 border-2 border-blue-500 dark:border-blue-400"),children:[s[t],l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e}),l.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(tr,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]})})}function cm({size:e="md",className:t}){const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return l.jsx(ns,{className:ee("animate-spin",r[e],t)})}function D5(){const e=kt(),[t,r]=w.useState(!1),[n,s]=w.useState(!1),{category:i,searchQuery:a,difficulty:o,prepTimeRange:c,minRating:u,setCategory:d}=Ef(),{recipes:h,loading:f,fetchRecipes:m}=ir(),{isAuthenticated:v,isNutritionist:y,initializeAuth:b}=Ue(),{message:p,type:g,hideToast:x}=re(),_=we(),k=["all","vegan","lowCarb","highProtein","glutenFree"];w.useEffect(()=>{(async()=>{if(!n)try{await b(),await m(),s(!0)}catch(R){console.error("Error initializing app:",R),s(!0)}})()},[b,m,n]),w.useEffect(()=>{n&&d("all")},[d,n]);const T=C=>C.toLowerCase().replace(/\s+/g,""),j=C=>{if(!c)return!0;switch(c){case"quick":return C.prepTime<=15;case"medium":return C.prepTime<=30;case"long":return C.prepTime>30;default:return!0}},E=h.filter(C=>{const R=T(C.category),L=T(i),D=L==="all"||R===L,de=C.title.toLowerCase().includes(a.toLowerCase())||C.description.toLowerCase().includes(a.toLowerCase()),fe=!o||C.difficulty===o,te=!u||C.rating>=u,le=j(C);return D&&de&&fe&&te&&le});return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l.jsx(P5,{onProfileClick:()=>e("/perfil"),onAIMentoringClick:()=>e("/mentoria-ia")}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-4",children:_.home.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl text-sm sm:text-base",children:_.home.subtitle})]}),v&&y()&&l.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm sm:text-base",children:[l.jsx(si,{className:"w-4 h-4 sm:w-5 sm:h-5"}),_.home.createRecipe]})]}),l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"bg-white dark:bg-slate-800/30 rounded-xl p-4 sm:p-5 border border-slate-100 dark:border-slate-700/50",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(A5,{categories:k,selectedCategory:i,onSelectCategory:d}),l.jsx("div",{className:"ml-auto",children:l.jsx(M5,{})})]})})}),f?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(cm,{size:"lg"})}):E.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:_.home.noRecipes}),h.length===0&&!f&&l.jsx("button",{onClick:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar novamente"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(C=>l.jsx(dh,{recipe:C},C.id))})]}),l.jsx(L5,{isOpen:t,onClose:()=>r(!1)}),p&&l.jsx(S1,{message:p,type:g,onClose:x})]})}const xs={calories:2e3,protein:50,carbs:250,fat:70,fiber:25},W0=["calories","protein","carbs","fat","fiber"],oo=zr()(Xa(e=>({goals:xs,activeGoals:W0,loading:!1,fetchGoals:async t=>{e({loading:!0});try{const{data:r,error:n}=await B.from("nutrition_goals").select("*").eq("user_id",t).maybeSingle();if(n)throw n;e(r?{goals:{calories:r.calories||xs.calories,protein:r.protein||xs.protein,carbs:r.carbs||xs.carbs,fat:r.fat||xs.fat,fiber:r.fiber||xs.fiber},activeGoals:r.active_goals||W0,loading:!1}:{loading:!1})}catch(r){console.error("Error fetching nutrition goals:",r),e({loading:!1})}},setActiveGoals:async(t,r)=>{try{const{error:n}=await B.from("nutrition_goals").update({active_goals:r}).eq("user_id",t);if(n)throw n;e({activeGoals:r})}catch(n){throw console.error("Error updating active goals:",n),n}},toggleGoal:async(t,r)=>{e(n=>{const s=n.activeGoals.includes(r)?n.activeGoals.filter(i=>i!==r):[...n.activeGoals,r];return(async()=>{try{const{error:i}=await B.from("nutrition_goals").update({active_goals:s}).eq("user_id",t);if(i)throw i}catch(i){console.error("Error toggling goal:",i)}})(),{activeGoals:s}})},setGoals:t=>e(r=>({goals:{...r.goals,...Object.fromEntries(Object.entries(t).map(([n,s])=>[n,Number(s)]))}}))}),{name:"nutrition-goals"})),O5=()=>({calories:0,protein:0,carbs:0,fat:0,fiber:0}),F5=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},$5=e=>{const t=Number(e??1);return!Number.isFinite(t)||t<=0?1:Math.round(t*10)/10},$c=zr()(Xa((e,t)=>({entries:[],addRecipeToLog:(r,n=1,s)=>{var c,u,d,h,f,m;const i=$5(n),a=s??F5(new Date),o={id:((c=crypto==null?void 0:crypto.randomUUID)==null?void 0:c.call(crypto))??`${Date.now()}-${Math.random()}`,date:a,recipeId:r.id,recipeTitle:r.title,servings:i,perServing:{calories:Number(((u=r.nutritionFacts)==null?void 0:u.calories)??0),protein:Number(((d=r.nutritionFacts)==null?void 0:d.protein)??0),carbs:Number(((h=r.nutritionFacts)==null?void 0:h.carbs)??0),fat:Number(((f=r.nutritionFacts)==null?void 0:f.fat)??0),fiber:Number(((m=r.nutritionFacts)==null?void 0:m.fiber)??0)},createdAt:new Date().toISOString()};e(v=>({entries:[o,...v.entries]}))},removeEntry:r=>e(n=>({entries:n.entries.filter(s=>s.id!==r)})),clearDate:r=>e(n=>({entries:n.entries.filter(s=>s.date!==r)})),getEntriesForDate:r=>t().entries.filter(n=>n.date===r),getTotalsForDate:r=>{const n=O5();for(const s of t().entries)s.date===r&&(n.calories+=s.perServing.calories*s.servings,n.protein+=s.perServing.protein*s.servings,n.carbs+=s.perServing.carbs*s.servings,n.fat+=s.perServing.fat*s.servings,n.fiber+=s.perServing.fiber*s.servings);return{calories:Math.round(n.calories*10)/10,protein:Math.round(n.protein*10)/10,carbs:Math.round(n.carbs*10)/10,fat:Math.round(n.fat*10)/10,fiber:Math.round(n.fiber*10)/10}}}),{name:"nutrition-tracking",version:1})),tc=class tc{static async uploadAvatar(t,r){if(r.size>this.MAX_FILE_SIZE)throw new Error("Imagem muito grande. O tamanho mximo  2MB.");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type))throw new Error("Formato no suportado. Use JPG, PNG, GIF ou WebP.");const s=r.name.split(".").pop(),i=`${t}/avatar.${s}`,{error:a}=await B.storage.from(this.AVATARS_BUCKET).upload(i,r,{cacheControl:"3600",upsert:!0});if(a)throw a;const{data:o}=B.storage.from(this.AVATARS_BUCKET).getPublicUrl(i);return o.publicUrl}static async deleteAvatar(t){const{data:r}=await B.storage.from(this.AVATARS_BUCKET).list(t);if(r&&r.length>0){const n=r.map(i=>`${t}/${i.name}`),{error:s}=await B.storage.from(this.AVATARS_BUCKET).remove(n);if(s)throw s}}static getAvatarUrl(t,r){const{data:n}=B.storage.from(this.AVATARS_BUCKET).getPublicUrl(`${t}/${r}`);return n.publicUrl}};tc.AVATARS_BUCKET="avatars",tc.MAX_FILE_SIZE=2*1024*1024;let Xl=tc;const z5={sm:"w-12 h-12",md:"w-20 h-20",lg:"w-32 h-32",xl:"w-40 h-40"};function U5({currentAvatarUrl:e,onAvatarUpdate:t,size:r="lg",editable:n=!0}){const[s,i]=w.useState(!1),[a,o]=w.useState(e||null),c=w.useRef(null),{user:u,updateProfile:d}=Ue(),{showToast:h}=re(),f=async y=>{var p;const b=(p=y.target.files)==null?void 0:p[0];if(!(!b||!u))try{i(!0);const g=new FileReader;g.onloadend=()=>{o(g.result)},g.readAsDataURL(b);const x=await Xl.uploadAvatar(u.id,b),{error:_}=await B.from("profiles").update({avatar_url:x}).eq("id",u.id);if(_)throw _;await d({avatar_url:x}),t&&t(x),h("Foto de perfil atualizada com sucesso!","success")}catch(g){console.error("Error uploading avatar:",g),h(g.message||"Erro ao fazer upload da foto","error"),o(e||null)}finally{i(!1),c.current&&(c.current.value="")}},m=async()=>{if(u)try{i(!0),await Xl.deleteAvatar(u.id);const{error:y}=await B.from("profiles").update({avatar_url:null}).eq("id",u.id);if(y)throw y;await d({avatar_url:null}),o(null),t&&t(""),h("Foto de perfil removida com sucesso!","success")}catch(y){console.error("Error removing avatar:",y),h(y.message||"Erro ao remover foto","error")}finally{i(!1)}},v=()=>u!=null&&u.fullName?u.fullName.split(" ").map(y=>y[0]).slice(0,2).join("").toUpperCase():"?";return l.jsxs("div",{className:"relative inline-block",children:[l.jsxs("div",{className:`${z5[r]} rounded-full overflow-hidden bg-gradient-to-br from-emerald-400 to-teal-600 flex items-center justify-center text-white font-bold shadow-lg relative group`,children:[a?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:a,alt:"Avatar",className:"w-full h-full object-cover"}),n&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 flex items-center justify-center opacity-0 group-hover:opacity-100",children:l.jsx(YN,{className:"w-6 h-6 text-white"})})]}):l.jsx("span",{className:r==="sm"?"text-xs":r==="md"?"text-sm":r==="xl"?"text-3xl":"text-xl",children:v()}),s&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:l.jsx(ns,{className:"w-6 h-6 text-white animate-spin"})})]}),n&&l.jsxs(l.Fragment,{children:[l.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:f,className:"hidden",disabled:s}),l.jsx("button",{onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:s,className:"absolute bottom-0 right-0 p-2 bg-emerald-500 text-white rounded-full shadow-lg hover:bg-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Alterar foto",children:l.jsx(v2,{className:"w-4 h-4"})}),a&&l.jsx("button",{onClick:m,disabled:s,className:"absolute top-0 right-0 p-1.5 bg-red-500 text-white rounded-full shadow-lg hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Remover foto",children:l.jsx(tr,{className:"w-3 h-3"})})]})]})}function V5(){const{user:e}=Ue(),{recipes:t,favoriteRecipes:r}=ir(),{goals:n,activeGoals:s}=oo(),{entries:i}=$c(),{isPremium:a}=Ac(),o=we();if(!e)return null;const c=t.filter(v=>v.authorId===e.id),u=t.filter(v=>r.includes(v.id)).length,d=e.type==="Nutritionist",h=a(),f=s.length>0,m=new Set(i.map(v=>v.date)).size;return l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/90 flex flex-col sm:flex-row sm:items-center gap-6",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(U5,{currentAvatarUrl:e.avatar_url,size:"xl",editable:!0})}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:e.name}),l.jsxs("div",{className:"flex flex-col gap-1 text-sm text-slate-600 dark:text-slate-400",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lb,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-300"}),e.email]}),l.jsxs("div",{className:"flex items-center gap-2",children:[h&&!d?l.jsx(ia,{className:"h-4 w-4 text-amber-500 dark:text-amber-400"}):l.jsx(yn,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-300"}),d?o.profile.nutricionist:h?o.profile.clientPremium:o.profile.client]})]}),d&&l.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[l.jsx("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300",children:c.length}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.publishedRecipes})]}),l.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[l.jsx("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300",children:u}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.favorites})]})]}),!d&&l.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 p-3 text-center border border-emerald-100 dark:border-emerald-800/60",children:[l.jsxs("p",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-300 flex items-center justify-center gap-1",children:[l.jsx(Qa,{className:"h-4 w-4"}),u]}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.favorites})]}),f&&l.jsxs("div",{className:"rounded-xl bg-blue-50 dark:bg-blue-900/20 p-3 text-center border border-blue-100 dark:border-blue-800/60",children:[l.jsxs("p",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300 flex items-center justify-center gap-1",children:[l.jsx(db,{className:"h-4 w-4"}),s.length]}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.activeGoalsLabel})]}),m>0&&l.jsxs("div",{className:"rounded-xl bg-purple-50 dark:bg-purple-900/20 p-3 text-center border border-purple-100 dark:border-purple-800/60",children:[l.jsxs("p",{className:"text-lg font-semibold text-purple-700 dark:text-purple-300 flex items-center justify-center gap-1",children:[l.jsx(ls,{className:"h-4 w-4"}),m]}),l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:o.profile.trackedDays})]})]})]})]})}function B5(){const{goals:e,setGoals:t}=oo(),[r,n]=w.useState(e),s=we(),i=s.profile.saveGoals,a=s.profile.dailyGoals,o=s.profile.nutritionGoalsnames,c=h=>{h.preventDefault(),t(r)},u=w.useMemo(()=>({calories:{icon:$l,unit:"kcal",accent:"text-amber-300",ring:"focus-visible:ring-amber-400/40"},protein:{icon:ib,unit:"g",accent:"text-rose-300",ring:"focus-visible:ring-rose-400/40"},carbs:{icon:fb,unit:"g",accent:"text-sky-300",ring:"focus-visible:ring-sky-400/40"},fat:{icon:ab,unit:"g",accent:"text-emerald-300",ring:"focus-visible:ring-emerald-400/40"},fiber:{icon:jc,unit:"g",accent:"text-lime-300",ring:"focus-visible:ring-lime-400/40"}}),[r]),d=(h,f)=>{const m=Number.isFinite(Number(f))?parseFloat(f):0;n(v=>({...v,[h]:m<0?0:m}))};return l.jsxs("form",{onSubmit:c,className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-sm backdrop-blur md:p-6",children:[l.jsx("div",{className:"mb-4 flex items-start justify-between gap-3",children:l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-white/10 ring-1 ring-white/10",children:l.jsx(ub,{className:"h-5 w-5 text-emerald-300"})}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:a})]})})}),l.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:Object.entries(r).map(([h,f])=>{const m=u[h],v=m.icon,y=o[h];return l.jsxs("div",{className:"group rounded-2xl border border-white/10 bg-slate-950/30 p-4 transition hover:border-white/15 hover:bg-slate-950/40",children:[l.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-white/5 ring-1 ring-white/10",children:l.jsx(v,{className:`h-5 w-5 ${m.accent}`})}),l.jsx("div",{className:"min-w-0",children:l.jsx("div",{className:"truncate text-sm font-medium text-white",children:y})})]}),l.jsx("span",{className:"shrink-0 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-xs text-white/70",children:m.unit})]}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"number",step:"0.1",min:"0",value:Number.isFinite(f)?f:0,onChange:b=>d(h,b.target.value),inputMode:"decimal",className:"w-full rounded-xl border border-white/10 bg-slate-950/40 px-4 py-3 text-base text-white outline-none transition placeholder:text-white/30 hover:border-white/15 focus-visible:ring-4 focus-visible:ring-emerald-400/20 "+m.ring,placeholder:"0.0","aria-label":`${y} (${m.unit})`})})]},h)})}),l.jsx("div",{className:"mt-5 flex flex-col-reverse gap-3 md:flex-row md:items-center md:justify-between",children:l.jsx("button",{type:"submit",className:"inline-flex w-full items-center justify-center rounded-xl bg-emerald-500 px-4 py-3 font-medium text-slate-950 shadow-sm transition hover:bg-emerald-400 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-emerald-400/30 md:w-auto",children:i})})]})}function H5(){const{activeGoals:e,toggleGoal:t}=oo(),{user:r}=Ue(),s=we().profile.nutritionGoalsnames,i=w.useMemo(()=>[{key:"calories",icon:$l,accent:"text-amber-300",color:"bg-amber-500/20 border-amber-500/50 hover:bg-amber-500/30"},{key:"protein",icon:ib,accent:"text-rose-300",color:"bg-rose-500/20 border-rose-500/50 hover:bg-rose-500/30"},{key:"carbs",icon:fb,accent:"text-sky-300",color:"bg-sky-500/20 border-sky-500/50 hover:bg-sky-500/30"},{key:"fat",icon:ab,accent:"text-emerald-300",color:"bg-emerald-500/20 border-emerald-500/50 hover:bg-emerald-500/30"},{key:"fiber",icon:jc,accent:"text-lime-300",color:"bg-lime-500/20 border-lime-500/50 hover:bg-lime-500/30"}],[]),a=async o=>{r!=null&&r.id&&await t(r.id,o)};return l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/90 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/90",children:[l.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[l.jsx(f2,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Metas para Acompanhar"})]}),l.jsx("p",{className:"mb-4 text-sm text-slate-600 dark:text-slate-400",children:"Selecione quais metas nutricionais voc deseja acompanhar diariamente"}),l.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 md:grid-cols-5",children:i.map(({key:o,icon:c,accent:u,color:d})=>{const h=e.includes(o),f=s[o];return l.jsxs("button",{onClick:()=>a(o),className:`relative flex flex-col items-center gap-2 rounded-xl border-2 p-4 transition ${h?`${d} border-current`:"border-slate-200 bg-slate-50 hover:bg-slate-100 dark:border-slate-700 dark:bg-slate-800/50 dark:hover:bg-slate-800"}`,children:[l.jsx(c,{className:`h-6 w-6 ${u}`}),l.jsx("span",{className:"text-xs font-medium text-slate-900 dark:text-slate-200",children:f}),h&&l.jsx("div",{className:"absolute -right-2 -top-2 flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500",children:l.jsx("svg",{className:"h-3 w-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},o)})})]})}const G5=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},W5=e=>Number.isFinite(e)?Math.max(0,Math.min(1,e)):0;function $i({label:e,value:t,goal:r,unit:n}){const s=W5(r>0?t/r:0),i=`${t.toFixed(1)} / ${r.toFixed(1)} ${n}`,a=Math.round(s*100);return l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:e}),l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:i})]}),l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:l.jsx("div",{className:`h-full rounded-full transition-all ${s<=1?"bg-emerald-500":"bg-rose-500"}`,style:{width:`${a}%`}})})]})}function K5(){const e=we(),{recipes:t}=ir(),{showToast:r}=re(),{goals:n}=oo(),{entries:s,addRecipeToLog:i,removeEntry:a,clearDate:o,getEntriesForDate:c,getTotalsForDate:u}=$c(),[d,h]=qn.useState(()=>G5(new Date)),[f,m]=qn.useState(""),[v,y]=qn.useState(1),b=w.useMemo(()=>c(d),[c,d,s]),p=w.useMemo(()=>u(d),[u,d,s]),g=t.slice().sort((k,T)=>k.title.localeCompare(T.title)),x=()=>{const k=Number(f),T=t.find(j=>j.id===k);if(!T){r(e.profile.pickARecipe??"Selecione uma receita.","warning");return}i(T,v,d),r(e.profile.loggedToDiary??"Adicionado ao dirio.","success")},_=()=>{!b.length||!window.confirm(e.profile.clearDiaryConfirm??"Limpar o dirio deste dia?")||(o(d),r(e.profile.diaryCleared??"Dirio limpo.","info"))};return l.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-100 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(KN,{className:"h-5 w-5 text-emerald-500"}),l.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-white",children:e.profile.diaryTitle??"Dirio alimentar"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"date",value:d,onChange:k=>h(k.target.value),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100"}),l.jsxs("button",{type:"button",onClick:_,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-900",children:[l.jsx(Ul,{className:"h-4 w-4"}),e.profile.clearDay??"Limpar"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[l.jsxs("select",{value:f,onChange:k=>m(k.target.value===""?"":Number(k.target.value)),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",children:[l.jsx("option",{value:"",children:e.profile.chooseRecipe??"Escolher receita..."}),g.map(k=>l.jsx("option",{value:k.id,children:k.title},k.id))]}),l.jsx("input",{type:"number",min:.1,step:.1,value:v,onChange:k=>y(Math.max(.1,Number(k.target.value)||1)),className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm outline-none focus:ring-2 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100",placeholder:e.profile.servings??"Pores"}),l.jsxs("button",{type:"button",onClick:x,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700",children:[l.jsx(si,{className:"h-4 w-4"}),e.profile.addToDiary??"Adicionar"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:e.profile.todayProgress??"Progresso do dia"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx($i,{label:e.profile.nutritionGoalsnames.calories,value:p.calories,goal:n.calories,unit:"kcal"}),l.jsx($i,{label:e.profile.nutritionGoalsnames.protein,value:p.protein,goal:n.protein,unit:"g"}),l.jsx($i,{label:e.profile.nutritionGoalsnames.carbs,value:p.carbs,goal:n.carbs,unit:"g"}),l.jsx($i,{label:e.profile.nutritionGoalsnames.fat,value:p.fat,goal:n.fat,unit:"g"}),l.jsx($i,{label:e.profile.nutritionGoalsnames.fiber,value:p.fiber,goal:n.fiber,unit:"g"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:e.profile.loggedMeals??"Registros"}),l.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:[b.length," ",e.profile.items??"itens"]})]}),b.length?l.jsx("div",{className:"space-y-2",children:b.map(k=>l.jsxs("div",{className:"flex items-start justify-between gap-3 rounded-xl border border-slate-100 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"truncate text-sm font-semibold text-slate-900 dark:text-white",children:k.recipeTitle}),l.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300",children:[e.profile.servings??"Pores",": ",l.jsx("span",{className:"font-medium",children:k.servings}),"  ",k.perServing.calories.toFixed(0)," kcal/",e.profile.perServing??"poro"]})]}),l.jsx("button",{type:"button",onClick:()=>{a(k.id),r(e.profile.entryRemoved??"Item removido.","info")},className:"shrink-0 rounded-lg p-2 text-slate-600 hover:bg-white hover:text-rose-600 dark:text-slate-300 dark:hover:bg-slate-900","aria-label":e.profile.remove??"Remover",children:l.jsx(Ul,{className:"h-4 w-4"})})]},k.id))}):l.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 p-4 text-sm text-slate-600 dark:border-slate-700 dark:text-slate-300",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(xf,{className:"mt-0.5 h-4 w-4 text-slate-400"}),l.jsx("p",{children:e.profile.noDiaryEntries??"Nenhum item registrado neste dia."})]})})]})]})}const q5=["sports","clinical","weightLoss","womensHealth","pediatric","geriatric","vegetarian","diabetes","cardiovascular","gastrointestinal"],Ho=e=>({sports:"sports","Sports Nutrition":"sports","Nutrio Esportiva":"sports",clinical:"clinical","Clinical Nutrition":"clinical","Nutrio Clnica":"clinical",weightLoss:"weightLoss","Weight Loss":"weightLoss",Emagrecimento:"weightLoss",womensHealth:"womensHealth","Women's Health":"womensHealth","Sade da Mulher":"womensHealth",pediatric:"pediatric","Pediatric Nutrition":"pediatric","Nutrio Peditrica":"pediatric",geriatric:"geriatric","Geriatric Nutrition":"geriatric","Nutrio Geritrica":"geriatric",vegetarian:"vegetarian","Vegetarian/Vegan":"vegetarian","Vegetariano/Vegano":"vegetarian",diabetes:"diabetes","Diabetes Management":"diabetes","Controle de Diabetes":"diabetes",cardiovascular:"cardiovascular","Cardiovascular Health":"cardiovascular","Sade Cardiovascular":"cardiovascular",gastrointestinal:"gastrointestinal","Gastrointestinal Health":"gastrointestinal","Sade Gastrointestinal":"gastrointestinal"})[e]||e;function Y5(){const{user:e}=Ue(),{showToast:t}=re(),r=we();kt();const[n,s]=w.useState(!1),[i,a]=w.useState(!0),[o,c]=w.useState(!1),[u,d]=w.useState({professional_bio:"",specializations:[],education:"",certifications:"",years_of_experience:0,approach:"",consultation_price:0,consultation_duration:60,accepts_health_insurance:!1,health_insurances:"",phone:"",whatsapp:"",instagram:"",website:"",clinic_address:"",profile_visibility:"public",accepting_new_clients:!0});w.useEffect(()=>{h()},[]);const h=async()=>{if(e)try{const{data:y}=await B.from("profiles").select("*").eq("id",e.id).maybeSingle();y&&d({professional_bio:y.professional_bio||"",specializations:(y.specializations||[]).map(Ho),education:y.education||"",certifications:(y.certifications||[]).join(`
`),years_of_experience:y.years_of_experience||0,approach:y.approach||"",consultation_price:y.consultation_price||0,consultation_duration:y.consultation_duration||60,accepts_health_insurance:y.accepts_health_insurance||!1,health_insurances:(y.health_insurances||[]).join(`
`),phone:y.phone||"",whatsapp:y.whatsapp||"",instagram:y.instagram||"",website:y.website||"",clinic_address:y.clinic_address||"",profile_visibility:y.profile_visibility||"public",accepting_new_clients:y.accepting_new_clients??!0})}catch(y){console.error("Error loading profile:",y),t("Erro ao carregar perfil","error")}finally{a(!1)}},f=async y=>{if(y.preventDefault(),!!e){s(!0);try{const{error:b}=await B.from("profiles").update({professional_bio:u.professional_bio,specializations:u.specializations,education:u.education,certifications:u.certifications.split(`
`).map(p=>p.trim()).filter(p=>p),years_of_experience:u.years_of_experience,approach:u.approach,consultation_price:u.consultation_price,consultation_duration:u.consultation_duration,accepts_health_insurance:u.accepts_health_insurance,health_insurances:u.health_insurances.split(`
`).map(p=>p.trim()).filter(p=>p),phone:u.phone,whatsapp:u.whatsapp,instagram:u.instagram,website:u.website,clinic_address:u.clinic_address,profile_visibility:u.profile_visibility,accepting_new_clients:u.accepting_new_clients}).eq("id",e.id);if(b)throw b;c(!1),t(r.nutritionists.editProfile.saved,"success")}catch(b){console.error("Error updating profile:",b),t(r.nutritionists.editProfile.error,"error")}finally{s(!1)}}},m=y=>{d(b=>b.specializations.map(Ho).includes(y)?{...b,specializations:b.specializations.filter(x=>Ho(x)!==y)}:{...b,specializations:[...b.specializations,y]}),c(!0)},v=(y,b)=>{d(p=>({...p,[y]:b})),c(!0)};return i?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):l.jsxs("form",{onSubmit:f,className:"space-y-8 relative",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.nutritionists.editProfile.professionalInfo}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.bio}),l.jsx("textarea",{value:u.professional_bio,onChange:y=>v("professional_bio",y.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.bioPlaceholder})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.specializations}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:q5.map(y=>{const p=u.specializations.map(Ho).includes(y);return l.jsx("button",{type:"button",onClick:()=>m(y),className:ee("px-3 py-2 rounded-lg text-sm font-medium transition-colors",p?"bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 border-2 border-emerald-500":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-2 border-transparent hover:border-gray-300"),children:r.nutritionists.specializations[y]},y)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.education}),l.jsx("input",{type:"text",value:u.education,onChange:y=>v("education",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.educationPlaceholder})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.certifications}),l.jsx("textarea",{value:u.certifications,onChange:y=>v("certifications",y.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.certificationsPlaceholder})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.yearsOfExperience}),l.jsx("input",{type:"number",min:"0",value:u.years_of_experience,onChange:y=>v("years_of_experience",parseInt(y.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.approach}),l.jsx("textarea",{value:u.approach,onChange:y=>v("approach",y.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.approachPlaceholder})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.nutritionists.editProfile.consultationSettings}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.consultationPrice}),l.jsx("input",{type:"number",min:"0",step:"0.01",value:u.consultation_price,onChange:y=>v("consultation_price",parseFloat(y.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.consultationDuration}),l.jsx("input",{type:"number",min:"15",step:"15",value:u.consultation_duration,onChange:y=>v("consultation_duration",parseInt(y.target.value)||60),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"accepts_insurance",checked:u.accepts_health_insurance,onChange:y=>v("accepts_health_insurance",y.target.checked),className:"w-4 h-4 text-emerald-600 rounded focus:ring-emerald-500"}),l.jsx("label",{htmlFor:"accepts_insurance",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.fields.acceptsInsurance})]}),u.accepts_health_insurance&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.insurances}),l.jsx("textarea",{value:u.health_insurances,onChange:y=>v("health_insurances",y.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:r.nutritionists.editProfile.fields.insurancesPlaceholder})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.nutritionists.editProfile.contactInfo}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.phone}),l.jsx("input",{type:"tel",value:u.phone,onChange:y=>v("phone",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.whatsapp}),l.jsx("input",{type:"tel",value:u.whatsapp,onChange:y=>v("whatsapp",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.instagram}),l.jsx("input",{type:"text",value:u.instagram,onChange:y=>v("instagram",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500",placeholder:"@seuusuario"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.website}),l.jsx("input",{type:"url",value:u.website,onChange:y=>v("website",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.fields.address}),l.jsx("input",{type:"text",value:u.clinic_address,onChange:y=>v("clinic_address",y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r.common.settings}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"accepting_clients",checked:u.accepting_new_clients,onChange:y=>v("accepting_new_clients",y.target.checked),className:"w-4 h-4 text-emerald-600 rounded focus:ring-emerald-500"}),l.jsx("label",{htmlFor:"accepting_clients",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.fields.acceptingClients})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.editProfile.visibility}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"visibility",value:"public",checked:u.profile_visibility==="public",onChange:y=>v("profile_visibility",y.target.value),className:"text-emerald-600 focus:ring-emerald-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.public})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"visibility",value:"private",checked:u.profile_visibility==="private",onChange:y=>v("profile_visibility",y.target.value),className:"text-emerald-600 focus:ring-emerald-500"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.nutritionists.editProfile.private})]})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[l.jsxs("button",{type:"button",onClick:()=>window.history.back(),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:[l.jsx(Ja,{className:"h-5 w-5"}),r.common.cancel]}),l.jsx("button",{type:"submit",disabled:n||!o,className:ee("flex items-center gap-2 px-6 py-3 font-medium rounded-lg transition-colors",n||!o?"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700 text-white"),children:n?l.jsxs(l.Fragment,{children:[l.jsx(ns,{className:"h-5 w-5 animate-spin"}),r.common.loading]}):l.jsxs(l.Fragment,{children:[l.jsx(d2,{className:"h-5 w-5"}),r.nutritionists.editProfile.save]})})]})]})}function Go({active:e,onClick:t,children:r}){return l.jsx("button",{onClick:t,className:`rounded-full px-4 py-1.5 text-sm font-medium transition-colors ${e?"bg-emerald-500 text-white shadow-sm":"text-slate-500 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:r})}function J5(){const[e,t]=qn.useState("favorites"),{user:r}=Ue(),{recipes:n,favoriteRecipes:s}=ir(),i=we(),a=n.filter(m=>m.authorId===(r==null?void 0:r.id)),o=n.filter(m=>s.includes(m.id)),c=i.buttons.My_recipes,u=i.buttons.Favorites,d=i.buttons.Nutrition_goal,h=i.nutritionists.editProfile.title,f=(r==null?void 0:r.type)==="Nutritionist";return qn.useEffect(()=>{if(f){e==="nutrition"&&t("recipes");return}(e==="recipes"||e==="professional")&&t("favorites")},[f,e]),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"inline-flex rounded-full border border-slate-100 bg-slate-50 p-1 dark:border-slate-800 dark:bg-slate-900",children:[f&&l.jsx(Go,{active:e==="recipes",onClick:()=>t("recipes"),children:c}),l.jsx(Go,{active:e==="favorites",onClick:()=>t("favorites"),children:u}),!f&&l.jsx(Go,{active:e==="nutrition",onClick:()=>t("nutrition"),children:d}),f&&l.jsx(Go,{active:e==="professional",onClick:()=>t("professional"),children:h})]}),l.jsxs("div",{className:"mt-2",children:[e==="recipes"&&f&&l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[a.map(m=>l.jsx(dh,{recipe:m},m.id)),a.length===0&&l.jsx("p",{className:"col-span-full py-8 text-center text-sm text-slate-500 dark:text-slate-400",children:i.profile.noRecipesYet})]}),e==="favorites"&&l.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.map(m=>l.jsx(dh,{recipe:m},m.id)),o.length===0&&l.jsx("p",{className:"col-span-full py-8 text-center text-sm text-slate-500 dark:text-slate-400",children:i.profile.noFavorites})]}),e==="nutrition"&&!f&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(H5,{}),l.jsxs("div",{className:"mx-auto grid max-w-5xl grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white/90 p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/90 sm:p-5",children:l.jsx(B5,{})}),l.jsx(K5,{})]})]}),e==="professional"&&f&&l.jsx("div",{className:"max-w-4xl",children:l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:i.nutritionists.editProfile.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:i.nutritionists.editProfile.subtitle})]}),l.jsx(Y5,{})]})})]})]})}function Q5(){const{user:e}=Ue(),{recipes:t,favoriteRecipes:r}=ir(),{goals:n,activeGoals:s}=oo(),{getTotalsForDate:i,entries:a}=$c(),{isPremium:o}=Ac(),c=we(),u=o();if(!e||e.type!=="Client")return null;e.profile;const d=t.filter(p=>r.includes(p.id)),h=d.length,f=d.reduce((p,g)=>p+g.nutritionFacts.calories,0)/(h||1),m=d.reduce((p,g)=>p+g.prepTime,0)/(h||1),v=w.useMemo(()=>{const p=new Date,g=p.getFullYear(),x=String(p.getMonth()+1).padStart(2,"0"),_=String(p.getDate()).padStart(2,"0");return`${g}-${x}-${_}`},[]),y=w.useMemo(()=>i(v),[i,v,a]),b=c.profile.nutritionGoalsnames;return l.jsxs("div",{className:"space-y-8",children:[u&&l.jsx("div",{className:"rounded-2xl border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-800/40 p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/40",children:l.jsx(ia,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-base font-semibold text-amber-900 dark:text-amber-200",children:c.profile.clientPremium}),l.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[c.labels.aiMentoring,"  ",c.labels.unlimitedAccess]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(Qa,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.profile.favorites})]}),l.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:h})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(HN,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.profile.nutritionGoalsnames.calories})]}),l.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:f.toFixed(0)})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(ls,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.recipe.prepTime})]}),l.jsxs("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:[m.toFixed(0),"min"]})]}),l.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-white p-4 shadow-sm dark:border-emerald-900/40 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300",children:[l.jsx(ub,{className:"h-4 w-4 text-emerald-500 dark:text-emerald-400"}),l.jsx("span",{children:c.labels.activeGoals})]}),l.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:s.length})]})]}),Object.keys(n).length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:c.profile.dailyGoals}),l.jsx(Ma,{to:"/perfil?tab=nutrition",className:"text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:c.profile.viewDiaryAndGoals??"Ver dirio e metas"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:["calories","protein","carbs","fat","fiber"].map(p=>{if(!s.includes(p))return null;const g=n[p]??0,x=y[p]??0,_=g>0?Math.min(1,x/g):0,k=p==="calories"?"kcal":"g",T=Math.max(0,g-x);return l.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:b[p]}),l.jsxs("p",{className:"mt-1 text-xs text-slate-600 dark:text-slate-300",children:[x.toFixed(1)," / ",g.toFixed(1)," ",k,"  ",c.profile.remaining??"Restante",": ",T.toFixed(1)," ",k]})]}),l.jsx("div",{className:"shrink-0 text-right",children:l.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[Math.round(_*100),"%"]})})]}),l.jsx("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:l.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all",style:{width:`${Math.round(_*100)}%`}})})]},p)})}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:c.profile.progressBasedOnDiary??"O progresso  calculado com base no que voc registra no dirio alimentar."})]}),d.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:c.profile.recentFavorites}),l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.slice(0,3).map(p=>l.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-slate-100 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900/60",children:[l.jsx("img",{src:p.image,alt:p.title,className:"h-16 w-16 rounded-lg object-cover"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:p.title}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 sm:text-sm",children:p.category}),l.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[l.jsxs("span",{children:[" ",p.rating.toFixed(1)]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[p.prepTime,"min"]})]})]})]},p.id))})]})]})}const X5={emerald:{ring:"ring-emerald-500/10 dark:ring-emerald-400/10",icon:"text-emerald-600 dark:text-emerald-400",value:"text-emerald-700 dark:text-emerald-300",pillBg:"bg-emerald-50 dark:bg-emerald-900/30",pillText:"text-emerald-700 dark:text-emerald-200"},slate:{ring:"ring-slate-500/10 dark:ring-slate-400/10",icon:"text-slate-600 dark:text-slate-300",value:"text-slate-900 dark:text-slate-50",pillBg:"bg-slate-100 dark:bg-slate-800/60",pillText:"text-slate-600 dark:text-slate-200"},amber:{ring:"ring-amber-500/10 dark:ring-amber-400/10",icon:"text-amber-600 dark:text-amber-400",value:"text-amber-700 dark:text-amber-300",pillBg:"bg-amber-50 dark:bg-amber-900/30",pillText:"text-amber-700 dark:text-amber-200"},rose:{ring:"ring-rose-500/10 dark:ring-rose-400/10",icon:"text-rose-600 dark:text-rose-400",value:"text-rose-700 dark:text-rose-300",pillBg:"bg-rose-50 dark:bg-rose-900/30",pillText:"text-rose-700 dark:text-rose-200"},sky:{ring:"ring-sky-500/10 dark:ring-sky-400/10",icon:"text-sky-600 dark:text-sky-400",value:"text-sky-700 dark:text-sky-300",pillBg:"bg-sky-50 dark:bg-sky-900/30",pillText:"text-sky-700 dark:text-sky-200"}};function Wo({icon:e,label:t,value:r,helperText:n,tone:s="emerald"}){const i=X5[s];return l.jsx("div",{className:`group rounded-2xl border border-slate-100 bg-white p-4 shadow-sm ring-1 transition hover:-translate-y-0.5 hover:shadow-md dark:border-slate-800 dark:bg-slate-900/60 ${i.ring}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:[l.jsx("span",{className:`inline-flex h-8 w-8 items-center justify-center rounded-xl ${i.pillBg}`,children:l.jsx("span",{className:i.icon,children:e})}),l.jsx("span",{className:"truncate",children:t})]}),l.jsx("div",{className:`mt-2 text-3xl font-bold leading-none ${i.value}`,children:r}),n&&l.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n})]}),l.jsx("span",{className:`mt-1 hidden rounded-full px-2 py-1 text-[11px] font-semibold sm:inline-flex ${i.pillBg} ${i.pillText}`,children:""})]})})}function Z5(){const{user:e}=Ue(),{recipes:t}=ir(),r=we();if(!e||e.type!=="Nutritionist")return null;const n=e.profile||{},s=w.useMemo(()=>t.filter(o=>o.authorId===e.id),[t,e.id]),i=w.useMemo(()=>s.reduce((o,c)=>o+c.reviews.length,0),[s]),a=w.useMemo(()=>{const o=s.reduce((c,u)=>c+u.rating,0);return s.length?o/s.length:0},[s]);return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[l.jsx(Wo,{icon:l.jsx(WN,{className:"h-4 w-4"}),label:r.profile.publishedRecipes,value:s.length,helperText:s.length?void 0:r.profile.noRecipesYet,tone:"emerald"}),l.jsx(Wo,{icon:l.jsx(hb,{className:"h-4 w-4"}),label:r.profile.totalReviews,value:i,tone:"sky"}),l.jsx(Wo,{icon:l.jsx(db,{className:"h-4 w-4"}),label:r.profile.averageRating,value:a.toFixed(1),helperText:s.length?void 0:r.profile.publishToGetReviews??void 0,tone:"amber"}),l.jsx(Wo,{icon:l.jsx(sb,{className:"h-4 w-4"}),label:r.profile.experience,value:n.experience||"N/A",tone:"slate"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-end justify-between gap-4",children:[l.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:r.profile.myRecipes}),s.length>0&&l.jsx(Ma,{to:"/perfil?tab=recipes",className:"text-xs font-semibold text-emerald-700 hover:underline dark:text-emerald-300",children:r.profile.viewAll??r.common.search})]}),s.length===0?l.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center dark:border-slate-800 dark:bg-slate-900/40",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:r.profile.noRecipesYet}),l.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:r.profile.publishFirstRecipe??"Publish your first recipe to start receiving reviews."})]}):l.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.slice(-3).reverse().map(o=>l.jsxs(Ma,{to:`/receita/${o.id}`,className:"group flex items-center gap-4 rounded-xl border border-slate-100 bg-white p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md dark:border-slate-800 dark:bg-slate-900/60",children:[l.jsx("img",{src:o.image,alt:o.title,loading:"lazy",className:"h-16 w-16 rounded-lg object-cover ring-1 ring-slate-200/40 dark:ring-slate-800/50"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h4",{className:"truncate text-sm font-semibold text-slate-900 group-hover:text-emerald-700 dark:text-slate-50 dark:group-hover:text-emerald-300",children:o.title}),l.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[l.jsxs("span",{children:[" ",o.rating.toFixed(1)]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[o.reviews.length," ",r.recipe.reviews]})]})]})]},o.id))})]})]})}function e3({onBackToRecipes:e}){var f,m,v,y,b,p;const{user:t}=Ue(),{message:r,type:n,hideToast:s}=re(),i=we(),a=i.buttons.BackToRecipes,o=(t==null?void 0:t.type)==="Client",c=(f=i.profile)==null?void 0:f.title,u=(m=i.profile)==null?void 0:m.subtitle,d=o?(v=i.profile)==null?void 0:v.overviewClient:(y=i.profile)==null?void 0:y.overviewNutritionist,h=o?(b=i.profile)==null?void 0:b.overviewClientDescription:(p=i.profile)==null?void 0:p.overviewNutritionistDescription;return l.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[e&&l.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-sm font-medium text-emerald-700 transition-colors hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-200 dark:hover:bg-emerald-900/50",children:[l.jsx(Ja,{className:"h-4 w-4"}),l.jsx("span",{children:a})]}),t&&l.jsx("span",{className:"ml-auto inline-flex items-center rounded-full border border-emerald-100 bg-emerald-50 px-3 py-1 text-xs font-semibold uppercase tracking-[0.12em] text-emerald-700 dark:border-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200",children:o?i.profile.client:i.profile.nutricionist})]}),l.jsxs("header",{className:"mb-8 space-y-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50 sm:text-3xl",children:c}),l.jsx("p",{className:"max-w-2xl text-sm text-slate-500 dark:text-slate-400 sm:text-base",children:u})]}),l.jsxs("div",{className:"space-y-10",children:[l.jsx(V5,{}),l.jsxs("section",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 sm:text-xl",children:d}),l.jsx("p",{className:"max-w-2xl text-sm text-slate-500 dark:text-slate-400",children:h})]}),o?l.jsx(Q5,{}):l.jsx(Z5,{}),l.jsx("div",{className:"border-t border-slate-100 pt-6 dark:border-slate-800",children:l.jsx(J5,{})})]})]}),r&&l.jsx(S1,{message:r,type:n,onClose:s})]})}function t3(){const e=kt();return l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(e3,{onBackToRecipes:()=>e("/")})})})}function r3({recipe:e,isOpen:t,onClose:r}){const{updateRecipe:n}=ir(),s=we(),[i,a]=w.useState(!1),[o,c]=w.useState(e);if(!t)return null;const u=async L=>{L.preventDefault(),a(!0);try{await n(o),r()}catch(D){console.error("Error updating recipe:",D)}finally{a(!1)}},d=(L,D,de)=>{c(fe=>({...fe,[L]:fe[L].map((te,le)=>le===D?de:te)}))},h=L=>{c(D=>({...D,[L]:[...D[L],""]}))},f=(L,D)=>{c(de=>({...de,[L]:de[L].filter((fe,te)=>te!==D)}))},m=(L,D)=>{const de=parseFloat(D)||0;c(fe=>({...fe,nutritionFacts:{...fe.nutritionFacts,[L]:de}}))},v=s.recipe.edit||"Editar Receita",y=s.recipe.recipeTitle,b=s.recipe.recipeDescription,p=s.recipe.recipeImageURL,g=s.recipe.prepTime,x=s.recipe.difficulty,_=s.recipe.recipeCategory,k=s.recipe.ingredients,T=s.recipe.instructions,j=s.recipe.nutritionFacts,E=s.recipe.addIngredient,C=s.recipe.addStep,R=Object.keys(s.categories).map(L=>({value:L,label:s.categories[L]}));return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:l.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-xl bg-white dark:bg-slate-900 border border-slate-200/80 dark:border-slate-800 shadow-xl",children:[l.jsxs("button",{onClick:r,className:"absolute right-4 top-4 inline-flex h-8 w-8 items-center justify-center rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-700 dark:hover:bg-slate-800",children:[l.jsx(tr,{className:"w-5 h-5"}),l.jsx("span",{className:"sr-only",children:s.common.close})]}),l.jsxs("div",{className:"px-6 pt-5 pb-4 border-b border-slate-100 dark:border-slate-800",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-900 dark:text-slate-50",children:v}),l.jsx("p",{className:"mt-1 text-base text-slate-500 dark:text-slate-400",children:s.recipe.details})]}),l.jsxs("form",{onSubmit:u,className:"px-6 pb-6 pt-4 space-y-6 text-base",children:[l.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:y}),l.jsx("input",{type:"text",value:o.title,onChange:L=>c(D=>({...D,title:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:p}),l.jsx("input",{type:"url",value:o.image,onChange:L=>c(D=>({...D,image:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:b}),l.jsx("textarea",{value:o.description,onChange:L=>c(D=>({...D,description:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",rows:3,required:!0})]}),l.jsxs("div",{className:"grid gap-5 md:grid-cols-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:g}),l.jsx("input",{type:"number",value:o.prepTime,onChange:L=>c(D=>({...D,prepTime:Number(L.target.value)})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",min:1,required:!0})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:x}),l.jsxs("select",{value:o.difficulty,onChange:L=>c(D=>({...D,difficulty:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0,children:[l.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),l.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),l.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-base font-medium text-slate-700 dark:text-slate-100",children:_}),l.jsx("select",{value:o.category,onChange:L=>c(D=>({...D,category:L.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",required:!0,children:R.map(L=>l.jsx("option",{value:L.value,children:L.label},L.value))})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:k}),l.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"inline-flex items-center gap-1 text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:[l.jsx(si,{className:"w-4 h-4"}),E]})]}),l.jsx("div",{className:"space-y-2",children:o.ingredients.map((L,D)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:L,onChange:de=>d("ingredients",D,de.target.value),className:"flex-1 rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",placeholder:s.recipe.example,required:!0}),l.jsx("button",{type:"button",onClick:()=>f("ingredients",D),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 px-2 text-slate-400 hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(zl,{className:"w-4 h-4"})})]},D))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:T}),l.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"inline-flex items-center gap-1 text-sm font-medium text-emerald-600 hover:text-emerald-700 dark:text-emerald-400 dark:hover:text-emerald-300",children:[l.jsx(si,{className:"w-4 h-4"}),C]})]}),l.jsx("div",{className:"space-y-2",children:o.instructions.map((L,D)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:L,onChange:de=>d("instructions",D,de.target.value),className:"flex-1 rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",placeholder:`${s.recipe.Step} ${D+1}`,required:!0}),l.jsx("button",{type:"button",onClick:()=>f("instructions",D),className:"inline-flex items-center justify-center rounded-lg border border-slate-200 px-2 text-slate-400 hover:bg-red-50 hover:text-red-500 dark:border-slate-700 dark:hover:bg-red-950/40 dark:hover:text-red-300",children:l.jsx(zl,{className:"w-4 h-4"})})]},D))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-100",children:j}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(o.nutritionFacts).map(([L,D])=>{const de=L;return l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-200",children:s.profile.nutritionGoalsnames[de]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:D,onChange:fe=>m(L,fe.target.value),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-base text-slate-900 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50",placeholder:"0.00",required:!0})]},L)})})]}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",disabled:i,className:ee("inline-flex w-full items-center justify-center rounded-lg bg-emerald-600 px-4 py-3 text-base font-semibold text-white transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-400",i&&"opacity-80"),children:i?s.common.loading:s.common.save})})]})]})})}function n3({recipe:e,onClose:t}){const[r,n]=w.useState({rating:5,comment:""}),[s,i]=w.useState(null),[a,o]=w.useState(!1),[c,u]=w.useState(!1),[d,h]=w.useState(1),[f,m]=w.useState(()=>{const z=new Date,he=z.getFullYear(),Ur=String(z.getMonth()+1).padStart(2,"0"),Wt=String(z.getDate()).padStart(2,"0");return`${he}-${Ur}-${Wt}`}),{user:v,isAuthenticated:y}=Ue(),{favoriteRecipes:b,addToFavorites:p,removeFromFavorites:g,addReview:x,updateReview:_,deleteReview:k,deleteRecipe:T}=ir(),{addRecipeToLog:j}=$c(),{showToast:E}=re(),C=we(),L=C.recipe.difficultyLevels[e.difficulty]||e.difficulty,D=C.categories,fe=(z=>{const he={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},Ur=z.toLowerCase().replace(/\s+/g,""),Wt=Object.keys(he).find(Vr=>Vr.toLowerCase().replace(/\s+/g,"")===Ur);return Wt?D[he[Wt]]:D[z]||z})(e.category),te=b.includes(e.id),le=(v==null?void 0:v.id)===e.authorId,Q=async z=>{if(z.preventDefault(),!!v)try{await x(e.id,{userId:v.id,userName:v.name,rating:r.rating,comment:r.comment,date:new Date().toISOString().split("T")[0]}),n({rating:5,comment:""})}catch(he){console.error("Error adding review:",he)}},A=async z=>{if(z.preventDefault(),!!s)try{await _(s.id,{rating:s.rating,comment:s.comment}),i(null)}catch(he){console.error("Error updating review:",he)}},F=async z=>{if(window.confirm(C.recipe.deleteReviewConfirm||"Tem certeza que deseja excluir esta avaliao?"))try{await k(z)}catch(he){console.error("Error deleting review:",he)}},V=async()=>{window.confirm(C.recipe.deleteConfirm)&&(await T(e.id),t())},J=z=>Number(z).toFixed(1),ge=z=>new Date(z).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),Ve=()=>{const z=C.recipe.noReviews||"Sem avaliaes",he=C.recipe.reviewSingular||"avaliao",Ur=C.recipe.reviewPlural||"avaliaes";if(e.rating===0||!e.rating||e.reviews.length===0)return z;const Wt=e.reviews.length===1?he:Ur;return`${e.rating.toFixed(1)} (${e.reviews.length} ${Wt})`},ke=e.ingredients.length===1?C.recipe.ingredientsCountSingular||"item":C.recipe.ingredientsCountPlural||"itens",jt=e.reviews.find(z=>z.userId===(v==null?void 0:v.id)),mt=y&&!jt;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm overflow-y-auto z-50",children:l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 py-8",children:l.jsxs("div",{className:"relative max-w-6xl w-full",children:[l.jsx("div",{className:"absolute -top-10 right-0 hidden md:block text-xs uppercase tracking-wider text-gray-400 dark:text-gray-500 font-medium",children:C.recipe.details||"Detalhes da receita"}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 md:px-8 pt-5 pb-4 border-b border-gray-200 dark:border-gray-800",children:[l.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:C.recipe.recipe||"Receita"}),l.jsx("button",{onClick:t,className:"inline-flex items-center justify-center rounded-lg p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":C.common.close||"Fechar",children:l.jsx(tr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"px-6 md:px-8 pb-8 pt-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-xl shadow-md border border-gray-200 dark:border-gray-700"}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-t from-black/40 via-transparent to-transparent"}),l.jsxs("div",{className:"absolute bottom-3 left-3 inline-flex items-center gap-2 rounded-lg bg-white/90 dark:bg-gray-900/90 px-3 py-2 text-sm font-semibold shadow-lg backdrop-blur-sm",children:[l.jsx(yn,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),l.jsx("span",{className:"text-gray-900 dark:text-white",children:fe})]})]}),l.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-4 rounded-xl border border-emerald-100 dark:border-emerald-800/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40",children:l.jsx(xr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-0.5",children:C.recipe.author||"Autor"}),l.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:e.authorName||"Usurio"})]})]}),l.jsx("span",{className:"inline-flex items-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40 px-2.5 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-700 dark:text-emerald-300",children:e.authorType==="Nutritionist"?C.profile.nutricionist:C.profile.client})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-300 bg-white/50 dark:bg-black/10 rounded-lg px-3 py-2",children:[l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(qN,{className:"w-3.5 h-3.5"}),C.recipe.postedOn||"Postado em"]}),l.jsx("span",{className:"font-semibold",children:ge(e.createdAt)})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-5 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-9 h-9 rounded-lg bg-emerald-50 dark:bg-emerald-900/30",children:l.jsx(Vl,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),C.recipe.ingredients]}),l.jsxs("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2.5 py-1 rounded-lg",children:[e.ingredients.length," ",ke]})]}),l.jsx("ul",{className:"space-y-2",children:e.ingredients.map((z,he)=>l.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-200 leading-relaxed",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 text-xs font-semibold mt-0.5",children:he+1}),l.jsx("span",{className:"flex-1",children:z})]},he))})]})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"flex justify-between items-start gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white leading-tight mb-3",children:e.title}),l.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:l.jsxs("span",{className:"inline-flex items-center gap-2 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-3 py-1.5 text-sm font-semibold",children:[l.jsx(yn,{className:"w-4 h-4"}),fe]})})]}),l.jsxs("div",{className:"flex gap-1.5",children:[y&&l.jsx("button",{onClick:()=>te?g(e.id):p(e.id),className:ee("p-2.5 rounded-full border text-base shadow-sm transition-all",te?"border-red-300 bg-red-50 text-red-500 dark:border-red-700/60 dark:bg-red-900/30":"border-gray-200 bg-white text-gray-400 hover:text-red-500 hover:border-red-200 dark:bg-gray-900 dark:border-gray-700"),children:l.jsx(Qa,{className:ee("w-5 h-5",te&&"fill-current")})}),(v==null?void 0:v.type)==="Client"&&l.jsx("button",{onClick:()=>u(!0),className:"p-2.5 border rounded-xl transition-all duration-200 border-gray-200 bg-white text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-emerald-900/20 dark:hover:border-emerald-700",title:C.profile.addToDiary??"Adicionar ao dirio",children:l.jsx(c2,{className:"w-5 h-5"})}),le&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>o(!0),className:"p-2.5 rounded-full border border-blue-200 bg-blue-50 text-blue-500 hover:bg-blue-100 shadow-sm transition-colors dark:bg-blue-900/30 dark:border-blue-700/60 dark:hover:bg-blue-900/50",title:C.recipe.edit,children:l.jsx(g2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:V,className:"p-2.5 rounded-full border border-red-200 bg-red-50 text-red-500 hover:bg-red-100 shadow-sm transition-colors dark:bg-red-900/30 dark:border-red-700/60 dark:hover:bg-red-900/50",title:C.recipe.delete,children:l.jsx(Ul,{className:"w-4 h-4"})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-800/30",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(ls,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:C.labels.time})]}),l.jsxs("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[e.prepTime,"min"]})]}),l.jsxs("div",{className:ee("p-3 rounded-lg border",e.difficulty==="easy"&&"bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-100 dark:border-emerald-800/30",e.difficulty==="medium"&&"bg-amber-50/50 dark:bg-amber-900/10 border-amber-100 dark:border-amber-800/30",e.difficulty==="hard"&&"bg-red-50/50 dark:bg-red-900/10 border-red-100 dark:border-red-800/30"),children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(yn,{className:ee("w-4 h-4",e.difficulty==="easy"&&"text-emerald-600 dark:text-emerald-400",e.difficulty==="medium"&&"text-amber-600 dark:text-amber-400",e.difficulty==="hard"&&"text-red-600 dark:text-red-400")}),l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:C.labels.level})]}),l.jsx("span",{className:ee("text-base font-bold capitalize",e.difficulty==="easy"&&"text-emerald-700 dark:text-emerald-300",e.difficulty==="medium"&&"text-amber-700 dark:text-amber-300",e.difficulty==="hard"&&"text-red-700 dark:text-red-300"),children:L})]}),l.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-3 rounded-lg border border-amber-100 dark:border-amber-800/30",children:[l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsx(pr,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),l.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:C.labels.rating})]}),l.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Ve()})]})]}),l.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/30 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:l.jsx("p",{className:"text-base text-gray-700 dark:text-gray-200 leading-relaxed",children:e.description})}),l.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 p-5 rounded-xl border border-emerald-100 dark:border-emerald-800/30",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-100 dark:bg-emerald-900/40",children:l.jsx(pr,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),C.recipe.nutritionFacts]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.calories}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[J(e.nutritionFacts.calories),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"kcal"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.protein}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[J(e.nutritionFacts.protein),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.carbs}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[J(e.nutritionFacts.carbs),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.fat}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[J(e.nutritionFacts.fat),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-3 rounded-lg border border-gray-200 dark:border-gray-700 col-span-2",children:[l.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:C.profile.nutritionGoalsnames.fiber}),l.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[J(e.nutritionFacts.fiber),l.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"g"})]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-5 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-lg bg-emerald-50 dark:bg-emerald-900/30",children:l.jsx(Vl,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),C.recipe.instructions]}),l.jsx("ol",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:e.instructions.map((z,he)=>l.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 dark:text-gray-200 leading-relaxed",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 text-xs font-semibold mt-0.5",children:he+1}),l.jsx("span",{className:"flex-1",children:z})]},he))})]})]})]}),l.jsxs("div",{className:"mt-10 space-y-6 border-t border-gray-100 dark:border-gray-800 pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(pr,{className:"w-5 h-5 text-yellow-400"}),C.recipe.reviews," (",e.reviews.length,")"]}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-500",children:Ve()})]}),mt&&l.jsxs("form",{onSubmit:Q,className:ee("rounded-xl p-4 space-y-3","bg-emerald-50/80 shadow-sm ring-1 ring-emerald-100","dark:bg-gray-900/50 dark:ring-0 dark:border-l-4 dark:border-emerald-500/80"),children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:C.recipe.addReviewTitle}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-base text-gray-700 dark:text-gray-300",children:[C.recipe.rating,":"]}),[1,2,3,4,5].map(z=>l.jsx("button",{type:"button",onClick:()=>n(he=>({...he,rating:z})),className:ee("text-3xl transition-colors",z<=r.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},z))]}),l.jsx("textarea",{value:r.comment,onChange:z=>n(he=>({...he,comment:z.target.value})),placeholder:C.recipe.writeReview,className:"w-full p-3 rounded-lg text-base placeholder:text-gray-500 bg-white border border-gray-300 text-gray-900 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100",rows:4,required:!0}),l.jsx("button",{type:"submit",className:"inline-flex px-5 py-2.5 bg-emerald-600 text-white text-base rounded-lg hover:bg-emerald-700 transition-colors font-semibold",children:C.recipe.submitReview})]}),s&&l.jsxs("form",{onSubmit:A,className:ee("rounded-xl p-4 space-y-3","bg-blue-50/80 ring-1 ring-blue-200 shadow-sm","dark:bg-blue-900/30 dark:ring-0 dark:border dark:border-blue-700/70"),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:C.recipe.editReviewTitle}),l.jsx("button",{type:"button",onClick:()=>i(null),className:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:l.jsx(tr,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-base text-gray-700 dark:text-gray-300",children:C.recipe.reviewLabel||"Avaliao:"}),[1,2,3,4,5].map(z=>l.jsx("button",{type:"button",onClick:()=>i(he=>he?{...he,rating:z}:null),className:ee("text-3xl transition-colors",z<=s.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},z))]}),l.jsx("textarea",{value:s.comment,onChange:z=>i(he=>he&&{...he,comment:z.target.value}),placeholder:C.recipe.writeReview,className:"w-full p-3 rounded-lg text-base placeholder:text-gray-500 bg-white border border-gray-300 text-gray-900 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100",rows:4,required:!0}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-600 text-white text-base rounded-lg hover:bg-blue-700 transition-colors",children:C.common.save}),l.jsx("button",{type:"button",onClick:()=>i(null),className:"px-5 py-2.5 text-base rounded-lg transition-colors bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",children:C.common.cancel})]})]}),!y&&l.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400",children:C.recipe.signInToReview}),l.jsx("div",{className:"space-y-3",children:e.reviews.length===0?l.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400",children:C.recipe.noReviews}):e.reviews.map(z=>{const he=(v==null?void 0:v.id)===z.userId;return l.jsxs("div",{className:ee("rounded-xl p-4 flex flex-col gap-1","bg-gray-50 shadow-sm ring-1 ring-gray-200","dark:bg-gray-900/50 dark:ring-0 dark:border dark:border-gray-800"),children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:z.userName}),l.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300",children:z.comment})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsx("div",{className:"flex items-center",children:[...Array(5)].map((Ur,Wt)=>l.jsx("span",{className:ee("text-xl",Wt<z.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:""},Wt))}),he&&l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>i({id:z.id,rating:z.rating,comment:z.comment}),className:"p-1.5 rounded transition-colors text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/40",title:C.recipe.editReview,children:l.jsx(o2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>F(z.id),className:"p-1.5 rounded transition-colors text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/40",title:C.recipe.deleteReview,children:l.jsx(Ul,{className:"w-4 h-4"})})]})]})]}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:z.date})]},z.id)})})]})]})]})]})})}),c&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-5 shadow-xl dark:bg-gray-900",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.profile.addToDiary??"Adicionar ao dirio"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:C.profile.addToDiaryHelper??"Registre esta receita no seu dia para acompanhar as metas."})]}),l.jsx("button",{onClick:()=>u(!1),className:"rounded-lg p-2 text-gray-500 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800","aria-label":C.common.close??"Fechar",children:l.jsx(tr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-200",children:C.profile.date??"Data"}),l.jsx("input",{type:"date",value:f,onChange:z=>m(z.target.value),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 outline-none focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-gray-200",children:C.profile.servings??"Pores"}),l.jsx("input",{type:"number",min:.1,step:.1,value:d,onChange:z=>h(Math.max(.1,Number(z.target.value)||1)),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 outline-none focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:C.profile.perServingHint??"Os valores nutricionais so multiplicados pelas pores."})]})]}),l.jsxs("div",{className:"mt-5 flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-200 dark:hover:bg-gray-900",children:C.common.cancel??"Cancelar"}),l.jsxs("button",{type:"button",onClick:()=>{j(e,d,f),E(C.profile.loggedToDiary??"Adicionado ao dirio.","success"),u(!1)},className:"flex-1 inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700",children:[l.jsx(ur,{className:"h-4 w-4"}),C.profile.confirmAdd??"Adicionar"]})]})]})}),a&&l.jsx(r3,{recipe:e,isOpen:a,onClose:()=>o(!1)})]})}function s3(){const e=kt(),{id:t}=Qx(),{recipes:r,loading:n,fetchRecipes:s}=ir(),[i,a]=w.useState(!1);w.useEffect(()=>{!i&&r.length===0?s().then(()=>a(!0)):a(!0)},[s,i,r.length]);const o=r.find(c=>c.id===parseInt(t||"0"));return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:l.jsx(cm,{size:"lg"})}):o?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(n3,{recipe:o,onClose:()=>e("/")})})}):l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Receita no encontrada"}),l.jsx("button",{onClick:()=>e("/"),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Voltar ao Incio"})]})})}var K0;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(K0||(K0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q0;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(q0||(q0={}));var Y0;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Y0||(Y0={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=["user","model","function","system"];var Zl;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Zl||(Zl={}));var ec;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(ec||(ec={}));var Q0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Q0||(Q0={}));var X0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(X0||(X0={}));var ha;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(ha||(ha={}));var Z0;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Z0||(Z0={}));var ey;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(ey||(ey={}));var ty;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ty||(ty={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class bs extends at{constructor(t,r){super(t),this.response=r}}class N1 extends at{constructor(t,r,n,s){super(t),this.status=r,this.statusText=n,this.errorDetails=s}}class vn extends at{}class C1 extends at{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="https://generativelanguage.googleapis.com",a3="v1beta",o3="0.24.1",l3="genai-js";var ss;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ss||(ss={}));class c3{constructor(t,r,n,s,i){this.model=t,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=i}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||a3;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||i3}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function u3(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${l3}/${o3}`),t.join(" ")}async function d3(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",u3(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new vn(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,i]of n.entries()){if(s==="x-goog-api-key")throw new vn(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new vn(`Header name ${s} can only be set using the apiClient field`);r.append(s,i)}}return r}async function h3(e,t,r,n,s,i){const a=new c3(e,t,r,n,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},g3(i)),{method:"POST",headers:await d3(a),body:s})}}async function lo(e,t,r,n,s,i={},a=fetch){const{url:o,fetchOptions:c}=await h3(e,t,r,n,s,i);return f3(o,c,a)}async function f3(e,t,r=fetch){let n;try{n=await r(e,t)}catch(s){m3(s,e)}return n.ok||await p3(n,e),n}function m3(e,t){let r=e;throw r.name==="AbortError"?(r=new C1(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof N1||e instanceof vn||(r=new at(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function p3(e,t){let r="",n;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new N1(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function g3(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),dl(e.candidates[0]))throw new bs(`${Zr(e)}`,e);return y3(e)}else if(e.promptFeedback)throw new bs(`Text not available. ${Zr(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),dl(e.candidates[0]))throw new bs(`${Zr(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ry(e)[0]}else if(e.promptFeedback)throw new bs(`Function call not available. ${Zr(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),dl(e.candidates[0]))throw new bs(`${Zr(e)}`,e);return ry(e)}else if(e.promptFeedback)throw new bs(`Function call not available. ${Zr(e)}`,e)},e}function y3(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function ry(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const v3=[ha.RECITATION,ha.SAFETY,ha.LANGUAGE];function dl(e){return!!e.finishReason&&v3.includes(e.finishReason)}function Zr(e){var t,r,n;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const i=e.candidates[0];dl(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Ua(e){return this instanceof Ua?(this.v=e,this):new Ua(e)}function x3(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(f){n[f]&&(s[f]=function(m){return new Promise(function(v,y){i.push([f,m,v,y])>1||o(f,m)})})}function o(f,m){try{c(n[f](m))}catch(v){h(i[0][3],v)}}function c(f){f.value instanceof Ua?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){o("next",f)}function d(f){o("throw",f)}function h(f,m){f(m),i.shift(),i.length&&o(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function b3(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=j3(t),[n,s]=r.tee();return{stream:k3(n),response:w3(s)}}async function w3(e){const t=[],r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return um(_3(t));t.push(s)}}function k3(e){return x3(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:s}=yield Ua(r.read());if(s)break;yield yield Ua(um(n))}})}function j3(e){const t=e.getReader();return new ReadableStream({start(n){let s="";return i();function i(){return t.read().then(({value:a,done:o})=>{if(o){if(s.trim()){n.error(new at("Failed to parse stream"));return}n.close();return}s+=a;let c=s.match(ny),u;for(;c;){try{u=JSON.parse(c[1])}catch{n.error(new at(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(u),s=s.substring(c[0].length),c=s.match(ny)}return i()}).catch(a=>{let o=a;throw o.stack=a.stack,o.name==="AbortError"?o=new C1("Request aborted when reading from the stream"):o=new at("Error reading from the stream"),o})}}})}function _3(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let s=0;for(const i of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=i.citationMetadata,r.candidates[s].groundingMetadata=i.groundingMetadata,r.candidates[s].finishReason=i.finishReason,r.candidates[s].finishMessage=i.finishMessage,r.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[s].content||(r.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const o of i.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[s].content.parts.push(a)}s++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(e,t,r,n){const s=await lo(t,ss.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return b3(s)}async function T1(e,t,r,n){const i=await(await lo(t,ss.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:um(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Va(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return S3(t)}function S3(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const i of e)"functionResponse"in i?(r.parts.push(i),s=!0):(t.parts.push(i),n=!0);if(n&&s)throw new at("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new at("No content is provided for sending chat message.");return n?t:r}function N3(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new vn("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const i=Va(e);n.contents=[i]}return{generateContentRequest:n}}function sy(e){let t;return e.contents?t=e:t={contents:[Va(e)]},e.systemInstruction&&(t.systemInstruction=P1(e.systemInstruction)),t}function C3(e){return typeof e=="string"||Array.isArray(e)?{content:Va(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],E3={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function T3(e){let t=!1;for(const r of e){const{role:n,parts:s}=r;if(!t&&n!=="user")throw new at(`First content should be with role 'user', got ${n}`);if(!J0.includes(n))throw new at(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(J0)}`);if(!Array.isArray(s))throw new at("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new at("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of s)for(const c of iy)c in o&&(i[c]+=1);const a=E3[n];for(const o of iy)if(!a.includes(o)&&i[o]>0)throw new at(`Content with role '${n}' can't contain '${o}' part`);t=!0}}function ay(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="SILENT_ERROR";class P3{constructor(t,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(T3(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,s,i,a,o,c;await this._sendPromise;const u=Va(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r);let f;return this._sendPromise=this._sendPromise.then(()=>T1(this._apiKey,this.model,d,h)).then(m=>{var v;if(ay(m.response)){this._history.push(u);const y=Object.assign({parts:[],role:"model"},(v=m.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(y)}else{const y=Zr(m.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}f=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,f}async sendMessageStream(t,r={}){var n,s,i,a,o,c;await this._sendPromise;const u=Va(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r),f=E1(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(m=>{throw new Error(oy)}).then(m=>m.response).then(m=>{if(ay(m)){this._history.push(u);const v=Object.assign({},m.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=Zr(m);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(m=>{m.message!==oy&&console.error(m)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(e,t,r,n){return(await lo(t,ss.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(e,t,r,n){return(await lo(t,ss.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function M3(e,t,r,n){const s=r.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await lo(t,ss.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=P1(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const s=sy(t),i=Object.assign(Object.assign({},this._requestOptions),r);return T1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}async generateContentStream(t,r={}){var n;const s=sy(t),i=Object.assign(Object.assign({},this._requestOptions),r);return E1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}startChat(t){var r;return new P3(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=N3(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return R3(this.apiKey,this.model,n,s)}async embedContent(t,r={}){const n=C3(t),s=Object.assign(Object.assign({},this._requestOptions),r);return A3(this.apiKey,this.model,n,s)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return M3(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new at("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new ly(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new vn("Cached content must contain a `name` field.");if(!t.model)throw new vn("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(r!=null&&r[a]&&t[a]&&(r==null?void 0:r[a])!==t[a]){if(a==="model"){const o=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===c)continue}throw new vn(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${t[a]})`)}const i=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new ly(this.apiKey,i,n)}}const L3="gemini-2.5-flash",D3=10,R1="AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",O3=new I3(R1);async function cy(e,t,r=[]){var n;try{const s=F3(t),i=$3(r,t),u=(await O3.getGenerativeModel({model:L3,systemInstruction:{role:"system",parts:[{text:s}]},safetySettings:[{category:Zl.HARM_CATEGORY_HARASSMENT,threshold:ec.BLOCK_MEDIUM_AND_ABOVE},{category:Zl.HARM_CATEGORY_HATE_SPEECH,threshold:ec.BLOCK_MEDIUM_AND_ABOVE}]}).startChat({history:i}).sendMessage(e)).response;return{content:(((n=u==null?void 0:u.text)==null?void 0:n.call(u))||"").trim()||"Oi! Como posso te ajudar hoje? Posso sugerir receitas por dificuldade (easy/medium/hard), tempo (ex.: at 30 min) e avaliao (ex.: 4.5+ )."}}catch(s){console.error("Erro ao chamar a API do Gemini:",s);let i="Desculpe, ocorreu um erro ao tentar processar sua solicitao. Tente novamente em alguns instantes.";return s instanceof Error&&(s.message.includes("API_KEY")?i="Erro de configurao da IA. Entre em contato com o suporte.":s.message.includes("quota")?i="Limite de uso da IA atingido. Tente novamente mais tarde.":(s.message.includes("network")||s.message.includes("fetch"))&&(i="Erro de conexo. Verifique sua internet e tente novamente.")),{content:i,error:s instanceof Error?s.message:"Unknown error"}}}function F3(e){return`
Voc  NutriBot, um assistente virtual geral do site NutriChefe.

Papel:
- Responder a QUALQUER pergunta do usurio (receitas, nutrio, treino/alimentao, curiosidades ou at que dia  hoje?).
- Quando a pergunta envolver receitas (fcil/medium/hard, vegana etc.), o backend aplica filtros e envia os cards; voc pode responder curto e encorajar refinamentos.
- Quando envolver metas nutricionais (emagrecimento, ganho de massa, definio etc.), oferea recomendaes prticas e seguras.

Estilo:
- Tom humano, acolhedor e objetivo. Sem texto robtico.
- Prefira listas curtas e exemplos prticos.
- Se algo estiver ambguo, faa no mximo 1 pergunta curta para destravar.

Boas prticas para nutrio:
- Emagrecimento: foco em dficit calrico sustentvel, protenas, fibras, hidratao e movimento dirio; evitar ultraprocessados e bebidas aucaradas.
- Ganho de massa: supervit leve, 1,62,2 g/kg/dia de protena distribuda, carboidratos suficientes para treino, sono e consistncia.
- Sempre adaptao  realidade do usurio; evite prescries fechadas.

Regras:
1) Orientao educativa  para plano individual, recomende consultar nutricionista.
2) No faa diagnstico mdico.
3) Responda em PT-BR por padro.
4) Mapeie dificuldade: fcil/fceiseasy, mdio/mdiamedium, difcil/difceishard (tambm em EN).
5) Se perguntarem a data/hora, use o contexto: hoje  ${new Intl.DateTimeFormat("pt-BR",{dateStyle:"full",timeStyle:"short",timeZone:"America/Sao_Paulo"}).format(new Date)} (America/Sao_Paulo).
  `.trim()}function $3(e,t){return e.slice(-D3).map(r=>({role:r.sender_type==="user"?"user":"model",parts:[{text:r.content}]}))}function z3(){return R1!=="your-api-key-here"}const U3={easy:["fcil","facil","fceis","faceis","facinha","facinho","facinhas","facinhos","simples","iniciante","tranquila","descomplicada","easy","simple","beginner","quick"],medium:["mdio","medio","intermedirio","intermediario","mdia","mediana","medium","average","intermediate","normal"],hard:["difcil","dificil","difceis","dificeis","avanado","avancado","complexo","trabalhosa","desafiadora","hard","difficult","advanced","complex","challenging"]},A1=["Vegana","Baixo Carboidrato","Rica em Protena","Sem Glten","Vegetariana"],M1={Vegana:["vegana","vegano","vegan"],"Baixo Carboidrato":["baixo carboidrato","low carb","pouco carbo","baixo carb","lowcarb"],"Rica em Protena":["rica em protena","muita proteina","alta protena","alto teor proteico","proteica","proteinado","protein rich","high protein"],"Sem Glten":["sem glten","sem gluten","gluten free","sg","livre de glten"],Vegetariana:["vegetariana","vegetariano","veggie","ovo-lacto","ovolacto","vegetarian"]},uy={vegan:"Vegana",vegetarian:"Vegetariana","gluten-free":"Sem Glten","gluten free":"Sem Glten","low carb":"Baixo Carboidrato","low-carb":"Baixo Carboidrato","high protein":"Rica em Protena","protein rich":"Rica em Protena"},dy=/(\d+(?:[.,]\d+)?)/,V3=new Set(["receita","receitas","quero","queria","gostaria","me","mostra","mostrar","mostre","traga","trazer","uma","umas","um","uns","de","do","da","no","na","em","pra","para","por","a","o","as","os","ai","ia","porfavor","por","favor"]);function B3(e){const t=e.replace(/-/g,"").slice(0,8);return parseInt(t,16)}function H3(e){return e==null?"":typeof e=="string"?e:String(e)}function rr(e){return H3(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim()}function hh(e){return e==null||Number.isNaN(e)?0:Math.round(Number(e)*10)/10}function G3(e){if(!(e!=null&&e.length))return 0;const t=e.reduce((r,n)=>r+(n.rating??0),0)/e.length;return hh(t)}function W3(e){const t=(typeof e.rating=="number"?e.rating:G3(e.reviews))||0;return{id:B3(e.id),title:e.title,description:e.description,author:e.author_name||"NutriChefe",rating:t}}function I1(e){const t=rr(e).trim();if(uy[t])return uy[t];for(const r of A1)if(M1[r].map(rr).some(s=>t===s||t.includes(s)||s.includes(t)))return r;return null}function K3(e){const t=rr(e);return t==="easy"||t==="medium"||t==="hard"?t:/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||t.includes("simples")?"easy":/\bmedi/.test(t)?"medium":/\bdific/.test(t)||/\bhard\b/.test(t)||/\bdifficult\b/.test(t)?"hard":"medium"}function q3(e){const t=e.match(/\b(top|s[o]|somente|apenas|mostrar|mostra|traga|trazer)?\s*(\d{1,3})\b/);if(!t)return;const r=parseInt(t[2],10);if(!(!Number.isFinite(r)||r<=0))return Math.min(r,100)}function Y3(e){if(/\b(nota|avalia|melhores|melhor|maior(es)? nota|rank|mais bem avaliadas?)\b/.test(e))return"rating";if(/\btempo|rapidez|mais r[a]pidas?|r[a]pido(s)? primeiro\b/.test(e))return"prepTime";if(/\bnovo(s)?|recent(es)?|mais recente(s)?\b/.test(e))return"newest"}function J3(e){const t=rr(e).split(/\s+/).filter(Boolean).filter(r=>!V3.has(r)).join(" ").trim();if(!(!t||t.length<=2))return t}function Q3(e){const t=rr(e),r={};for(const a of A1)if(M1[a].map(rr).some(c=>t.includes(c))){r.category=a;break}for(const[a,o]of Object.entries(U3))if(o.some(c=>t.includes(rr(c)))){r.difficulty=a;break}r.difficulty||(/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||/\beasy\b|\bsimple\b/.test(t)?r.difficulty="easy":/\bm[e]di[oa]\b|\bmedium\b/.test(t)?r.difficulty="medium":/\bdific(?:eis|il)\b|\bhard\b|\bdifficult\b/.test(t)&&(r.difficulty="hard")),(/\br[a]pid[oa]s?\b/.test(t)||/\b<=?\s*15\b/.test(t))&&(r.maxPrep=15),(/\bm[e]di[oa]\b/.test(t)||/\b<=?\s*30\b/.test(t))&&(r.maxPrep=r.maxPrep??30),/\blongo?s?\b|\b>?\s*30\b/.test(t)&&(r.minPrep=31);const n=t.match(new RegExp(`\\b(em|ate|at|<=?)\\s*${dy.source}\\s*(min|mins|minutos)\\b`));if(n){const a=parseFloat(n[2].replace(",","."));isNaN(a)||(r.maxPrep=Math.min(r.maxPrep??1/0,a))}const s=t.match(new RegExp(`${dy.source}\\s*(\\+|mais)?\\s*(\\*|estrela|estrelas)?`));if(s){const a=parseFloat(s[1].replace(",","."));!isNaN(a)&&a>=0&&a<=5&&(/\+|mais/.test(s[2]||"")||/estrela|\*/.test(s[3]||""))&&(r.minRating=a)}/\b4\+\b/.test(t)&&(r.minRating=Math.max(r.minRating??0,4)),/\b4[.,]5\+\b/.test(t)&&(r.minRating=Math.max(r.minRating??0,4.5)),/\b5\s*(\*|estrelas?)?\b/.test(t)&&(r.minRating=5),/\btod[ao]s?\b|\bqualquer\b/.test(t)&&(r.wantAll=!0),r.limit=q3(t)??void 0,r.sort=Y3(t)??void 0,r.hasStructuredFilter=!!(r.category||r.difficulty||r.maxPrep||r.minPrep||r.minRating);const i=J3(e);return!r.hasStructuredFilter&&i&&(r.plainSearch=i),r}async function X3(){const{data:e,error:t}=await B.from("recipes").select("id, title, description, image, prep_time, difficulty, category, rating, nutrition_facts, author_id, created_at, updated_at");if(t)throw t;const r=e||[];if(r.length===0)return[];const n=Array.from(new Set(r.map(u=>u.author_id).filter(Boolean)));let s={};if(n.length>0){const{data:u}=await B.from("profiles").select("id, full_name").in("id",n);u&&(s=Object.fromEntries(u.map(d=>[d.id,d.full_name||"NutriChefe"])))}const i=r.map(u=>u.id),{data:a}=await B.from("reviews").select("recipe_id, rating").in("recipe_id",i),o={};if(a&&a.length)for(const u of a)o[u.recipe_id]||(o[u.recipe_id]={sum:0,count:0}),o[u.recipe_id].sum+=u.rating??0,o[u.recipe_id].count+=1;return r.map(u=>{const d=o[u.id];let h=null;if(d&&d.count>0)h=hh(d.sum/d.count);else if(u.rating!==null&&u.rating!==void 0){const m=Number(u.rating);h=Number.isFinite(m)&&m>0?hh(m):null}const f=I1(u.category)??u.category;return{id:u.id,title:u.title,description:u.description,image:u.image,prep_time:u.prep_time,difficulty:K3(u.difficulty),category:f,rating:h,author_id:u.author_id,author_name:u.author_id&&s[u.author_id]?s[u.author_id]:"NutriChefe",nutrition_facts:u.nutrition_facts||null,reviews:[],created_at:u.created_at,updated_at:u.updated_at}})}function L1(e,t){let r=e.slice();if(t.category&&(r=r.filter(n=>(I1(n.category)??n.category)===t.category)),t.difficulty&&(r=r.filter(n=>n.difficulty===t.difficulty)),typeof t.maxPrep=="number"&&(r=r.filter(n=>n.prep_time<=t.maxPrep)),typeof t.minPrep=="number"&&(r=r.filter(n=>n.prep_time>=t.minPrep)),typeof t.minRating=="number"&&(r=r.filter(n=>(typeof n.rating=="number"?n.rating:0)>=t.minRating)),t.plainSearch){const n=rr(t.plainSearch);r=r.filter(s=>rr(s.title).includes(n)||rr(s.description||"").includes(n))}return r}function Z3(e,t){const r=e.slice();return t==="prepTime"?r.sort((n,s)=>n.prep_time-s.prep_time||(s.rating??0)-(n.rating??0)):t==="newest"?r.sort((n,s)=>new Date(s.created_at||0).getTime()-new Date(n.created_at||0).getTime()):r.sort((n,s)=>{const i=n.rating??0,a=s.rating??0;return a!==i?a-i:n.prep_time-s.prep_time}),r}function eM(e,t=12){return e.slice(0,t).map(W3)}function tM(e,t){const r=[n=>{typeof n.minRating=="number"&&delete n.minRating},n=>{typeof n.maxPrep=="number"&&delete n.maxPrep},n=>{n.category&&delete n.category},n=>{n.difficulty&&delete n.difficulty}];for(const n of r){const s={...t};n(s);const i=L1(e,s);if(i.length>0)return{list:i}}return{list:e.slice()}}function rM(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Math.abs(t)}function Vu(e,t=0){if(!e.length)return e[0];const r=t%e.length;return e[r]}function nM(e){const t=e.filter(Boolean);return t.length===0?"":t.length===1?t[0]:t.length===2?`${t[0]} e ${t[1]}`:`${t.slice(0,-1).join(", ")} e ${t[t.length-1]}`}function sM(e,t){const{f0:r,shown:n,matchedExactly:s,sortKey:i}=t,a=rM(e),o=[];r.category&&o.push(r.category),r.difficulty&&o.push(r.difficulty==="easy"?"fceis":r.difficulty==="medium"?"mdias":"difceis"),typeof r.maxPrep=="number"&&o.push(`at ${r.maxPrep} min`),typeof r.minRating=="number"&&o.push(`${r.minRating}+ `),i==="prepTime"&&o.push("mais rpidas primeiro"),i==="newest"&&o.push("mais recentes"),i==="rating"&&o.push("bem avaliadas");const c=nM(o),u=typeof r.limit=="number",d=[`Separei estas ${c?`**${c}**`:"opes"} pra voc:`,`Olha s algumas ideias ${c?`**${c}**`:""}:`,`Que tal comear por estas ${c?`**${c}**`:"sugestes"}:`],h=["Separei algumas das favoritas do pessoal:","Aqui vo algumas ideias legais do nosso acervo:","Peguei algumas sugestes que costumam agradar:"],v=[!!r.difficulty&&!r.category&&typeof r.maxPrep!="number"&&typeof r.minPrep!="number"&&typeof r.minRating!="number"||r.category||r.maxPrep||r.minRating||i?Vu(d,a):Vu(h,a)];if(u?v.push(n<(r.limit??n)?`Consegui **${n}** no momento.`:`Mostrando **${n}** como voc pediu.`):!r.hasStructuredFilter&&!r.plainSearch&&v.push(`Mostrando ${n}.`),!s&&n>0&&!u){const y=["Ajustei um pouquinho os critrios pra ampliar as ideias.","Dei uma flexionada nos filtros pra te trazer opes parecidas.","Expandi levemente os critrios pra no te deixar na mo."];v.push(Vu(y,a))}return v.join(`
`)}async function hy(e){const t=Q3(e),r=await X3();let s=L1(r,t),i=s.length>0;s.length===0&&(s=tM(r,t).list,i=!1);const a=!t.hasStructuredFilter&&!t.plainSearch;let o=t.sort??(a?"rating":void 0);!t.sort&&t.difficulty==="easy"&&(o="prepTime"),!t.sort&&t.difficulty==="hard"&&(o="rating");const c=t.limit??(t.wantAll?100:12),u=Z3(s,o),d=eM(u,c);return d.length===0?{content:"No pintou nada com esses critrios. Quer tentar vegana fcil, rpida 4.5+ ou sem glten em 15 min?",recipes:[],suggestions:["receitas fceis","vegana rpida","rica em protena 5"]}:{content:sM(e,{f0:t,shown:d.length,total:s.length,matchedExactly:i,sortKey:o}),recipes:d,suggestions:d.length<5?["receitas rpidas","vegana fcil","5 "]:[]}}async function fy(e){const{data:t,error:r}=await B.from("ai_configurations").select("*").eq("nutritionist_id",e).single();if(r&&r.code!=="PGRST116")throw r;return t}async function iM(e){const{data:t,error:r}=await B.from("ai_configurations").insert([e]).select().single();if(r)throw r;return t}async function aM(e,t){const{data:r,error:n}=await B.from("ai_configurations").update(t).eq("id",e).select().single();if(n)throw n;return r}async function oM(e){let t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{throw new Error("createAIConversation: payload invlido (string no  JSON)")}const r={client_id:t.client_id,nutritionist_id:t.nutritionist_id??null,ai_config_id:t.ai_config_id??null,title:t.title??"Nova conversa com IA",is_active:t.is_active??!0},{data:n,error:s}=await B.from("ai_conversations").insert([r]).select("*").single();if(s)throw s;return n}async function lM(e){const{data:t,error:r}=await B.from("ai_conversations").select("*").eq("client_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function cM(e){const{data:t,error:r}=await B.from("ai_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return t||[]}async function my(e){const{data:t,error:r}=await B.from("ai_messages").insert([e]).select().single();if(r)throw r;return t}function uM(e){const t=rr(e);return/\bemagrec|perder peso|perda de gordura|defini[c][a]o|definir|secar\b/.test(t)||/\bganhar massa|hipertrof|massa magra|bulking|volume\b/.test(t)}async function dM(e,t,r){let n="";typeof e=="string"?n=e:e&&typeof e=="object"&&"content"in e&&(n=String(e.content));const s=n.toLowerCase(),i=/\breceit|\bprato|\bingredient|\bvegana|\bgluten|\bcarbo|\bprote[i]na|\bfac(eis|il)|\bhard\b|\bdifficult\b|\bmedium\b/.test(s),a=uM(n);if(i&&a){const[c,u]=await Promise.all([hy(n),cy(`Contexto: o usurio quer sugestes voltadas para objetivo corporal/nutricional.
Pergunta: "${n}"
Responda de forma direta e til, em 35 bullets, incluindo:
- princpios prticos para o objetivo (emagrecer/ganhar massa);
- 24 ideias de refeies;
- lembrete curto de consultar nutricionista para plano individual.`)]);return{content:`${u.content}

${c.content}`,recipes:c.recipes,suggestions:c.suggestions}}return i?hy(n):{content:(await cy(n)).content,recipes:[],suggestions:[]}}const hM=zr((e,t)=>({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null,fetchAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await fy(r);e({aiConfig:n,loading:!1})}catch(n){console.error("Error fetching AI configuration:",n);const s=n instanceof Error?n.message:"Erro ao carregar configurao da IA";e({error:s,loading:!1})}},createAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await iM(r);e({aiConfig:n,loading:!1}),re.getState().showToast("Configurao da IA criada com sucesso!","success")}catch(n){console.error("Error creating AI configuration:",n);const s=n instanceof Error?n.message:"Erro ao criar configurao da IA";throw e({error:s,loading:!1}),re.getState().showToast("Erro ao criar configurao da IA","error"),n}},updateAIConfiguration:async(r,n)=>{e({loading:!0,error:null});try{const s=await aM(r,n);e({aiConfig:s,loading:!1}),re.getState().showToast("Configurao da IA atualizada com sucesso!","success")}catch(s){console.error("Error updating AI configuration:",s);const i=s instanceof Error?s.message:"Erro ao atualizar configurao da IA";throw e({error:i,loading:!1}),re.getState().showToast("Erro ao atualizar configurao da IA","error"),s}},fetchConversations:async r=>{e({loading:!0,error:null});try{const n=await lM(r);e({conversations:n,loading:!1})}catch(n){console.error("Error fetching conversations:",n);const s=n instanceof Error?n.message:"Erro ao carregar conversas";e({error:s,loading:!1})}},createConversation:async(r,n)=>{e({loading:!0,error:null});try{let s=null;if(n){const a=await fy(n);s=(a==null?void 0:a.id)||null}const i=await oM({client_id:r,nutritionist_id:n,ai_config_id:s,title:"Nova conversa com IA",is_active:!0});return e(a=>({conversations:[i,...a.conversations],currentConversation:i,loading:!1})),i}catch(s){console.error("Error creating conversation:",s);const i=s instanceof Error?s.message:"Erro ao criar conversa";throw e({error:i,loading:!1}),re.getState().showToast("Erro ao criar conversa","error"),s}},setCurrentConversation:r=>{e({currentConversation:r,messages:[]}),r&&t().fetchMessages(r.id)},fetchMessages:async r=>{e({loading:!0,error:null});try{const n=await cM(r);e({messages:n,loading:!1})}catch(n){console.error("Error fetching messages:",n);const s=n instanceof Error?n.message:"Erro ao carregar mensagens";e({error:s,loading:!1})}},sendMessage:async(r,n)=>{const{currentConversation:s}=t();if(s){e({sendingMessage:!0,error:null});try{const i=await my({conversation_id:r,sender_type:"user",content:n,metadata:{}});e(u=>({messages:[...u.messages,i]}));let a=t().aiConfig;if(!a&&s.ai_config_id){const{data:u}=await B.from("ai_configurations").select("*").eq("id",s.ai_config_id).single();a=u}const o=await dM(n,a||{id:"default",nutritionist_id:"default",ai_name:"NutriBot",personality:"empathetic",custom_instructions:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t().messages),c=await my({conversation_id:r,sender_type:"ai",content:o.content,metadata:{recipes:o.recipes,suggestions:o.suggestions}});e(u=>({messages:[...u.messages,c],sendingMessage:!1}))}catch(i){console.error("Error sending message:",i);const a=i instanceof Error?i.message:"Erro ao enviar mensagem";e({error:a,sendingMessage:!1}),re.getState().showToast("Erro ao enviar mensagem","error")}}},clearError:()=>e({error:null}),reset:()=>e({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null})}));function fM(){var x;const{user:e}=Ue(),{conversations:t,currentConversation:r,messages:n,sendingMessage:s,createConversation:i,setCurrentConversation:a,sendMessage:o,fetchMessages:c}=hM(),[u,d]=w.useState(""),h=w.useRef(null),f=w.useRef(null),m=we(),v=z3();w.useEffect(()=>{var _;(_=h.current)==null||_.scrollIntoView({behavior:"smooth"})},[n]),w.useEffect(()=>{!s&&f.current&&f.current.focus()},[s]);const y=async()=>{if(e)try{const _=await i(e.id);a(_)}catch(_){console.error("Error starting conversation:",_)}},b=async _=>{if(_.preventDefault(),!u.trim()||!r||s)return;const k=u.trim();d("");try{await o(r.id,k)}catch(T){console.error("Error sending message:",T),d(k)}},p=_=>_.split(`
`).map((k,T)=>{if(k.startsWith("# "))return l.jsx("h3",{className:"text-lg font-bold mt-4 mb-2",children:k.substring(2)},T);if(k.startsWith("## "))return l.jsx("h4",{className:"text-md font-semibold mt-3 mb-1",children:k.substring(3)},T);if(k.startsWith("- ")||k.startsWith(" "))return l.jsxs("div",{className:"flex items-start gap-2 my-1",children:[l.jsx("span",{className:"text-purple-500 mt-1",children:""}),l.jsx("span",{children:k.substring(2)})]},T);const j=k.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return k.trim()?l.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:j}},T):l.jsx("br",{},T)}),g=_=>l.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-purple-200 dark:border-purple-700 mt-3",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(yn,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:_.title}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:_.description}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(xr,{className:"w-3 h-3"}),_.author]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(pr,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),_.rating>0?_.rating.toFixed(1):m.recipe.noReviews]})]})]})]})});return r?l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:l.jsx(Wn,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white",children:((x=r.ai_config)==null?void 0:x.ai_name)||"NutriBot"}),l.jsx("p",{className:"text-purple-100 text-sm",children:m.aiChat.headerSubtitle})]})]})}),l.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[l.jsx(ro,{children:n.map(_=>{var k;return l.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:ee("flex gap-3",_.sender_type==="user"?"justify-end":"justify-start"),children:[_.sender_type==="ai"&&l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex-shrink-0",children:l.jsx(Wn,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:ee("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",_.sender_type==="user"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"),children:[l.jsx("div",{className:"text-sm",children:p(_.content)}),((k=_.metadata)==null?void 0:k.recipes)&&_.metadata.recipes.length>0&&l.jsx("div",{className:"mt-3 space-y-2",children:_.metadata.recipes.map((T,j)=>g(T))}),l.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(_.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),_.sender_type==="user"&&l.jsx("div",{className:"p-2 bg-green-600 rounded-full flex-shrink-0",children:l.jsx(xr,{className:"w-4 h-4 text-white"})})]},_.id)})}),s&&l.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full",children:l.jsx(Wn,{className:"w-4 h-4 text-white"})}),l.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cm,{size:"sm"}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.typing})]})})]}),l.jsx("div",{ref:h})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[l.jsxs("form",{onSubmit:b,className:"flex gap-3",children:[l.jsx("input",{ref:f,type:"text",value:u,onChange:_=>d(_.target.value),placeholder:m.aiChat.inputPlaceholder,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",disabled:s}),l.jsx(oe.button,{type:"submit",disabled:!u.trim()||s,className:ee("px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",!u.trim()||s?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700"),whileHover:!s&&u.trim()?{scale:1.05}:{},whileTap:!s&&u.trim()?{scale:.95}:{},children:s?l.jsx(ns,{className:"w-4 h-4 animate-spin"}):l.jsx(h2,{className:"w-4 h-4"})})]}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:[m.aiChat.disclaimer,!v]})]})]})}):l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:l.jsx(Wn,{className:"w-12 h-12 text-white"})}),l.jsx(oe.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1",children:l.jsx(cb,{className:"w-6 h-6 text-yellow-500"})})]})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:m.aiChat.welcomeTitle}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:m.aiChat.welcomeDescription}),!v,l.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[l.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:m.aiChat.examples.recipesTitle}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.recipesExample})]}),l.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:m.aiChat.examples.tipsTitle}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.tipsExample})]}),l.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-green-700 dark:text-green-300 mb-2",children:m.aiChat.examples.helpTitle}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.aiChat.examples.helpExample})]})]}),l.jsxs(oe.button,{onClick:y,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 mx-auto",whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(vf,{className:"w-5 h-5"}),m.aiChat.startConversationButton]})]})})}const mM="price_1S8hUJRvfweGXYGcPyJ9VAR9",pM=19.9;function gM(){const e=we(),{showToast:t}=re(),[r,n]=w.useState([]),[s,i]=w.useState(!1),[a,o]=w.useState(null);w.useEffect(()=>{B.auth.getUser().then(({data:y})=>o(y.user?{id:y.user.id}:null));const{data:v}=B.auth.onAuthStateChange((y,b)=>{o(b!=null&&b.user?{id:b.user.id}:null)});return()=>{var y,b;(b=(y=v==null?void 0:v.subscription)==null?void 0:y.unsubscribe)==null||b.call(y)}},[]),w.useEffect(()=>{qb().then(v=>n(v||[])).catch(v=>{console.error(v),t(e.premium.loadPlansError)})},[t,e.premium.loadPlansError]);const c=w.useMemo(()=>r.find(v=>v.stripe_price_id)??r[0]??null,[r]),u=c&&typeof c.price=="number"&&c.price>0?c.price:pM,d=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),h=(c==null?void 0:c.billing_period)||"monthly",f=[{icon:l.jsx(Wn,{className:"w-5 h-5"}),title:e.premium.features.mentoringUnlimitedTitle,description:e.premium.features.mentoringUnlimitedDescription},{icon:l.jsx(vf,{className:"w-5 h-5"}),title:e.premium.features.personalizedConsultationsTitle,description:e.premium.features.personalizedConsultationsDescription},{icon:l.jsx(pr,{className:"w-5 h-5"}),title:e.premium.features.smartRecommendationsTitle,description:e.premium.features.smartRecommendationsDescription},{icon:l.jsx(x2,{className:"w-5 h-5"}),title:e.premium.features.prioritySupportTitle,description:e.premium.features.prioritySupportDescription}],m=async()=>{try{if(i(!0),!a){t(e.premium.loginRequired),window.location.href="/login";return}const v=(c==null?void 0:c.stripe_price_id)||mM;await rP({planId:c==null?void 0:c.id,priceId:v})}catch(v){console.error(v),t((v==null?void 0:v.message)||e.premium.checkoutErrorGeneric)}finally{i(!1)}};return l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-2xl p-8 text-center border border-purple-200 dark:border-purple-700",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:l.jsx(ia,{className:"w-12 h-12 text-white"})}),l.jsx(oe.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:l.jsx(cb,{className:"w-6 h-6 text-yellow-500"})})]})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e.premium.title}),l.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:[e.premium.descriptionPrefix,l.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:e.premium.planName}),e.premium.descriptionSuffix]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 mb-8 border border-purple-200 dark:border-purple-700",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx(ia,{className:"w-6 h-6 text-purple-600"}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.premium.planName})]}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("span",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400",children:d}),l.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["/ ",h==="monthly"?e.premium.perMonthLabel:h]})]}),l.jsx("div",{className:"rounded-xl border border-purple-100 dark:border-purple-900/40 bg-white/70 dark:bg-white/5 backdrop-blur p-4 md:p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.accessNutritionists})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.whatsappDirect})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.personalizedGoals})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.mealPlans})]})]}),l.jsx("div",{className:"md:pl-6 md:border-l md:border-purple-200/60 dark:md:border-purple-900/40",children:l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.weeklyFollowup})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.progressReports})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.premiumRecipes})]}),l.jsxs("li",{className:"flex items-center gap-3",children:[l.jsx(ur,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.premium.benefits.vipCommunity})]})]})})]})}),l.jsxs(oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:s,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[l.jsx(ia,{className:"w-5 h-5"}),s?e.premium.ctaLoading:e.premium.ctaSubscribe]})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-2",children:f.map((v,y)=>l.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"flex items-start gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg text-white",children:v.icon}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:v.title}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v.description})]})]},y))}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.premium.footerNote})]})})}function yM({onBack:e}){const{user:t,isNutritionist:r}=Ue(),{hasFeatureAccess:n}=Ac(),s=we(),i=t&&(r()||n("ai_mentoring"));return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("button",{onClick:e,className:`
          mb-8 inline-flex items-center gap-2
          text-green-600 dark:text-green-400
          hover:text-green-700 dark:hover:text-green-300
          font-medium text-lg
          group
        `,children:[l.jsx(Ja,{className:`
            w-6 h-6 transition-transform duration-200
            group-hover:-translate-x-1
          `}),l.jsx("span",{className:"tracking-wide",children:s.common.back})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 md:p-8",children:i?l.jsx(fM,{}):l.jsx(gM,{})})]})}function vM(){const e=kt();return l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(yM,{onBack:()=>e("/")})})})}function xM(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[s,i]=w.useState(!1),[a,o]=w.useState(!1),[c,u]=w.useState(!1),[d,h]=w.useState(!0),[f,m]=w.useState("idle"),[v,y]=w.useState(""),[b,p]=w.useState(!1);w.useEffect(()=>{(async()=>{try{console.log("Checking recovery token..."),(await ZT()).valid?(console.log("Valid recovery token found"),p(!0)):(m("error"),y("Link de recuperao invlido ou expirado. Solicite um novo link."),p(!1))}catch(C){console.error("Token validation error:",C),m("error"),y("Erro ao validar link de recuperao. Tente novamente."),p(!1)}finally{h(!1)}})()},[]);const g=E=>{const C=[];return E.length<6&&C.push("A senha deve ter pelo menos 6 caracteres"),/(?=.*[a-z])/.test(E)||C.push("A senha deve conter pelo menos uma letra minscula"),/(?=.*[A-Z])/.test(E)||C.push("A senha deve conter pelo menos uma letra maiscula"),/(?=.*\d)/.test(E)||C.push("A senha deve conter pelo menos um nmero"),C},x=async E=>{E.preventDefault(),u(!0),y("");const C=g(e);if(C.length>0){y(C[0]),u(!1);return}if(e!==r){y("As senhas no coincidem"),u(!1);return}try{console.log("Updating password..."),await XT(e),console.log("Password updated successfully"),m("success"),setTimeout(async()=>{await B.auth.signOut(),setTimeout(()=>{window.location.href="/"},3e3)},1e3)}catch(R){console.error("Password reset error:",R),y(R.message||"Erro inesperado. Tente novamente."),m("error")}finally{u(!1)}},k=(E=>{let C=0;return E.length>=6&&C++,E.match(/[a-z]/)&&C++,E.match(/[A-Z]/)&&C++,E.match(/[0-9]/)&&C++,E.match(/[^a-zA-Z0-9]/)&&C++,C})(e),T=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"],j=["Muito fraca","Fraca","Regular","Boa","Forte"];return d?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[l.jsx(ns,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-green-600"}),l.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Verificando link de recuperao..."}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto validamos seu link de recuperao."})]})}):f==="success"?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:l.jsx(ni,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Senha redefinida com sucesso!"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua senha foi alterada com sucesso. Voc ser redirecionado para a pgina de login em alguns segundos."}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:l.jsx(oe.div,{className:"bg-green-600 h-2 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:3}})}),l.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Ir para login agora"})]})}):f==="error"||!b?l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:l.jsx(yf,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Link invlido ou expirado"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:v||"Este link de recuperao  invlido ou expirou. Solicite um novo link de recuperao."}),l.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Voltar ao login"})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[l.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:l.jsx(n2,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Nova senha"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite sua nova senha segura"})]})]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(p2,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Dicas para uma senha segura:"}),l.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[l.jsx("li",{children:" Pelo menos 6 caracteres"}),l.jsx("li",{children:" Combine letras maisculas e minsculas"}),l.jsx("li",{children:" Inclua nmeros e smbolos"}),l.jsx("li",{children:" Evite informaes pessoais"})]})]})]})}),l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova senha"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:s?"text":"password",id:"password",value:e,onChange:E=>t(E.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite sua nova senha",required:!0,disabled:c}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:c,children:s?l.jsx(sg,{className:"w-5 h-5"}):l.jsx(ig,{className:"w-5 h-5"})})]}),e&&l.jsx("div",{className:"mt-2",children:l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:ee("h-2 rounded-full transition-all duration-300",T[Math.max(0,k-1)]),style:{width:`${k/5*100}%`}})}),l.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:j[Math.max(0,k-1)]})]})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar senha"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a?"text":"password",id:"confirmPassword",value:r,onChange:E=>n(E.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirme sua nova senha",required:!0,disabled:c}),l.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:c,children:a?l.jsx(sg,{className:"w-5 h-5"}):l.jsx(ig,{className:"w-5 h-5"})})]}),r&&e!==r&&l.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"As senhas no coincidem"})]}),v&&l.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:v})}),l.jsxs("button",{type:"submit",disabled:c||e!==r||k<3,className:ee("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",c||e!==r||k<3?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[c&&l.jsx(ns,{className:"w-4 h-4 animate-spin"}),c?"Redefinindo...":"Redefinir senha"]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium",disabled:c,children:"Voltar ao login"})})]})})}function bM(){return l.jsx(xM,{})}function wM(){const e=kt();return w.useEffect(()=>{const t=setTimeout(()=>{e("/perfil")},5e3);return()=>clearTimeout(t)},[e]),l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-4 rounded-full",children:l.jsx(ur,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Assinatura Confirmada!"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua assinatura foi processada com sucesso. Voc agora tem acesso a todos os recursos premium."}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Redirecionando para seu perfil em 5 segundos..."}),l.jsx("button",{onClick:()=>e("/perfil"),className:"mt-6 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Ir para o Perfil Agora"})]})})}function kM(){const e=kt();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-4 rounded-full",children:l.jsx(tr,{className:"w-12 h-12 text-red-600 dark:text-red-400"})})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pagamento Cancelado"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Seu pagamento foi cancelado. Sua assinatura no foi processada."}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-6",children:"Voc pode tentar novamente a qualquer momento."}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>e("/mentoria-ia"),className:"w-full px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar Novamente"}),l.jsx("button",{onClick:()=>e("/"),className:"w-full px-6 py-2 bg-gray-300 dark:bg-gray-600 text-gray-900 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors",children:"Voltar ao Incio"})]})]})})}function jM(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),s=kt(),i=we(),{language:a}=bi();w.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:c}=await B.from("profiles").select("*").eq("user_type","Nutritionist").eq("profile_visibility","public").order("years_of_experience",{ascending:!1});if(!c){t([]),n(!1);return}const u=await Promise.all(c.map(async d=>{const{count:h}=await B.from("recipes").select("*",{count:"exact",head:!0}).eq("author_id",d.id),{data:f}=await B.from("reviews").select("rating").in("recipe_id",await B.from("recipes").select("id").eq("author_id",d.id).then(v=>{var y;return((y=v.data)==null?void 0:y.map(b=>b.id))||[]})),m=f&&f.length>0?f.reduce((v,y)=>v+y.rating,0)/f.length:0;return{id:d.id,full_name:d.full_name||"Nutricionista",professional_bio:d.professional_bio||"",specializations:d.specializations||[],years_of_experience:d.years_of_experience||0,consultation_price:d.consultation_price||0,clinic_address:d.clinic_address||"",accepting_new_clients:d.accepting_new_clients??!0,published_recipes_count:h||0,average_rating:m,avatar_url:d.avatar_url||null}}));t(u)}catch(c){console.error("Error loading nutritionists:",c)}finally{n(!1)}};return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("button",{onClick:()=>s("/"),className:"mb-6 flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:[l.jsx(Ja,{className:"h-5 w-5"}),i.common.back]}),l.jsxs("div",{className:"mb-12 text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:i.nutritionists.title}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:i.nutritionists.subtitle})]}),e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(xr,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i.nutritionists.noNutritionists})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>l.jsxs("div",{onClick:()=>s(`/nutricionista/${c.id}`),className:"group cursor-pointer bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-200 overflow-hidden border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 h-24"}),l.jsxs("div",{className:"p-6 -mt-12",children:[l.jsx("div",{className:"flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-teal-600 mx-auto mb-4 shadow-lg border-4 border-white dark:border-gray-800 overflow-hidden",children:c.avatar_url?l.jsx("img",{src:c.avatar_url,alt:c.full_name,className:"w-full h-full object-cover"}):l.jsx(xr,{className:"h-10 w-10 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 dark:text-white mb-2",children:c.full_name}),l.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[c.years_of_experience>0&&l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-300",children:[l.jsx(ls,{className:"h-4 w-4"}),c.years_of_experience," ",a==="pt"?"anos":"years"]}),c.average_rating>0&&l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-300",children:[l.jsx(pr,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),c.average_rating.toFixed(1)]})]}),c.specializations.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:c.specializations.slice(0,3).map((u,d)=>l.jsx("span",{className:"px-3 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 text-xs font-medium rounded-full",children:_1(u,a)},d))}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 text-center line-clamp-3 mb-4 min-h-[60px]",children:c.professional_bio||"Profissional de nutrio"}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700",children:[c.consultation_price>0&&l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.nutritionists.profile.price}),l.jsxs("p",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:["R$ ",c.consultation_price.toFixed(2)]})]}),l.jsx("div",{className:ee("flex items-center gap-1 text-xs font-medium px-3 py-1.5 rounded-full",c.accepting_new_clients?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:c.accepting_new_clients?l.jsxs(l.Fragment,{children:[l.jsx(ni,{className:"h-3.5 w-3.5"}),i.nutritionists.acceptingClients]}):l.jsxs(l.Fragment,{children:[l.jsx(xf,{className:"h-3.5 w-3.5"}),i.nutritionists.notAcceptingClients]})})]})]})]},c.id))})]})})}function _M(){const{id:e}=Qx(),t=kt(),r=we(),{language:n}=bi(),[s,i]=w.useState(null),[a,o]=w.useState([]),[c,u]=w.useState(0),[d,h]=w.useState(!0);w.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const{data:m}=await B.from("profiles").select("*").eq("id",e).eq("user_type","Nutritionist").eq("profile_visibility","public").maybeSingle();if(!m){t("/nutricionistas");return}i({id:m.id,full_name:m.full_name||"Nutricionista",professional_bio:m.professional_bio||"",specializations:m.specializations||[],years_of_experience:m.years_of_experience||0,education:m.education||"",certifications:m.certifications||[],approach:m.approach||"",consultation_price:m.consultation_price||0,consultation_duration:m.consultation_duration||60,consultation_types:m.consultation_types||[],accepts_health_insurance:m.accepts_health_insurance||!1,health_insurances:m.health_insurances||[],phone:m.phone||"",whatsapp:m.whatsapp||"",instagram:m.instagram||"",website:m.website||"",clinic_address:m.clinic_address||"",accepting_new_clients:m.accepting_new_clients??!0,avatar_url:m.avatar_url||null});const{data:v}=await B.from("recipes").select("*").eq("author_id",e).order("created_at",{ascending:!1}).limit(6);if(v){o(v);const{data:y}=await B.from("reviews").select("rating").in("recipe_id",v.map(b=>b.id));if(y&&y.length>0){const b=y.reduce((p,g)=>p+g.rating,0)/y.length;u(b)}}}catch(m){console.error("Error loading profile:",m)}finally{h(!1)}};return d?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):s?l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[l.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 h-48"}),l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 -mt-32 pb-12",children:[l.jsxs("button",{onClick:()=>t("/nutricionistas"),className:"mb-4 flex items-center gap-2 text-white hover:text-emerald-100 transition-colors",children:[l.jsx(Ja,{className:"h-5 w-5"}),r.common.back]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start mb-8",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"flex items-center justify-center w-32 h-32 rounded-full bg-gradient-to-br from-emerald-400 to-teal-600 shadow-lg overflow-hidden",children:s.avatar_url?l.jsx("img",{src:s.avatar_url,alt:s.full_name,className:"w-full h-full object-cover"}):l.jsx(xr,{className:"h-16 w-16 text-white"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:s.full_name}),l.jsxs("div",{className:"flex flex-wrap gap-3 mb-3",children:[s.years_of_experience>0&&l.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600 dark:text-gray-300",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsxs("span",{className:"text-sm font-medium",children:[s.years_of_experience," ",r.nutritionists.profile.experience]})]}),c>0&&l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(pr,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),l.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c.toFixed(1)})]}),a.length>0&&l.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600 dark:text-gray-300",children:[l.jsx(Qa,{className:"h-4 w-4"}),l.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",r.nutritionists.profile.publishedRecipes]})]})]})]}),l.jsx("div",{className:ee("flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold",s.accepting_new_clients?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:s.accepting_new_clients?l.jsxs(l.Fragment,{children:[l.jsx(ni,{className:"h-4 w-4"}),r.nutritionists.acceptingClients]}):l.jsxs(l.Fragment,{children:[l.jsx(xf,{className:"h-4 w-4"}),r.nutritionists.notAcceptingClients]})})]}),s.specializations.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.specializations.map((m,v)=>l.jsx("span",{className:"px-3 py-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 text-sm font-medium rounded-full",children:_1(m,n)},v))})]})]}),l.jsxs("div",{className:"space-y-8",children:[s.professional_bio&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx(xr,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.about]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-line",children:s.professional_bio})]}),s.education&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx(ZN,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.education]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.education})]}),s.certifications.length>0&&l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx(sb,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.certifications]}),l.jsx("ul",{className:"space-y-2",children:s.certifications.map((m,v)=>l.jsxs("li",{className:"flex items-start gap-2 text-gray-600 dark:text-gray-300",children:[l.jsx(ni,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400 flex-shrink-0 mt-0.5"}),m]},v))})]}),s.approach&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:r.nutritionists.profile.approach}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-line",children:s.approach})]}),s.consultation_price>0&&l.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(QN,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),r.nutritionists.profile.consultationInfo]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:r.nutritionists.profile.price}),l.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["R$ ",s.consultation_price.toFixed(2)]})]}),s.consultation_duration>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:r.nutritionists.profile.duration}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[s.consultation_duration," ",r.nutritionists.profile.minutes]})]})]}),s.consultation_types.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.profile.consultationTypes}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.consultation_types.map((m,v)=>l.jsxs("span",{className:"px-3 py-1.5 bg-white dark:bg-gray-800 rounded-lg text-sm font-medium text-gray-900 dark:text-white",children:[m.type,": R$ ",m.price]},v))})]}),s.accepts_health_insurance&&s.health_insurances.length>0&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-emerald-200 dark:border-emerald-800",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r.nutritionists.profile.acceptsInsurance}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.health_insurances.map((m,v)=>l.jsx("span",{className:"px-3 py-1 bg-white dark:bg-gray-800 rounded-lg text-sm text-gray-900 dark:text-white",children:m},v))})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:r.nutritionists.profile.contactInfo}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.whatsapp&&l.jsxs("a",{href:`https://wa.me/${s.whatsapp.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-xl hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[l.jsx(vf,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"WhatsApp"}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.whatsapp})]})]}),s.phone&&l.jsxs("a",{href:`tel:${s.phone}`,className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[l.jsx(l2,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.nutritionists.profile.phone}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.phone})]})]}),s.instagram&&l.jsxs("a",{href:`https://instagram.com/${s.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-pink-50 dark:bg-pink-900/20 rounded-xl hover:bg-pink-100 dark:hover:bg-pink-900/30 transition-colors",children:[l.jsx(r2,{className:"h-5 w-5 text-pink-600 dark:text-pink-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Instagram"}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.instagram})]})]}),s.website&&l.jsxs("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[l.jsx(ob,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.nutritionists.profile.website}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:s.website})]})]}),s.clinic_address&&l.jsxs("div",{className:"md:col-span-2 flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[l.jsx(s2,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:r.nutritionists.profile.address}),l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:s.clinic_address})]})]})]})]}),a.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:r.nutritionists.profile.publishedRecipes}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map(m=>l.jsxs("div",{onClick:()=>t(`/receita/${m.id}`),className:"cursor-pointer group rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all",children:[l.jsx("img",{src:m.image,alt:m.title,className:"w-full h-32 object-cover"}),l.jsx("div",{className:"p-3",children:l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm line-clamp-2",children:m.title})})]},m.id))})]})]})]})})]})]}):null}function py(){const e=kt();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsx("div",{className:"text-6xl font-bold text-gray-300 dark:text-gray-700",children:"404"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Pgina no encontrada"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Desculpe, a pgina que voc est procurando no existe ou foi removida."}),l.jsxs("button",{onClick:()=>e("/"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(e2,{className:"w-5 h-5"}),"Voltar ao Incio"]})]})})}class D1 extends w.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(GN,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function O1({children:e}){const{theme:t}=bi();return w.useEffect(()=>{const r=()=>{const n=t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",n)};if(r(),t==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addEventListener("change",r),()=>n.removeEventListener("change",r)}},[t]),l.jsx(l.Fragment,{children:e})}function SM(){return l.jsx(D1,{children:l.jsx(O1,{children:l.jsx(iN,{})})})}const NM=TN([{path:"/",element:l.jsx(SM,{}),errorElement:l.jsx(py,{}),children:[{index:!0,element:l.jsx(D5,{})},{path:"perfil",element:l.jsx(t3,{})},{path:"receita/:id",element:l.jsx(s3,{})},{path:"mentoria-ia",element:l.jsx(vM,{})},{path:"nutricionistas",element:l.jsx(jM,{})},{path:"nutricionista/:id",element:l.jsx(_M,{})},{path:"reset-password",element:l.jsx(bM,{})},{path:"assinatura/sucesso",element:l.jsx(wM,{})},{path:"assinatura/cancelada",element:l.jsx(kM,{})},{path:"404",element:l.jsx(py,{})},{path:"*",element:l.jsx(sN,{to:"/404",replace:!0})}]}]);function CM(){return l.jsx(UN,{router:NM})}Rx(document.getElementById("root")).render(l.jsx(w.StrictMode,{children:l.jsx(D1,{children:l.jsx(O1,{children:l.jsx(CM,{})})})}));export{gy as g};
