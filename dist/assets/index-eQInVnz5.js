(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $v(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Kp={exports:{}},Yo={},qp={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=Symbol.for("react.element"),Vv=Symbol.for("react.portal"),Uv=Symbol.for("react.fragment"),zv=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),Hv=Symbol.for("react.provider"),Gv=Symbol.for("react.context"),Wv=Symbol.for("react.forward_ref"),Kv=Symbol.for("react.suspense"),qv=Symbol.for("react.memo"),Yv=Symbol.for("react.lazy"),Od=Symbol.iterator;function Jv(e){return e===null||typeof e!="object"?null:(e=Od&&e[Od]||e["@@iterator"],typeof e=="function"?e:null)}var Yp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jp=Object.assign,Qp={};function Kn(e,t,r){this.props=e,this.context=t,this.refs=Qp,this.updater=r||Yp}Kn.prototype.isReactComponent={};Kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xp(){}Xp.prototype=Kn.prototype;function Wc(e,t,r){this.props=e,this.context=t,this.refs=Qp,this.updater=r||Yp}var Kc=Wc.prototype=new Xp;Kc.constructor=Wc;Jp(Kc,Kn.prototype);Kc.isPureReactComponent=!0;var Md=Array.isArray,Zp=Object.prototype.hasOwnProperty,qc={current:null},em={key:!0,ref:!0,__self:!0,__source:!0};function tm(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Zp.call(t,n)&&!em.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ai,type:e,key:i,ref:o,props:s,_owner:qc.current}}function Qv(e,t){return{$$typeof:ai,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ai}function Xv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ld=/\/+/g;function Aa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xv(""+e.key):t.toString(36)}function Ji(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ai:case Vv:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Aa(o,0):n,Md(s)?(r="",e!=null&&(r=e.replace(Ld,"$&/")+"/"),Ji(s,t,r,"",function(u){return u})):s!=null&&(Yc(s)&&(s=Qv(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ld,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Md(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Aa(i,a);o+=Ji(i,t,r,l,s)}else if(l=Jv(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Aa(i,a++),o+=Ji(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ki(e,t,r){if(e==null)return e;var n=[],s=0;return Ji(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Zv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Qi={transition:null},ex={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Qi,ReactCurrentOwner:qc};function rm(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:ki,forEach:function(e,t,r){ki(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ki(e,function(){t++}),t},toArray:function(e){return ki(e,function(t){return t})||[]},only:function(e){if(!Yc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Kn;H.Fragment=Uv;H.Profiler=Bv;H.PureComponent=Wc;H.StrictMode=zv;H.Suspense=Kv;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ex;H.act=rm;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Jp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Zp.call(t,l)&&!em.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ai,type:e.type,key:s,ref:i,props:n,_owner:o}};H.createContext=function(e){return e={$$typeof:Gv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hv,_context:e},e.Consumer=e};H.createElement=tm;H.createFactory=function(e){var t=tm.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Wv,render:e}};H.isValidElement=Yc;H.lazy=function(e){return{$$typeof:Yv,_payload:{_status:-1,_result:e},_init:Zv}};H.memo=function(e,t){return{$$typeof:qv,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Qi.transition;Qi.transition={};try{e()}finally{Qi.transition=t}};H.unstable_act=rm;H.useCallback=function(e,t){return Fe.current.useCallback(e,t)};H.useContext=function(e){return Fe.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};H.useEffect=function(e,t){return Fe.current.useEffect(e,t)};H.useId=function(){return Fe.current.useId()};H.useImperativeHandle=function(e,t,r){return Fe.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Fe.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Fe.current.useReducer(e,t,r)};H.useRef=function(e){return Fe.current.useRef(e)};H.useState=function(e){return Fe.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Fe.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Fe.current.useTransition()};H.version="18.3.1";qp.exports=H;var S=qp.exports;const Jc=Wp(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=S,rx=Symbol.for("react.element"),nx=Symbol.for("react.fragment"),sx=Object.prototype.hasOwnProperty,ix=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ox={key:!0,ref:!0,__self:!0,__source:!0};function nm(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)sx.call(t,n)&&!ox.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:rx,type:e,key:i,ref:o,props:s,_owner:ix.current}}Yo.Fragment=nx;Yo.jsx=nm;Yo.jsxs=nm;Kp.exports=Yo;var c=Kp.exports,sm={exports:{}},et={},im={exports:{}},om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,N){var M=_.length;_.push(N);e:for(;0<M;){var z=M-1>>>1,de=_[z];if(0<s(de,N))_[z]=N,_[M]=de,M=z;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var N=_[0],M=_.pop();if(M!==N){_[0]=M;e:for(var z=0,de=_.length,Kt=de>>>1;z<Kt;){var Tt=2*(z+1)-1,Pa=_[Tt],Cr=Tt+1,bi=_[Cr];if(0>s(Pa,M))Cr<de&&0>s(bi,Pa)?(_[z]=bi,_[Cr]=M,z=Cr):(_[z]=Pa,_[Tt]=M,z=Tt);else if(Cr<de&&0>s(bi,M))_[z]=bi,_[Cr]=M,z=Cr;else break e}}return N}function s(_,N){var M=_.sortIndex-N.sortIndex;return M!==0?M:_.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(_){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=_)n(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=r(u)}}function b(_){if(v=!1,y(_),!x)if(r(l)!==null)x=!0,Ee(k);else{var N=r(u);N!==null&&D(b,N.startTime-_)}}function k(_,N){x=!1,v&&(v=!1,m(E),E=-1),g=!0;var M=f;try{for(y(N),h=r(l);h!==null&&(!(h.expirationTime>N)||_&&!A());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var de=z(h.expirationTime<=N);N=e.unstable_now(),typeof de=="function"?h.callback=de:h===r(l)&&n(l),y(N)}else n(l);h=r(l)}if(h!==null)var Kt=!0;else{var Tt=r(u);Tt!==null&&D(b,Tt.startTime-N),Kt=!1}return Kt}finally{h=null,f=M,g=!1}}var j=!1,C=null,E=-1,I=5,O=-1;function A(){return!(e.unstable_now()-O<I)}function P(){if(C!==null){var _=e.unstable_now();O=_;var N=!0;try{N=C(!0,_)}finally{N?q():(j=!1,C=null)}}else j=!1}var q;if(typeof p=="function")q=function(){p(P)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Ve=se.port2;se.port1.onmessage=P,q=function(){Ve.postMessage(null)}}else q=function(){w(P,0)};function Ee(_){C=_,j||(j=!0,q())}function D(_,N){E=w(function(){_(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,Ee(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var M=f;f=N;try{return _()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,N){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var M=f;f=_;try{return N()}finally{f=M}},e.unstable_scheduleCallback=function(_,N,M){var z=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?z+M:z):M=z,_){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=M+de,_={id:d++,callback:N,priorityLevel:_,startTime:M,expirationTime:de,sortIndex:-1},M>z?(_.sortIndex=M,t(u,_),r(l)===null&&_===r(u)&&(v?(m(E),E=-1):v=!0,D(b,M-z))):(_.sortIndex=de,t(l,_),x||g||(x=!0,Ee(k))),_},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(_){var N=f;return function(){var M=f;f=N;try{return _.apply(this,arguments)}finally{f=M}}}})(om);im.exports=om;var ax=im.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=S,Xe=ax;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var am=new Set,Os={};function Jr(e,t){Mn(e,t),Mn(e+"Capture",t)}function Mn(e,t){for(Os[e]=t,e=0;e<t.length;e++)am.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=Object.prototype.hasOwnProperty,cx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dd={},Fd={};function ux(e){return jl.call(Fd,e)?!0:jl.call(Dd,e)?!1:cx.test(e)?Fd[e]=!0:(Dd[e]=!0,!1)}function dx(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hx(e,t,r,n){if(t===null||typeof t>"u"||dx(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qc=/[\-:]([a-z])/g;function Xc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qc,Xc);Se[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qc,Xc);Se[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qc,Xc);Se[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zc(e,t,r,n){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hx(t,r,s,n)&&(r=null),n||s===null?ux(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Wt=lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_i=Symbol.for("react.element"),cn=Symbol.for("react.portal"),un=Symbol.for("react.fragment"),eu=Symbol.for("react.strict_mode"),El=Symbol.for("react.profiler"),lm=Symbol.for("react.provider"),cm=Symbol.for("react.context"),tu=Symbol.for("react.forward_ref"),Cl=Symbol.for("react.suspense"),Tl=Symbol.for("react.suspense_list"),ru=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),um=Symbol.for("react.offscreen"),$d=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=$d&&e[$d]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Ra;function hs(e){if(Ra===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ra=t&&t[1]||""}return`
`+Ra+e}var Ia=!1;function Oa(e,t){if(!e||Ia)return"";Ia=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ia=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hs(e):""}function fx(e){switch(e.tag){case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Nl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case un:return"Fragment";case cn:return"Portal";case El:return"Profiler";case eu:return"StrictMode";case Cl:return"Suspense";case Tl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cm:return(e.displayName||"Context")+".Consumer";case lm:return(e._context.displayName||"Context")+".Provider";case tu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ru:return t=e.displayName||null,t!==null?t:Nl(e.type)||"Memo";case er:t=e._payload,e=e._init;try{return Nl(e(t))}catch{}}return null}function px(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nl(t);case 8:return t===eu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mx(e){var t=dm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Si(e){e._valueTracker||(e._valueTracker=mx(e))}function hm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pl(e,t){var r=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fm(e,t){t=t.checked,t!=null&&Zc(e,"checked",t,!1)}function Al(e,t){fm(e,t);var r=vr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rl(e,t.type,vr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ud(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rl(e,t,r){(t!=="number"||fo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fs=Array.isArray;function En(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Il(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(fs(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vr(r)}}function pm(e,t){var r=vr(t.value),n=vr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ol(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ji,gm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ji=ji||document.createElement("div"),ji.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ji.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ms(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gx=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(e){gx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xs[t]=xs[e]})});function ym(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xs.hasOwnProperty(e)&&xs[e]?(""+t).trim():t+"px"}function vm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ym(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var yx=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ml(e,t){if(t){if(yx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dl=null;function nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fl=null,Cn=null,Tn=null;function Hd(e){if(e=ui(e)){if(typeof Fl!="function")throw Error(T(280));var t=e.stateNode;t&&(t=ea(t),Fl(e.stateNode,e.type,t))}}function xm(e){Cn?Tn?Tn.push(e):Tn=[e]:Cn=e}function wm(){if(Cn){var e=Cn,t=Tn;if(Tn=Cn=null,Hd(e),t)for(e=0;e<t.length;e++)Hd(t[e])}}function bm(e,t){return e(t)}function km(){}var Ma=!1;function _m(e,t,r){if(Ma)return e(t,r);Ma=!0;try{return bm(e,t,r)}finally{Ma=!1,(Cn!==null||Tn!==null)&&(km(),wm())}}function Ls(e,t){var r=e.stateNode;if(r===null)return null;var n=ea(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var $l=!1;if(Ut)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){$l=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{$l=!1}function vx(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ws=!1,po=null,mo=!1,Vl=null,xx={onError:function(e){ws=!0,po=e}};function wx(e,t,r,n,s,i,o,a,l){ws=!1,po=null,vx.apply(xx,arguments)}function bx(e,t,r,n,s,i,o,a,l){if(wx.apply(this,arguments),ws){if(ws){var u=po;ws=!1,po=null}else throw Error(T(198));mo||(mo=!0,Vl=u)}}function Qr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Sm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gd(e){if(Qr(e)!==e)throw Error(T(188))}function kx(e){var t=e.alternate;if(!t){if(t=Qr(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Gd(s),e;if(i===n)return Gd(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function jm(e){return e=kx(e),e!==null?Em(e):null}function Em(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Em(e);if(t!==null)return t;e=e.sibling}return null}var Cm=Xe.unstable_scheduleCallback,Wd=Xe.unstable_cancelCallback,_x=Xe.unstable_shouldYield,Sx=Xe.unstable_requestPaint,fe=Xe.unstable_now,jx=Xe.unstable_getCurrentPriorityLevel,su=Xe.unstable_ImmediatePriority,Tm=Xe.unstable_UserBlockingPriority,go=Xe.unstable_NormalPriority,Ex=Xe.unstable_LowPriority,Nm=Xe.unstable_IdlePriority,Jo=null,_t=null;function Cx(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Jo,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Px,Tx=Math.log,Nx=Math.LN2;function Px(e){return e>>>=0,e===0?32:31-(Tx(e)/Nx|0)|0}var Ei=64,Ci=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ps(a):(i&=o,i!==0&&(n=ps(i)))}else o=r&~s,o!==0?n=ps(o):i!==0&&(n=ps(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gt(t),s=1<<r,n|=e[r],t&=~s;return n}function Ax(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Ax(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pm(){var e=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),e}function La(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function li(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=r}function Ix(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-gt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function iu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var J=0;function Am(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rm,ou,Im,Om,Mm,zl=!1,Ti=[],cr=null,ur=null,dr=null,Ds=new Map,Fs=new Map,sr=[],Ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kd(e,t){switch(e){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function rs(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ui(t),t!==null&&ou(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Mx(e,t,r,n,s){switch(t){case"focusin":return cr=rs(cr,e,t,r,n,s),!0;case"dragenter":return ur=rs(ur,e,t,r,n,s),!0;case"mouseover":return dr=rs(dr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ds.set(i,rs(Ds.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Fs.set(i,rs(Fs.get(i)||null,e,t,r,n,s)),!0}return!1}function Lm(e){var t=Lr(e.target);if(t!==null){var r=Qr(t);if(r!==null){if(t=r.tag,t===13){if(t=Sm(r),t!==null){e.blockedOn=t,Mm(e.priority,function(){Im(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Dl=n,r.target.dispatchEvent(n),Dl=null}else return t=ui(r),t!==null&&ou(t),e.blockedOn=r,!1;t.shift()}return!0}function qd(e,t,r){Xi(e)&&r.delete(t)}function Lx(){zl=!1,cr!==null&&Xi(cr)&&(cr=null),ur!==null&&Xi(ur)&&(ur=null),dr!==null&&Xi(dr)&&(dr=null),Ds.forEach(qd),Fs.forEach(qd)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,zl||(zl=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,Lx)))}function $s(e){function t(s){return ns(s,e)}if(0<Ti.length){ns(Ti[0],e);for(var r=1;r<Ti.length;r++){var n=Ti[r];n.blockedOn===e&&(n.blockedOn=null)}}for(cr!==null&&ns(cr,e),ur!==null&&ns(ur,e),dr!==null&&ns(dr,e),Ds.forEach(t),Fs.forEach(t),r=0;r<sr.length;r++)n=sr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)Lm(r),r.blockedOn===null&&sr.shift()}var Nn=Wt.ReactCurrentBatchConfig,vo=!0;function Dx(e,t,r,n){var s=J,i=Nn.transition;Nn.transition=null;try{J=1,au(e,t,r,n)}finally{J=s,Nn.transition=i}}function Fx(e,t,r,n){var s=J,i=Nn.transition;Nn.transition=null;try{J=4,au(e,t,r,n)}finally{J=s,Nn.transition=i}}function au(e,t,r,n){if(vo){var s=Bl(e,t,r,n);if(s===null)Wa(e,t,n,xo,r),Kd(e,n);else if(Mx(s,e,t,r,n))n.stopPropagation();else if(Kd(e,n),t&4&&-1<Ox.indexOf(e)){for(;s!==null;){var i=ui(s);if(i!==null&&Rm(i),i=Bl(e,t,r,n),i===null&&Wa(e,t,n,xo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Wa(e,t,n,null,r)}}var xo=null;function Bl(e,t,r,n){if(xo=null,e=nu(n),e=Lr(e),e!==null)if(t=Qr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Sm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xo=e,null}function Dm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jx()){case su:return 1;case Tm:return 4;case go:case Ex:return 16;case Nm:return 536870912;default:return 16}default:return 16}}var ar=null,lu=null,Zi=null;function Fm(){if(Zi)return Zi;var e,t=lu,r=t.length,n,s="value"in ar?ar.value:ar.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Zi=s.slice(e,1<n?1-n:void 0)}function eo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Yd(){return!1}function tt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ni:Yd,this.isPropagationStopped=Yd,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=tt(qn),ci=le({},qn,{view:0,detail:0}),$x=tt(ci),Da,Fa,ss,Qo=le({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(Da=e.screenX-ss.screenX,Fa=e.screenY-ss.screenY):Fa=Da=0,ss=e),Da)},movementY:function(e){return"movementY"in e?e.movementY:Fa}}),Jd=tt(Qo),Vx=le({},Qo,{dataTransfer:0}),Ux=tt(Vx),zx=le({},ci,{relatedTarget:0}),$a=tt(zx),Bx=le({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hx=tt(Bx),Gx=le({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wx=tt(Gx),Kx=le({},qn,{data:0}),Qd=tt(Kx),qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jx[e])?!!t[e]:!1}function uu(){return Qx}var Xx=le({},ci,{key:function(e){if(e.key){var t=qx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(e){return e.type==="keypress"?eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zx=tt(Xx),ew=le({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=tt(ew),tw=le({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),rw=tt(tw),nw=le({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sw=tt(nw),iw=le({},Qo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ow=tt(iw),aw=[9,13,27,32],du=Ut&&"CompositionEvent"in window,bs=null;Ut&&"documentMode"in document&&(bs=document.documentMode);var lw=Ut&&"TextEvent"in window&&!bs,$m=Ut&&(!du||bs&&8<bs&&11>=bs),Zd=" ",eh=!1;function Vm(e,t){switch(e){case"keyup":return aw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Um(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dn=!1;function cw(e,t){switch(e){case"compositionend":return Um(t);case"keypress":return t.which!==32?null:(eh=!0,Zd);case"textInput":return e=t.data,e===Zd&&eh?null:e;default:return null}}function uw(e,t){if(dn)return e==="compositionend"||!du&&Vm(e,t)?(e=Fm(),Zi=lu=ar=null,dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $m&&t.locale!=="ko"?null:t.data;default:return null}}var dw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dw[e.type]:t==="textarea"}function zm(e,t,r,n){xm(n),t=wo(t,"onChange"),0<t.length&&(r=new cu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ks=null,Vs=null;function hw(e){Zm(e,0)}function Xo(e){var t=pn(e);if(hm(t))return e}function fw(e,t){if(e==="change")return t}var Bm=!1;if(Ut){var Va;if(Ut){var Ua="oninput"in document;if(!Ua){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),Ua=typeof rh.oninput=="function"}Va=Ua}else Va=!1;Bm=Va&&(!document.documentMode||9<document.documentMode)}function nh(){ks&&(ks.detachEvent("onpropertychange",Hm),Vs=ks=null)}function Hm(e){if(e.propertyName==="value"&&Xo(Vs)){var t=[];zm(t,Vs,e,nu(e)),_m(hw,t)}}function pw(e,t,r){e==="focusin"?(nh(),ks=t,Vs=r,ks.attachEvent("onpropertychange",Hm)):e==="focusout"&&nh()}function mw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xo(Vs)}function gw(e,t){if(e==="click")return Xo(t)}function yw(e,t){if(e==="input"||e==="change")return Xo(t)}function vw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:vw;function Us(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!jl.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function sh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ih(e,t){var r=sh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sh(r)}}function Gm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wm(){for(var e=window,t=fo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fo(e.document)}return t}function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xw(e){var t=Wm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Gm(r.ownerDocument.documentElement,r)){if(n!==null&&hu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ih(r,i);var o=ih(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ww=Ut&&"documentMode"in document&&11>=document.documentMode,hn=null,Hl=null,_s=null,Gl=!1;function oh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gl||hn==null||hn!==fo(n)||(n=hn,"selectionStart"in n&&hu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_s&&Us(_s,n)||(_s=n,n=wo(Hl,"onSelect"),0<n.length&&(t=new cu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hn)))}function Pi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fn={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},za={},Km={};Ut&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function Zo(e){if(za[e])return za[e];if(!fn[e])return e;var t=fn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Km)return za[e]=t[r];return e}var qm=Zo("animationend"),Ym=Zo("animationiteration"),Jm=Zo("animationstart"),Qm=Zo("transitionend"),Xm=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Xm.set(e,t),Jr(t,[e])}for(var Ba=0;Ba<ah.length;Ba++){var Ha=ah[Ba],bw=Ha.toLowerCase(),kw=Ha[0].toUpperCase()+Ha.slice(1);kr(bw,"on"+kw)}kr(qm,"onAnimationEnd");kr(Ym,"onAnimationIteration");kr(Jm,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(Qm,"onTransitionEnd");Mn("onMouseEnter",["mouseout","mouseover"]);Mn("onMouseLeave",["mouseout","mouseover"]);Mn("onPointerEnter",["pointerout","pointerover"]);Mn("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_w=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function lh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bx(n,t,void 0,e),e.currentTarget=null}function Zm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;lh(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;lh(s,a,u),i=l}}}if(mo)throw e=Vl,mo=!1,Vl=null,e}function te(e,t){var r=t[Jl];r===void 0&&(r=t[Jl]=new Set);var n=e+"__bubble";r.has(n)||(eg(t,e,2,!1),r.add(n))}function Ga(e,t,r){var n=0;t&&(n|=4),eg(r,e,n,t)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function zs(e){if(!e[Ai]){e[Ai]=!0,am.forEach(function(r){r!=="selectionchange"&&(_w.has(r)||Ga(r,!1,e),Ga(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ai]||(t[Ai]=!0,Ga("selectionchange",!1,t))}}function eg(e,t,r,n){switch(Dm(t)){case 1:var s=Dx;break;case 4:s=Fx;break;default:s=au}r=s.bind(null,t,r,e),s=void 0,!$l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Wa(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Lr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}_m(function(){var u=i,d=nu(r),h=[];e:{var f=Xm.get(e);if(f!==void 0){var g=cu,x=e;switch(e){case"keypress":if(eo(r)===0)break e;case"keydown":case"keyup":g=Zx;break;case"focusin":x="focus",g=$a;break;case"focusout":x="blur",g=$a;break;case"beforeblur":case"afterblur":g=$a;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=rw;break;case qm:case Ym:case Jm:g=Hx;break;case Qm:g=sw;break;case"scroll":g=$x;break;case"wheel":g=ow;break;case"copy":case"cut":case"paste":g=Wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Xd}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=Ls(p,m),b!=null&&v.push(Bs(p,b,y)))),w)break;p=p.return}0<v.length&&(f=new g(f,x,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&r!==Dl&&(x=r.relatedTarget||r.fromElement)&&(Lr(x)||x[zt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=r.relatedTarget||r.toElement,g=u,x=x?Lr(x):null,x!==null&&(w=Qr(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=Jd,b="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Xd,b="onPointerLeave",m="onPointerEnter",p="pointer"),w=g==null?f:pn(g),y=x==null?f:pn(x),f=new v(b,p+"leave",g,r,d),f.target=w,f.relatedTarget=y,b=null,Lr(d)===u&&(v=new v(m,p+"enter",x,r,d),v.target=y,v.relatedTarget=w,b=v),w=b,g&&x)t:{for(v=g,m=x,p=0,y=v;y;y=rn(y))p++;for(y=0,b=m;b;b=rn(b))y++;for(;0<p-y;)v=rn(v),p--;for(;0<y-p;)m=rn(m),y--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=rn(v),m=rn(m)}v=null}else v=null;g!==null&&ch(h,f,g,v,!1),x!==null&&w!==null&&ch(h,w,x,v,!0)}}e:{if(f=u?pn(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=fw;else if(th(f))if(Bm)k=yw;else{k=mw;var j=pw}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=gw);if(k&&(k=k(e,u))){zm(h,k,r,d);break e}j&&j(e,f,u),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Rl(f,"number",f.value)}switch(j=u?pn(u):window,e){case"focusin":(th(j)||j.contentEditable==="true")&&(hn=j,Hl=u,_s=null);break;case"focusout":_s=Hl=hn=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,oh(h,r,d);break;case"selectionchange":if(ww)break;case"keydown":case"keyup":oh(h,r,d)}var C;if(du)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else dn?Vm(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&($m&&r.locale!=="ko"&&(dn||E!=="onCompositionStart"?E==="onCompositionEnd"&&dn&&(C=Fm()):(ar=d,lu="value"in ar?ar.value:ar.textContent,dn=!0)),j=wo(u,E),0<j.length&&(E=new Qd(E,e,null,r,d),h.push({event:E,listeners:j}),C?E.data=C:(C=Um(r),C!==null&&(E.data=C)))),(C=lw?cw(e,r):uw(e,r))&&(u=wo(u,"onBeforeInput"),0<u.length&&(d=new Qd("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}Zm(h,t)})}function Bs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ls(e,r),i!=null&&n.unshift(Bs(e,i,s)),i=Ls(e,t),i!=null&&n.push(Bs(e,i,s))),e=e.return}return n}function rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ch(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Ls(r,i),l!=null&&o.unshift(Bs(r,l,a))):s||(l=Ls(r,i),l!=null&&o.push(Bs(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Sw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function uh(e){return(typeof e=="string"?e:""+e).replace(Sw,`
`).replace(jw,"")}function Ri(e,t,r){if(t=uh(t),uh(e)!==t&&r)throw Error(T(425))}function bo(){}var Wl=null,Kl=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yl=typeof setTimeout=="function"?setTimeout:void 0,Ew=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,Cw=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(e){return dh.resolve(null).then(e).catch(Tw)}:Yl;function Tw(e){setTimeout(function(){throw e})}function Ka(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),$s(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);$s(t)}function hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),kt="__reactFiber$"+Yn,Hs="__reactProps$"+Yn,zt="__reactContainer$"+Yn,Jl="__reactEvents$"+Yn,Nw="__reactListeners$"+Yn,Pw="__reactHandles$"+Yn;function Lr(e){var t=e[kt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zt]||r[kt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hh(e);e!==null;){if(r=e[kt])return r;e=hh(e)}return t}e=r,r=e.parentNode}return null}function ui(e){return e=e[kt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function ea(e){return e[Hs]||null}var Ql=[],mn=-1;function _r(e){return{current:e}}function re(e){0>mn||(e.current=Ql[mn],Ql[mn]=null,mn--)}function Z(e,t){mn++,Ql[mn]=e.current,e.current=t}var xr={},Oe=_r(xr),Ge=_r(!1),Hr=xr;function Ln(e,t){var r=e.type.contextTypes;if(!r)return xr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function We(e){return e=e.childContextTypes,e!=null}function ko(){re(Ge),re(Oe)}function fh(e,t,r){if(Oe.current!==xr)throw Error(T(168));Z(Oe,t),Z(Ge,r)}function tg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,px(e)||"Unknown",s));return le({},r,n)}function _o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xr,Hr=Oe.current,Z(Oe,e),Z(Ge,Ge.current),!0}function ph(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=tg(e,t,Hr),n.__reactInternalMemoizedMergedChildContext=e,re(Ge),re(Oe),Z(Oe,e)):re(Ge),Z(Ge,r)}var Rt=null,ta=!1,qa=!1;function rg(e){Rt===null?Rt=[e]:Rt.push(e)}function Aw(e){ta=!0,rg(e)}function Sr(){if(!qa&&Rt!==null){qa=!0;var e=0,t=J;try{var r=Rt;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rt=null,ta=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),Cm(su,Sr),s}finally{J=t,qa=!1}}return null}var gn=[],yn=0,So=null,jo=0,st=[],it=0,Gr=null,It=1,Ot="";function Pr(e,t){gn[yn++]=jo,gn[yn++]=So,So=e,jo=t}function ng(e,t,r){st[it++]=It,st[it++]=Ot,st[it++]=Gr,Gr=e;var n=It;e=Ot;var s=32-gt(n)-1;n&=~(1<<s),r+=1;var i=32-gt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,It=1<<32-gt(t)+s|r<<s|n,Ot=i+e}else It=1<<i|r<<s|n,Ot=e}function fu(e){e.return!==null&&(Pr(e,1),ng(e,1,0))}function pu(e){for(;e===So;)So=gn[--yn],gn[yn]=null,jo=gn[--yn],gn[yn]=null;for(;e===Gr;)Gr=st[--it],st[it]=null,Ot=st[--it],st[it]=null,It=st[--it],st[it]=null}var Qe=null,Je=null,ne=!1,mt=null;function sg(e,t){var r=ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,Je=hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gr!==null?{id:It,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qe=e,Je=null,!0):!1;default:return!1}}function Xl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zl(e){if(ne){var t=Je;if(t){var r=t;if(!mh(e,t)){if(Xl(e))throw Error(T(418));t=hr(r.nextSibling);var n=Qe;t&&mh(e,t)?sg(n,r):(e.flags=e.flags&-4097|2,ne=!1,Qe=e)}}else{if(Xl(e))throw Error(T(418));e.flags=e.flags&-4097|2,ne=!1,Qe=e}}}function gh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function Ii(e){if(e!==Qe)return!1;if(!ne)return gh(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=Je)){if(Xl(e))throw ig(),Error(T(418));for(;t;)sg(e,t),t=hr(t.nextSibling)}if(gh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Je=hr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Qe?hr(e.stateNode.nextSibling):null;return!0}function ig(){for(var e=Je;e;)e=hr(e.nextSibling)}function Dn(){Je=Qe=null,ne=!1}function mu(e){mt===null?mt=[e]:mt.push(e)}var Rw=Wt.ReactCurrentBatchConfig;function is(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yh(e){var t=e._init;return t(e._payload)}function og(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=gr(m,p),m.index=0,m.sibling=null,m}function i(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,b){return p===null||p.tag!==6?(p=tl(y,m.mode,b),p.return=m,p):(p=s(p,y),p.return=m,p)}function l(m,p,y,b){var k=y.type;return k===un?d(m,p,y.props.children,b,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===er&&yh(k)===p.type)?(b=s(p,y.props),b.ref=is(m,p,y),b.return=m,b):(b=ao(y.type,y.key,y.props,null,m.mode,b),b.ref=is(m,p,y),b.return=m,b)}function u(m,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=rl(y,m.mode,b),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function d(m,p,y,b,k){return p===null||p.tag!==7?(p=zr(y,m.mode,b,k),p.return=m,p):(p=s(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=tl(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _i:return y=ao(p.type,p.key,p.props,null,m.mode,y),y.ref=is(m,null,p),y.return=m,y;case cn:return p=rl(p,m.mode,y),p.return=m,p;case er:var b=p._init;return h(m,b(p._payload),y)}if(fs(p)||es(p))return p=zr(p,m.mode,y,null),p.return=m,p;Oi(m,p)}return null}function f(m,p,y,b){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(m,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _i:return y.key===k?l(m,p,y,b):null;case cn:return y.key===k?u(m,p,y,b):null;case er:return k=y._init,f(m,p,k(y._payload),b)}if(fs(y)||es(y))return k!==null?null:d(m,p,y,b,null);Oi(m,y)}return null}function g(m,p,y,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,a(p,m,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _i:return m=m.get(b.key===null?y:b.key)||null,l(p,m,b,k);case cn:return m=m.get(b.key===null?y:b.key)||null,u(p,m,b,k);case er:var j=b._init;return g(m,p,y,j(b._payload),k)}if(fs(b)||es(b))return m=m.get(y)||null,d(p,m,b,k,null);Oi(p,b)}return null}function x(m,p,y,b){for(var k=null,j=null,C=p,E=p=0,I=null;C!==null&&E<y.length;E++){C.index>E?(I=C,C=null):I=C.sibling;var O=f(m,C,y[E],b);if(O===null){C===null&&(C=I);break}e&&C&&O.alternate===null&&t(m,C),p=i(O,p,E),j===null?k=O:j.sibling=O,j=O,C=I}if(E===y.length)return r(m,C),ne&&Pr(m,E),k;if(C===null){for(;E<y.length;E++)C=h(m,y[E],b),C!==null&&(p=i(C,p,E),j===null?k=C:j.sibling=C,j=C);return ne&&Pr(m,E),k}for(C=n(m,C);E<y.length;E++)I=g(C,m,E,y[E],b),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?E:I.key),p=i(I,p,E),j===null?k=I:j.sibling=I,j=I);return e&&C.forEach(function(A){return t(m,A)}),ne&&Pr(m,E),k}function v(m,p,y,b){var k=es(y);if(typeof k!="function")throw Error(T(150));if(y=k.call(y),y==null)throw Error(T(151));for(var j=k=null,C=p,E=p=0,I=null,O=y.next();C!==null&&!O.done;E++,O=y.next()){C.index>E?(I=C,C=null):I=C.sibling;var A=f(m,C,O.value,b);if(A===null){C===null&&(C=I);break}e&&C&&A.alternate===null&&t(m,C),p=i(A,p,E),j===null?k=A:j.sibling=A,j=A,C=I}if(O.done)return r(m,C),ne&&Pr(m,E),k;if(C===null){for(;!O.done;E++,O=y.next())O=h(m,O.value,b),O!==null&&(p=i(O,p,E),j===null?k=O:j.sibling=O,j=O);return ne&&Pr(m,E),k}for(C=n(m,C);!O.done;E++,O=y.next())O=g(C,m,E,O.value,b),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?E:O.key),p=i(O,p,E),j===null?k=O:j.sibling=O,j=O);return e&&C.forEach(function(P){return t(m,P)}),ne&&Pr(m,E),k}function w(m,p,y,b){if(typeof y=="object"&&y!==null&&y.type===un&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case _i:e:{for(var k=y.key,j=p;j!==null;){if(j.key===k){if(k=y.type,k===un){if(j.tag===7){r(m,j.sibling),p=s(j,y.props.children),p.return=m,m=p;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===er&&yh(k)===j.type){r(m,j.sibling),p=s(j,y.props),p.ref=is(m,j,y),p.return=m,m=p;break e}r(m,j);break}else t(m,j);j=j.sibling}y.type===un?(p=zr(y.props.children,m.mode,b,y.key),p.return=m,m=p):(b=ao(y.type,y.key,y.props,null,m.mode,b),b.ref=is(m,p,y),b.return=m,m=b)}return o(m);case cn:e:{for(j=y.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=rl(y,m.mode,b),p.return=m,m=p}return o(m);case er:return j=y._init,w(m,p,j(y._payload),b)}if(fs(y))return x(m,p,y,b);if(es(y))return v(m,p,y,b);Oi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,y),p.return=m,m=p):(r(m,p),p=tl(y,m.mode,b),p.return=m,m=p),o(m)):r(m,p)}return w}var Fn=og(!0),ag=og(!1),Eo=_r(null),Co=null,vn=null,gu=null;function yu(){gu=vn=Co=null}function vu(e){var t=Eo.current;re(Eo),e._currentValue=t}function ec(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pn(e,t){Co=e,gu=vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(gu!==e)if(e={context:e,memoizedValue:t,next:null},vn===null){if(Co===null)throw Error(T(308));vn=e,Co.dependencies={lanes:0,firstContext:e}}else vn=vn.next=e;return t}var Dr=null;function xu(e){Dr===null?Dr=[e]:Dr.push(e)}function lg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,xu(t)):(r.next=s.next,s.next=r),t.interleaved=r,Bt(e,n)}function Bt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var tr=!1;function wu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Bt(e,r)}return s=n.interleaved,s===null?(t.next=t,xu(n)):(t.next=s.next,s.next=t),n.interleaved=t,Bt(e,r)}function to(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iu(e,r)}}function vh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function To(e,t,r,n){var s=e.updateQueue;tr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(f=t,g=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(g,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(g,h,f):x,f==null)break e;h=le({},h,f);break e;case 2:tr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Kr|=o,e.lanes=o,e.memoizedState=h}}function xh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var di={},St=_r(di),Gs=_r(di),Ws=_r(di);function Fr(e){if(e===di)throw Error(T(174));return e}function bu(e,t){switch(Z(Ws,t),Z(Gs,e),Z(St,di),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ol(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ol(t,e)}re(St),Z(St,t)}function $n(){re(St),re(Gs),re(Ws)}function ug(e){Fr(Ws.current);var t=Fr(St.current),r=Ol(t,e.type);t!==r&&(Z(Gs,e),Z(St,r))}function ku(e){Gs.current===e&&(re(St),re(Gs))}var ie=_r(0);function No(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ya=[];function _u(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var ro=Wt.ReactCurrentDispatcher,Ja=Wt.ReactCurrentBatchConfig,Wr=0,ae=null,me=null,ve=null,Po=!1,Ss=!1,Ks=0,Iw=0;function Ce(){throw Error(T(321))}function Su(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vt(e[r],t[r]))return!1;return!0}function ju(e,t,r,n,s,i){if(Wr=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=e===null||e.memoizedState===null?Dw:Fw,e=r(n,s),Ss){i=0;do{if(Ss=!1,Ks=0,25<=i)throw Error(T(301));i+=1,ve=me=null,t.updateQueue=null,ro.current=$w,e=r(n,s)}while(Ss)}if(ro.current=Ao,t=me!==null&&me.next!==null,Wr=0,ve=me=ae=null,Po=!1,t)throw Error(T(300));return e}function Eu(){var e=Ks!==0;return Ks=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ae.memoizedState=ve=e:ve=ve.next=e,ve}function ut(){if(me===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ve===null?ae.memoizedState:ve.next;if(t!==null)ve=t,me=e;else{if(e===null)throw Error(T(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ve===null?ae.memoizedState=ve=e:ve=ve.next=e}return ve}function qs(e,t){return typeof t=="function"?t(e):t}function Qa(e){var t=ut(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=me,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Wr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,ae.lanes|=d,Kr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,vt(n,t.memoizedState)||(He=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,Kr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xa(e){var t=ut(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);vt(i,t.memoizedState)||(He=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function dg(){}function hg(e,t){var r=ae,n=ut(),s=t(),i=!vt(n.memoizedState,s);if(i&&(n.memoizedState=s,He=!0),n=n.queue,Cu(mg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,Ys(9,pg.bind(null,r,n,s,t),void 0,null),xe===null)throw Error(T(349));Wr&30||fg(r,t,s)}return s}function fg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pg(e,t,r,n){t.value=r,t.getSnapshot=n,gg(t)&&yg(e)}function mg(e,t,r){return r(function(){gg(t)&&yg(e)})}function gg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vt(e,r)}catch{return!0}}function yg(e){var t=Bt(e,1);t!==null&&yt(t,e,1,-1)}function wh(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t.queue=e,e=e.dispatch=Lw.bind(null,ae,e),[t.memoizedState,e]}function Ys(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function vg(){return ut().memoizedState}function no(e,t,r,n){var s=bt();ae.flags|=e,s.memoizedState=Ys(1|t,r,void 0,n===void 0?null:n)}function ra(e,t,r,n){var s=ut();n=n===void 0?null:n;var i=void 0;if(me!==null){var o=me.memoizedState;if(i=o.destroy,n!==null&&Su(n,o.deps)){s.memoizedState=Ys(t,r,i,n);return}}ae.flags|=e,s.memoizedState=Ys(1|t,r,i,n)}function bh(e,t){return no(8390656,8,e,t)}function Cu(e,t){return ra(2048,8,e,t)}function xg(e,t){return ra(4,2,e,t)}function wg(e,t){return ra(4,4,e,t)}function bg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kg(e,t,r){return r=r!=null?r.concat([e]):null,ra(4,4,bg.bind(null,t,e),r)}function Tu(){}function _g(e,t){var r=ut();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Su(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Sg(e,t){var r=ut();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Su(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jg(e,t,r){return Wr&21?(vt(r,t)||(r=Pm(),ae.lanes|=r,Kr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=r)}function Ow(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Ja.transition;Ja.transition={};try{e(!1),t()}finally{J=r,Ja.transition=n}}function Eg(){return ut().memoizedState}function Mw(e,t,r){var n=mr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Cg(e))Tg(t,r);else if(r=lg(e,t,r,n),r!==null){var s=De();yt(r,e,n,s),Ng(r,t,n)}}function Lw(e,t,r){var n=mr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cg(e))Tg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,vt(a,o)){var l=t.interleaved;l===null?(s.next=s,xu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=lg(e,t,s,n),r!==null&&(s=De(),yt(r,e,n,s),Ng(r,t,n))}}function Cg(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Tg(e,t){Ss=Po=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ng(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iu(e,r)}}var Ao={readContext:ct,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},Dw={readContext:ct,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:bh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,no(4194308,4,bg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return no(4194308,4,e,t)},useInsertionEffect:function(e,t){return no(4,2,e,t)},useMemo:function(e,t){var r=bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Mw.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:wh,useDebugValue:Tu,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=wh(!1),t=e[0];return e=Ow.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ae,s=bt();if(ne){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),xe===null)throw Error(T(349));Wr&30||fg(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,bh(mg.bind(null,n,i,e),[e]),n.flags|=2048,Ys(9,pg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=bt(),t=xe.identifierPrefix;if(ne){var r=Ot,n=It;r=(n&~(1<<32-gt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ks++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Iw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fw={readContext:ct,useCallback:_g,useContext:ct,useEffect:Cu,useImperativeHandle:kg,useInsertionEffect:xg,useLayoutEffect:wg,useMemo:Sg,useReducer:Qa,useRef:vg,useState:function(){return Qa(qs)},useDebugValue:Tu,useDeferredValue:function(e){var t=ut();return jg(t,me.memoizedState,e)},useTransition:function(){var e=Qa(qs)[0],t=ut().memoizedState;return[e,t]},useMutableSource:dg,useSyncExternalStore:hg,useId:Eg,unstable_isNewReconciler:!1},$w={readContext:ct,useCallback:_g,useContext:ct,useEffect:Cu,useImperativeHandle:kg,useInsertionEffect:xg,useLayoutEffect:wg,useMemo:Sg,useReducer:Xa,useRef:vg,useState:function(){return Xa(qs)},useDebugValue:Tu,useDeferredValue:function(e){var t=ut();return me===null?t.memoizedState=e:jg(t,me.memoizedState,e)},useTransition:function(){var e=Xa(qs)[0],t=ut().memoizedState;return[e,t]},useMutableSource:dg,useSyncExternalStore:hg,useId:Eg,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var na={isMounted:function(e){return(e=e._reactInternals)?Qr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=De(),s=mr(e),i=Lt(n,s);i.payload=t,r!=null&&(i.callback=r),t=fr(e,i,s),t!==null&&(yt(t,e,s,n),to(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=De(),s=mr(e),i=Lt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fr(e,i,s),t!==null&&(yt(t,e,s,n),to(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=De(),n=mr(e),s=Lt(r,n);s.tag=2,t!=null&&(s.callback=t),t=fr(e,s,n),t!==null&&(yt(t,e,n,r),to(t,e,n))}};function kh(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Us(r,n)||!Us(s,i):!0}function Pg(e,t,r){var n=!1,s=xr,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=We(t)?Hr:Oe.current,n=t.contextTypes,i=(n=n!=null)?Ln(e,s):xr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=na,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function _h(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&na.enqueueReplaceState(t,t.state,null)}function rc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},wu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=We(t)?Hr:Oe.current,s.context=Ln(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tc(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&na.enqueueReplaceState(s,s.state,null),To(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,t){try{var r="",n=t;do r+=fx(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Za(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Vw=typeof WeakMap=="function"?WeakMap:Map;function Ag(e,t,r){r=Lt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Io||(Io=!0,fc=n),nc(e,t)},r}function Rg(e,t,r){r=Lt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){nc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){nc(e,t),typeof n!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Sh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Vw;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=eb.bind(null,e,t,r),t.then(e,e))}function jh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Eh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Lt(-1,1),t.tag=2,fr(r,t,1))),r.lanes|=1),e)}var Uw=Wt.ReactCurrentOwner,He=!1;function Me(e,t,r,n){t.child=e===null?ag(t,null,r,n):Fn(t,e.child,r,n)}function Ch(e,t,r,n,s){r=r.render;var i=t.ref;return Pn(t,s),n=ju(e,t,r,n,i,s),r=Eu(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(ne&&r&&fu(t),t.flags|=1,Me(e,t,n,s),t.child)}function Th(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Lu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ig(e,t,i,n,s)):(e=ao(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Us,r(o,n)&&e.ref===t.ref)return Ht(e,t,s)}return t.flags|=1,e=gr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ig(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Us(i,n)&&e.ref===t.ref)if(He=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Ht(e,t,s)}return sc(e,t,r,n,s)}function Og(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(wn,Ye),Ye|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(wn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(wn,Ye),Ye|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Z(wn,Ye),Ye|=n;return Me(e,t,s,r),t.child}function Mg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sc(e,t,r,n,s){var i=We(r)?Hr:Oe.current;return i=Ln(t,i),Pn(t,s),r=ju(e,t,r,n,i,s),n=Eu(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(ne&&n&&fu(t),t.flags|=1,Me(e,t,r,s),t.child)}function Nh(e,t,r,n,s){if(We(r)){var i=!0;_o(t)}else i=!1;if(Pn(t,s),t.stateNode===null)so(e,t),Pg(t,r,n),rc(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=We(r)?Hr:Oe.current,u=Ln(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&_h(t,o,n,u),tr=!1;var f=t.memoizedState;o.state=f,To(t,n,o,s),l=t.memoizedState,a!==n||f!==l||Ge.current||tr?(typeof d=="function"&&(tc(t,r,d,n),l=t.memoizedState),(a=tr||kh(t,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,cg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ht(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ct(l):(l=We(r)?Hr:Oe.current,l=Ln(t,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&_h(t,o,n,l),tr=!1,f=t.memoizedState,o.state=f,To(t,n,o,s);var x=t.memoizedState;a!==h||f!==x||Ge.current||tr?(typeof g=="function"&&(tc(t,r,g,n),x=t.memoizedState),(u=tr||kh(t,r,u,n,f,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return ic(e,t,r,n,i,s)}function ic(e,t,r,n,s,i){Mg(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&ph(t,r,!1),Ht(e,t,i);n=t.stateNode,Uw.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Fn(t,e.child,null,i),t.child=Fn(t,null,a,i)):Me(e,t,a,i),t.memoizedState=n.state,s&&ph(t,r,!0),t.child}function Lg(e){var t=e.stateNode;t.pendingContext?fh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fh(e,t.context,!1),bu(e,t.containerInfo)}function Ph(e,t,r,n,s){return Dn(),mu(s),t.flags|=256,Me(e,t,r,n),t.child}var oc={dehydrated:null,treeContext:null,retryLane:0};function ac(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dg(e,t,r){var n=t.pendingProps,s=ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(ie,s&1),e===null)return Zl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=oa(o,n,0,null),e=zr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ac(r),t.memoizedState=oc,e):Nu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return zw(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=gr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=gr(a,i):(i=zr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ac(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=oc,n}return i=e.child,e=i.sibling,n=gr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Nu(e,t){return t=oa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mi(e,t,r,n){return n!==null&&mu(n),Fn(t,e.child,null,r),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zw(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Za(Error(T(422))),Mi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=oa({mode:"visible",children:n.children},s,0,null),i=zr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Fn(t,e.child,null,o),t.child.memoizedState=ac(o),t.memoizedState=oc,i);if(!(t.mode&1))return Mi(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(T(419)),n=Za(i,n,void 0),Mi(e,t,o,n)}if(a=(o&e.childLanes)!==0,He||a){if(n=xe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bt(e,s),yt(n,e,s,-1))}return Mu(),n=Za(Error(T(421))),Mi(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=tb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Je=hr(s.nextSibling),Qe=t,ne=!0,mt=null,e!==null&&(st[it++]=It,st[it++]=Ot,st[it++]=Gr,It=e.id,Ot=e.overflow,Gr=t),t=Nu(t,n.children),t.flags|=4096,t)}function Ah(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ec(e.return,t,r)}function el(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Fg(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Me(e,t,n.children,r),n=ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,r,t);else if(e.tag===19)Ah(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Z(ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&No(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),el(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&No(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}el(t,!0,r,null,i);break;case"together":el(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function so(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Kr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=gr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=gr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Bw(e,t,r){switch(t.tag){case 3:Lg(t),Dn();break;case 5:ug(t);break;case 1:We(t.type)&&_o(t);break;case 4:bu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Z(Eo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Z(ie,ie.current&1),t.flags|=128,null):r&t.child.childLanes?Dg(e,t,r):(Z(ie,ie.current&1),e=Ht(e,t,r),e!==null?e.sibling:null);Z(ie,ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Fg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ie,ie.current),n)break;return null;case 22:case 23:return t.lanes=0,Og(e,t,r)}return Ht(e,t,r)}var $g,lc,Vg,Ug;$g=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lc=function(){};Vg=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Fr(St.current);var i=null;switch(r){case"input":s=Pl(e,s),n=Pl(e,n),i=[];break;case"select":s=le({},s,{value:void 0}),n=le({},n,{value:void 0}),i=[];break;case"textarea":s=Il(e,s),n=Il(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bo)}Ml(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Os.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Os.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&te("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ug=function(e,t,r,n){r!==n&&(t.flags|=4)};function os(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Hw(e,t,r){var n=t.pendingProps;switch(pu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return We(t.type)&&ko(),Te(t),null;case 3:return n=t.stateNode,$n(),re(Ge),re(Oe),_u(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(gc(mt),mt=null))),lc(e,t),Te(t),null;case 5:ku(t);var s=Fr(Ws.current);if(r=t.type,e!==null&&t.stateNode!=null)Vg(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return Te(t),null}if(e=Fr(St.current),Ii(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[kt]=t,n[Hs]=i,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(s=0;s<ms.length;s++)te(ms[s],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":Vd(n,i),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},te("invalid",n);break;case"textarea":zd(n,i),te("invalid",n)}Ml(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ri(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ri(n.textContent,a,e),s=["children",""+a]):Os.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&te("scroll",n)}switch(r){case"input":Si(n),Ud(n,i,!0);break;case"textarea":Si(n),Bd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=bo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[kt]=t,e[Hs]=n,$g(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ll(r,n),r){case"dialog":te("cancel",e),te("close",e),s=n;break;case"iframe":case"object":case"embed":te("load",e),s=n;break;case"video":case"audio":for(s=0;s<ms.length;s++)te(ms[s],e);s=n;break;case"source":te("error",e),s=n;break;case"img":case"image":case"link":te("error",e),te("load",e),s=n;break;case"details":te("toggle",e),s=n;break;case"input":Vd(e,n),s=Pl(e,n),te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=le({},n,{value:void 0}),te("invalid",e);break;case"textarea":zd(e,n),s=Il(e,n),te("invalid",e);break;default:s=n}Ml(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?vm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gm(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ms(e,l):typeof l=="number"&&Ms(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Os.hasOwnProperty(i)?l!=null&&i==="onScroll"&&te("scroll",e):l!=null&&Zc(e,i,l,o))}switch(r){case"input":Si(e),Ud(e,n,!1);break;case"textarea":Si(e),Bd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?En(e,!!n.multiple,i,!1):n.defaultValue!=null&&En(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)Ug(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=Fr(Ws.current),Fr(St.current),Ii(t)){if(n=t.stateNode,r=t.memoizedProps,n[kt]=t,(i=n.nodeValue!==r)&&(e=Qe,e!==null))switch(e.tag){case 3:Ri(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kt]=t,t.stateNode=n}return Te(t),null;case 13:if(re(ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Je!==null&&t.mode&1&&!(t.flags&128))ig(),Dn(),t.flags|=98560,i=!1;else if(i=Ii(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[kt]=t}else Dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),i=!1}else mt!==null&&(gc(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ge===0&&(ge=3):Mu())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return $n(),lc(e,t),e===null&&zs(t.stateNode.containerInfo),Te(t),null;case 10:return vu(t.type._context),Te(t),null;case 17:return We(t.type)&&ko(),Te(t),null;case 19:if(re(ie),i=t.memoizedState,i===null)return Te(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)os(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=No(e),o!==null){for(t.flags|=128,os(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Z(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&fe()>Un&&(t.flags|=128,n=!0,os(i,!1),t.lanes=4194304)}else{if(!n)if(e=No(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return Te(t),null}else 2*fe()-i.renderingStartTime>Un&&r!==1073741824&&(t.flags|=128,n=!0,os(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=fe(),t.sibling=null,r=ie.current,Z(ie,n?r&1|2:r&1),t):(Te(t),null);case 22:case 23:return Ou(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ye&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Gw(e,t){switch(pu(t),t.tag){case 1:return We(t.type)&&ko(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(),re(Ge),re(Oe),_u(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ku(t),null;case 13:if(re(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ie),null;case 4:return $n(),null;case 10:return vu(t.type._context),null;case 22:case 23:return Ou(),null;case 24:return null;default:return null}}var Li=!1,Pe=!1,Ww=typeof WeakSet=="function"?WeakSet:Set,R=null;function xn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ue(e,t,n)}else r.current=null}function cc(e,t,r){try{r()}catch(n){ue(e,t,n)}}var Rh=!1;function Kw(e,t){if(Wl=vo,e=Wm(),hu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kl={focusedElem:e,selectionRange:r},vo=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ht(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(b){ue(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return x=Rh,Rh=!1,x}function js(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&cc(t,r,i)}s=s.next}while(s!==n)}}function sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function zg(e){var t=e.alternate;t!==null&&(e.alternate=null,zg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Hs],delete t[Jl],delete t[Nw],delete t[Pw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bg(e){return e.tag===5||e.tag===3||e.tag===4}function Ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bo));else if(n!==4&&(e=e.child,e!==null))for(dc(e,t,r),e=e.sibling;e!==null;)dc(e,t,r),e=e.sibling}function hc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hc(e,t,r),e=e.sibling;e!==null;)hc(e,t,r),e=e.sibling}var we=null,ft=!1;function qt(e,t,r){for(r=r.child;r!==null;)Hg(e,t,r),r=r.sibling}function Hg(e,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Jo,r)}catch{}switch(r.tag){case 5:Pe||xn(r,t);case 6:var n=we,s=ft;we=null,qt(e,t,r),we=n,ft=s,we!==null&&(ft?(e=we,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):we.removeChild(r.stateNode));break;case 18:we!==null&&(ft?(e=we,r=r.stateNode,e.nodeType===8?Ka(e.parentNode,r):e.nodeType===1&&Ka(e,r),$s(e)):Ka(we,r.stateNode));break;case 4:n=we,s=ft,we=r.stateNode.containerInfo,ft=!0,qt(e,t,r),we=n,ft=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cc(r,t,o),s=s.next}while(s!==n)}qt(e,t,r);break;case 1:if(!Pe&&(xn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ue(r,t,a)}qt(e,t,r);break;case 21:qt(e,t,r);break;case 22:r.mode&1?(Pe=(n=Pe)||r.memoizedState!==null,qt(e,t,r),Pe=n):qt(e,t,r);break;default:qt(e,t,r)}}function Oh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ww),t.forEach(function(n){var s=rb.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function dt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,ft=!1;break e;case 3:we=a.stateNode.containerInfo,ft=!0;break e;case 4:we=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(we===null)throw Error(T(160));Hg(i,o,s),we=null,ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gg(t,e),t=t.sibling}function Gg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),xt(e),n&4){try{js(3,e,e.return),sa(3,e)}catch(v){ue(e,e.return,v)}try{js(5,e,e.return)}catch(v){ue(e,e.return,v)}}break;case 1:dt(t,e),xt(e),n&512&&r!==null&&xn(r,r.return);break;case 5:if(dt(t,e),xt(e),n&512&&r!==null&&xn(r,r.return),e.flags&32){var s=e.stateNode;try{Ms(s,"")}catch(v){ue(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&fm(s,i),Ll(a,o);var u=Ll(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?vm(s,h):d==="dangerouslySetInnerHTML"?gm(s,h):d==="children"?Ms(s,h):Zc(s,d,h,u)}switch(a){case"input":Al(s,i);break;case"textarea":pm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?En(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?En(s,!!i.multiple,i.defaultValue,!0):En(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hs]=i}catch(v){ue(e,e.return,v)}}break;case 6:if(dt(t,e),xt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ue(e,e.return,v)}}break;case 3:if(dt(t,e),xt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$s(t.containerInfo)}catch(v){ue(e,e.return,v)}break;case 4:dt(t,e),xt(e);break;case 13:dt(t,e),xt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ru=fe())),n&4&&Oh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pe=(u=Pe)||d,dt(t,e),Pe=u):dt(t,e),xt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,g=f.child,f.tag){case 0:case 11:case 14:case 15:js(4,f,f.return);break;case 1:xn(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ue(n,r,v)}}break;case 5:xn(f,f.return);break;case 22:if(f.memoizedState!==null){Lh(h);continue}}g!==null?(g.return=f,R=g):Lh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ym("display",o))}catch(v){ue(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ue(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dt(t,e),xt(e),n&4&&Oh(e);break;case 21:break;default:dt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bg(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ms(s,""),n.flags&=-33);var i=Ih(e);hc(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Ih(e);dc(e,a,o);break;default:throw Error(T(161))}}catch(l){ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qw(e,t,r){R=e,Wg(e)}function Wg(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Li;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Pe;a=Li;var u=Pe;if(Li=o,(Pe=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?Dh(s):l!==null?(l.return=o,R=l):Dh(s);for(;i!==null;)R=i,Wg(i),i=i.sibling;R=s,Li=a,Pe=u}Mh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Mh(e)}}function Mh(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||sa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ht(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xh(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xh(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$s(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Pe||t.flags&512&&uc(t)}catch(f){ue(t,t.return,f)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function Lh(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function Dh(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{sa(4,t)}catch(l){ue(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ue(t,s,l)}}var i=t.return;try{uc(t)}catch(l){ue(t,i,l)}break;case 5:var o=t.return;try{uc(t)}catch(l){ue(t,o,l)}}}catch(l){ue(t,t.return,l)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var Yw=Math.ceil,Ro=Wt.ReactCurrentDispatcher,Pu=Wt.ReactCurrentOwner,at=Wt.ReactCurrentBatchConfig,K=0,xe=null,pe=null,_e=0,Ye=0,wn=_r(0),ge=0,Js=null,Kr=0,ia=0,Au=0,Es=null,ze=null,Ru=0,Un=1/0,Pt=null,Io=!1,fc=null,pr=null,Di=!1,lr=null,Oo=0,Cs=0,pc=null,io=-1,oo=0;function De(){return K&6?fe():io!==-1?io:io=fe()}function mr(e){return e.mode&1?K&2&&_e!==0?_e&-_e:Rw.transition!==null?(oo===0&&(oo=Pm()),oo):(e=J,e!==0||(e=window.event,e=e===void 0?16:Dm(e.type)),e):1}function yt(e,t,r,n){if(50<Cs)throw Cs=0,pc=null,Error(T(185));li(e,r,n),(!(K&2)||e!==xe)&&(e===xe&&(!(K&2)&&(ia|=r),ge===4&&ir(e,_e)),Ke(e,n),r===1&&K===0&&!(t.mode&1)&&(Un=fe()+500,ta&&Sr()))}function Ke(e,t){var r=e.callbackNode;Rx(e,t);var n=yo(e,e===xe?_e:0);if(n===0)r!==null&&Wd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wd(r),t===1)e.tag===0?Aw(Fh.bind(null,e)):rg(Fh.bind(null,e)),Cw(function(){!(K&6)&&Sr()}),r=null;else{switch(Am(n)){case 1:r=su;break;case 4:r=Tm;break;case 16:r=go;break;case 536870912:r=Nm;break;default:r=go}r=e0(r,Kg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Kg(e,t){if(io=-1,oo=0,K&6)throw Error(T(327));var r=e.callbackNode;if(An()&&e.callbackNode!==r)return null;var n=yo(e,e===xe?_e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Mo(e,n);else{t=n;var s=K;K|=2;var i=Yg();(xe!==e||_e!==t)&&(Pt=null,Un=fe()+500,Ur(e,t));do try{Xw();break}catch(a){qg(e,a)}while(!0);yu(),Ro.current=i,K=s,pe!==null?t=0:(xe=null,_e=0,t=ge)}if(t!==0){if(t===2&&(s=Ul(e),s!==0&&(n=s,t=mc(e,s))),t===1)throw r=Js,Ur(e,0),ir(e,n),Ke(e,fe()),r;if(t===6)ir(e,n);else{if(s=e.current.alternate,!(n&30)&&!Jw(s)&&(t=Mo(e,n),t===2&&(i=Ul(e),i!==0&&(n=i,t=mc(e,i))),t===1))throw r=Js,Ur(e,0),ir(e,n),Ke(e,fe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:Ar(e,ze,Pt);break;case 3:if(ir(e,n),(n&130023424)===n&&(t=Ru+500-fe(),10<t)){if(yo(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){De(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yl(Ar.bind(null,e,ze,Pt),t);break}Ar(e,ze,Pt);break;case 4:if(ir(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-gt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yw(n/1960))-n,10<n){e.timeoutHandle=Yl(Ar.bind(null,e,ze,Pt),n);break}Ar(e,ze,Pt);break;case 5:Ar(e,ze,Pt);break;default:throw Error(T(329))}}}return Ke(e,fe()),e.callbackNode===r?Kg.bind(null,e):null}function mc(e,t){var r=Es;return e.current.memoizedState.isDehydrated&&(Ur(e,t).flags|=256),e=Mo(e,t),e!==2&&(t=ze,ze=r,t!==null&&gc(t)),e}function gc(e){ze===null?ze=e:ze.push.apply(ze,e)}function Jw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~Au,t&=~ia,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gt(t),n=1<<r;e[r]=-1,t&=~n}}function Fh(e){if(K&6)throw Error(T(327));An();var t=yo(e,0);if(!(t&1))return Ke(e,fe()),null;var r=Mo(e,t);if(e.tag!==0&&r===2){var n=Ul(e);n!==0&&(t=n,r=mc(e,n))}if(r===1)throw r=Js,Ur(e,0),ir(e,t),Ke(e,fe()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ar(e,ze,Pt),Ke(e,fe()),null}function Iu(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(Un=fe()+500,ta&&Sr())}}function qr(e){lr!==null&&lr.tag===0&&!(K&6)&&An();var t=K;K|=1;var r=at.transition,n=J;try{if(at.transition=null,J=1,e)return e()}finally{J=n,at.transition=r,K=t,!(K&6)&&Sr()}}function Ou(){Ye=wn.current,re(wn)}function Ur(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ew(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(pu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ko();break;case 3:$n(),re(Ge),re(Oe),_u();break;case 5:ku(n);break;case 4:$n();break;case 13:re(ie);break;case 19:re(ie);break;case 10:vu(n.type._context);break;case 22:case 23:Ou()}r=r.return}if(xe=e,pe=e=gr(e.current,null),_e=Ye=t,ge=0,Js=null,Au=ia=Kr=0,ze=Es=null,Dr!==null){for(t=0;t<Dr.length;t++)if(r=Dr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Dr=null}return e}function qg(e,t){do{var r=pe;try{if(yu(),ro.current=Ao,Po){for(var n=ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Po=!1}if(Wr=0,ve=me=ae=null,Ss=!1,Ks=0,Pu.current=null,r===null||r.return===null){ge=1,Js=t,pe=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=jh(o);if(g!==null){g.flags&=-257,Eh(g,o,a,i,t),g.mode&1&&Sh(i,u,t),t=g,l=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){Sh(i,u,t),Mu();break e}l=Error(T(426))}}else if(ne&&a.mode&1){var w=jh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Eh(w,o,a,i,t),mu(Vn(l,a));break e}}i=l=Vn(l,a),ge!==4&&(ge=2),Es===null?Es=[i]:Es.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Ag(i,l,t);vh(i,m);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pr===null||!pr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Rg(i,a,t);vh(i,b);break e}}i=i.return}while(i!==null)}Qg(r)}catch(k){t=k,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function Yg(){var e=Ro.current;return Ro.current=Ao,e===null?Ao:e}function Mu(){(ge===0||ge===3||ge===2)&&(ge=4),xe===null||!(Kr&268435455)&&!(ia&268435455)||ir(xe,_e)}function Mo(e,t){var r=K;K|=2;var n=Yg();(xe!==e||_e!==t)&&(Pt=null,Ur(e,t));do try{Qw();break}catch(s){qg(e,s)}while(!0);if(yu(),K=r,Ro.current=n,pe!==null)throw Error(T(261));return xe=null,_e=0,ge}function Qw(){for(;pe!==null;)Jg(pe)}function Xw(){for(;pe!==null&&!_x();)Jg(pe)}function Jg(e){var t=Zg(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Qg(e):pe=t,Pu.current=null}function Qg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Gw(r,t),r!==null){r.flags&=32767,pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,pe=null;return}}else if(r=Hw(r,t,Ye),r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ge===0&&(ge=5)}function Ar(e,t,r){var n=J,s=at.transition;try{at.transition=null,J=1,Zw(e,t,r,n)}finally{at.transition=s,J=n}return null}function Zw(e,t,r,n){do An();while(lr!==null);if(K&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Ix(e,i),e===xe&&(pe=xe=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Di||(Di=!0,e0(go,function(){return An(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=at.transition,at.transition=null;var o=J;J=1;var a=K;K|=4,Pu.current=null,Kw(e,r),Gg(r,e),xw(Kl),vo=!!Wl,Kl=Wl=null,e.current=r,qw(r),Sx(),K=a,J=o,at.transition=i}else e.current=r;if(Di&&(Di=!1,lr=e,Oo=s),i=e.pendingLanes,i===0&&(pr=null),Cx(r.stateNode),Ke(e,fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Io)throw Io=!1,e=fc,fc=null,e;return Oo&1&&e.tag!==0&&An(),i=e.pendingLanes,i&1?e===pc?Cs++:(Cs=0,pc=e):Cs=0,Sr(),null}function An(){if(lr!==null){var e=Am(Oo),t=at.transition,r=J;try{if(at.transition=null,J=16>e?16:e,lr===null)var n=!1;else{if(e=lr,lr=null,Oo=0,K&6)throw Error(T(331));var s=K;for(K|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:js(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,g=d.return;if(zg(d),d===u){R=null;break}if(f!==null){f.return=g,R=f;break}R=g}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:js(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,R=m;break e}R=i.return}}var p=e.current;for(R=p;R!==null;){o=R;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,R=y;else e:for(o=p;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sa(9,a)}}catch(k){ue(a,a.return,k)}if(a===o){R=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,R=b;break e}R=a.return}}if(K=s,Sr(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Jo,e)}catch{}n=!0}return n}finally{J=r,at.transition=t}}return!1}function $h(e,t,r){t=Vn(r,t),t=Ag(e,t,1),e=fr(e,t,1),t=De(),e!==null&&(li(e,1,t),Ke(e,t))}function ue(e,t,r){if(e.tag===3)$h(e,e,r);else for(;t!==null;){if(t.tag===3){$h(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pr===null||!pr.has(n))){e=Vn(r,e),e=Rg(t,e,1),t=fr(t,e,1),e=De(),t!==null&&(li(t,1,e),Ke(t,e));break}}t=t.return}}function eb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&r,xe===e&&(_e&r)===r&&(ge===4||ge===3&&(_e&130023424)===_e&&500>fe()-Ru?Ur(e,0):Au|=r),Ke(e,t)}function Xg(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var r=De();e=Bt(e,t),e!==null&&(li(e,t,r),Ke(e,r))}function tb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Xg(e,r)}function rb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),Xg(e,r)}var Zg;Zg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)He=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return He=!1,Bw(e,t,r);He=!!(e.flags&131072)}else He=!1,ne&&t.flags&1048576&&ng(t,jo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;so(e,t),e=t.pendingProps;var s=Ln(t,Oe.current);Pn(t,r),s=ju(null,t,n,e,s,r);var i=Eu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(n)?(i=!0,_o(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wu(t),s.updater=na,t.stateNode=s,s._reactInternals=t,rc(t,n,e,r),t=ic(null,t,n,!0,i,r)):(t.tag=0,ne&&i&&fu(t),Me(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(so(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=sb(n),e=ht(n,e),s){case 0:t=sc(null,t,n,e,r);break e;case 1:t=Nh(null,t,n,e,r);break e;case 11:t=Ch(null,t,n,e,r);break e;case 14:t=Th(null,t,n,ht(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),sc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),Nh(e,t,n,s,r);case 3:e:{if(Lg(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,cg(e,t),To(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Vn(Error(T(423)),t),t=Ph(e,t,n,r,s);break e}else if(n!==s){s=Vn(Error(T(424)),t),t=Ph(e,t,n,r,s);break e}else for(Je=hr(t.stateNode.containerInfo.firstChild),Qe=t,ne=!0,mt=null,r=ag(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dn(),n===s){t=Ht(e,t,r);break e}Me(e,t,n,r)}t=t.child}return t;case 5:return ug(t),e===null&&Zl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ql(n,s)?o=null:i!==null&&ql(n,i)&&(t.flags|=32),Mg(e,t),Me(e,t,o,r),t.child;case 6:return e===null&&Zl(t),null;case 13:return Dg(e,t,r);case 4:return bu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fn(t,null,n,r):Me(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),Ch(e,t,n,s,r);case 7:return Me(e,t,t.pendingProps,r),t.child;case 8:return Me(e,t,t.pendingProps.children,r),t.child;case 12:return Me(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Z(Eo,n._currentValue),n._currentValue=o,i!==null)if(vt(i.value,o)){if(i.children===s.children&&!Ge.current){t=Ht(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Lt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ec(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ec(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Me(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Pn(t,r),s=ct(s),n=n(s),t.flags|=1,Me(e,t,n,r),t.child;case 14:return n=t.type,s=ht(n,t.pendingProps),s=ht(n.type,s),Th(e,t,n,s,r);case 15:return Ig(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),so(e,t),t.tag=1,We(n)?(e=!0,_o(t)):e=!1,Pn(t,r),Pg(t,n,s),rc(t,n,s,r),ic(null,t,n,!0,e,r);case 19:return Fg(e,t,r);case 22:return Og(e,t,r)}throw Error(T(156,t.tag))};function e0(e,t){return Cm(e,t)}function nb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,r,n){return new nb(e,t,r,n)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sb(e){if(typeof e=="function")return Lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tu)return 11;if(e===ru)return 14}return 2}function gr(e,t){var r=e.alternate;return r===null?(r=ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ao(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Lu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case un:return zr(r.children,s,i,t);case eu:o=8,s|=8;break;case El:return e=ot(12,r,t,s|2),e.elementType=El,e.lanes=i,e;case Cl:return e=ot(13,r,t,s),e.elementType=Cl,e.lanes=i,e;case Tl:return e=ot(19,r,t,s),e.elementType=Tl,e.lanes=i,e;case um:return oa(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lm:o=10;break e;case cm:o=9;break e;case tu:o=11;break e;case ru:o=14;break e;case er:o=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=ot(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function zr(e,t,r,n){return e=ot(7,e,n,t),e.lanes=r,e}function oa(e,t,r,n){return e=ot(22,e,n,t),e.elementType=um,e.lanes=r,e.stateNode={isHidden:!1},e}function tl(e,t,r){return e=ot(6,e,null,t),e.lanes=r,e}function rl(e,t,r){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ib(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=La(0),this.expirationTimes=La(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Du(e,t,r,n,s,i,o,a,l){return e=new ib(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wu(i),e}function ob(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function t0(e){if(!e)return xr;e=e._reactInternals;e:{if(Qr(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(We(r))return tg(e,r,t)}return t}function r0(e,t,r,n,s,i,o,a,l){return e=Du(r,n,!0,e,s,i,o,a,l),e.context=t0(null),r=e.current,n=De(),s=mr(r),i=Lt(n,s),i.callback=t??null,fr(r,i,s),e.current.lanes=s,li(e,s,n),Ke(e,n),e}function aa(e,t,r,n){var s=t.current,i=De(),o=mr(s);return r=t0(r),t.context===null?t.context=r:t.pendingContext=r,t=Lt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fr(s,t,o),e!==null&&(yt(e,s,o,i),to(e,s,o)),o}function Lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Fu(e,t){Vh(e,t),(e=e.alternate)&&Vh(e,t)}function ab(){return null}var n0=typeof reportError=="function"?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}la.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));aa(e,t,null,null)};la.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qr(function(){aa(null,e,null,null)}),t[zt]=null}};function la(e){this._internalRoot=e}la.prototype.unstable_scheduleHydration=function(e){if(e){var t=Om();e={blockedOn:null,target:e,priority:t};for(var r=0;r<sr.length&&t!==0&&t<sr[r].priority;r++);sr.splice(r,0,e),r===0&&Lm(e)}};function Vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uh(){}function lb(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Lo(o);i.call(u)}}var o=r0(t,n,e,0,null,!1,!1,"",Uh);return e._reactRootContainer=o,e[zt]=o.current,zs(e.nodeType===8?e.parentNode:e),qr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Lo(l);a.call(u)}}var l=Du(e,0,!1,null,null,!1,!1,"",Uh);return e._reactRootContainer=l,e[zt]=l.current,zs(e.nodeType===8?e.parentNode:e),qr(function(){aa(t,l,r,n)}),l}function ua(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Lo(o);a.call(l)}}aa(t,o,e,s)}else o=lb(r,t,e,s,n);return Lo(o)}Rm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ps(t.pendingLanes);r!==0&&(iu(t,r|1),Ke(t,fe()),!(K&6)&&(Un=fe()+500,Sr()))}break;case 13:qr(function(){var n=Bt(e,1);if(n!==null){var s=De();yt(n,e,1,s)}}),Fu(e,1)}};ou=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var r=De();yt(t,e,134217728,r)}Fu(e,134217728)}};Im=function(e){if(e.tag===13){var t=mr(e),r=Bt(e,t);if(r!==null){var n=De();yt(r,e,t,n)}Fu(e,t)}};Om=function(){return J};Mm=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};Fl=function(e,t,r){switch(t){case"input":if(Al(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ea(n);if(!s)throw Error(T(90));hm(n),Al(n,s)}}}break;case"textarea":pm(e,r);break;case"select":t=r.value,t!=null&&En(e,!!r.multiple,t,!1)}};bm=Iu;km=qr;var cb={usingClientEntryPoint:!1,Events:[ui,pn,ea,xm,wm,Iu]},as={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ub={bundleType:as.bundleType,version:as.version,rendererPackageName:as.rendererPackageName,rendererConfig:as.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jm(e),e===null?null:e.stateNode},findFiberByHostInstance:as.findFiberByHostInstance||ab,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fi.isDisabled&&Fi.supportsFiber)try{Jo=Fi.inject(ub),_t=Fi}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cb;et.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vu(t))throw Error(T(200));return ob(e,t,null,r)};et.createRoot=function(e,t){if(!Vu(e))throw Error(T(299));var r=!1,n="",s=n0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Du(e,1,!1,null,null,r,!1,n,s),e[zt]=t.current,zs(e.nodeType===8?e.parentNode:e),new $u(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=jm(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return qr(e)};et.hydrate=function(e,t,r){if(!ca(t))throw Error(T(200));return ua(null,e,t,!0,r)};et.hydrateRoot=function(e,t,r){if(!Vu(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=n0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=r0(t,null,e,1,r??null,s,!1,i,o),e[zt]=t.current,zs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new la(t)};et.render=function(e,t,r){if(!ca(t))throw Error(T(200));return ua(null,e,t,!1,r)};et.unmountComponentAtNode=function(e){if(!ca(e))throw Error(T(40));return e._reactRootContainer?(qr(function(){ua(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};et.unstable_batchedUpdates=Iu;et.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ca(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return ua(e,t,r,!1,n)};et.version="18.3.1-next-f1338f8080-20240426";function s0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s0)}catch(e){console.error(e)}}s0(),sm.exports=et;var db=sm.exports,i0,zh=db;i0=zh.createRoot,zh.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>S.createElement("svg",{ref:d,...hb,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${fb(e)}`,a].join(" "),...u},[...t.map(([h,f])=>S.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=F("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=F("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=F("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=F("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=F("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=F("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=F("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=F("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=F("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=F("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=F("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=F("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=F("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function c0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=c0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Lb(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=c0(e))&&(n&&(n+=" "),n+=t);return n}const Hu="-",Db=e=>{const t=$b(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(Hu);return a[0]===""&&a.length!==1&&a.shift(),u0(a,t)||Fb(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},u0=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?u0(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Hu);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},qh=/^\[(.+)\]$/,Fb=e=>{if(qh.test(e)){const t=qh.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},$b=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Ub(Object.entries(e.classGroups),r).forEach(([i,o])=>{yc(o,n,i,t)}),n},yc=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Yh(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Vb(s)){yc(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{yc(o,Yh(t,i),r,n)})})},Yh=(e,t)=>{let r=e;return t.split(Hu).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Vb=e=>e.isThemeGetter,Ub=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,zb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},d0="!",Bb=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,d=0,h;for(let w=0;w<a.length;w++){let m=a[w];if(u===0){if(m===s&&(n||a.slice(w,w+i)===t)){l.push(a.slice(d,w)),d=w+i;continue}if(m==="/"){h=w;continue}}m==="["?u++:m==="]"&&u--}const f=l.length===0?a:a.substring(d),g=f.startsWith(d0),x=g?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:o}):o},Hb=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Gb=e=>({cache:zb(e.cacheSize),parseClassName:Bb(e),...Db(e)}),Wb=/\s+/,Kb=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(Wb);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=r(u);let x=!!g,v=n(x?f.substring(0,g):f);if(!v){if(!x){a=u+(a.length>0?" "+a:a);continue}if(v=n(f),!v){a=u+(a.length>0?" "+a:a);continue}x=!1}const w=Hb(d).join(":"),m=h?w+d0:w,p=m+v;if(i.includes(p))continue;i.push(p);const y=s(v,x);for(let b=0;b<y.length;++b){const k=y[b];i.push(m+k)}a=u+(a.length>0?" "+a:a)}return a};function qb(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=h0(t))&&(n&&(n+=" "),n+=r);return n}const h0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=h0(e[n]))&&(r&&(r+=" "),r+=t);return r};function Yb(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((d,h)=>h(d),e());return r=Gb(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=Kb(l,r);return s(l,d),d}return function(){return i(qb.apply(null,arguments))}}const ee=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},f0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jb=/^\d+\/\d+$/,Qb=new Set(["px","full","screen"]),Xb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,t1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,r1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nt=e=>In(e)||Qb.has(e)||Jb.test(e),Yt=e=>Jn(e,"length",u1),In=e=>!!e&&!Number.isNaN(Number(e)),sl=e=>Jn(e,"number",In),ls=e=>!!e&&Number.isInteger(Number(e)),n1=e=>e.endsWith("%")&&In(e.slice(0,-1)),$=e=>f0.test(e),Jt=e=>Xb.test(e),s1=new Set(["length","size","percentage"]),i1=e=>Jn(e,s1,p0),o1=e=>Jn(e,"position",p0),a1=new Set(["image","url"]),l1=e=>Jn(e,a1,h1),c1=e=>Jn(e,"",d1),cs=()=>!0,Jn=(e,t,r)=>{const n=f0.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},u1=e=>Zb.test(e)&&!e1.test(e),p0=()=>!1,d1=e=>t1.test(e),h1=e=>r1.test(e),f1=()=>{const e=ee("colors"),t=ee("spacing"),r=ee("blur"),n=ee("brightness"),s=ee("borderColor"),i=ee("borderRadius"),o=ee("borderSpacing"),a=ee("borderWidth"),l=ee("contrast"),u=ee("grayscale"),d=ee("hueRotate"),h=ee("invert"),f=ee("gap"),g=ee("gradientColorStops"),x=ee("gradientColorStopPositions"),v=ee("inset"),w=ee("margin"),m=ee("opacity"),p=ee("padding"),y=ee("saturate"),b=ee("scale"),k=ee("sepia"),j=ee("skew"),C=ee("space"),E=ee("translate"),I=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",$,t],P=()=>[$,t],q=()=>["",Nt,Yt],se=()=>["auto",In,$],Ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ee=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",$],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[In,$];return{cacheSize:500,separator:":",theme:{colors:[cs],spacing:[Nt,Yt],blur:["none","",Jt,$],brightness:z(),borderColor:[e],borderRadius:["none","","full",Jt,$],borderSpacing:P(),borderWidth:q(),contrast:z(),grayscale:N(),hueRotate:z(),invert:N(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[n1,Yt],inset:A(),margin:A(),opacity:z(),padding:P(),saturate:z(),scale:z(),sepia:N(),skew:z(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[Jt]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ve(),$]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ls,$]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",ls,$]}],"grid-cols":[{"grid-cols":[cs]}],"col-start-end":[{col:["auto",{span:["full",ls,$]},$]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[cs]}],"row-start-end":[{row:["auto",{span:[ls,$]},$]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$,t]}],"min-w":[{"min-w":[$,t,"min","max","fit"]}],"max-w":[{"max-w":[$,t,"none","full","min","max","fit","prose",{screen:[Jt]},Jt]}],h:[{h:[$,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jt,Yt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sl]}],"font-family":[{font:[cs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",In,sl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nt,$]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nt,Yt]}],"underline-offset":[{"underline-offset":["auto",Nt,$]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ve(),o1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",i1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},l1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...Ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:Ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ee()]}],"outline-offset":[{"outline-offset":[Nt,$]}],"outline-w":[{outline:[Nt,Yt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Nt,Yt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jt,c1]}],"shadow-color":[{shadow:[cs]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Jt,$]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ls,$]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nt,Yt,sl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},p1=Yb(f1);function Y(...e){return p1(Lb(e))}const m1="modulepreload",g1=function(e){return"/"+e},Jh={},Le=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=g1(l),l in Jh)return;Jh[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":m1,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},y1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},Qh=e=>{let t;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const g=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(x=>x(t,g))}},s=()=>t,l={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(y1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,l);return l},v1=e=>e?Qh(e):Qh;var m0={exports:{}},g0={},y0={exports:{}},v0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=S;function x1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var w1=typeof Object.is=="function"?Object.is:x1,b1=zn.useState,k1=zn.useEffect,_1=zn.useLayoutEffect,S1=zn.useDebugValue;function j1(e,t){var r=t(),n=b1({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return _1(function(){s.value=r,s.getSnapshot=t,il(s)&&i({inst:s})},[e,r,t]),k1(function(){return il(s)&&i({inst:s}),e(function(){il(s)&&i({inst:s})})},[e]),S1(r),r}function il(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!w1(e,r)}catch{return!0}}function E1(e,t){return t()}var C1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E1:j1;v0.useSyncExternalStore=zn.useSyncExternalStore!==void 0?zn.useSyncExternalStore:C1;y0.exports=v0;var T1=y0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=S,N1=T1;function P1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A1=typeof Object.is=="function"?Object.is:P1,R1=N1.useSyncExternalStore,I1=fa.useRef,O1=fa.useEffect,M1=fa.useMemo,L1=fa.useDebugValue;g0.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=I1(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=M1(function(){function l(g){if(!u){if(u=!0,d=g,g=n(g),s!==void 0&&o.hasValue){var x=o.value;if(s(x,g))return h=x}return h=g}if(x=h,A1(d,g))return x;var v=n(g);return s!==void 0&&s(x,v)?x:(d=g,h=v)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,s]);var a=R1(e,i[0],i[1]);return O1(function(){o.hasValue=!0,o.value=a},[a]),L1(a),a};m0.exports=g0;var D1=m0.exports;const F1=Wp(D1),x0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},{useDebugValue:$1}=Jc,{useSyncExternalStoreWithSelector:V1}=F1;let Xh=!1;const U1=e=>e;function z1(e,t=U1,r){(x0?"production":void 0)!=="production"&&r&&!Xh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xh=!0);const n=V1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return $1(n),n}const Zh=e=>{(x0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?v1(e):e,r=(n,s)=>z1(t,n,s);return Object.assign(r,t),r},jr=e=>e?Zh(e):Zh,B1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"};function H1(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=r.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const Zs=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Zs(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Zs(n)(r)}}}},G1=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,m)=>({...m,...w}),...t},o=!1;const a=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...w)},n,s);const d=Zs(i.serialize),h=()=>{const w=i.partialize({...n()});let m;const p=d({state:w,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{m=y});if(m)throw m;return p},f=s.setState;s.setState=(w,m)=>{f(w,m),h()};const g=e((...w)=>{r(...w),h()},n,s);let x;const v=()=>{var w;if(!u)return;o=!1,a.forEach(p=>p(n()));const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,n()))||void 0;return Zs(u.getItem.bind(u))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var y;return x=i.merge(p,(y=n())!=null?y:g),r(x,!0),h()}).then(()=>{m==null||m(x,void 0),o=!0,l.forEach(p=>p(x))}).catch(p=>{m==null||m(void 0,p)})};return s.persist={setOptions:w=>{i={...i,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},v(),x||g},W1=(e,t)=>(r,n,s)=>{let i={storage:H1(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...t},o=!1;const a=new Set,l=new Set;let u=i.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...v)},n,s);const d=()=>{const v=i.partialize({...n()});return u.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,w)=>{h(v,w),d()};const f=e((...v)=>{r(...v),d()},n,s);s.getInitialState=()=>f;let g;const x=()=>{var v,w;if(!u)return;o=!1,a.forEach(p=>{var y;return p((y=n())!=null?y:f)});const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(v=n())!=null?v:f))||void 0;return Zs(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var y;const[b,k]=p;if(g=i.merge(k,(y=n())!=null?y:f),r(g,!0),b)return d()}).then(()=>{m==null||m(g,void 0),g=n(),o=!0,l.forEach(p=>p(g))}).catch(p=>{m==null||m(void 0,p)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||x(),g||f},K1=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((B1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),G1(e,t)):W1(e,t),pa=K1,q1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Le(async()=>{const{default:n}=await Promise.resolve().then(()=>Qn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Gu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Y1 extends Gu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class J1 extends Gu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Q1 extends Gu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vc||(vc={}));var X1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Z1{constructor(t,{headers:r={},customFetch:n,region:s=vc.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=q1(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return X1(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new Y1(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new J1(d);if(!d.ok)throw new Q1(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Be={},Wu={},ma={},fi={},ga={},ya={},ek=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bn=ek();const tk=Bn.fetch,w0=Bn.fetch.bind(Bn),b0=Bn.Headers,rk=Bn.Request,nk=Bn.Response,Qn=Object.freeze(Object.defineProperty({__proto__:null,Headers:b0,Request:rk,Response:nk,default:w0,fetch:tk},Symbol.toStringTag,{value:"Module"})),sk=$v(Qn);var va={};Object.defineProperty(va,"__esModule",{value:!0});let ik=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};va.default=ik;var k0=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const ok=k0(sk),ak=k0(va);let lk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ok.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&v===""?(f=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new ak.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ya.default=lk;var ck=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ga,"__esModule",{value:!0});const uk=ck(ya);let dk=class extends uk.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ga.default=dk;var hk=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fi,"__esModule",{value:!0});const fk=hk(ga);let pk=class extends fk.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};fi.default=pk;var mk=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ma,"__esModule",{value:!0});const us=mk(fi);let gk=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new us.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new us.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new us.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ma.default=gk;var xa={},wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.version=void 0;wa.version="0.0.0-automated";Object.defineProperty(xa,"__esModule",{value:!0});xa.DEFAULT_HEADERS=void 0;const yk=wa;xa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${yk.version}`};var _0=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wu,"__esModule",{value:!0});const vk=_0(ma),xk=_0(fi),wk=xa;let bk=class S0{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},wk.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new vk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new S0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new xk.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Wu.default=bk;var Xn=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const j0=Xn(Wu);Be.PostgrestClient=j0.default;const E0=Xn(ma);Be.PostgrestQueryBuilder=E0.default;const C0=Xn(fi);Be.PostgrestFilterBuilder=C0.default;const T0=Xn(ga);Be.PostgrestTransformBuilder=T0.default;const N0=Xn(ya);Be.PostgrestBuilder=N0.default;const P0=Xn(va);Be.PostgrestError=P0.default;var kk=Be.default={PostgrestClient:j0.default,PostgrestQueryBuilder:E0.default,PostgrestFilterBuilder:C0.default,PostgrestTransformBuilder:T0.default,PostgrestBuilder:N0.default,PostgrestError:P0.default};const{PostgrestClient:_k,PostgrestQueryBuilder:WN,PostgrestFilterBuilder:KN,PostgrestTransformBuilder:qN,PostgrestBuilder:YN,PostgrestError:JN}=kk,Sk="2.11.2",jk={"X-Client-Info":`realtime-js/${Sk}`},Ek="1.0.0",A0=1e4,Ck=1e3;var On;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(On||(On={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var xc;(function(e){e.websocket="websocket"})(xc||(xc={}));var Mr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mr||(Mr={}));class Tk{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class R0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(X||(X={}));const ef=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Nk(o,e,t,s),i),{})},Nk=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?I0(i,o):wc(o)},I0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ik(t,r)}switch(e){case X.bool:return Pk(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Ak(t);case X.json:case X.jsonb:return Rk(t);case X.timestamp:return Ok(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return wc(t);default:return wc(t)}},wc=e=>e,Pk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ak=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Rk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ik=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>I0(t,a))}return e},Ok=e=>typeof e=="string"?e.replace(" ","T"):e,O0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ol{constructor(t,r,n={},s=A0){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var tf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(tf||(tf={}));class Ts{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ts.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ts.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ts.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),g=h.map(w=>w.presence_ref),x=d.filter(w=>g.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);x.length>0&&(a[u]=x),v.length>0&&(l[u]=v)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rf||(rf={}));var nf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nf||(nf={}));var At;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(At||(At={}));class Ku{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ol(this,pt.join,this.params,this.timeout),this.rejoinTimer=new R0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ts(this),this.broadcastEndpointURL=O0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(At.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(At.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(At.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let v=0;v<g;v++){const w=f[v],{filter:{event:m,schema:p,table:y,filter:b}}=w,k=d&&d[v];if(k&&k.event===m&&k.schema===p&&k.table===y&&k.filter===b)x.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),t==null||t(At.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(At.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(At.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(At.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new ol(this,pt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ol(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=pt;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,v,w;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,v,w,m,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,k=(x=g.filter)===null||x===void 0?void 0:x.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:v,table:w,commit_timestamp:m,type:p,errors:y}=x;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:m,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(x))}g.callback(f,n)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ku.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ef(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ef(t.columns,t.old_record)),r}}const Mk=()=>{},Lk=typeof WebSocket<"u",Dk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fk{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=jk,this.params={},this.timeout=A0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Mk,this.conn=null,this.sendBuffer=[],this.serializer=new Tk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Le(async()=>{const{default:l}=await Promise.resolve().then(()=>Qn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${xc.websocket}`,this.httpEndpoint=O0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new R0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Lk){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $k(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Le(async()=>{const{default:t}=await import("./browser-CuH3qlvH.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ek}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case On.connecting:return Mr.Connecting;case On.open:return Mr.Open;case On.closing:return Mr.Closing;default:return Mr.Closed}}isConnected(){return this.connectionState()===Mr.Open}channel(t,r={config:{}}){const n=new Ku(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(pt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ck,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Dk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class $k{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=On.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class qu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Vk extends qu{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bc extends qu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Uk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const M0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Le(async()=>{const{default:n}=await Promise.resolve().then(()=>Qn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zk=()=>Uk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Le(()=>Promise.resolve().then(()=>Qn),void 0)).Response:Response}),kc=e=>{if(Array.isArray(e))return e.map(r=>kc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=kc(n)}),t};var Zr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const al=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bk=(e,t,r)=>Zr(void 0,void 0,void 0,function*(){const n=yield zk();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Vk(al(s),e.status||500))}).catch(s=>{t(new bc(al(s),s))}):t(new bc(al(e),e))}),Hk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function pi(e,t,r,n,s,i){return Zr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Hk(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Bk(l,a,n))})})}function Fo(e,t,r,n){return Zr(this,void 0,void 0,function*(){return pi(e,"GET",t,r,n)})}function rr(e,t,r,n,s){return Zr(this,void 0,void 0,function*(){return pi(e,"POST",t,n,s,r)})}function Gk(e,t,r,n,s){return Zr(this,void 0,void 0,function*(){return pi(e,"PUT",t,n,s,r)})}function Wk(e,t,r,n){return Zr(this,void 0,void 0,function*(){return pi(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function L0(e,t,r,n,s){return Zr(this,void 0,void 0,function*(){return pi(e,"DELETE",t,n,s,r)})}var Ue=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Kk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qk{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=M0(s)}uploadOrUpdate(t,r,n,s){return Ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},sf),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:sf.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield rr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new qu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield rr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ue(this,void 0,void 0,function*(){try{const s=yield rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}download(t,r){return Ue(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Fo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}})}info(t){return Ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Fo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:kc(n),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}exists(t){return Ue(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Wk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ye(n)&&n instanceof bc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield L0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Kk),r),{prefix:t||""});return{data:yield rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Yk="2.7.1",Jk={"X-Client-Info":`storage-js/${Yk}`};var nn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Qk{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Jk),r),this.fetch=M0(n)}listBuckets(){return nn(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}})}getBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return nn(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return nn(this,void 0,void 0,function*(){try{return{data:yield Gk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield L0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}}class Xk extends Qk{constructor(t,r={},n){super(t,r,n)}from(t){return new qk(this.url,this.headers,t,this.fetch)}}const Zk="2.49.1";let gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";const e_={"X-Client-Info":`supabase-js-${gs}/${Zk}`},t_={headers:e_},r_={schema:"public"},n_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s_={};var i_=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const o_=e=>{let t;return e?t=e:typeof fetch>"u"?t=w0:t=fetch,(...r)=>t(...r)},a_=()=>typeof Headers>"u"?b0:Headers,l_=(e,t,r)=>{const n=o_(r),s=a_();return(i,o)=>i_(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var c_=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function u_(e){return e.replace(/\/$/,"")}function d_(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>c_(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const D0="2.68.0",ln=30*1e3,_c=3,ll=_c*ln,h_="http://localhost:9999",f_="supabase.auth.token",p_={"X-Client-Info":`gotrue-js/${D0}`},Sc="X-Supabase-Api-Version",F0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function m_(e){return Math.round(Date.now()/1e3)+e}function g_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const wt=()=>typeof window<"u"&&typeof document<"u",Tr={tested:!1,writable:!1},Ns=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tr.tested)return Tr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Tr.tested=!0,Tr.writable=!0}catch{Tr.tested=!0,Tr.writable=!1}return Tr.writable};function y_(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const $0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Le(async()=>{const{default:n}=await Promise.resolve().then(()=>Qn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},v_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",V0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ui=async(e,t)=>{await e.removeItem(t)};function x_(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,a,l,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class ba{constructor(){this.promise=new ba.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ba.promiseConstructor=Promise;function of(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(x_(n))}async function w_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function b_(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function k_(e){return("0"+e.toString(16)).substr(-2)}function __(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,k_).join("")}async function S_(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function j_(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function E_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await S_(e);return j_(r)}async function sn(e,t,r=!1){const n=__();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await V0(e,`${t}-code-verifier`,s);const i=await E_(n);return[i,n===i?"plain":"s256"]}const C_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T_(e){const t=e.headers.get(Sc);if(!t||!t.match(C_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Yu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class N_ extends Yu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function P_(e){return U(e)&&e.name==="AuthApiError"}class U0 extends Yu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class en extends Yu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Qt extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A_(e){return U(e)&&e.name==="AuthSessionMissingError"}class cl extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zi extends en{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bi extends en{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R_(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class af extends en{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jc extends en{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ul(e){return U(e)&&e.name==="AuthRetryableFetchError"}class lf extends en{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var I_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),O_=[502,503,504];async function cf(e){var t;if(!v_(e))throw new jc(Rr(e),0);if(O_.includes(e.status))throw new jc(Rr(e),e.status);let r;try{r=await e.json()}catch(i){throw new U0(Rr(i),i)}let n;const s=T_(e);if(s&&s.getTime()>=F0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new lf(Rr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Qt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new lf(Rr(r),e.status,r.weak_password.reasons);throw new N_(Rr(r),e.status||500,n)}const M_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function W(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Sc]||(i[Sc]=F0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await L_(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function L_(e,t,r,n,s,i){const o=M_(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new jc(Rr(l),0)}if(a.ok||await cf(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await cf(l)}}function Xt(e){var t;let r=null;V_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=m_(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function uf(e){const t=Xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function or(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function D_(e){return{data:e,error:null}}function F_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=I_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function $_(e){return e}function V_(e){return e.access_token&&e.refresh_token&&e.expires_in}var U_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class z_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:or})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=U_(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:F_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:or})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$_});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:or})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:or})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:or})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}const B_={getItem:e=>Ns()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ns()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ns()&&globalThis.localStorage.removeItem(e)}};function df(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function H_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const on={debug:!!(globalThis&&Ns()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class G_ extends z0{}async function W_(e,t,r){on.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),on.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){on.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{on.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw on.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new G_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(on.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}H_();const K_={url:h_,storageKey:f_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:p_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hf(e,t,r){return await r()}class ei{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ei.nextInstanceID,ei.nextInstanceID+=1,this.instanceID>0&&wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},K_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new z_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$0(s.fetch),this.lock=s.lock||hf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=W_:this.lock=hf,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ns()?this.storage=B_:(this.memoryStorage={},this.storage=df(this.memoryStorage)):(this.memoryStorage={},this.storage=df(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${D0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=y_(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),wt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),R_(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new U0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await sn(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:x},xform:Xt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xt})}else throw new zi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:uf})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:uf})}else throw new zi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Vi(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xt});if(await Ui(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new cl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sn(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new zi("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await sn(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:D_})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Qt;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await W(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await W(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new zi("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ll:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:or}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:or})})}catch(r){if(U(r))return A_(r)&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Qt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await sn(this.storage,this.storageKey));const{data:u,error:d}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:or});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return of(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=of(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Qt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!wt())throw new Bi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new af("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new af("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Bi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(U(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(P_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=g_(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await sn(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return wt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await b_(async s=>(s>0&&await w_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ul(i)&&Date.now()+o-n<ln})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Vi(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ll;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ll}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),ul(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ba;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),U(i)){const o={session:null,error:i};return ul(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await V0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ui(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ln);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ln}ms, refresh threshold is ${_c} ticks`),s<=_c&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await sn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}ei.nextInstanceID=0;const q_=ei;class Y_ extends q_{constructor(t){super(t)}}var J_=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Q_{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=u_(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:r_,realtime:s_,auth:Object.assign(Object.assign({},n_),{storageKey:l}),global:t_},d=d_(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=l_(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new _k(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Z1(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Xk(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return J_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y_({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Fk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const X_=(e,t,r)=>new Q_(e,t,r),Z_="https://ptmfcodrlfufrzkxrtxg.supabase.co",eS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",V=X_(Z_,eS),$o=new Map,Ju=new Map;let tS=1;function Qu(e){var s,i;let t=$o.get(e.id);t||(t=tS++,$o.set(e.id,t),Ju.set(t,e.id));const r=e.reviews||[],n=r.length>0?r.reduce((o,a)=>o+a.rating,0)/r.length:0;return{id:t,title:e.title,description:e.description,image:e.image,prepTime:e.prep_time,difficulty:e.difficulty,rating:Number(n.toFixed(1)),category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutritionFacts:{calories:Number(e.nutrition_facts.calories),protein:Number(e.nutrition_facts.protein),carbs:Number(e.nutrition_facts.carbs),fat:Number(e.nutrition_facts.fat),fiber:Number(e.nutrition_facts.fiber)},reviews:r.map(o=>({id:o.id,userId:o.user_id,userName:o.profiles.full_name,rating:o.rating,comment:o.comment||"",date:new Date(o.created_at).toISOString().split("T")[0]})),authorId:e.author_id,authorName:(s=e.profiles)==null?void 0:s.full_name,authorType:(i=e.profiles)==null?void 0:i.user_type,createdAt:e.created_at,updatedAt:e.updated_at}}function mi(e){return Ju.get(e)||null}async function B0(e){console.log("Creating user profile:",e);const{data:t,error:r}=await V.from("profiles").insert([e]).select().single();if(r)throw console.error("Error creating user profile:",r),r;return console.log("User profile created successfully:",t),t}async function rS(e,t){const{data:r,error:n}=await V.from("profiles").update({full_name:t.name,user_type:t.type,email:t.email}).eq("id",e).select().single();if(n)throw n;return r}async function Ec(e){console.log("Getting user profile for ID:",e);const{data:t,error:r}=await V.from("profiles").select("*").eq("id",e).single();if(r)throw console.error("Error getting user profile:",r),r;return console.log("User profile retrieved:",t),t}async function H0(e){console.log("Creating recipe:",e);const{data:t,error:r}=await V.from("recipes").insert([{title:e.title,description:e.description,image:e.image,prep_time:e.prepTime,difficulty:e.difficulty,category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutrition_facts:{calories:Number(e.nutritionFacts.calories),protein:Number(e.nutritionFacts.protein),carbs:Number(e.nutritionFacts.carbs),fat:Number(e.nutritionFacts.fat),fiber:Number(e.nutritionFacts.fiber)},author_id:e.authorId}]).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(r)throw console.error("Error creating recipe:",r),r;return console.log("Recipe created successfully:",t),Qu(t)}async function G0(e,t){const r=mi(e);if(!r)throw new Error("Receita não encontrada");const{data:n,error:s}=await V.from("recipes").update({title:t.title,description:t.description,image:t.image,prep_time:t.prepTime,difficulty:t.difficulty,category:t.category,ingredients:t.ingredients,instructions:t.instructions,nutrition_facts:t.nutritionFacts?{calories:Number(t.nutritionFacts.calories),protein:Number(t.nutritionFacts.protein),carbs:Number(t.nutritionFacts.carbs),fat:Number(t.nutritionFacts.fat),fiber:Number(t.nutritionFacts.fiber)}:void 0}).eq("id",r).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(s)throw s;return Qu(n)}async function W0(e){const t=mi(e);if(!t)throw new Error("Receita não encontrada");const{error:r}=await V.from("recipes").delete().eq("id",t);if(r)throw r;$o.delete(t),Ju.delete(e)}async function K0(){console.log("Fetching recipes from Supabase...");const{data:e,error:t}=await V.from("recipes").select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),t;if(console.log("Raw recipes from database:",(e==null?void 0:e.length)||0),!e||e.length===0)return console.log("No recipes found in database"),[];const r=e.map(Qu);return console.log("Converted recipes:",r.length),r}async function q0(e,t){const r=mi(e);if(!r)throw new Error("Receita não encontrada");console.log("Adding review to recipe:",{recipeId:e,uuid:r,review:t});const{data:n,error:s}=await V.from("reviews").insert([{recipe_id:r,user_id:t.user_id,rating:t.rating,comment:t.comment}]).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(s)throw console.error("Error adding review:",s),s;return console.log("Review added successfully:",n),n}async function Y0(e,t){console.log("Updating review:",{reviewId:e,updates:t});const{data:r,error:n}=await V.from("reviews").update({rating:t.rating,comment:t.comment}).eq("id",e).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(n)throw console.error("Error updating review:",n),n;return console.log("Review updated successfully:",r),r}async function J0(e){console.log("Deleting review:",e);const{error:t}=await V.from("reviews").delete().eq("id",e);if(t)throw console.error("Error deleting review:",t),t;console.log("Review deleted successfully")}async function Q0(e,t){const r=mi(t);if(!r)throw new Error("Receita não encontrada");const{error:n}=await V.from("favorites").insert([{user_id:e,recipe_id:r}]);if(n)throw console.error("Error adding to favorites:",n),n}async function X0(e,t){const r=mi(t);if(!r)throw new Error("Receita não encontrada");const{error:n}=await V.from("favorites").delete().eq("user_id",e).eq("recipe_id",r);if(n)throw console.error("Error removing from favorites:",n),n}async function Z0(e){console.log("Fetching favorites for user:",e);const{data:t,error:r}=await V.from("favorites").select("recipe_id").eq("user_id",e);if(r)throw console.error("Error fetching favorites:",r),r;console.log("Raw favorites data:",t);const n=[];return t==null||t.forEach(s=>{const i=$o.get(s.recipe_id);i&&n.push(i)}),console.log("Converted favorite IDs:",n),n}async function ey(e){try{console.log("Checking if email exists:",e);const{data:t,error:r}=await V.from("profiles").select("email").eq("email",e.toLowerCase().trim()).single();return r?r.code==="PGRST116"?(console.log("Email not found in profiles table"),!1):(console.error("Error checking email:",r),!1):(console.log("Email found in profiles table:",!!t),!!t)}catch(t){return console.error("Error checking email existence:",t),!1}}async function ty(e){console.log("Sending password reset email to:",e);const{error:t}=await V.auth.resetPasswordForEmail(e.toLowerCase().trim(),{redirectTo:`${window.location.origin}/reset-password`});if(t)throw console.error("Error sending password reset email:",t),t.message.includes("Email rate limit exceeded")?new Error("Muitas tentativas de recuperação. Aguarde alguns minutos antes de tentar novamente."):t.message.includes("For security purposes")?new Error("Por motivos de segurança, aguarde alguns minutos antes de solicitar outro email."):t.message.includes("Invalid email")?new Error("Email inválido. Verifique o formato do email."):t.message.includes("User not found")?new Error("Email não encontrado. Verifique se o email está correto ou crie uma conta."):new Error("Erro ao enviar email de recuperação. Tente novamente em alguns minutos.");console.log("Password reset email sent successfully")}async function ry(e){console.log("Updating user password");const{error:t}=await V.auth.updateUser({password:e});if(t)throw console.error("Error updating password:",t),t.message.includes("session_not_found")?new Error("Sessão expirada. Solicite um novo link de recuperação."):t.message.includes("same_password")?new Error("A nova senha deve ser diferente da senha atual."):t.message.includes("Password should be at least")?new Error("A senha deve ter pelo menos 6 caracteres."):new Error("Erro ao atualizar senha. Tente novamente.");console.log("Password updated successfully")}async function ny(){try{const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),r=e.get("type");if(!t||r!=="recovery")return{valid:!1};const{data:{user:n},error:s}=await V.auth.getUser(t);if(s||!n)return console.error("Invalid recovery token:",s),{valid:!1};const{error:i}=await V.auth.setSession({access_token:t,refresh_token:e.get("refresh_token")||""});return i?(console.error("Error setting session:",i),{valid:!1}):{valid:!0,user:n}}catch(e){return console.error("Error validating recovery token:",e),{valid:!1}}}const nS=Object.freeze(Object.defineProperty({__proto__:null,addReview:q0,addToFavorites:Q0,checkEmailExists:ey,createRecipe:H0,createUserProfile:B0,deleteRecipe:W0,deleteReview:J0,getFavorites:Z0,getRecipes:K0,getUserProfile:Ec,removeFromFavorites:X0,sendPasswordResetEmail:ty,updatePassword:ry,updateRecipe:G0,updateReview:Y0,updateUserProfile:rS,validateRecoveryToken:ny},Symbol.toStringTag,{value:"Module"})),B=jr(e=>({message:null,type:"info",showToast:(t,r)=>e({message:t,type:r}),hideToast:()=>e({message:null})})),ke=jr()(pa((e,t)=>({user:null,token:null,isAuthenticated:!1,error:null,loading:!1,initializeAuth:async()=>{try{console.log("Initializing auth...");const{data:{session:r},error:n}=await V.auth.getSession();if(n){console.error("Error getting session:",n),e({user:null,isAuthenticated:!1,token:null});return}if(r!=null&&r.user){console.log("Session found, getting profile...");try{const s=await Ec(r.user.id),i={id:r.user.id,email:s.email,name:s.full_name,type:s.user_type,profile:{}};e({user:i,isAuthenticated:!0,token:r.access_token});const{useRecipesStore:o}=await Le(async()=>{const{useRecipesStore:l}=await Promise.resolve().then(()=>Yi);return{useRecipesStore:l}},void 0);o.getState().initializeAuth();const{useSubscriptionStore:a}=await Le(async()=>{const{useSubscriptionStore:l}=await Promise.resolve().then(()=>Hi);return{useSubscriptionStore:l}},void 0);a.getState().fetchUserSubscription(r.user.id)}catch(s){console.error("Error getting profile:",s),e({user:null,isAuthenticated:!1,token:null})}}else console.log("No session found"),e({user:null,isAuthenticated:!1,token:null})}catch(r){console.error("Error initializing auth:",r),e({user:null,isAuthenticated:!1,token:null})}},signIn:async(r,n)=>{var s;e({loading:!0,error:null});try{console.log("Attempting sign in...");const{data:i,error:o}=await V.auth.signInWithPassword({email:r,password:n});if(o){console.error("Sign in error:",o);let h="Erro ao fazer login";o.message.includes("Invalid login credentials")?h="Email ou senha incorretos. Verifique suas credenciais e tente novamente.":o.message.includes("Email not confirmed")?h="Email não confirmado. Verifique sua caixa de entrada.":o.message.includes("Too many requests")&&(h="Muitas tentativas de login. Tente novamente em alguns minutos."),B.getState().showToast(h,"error"),e({error:h});return}if(!i.user)throw new Error("No user returned from Supabase");console.log("Sign in successful, getting profile...");const a=await Ec(i.user.id),l={id:i.user.id,email:a.email,name:a.full_name,type:a.user_type,profile:{}};e({user:l,isAuthenticated:!0,token:((s=i.session)==null?void 0:s.access_token)||null}),B.getState().showToast("Login realizado com sucesso!","success");const{useRecipesStore:u}=await Le(async()=>{const{useRecipesStore:h}=await Promise.resolve().then(()=>Yi);return{useRecipesStore:h}},void 0);u.getState().initializeAuth();const{useSubscriptionStore:d}=await Le(async()=>{const{useSubscriptionStore:h}=await Promise.resolve().then(()=>Hi);return{useSubscriptionStore:h}},void 0);d.getState().fetchUserSubscription(i.user.id)}catch(i){console.error("Sign in error:",i);const o=i instanceof Error?i.message:"Sign in failed";e({error:o}),B.getState().showToast(o,"error")}finally{e({loading:!1})}},signUp:async(r,n,s,i)=>{var o;e({loading:!0,error:null});try{console.log("Attempting sign up...");const{data:a,error:l}=await V.auth.signUp({email:r,password:n,options:{data:{full_name:s,user_type:i}}});if(l){console.error("Sign up error:",l);let f="Erro ao criar conta";l.message.includes("User already registered")?f="Este email já está cadastrado. Tente fazer login ou use outro email.":l.message.includes("Password should be at least")?f="A senha deve ter pelo menos 6 caracteres.":l.message.includes("Invalid email")?f="Email inválido. Verifique o formato do email.":l.message.includes("duplicate key value")&&(f="Este email já está cadastrado. Tente fazer login."),B.getState().showToast(f,"error"),e({error:f});return}if(!a.user)throw new Error("No user returned from Supabase");console.log("Sign up successful, creating profile..."),await B0({id:a.user.id,email:r,full_name:s,user_type:i});const u={id:a.user.id,email:r,name:s,type:i,profile:{}};e({user:u,isAuthenticated:!0,token:((o=a.session)==null?void 0:o.access_token)||null}),B.getState().showToast("Conta criada com sucesso!","success");const{useRecipesStore:d}=await Le(async()=>{const{useRecipesStore:f}=await Promise.resolve().then(()=>Yi);return{useRecipesStore:f}},void 0);d.getState().initializeAuth();const{useSubscriptionStore:h}=await Le(async()=>{const{useSubscriptionStore:f}=await Promise.resolve().then(()=>Hi);return{useSubscriptionStore:f}},void 0);h.getState().fetchUserSubscription(a.user.id)}catch(a){console.error("Sign up error:",a);const l=a instanceof Error?a.message:"Sign up failed";e({error:l}),B.getState().showToast(l,"error")}finally{e({loading:!1})}},signOut:async()=>{var r,n;try{console.log("Signing out..."),e({user:null,token:null,isAuthenticated:!1});const{useRecipesStore:s}=await Le(async()=>{const{useRecipesStore:a}=await Promise.resolve().then(()=>Yi);return{useRecipesStore:a}},void 0);s.getState().clearUserData();const{useSubscriptionStore:i}=await Le(async()=>{const{useSubscriptionStore:a}=await Promise.resolve().then(()=>Hi);return{useSubscriptionStore:a}},void 0);(n=(r=i.getState()).reset)==null||n.call(r);const{error:o}=await V.auth.signOut();o&&console.error("Supabase signOut error:",o),B.getState().showToast("Logout realizado com sucesso!","info")}catch(s){console.error("Error signing out:",s),e({user:null,token:null,isAuthenticated:!1}),B.getState().showToast("Logout realizado","info")}},updateUserProfile:async r=>{const{user:n}=t();if(n)try{const{updateUserProfile:s}=await Le(async()=>{const{updateUserProfile:i}=await Promise.resolve().then(()=>nS);return{updateUserProfile:i}},void 0);await s(n.id,r),e({user:{...n,...r}}),B.getState().showToast("Perfil atualizado com sucesso!","success")}catch(s){throw console.error("Error updating profile:",s),B.getState().showToast("Erro ao atualizar perfil","error"),s}},clearError:()=>e({error:null}),isNutritionist:()=>{var r;return((r=t().user)==null?void 0:r.type)==="Nutritionist"}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));async function sS(){const{data:e,error:t}=await V.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return e||[]}async function iS(e){const{data:t,error:r}=await V.from("user_subscriptions").select(`
      *,
      plan:subscription_plans(*)
    `).eq("user_id",e).eq("status","active").single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function oS(e){const{data:t,error:r}=await V.from("user_subscriptions").insert([e]).select(`
      *,
      plan:subscription_plans(*)
    `).single();if(r)throw r;return t}const Xu=jr()(pa((e,t)=>({plans:[],userSubscription:null,loading:!1,error:null,fetchPlans:async()=>{e({loading:!0,error:null});try{const r=await sS();e({plans:r,loading:!1})}catch(r){console.error("Error fetching plans:",r);const n=r instanceof Error?r.message:"Erro ao carregar planos";e({error:n,loading:!1}),B.getState().showToast("Erro ao carregar planos de assinatura","error")}},fetchUserSubscription:async r=>{try{const n=await iS(r);e({userSubscription:n})}catch(n){console.error("Error fetching user subscription:",n),e({userSubscription:null})}},hasFeatureAccess:r=>{const{userSubscription:n}=t();return!n||!n.plan?!1:n.plan.features.includes(r)},isPremium:()=>t().hasFeatureAccess("ai_mentoring"),createSubscription:async r=>{e({loading:!0,error:null});try{const n=await oS(r);e({userSubscription:n,loading:!1}),B.getState().showToast("Assinatura ativada com sucesso!","success")}catch(n){console.error("Error creating subscription:",n);const s=n instanceof Error?n.message:"Erro ao criar assinatura";throw e({error:s,loading:!1}),B.getState().showToast("Erro ao ativar assinatura","error"),n}},reset:()=>e({plans:[],userSubscription:null,loading:!1,error:null})}),{name:"subscription-storage",partialize:e=>({userSubscription:e.userSubscription})})),Hi=Object.freeze(Object.defineProperty({__proto__:null,useSubscriptionStore:Xu},Symbol.toStringTag,{value:"Module"})),Zu=jr(e=>({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:"",setCategory:t=>e({category:t}),setSearchQuery:t=>e({searchQuery:t}),setDifficulty:t=>e({difficulty:t}),setPrepTimeRange:t=>e({prepTimeRange:t}),setMinRating:t=>e({minRating:t}),setSortBy:t=>e({sortBy:t}),resetFilters:()=>e({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:""})}));function aS(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function ka(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Cc=e=>Array.isArray(e);function sy(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ti(e){return typeof e=="string"||Array.isArray(e)}function ff(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function ed(e,t,r,n){if(typeof t=="function"){const[s,i]=ff(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=ff(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function _a(e,t,r){const n=e.getProps();return ed(n,t,r!==void 0?r:n.custom,e)}const td=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rd=["initial",...td],gi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tn=new Set(gi),Dt=e=>e*1e3,Ft=e=>e/1e3,lS={type:"spring",stiffness:500,damping:25,restSpeed:10},cS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),uS={type:"keyframes",duration:.8},dS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hS=(e,{keyframes:t})=>t.length>2?uS:tn.has(e)?e.startsWith("scale")?cS(t[1]):lS:dS;function nd(e,t){return e?e[t]||e.default||e:void 0}const fS={skipAnimations:!1,useManualTiming:!1},pS=e=>e!==null;function Sa(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(pS),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const Ie=e=>e;function mS(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const g=h&&n?t:r;return d&&i.add(u),g.has(u)||g.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){s=!0;return}n=!0,[t,r]=[r,t],r.clear(),t.forEach(a),n=!1,s&&(s=!1,l.process(u))}};return l}const Gi=["read","resolveKeyframes","update","preRender","render","postRender"],gS=40;function iy(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Gi.reduce((m,p)=>(m[p]=mS(i),m),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,g=()=>{const m=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(m-s.timestamp,gS),1),s.timestamp=m,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(g))},x=()=>{r=!0,n=!0,s.isProcessing||e(g)};return{schedule:Gi.reduce((m,p)=>{const y=o[p];return m[p]=(b,k=!1,j=!1)=>(r||x(),y.schedule(b,k,j)),m},{}),cancel:m=>{for(let p=0;p<Gi.length;p++)o[Gi[p]].cancel(m)},state:s,steps:o}}const{schedule:Q,cancel:wr,state:be,steps:dl}=iy(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ie,!0),oy=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,yS=1e-7,vS=12;function xS(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=oy(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>yS&&++a<vS);return o}function yi(e,t,r,n){if(e===t&&r===n)return Ie;const s=i=>xS(i,0,1,e,r);return i=>i===0||i===1?i:oy(s(i),t,n)}const ay=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ly=e=>t=>1-e(1-t),cy=yi(.33,1.53,.69,.99),sd=ly(cy),uy=ay(sd),dy=e=>(e*=2)<1?.5*sd(e):.5*(2-Math.pow(2,-10*(e-1))),id=e=>1-Math.sin(Math.acos(e)),hy=ly(id),fy=ay(id),py=e=>/^0[^.\s]+$/u.test(e);function wS(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||py(e):!0}let Tc=Ie;const my=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),gy=e=>t=>typeof t=="string"&&t.startsWith(e),yy=gy("--"),bS=gy("var(--"),od=e=>bS(e)?kS.test(e.split("/*")[0].trim()):!1,kS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_S=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SS(e){const t=_S.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function vy(e,t,r=1){const[n,s]=SS(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return my(o)?parseFloat(o):o}return od(s)?vy(s,t,r+1):s}const Gt=(e,t,r)=>r>t?t:r<e?e:r,Zn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ri={...Zn,transform:e=>Gt(0,1,e)},Wi={...Zn,default:1},vi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zt=vi("deg"),jt=vi("%"),L=vi("px"),jS=vi("vh"),ES=vi("vw"),pf={...jt,parse:e=>jt.parse(e)/100,transform:e=>jt.transform(e*100)},CS=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),mf=e=>e===Zn||e===L,gf=(e,t)=>parseFloat(e.split(", ")[t]),yf=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return gf(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?gf(i[1],e):0}},TS=new Set(["x","y","z"]),NS=gi.filter(e=>!TS.has(e));function PS(e){const t=[];return NS.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Hn={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:yf(4,13),y:yf(5,14)};Hn.translateX=Hn.x;Hn.translateY=Hn.y;const xy=e=>t=>t.test(e),AS={test:e=>e==="auto",parse:e=>e},wy=[Zn,L,jt,Zt,ES,jS,AS],vf=e=>wy.find(xy(e)),Br=new Set;let Nc=!1,Pc=!1;function by(){if(Pc){const e=Array.from(Br).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=PS(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var a;(a=n.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Pc=!1,Nc=!1,Br.forEach(e=>e.complete()),Br.clear()}function ky(){Br.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Pc=!0)})}function RS(){ky(),by()}class ad{constructor(t,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Br.add(this),Nc||(Nc=!0,Q.read(ky),Q.resolveKeyframes(by))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Br.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Br.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ps=e=>Math.round(e*1e5)/1e5,ld=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IS(e){return e==null}const OS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cd=(e,t)=>r=>!!(typeof r=="string"&&OS.test(r)&&r.startsWith(e)||t&&!IS(r)&&Object.prototype.hasOwnProperty.call(r,t)),_y=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,a]=n.match(ld);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},MS=e=>Gt(0,255,e),hl={...Zn,transform:e=>Math.round(MS(e))},Vr={test:cd("rgb","red"),parse:_y("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+hl.transform(e)+", "+hl.transform(t)+", "+hl.transform(r)+", "+Ps(ri.transform(n))+")"};function LS(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Ac={test:cd("#"),parse:LS,transform:Vr.transform},bn={test:cd("hsl","hue"),parse:_y("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+jt.transform(Ps(t))+", "+jt.transform(Ps(r))+", "+Ps(ri.transform(n))+")"},Ne={test:e=>Vr.test(e)||Ac.test(e)||bn.test(e),parse:e=>Vr.test(e)?Vr.parse(e):bn.test(e)?bn.parse(e):Ac.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vr.transform(e):bn.transform(e)},DS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FS(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ld))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(DS))===null||r===void 0?void 0:r.length)||0)>0}const Sy="number",jy="color",$S="var",VS="var(",xf="${}",US=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ni(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(US,l=>(Ne.test(l)?(n.color.push(i),s.push(jy),r.push(Ne.parse(l))):l.startsWith(VS)?(n.var.push(i),s.push($S),r.push(l)):(n.number.push(i),s.push(Sy),r.push(parseFloat(l))),++i,xf)).split(xf);return{values:r,split:a,indexes:n,types:s}}function Ey(e){return ni(e).values}function Cy(e){const{split:t,types:r}=ni(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const a=r[o];a===Sy?i+=Ps(s[o]):a===jy?i+=Ne.transform(s[o]):i+=s[o]}return i}}const zS=e=>typeof e=="number"?0:e;function BS(e){const t=Ey(e);return Cy(e)(t.map(zS))}const br={test:FS,parse:Ey,createTransformer:Cy,getAnimatableNone:BS},HS=new Set(["brightness","contrast","saturate","opacity"]);function GS(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(ld)||[];if(!n)return e;const s=r.replace(n,"");let i=HS.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const WS=/\b([a-z-]*)\(.*?\)/gu,Rc={...br,getAnimatableNone:e=>{const t=e.match(WS);return t?t.map(GS).join(" "):e}},KS={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,radius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,top:L,right:L,bottom:L,left:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,backgroundPositionX:L,backgroundPositionY:L},qS={rotate:Zt,rotateX:Zt,rotateY:Zt,rotateZ:Zt,scale:Wi,scaleX:Wi,scaleY:Wi,scaleZ:Wi,skew:Zt,skewX:Zt,skewY:Zt,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:ri,originX:pf,originY:pf,originZ:L},wf={...Zn,transform:Math.round},ud={...KS,...qS,zIndex:wf,size:L,fillOpacity:ri,strokeOpacity:ri,numOctaves:wf},YS={...ud,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:Rc,WebkitFilter:Rc},dd=e=>YS[e];function Ty(e,t){let r=dd(e);return r!==Rc&&(r=br),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const JS=new Set(["auto","none","0"]);function QS(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!JS.has(i)&&ni(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Ty(r,s)}class Ny extends ad{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),od(u))){const d=vy(u,r.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!CS.has(n)||t.length!==2)return;const[s,i]=t,o=vf(s),a=vf(i);if(o!==a)if(mf(o)&&mf(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)wS(t[s])&&n.push(s);n.length&&QS(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Hn[n](r.measureViewportBox(),window.getComputedStyle(r.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{r.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function hd(e){return typeof e=="function"}let lo;function XS(){lo=void 0}const Et={now:()=>(lo===void 0&&Et.set(be.isProcessing||fS.useManualTiming?be.timestamp:performance.now()),lo),set:e=>{lo=e,queueMicrotask(XS)}},bf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(br.test(e)||e==="0")&&!e.startsWith("url("));function ZS(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function ej(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=bf(s,t),a=bf(i,t);return!o||!a?!1:ZS(e)||(r==="spring"||hd(r))&&n}const tj=40;class Py{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Et.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&RS(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Et.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!ej(t,n,s,i))if(o)this.options.duration=0;else{l==null||l(Sa(t,this.options,r)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Gn=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Ay=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(Gn(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Ry(e,t){return t?e*(1e3/t):0}const rj=5;function Iy(e,t,r){const n=Math.max(t-rj,0);return Ry(r-e(n),t-n)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fl=.001;function nj({duration:e=ce.duration,bounce:t=ce.bounce,velocity:r=ce.velocity,mass:n=ce.mass}){let s,i,o=1-t;o=Gt(ce.minDamping,ce.maxDamping,o),e=Gt(ce.minDuration,ce.maxDuration,Ft(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-r,g=Ic(u,o),x=Math.exp(-h);return fl-f/g*x},i=u=>{const h=u*o*e,f=h*r+r,g=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),v=Ic(Math.pow(u,2),o);return(-s(u)+fl>0?-1:1)*((f-g)*x)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-fl+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const a=5/e,l=ij(s,i,a);if(e=Dt(e),isNaN(l))return{stiffness:ce.stiffness,damping:ce.damping,duration:e};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const sj=12;function ij(e,t,r){let n=r;for(let s=1;s<sj;s++)n=n-e(n)/t(n);return n}function Ic(e,t){return e*Math.sqrt(1-t*t)}const Oc=2e4;function Oy(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Oc;)t+=r,n=e.next(t);return t>=Oc?1/0:t}const oj=["duration","bounce"],aj=["stiffness","damping","mass"];function kf(e,t){return t.some(r=>e[r]!==void 0)}function lj(e){let t={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...e};if(!kf(e,aj)&&kf(e,oj))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Gt(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:ce.mass,stiffness:s,damping:i}}else{const r=nj(e);t={...t,...r,mass:ce.mass},t.isResolvedFromDuration=!0}return t}function My(e=ce.visualDuration,t=ce.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=lj({...r,velocity:-Ft(r.velocity||0)}),x=f||0,v=u/(2*Math.sqrt(l*d)),w=o-i,m=Ft(Math.sqrt(l/d)),p=Math.abs(w)<5;n||(n=p?ce.restSpeed.granular:ce.restSpeed.default),s||(s=p?ce.restDelta.granular:ce.restDelta.default);let y;if(v<1){const k=Ic(m,v);y=j=>{const C=Math.exp(-v*m*j);return o-C*((x+v*m*w)/k*Math.sin(k*j)+w*Math.cos(k*j))}}else if(v===1)y=k=>o-Math.exp(-m*k)*(w+(x+m*w)*k);else{const k=m*Math.sqrt(v*v-1);y=j=>{const C=Math.exp(-v*m*j),E=Math.min(k*j,300);return o-C*((x+v*m*w)*Math.sinh(E)+k*w*Math.cosh(E))/k}}const b={calculatedDuration:g&&h||null,next:k=>{const j=y(k);if(g)a.done=k>=h;else{let C=0;v<1&&(C=k===0?Dt(x):Iy(y,k,j));const E=Math.abs(C)<=n,I=Math.abs(o-j)<=s;a.done=E&&I}return a.value=a.done?o:j,a},toString:()=>{const k=Math.min(Oy(b),Oc),j=Ay(C=>b.next(k*C).value,k,30);return k+"ms "+j}};return b}function _f({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=E=>a!==void 0&&E<a||l!==void 0&&E>l,x=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let v=r*t;const w=h+v,m=o===void 0?w:o(w);m!==w&&(v=m-h);const p=E=>-v*Math.exp(-E/n),y=E=>m+p(E),b=E=>{const I=p(E),O=y(E);f.done=Math.abs(I)<=u,f.value=f.done?m:O};let k,j;const C=E=>{g(f.value)&&(k=E,j=My({keyframes:[f.value,x(f.value)],velocity:Iy(y,E,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:E=>{let I=!1;return!j&&k===void 0&&(I=!0,b(E),C(E)),k!==void 0&&E>=k?j.next(E-k):(!I&&b(E),f)}}}const cj=yi(.42,0,1,1),uj=yi(0,0,.58,1),Ly=yi(.42,0,.58,1),dj=e=>Array.isArray(e)&&typeof e[0]!="number",fd=e=>Array.isArray(e)&&typeof e[0]=="number",Sf={linear:Ie,easeIn:cj,easeInOut:Ly,easeOut:uj,circIn:id,circInOut:fy,circOut:hy,backIn:sd,backInOut:uy,backOut:cy,anticipate:dy},jf=e=>{if(fd(e)){Tc(e.length===4);const[t,r,n,s]=e;return yi(t,r,n,s)}else if(typeof e=="string")return Tc(Sf[e]!==void 0),Sf[e];return e},hj=(e,t)=>r=>t(e(r)),$t=(...e)=>e.reduce(hj),oe=(e,t,r)=>e+(t-e)*r;function pl(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function fj({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;s=pl(l,a,e+1/3),i=pl(l,a,e),o=pl(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Vo(e,t){return r=>r>0?t:e}const ml=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},pj=[Ac,Vr,bn],mj=e=>pj.find(t=>t.test(e));function Ef(e){const t=mj(e);if(!t)return!1;let r=t.parse(e);return t===bn&&(r=fj(r)),r}const Cf=(e,t)=>{const r=Ef(e),n=Ef(t);if(!r||!n)return Vo(e,t);const s={...r};return i=>(s.red=ml(r.red,n.red,i),s.green=ml(r.green,n.green,i),s.blue=ml(r.blue,n.blue,i),s.alpha=oe(r.alpha,n.alpha,i),Vr.transform(s))},Mc=new Set(["none","hidden"]);function gj(e,t){return Mc.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function yj(e,t){return r=>oe(e,t,r)}function pd(e){return typeof e=="number"?yj:typeof e=="string"?od(e)?Vo:Ne.test(e)?Cf:wj:Array.isArray(e)?Dy:typeof e=="object"?Ne.test(e)?Cf:vj:Vo}function Dy(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>pd(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function vj(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=pd(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function xj(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(r=e.values[a])!==null&&r!==void 0?r:0;n[i]=l,s[o]++}return n}const wj=(e,t)=>{const r=br.createTransformer(t),n=ni(e),s=ni(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Mc.has(e)&&!s.values.length||Mc.has(t)&&!n.values.length?gj(e,t):$t(Dy(xj(n,s),s.values),r):Vo(e,t)};function Fy(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?oe(e,t,r):pd(e)(e,t)}function bj(e,t,r){const n=[],s=r||Fy,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ie:t;a=$t(l,a)}n.push(a)}return n}function kj(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(Tc(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=bj(t,n,s),a=o.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Gn(e[d],e[d+1],u);return o[d](h)};return r?u=>l(Gt(e[0],e[i-1],u)):l}function _j(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Gn(0,t,n);e.push(oe(r,1,s))}}function Sj(e){const t=[0];return _j(t,e.length-1),t}function jj(e,t){return e.map(r=>r*t)}function Ej(e,t){return e.map(()=>t||Ly).splice(0,e.length-1)}function Uo({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=dj(n)?n.map(jf):jf(n),i={done:!1,value:t[0]},o=jj(r&&r.length===t.length?r:Sj(t),e),a=kj(o,t,{ease:Array.isArray(s)?s:Ej(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const Cj=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Q.update(t,!0),stop:()=>wr(t),now:()=>be.isProcessing?be.timestamp:Et.now()}},Tj={decay:_f,inertia:_f,tween:Uo,keyframes:Uo,spring:My},Nj=e=>e/100;class md extends Py{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||ad,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=hd(r)?r:Tj[r]||Uo;let l,u;a!==Uo&&typeof t[0]!="number"&&(l=$t(Nj,Fy(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Oy(d));const{calculatedDuration:h}=d,f=h+s,g=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:x,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,b=i;if(g){const E=Math.min(this.currentTime,d)/h;let I=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(x==="reverse"?(O=1-O,v&&(O-=v/h)):x==="mirror"&&(b=o)),y=Gt(0,1,O)*h}const k=p?{done:!1,value:l[0]}:b.next(y);a&&(k.value=a(k.value));let{done:j}=k;!p&&u!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&s!==void 0&&(k.value=Sa(l,this.options,s)),w&&w(k.value),C&&this.finish(),k}get duration(){const{resolved:t}=this;return t?Ft(t.calculatedDuration):0}get time(){return Ft(this.currentTime)}set time(t){t=Dt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ft(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Cj,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Pj=new Set(["opacity","clipPath","filter","transform"]);function gd(e){let t;return()=>(t===void 0&&(t=e()),t)}const Aj={linearEasing:void 0};function Rj(e,t){const r=gd(e);return()=>{var n;return(n=Aj[t])!==null&&n!==void 0?n:r()}}const zo=Rj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function $y(e){return!!(typeof e=="function"&&zo()||!e||typeof e=="string"&&(e in Lc||zo())||fd(e)||Array.isArray(e)&&e.every($y))}const ys=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Lc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ys([0,.65,.55,1]),circOut:ys([.55,0,1,.45]),backIn:ys([.31,.01,.66,-.59]),backOut:ys([.33,1.53,.69,.99])};function Vy(e,t){if(e)return typeof e=="function"&&zo()?Ay(e,t):fd(e)?ys(e):Array.isArray(e)?e.map(r=>Vy(r,t)||Lc.easeOut):Lc[e]}function Ij(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:r};l&&(u.offset=l);const d=Vy(a,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Tf(e,t){e.timeline=t,e.onfinish=null}const Oj=gd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bo=10,Mj=2e4;function Lj(e){return hd(e.type)||e.type==="spring"||!$y(e.ease)}function Dj(e,t){const r=new md({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<Mj;)n=r.sample(i),s.push(n.value),i+=Bo;return{times:void 0,keyframes:s,duration:i-Bo,ease:"linear"}}const Uy={anticipate:dy,backInOut:uy,circInOut:fy};function Fj(e){return e in Uy}class Nf extends Py{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new Ny(i,(o,a)=>this.onKeyframesResolved(o,a),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!(!((n=l.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&zo()&&Fj(o)&&(o=Uy[o]),Lj(this.options)){const{onComplete:f,onUpdate:g,motionValue:x,element:v,...w}=this.options,m=Dj(t,w);t=m.keyframes,t.length===1&&(t[1]=t[0]),s=m.duration,i=m.times,o=m.ease,a="keyframes"}const h=Ij(l.owner.current,u,t,{...this.options,duration:s,times:i,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(Tf(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(Sa(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Ft(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Ft(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Dt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Ie;const{animation:n}=r;Tf(n,t)}return Ie}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:o,times:a}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...g}=this.options,x=new md({...g,keyframes:n,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Dt(this.time);u.setWithVelocity(x.sample(v-Bo).value,x.sample(v).value,Bo)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:o,type:a}=t;return Oj()&&n&&Pj.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const $j=gd(()=>window.ScrollTimeline!==void 0);class Vj{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>$j()&&s.attachTimeline?s.attachTimeline(t):r(s));return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Uj({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const yd=(e,t,r,n={},s,i)=>o=>{const a=nd(n,e)||{},l=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Dt(l);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};Uj(a)||(d={...d,...hS(e,d)}),d.duration&&(d.duration=Dt(d.duration)),d.repeatDelay&&(d.repeatDelay=Dt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Sa(d.keyframes,a);if(f!==void 0)return Q.update(()=>{d.onUpdate(f),d.onComplete()}),new Vj([])}return!i&&Nf.supports(d)?new Nf(d):new md(d)},zj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Bj=e=>Cc(e)?e[e.length-1]||0:e;function vd(e,t){e.indexOf(t)===-1&&e.push(t)}function xd(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class wd{constructor(){this.subscriptions=[]}add(t){return vd(this.subscriptions,t),()=>xd(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pf=30,Hj=e=>!isNaN(parseFloat(e));class Gj{constructor(t,r={}){this.version="11.12.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=Et.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Et.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Hj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new wd);const n=this.events[t].add(r);return t==="change"?()=>{n(),Q.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Et.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Pf)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Pf);return Ry(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function si(e,t){return new Gj(e,t)}function Wj(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,si(r))}function Kj(e,t){const r=_a(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const a=Bj(i[o]);Wj(e,o,a)}}const bd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qj="framerAppearId",zy="data-"+bd(qj);function By(e){return e.props[zy]}const Re=e=>!!(e&&e.getVelocity);function Yj(e){return!!(Re(e)&&e.add)}function Dc(e,t){const r=e.getValue("willChange");if(Yj(r))return r.add(t)}function Jj({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Hy(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(o=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||d&&Jj(d,h))continue;const x={delay:r,...nd(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const m=By(e);if(m){const p=window.MotionHandoffAnimation(m,h,Q);p!==null&&(x.startTime=p,v=!0)}}Dc(e,h),f.start(yd(h,f,g,e.shouldReduceMotion&&tn.has(h)?{type:!1}:x,e,v));const w=f.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{Q.update(()=>{a&&Kj(e,a)})}),u}function Fc(e,t,r={}){var n;const s=_a(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(Hy(e,s,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return Qj(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(r.delay)])}function Qj(e,t,r=0,n=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*n,l=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(e.variantChildren).sort(Xj).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Fc(u,t,{...i,delay:r+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Xj(e,t){return e.sortNodePosition(t)}function Zj(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Fc(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Fc(e,t,r);else{const s=typeof t=="function"?_a(e,t,r.custom):t;n=Promise.all(Hy(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const eE=rd.length;function Gy(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Gy(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<eE;r++){const n=rd[r],s=e.props[n];(ti(s)||s===!1)&&(t[n]=s)}return t}const tE=[...td].reverse(),rE=td.length;function nE(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Zj(e,r,n)))}function sE(e){let t=nE(e),r=Af(),n=!0;const s=l=>(u,d)=>{var h;const f=_a(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:x,...v}=f;u={...u,...v,...x}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,d=Gy(e.parent)||{},h=[],f=new Set;let g={},x=1/0;for(let w=0;w<rE;w++){const m=tE[w],p=r[m],y=u[m]!==void 0?u[m]:d[m],b=ti(y),k=m===l?p.isActive:null;k===!1&&(x=w);let j=y===d[m]&&y!==u[m]&&b;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),p.protectedKeys={...g},!p.isActive&&k===null||!y&&!p.prevProp||ka(y)||typeof y=="boolean")continue;const C=iE(p.prevProp,y);let E=C||m===l&&p.isActive&&!j&&b||w>x&&b,I=!1;const O=Array.isArray(y)?y:[y];let A=O.reduce(s(m),{});k===!1&&(A={});const{prevResolvedValues:P={}}=p,q={...P,...A},se=D=>{E=!0,f.has(D)&&(I=!0,f.delete(D)),p.needsAnimating[D]=!0;const _=e.getValue(D);_&&(_.liveStyle=!1)};for(const D in q){const _=A[D],N=P[D];if(g.hasOwnProperty(D))continue;let M=!1;Cc(_)&&Cc(N)?M=!sy(_,N):M=_!==N,M?_!=null?se(D):f.add(D):_!==void 0&&f.has(D)?se(D):p.protectedKeys[D]=!0}p.prevProp=y,p.prevResolvedValues=A,p.isActive&&(g={...g,...A}),n&&e.blockInitialAnimation&&(E=!1),E&&(!(j&&C)||I)&&h.push(...O.map(D=>({animation:D,options:{type:m}})))}if(f.size){const w={};f.forEach(m=>{const p=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),w[m]=p??null}),h.push({animation:w})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(h):Promise.resolve()}function a(l,u){var d;if(r[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),r[l].isActive=u;const h=o(l);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Af(),n=!0}}}function iE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sy(t,e):!1}function Nr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Af(){return{animate:Nr(!0),whileInView:Nr(),whileHover:Nr(),whileTap:Nr(),whileDrag:Nr(),whileFocus:Nr(),exit:Nr()}}class Er{constructor(t){this.isMounted=!1,this.node=t}update(){}}class oE extends Er{constructor(t){super(t),t.animationState||(t.animationState=sE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ka(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let aE=0;class lE extends Er{constructor(){super(...arguments),this.id=aE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const cE={animation:{Feature:oE},exit:{Feature:lE}},Wy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ja(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const uE=e=>t=>Wy(t)&&e(t,ja(t));function Mt(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Vt(e,t,r,n){return Mt(e,t,uE(r),n)}const Rf=(e,t)=>Math.abs(e-t);function dE(e,t){const r=Rf(e.x,t.x),n=Rf(e.y,t.y);return Math.sqrt(r**2+n**2)}class Ky{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=yl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=dE(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:x}=h,{timestamp:v}=be;this.history.push({...x,timestamp:v});const{onStart:w,onMove:m}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=gl(f,this.transformPagePoint),Q.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=yl(h.type==="pointercancel"?this.lastMoveEventInfo:gl(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),x&&x(h,w)},!Wy(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=ja(t),a=gl(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=be;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,yl(a,this.history)),this.removeListeners=$t(Vt(this.contextWindow,"pointermove",this.handlePointerMove),Vt(this.contextWindow,"pointerup",this.handlePointerUp),Vt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wr(this.updatePoint)}}function gl(e,t){return t?{point:t(e.point)}:e}function If(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yl({point:e},t){return{point:e,delta:If(e,qy(t)),offset:If(e,hE(t)),velocity:fE(t,.1)}}function hE(e){return e[0]}function qy(e){return e[e.length-1]}function fE(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=qy(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Dt(t)));)r--;if(!n)return{x:0,y:0};const i=Ft(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Yy(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const Of=Yy("dragHorizontal"),Mf=Yy("dragVertical");function Jy(e){let t=!1;if(e==="y")t=Mf();else if(e==="x")t=Of();else{const r=Of(),n=Mf();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Qy(){const e=Jy(!0);return e?(e(),!1):!0}function kn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Xy=1e-4,pE=1-Xy,mE=1+Xy,Zy=.01,gE=0-Zy,yE=0+Zy;function Ze(e){return e.max-e.min}function vE(e,t,r){return Math.abs(e-t)<=r}function Lf(e,t,r,n=.5){e.origin=n,e.originPoint=oe(t.min,t.max,e.origin),e.scale=Ze(r)/Ze(t),e.translate=oe(r.min,r.max,e.origin)-e.originPoint,(e.scale>=pE&&e.scale<=mE||isNaN(e.scale))&&(e.scale=1),(e.translate>=gE&&e.translate<=yE||isNaN(e.translate))&&(e.translate=0)}function As(e,t,r,n){Lf(e.x,t.x,r.x,n?n.originX:void 0),Lf(e.y,t.y,r.y,n?n.originY:void 0)}function Df(e,t,r){e.min=r.min+t.min,e.max=e.min+Ze(t)}function xE(e,t,r){Df(e.x,t.x,r.x),Df(e.y,t.y,r.y)}function Ff(e,t,r){e.min=t.min-r.min,e.max=e.min+Ze(t)}function Rs(e,t,r){Ff(e.x,t.x,r.x),Ff(e.y,t.y,r.y)}function wE(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?oe(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?oe(r,e,n.max):Math.min(e,r)),e}function $f(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function bE(e,{top:t,left:r,bottom:n,right:s}){return{x:$f(e.x,r,s),y:$f(e.y,t,n)}}function Vf(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function kE(e,t){return{x:Vf(e.x,t.x),y:Vf(e.y,t.y)}}function _E(e,t){let r=.5;const n=Ze(e),s=Ze(t);return s>n?r=Gn(t.min,t.max-n,e.min):n>s&&(r=Gn(e.min,e.max-s,t.min)),Gt(0,1,r)}function SE(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const $c=.35;function jE(e=$c){return e===!1?e=0:e===!0&&(e=$c),{x:Uf(e,"left","right"),y:Uf(e,"top","bottom")}}function Uf(e,t,r){return{min:zf(e,t),max:zf(e,r)}}function zf(e,t){return typeof e=="number"?e:e[t]||0}const Bf=()=>({translate:0,scale:1,origin:0,originPoint:0}),_n=()=>({x:Bf(),y:Bf()}),Hf=()=>({min:0,max:0}),he=()=>({x:Hf(),y:Hf()});function nt(e){return[e("x"),e("y")]}function ev({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function EE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function CE(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function vl(e){return e===void 0||e===1}function Vc({scale:e,scaleX:t,scaleY:r}){return!vl(e)||!vl(t)||!vl(r)}function Ir(e){return Vc(e)||tv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tv(e){return Gf(e.x)||Gf(e.y)}function Gf(e){return e&&e!=="0%"}function Ho(e,t,r){const n=e-r,s=t*n;return r+s}function Wf(e,t,r,n,s){return s!==void 0&&(e=Ho(e,s,n)),Ho(e,r,n)+t}function Uc(e,t=0,r=1,n,s){e.min=Wf(e.min,t,r,n,s),e.max=Wf(e.max,t,r,n,s)}function rv(e,{x:t,y:r}){Uc(e.x,t.translate,t.scale,t.originPoint),Uc(e.y,r.translate,r.scale,r.originPoint)}const Kf=.999999999999,qf=1.0000000000001;function TE(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,rv(e,o)),n&&Ir(i.latestValues)&&jn(e,i.latestValues))}t.x<qf&&t.x>Kf&&(t.x=1),t.y<qf&&t.y>Kf&&(t.y=1)}function Sn(e,t){e.min=e.min+t,e.max=e.max+t}function Yf(e,t,r,n,s=.5){const i=oe(e.min,e.max,s);Uc(e,t,r,i,n)}function jn(e,t){Yf(e.x,t.x,t.scaleX,t.scale,t.originX),Yf(e.y,t.y,t.scaleY,t.scale,t.originY)}function nv(e,t){return ev(CE(e.getBoundingClientRect(),t))}function NE(e,t,r){const n=nv(e,r),{scroll:s}=t;return s&&(Sn(n.x,s.offset.x),Sn(n.y,s.offset.y)),n}const sv=({current:e})=>e?e.ownerDocument.defaultView:null,PE=new WeakMap;class AE{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=he(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ja(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:x}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Jy(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nt(w=>{let m=this.getAxisMotionValue(w).get()||0;if(jt.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const y=p.layout.layoutBox[w];y&&(m=Ze(y)*(parseFloat(m)/100))}}this.originPoint[w]=m}),x&&Q.postRender(()=>x(d,h)),Dc(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(g&&this.currentDirection===null){this.currentDirection=RE(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),l=()=>nt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Ky(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:sv(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Q.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Ki(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=wE(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&kn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=bE(s.layoutBox,r):this.constraints=!1,this.elastic=jE(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&nt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=SE(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!kn(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=NE(n,s.root,this.visualElement.getTransformPagePoint());let o=kE(s.layout.layoutBox,i);if(r){const a=r(EE(o));this.hasMutatedConstraints=!!a,a&&(o=ev(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=nt(d=>{if(!Ki(d,r,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Dc(this.visualElement,t),n.start(yd(t,n,0,r,this.visualElement,!1))}stopAnimation(){nt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){nt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){nt(r=>{const{drag:n}=this.getProps();if(!Ki(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-oe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!kn(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};nt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=_E({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),nt(o=>{if(!Ki(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(oe(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;PE.set(this.visualElement,this);const t=this.visualElement.current,r=Vt(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();kn(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Q.read(n);const o=Mt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(nt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=$c,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Ki(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function RE(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class IE extends Er{constructor(t){super(t),this.removeGroupControls=Ie,this.removeListeners=Ie,this.controls=new AE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ie}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jf=e=>(t,r)=>{e&&Q.postRender(()=>e(t,r))};class OE extends Er{constructor(){super(...arguments),this.removePointerDownListener=Ie}onPointerDown(t){this.session=new Ky(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Jf(t),onStart:Jf(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Q.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Vt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ea=S.createContext(null);function ME(){const e=S.useContext(Ea);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=S.useId();S.useEffect(()=>n(s),[]);const i=S.useCallback(()=>r&&r(s),[s,r]);return!t&&r?[!1,i]:[!0]}const kd=S.createContext({}),iv=S.createContext({}),co={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ds={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(L.test(e))e=parseFloat(e);else return e;const r=Qf(e,t.target.x),n=Qf(e,t.target.y);return`${r}% ${n}%`}},LE={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=br.parse(e);if(s.length>5)return n;const i=br.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=oe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Go={};function DE(e){Object.assign(Go,e)}const{schedule:_d,cancel:QN}=iy(queueMicrotask,!1);class FE extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;DE($E),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),co.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Q.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_d.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ov(e){const[t,r]=ME(),n=S.useContext(kd);return c.jsx(FE,{...e,layoutGroup:n,switchLayoutGroup:S.useContext(iv),isPresent:t,safeToRemove:r})}const $E={borderRadius:{...ds,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ds,borderTopRightRadius:ds,borderBottomLeftRadius:ds,borderBottomRightRadius:ds,boxShadow:LE},av=["TopLeft","TopRight","BottomLeft","BottomRight"],VE=av.length,Xf=e=>typeof e=="string"?parseFloat(e):e,Zf=e=>typeof e=="number"||L.test(e);function UE(e,t,r,n,s,i){s?(e.opacity=oe(0,r.opacity!==void 0?r.opacity:1,zE(n)),e.opacityExit=oe(t.opacity!==void 0?t.opacity:1,0,BE(n))):i&&(e.opacity=oe(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<VE;o++){const a=`border${av[o]}Radius`;let l=ep(t,a),u=ep(r,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Zf(l)===Zf(u)?(e[a]=Math.max(oe(Xf(l),Xf(u),n),0),(jt.test(u)||jt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||r.rotate)&&(e.rotate=oe(t.rotate||0,r.rotate||0,n))}function ep(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zE=lv(0,.5,hy),BE=lv(.5,.95,Ie);function lv(e,t,r){return n=>n<e?0:n>t?1:r(Gn(e,t,n))}function tp(e,t){e.min=t.min,e.max=t.max}function rt(e,t){tp(e.x,t.x),tp(e.y,t.y)}function rp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function np(e,t,r,n,s){return e-=t,e=Ho(e,1/r,n),s!==void 0&&(e=Ho(e,1/s,n)),e}function HE(e,t=0,r=1,n=.5,s,i=e,o=e){if(jt.test(t)&&(t=parseFloat(t),t=oe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=oe(i.min,i.max,n);e===i&&(a-=t),e.min=np(e.min,t,r,a,s),e.max=np(e.max,t,r,a,s)}function sp(e,t,[r,n,s],i,o){HE(e,t[r],t[n],t[s],t.scale,i,o)}const GE=["x","scaleX","originX"],WE=["y","scaleY","originY"];function ip(e,t,r,n){sp(e.x,t,GE,r?r.x:void 0,n?n.x:void 0),sp(e.y,t,WE,r?r.y:void 0,n?n.y:void 0)}function op(e){return e.translate===0&&e.scale===1}function cv(e){return op(e.x)&&op(e.y)}function ap(e,t){return e.min===t.min&&e.max===t.max}function KE(e,t){return ap(e.x,t.x)&&ap(e.y,t.y)}function lp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uv(e,t){return lp(e.x,t.x)&&lp(e.y,t.y)}function cp(e){return Ze(e.x)/Ze(e.y)}function up(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class qE{constructor(){this.members=[]}add(t){vd(this.members,t),t.scheduleRender()}remove(t){if(xd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YE(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),g&&(n+=`skewX(${g}deg) `),x&&(n+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const JE=(e,t)=>e.depth-t.depth;class QE{constructor(){this.children=[],this.isDirty=!1}add(t){vd(this.children,t),this.isDirty=!0}remove(t){xd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(JE),this.isDirty=!1,this.children.forEach(t)}}function uo(e){const t=Re(e)?e.get():e;return zj(t)?t.toValue():t}function XE(e,t){const r=Et.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(wr(n),e(i-t))};return Q.read(n,!0),()=>wr(n)}function ZE(e){return e instanceof SVGElement&&e.tagName!=="svg"}function eC(e,t,r){const n=Re(e)?e:si(e);return n.start(yd("",n,t,r)),n.animation}const Or={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},vs=typeof window<"u"&&window.MotionDebug!==void 0,xl=["","X","Y","Z"],tC={visibility:"hidden"},dp=1e3;let rC=0;function wl(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function dv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=By(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Q,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&dv(n)}function hv({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=rC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vs&&(Or.totalNodes=Or.resolvedTargetDeltas=Or.recalculatedProjection=0),this.nodes.forEach(iC),this.nodes.forEach(uC),this.nodes.forEach(dC),this.nodes.forEach(oC),vs&&window.MotionDebug.record(Or)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new QE)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new wd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ZE(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=XE(f,250),co.hasAnimatedSinceResize&&(co.hasAnimatedSinceResize=!1,this.nodes.forEach(fp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||gC,{onLayoutAnimationStart:w,onLayoutAnimationComplete:m}=d.getProps(),p=!this.targetLayout||!uv(this.targetLayout,x)||g,y=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const b={...nd(v,"layout"),onPlay:w,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||fp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hp);return}this.isUpdating||this.nodes.forEach(lC),this.isUpdating=!1,this.nodes.forEach(cC),this.nodes.forEach(nC),this.nodes.forEach(sC),this.clearAllSnapshots();const a=Et.now();be.delta=Gt(0,1e3/60,a-be.timestamp),be.timestamp=a,be.isProcessing=!0,dl.update.process(be),dl.preRender.process(be),dl.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_d.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aC),this.sharedNodes.forEach(fC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Q.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Q.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=he(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!cv(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Ir(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),yC(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return he();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(vC))){const{scroll:d}=this.root;d&&(Sn(l.x,d.offset.x),Sn(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=he();if(rt(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&rt(l,o),Sn(l.x,h.offset.x),Sn(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=he();rt(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jn(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ir(d.latestValues)&&jn(l,d.latestValues)}return Ir(this.latestValues)&&jn(l,this.latestValues),l}removeTransform(o){const a=he();rt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ir(u.latestValues))continue;Vc(u.latestValues)&&u.updateSnapshot();const d=he(),h=u.measurePageBox();rt(d,h),ip(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ir(this.latestValues)&&ip(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=be.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),Rs(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=he(),this.targetWithTransforms=he()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rt(this.target,this.layout.layoutBox),rv(this.target,this.targetDelta)):rt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),Rs(this.relativeTargetOrigin,this.target,g.target),rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vs&&Or.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vc(this.parent.latestValues)||tv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===be.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;rt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;TE(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=he());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rp(this.prevProjectionDelta.x,this.projectionDelta.x),rp(this.prevProjectionDelta.y,this.projectionDelta.y)),As(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!up(this.projectionDelta.x,this.prevProjectionDelta.x)||!up(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),vs&&Or.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_n(),this.projectionDelta=_n(),this.projectionDeltaWithTransform=_n()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=_n();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=he(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,w=this.getStack(),m=!w||w.members.length<=1,p=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(mC));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const k=b/1e3;pp(h.x,o.x,k),pp(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pC(this.relativeTarget,this.relativeTargetOrigin,f,k),y&&KE(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=he()),rt(y,this.relativeTarget)),v&&(this.animationValues=d,UE(d,u,this.latestValues,k,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Q.update(()=>{co.hasAnimatedSinceResize=!0,this.currentAnimation=eC(0,dp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&fv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||he();const h=Ze(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ze(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}rt(a,l),jn(a,d),As(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qE),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&wl("z",o,u,this.animationValues);for(let d=0;d<xl.length;d++)wl(`rotate${xl[d]}`,o,u,this.animationValues),wl(`skew${xl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tC;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=uo(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=uo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ir(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=YE(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:g,y:x}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Go){if(f[v]===void 0)continue;const{correct:w,applyTo:m}=Go[v],p=u.transform==="none"?f[v]:w(f[v],h);if(m){const y=m.length;for(let b=0;b<y;b++)u[m[b]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?uo(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(hp),this.root.sharedNodes.clear()}}}function nC(e){e.updateLayout()}function sC(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?nt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],g=Ze(f);f.min=n[h].min,f.max=f.min+g}):fv(i,r.layoutBox,n)&&nt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],g=Ze(n[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=_n();As(a,n,r.layoutBox);const l=_n();o?As(l,e.applyTransform(s,!0),r.measuredBox):As(l,n,r.layoutBox);const u=!cv(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const x=he();Rs(x,r.layoutBox,f.layoutBox);const v=he();Rs(v,n,g.layoutBox),uv(x,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function iC(e){vs&&Or.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aC(e){e.clearSnapshot()}function hp(e){e.clearMeasurements()}function lC(e){e.isLayoutDirty=!1}function cC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uC(e){e.resolveTargetDelta()}function dC(e){e.calcProjection()}function hC(e){e.resetSkewAndRotation()}function fC(e){e.removeLeadSnapshot()}function pp(e,t,r){e.translate=oe(t.translate,0,r),e.scale=oe(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function mp(e,t,r,n){e.min=oe(t.min,r.min,n),e.max=oe(t.max,r.max,n)}function pC(e,t,r,n){mp(e.x,t.x,r.x,n),mp(e.y,t.y,r.y,n)}function mC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gC={duration:.45,ease:[.4,0,.1,1]},gp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yp=gp("applewebkit/")&&!gp("chrome/")?Math.round:Ie;function vp(e){e.min=yp(e.min),e.max=yp(e.max)}function yC(e){vp(e.x),vp(e.y)}function fv(e,t,r){return e==="position"||e==="preserve-aspect"&&!vE(cp(t),cp(r),.2)}function vC(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const xC=hv({attachResizeListener:(e,t)=>Mt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bl={current:void 0},pv=hv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bl.current){const e=new xC({});e.mount(window),e.setOptions({layoutScroll:!0}),bl.current=e}return bl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wC={pan:{Feature:OE},drag:{Feature:IE,ProjectionNode:pv,MeasureLayout:ov}};function xp(e,t){const r=t?"pointerenter":"pointerleave",n=t?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||Qy())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const l=a[n];l&&Q.postRender(()=>l(i,o))};return Vt(e.current,r,s,{passive:!e.getProps()[n]})}class bC extends Er{mount(){this.unmount=$t(xp(this.node,!0),xp(this.node,!1))}unmount(){}}class kC extends Er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$t(Mt(this.node.current,"focus",()=>this.onFocus()),Mt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const mv=(e,t)=>t?e===t?!0:mv(e,t.parentElement):!1;function kl(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,ja(r))}class _C extends Er{constructor(){super(...arguments),this.removeStartListeners=Ie,this.removeEndListeners=Ie,this.removeAccessibleListeners=Ie,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Vt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!mv(this.node.current,a.target)?d:u;f&&Q.update(()=>f(a,l))},{passive:!(n.onTap||n.onPointerUp)}),o=Vt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=$t(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||kl("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Q.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Mt(this.node.current,"keyup",o),kl("down",(a,l)=>{this.startPress(a,l)})},r=Mt(this.node.current,"keydown",t),n=()=>{this.isPressing&&kl("cancel",(i,o)=>this.cancelPress(i,o))},s=Mt(this.node.current,"blur",n);this.removeAccessibleListeners=$t(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Q.postRender(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Qy()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Q.postRender(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Vt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Mt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$t(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const zc=new WeakMap,_l=new WeakMap,SC=e=>{const t=zc.get(e.target);t&&t(e)},jC=e=>{e.forEach(SC)};function EC({root:e,...t}){const r=e||document;_l.has(r)||_l.set(r,{});const n=_l.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(jC,{root:e,...t})),n[s]}function CC(e,t,r){const n=EC(t);return zc.set(e,r),n.observe(e),()=>{zc.delete(e),n.unobserve(e)}}const TC={some:0,all:1};class NC extends Er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:TC[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return CC(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(PC(t,r))&&this.startObserver()}unmount(){}}function PC({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const AC={inView:{Feature:NC},tap:{Feature:_C},focus:{Feature:kC},hover:{Feature:bC}},RC={layout:{ProjectionNode:pv,MeasureLayout:ov}},Sd=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ca=S.createContext({}),jd=typeof window<"u",gv=jd?S.useLayoutEffect:S.useEffect,yv=S.createContext({strict:!1});function IC(e,t,r,n,s){var i,o;const{visualElement:a}=S.useContext(Ca),l=S.useContext(yv),u=S.useContext(Ea),d=S.useContext(Sd).reducedMotion,h=S.useRef();n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,g=S.useContext(iv);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&OC(h.current,r,s,g);const x=S.useRef(!1);S.useInsertionEffect(()=>{f&&x.current&&f.update(r,u)});const v=r[zy],w=S.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return gv(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),_d.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,v)}),w.current=!1))}),f}function OC(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:vv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&kn(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:u})}function vv(e){if(e)return e.options.allowProjection!==!1?e.projection:vv(e.parent)}function MC(e,t,r){return S.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):kn(r)&&(r.current=n))},[t])}function Ta(e){return ka(e.animate)||rd.some(t=>ti(e[t]))}function xv(e){return!!(Ta(e)||e.variants)}function LC(e,t){if(Ta(e)){const{initial:r,animate:n}=e;return{initial:r===!1||ti(r)?r:void 0,animate:ti(n)?n:void 0}}return e.inherit!==!1?t:{}}function DC(e){const{initial:t,animate:r}=LC(e,S.useContext(Ca));return S.useMemo(()=>({initial:t,animate:r}),[wp(t),wp(r)])}function wp(e){return Array.isArray(e)?e.join(" "):e}const bp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wn={};for(const e in bp)Wn[e]={isEnabled:t=>bp[e].some(r=>!!t[r])};function FC(e){for(const t in e)Wn[t]={...Wn[t],...e[t]}}const $C=Symbol.for("motionComponentSymbol");function VC({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&FC(e);function i(a,l){let u;const d={...S.useContext(Sd),...a,layoutId:UC(a)},{isStatic:h}=d,f=DC(a),g=n(a,h);if(!h&&jd){zC();const x=BC(d);u=x.MeasureLayout,f.visualElement=IC(s,g,d,t,x.ProjectionNode)}return c.jsxs(Ca.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,r(s,a,MC(g,f.visualElement,l),g,h,f.visualElement)]})}const o=S.forwardRef(i);return o[$C]=s,o}function UC({layoutId:e}){const t=S.useContext(kd).id;return t&&e!==void 0?t+"-"+e:e}function zC(e,t){S.useContext(yv).strict}function BC(e){const{drag:t,layout:r}=Wn;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const HC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ed(e){return typeof e!="string"||e.includes("-")?!1:!!(HC.indexOf(e)>-1||/[A-Z]/u.test(e))}function wv(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const bv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kv(e,t,r,n){wv(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(bv.has(s)?s:bd(s),t.attrs[s])}function _v(e,{layout:t,layoutId:r}){return tn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Go[e]||e==="opacity")}function Cd(e,t,r){var n;const{style:s}=e,i={};for(const o in s)(Re(s[o])||t.style&&Re(t.style[o])||_v(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function Sv(e,t,r){const n=Cd(e,t,r);for(const s in e)if(Re(e[s])||Re(t[s])){const i=gi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function Td(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}function GC({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:WC(n,s,i,e),renderState:t()};return r&&(o.mount=a=>r(n,a,o)),o}const jv=e=>(t,r)=>{const n=S.useContext(Ca),s=S.useContext(Ea),i=()=>GC(e,t,n,s);return r?i():Td(i)};function WC(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=uo(i[f]);let{initial:o,animate:a}=e;const l=Ta(e),u=xv(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!ka(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const x=ed(e,f[g]);if(x){const{transitionEnd:v,transition:w,...m}=x;for(const p in m){let y=m[p];if(Array.isArray(y)){const b=d?y.length-1:0;y=y[b]}y!==null&&(s[p]=y)}for(const p in v)s[p]=v[p]}}}return s}const Nd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ev=()=>({...Nd(),attrs:{}}),Cv=(e,t)=>t&&typeof e=="number"?t.transform(e):e,KC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qC=gi.length;function YC(e,t,r){let n="",s=!0;for(let i=0;i<qC;i++){const o=gi[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const u=Cv(a,ud[o]);if(!l){s=!1;const d=KC[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Pd(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(tn.has(l)){o=!0;continue}else if(yy(l)){s[l]=u;continue}else{const d=Cv(u,ud[l]);l.startsWith("origin")?(a=!0,i[l]=d):n[l]=d}}if(t.transform||(o||r?n.transform=YC(t,e.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${l} ${u} ${d}`}}function kp(e,t,r){return typeof e=="string"?e:L.transform(t+r*e)}function JC(e,t,r){const n=kp(t,e.x,e.width),s=kp(r,e.y,e.height);return`${n} ${s}`}const QC={offset:"stroke-dashoffset",array:"stroke-dasharray"},XC={offset:"strokeDashoffset",array:"strokeDasharray"};function ZC(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?QC:XC;e[i.offset]=L.transform(-n);const o=L.transform(t),a=L.transform(r);e[i.array]=`${o} ${a}`}function Ad(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(Pd(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g,dimensions:x}=e;f.transform&&(x&&(g.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=JC(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&ZC(f,o,a,l,!1)}const Rd=e=>typeof e=="string"&&e.toLowerCase()==="svg",eT={useVisualState:jv({scrapeMotionValuesFromProps:Sv,createRenderState:Ev,onMount:(e,t,{renderState:r,latestValues:n})=>{Q.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Q.render(()=>{Ad(r,n,Rd(t.tagName),e.transformTemplate),kv(t,r)})}})},tT={useVisualState:jv({scrapeMotionValuesFromProps:Cd,createRenderState:Nd})};function Tv(e,t,r){for(const n in t)!Re(t[n])&&!_v(n,r)&&(e[n]=t[n])}function rT({transformTemplate:e},t){return S.useMemo(()=>{const r=Nd();return Pd(r,t,e),Object.assign({},r.vars,r.style)},[t])}function nT(e,t){const r=e.style||{},n={};return Tv(n,r,e),Object.assign(n,rT(e,t)),n}function sT(e,t){const r={},n=nT(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const iT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||iT.has(e)}let Nv=e=>!Wo(e);function oT(e){e&&(Nv=t=>t.startsWith("on")?!Wo(t):e(t))}try{oT(require("@emotion/is-prop-valid").default)}catch{}function aT(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Nv(s)||r===!0&&Wo(s)||!t&&!Wo(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function lT(e,t,r,n){const s=S.useMemo(()=>{const i=Ev();return Ad(i,t,Rd(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Tv(i,e.style,e),s.style={...i,...s.style}}return s}function cT(e=!1){return(r,n,s,{latestValues:i},o)=>{const l=(Ed(r)?lT:sT)(n,i,o,r),u=aT(n,typeof r=="string",e),d=r!==S.Fragment?{...u,...l,ref:s}:{},{children:h}=n,f=S.useMemo(()=>Re(h)?h.get():h,[h]);return S.createElement(r,{...d,children:f})}}function uT(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Ed(n)?eT:tT,preloadedFeatures:e,useRender:cT(s),createVisualElement:t,Component:n};return VC(o)}}const Bc={current:null},Pv={current:!1};function dT(){if(Pv.current=!0,!!jd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Bc.current=e.matches;e.addListener(t),t()}else Bc.current=!1}function hT(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Re(s))e.addValue(n,s);else if(Re(i))e.addValue(n,si(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,si(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const _p=new WeakMap,fT=[...wy,Ne,br],pT=e=>fT.find(xy(e)),Sp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mT{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ad,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Et.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Q.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ta(r),this.isVariantNode=xv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&Re(g)&&g.set(l[f],!1)}}mount(t){this.current=t,_p.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Pv.current||dT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_p.delete(this.current),this.projection&&this.projection.unmount(),wr(this.notifyUpdate),wr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=tn.has(t),s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Q.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wn){const r=Wn[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):he()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Sp.length;n++){const s=Sp[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=hT(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=si(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(my(s)||py(s))?s=parseFloat(s):!pT(s)&&br.test(r)&&(s=Ty(t,r)),this.setBaseTarget(t,Re(s)?s.get():s)),Re(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=ed(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Re(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new wd),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Av extends mT{constructor(){super(...arguments),this.KeyframeResolver=Ny}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}}function gT(e){return window.getComputedStyle(e)}class yT extends Av{constructor(){super(...arguments),this.type="html",this.renderInstance=wv}readValueFromInstance(t,r){if(tn.has(r)){const n=dd(r);return n&&n.default||0}else{const n=gT(t),s=(yy(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return nv(t,r)}build(t,r,n){Pd(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Cd(t,r,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Re(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class vT extends Av{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=he}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(tn.has(r)){const n=dd(r);return n&&n.default||0}return r=bv.has(r)?r:bd(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Sv(t,r,n)}build(t,r,n){Ad(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){kv(t,r,n,s)}mount(t){this.isSVGTag=Rd(t.tagName),super.mount(t)}}const xT=(e,t)=>Ed(e)?new vT(t):new yT(t,{allowProjection:e!==S.Fragment}),wT=uT({...cE,...AC,...wC,...RC},xT),G=aS(wT);class bT extends S.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function kT({children:e,isPresent:t}){const r=S.useId(),n=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=S.useContext(Sd);return S.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!n.current||!o||!a)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(bT,{isPresent:t,childRef:n,sizeRef:s,children:S.cloneElement(e,{ref:n})})}const _T=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Td(ST),l=S.useId(),u=S.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;n&&n()},[a,n]),d=S.useMemo(()=>({id:l,initial:t,isPresent:r,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[r,u]);return S.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[r]),S.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=c.jsx(kT,{isPresent:r,children:e})),c.jsx(Ea.Provider,{value:d,children:e})};function ST(){return new Map}const qi=e=>e.key||"";function jp(e){const t=[];return S.Children.forEach(e,r=>{S.isValidElement(r)&&t.push(r)}),t}const xi=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=S.useMemo(()=>jp(e),[e]),l=a.map(qi),u=S.useRef(!0),d=S.useRef(a),h=Td(()=>new Map),[f,g]=S.useState(a),[x,v]=S.useState(a);gv(()=>{u.current=!1,d.current=a;for(let p=0;p<x.length;p++){const y=qi(x[p]);l.includes(y)?h.delete(y):h.get(y)!==!0&&h.set(y,!1)}},[x,l.length,l.join("-")]);const w=[];if(a!==f){let p=[...a];for(let y=0;y<x.length;y++){const b=x[y],k=qi(b);l.includes(k)||(p.splice(y,0,b),w.push(b))}o==="wait"&&w.length&&(p=w),v(jp(p)),g(a);return}const{forceRender:m}=S.useContext(kd);return c.jsx(c.Fragment,{children:x.map(p=>{const y=qi(p),b=a===x||l.includes(y),k=()=>{if(h.has(y))h.set(y,!0);else return;let j=!0;h.forEach(C=>{C||(j=!1)}),j&&(m==null||m(),v(d.current),s&&s())};return c.jsx(_T,{isPresent:b,initial:!u.current||n?void 0:!1,custom:b?void 0:r,presenceAffectsLayout:i,mode:o,onExitComplete:b?void 0:k,children:p},y)})})},Na=jr()(pa(e=>({theme:"system",language:"pt",setTheme:t=>e({theme:t}),setLanguage:t=>e({language:t})}),{name:"settings"})),jT={en:{common:{search:"Search for recipes...",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",profile:"Profile",darkMode:"Dark Mode",language:"Language",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",settings:"Settings",createaccount:"Create Account",dontHaveAccount:"Don't have an account? ",alreadyHaveAccount:"Already have an account? ",theme:{light:"Light",dark:"Dark",system:"System"}},buttons:{BackToRecipes:"Back to Recipes",My_recipes:"My recipes",Favorites:"Favorites",Nutrition_goal:"Nutrition Goals"},filters:{advanced:"Advanced Filters",minRating:"Minimum Rating",clearAll:"Clear All Filters",prepTime:{quick:"Quick (≤15 min)",medium:"Medium (≤30 min)",long:"Long (>30 min)"}},home:{title:"Discover Healthy Recipes",subtitle:"Find and share nutritious recipes that match your dietary preferences.",createRecipe:"Create Recipe",noRecipes:"No recipes found. Try adjusting your filters."},profile:{myRecipes:"My Recipes",favorites:"Favorites",nutritionGoals:"Nutrition Goals",settings:"Settings",noRecipesYet:"You haven't published any recipes yet.",noFavorites:"You haven't saved any recipes as favorites yet.",statistics:"Statistics",publishedRecipes:"Published Recipes",totalReviews:"Total Reviews",averageRating:"Average Rating",experience:"Experience",healthGoals:"Health Goals",dietaryPreferences:"Dietary Preferences",allergies:"Allergies",dailyGoals:"Daily Goals",recentFavorites:"Recent Favorites",personalInfo:"Personal Information",accountType:"Account Type",email:"Email",name:"Name",password:"Password",nutricionist:"Nutricionist",client:"Client",saveGoals:"Save goals",nutritionGoalsnames:{calories:"Calories",protein:"Protein",carbs:"Carbs",fat:"Fat",fiber:"Fiber"}},categories:{all:"All",vegan:"Vegan",lowCarb:"Low Carb",highProtein:"High Protein",glutenFree:"Gluten Free",vegetarian:"Vegetarian"},recipe:{recipeTitle:"Title",recipeImageURL:"Image URL",recipeDescription:"Description",prepTime:"Preparation Time",difficulty:"Difficulty",recipeCategory:"Category",ingredients:"Ingredients",instructions:"Instructions",nutritionFacts:"Nutrition Facts (Per Serving)",reviews:"Reviews",writeReview:"Write your review...",submitReview:"Submit Review",signInToReview:"Please sign in to leave a review.",addIngredient:"Add Ingredient",addStep:"Add Step",step:"Step",Step:"Step",example:'"2 cups flour"',perServing:"per serving",deleteConfirm:"Are you sure you want to delete this recipe?",share:"Share Recipe",edit:"Edit Recipe",delete:"Delete Recipe",difficultyLevels:{easy:"Easy",medium:"Medium",hard:"Hard"},CreateNewRecipe:"Create new recipe",CreateRecipe:"Create recipe",rating:"Rating",noReviews:"No reviews"}},pt:{common:{search:"Buscar receitas...",signIn:"Entrar",signUp:"Cadastrar",signOut:"Sair",profile:"Perfil",darkMode:"Modo Escuro",language:"Idioma",loading:"Carregando...",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",back:"Voltar",settings:"Configurações",createaccount:"Criar conta",dontHaveAccount:"Não tem uma conta? ",alreadyHaveAccount:"Já tem uma conta? ",theme:{light:"Claro",dark:"Escuro",system:"Sistema"}},buttons:{BackToRecipes:"Voltar para as receitas",My_recipes:"Minhas receitas",Favorites:"Favoritos",Nutrition_goal:"Metas Nutricionais"},filters:{advanced:"Filtros Avançados",minRating:"Avaliação Mínima",clearAll:"Limpar Todos os Filtros",prepTime:{quick:"Rápido (≤15 min)",medium:"Médio (≤30 min)",long:"Longo (>30 min)"}},home:{title:"Descubra Receitas Saudáveis",subtitle:"Encontre e compartilhe receitas nutritivas que combinam com suas preferências alimentares.",createRecipe:"Criar Receita",noRecipes:"Nenhuma receita encontrada. Tente ajustar seus filtros."},profile:{myRecipes:"Minhas Receitas",favorites:"Favoritos",nutritionGoals:"Metas Nutricionais",settings:"Configurações",noRecipesYet:"Você ainda não publicou nenhuma receita.",noFavorites:"Você ainda não salvou nenhuma receita como favorita.",statistics:"Estatísticas",publishedRecipes:"Receitas Publicadas",totalReviews:"Total de Avaliações",averageRating:"Avaliação Média",experience:"Experiência",healthGoals:"Objetivos de Saúde",dietaryPreferences:"Preferências Alimentares",allergies:"Alergias",dailyGoals:"Metas Diárias",recentFavorites:"Favoritos Recentes",personalInfo:"Informações Pessoais",accountType:"Tipo de Conta",email:"Email",name:"Nome completo",password:"Senha",nutricionist:"Nutricionista",client:"Cliente",saveGoals:"Salvar metas",nutritionGoalsnames:{calories:"Calorias",protein:"Proteína",carbs:"Carboidratos",fat:"Gordura",fiber:"Fibra"}},categories:{all:"Todas",vegan:"Vegana",lowCarb:"Baixo Carboidrato",highProtein:"Rica em Proteína",glutenFree:"Sem Glúten",vegetarian:"Vegetariana"},recipe:{recipeTitle:"Titulo",recipeImageURL:"URL da imagem",recipeDescription:"Descrição",prepTime:"Tempo de Preparo",difficulty:"Dificuldade",recipeCategory:"Categoria",ingredients:"Ingredientes",addIngredient:"Adicionar Ingrediente",instructions:"Modo de Preparo",addStep:"Adicionar Passo",step:"Passo a passo",Step:"Passo",example:"Exemplo: 2 xícaras de açucar",nutritionFacts:"Informação Nutricional (Por porção)",reviews:"Avaliações",writeReview:"Escreva sua avaliação...",submitReview:"Enviar Avaliação",signInToReview:"Faça login para deixar uma avaliação.",perServing:"por porção",deleteConfirm:"Tem certeza que deseja excluir esta receita?",share:"Compartilhar Receita",edit:"Editar Receita",delete:"Excluir Receita",difficultyLevels:{easy:"Fácil",medium:"Médio",hard:"Difícil"},CreateNewRecipe:"Criar nova receita",CreateRecipe:"Criar receita",rating:"Avalie essa receita",noReviews:"Sem Avaliações"}}};function je(){const{language:e}=Na();return jT[e]}function ET({isOpen:e,onClose:t}){const[r,n]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState("email"),[l,u]=S.useState("");if(je(),!e)return null;const d=x=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x),h=async x=>{x.preventDefault();const v=r.toLowerCase().trim();if(!v){u("Por favor, digite seu email.");return}if(!d(v)){u("Por favor, digite um email válido.");return}i(!0),u("");try{if(console.log("Starting password reset process for:",v),!await ey(v)){u("Email não encontrado. Verifique se o email está correto ou crie uma conta."),a("error");return}console.log("Email exists, sending reset email..."),await ty(v),console.log("Reset email sent successfully"),a("sent")}catch(w){console.error("Password reset error:",w);let m="Erro ao enviar email de recuperação. Tente novamente em alguns minutos.";w.message&&(m=w.message),u(m),a("error")}finally{i(!1)}},f=()=>{n(""),a("email"),u(""),i(!1),t()},g=()=>{a("email"),u(""),i(!1)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[c.jsx("button",{onClick:f,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:s,children:c.jsx(Xr,{className:"w-6 h-6"})}),o==="email"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(Sb,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Esqueci minha senha"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite seu email para receber o link de recuperação"})]})]}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:r,onChange:x=>n(x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"seu@email.com",required:!0,disabled:s,autoComplete:"email"})]}),l&&c.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),c.jsxs("button",{type:"submit",disabled:s||!r.trim(),className:Y("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",s||!r.trim()?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[s&&c.jsx(Qs,{className:"w-4 h-4 animate-spin"}),s?"Verificando...":"Enviar link de recuperação"]})]}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:c.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Dica:"})," Verifique sua pasta de spam caso não receba o email em alguns minutos."]})})]}),o==="sent"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx(zu,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Email enviado!"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Enviamos um link de recuperação para ",c.jsx("strong",{children:r}),". Verifique sua caixa de entrada e pasta de spam."]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Importante:"})," O link expira em 1 hora. Se não receber o email em alguns minutos, verifique sua pasta de spam ou tente novamente."]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:f,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Fechar"}),c.jsx("button",{onClick:g,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Enviar novamente"})]})]}),o==="error"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx(Uu,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao enviar"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:g,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Tentar novamente"}),c.jsx("button",{onClick:f,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Fechar"})]})]})]})})}function CT({isOpen:e,onClose:t,initialMode:r="signin"}){const[n,s]=S.useState(r),[i,o]=S.useState(""),[a,l]=S.useState(""),[u,d]=S.useState(""),[h,f]=S.useState("Client"),[g,x]=S.useState(!1),[v,w]=S.useState(!1),m=je(),{signIn:p,signUp:y}=ke();if(!e)return null;const b=async j=>{j.preventDefault(),x(!0);try{n==="signin"?await p(i,a,u):await y(i,a,u,h),t()}catch(C){console.error("Auth error:",C)}finally{x(!1)}},k=()=>{w(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Xr,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-black dark:text-white",children:n==="signin"?m.common.signIn:m.common.createaccount}),c.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n==="signup"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.name}),c.jsx("input",{type:"text",id:"name",name:"name",value:u,onChange:j=>d(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.accountType}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("button",{type:"button",onClick:()=>f("Client"),className:Y("px-4 py-2 rounded-lg border-2 transition-colors dark:bg-white dark:text-black",h==="Client"?"border-green-500 bg-green-50 dark:bg-green-50 text-green-700 dark:text-green-700":"border-gray-200 hover:border-green-200"),children:m.profile.client}),c.jsx("button",{type:"button",onClick:()=>f("Nutritionist"),className:Y("px-4 py-2 rounded-lg border-2 transition-colors dark:bg-white dark:text-black",h==="Nutritionist"?"border-green-500 bg-green-50 dark:bg-green-50 text-green-700 dark:text-green-700":"border-gray-200 hover:border-green-200"),children:m.profile.nutricionist})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:"Email"}),c.jsx("input",{type:"email",id:"email",name:"email",value:i,onChange:j=>o(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.password}),c.jsx("input",{type:"password",id:"password",name:"password",value:a,onChange:j=>l(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),n==="signin"&&c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"button",onClick:k,className:"text-sm text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 font-medium",children:"Esqueci minha senha"})}),c.jsx("button",{type:"submit",disabled:g,className:Y("w-full py-2 rounded-lg text-white font-medium transition-colors",g?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:g?m.common.loading:n==="signin"?m.common.signIn:m.common.signUp})]}),c.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-300",children:[n==="signin"?m.common.dontHaveAccount:m.common.alreadyHaveAccount,c.jsx("button",{onClick:()=>s(n==="signin"?"signup":"signin"),className:"text-green-600 hover:text-green-700 font-medium ml-1",children:n==="signin"?m.common.signUp:m.common.signIn})]})]})}),c.jsx(ET,{isOpen:v,onClose:()=>w(!1)})]})}function Ep(){const{theme:e,setTheme:t}=Na(),r=je(),n=[{id:"light",icon:Ab,label:r.common.theme.light},{id:"dark",icon:Eb,label:r.common.theme.dark}];return c.jsx("div",{className:"flex items-center gap-2",children:n.map(({id:s,icon:i,label:o})=>c.jsx("button",{onClick:()=>t(s),className:`p-2 rounded-lg transition-colors ${e===s?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,title:o,children:c.jsx(i,{className:"w-5 h-5"})},s))})}function Cp(){const{language:e,setLanguage:t}=Na(),[r,n]=S.useState(!1),s=[{value:"en",label:"English",flag:"🇺🇸"},{value:"pt",label:"Português",flag:"🇧🇷"}],i=s.find(o=>o.value===e);return c.jsxs("div",{className:"relative",children:[c.jsxs(G.button,{onClick:()=>n(!r),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(bb,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),c.jsx("span",{className:"text-lg",children:i==null?void 0:i.flag}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 hidden sm:block",children:i==null?void 0:i.label})]}),c.jsx(G.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:c.jsx(xb,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),c.jsx(xi,{children:r&&c.jsxs(c.Fragment,{children:[c.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>n(!1)}),c.jsx(G.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:s.map((o,a)=>c.jsxs(G.button,{onClick:()=>{t(o.value),n(!1)},className:`w-full px-4 py-3 text-left flex items-center gap-3 transition-colors ${e===o.value?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},whileHover:{x:4},children:[c.jsx("span",{className:"text-xl",children:o.flag}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:o.label}),e===o.value&&c.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Selecionado"})]}),e===o.value&&c.jsx(G.div,{className:"ml-auto w-2 h-2 bg-green-500 rounded-full",initial:{scale:0},animate:{scale:1},transition:{delay:.1}})]},o.value))})]})})]})}function TT({onProfileClick:e,onAIMentoringClick:t}){const[r,n]=S.useState(!1),[s,i]=S.useState("signin"),[o,a]=S.useState(!1),{user:l,isAuthenticated:u,signOut:d,isNutritionist:h}=ke(),{hasFeatureAccess:f}=Xu(),{searchQuery:g,setSearchQuery:x}=Zu(),v=je(),w=p=>{i(p),n(!0)},m=u&&(h()||f("ai_mentoring"));return c.jsxs(c.Fragment,{children:[c.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(G.h1,{className:"text-2xl font-bold text-green-600 dark:text-green-400 cursor-pointer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"NutriChef"})}),c.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-8",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:g,onChange:p=>x(p.target.value),placeholder:v.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),c.jsx(Wh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-200 dark:border-gray-600 pr-4 mr-4",children:[c.jsx(Ep,{}),c.jsx(Cp,{})]}),u?c.jsxs(G.div,{className:"flex items-center space-x-4",initial:{opacity:0},animate:{opacity:1},children:[c.jsxs("button",{onClick:t,className:Y("flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors",m?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),title:m?"Mentoria IA":"Mentoria IA (Premium)",children:[c.jsx($r,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden lg:inline",children:"Mentoria IA"}),!m&&c.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:"Premium"})]}),c.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(Rn,{className:"w-4 h-4"}),c.jsx("span",{children:l==null?void 0:l.name})]}),c.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsx(Gh,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.signOut})]})]}):c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(G.button,{onClick:()=>w("signin"),className:"px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.common.signIn}),c.jsx(G.button,{onClick:()=>w("signup"),className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.common.signUp})]})]}),c.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[c.jsx(Ep,{}),c.jsx(Cp,{}),c.jsx("button",{onClick:()=>a(!o),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:c.jsx(jb,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})]})]})}),c.jsx(xi,{children:o&&c.jsx(G.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:c.jsxs("div",{className:"px-4 py-3 space-y-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:g,onChange:p=>x(p.target.value),placeholder:v.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),c.jsx(Wh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),u?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>{t(),a(!1)},className:Y("w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors",m?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),children:[c.jsx($r,{className:"w-4 h-4"}),c.jsx("span",{children:"Mentoria IA"}),!m&&c.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:"Premium"})]}),c.jsxs("button",{onClick:()=>{e(),a(!1)},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(Rn,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.profile})]}),c.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsx(Gh,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.signOut})]})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>{w("signin"),a(!1)},className:"w-full px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:v.common.signIn}),c.jsx("button",{onClick:()=>{w("signup"),a(!1)},className:"w-full px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:v.common.signUp})]})]})})})]}),c.jsx(CT,{isOpen:r,onClose:()=>n(!1),initialMode:s})]})}const Ct=jr((e,t)=>({recipes:[],favoriteRecipes:[],loading:!1,error:null,clearUserData:()=>{console.log("Clearing user data from recipes store"),e({favoriteRecipes:[]})},initializeAuth:async()=>{const{user:r}=ke.getState();r&&await t().fetchFavorites(r.id)},fetchRecipes:async()=>{e({loading:!0,error:null});try{console.log("Fetching recipes from database...");const r=await K0();console.log("Recipes fetched successfully:",r.length),e({recipes:r,loading:!1});const{user:n}=ke.getState();n&&await t().fetchFavorites(n.id)}catch(r){console.error("Error fetching recipes:",r);const n=r instanceof Error?r.message:"Failed to fetch recipes";e({error:n,loading:!1}),B.getState().showToast("Erro ao carregar receitas","error")}},fetchFavorites:async r=>{try{console.log("Fetching favorites for user:",r);const n=await Z0(r);console.log("Favorites fetched:",n),e({favoriteRecipes:n})}catch(n){console.error("Failed to fetch favorites:",n)}},addToFavorites:async r=>{const{user:n}=ke.getState();if(!n){B.getState().showToast("Faça login para favoritar receitas","error");return}try{console.log("Adding to favorites:",{userId:n.id,recipeId:r}),await Q0(n.id,r),e(s=>({favoriteRecipes:[...s.favoriteRecipes,r]})),B.getState().showToast("Adicionado aos favoritos","success")}catch(s){console.error("Failed to add favorite:",s);const i=s instanceof Error?s.message:"Erro ao adicionar aos favoritos";B.getState().showToast(i,"error")}},removeFromFavorites:async r=>{const{user:n}=ke.getState();if(!n){B.getState().showToast("Faça login para gerenciar favoritos","error");return}try{console.log("Removing from favorites:",{userId:n.id,recipeId:r}),await X0(n.id,r),e(s=>({favoriteRecipes:s.favoriteRecipes.filter(i=>i!==r)})),B.getState().showToast("Removido dos favoritos","info")}catch(s){console.error("Failed to remove favorite:",s);const i=s instanceof Error?s.message:"Erro ao remover dos favoritos";B.getState().showToast(i,"error")}},addReview:async(r,n)=>{try{console.log("Adding review:",{recipeId:r,review:n}),await q0(r,{user_id:n.userId,rating:n.rating,comment:n.comment}),await t().fetchRecipes(),B.getState().showToast("Avaliação adicionada com sucesso!","success")}catch(s){console.error("Failed to add review:",s);const i=s instanceof Error?s.message:"Erro ao adicionar avaliação";throw B.getState().showToast(i,"error"),s}},updateReview:async(r,n)=>{try{console.log("Updating review:",{reviewId:r,updates:n}),await Y0(r,n),await t().fetchRecipes(),B.getState().showToast("Avaliação atualizada com sucesso!","success")}catch(s){console.error("Failed to update review:",s);const i=s instanceof Error?s.message:"Erro ao atualizar avaliação";throw B.getState().showToast(i,"error"),s}},deleteReview:async r=>{try{console.log("Deleting review:",r),await J0(r),await t().fetchRecipes(),B.getState().showToast("Avaliação excluída com sucesso!","success")}catch(n){console.error("Failed to delete review:",n);const s=n instanceof Error?n.message:"Erro ao excluir avaliação";throw B.getState().showToast(s,"error"),n}},createRecipe:async r=>{e({loading:!0,error:null});try{console.log("Creating recipe:",r),await H0(r),await t().fetchRecipes(),B.getState().showToast("Receita criada com sucesso!","success")}catch(n){console.error("Failed to create recipe:",n);const s=n instanceof Error?n.message:"Failed to create recipe";throw e({error:s}),B.getState().showToast("Erro ao criar receita","error"),n}finally{e({loading:!1})}},updateRecipe:async r=>{e({loading:!0,error:null});try{console.log("Updating recipe:",r),await G0(r.id,r),await t().fetchRecipes(),B.getState().showToast("Receita atualizada com sucesso!","success")}catch(n){console.error("Failed to update recipe:",n);const s=n instanceof Error?n.message:"Failed to update recipe";throw e({error:s}),B.getState().showToast("Erro ao atualizar receita","error"),n}finally{e({loading:!1})}},deleteRecipe:async r=>{e({loading:!0,error:null});try{console.log("Deleting recipe:",r),await W0(r),e(n=>({recipes:n.recipes.filter(s=>s.id!==r),favoriteRecipes:n.favoriteRecipes.filter(s=>s!==r)})),B.getState().showToast("Receita excluída com sucesso!","success")}catch(n){console.error("Failed to delete recipe:",n);const s=n instanceof Error?n.message:"Failed to delete recipe";throw e({error:s}),B.getState().showToast("Erro ao excluir receita","error"),n}finally{e({loading:!1})}}})),Yi=Object.freeze(Object.defineProperty({__proto__:null,useRecipesStore:Ct},Symbol.toStringTag,{value:"Module"}));function Hc({recipe:e,onClick:t}){const{favoriteRecipes:r,addToFavorites:n,removeFromFavorites:s}=Ct(),{isAuthenticated:i}=ke(),o=je(),l=o.recipe.difficultyLevels[e.difficulty]||e.difficulty,u=o.categories,h=(v=>{const w={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},m=v.toLowerCase().replace(/\s+/g,""),p=Object.keys(w).find(b=>b.toLowerCase().replace(/\s+/g,"")===m);return p?u[w[p]]:u[v]||v})(e.category),f=r.includes(e.id),g=async v=>{if(v.stopPropagation(),!!i)try{f?await s(e.id):await n(e.id)}catch(w){console.error("Error toggling favorite:",w)}},x=()=>e.rating===0||!e.rating?"Sem avaliações":e.rating.toFixed(1);return c.jsxs("div",{onClick:t,className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer flex flex-col h-full",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover",onError:v=>{const w=v.target;w.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop"}}),c.jsx("span",{className:"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:h}),i&&c.jsx("button",{onClick:g,className:Y("absolute top-4 left-4 p-2 rounded-full bg-white dark:bg-gray-800 shadow-md transition-colors",f?"text-red-500":"text-gray-400 hover:text-red-500"),children:c.jsx(Bu,{className:Y("w-5 h-5",f&&"fill-current")})})]}),c.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[c.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white line-clamp-2",children:e.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3 flex-grow",children:e.description}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mt-auto pt-4 border-t border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ha,{className:"w-4 h-4 flex-shrink-0"}),c.jsxs("span",{className:"whitespace-nowrap",children:[e.prepTime,"min"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(da,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:Y("capitalize whitespace-nowrap",e.difficulty==="easy"&&"text-green-500",e.difficulty==="medium"&&"text-yellow-500",e.difficulty==="hard"&&"text-red-500"),children:l})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(hi,{className:"w-4 h-4 fill-yellow-400 text-yellow-400 flex-shrink-0"}),c.jsx("span",{className:"whitespace-nowrap text-xs",children:x()})]})]})]})]})}function NT({categories:e,selectedCategory:t,onSelectCategory:r}){const s=je().categories;return c.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(i=>{const o=s[i]||i;return c.jsx("button",{onClick:()=>r(i),className:Y("px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium transition-all duration-200 whitespace-nowrap",t===i?"bg-green-500 text-white shadow-md transform scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:scale-105"),children:o},i)})})}function PT(){const[e,t]=S.useState(!1),[r,n]=S.useState("right"),s=S.useRef(null),i=S.useRef(null),{difficulty:o,prepTimeRange:a,minRating:l,setDifficulty:u,setPrepTimeRange:d,setMinRating:h,resetFilters:f}=Zu(),g=je(),x=[{value:"quick",label:g.filters.prepTime.quick,max:15},{value:"medium",label:g.filters.prepTime.medium,max:30},{value:"long",label:g.filters.prepTime.long,max:null}],v=[{value:"easy",label:g.recipe.difficultyLevels.easy},{value:"medium",label:g.recipe.difficultyLevels.medium},{value:"hard",label:g.recipe.difficultyLevels.hard}],w=[{value:4,label:"4+ ⭐"},{value:4.5,label:"4.5+ ⭐"},{value:5,label:"5 ⭐"}],m=o||a||l;return S.useEffect(()=>{if(e&&s.current){const p=s.current.getBoundingClientRect(),y=window.innerWidth;p.right+320+16>y?n("left"):n("right")}},[e]),S.useEffect(()=>{function p(y){i.current&&!i.current.contains(y.target)&&s.current&&!s.current.contains(y.target)&&t(!1)}if(e)return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[e]),S.useEffect(()=>{function p(y){y.key==="Escape"&&t(!1)}if(e)return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e]),c.jsxs("div",{className:"relative",children:[c.jsxs(G.button,{ref:s,onClick:()=>t(!e),className:Y("flex items-center gap-2 px-3 sm:px-4 py-2 rounded-lg border transition-all duration-200 whitespace-nowrap text-sm font-medium",m?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-700 dark:text-green-400":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx(wb,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"hidden sm:inline",children:g.filters.advanced}),c.jsx("span",{className:"sm:hidden",children:"Filtros"}),m&&c.jsx(G.span,{initial:{scale:0},animate:{scale:1},className:"bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:[o,a,l].filter(Boolean).length})]}),c.jsx(xi,{children:e&&c.jsxs(G.div,{ref:i,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:Y("absolute top-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-6 z-50 max-h-[80vh] overflow-y-auto","right-0",r==="left"&&"sm:right-0 sm:left-auto",r==="right"&&"sm:left-0 sm:right-auto","w-72 sm:w-80"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:g.filters.advanced}),c.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:c.jsx(Xr,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(da,{className:"w-4 h-4 flex-shrink-0"}),g.recipe.difficulty]}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:v.map(p=>c.jsx(G.button,{onClick:()=>u(o===p.value?null:p.value),className:Y("px-2 sm:px-3 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-center",o===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.02},whileTap:{scale:.98},children:p.label},p.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(ha,{className:"w-4 h-4 flex-shrink-0"}),g.recipe.prepTime]}),c.jsx("div",{className:"space-y-2",children:x.map(p=>c.jsx(G.button,{onClick:()=>d(a===p.value?null:p.value),className:Y("w-full px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-left",a===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(hi,{className:"w-4 h-4 flex-shrink-0"}),g.filters.minRating]}),c.jsx("div",{className:"space-y-2",children:w.map(p=>c.jsx(G.button,{onClick:()=>h(l===p.value?null:p.value),className:Y("w-full px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-left",l===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),m&&c.jsx(G.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>{f(),t(!1)},className:"w-full px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 text-sm font-medium",whileHover:{scale:1.01},whileTap:{scale:.99},children:g.filters.clearAll})]})]})})]})}function AT({recipe:e,isOpen:t,onClose:r}){const{updateRecipe:n}=Ct(),s=je(),[i,o]=S.useState(!1),[a,l]=S.useState(e);if(!t)return null;const u=async A=>{A.preventDefault(),o(!0);try{await n(a),r()}catch(P){console.error("Error updating recipe:",P)}finally{o(!1)}},d=(A,P,q)=>{l(se=>({...se,[A]:se[A].map((Ve,Ee)=>Ee===P?q:Ve)}))},h=A=>{l(P=>({...P,[A]:[...P[A],""]}))},f=(A,P)=>{l(q=>({...q,[A]:q[A].filter((se,Ve)=>Ve!==P)}))},g=(A,P)=>{const q=parseFloat(P)||0;l(se=>({...se,nutritionFacts:{...se.nutritionFacts,[A]:q}}))},x=s.recipe.edit||"Editar Receita",v=s.recipe.recipeTitle,w=s.recipe.recipeDescription,m=s.recipe.recipeImageURL,p=s.recipe.prepTime,y=s.recipe.difficulty,b=s.recipe.recipeCategory,k=s.recipe.ingredients,j=s.recipe.instructions,C=s.recipe.nutritionFacts,E=s.recipe.addIngredient,I=s.recipe.addStep,O=Object.keys(s.categories).map(A=>({value:A,label:s.categories[A]}));return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 text-black dark:text-gray-400 rounded-xl max-w-3xl w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[c.jsx("button",{onClick:r,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Xr,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:x}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:v}),c.jsx("input",{type:"text",value:a.title,onChange:A=>l(P=>({...P,title:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m}),c.jsx("input",{type:"url",value:a.image,onChange:A=>l(P=>({...P,image:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:w}),c.jsx("textarea",{value:a.description,onChange:A=>l(P=>({...P,description:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",rows:3,required:!0})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:p}),c.jsx("input",{type:"number",value:a.prepTime,onChange:A=>l(P=>({...P,prepTime:Number(A.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",min:"1",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:y}),c.jsxs("select",{value:a.difficulty,onChange:A=>l(P=>({...P,difficulty:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:[c.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),c.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),c.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:b}),c.jsx("select",{value:a.category,onChange:A=>l(P=>({...P,category:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:O.map(A=>c.jsx("option",{value:A.value,children:A.label},A.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:k}),a.ingredients.map((A,P)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:A,onChange:q=>d("ingredients",P,q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:s.recipe.example,required:!0}),c.jsx("button",{type:"button",onClick:()=>f("ingredients",P),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Do,{className:"w-5 h-5"})})]},P)),c.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Xs,{className:"w-4 h-4"})," ",E]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:j}),a.instructions.map((A,P)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:A,onChange:q=>d("instructions",P,q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:`${s.recipe.Step} ${P+1}`,required:!0}),c.jsx("button",{type:"button",onClick:()=>f("instructions",P),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Do,{className:"w-5 h-5"})})]},P)),c.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Xs,{className:"w-4 h-4"})," ",I]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2 dark:text-white",children:C}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(a.nutritionFacts).map(([A,P])=>{const q=A;return c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1 capitalize dark:text-white",children:s.profile.nutritionGoalsnames[q]}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:P,onChange:se=>g(A,se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.00",required:!0})]},A)})})]}),c.jsx("button",{type:"submit",disabled:i,className:Y("w-full py-3 rounded-lg text-white font-medium transition-colors",i?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:i?"Salvando...":"Salvar Alterações"})]})]})})}function RT({recipe:e,onClose:t}){const[r,n]=S.useState({rating:5,comment:""}),[s,i]=S.useState(null),[o,a]=S.useState(!1),{user:l,isAuthenticated:u}=ke(),{favoriteRecipes:d,addToFavorites:h,removeFromFavorites:f,addReview:g,updateReview:x,deleteReview:v,deleteRecipe:w}=Ct(),m=je(),y=m.recipe.difficultyLevels[e.difficulty]||e.difficulty,b=m.categories,j=(_=>{const N={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},M=_.toLowerCase().replace(/\s+/g,""),z=Object.keys(N).find(Kt=>Kt.toLowerCase().replace(/\s+/g,"")===M);return z?b[N[z]]:b[_]||_})(e.category),C=d.includes(e.id),E=(l==null?void 0:l.id)===e.authorId,I=async _=>{if(_.preventDefault(),!!l)try{await g(e.id,{userId:l.id,userName:l.name,rating:r.rating,comment:r.comment,date:new Date().toISOString().split("T")[0]}),n({rating:5,comment:""})}catch(N){console.error("Error adding review:",N)}},O=async _=>{if(_.preventDefault(),!!s)try{await x(s.id,{rating:s.rating,comment:s.comment}),i(null)}catch(N){console.error("Error updating review:",N)}},A=async _=>{if(window.confirm("Tem certeza que deseja excluir esta avaliação?"))try{await v(_)}catch(N){console.error("Error deleting review:",N)}},P=async()=>{window.confirm("Tem certeza que deseja excluir esta receita?")&&(await w(e.id),t())},q=_=>Number(_).toFixed(1),se=_=>new Date(_).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),Ve=()=>e.rating===0||!e.rating?"Sem avaliações":`${e.rating.toFixed(1)} (${e.reviews.length} ${e.reviews.length===1?"avaliação":"avaliações"})`,Ee=e.reviews.find(_=>_.userId===(l==null?void 0:l.id)),D=u&&!Ee;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto z-50",children:c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full p-6 relative text-gray-600 dark:text-white dark:bg-gray-800",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 text-2xl",children:"×"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-lg"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsxs("h4",{className:"font-medium mb-2 text-gray-900 dark:text-white flex items-center gap-2 text-sm",children:[c.jsx(Rn,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),"Informações do Autor"]}),c.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nome:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.authorName||"Usuário"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tipo:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.authorType==="Nutritionist"?"Nutricionista":"Cliente"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[c.jsx(vb,{className:"w-3 h-3"}),"Postado em:"]}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:se(e.createdAt)})]})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),c.jsx("span",{className:"inline-block bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium mb-4",children:j})]}),c.jsxs("div",{className:"flex gap-2",children:[u&&c.jsx("button",{onClick:()=>C?f(e.id):h(e.id),className:Y("p-2 rounded-full",C?"text-red-500":"text-gray-400"),children:c.jsx(Bu,{className:Y("w-5 h-5",C&&"fill-current")})}),E&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>a(!0),className:"p-2 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors",title:"Editar receita",children:c.jsx(Pb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:P,className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors",title:"Excluir receita",children:c.jsx(Kh,{className:"w-5 h-5"})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4 dark:text-gray-300",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ha,{className:"w-4 h-4"}),c.jsxs("span",{children:[e.prepTime,"min"]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(da,{className:"w-4 h-4"}),c.jsx("span",{className:Y("capitalize",e.difficulty==="easy"&&"text-green-500",e.difficulty==="medium"&&"text-yellow-500",e.difficulty==="hard"&&"text-red-500"),children:y})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(hi,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),c.jsx("span",{children:Ve()})]})]}),c.jsx("p",{className:"text-gray-600 mb-4 dark:text-gray-300",children:e.description}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg mb-4",children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.nutritionFacts}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700 dark:text-gray-300",children:[c.jsxs("div",{children:[m.profile.nutritionGoalsnames.calories,": ",q(e.nutritionFacts.calories)," kcal"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.protein,": ",q(e.nutritionFacts.protein)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.carbs,": ",q(e.nutritionFacts.carbs)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.fat,": ",q(e.nutritionFacts.fat)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.fiber,": ",q(e.nutritionFacts.fiber)," g"]})]})]})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.ingredients}),c.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.ingredients.map((_,N)=>c.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:_},N))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.instructions}),c.jsx("ol",{className:"list-decimal list-inside space-y-2",children:e.instructions.map((_,N)=>c.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:_},N))})]})]}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:[m.recipe.reviews," (",e.reviews.length,")"]}),D&&c.jsxs("form",{onSubmit:I,className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-3 text-gray-900 dark:text-white",children:"Adicionar Avaliação"}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[m.recipe.rating,":"]}),[1,2,3,4,5].map(_=>c.jsx("button",{type:"button",onClick:()=>n(N=>({...N,rating:_})),className:Y("text-2xl transition-colors",_<=r.rating?"text-yellow-400":"text-gray-300"),children:"★"},_))]}),c.jsx("textarea",{value:r.comment,onChange:_=>n(N=>({...N,comment:_.target.value})),placeholder:m.recipe.writeReview,className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-black",rows:3,required:!0}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:m.recipe.submitReview})]}),s&&c.jsxs("form",{onSubmit:O,className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Editar Avaliação"}),c.jsx("button",{type:"button",onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:c.jsx(Xr,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Avaliação:"}),[1,2,3,4,5].map(_=>c.jsx("button",{type:"button",onClick:()=>i(N=>N?{...N,rating:_}:null),className:Y("text-2xl transition-colors",_<=s.rating?"text-yellow-400":"text-gray-300"),children:"★"},_))]}),c.jsx("textarea",{value:s.comment,onChange:_=>i(N=>N?{...N,comment:_.target.value}:null),placeholder:"Escreva sua avaliação...",className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-black",rows:3,required:!0}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar Alterações"}),c.jsx("button",{type:"button",onClick:()=>i(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]}),!u&&c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:m.recipe.signInToReview}),c.jsx("div",{className:"space-y-4",children:e.reviews.length===0?c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m.recipe.noReviews||"Nenhuma avaliação ainda"}):e.reviews.map(_=>{const N=(l==null?void 0:l.id)===_.userId;return c.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_.userName}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center",children:[...Array(5)].map((M,z)=>c.jsx("span",{className:Y("text-lg",z<_.rating?"text-yellow-400":"text-gray-300"),children:"★"},z))}),N&&c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>i({id:_.id,rating:_.rating,comment:_.comment}),className:"p-1 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Editar avaliação",children:c.jsx(Cb,{className:"w-3 h-3"})}),c.jsx("button",{onClick:()=>A(_.id),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Excluir avaliação",children:c.jsx(Kh,{className:"w-3 h-3"})})]})]})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:_.comment}),c.jsx("span",{className:"text-sm text-gray-400",children:_.date})]},_.id)})})]})]})})}),o&&c.jsx(AT,{recipe:e,isOpen:o,onClose:()=>a(!1)})]})}function IT({isOpen:e,onClose:t}){var v,w;const{user:r}=ke(),{createRecipe:n}=Ct(),s=je(),[i,o]=S.useState(!1),[a,l]=S.useState({title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}});if(!e||!r)return null;const u=async m=>{if(m.preventDefault(),!r){console.error("User not authenticated");return}o(!0);try{console.log("Submitting recipe:",a),console.log("User ID:",r.id);const p={...a,authorId:r.id,rating:0,reviews:[]};await n(p),l({title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}}),t()}catch(p){console.error("Error creating recipe:",p)}finally{o(!1)}},d=(m,p,y)=>{l(b=>{var k;return{...b,[m]:(k=b[m])==null?void 0:k.map((j,C)=>C===p?y:j)}})},h=m=>{l(p=>({...p,[m]:[...p[m]||[],""]}))},f=(m,p)=>{l(y=>{var b;return{...y,[m]:(b=y[m])==null?void 0:b.filter((k,j)=>j!==p)}})},g=(m,p)=>{const y=parseFloat(p)||0;l(b=>({...b,nutritionFacts:{...b.nutritionFacts,[m]:y}}))},x=Object.keys(s.categories).filter(m=>m!=="all").map(m=>({value:m,label:s.categories[m]}));return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 text-black dark:text-gray-400 rounded-xl max-w-3xl w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Xr,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:s.recipe.CreateNewRecipe}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeTitle}),c.jsx("input",{type:"text",value:a.title,onChange:m=>l(p=>({...p,title:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeImageURL}),c.jsx("input",{type:"url",value:a.image,onChange:m=>l(p=>({...p,image:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"https://example.com/image.jpg",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeDescription}),c.jsx("textarea",{value:a.description,onChange:m=>l(p=>({...p,description:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",rows:3,required:!0})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:[s.recipe.prepTime," (minutos)"]}),c.jsx("input",{type:"number",value:a.prepTime,onChange:m=>l(p=>({...p,prepTime:Number(m.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",min:"1",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.difficulty}),c.jsxs("select",{value:a.difficulty,onChange:m=>l(p=>({...p,difficulty:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:[c.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),c.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),c.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeCategory}),c.jsx("select",{value:a.category,onChange:m=>l(p=>({...p,category:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:x.map(m=>c.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.ingredients}),(v=a.ingredients)==null?void 0:v.map((m,p)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:m,onChange:y=>d("ingredients",p,y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:s.recipe.example,required:!0}),a.ingredients.length>1&&c.jsx("button",{type:"button",onClick:()=>f("ingredients",p),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Do,{className:"w-5 h-5"})})]},p)),c.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Xs,{className:"w-4 h-4"})," ",s.recipe.addIngredient]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.instructions}),(w=a.instructions)==null?void 0:w.map((m,p)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:m,onChange:y=>d("instructions",p,y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:`${s.recipe.Step} ${p+1}`,required:!0}),a.instructions.length>1&&c.jsx("button",{type:"button",onClick:()=>f("instructions",p),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Do,{className:"w-5 h-5"})})]},p)),c.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Xs,{className:"w-4 h-4"})," ",s.recipe.addStep]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.nutritionFacts}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(a.nutritionFacts||{}).map(([m,p])=>{const y=m;return c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1 capitalize dark:text-white",children:s.profile.nutritionGoalsnames[y]}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:p,onChange:b=>g(m,b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.00",required:!0})]},m)})})]}),c.jsx("button",{type:"submit",disabled:i,className:Y("w-full py-3 rounded-lg text-white font-medium transition-colors",i?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:i?"Criando...":s.recipe.CreateRecipe})]})]})})}function OT(){const{user:e}=ke(),{recipes:t}=Ct();if(t.filter(r=>r.authorId===(e==null?void 0:e.id)),!e)return null}const MT={calories:2e3,protein:50,carbs:250,fat:70,fiber:25},Rv=jr()(pa(e=>({goals:MT,setGoals:t=>e(r=>({goals:{...r.goals,...Object.fromEntries(Object.entries(t).map(([n,s])=>[n,Number(s)]))}}))}),{name:"nutrition-goals"}));function LT(){const{goals:e,setGoals:t}=Rv(),[r,n]=S.useState(e),s=je(),i=s.profile.saveGoals,o=s.profile.dailyGoals,a=s.profile.nutritionGoalsnames,l=d=>{d.preventDefault(),t(r)},u=(d,h)=>{const f=parseFloat(h)||0;n(g=>({...g,[d]:f}))};return c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:o}),Object.entries(r).map(([d,h])=>c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1 capitalize",children:[a[d]," ",d==="calories"?"(kcal)":"(g)"]}),c.jsx("input",{type:"number",step:"0.1",min:"0",value:h,onChange:f=>u(d,f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.0",required:!0})]},d)),c.jsx("button",{type:"submit",className:"w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:i})]})}function Sl({active:e,onClick:t,children:r}){return c.jsx("button",{onClick:t,className:`px-4 py-2 font-medium rounded-lg transition-colors ${e?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"}`,children:r})}function DT(){const[e,t]=Jc.useState("recipes"),{user:r}=ke(),{recipes:n,favoriteRecipes:s}=Ct(),i=n.filter(h=>h.authorId===(r==null?void 0:r.id)),o=n.filter(h=>s.includes(h.id)),a=je(),l=a.buttons.My_recipes,u=a.buttons.Favorites,d=a.buttons.Nutrition_goal;return c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"flex gap-2 mb-6",children:[(r==null?void 0:r.type)==="Nutritionist"&&c.jsx(Sl,{active:e==="recipes",onClick:()=>t("recipes"),children:l}),c.jsx(Sl,{active:e==="favorites",onClick:()=>t("favorites"),children:u}),c.jsx(Sl,{active:e==="nutrition",onClick:()=>t("nutrition"),children:d})]}),c.jsxs("div",{className:"mt-6",children:[e==="recipes"&&(r==null?void 0:r.type)==="Nutritionist"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(h=>c.jsx(Hc,{recipe:h,onClick:()=>{}},h.id)),i.length===0&&c.jsx("p",{className:"text-gray-500 col-span-full text-center py-8",children:a.profile.noRecipesYet})]}),e==="favorites"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.map(h=>c.jsx(Hc,{recipe:h,onClick:()=>{}},h.id)),o.length===0&&c.jsx("p",{className:"text-gray-500 col-span-full text-center py-8",children:a.profile.noFavorites})]}),e==="nutrition"&&c.jsx("div",{className:"max-w-md mx-auto",children:c.jsx(LT,{})})]})]})}function FT(){var d;const{user:e}=ke(),{recipes:t,favoriteRecipes:r}=Ct(),{goals:n}=Rv(),s=je();if(!e||e.type!=="Client")return null;const i=e.profile||{},o=t.filter(h=>r.includes(h.id)),a=o.length,l=o.reduce((h,f)=>h+f.nutritionFacts.calories,0)/(a||1),u=o.reduce((h,f)=>h+f.prepTime,0)/(a||1);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:s.profile.personalInfo}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.name}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.email}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.accountType}),c.jsx("p",{className:"font-medium capitalize text-gray-900 dark:text-white",children:s.profile.client})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Bu,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.favorites})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:a})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(pb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.nutritionGoalsnames.calories})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:l.toFixed(0)})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(ha,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.recipe.prepTime})]}),c.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[u.toFixed(0),"min"]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Rb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.healthGoals})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:((d=i.healthGoals)==null?void 0:d.length)||0})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:s.profile.dailyGoals}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(n).map(([h,f])=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:h})]},h))})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:s.profile.recentFavorites}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.slice(0,3).map(h=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("img",{src:h.image,alt:h.title,className:"w-16 h-16 object-cover rounded-lg"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:h.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.category}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{children:["★ ",h.rating.toFixed(1)]}),c.jsx("span",{children:"•"}),c.jsxs("span",{children:[h.prepTime,"min"]})]})]})]},h.id))})]})]})}function $T(){const{user:e}=ke(),{recipes:t}=Ct(),r=je();if(!e||e.type!=="Nutritionist")return null;const n=e.profile||{},s=t.filter(a=>a.authorId===e.id),i=s.reduce((a,l)=>a+l.reviews.length,0),o=s.reduce((a,l)=>a+l.rating,0)/s.length||0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:r.profile.personalInfo}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.profile.name}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.profile.email}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.profile.accountType}),c.jsx("p",{className:"font-medium capitalize text-gray-900 dark:text-white",children:r.profile.nutricionist})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(yb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.profile.publishedRecipes})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:s.length})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Ob,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.profile.totalReviews})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:i})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Ib,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.profile.averageRating})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:o.toFixed(1)})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(gb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.profile.experience})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:n.experience||"N/A"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:r.profile.myRecipes}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(-3).map(a=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("img",{src:a.image,alt:a.title,className:"w-16 h-16 object-cover rounded-lg"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.title}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{children:["★ ",a.rating.toFixed(1)]}),c.jsx("span",{children:"•"}),c.jsxs("span",{children:[a.reviews.length," ",r.recipe.reviews]})]})]})]},a.id))})]})]})}function VT({onBackToRecipes:e}){const{user:t}=ke(),n=je().buttons.BackToRecipes;return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 group",children:[c.jsx(o0,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),n]}),c.jsxs("div",{className:"space-y-8",children:[c.jsx(OT,{}),(t==null?void 0:t.type)==="Client"?c.jsx(FT,{}):c.jsx($T,{}),c.jsx(DT,{})]})]})}function UT(){const[e,t]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState(!1),[l,u]=S.useState(!1),[d,h]=S.useState(!0),[f,g]=S.useState("idle"),[x,v]=S.useState(""),[w,m]=S.useState(!1);S.useEffect(()=>{(async()=>{try{console.log("Checking recovery token..."),(await ny()).valid?(console.log("Valid recovery token found"),m(!0)):(g("error"),v("Link de recuperação inválido ou expirado. Solicite um novo link."),m(!1))}catch(I){console.error("Token validation error:",I),g("error"),v("Erro ao validar link de recuperação. Tente novamente."),m(!1)}finally{h(!1)}})()},[]);const p=E=>{const I=[];return E.length<6&&I.push("A senha deve ter pelo menos 6 caracteres"),/(?=.*[a-z])/.test(E)||I.push("A senha deve conter pelo menos uma letra minúscula"),/(?=.*[A-Z])/.test(E)||I.push("A senha deve conter pelo menos uma letra maiúscula"),/(?=.*\d)/.test(E)||I.push("A senha deve conter pelo menos um número"),I},y=async E=>{E.preventDefault(),u(!0),v("");const I=p(e);if(I.length>0){v(I[0]),u(!1);return}if(e!==r){v("As senhas não coincidem"),u(!1);return}try{console.log("Updating password..."),await ry(e),console.log("Password updated successfully"),g("success"),setTimeout(async()=>{await V.auth.signOut(),setTimeout(()=>{window.location.href="/"},3e3)},1e3)}catch(O){console.error("Password reset error:",O),v(O.message||"Erro inesperado. Tente novamente."),g("error")}finally{u(!1)}},k=(E=>{let I=0;return E.length>=6&&I++,E.match(/[a-z]/)&&I++,E.match(/[A-Z]/)&&I++,E.match(/[0-9]/)&&I++,E.match(/[^a-zA-Z0-9]/)&&I++,I})(e),j=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"],C=["Muito fraca","Fraca","Regular","Boa","Forte"];return d?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx(Qs,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-green-600"}),c.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Verificando link de recuperação..."}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto validamos seu link de recuperação."})]})}):f==="success"?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:c.jsx(zu,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Senha redefinida com sucesso!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua senha foi alterada com sucesso. Você será redirecionado para a página de login em alguns segundos."}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:c.jsx(G.div,{className:"bg-green-600 h-2 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:3}})}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Ir para login agora"})]})}):f==="error"||!w?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:c.jsx(Uu,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Link inválido ou expirado"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:x||"Este link de recuperação é inválido ou expirou. Solicite um novo link de recuperação."}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Voltar ao login"})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(_b,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Nova senha"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite sua nova senha segura"})]})]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Nb,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Dicas para uma senha segura:"}),c.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[c.jsx("li",{children:"• Pelo menos 6 caracteres"}),c.jsx("li",{children:"• Combine letras maiúsculas e minúsculas"}),c.jsx("li",{children:"• Inclua números e símbolos"}),c.jsx("li",{children:"• Evite informações pessoais"})]})]})]})}),c.jsxs("form",{onSubmit:y,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:s?"text":"password",id:"password",value:e,onChange:E=>t(E.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite sua nova senha",required:!0,disabled:l}),c.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:s?c.jsx(Bh,{className:"w-5 h-5"}):c.jsx(Hh,{className:"w-5 h-5"})})]}),e&&c.jsx("div",{className:"mt-2",children:c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:Y("h-2 rounded-full transition-all duration-300",j[Math.max(0,k-1)]),style:{width:`${k/5*100}%`}})}),c.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:C[Math.max(0,k-1)]})]})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:o?"text":"password",id:"confirmPassword",value:r,onChange:E=>n(E.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirme sua nova senha",required:!0,disabled:l}),c.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:o?c.jsx(Bh,{className:"w-5 h-5"}):c.jsx(Hh,{className:"w-5 h-5"})})]}),r&&e!==r&&c.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"As senhas não coincidem"})]}),x&&c.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:x})}),c.jsxs("button",{type:"submit",disabled:l||e!==r||k<3,className:Y("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",l||e!==r||k<3?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[l&&c.jsx(Qs,{className:"w-4 h-4 animate-spin"}),l?"Redefinindo...":"Redefinir senha"]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium",disabled:l,children:"Voltar ao login"})})]})})}var Tp;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Tp||(Tp={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Np;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Np||(Np={}));var Pp;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Pp||(Pp={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=["user","model","function","system"];var Ko;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ko||(Ko={}));var qo;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(qo||(qo={}));var Rp;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Rp||(Rp={}));var Ip;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Ip||(Ip={}));var Is;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Is||(Is={}));var Op;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Op||(Op={}));var Mp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Mp||(Mp={}));var Lp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Lp||(Lp={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class an extends Ae{constructor(t,r){super(t),this.response=r}}class Iv extends Ae{constructor(t,r,n,s){super(t),this.status=r,this.statusText=n,this.errorDetails=s}}class yr extends Ae{}class Ov extends Ae{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="https://generativelanguage.googleapis.com",BT="v1beta",HT="0.24.1",GT="genai-js";var Yr;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Yr||(Yr={}));class WT{constructor(t,r,n,s,i){this.model=t,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=i}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||BT;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||zT}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function KT(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${GT}/${HT}`),t.join(" ")}async function qT(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",KT(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new yr(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,i]of n.entries()){if(s==="x-goog-api-key")throw new yr(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new yr(`Header name ${s} can only be set using the apiClient field`);r.append(s,i)}}return r}async function YT(e,t,r,n,s,i){const o=new WT(e,t,r,n,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},ZT(i)),{method:"POST",headers:await qT(o),body:s})}}async function wi(e,t,r,n,s,i={},o=fetch){const{url:a,fetchOptions:l}=await YT(e,t,r,n,s,i);return JT(a,l,o)}async function JT(e,t,r=fetch){let n;try{n=await r(e,t)}catch(s){QT(s,e)}return n.ok||await XT(n,e),n}function QT(e,t){let r=e;throw r.name==="AbortError"?(r=new Ov(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof Iv||e instanceof yr||(r=new Ae(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function XT(e,t){let r="",n;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new Iv(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function ZT(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ho(e.candidates[0]))throw new an(`${nr(e)}`,e);return eN(e)}else if(e.promptFeedback)throw new an(`Text not available. ${nr(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ho(e.candidates[0]))throw new an(`${nr(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Dp(e)[0]}else if(e.promptFeedback)throw new an(`Function call not available. ${nr(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ho(e.candidates[0]))throw new an(`${nr(e)}`,e);return Dp(e)}else if(e.promptFeedback)throw new an(`Function call not available. ${nr(e)}`,e)},e}function eN(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const o of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Dp(e){var t,r,n,s;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const o of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const tN=[Is.RECITATION,Is.SAFETY,Is.LANGUAGE];function ho(e){return!!e.finishReason&&tN.includes(e.finishReason)}function nr(e){var t,r,n;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const i=e.candidates[0];ho(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function ii(e){return this instanceof ii?(this.v=e,this):new ii(e)}function rN(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(g){return new Promise(function(x,v){i.push([f,g,x,v])>1||a(f,g)})})}function a(f,g){try{l(n[f](g))}catch(x){h(i[0][3],x)}}function l(f){f.value instanceof ii?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,g){f(g),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function nN(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=oN(t),[n,s]=r.tee();return{stream:iN(n),response:sN(s)}}async function sN(e){const t=[],r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return Id(aN(t));t.push(s)}}function iN(e){return rN(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:s}=yield ii(r.read());if(s)break;yield yield ii(Id(n))}})}function oN(e){const t=e.getReader();return new ReadableStream({start(n){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){n.error(new Ae("Failed to parse stream"));return}n.close();return}s+=o;let l=s.match(Fp),u;for(;l;){try{u=JSON.parse(l[1])}catch{n.error(new Ae(`Error parsing JSON response: "${l[1]}"`));return}n.enqueue(u),s=s.substring(l[0].length),l=s.match(Fp)}return i()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new Ov("Request aborted when reading from the stream"):a=new Ae("Error reading from the stream"),a})}}})}function aN(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let s=0;for(const i of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=i.citationMetadata,r.candidates[s].groundingMetadata=i.groundingMetadata,r.candidates[s].finishReason=i.finishReason,r.candidates[s].finishMessage=i.finishMessage,r.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[s].content||(r.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),r.candidates[s].content.parts.push(o)}s++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mv(e,t,r,n){const s=await wi(t,Yr.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return nN(s)}async function Lv(e,t,r,n){const i=await(await wi(t,Yr.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:Id(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function oi(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return lN(t)}function lN(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const i of e)"functionResponse"in i?(r.parts.push(i),s=!0):(t.parts.push(i),n=!0);if(n&&s)throw new Ae("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new Ae("No content is provided for sending chat message.");return n?t:r}function cN(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new yr("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const i=oi(e);n.contents=[i]}return{generateContentRequest:n}}function $p(e){let t;return e.contents?t=e:t={contents:[oi(e)]},e.systemInstruction&&(t.systemInstruction=Dv(e.systemInstruction)),t}function uN(e){return typeof e=="string"||Array.isArray(e)?{content:oi(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],dN={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function hN(e){let t=!1;for(const r of e){const{role:n,parts:s}=r;if(!t&&n!=="user")throw new Ae(`First content should be with role 'user', got ${n}`);if(!Ap.includes(n))throw new Ae(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(Ap)}`);if(!Array.isArray(s))throw new Ae("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Ae("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const l of Vp)l in a&&(i[l]+=1);const o=dN[n];for(const a of Vp)if(!o.includes(a)&&i[a]>0)throw new Ae(`Content with role '${n}' can't contain '${a}' part`);t=!0}}function Up(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="SILENT_ERROR";class fN{constructor(t,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(hN(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,s,i,o,a,l;await this._sendPromise;const u=oi(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r);let f;return this._sendPromise=this._sendPromise.then(()=>Lv(this._apiKey,this.model,d,h)).then(g=>{var x;if(Up(g.response)){this._history.push(u);const v=Object.assign({parts:[],role:"model"},(x=g.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(v)}else{const v=nr(g.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}f=g}).catch(g=>{throw this._sendPromise=Promise.resolve(),g}),await this._sendPromise,f}async sendMessageStream(t,r={}){var n,s,i,o,a,l;await this._sendPromise;const u=oi(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),r),f=Mv(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(g=>{throw new Error(zp)}).then(g=>g.response).then(g=>{if(Up(g)){this._history.push(u);const x=Object.assign({},g.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=nr(g);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(g=>{g.message!==zp&&console.error(g)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(e,t,r,n){return(await wi(t,Yr.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(e,t,r,n){return(await wi(t,Yr.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function gN(e,t,r,n){const s=r.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await wi(t,Yr.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=Dv(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const s=$p(t),i=Object.assign(Object.assign({},this._requestOptions),r);return Lv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}async generateContentStream(t,r={}){var n;const s=$p(t),i=Object.assign(Object.assign({},this._requestOptions),r);return Mv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),i)}startChat(t){var r;return new fN(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=cN(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return pN(this.apiKey,this.model,n,s)}async embedContent(t,r={}){const n=uN(t),s=Object.assign(Object.assign({},this._requestOptions),r);return mN(this.apiKey,this.model,n,s)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return gN(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new Ae("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Bp(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new yr("Cached content must contain a `name` field.");if(!t.model)throw new yr("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(r!=null&&r[o]&&t[o]&&(r==null?void 0:r[o])!==t[o]){if(o==="model"){const a=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(a===l)continue}throw new yr(`Different value for "${o}" specified in modelParams (${r[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Bp(this.apiKey,i,n)}}const vN="gemini-2.5-flash",Fv="AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",xN=new yN(Fv);async function wN(e,t,r=[]){try{const n=bN(t),s=formatConversationHistory(r,t);return{content:(await xN.getGenerativeModel({model:vN,systemInstruction:{role:"system",parts:[{text:n}]},safetySettings:[{category:Ko.HARM_CATEGORY_HARASSMENT,threshold:qo.BLOCK_MEDIUM_AND_ABOVE},{category:Ko.HARM_CATEGORY_HATE_SPEECH,threshold:qo.BLOCK_MEDIUM_AND_ABOVE}]}).startChat({history:s}).sendMessage(e)).response.text().trim()}}catch(n){console.error("Erro ao chamar a API do Gemini:",n);let s="Desculpe, ocorreu um erro ao tentar processar sua solicitação. Tente novamente em alguns instantes.";return n instanceof Error&&(n.message.includes("API_KEY")?s="Erro de configuração da IA. Entre em contato com o suporte.":n.message.includes("quota")?s="Limite de uso da IA atingido. Tente novamente mais tarde.":(n.message.includes("network")||n.message.includes("fetch"))&&(s="Erro de conexão. Verifique sua internet e tente novamente.")),{content:s,error:n instanceof Error?n.message:"Unknown error"}}}function bN(e){return[`Você é ${(e==null?void 0:e.ai_name)||"NutriBot"}, uma IA especializada em nutrição e assistente da plataforma NutriChef.`,`Personalidade: ${r((e==null?void 0:e.personality)||"empathetic")}`,e!=null&&e.custom_instructions?`Instruções específicas: ${e.custom_instructions}`:"","Regras importantes:","1. Responda perguntas sobre o site, como listar receitas, explicar funcionalidades e dar informações úteis.","2. Se um usuário perguntar por uma receita que não existe, diga que não encontrou e ofereça receitas semelhantes (por exemplo, da mesma categoria) que estão no contexto fornecido.","3. Ao listar receitas, apresente-as pelo nome e, se possível, com alguma informação extra como categoria ou dificuldade.","4. Sempre lembre o cliente de consultar seu nutricionista para planos alimentares personalizados.","5. Não faça diagnósticos médicos.","6. Seja útil, prestativo e use uma linguagem clara e acessível em português brasileiro.","7. Seja breve e resuma as mensagens antes de enviar."].filter(Boolean).join(`
`);function r(n){const s={empathetic:"Você é empática e motivacional. Sempre demonstre compreensão e ofereça encorajamento. Use um tom caloroso e acolhedor.",scientific:"Você é focada em dados científicos e evidências. Base suas respostas em fatos nutricionais e pesquisas. Use um tom técnico mas acessível.",friendly:"Você é amigável e casual. Use um tom descontraído e próximo, como se fosse uma amiga dando conselhos.",professional:"Você é profissional e formal. Mantenha um tom respeitoso e técnico, como um profissional de saúde."};return s[n]||s.empathetic}}function kN(){return Fv!=="your-api-key-here"}async function _N(e=10){const{data:t,error:r}=await V.from("recipes").select("*, author:profiles(full_name)").limit(e);if(r)throw r;if(!t||t.length===0)return{context:"Nenhuma receita encontrada no site.",structuredData:[]};const n=`
Contexto de Todas as Receitas Disponíveis (Amostra):
---
${t.map(i=>`- Título: ${i.title} (Categoria: ${i.category}, Dificuldade: ${i.difficulty})`).join(`
`)}
  `.trim(),s=t.map(i=>{var o;return{id:i.id,title:i.title,description:i.description,author:((o=i.author)==null?void 0:o.full_name)||"Usuário",rating:i.rating||0}});return{context:n,structuredData:s}}async function SN(e,t=3){let{data:r,error:n}=await V.from("recipes").select("*, author:profiles(full_name)").or(`title.ilike.%${e}%,description.ilike.%${e}%`).limit(t);if(n)throw n;if(!r||r.length===0){const{data:o,error:a}=await V.from("recipes").select("*, author:profiles(full_name)").or(`category.ilike.%${e}%`).limit(t);if(a)throw a;if(o&&o.length>0){const l=`
Contexto de Receitas Semelhantes Encontradas (na categoria ${e}):
---
${o.map(d=>{var h;return`
- Título: ${d.title}
- Autor: ${((h=d.author)==null?void 0:h.full_name)||"Desconhecido"}
- Categoria: ${d.category}
`}).join(`
---
`)}
      `.trim(),u=o.map(d=>{var h;return{id:d.id,title:d.title,description:d.description,author:((h=d.author)==null?void 0:h.full_name)||"Usuário",rating:d.rating||0}});return{context:l,structuredData:u,notFound:!0}}return{context:`Nenhuma receita encontrada para "${e}".`,structuredData:[],notFound:!0}}const s=`
Contexto de Receitas Encontradas para "${e}":
---
${r.map(o=>{var a;return`
- Título: ${o.title}
- Autor: ${((a=o.author)==null?void 0:a.full_name)||"Desconhecido"}
- Categoria: ${o.category}
- Dificuldade: ${o.difficulty}
`}).join(`
---
`)}
  `.trim(),i=r.map(o=>{var a;return{id:o.id,title:o.title,description:o.description,author:((a=o.author)==null?void 0:a.full_name)||"Usuário",rating:o.rating||0}});return{context:s,structuredData:i,notFound:!1}}async function jN(e,t=2){const{data:r,error:n}=await V.from("profiles").select("id, full_name, bio").eq("user_type","Nutritionist").or(`full_name.ilike.%${e}%,bio.ilike.%${e}%`).limit(t);if(n)throw n;if(!r||r.length===0)return{context:"",structuredData:[]};const s=`
Contexto de Nutricionistas Encontrados:
---
${r.map(o=>`- Nome: ${o.full_name}
  Biografia: ${o.bio||"Nenhuma biografia disponível."}`).join(`
---
`)}
  `.trim(),i=r.map(o=>({id:o.id,fullName:o.full_name,bio:o.bio||"Nenhuma biografia disponível."}));return{context:s,structuredData:i}}async function EN(){try{const{count:e,error:t}=await V.from("recipes").select("*",{count:"exact",head:!0}),{count:r,error:n}=await V.from("profiles").select("*",{count:"exact",head:!0}).eq("user_type","Nutritionist"),{count:s,error:i}=await V.from("profiles").select("*",{count:"exact",head:!0}).eq("user_type","Client");return t||n||i?(console.error("Error fetching counts:",t||n||i),"Não foi possível buscar as estatísticas gerais."):`
Estatísticas do Sistema NutriChef:
---
- Total de receitas publicadas: ${e}
- Total de nutricionistas cadastrados: ${r}
- Total de clientes cadastrados: ${s}
- O NutriChef é uma plataforma que conecta nutricionistas e clientes com foco em alimentação saudável.
    `.trim()}catch(e){return console.error("Error getting system stats:",e),"Erro ao obter estatísticas do sistema."}}async function CN(e,t,r){try{const n=e.toLowerCase(),s=["receita","prato","comida","bolo","listar","todas","quais"],i=["nutricionista","nutri","profissional","especialista"],o=["quantas","total","estatística","ajuda","como","funciona"],a=s.some(w=>n.includes(w)),l=i.some(w=>n.includes(w)),u=n.includes("listar todas")||n.includes("quais receitas");let d="",h=[],f=[],g=!1;if(o.some(w=>n.includes(w))||!a&&!l){const w=await EN();d+=`
${w}`}if(a)if(u){const{context:w,structuredData:m}=await _N();d+=`
${w}`,h=m}else{const{context:w,structuredData:m,notFound:p}=await SN(e);d+=`
${w}`,h=m,g=p}if(l){const{context:w,structuredData:m}=await jN(e);d+=`
${w}`,f=m}const x=`
Você é um assistente da plataforma NutriChef. Use as informações de contexto abaixo para responder.

${d}

Pergunta do Cliente: ${e}

Instruções:
- Se o cliente pedir para listar receitas, liste as que foram encontradas no contexto.
- Se uma receita específica não for encontrada, informe o cliente e sugira as receitas semelhantes que encontrou (se houver).
- Seja sempre prestativo e direto ao ponto.
    `.trim(),v=await wN(x,t,r);return v.error&&console.error("Gemini API error:",v.error),{content:v.content,recipes:h&&h.length>0?h:void 0,nutritionists:f&&f.length>0?f:void 0}}catch(n){return console.error("Error processing AI message:",n),{content:"Desculpe, ocorreu um erro ao processar sua mensagem. Tente novamente."}}}async function Hp(e){const{data:t,error:r}=await V.from("ai_configurations").select("*").eq("nutritionist_id",e).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function TN(e){const{data:t,error:r}=await V.from("ai_configurations").insert([e]).select("*").single();if(r)throw r;return t}async function NN(e,t){const{data:r,error:n}=await V.from("ai_configurations").update(t).eq("id",e).select("*").single();if(n)throw n;return r}async function PN(e){const{data:t,error:r}=await V.from("ai_conversations").select("*, ai_config:ai_configurations(*)").eq("client_id",e).eq("is_active",!0).order("last_message_at",{ascending:!1});if(r)throw r;return t||[]}async function AN(e,t,r){const{data:n,error:s}=await V.from("ai_conversations").insert([{client_id:e,title:t,ai_configuration_id:r}]).select("*, ai_config:ai_configurations(*)").single();if(s)throw console.error("Erro ao criar a conversa de IA:",s),new Error("Não foi possível iniciar uma nova conversa.");return n}async function RN(e){const{data:t,error:r}=await V.from("ai_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return t||[]}async function Gp(e){const{data:t,error:r}=await V.from("ai_messages").insert([e]).select("*").single();if(r)throw r;return t}const IN=jr((e,t)=>({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null,fetchAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await Hp(r);e({aiConfig:n,loading:!1})}catch(n){console.error("Error fetching AI configuration:",n);const s=n instanceof Error?n.message:"Erro ao carregar configuração da IA";e({error:s,loading:!1})}},createAIConfiguration:async r=>{e({loading:!0,error:null});try{const n=await TN(r);e({aiConfig:n,loading:!1}),B.getState().showToast("Configuração da IA criada com sucesso!","success")}catch(n){console.error("Error creating AI configuration:",n);const s=n instanceof Error?n.message:"Erro ao criar configuração da IA";throw e({error:s,loading:!1}),B.getState().showToast("Erro ao criar configuração da IA","error"),n}},updateAIConfiguration:async(r,n)=>{e({loading:!0,error:null});try{const s=await NN(r,n);e({aiConfig:s,loading:!1}),B.getState().showToast("Configuração da IA atualizada com sucesso!","success")}catch(s){console.error("Error updating AI configuration:",s);const i=s instanceof Error?s.message:"Erro ao atualizar configuração da IA";throw e({error:i,loading:!1}),B.getState().showToast("Erro ao atualizar configuração da IA","error"),s}},fetchConversations:async r=>{e({loading:!0,error:null});try{const n=await PN(r);e({conversations:n,loading:!1})}catch(n){console.error("Error fetching conversations:",n);const s=n instanceof Error?n.message:"Erro ao carregar conversas";e({error:s,loading:!1})}},createConversation:async(r,n)=>{e({loading:!0,error:null});try{let s=null;if(n){const o=await Hp(n);s=(o==null?void 0:o.id)||null}const i=await AN({client_id:r,nutritionist_id:n,ai_config_id:s,title:"Nova conversa com IA",is_active:!0});return e(o=>({conversations:[i,...o.conversations],currentConversation:i,loading:!1})),i}catch(s){console.error("Error creating conversation:",s);const i=s instanceof Error?s.message:"Erro ao criar conversa";throw e({error:i,loading:!1}),B.getState().showToast("Erro ao criar conversa","error"),s}},setCurrentConversation:r=>{e({currentConversation:r,messages:[]}),r&&t().fetchMessages(r.id)},fetchMessages:async r=>{e({loading:!0,error:null});try{const n=await RN(r);e({messages:n,loading:!1})}catch(n){console.error("Error fetching messages:",n);const s=n instanceof Error?n.message:"Erro ao carregar mensagens";e({error:s,loading:!1})}},sendMessage:async(r,n)=>{const{currentConversation:s}=t();if(s){e({sendingMessage:!0,error:null});try{const i=await Gp({conversation_id:r,sender_type:"user",content:n,metadata:{}});e(u=>({messages:[...u.messages,i]}));let o=t().aiConfig;if(!o&&s.ai_config_id){const{data:u}=await V.from("ai_configurations").select("*").eq("id",s.ai_config_id).single();o=u}const a=await CN(n,o||{id:"default",nutritionist_id:"default",ai_name:"NutriBot",personality:"empathetic",custom_instructions:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t().messages),l=await Gp({conversation_id:r,sender_type:"ai",content:a.content,metadata:{recipes:a.recipes,nutritionists:a.nutritionists,suggestions:a.suggestions}});e(u=>({messages:[...u.messages,l],sendingMessage:!1}))}catch(i){console.error("Error sending message:",i);const o=i instanceof Error?i.message:"Erro ao enviar mensagem";e({error:o,sendingMessage:!1}),B.getState().showToast("Erro ao enviar mensagem","error")}}},clearError:()=>e({error:null}),reset:()=>e({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null})}));function Gc({size:e="md",className:t}){const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return c.jsx(Qs,{className:Y("animate-spin",r[e],t)})}function ON(){var y;const{user:e}=ke(),{conversations:t,currentConversation:r,messages:n,sendingMessage:s,createConversation:i,setCurrentConversation:o,sendMessage:a,fetchMessages:l}=IN(),[u,d]=S.useState(""),h=S.useRef(null),f=S.useRef(null),g=kN();S.useEffect(()=>{var b;(b=h.current)==null||b.scrollIntoView({behavior:"smooth"})},[n]),S.useEffect(()=>{!s&&f.current&&f.current.focus()},[s]);const x=async()=>{if(e)try{const b=await i(e.id);o(b)}catch(b){console.error("Error starting conversation:",b)}},v=async b=>{if(b.preventDefault(),!u.trim()||!r||s)return;const k=u.trim();d("");try{await a(r.id,k)}catch(j){console.error("Error sending message:",j),d(k)}},w=b=>b.split(`
`).map((k,j)=>{if(k.startsWith("# "))return c.jsx("h3",{className:"text-lg font-bold mt-4 mb-2",children:k.substring(2)},j);if(k.startsWith("## "))return c.jsx("h4",{className:"text-md font-semibold mt-3 mb-1",children:k.substring(3)},j);if(k.startsWith("- ")||k.startsWith("• "))return c.jsxs("div",{className:"flex items-start gap-2 my-1",children:[c.jsx("span",{className:"text-purple-500 mt-1",children:"•"}),c.jsx("span",{children:k.substring(2)})]},j);const C=k.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return k.trim()?c.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:C}},j):c.jsx("br",{},j)}),m=b=>c.jsx(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-purple-200 dark:border-purple-700 mt-3",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(da,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:b.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:b.description}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Rn,{className:"w-3 h-3"}),b.author]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(hi,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),b.rating>0?b.rating.toFixed(1):"Sem avaliações"]})]})]})]})}),p=b=>c.jsx(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-green-200 dark:border-green-700 mt-3",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Rn,{className:"w-5 h-5 text-green-600 mt-1 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:b.fullName}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b.bio}),c.jsx("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400 mt-2",children:c.jsx("span",{className:"bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded-full",children:"Nutricionista"})})]})]})});return r?c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:c.jsx($r,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white",children:((y=r.ai_config)==null?void 0:y.ai_name)||"NutriBot"}),c.jsx("p",{className:"text-purple-100 text-sm",children:"Assistente de Nutrição • Online"})]})]})}),c.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[c.jsx(xi,{children:n.map(b=>{var k,j;return c.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:Y("flex gap-3",b.sender_type==="user"?"justify-end":"justify-start"),children:[b.sender_type==="ai"&&c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex-shrink-0",children:c.jsx($r,{className:"w-4 h-4 text-white"})}),c.jsxs("div",{className:Y("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",b.sender_type==="user"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"),children:[c.jsx("div",{className:"text-sm",children:w(b.content)}),((k=b.metadata)==null?void 0:k.recipes)&&b.metadata.recipes.length>0&&c.jsx("div",{className:"mt-3 space-y-2",children:b.metadata.recipes.map((C,E)=>m(C))}),((j=b.metadata)==null?void 0:j.nutritionists)&&b.metadata.nutritionists.length>0&&c.jsx("div",{className:"mt-3 space-y-2",children:b.metadata.nutritionists.map((C,E)=>p(C))}),c.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(b.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),b.sender_type==="user"&&c.jsx("div",{className:"p-2 bg-green-600 rounded-full flex-shrink-0",children:c.jsx(Rn,{className:"w-4 h-4 text-white"})})]},b.id)})}),s&&c.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full",children:c.jsx($r,{className:"w-4 h-4 text-white"})}),c.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Gc,{size:"sm"}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digitando..."})]})})]}),c.jsx("div",{ref:h})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[c.jsxs("form",{onSubmit:v,className:"flex gap-3",children:[c.jsx("input",{ref:f,type:"text",value:u,onChange:b=>d(b.target.value),placeholder:"Digite sua pergunta sobre nutrição...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",disabled:s}),c.jsx(G.button,{type:"submit",disabled:!u.trim()||s,className:Y("px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",!u.trim()||s?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700"),whileHover:!s&&u.trim()?{scale:1.05}:{},whileTap:!s&&u.trim()?{scale:.95}:{},children:s?c.jsx(Qs,{className:"w-4 h-4 animate-spin"}):c.jsx(Tb,{className:"w-4 h-4"})})]}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["A IA pode cometer erros. Sempre consulte seu nutricionista para orientações personalizadas.",!g]})]})]})}):c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:c.jsx($r,{className:"w-12 h-12 text-white"})}),c.jsx(G.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1",children:c.jsx(l0,{className:"w-6 h-6 text-yellow-500"})})]})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Bem-vindo à Mentoria IA!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:"Sua assistente de nutrição inteligente está pronta para ajudar com receitas, dicas alimentares, uso da plataforma e muito mais. Inicie uma conversa agora!"}),!g,c.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"🍽️ Receitas"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Me mostre receitas de bolo fit"'})]}),c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-green-700 dark:text-green-300 mb-2",children:"📊 Estatísticas"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Quantas receitas temos na plataforma?"'})]}),c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"💡 Dicas"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Como posso melhorar minha alimentação?"'})]}),c.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-orange-700 dark:text-orange-300 mb-2",children:"❓ Ajuda"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Como salvo receitas nos favoritos?"'})]})]}),c.jsxs(G.button,{onClick:x,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 mx-auto",whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.jsx(a0,{className:"w-5 h-5"}),"Iniciar Conversa"]})]})})}function MN(){je();const e=[{icon:c.jsx($r,{className:"w-5 h-5"}),title:"Mentoria IA Ilimitada",description:"Chat 24/7 com IA especializada em nutrição"},{icon:c.jsx(a0,{className:"w-5 h-5"}),title:"Consultas Personalizadas",description:"IA configurada pelo seu nutricionista"},{icon:c.jsx(hi,{className:"w-5 h-5"}),title:"Recomendações Inteligentes",description:"Sugestões de receitas baseadas no seu perfil"},{icon:c.jsx(Mb,{className:"w-5 h-5"}),title:"Suporte Prioritário",description:"Atendimento rápido e especializado"}];return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-2xl p-8 text-center border border-purple-200 dark:border-purple-700",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:c.jsx(nl,{className:"w-12 h-12 text-white"})}),c.jsx(G.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:c.jsx(l0,{className:"w-6 h-6 text-yellow-500"})})]})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Desbloqueie a Mentoria IA"}),c.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:["Para ter acesso ilimitado à nossa Mentoria IA e outras funcionalidades exclusivas, assine o nosso ",c.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"Plano Premium"}),"!"]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:e.map((t,r)=>c.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"flex items-start gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg text-white",children:t.icon}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description})]})]},r))}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 mb-8 border border-purple-200 dark:border-purple-700",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(nl,{className:"w-6 h-6 text-purple-600"}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Plano Premium"})]}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("span",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400",children:"R$ 29,90"}),c.jsx("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:"/mês"})]}),c.jsxs("ul",{className:"space-y-3 mb-6 text-left max-w-md mx-auto",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx($i,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Chat IA ilimitado"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx($i,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"IA personalizada pelo nutricionista"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx($i,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Recomendações inteligentes"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx($i,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Suporte prioritário"})]})]}),c.jsxs(G.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2",children:[c.jsx(nl,{className:"w-5 h-5"}),"Assinar Plano Premium"]})]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cancele a qualquer momento • Sem compromisso • Suporte 24/7"})]})})}function LN({onBack:e}){const{user:t,isNutritionist:r}=ke(),{hasFeatureAccess:n}=Xu(),s=t&&(r()||n("ai_mentoring"));return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 group",children:[c.jsx(o0,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),"Voltar"]}),s?c.jsx(ON,{}):c.jsx(MN,{})]})}function DN({message:e,type:t,onClose:r,duration:n=3e3}){Jc.useEffect(()=>{const i=setTimeout(r,n);return()=>clearTimeout(i)},[n,r]);const s={success:c.jsx(zu,{className:"w-5 h-5 text-green-500"}),error:c.jsx(Uu,{className:"w-5 h-5 text-red-500"}),info:c.jsx(kb,{className:"w-5 h-5 text-blue-500"})};return c.jsx(xi,{children:c.jsxs(G.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:Y("fixed bottom-4 right-4 flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg",t==="success"&&"bg-green-50 border border-green-200",t==="error"&&"bg-red-50 border border-red-200",t==="info"&&"bg-blue-50 border border-blue-200"),children:[s[t],c.jsx("span",{className:"text-gray-700",children:e}),c.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-full",children:c.jsx(Xr,{className:"w-4 h-4 text-gray-500"})})]})})}function FN(){const[e,t]=S.useState(null),[r,n]=S.useState(!1),[s,i]=S.useState(!1),[o,a]=S.useState(!1),[l,u]=S.useState(!1),{category:d,searchQuery:h,difficulty:f,prepTimeRange:g,minRating:x,setCategory:v}=Zu(),{recipes:w,loading:m,fetchRecipes:p}=Ct(),{isAuthenticated:y,isNutritionist:b,user:k,initializeAuth:j}=ke(),{message:C,type:E,hideToast:I}=B(),O=je(),A=["all","vegan","lowCarb","highProtein","glutenFree","vegetarian"],P=window.location.pathname==="/reset-password"||window.location.hash.includes("type=recovery");if(S.useEffect(()=>{(async()=>{if(!l){console.log("Initializing app...");try{await j(),await p(),u(!0),console.log("App initialized successfully")}catch(_){console.error("Error initializing app:",_),u(!0)}}})()},[j,p,l]),S.useEffect(()=>{l&&v("all")},[v,l]),P)return c.jsx(UT,{});const q=D=>D.toLowerCase().replace(/\s+/g,""),se=D=>{if(!g)return!0;switch(g){case"quick":return D.prepTime<=15;case"medium":return D.prepTime<=30;case"long":return D.prepTime>30;default:return!0}},Ve=w.filter(D=>{const _=q(D.category),N=q(d),M=N==="all"||_===N,z=D.title.toLowerCase().includes(h.toLowerCase())||D.description.toLowerCase().includes(h.toLowerCase()),de=!f||D.difficulty===f,Kt=!x||D.rating>=x,Tt=se(D);return M&&z&&de&&Kt&&Tt}),Ee=w.find(D=>D.id===e);return l?c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[c.jsx(TT,{onProfileClick:()=>i(!0),onAIMentoringClick:()=>a(!0)}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o?c.jsx(LN,{onBack:()=>a(!1)}):s?c.jsx(VT,{onBackToRecipes:()=>i(!1)}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-4",children:O.home.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl text-sm sm:text-base",children:O.home.subtitle})]}),y&&b()&&c.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm sm:text-base",children:[c.jsx(Xs,{className:"w-4 h-4 sm:w-5 sm:h-5"}),O.home.createRecipe]})]}),c.jsxs("div",{className:"mb-8 space-y-4",children:[c.jsx("div",{className:"w-full",children:c.jsx(NT,{categories:A,selectedCategory:d,onSelectCategory:v})}),c.jsx("div",{className:"flex justify-center sm:justify-end",children:c.jsx(PT,{})})]}),m?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx(Gc,{size:"lg"})}):Ve.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:O.home.noRecipes}),w.length===0&&!m&&c.jsx("button",{onClick:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar novamente"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ve.map(D=>c.jsx(Hc,{recipe:D,onClick:()=>t(D.id)},D.id))})]})}),Ee&&c.jsx(RT,{recipe:Ee,onClose:()=>t(null)}),c.jsx(IT,{isOpen:r,onClose:()=>n(!1)}),C&&c.jsx(DN,{message:C,type:E,onClose:I})]}):c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Gc,{size:"lg"}),c.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Carregando aplicação..."})]})})}class $N extends S.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx(mb,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),c.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function VN({children:e}){const{theme:t}=Na();return S.useEffect(()=>{const r=()=>{const n=t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",n)};if(r(),t==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addEventListener("change",r),()=>n.removeEventListener("change",r)}},[t]),c.jsx(c.Fragment,{children:e})}i0(document.getElementById("root")).render(c.jsx(S.StrictMode,{children:c.jsx($N,{children:c.jsx(VN,{children:c.jsx(FN,{})})})}));export{Wp as g};
