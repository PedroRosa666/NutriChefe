(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Gv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var sm={exports:{}},Xo={},im={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=Symbol.for("react.element"),Hv=Symbol.for("react.portal"),Wv=Symbol.for("react.fragment"),Kv=Symbol.for("react.strict_mode"),qv=Symbol.for("react.profiler"),Yv=Symbol.for("react.provider"),Jv=Symbol.for("react.context"),Qv=Symbol.for("react.forward_ref"),Xv=Symbol.for("react.suspense"),Zv=Symbol.for("react.memo"),ex=Symbol.for("react.lazy"),Md=Symbol.iterator;function tx(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var om={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},am=Object.assign,lm={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=lm,this.updater=n||om}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cm(){}cm.prototype=Wr.prototype;function Kc(e,t,n){this.props=e,this.context=t,this.refs=lm,this.updater=n||om}var qc=Kc.prototype=new cm;qc.constructor=Kc;am(qc,Wr.prototype);qc.isPureReactComponent=!0;var Ld=Array.isArray,um=Object.prototype.hasOwnProperty,Yc={current:null},dm={key:!0,ref:!0,__self:!0,__source:!0};function hm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)um.call(t,r)&&!dm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:hi,type:e,key:i,ref:o,props:s,_owner:Yc.current}}function nx(e,t){return{$$typeof:hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jc(e){return typeof e=="object"&&e!==null&&e.$$typeof===hi}function rx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dd=/\/+/g;function Ra(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rx(""+e.key):t.toString(36)}function Zi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hi:case Hv:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ra(o,0):r,Ld(s)?(n="",e!=null&&(n=e.replace(Dd,"$&/")+"/"),Zi(s,t,n,"",function(u){return u})):s!=null&&(Jc(s)&&(s=nx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ld(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ra(i,a);o+=Zi(i,t,n,l,s)}else if(l=tx(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ra(i,a++),o+=Zi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ni(e,t,n){if(e==null)return e;var r=[],s=0;return Zi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function sx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Le={current:null},eo={transition:null},ix={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:eo,ReactCurrentOwner:Yc};H.Children={map:Ni,forEach:function(e,t,n){Ni(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ni(e,function(){t++}),t},toArray:function(e){return Ni(e,function(t){return t})||[]},only:function(e){if(!Jc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Wr;H.Fragment=Wv;H.Profiler=qv;H.PureComponent=Kc;H.StrictMode=Kv;H.Suspense=Xv;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=am({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Yc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)um.call(t,l)&&!dm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:hi,type:e.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(e){return e={$$typeof:Jv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yv,_context:e},e.Consumer=e};H.createElement=hm;H.createFactory=function(e){var t=hm.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Qv,render:e}};H.isValidElement=Jc;H.lazy=function(e){return{$$typeof:ex,_payload:{_status:-1,_result:e},_init:sx}};H.memo=function(e,t){return{$$typeof:Zv,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=eo.transition;eo.transition={};try{e()}finally{eo.transition=t}};H.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};H.useCallback=function(e,t){return Le.current.useCallback(e,t)};H.useContext=function(e){return Le.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Le.current.useDeferredValue(e)};H.useEffect=function(e,t){return Le.current.useEffect(e,t)};H.useId=function(){return Le.current.useId()};H.useImperativeHandle=function(e,t,n){return Le.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Le.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Le.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Le.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Le.current.useReducer(e,t,n)};H.useRef=function(e){return Le.current.useRef(e)};H.useState=function(e){return Le.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Le.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Le.current.useTransition()};H.version="18.2.0";im.exports=H;var _=im.exports;const Qc=rm(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=_,ax=Symbol.for("react.element"),lx=Symbol.for("react.fragment"),cx=Object.prototype.hasOwnProperty,ux=ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dx={key:!0,ref:!0,__self:!0,__source:!0};function fm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)cx.call(t,r)&&!dx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ax,type:e,key:i,ref:o,props:s,_owner:ux.current}}Xo.Fragment=lx;Xo.jsx=fm;Xo.jsxs=fm;sm.exports=Xo;var c=sm.exports,pm={exports:{}},Ze={},mm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,T){var M=j.length;j.push(T);e:for(;0<M;){var B=M-1>>>1,de=j[B];if(0<s(de,T))j[B]=T,j[M]=de,M=B;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var T=j[0],M=j.pop();if(M!==T){j[0]=M;e:for(var B=0,de=j.length,Ht=de>>>1;B<Ht;){var Nt=2*(B+1)-1,Aa=j[Nt],Cn=Nt+1,Ci=j[Cn];if(0>s(Aa,M))Cn<de&&0>s(Ci,Aa)?(j[B]=Ci,j[Cn]=M,B=Cn):(j[B]=Aa,j[Nt]=M,B=Nt);else if(Cn<de&&0>s(Ci,M))j[B]=Ci,j[Cn]=M,B=Cn;else break e}}return T}function s(j,T){var M=j.sortIndex-T.sortIndex;return M!==0?M:j.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=j)r(u),T.sortIndex=T.expirationTime,t(l,T);else break;T=n(u)}}function b(j){if(v=!1,y(j),!x)if(n(l)!==null)x=!0,Ee(k);else{var T=n(u);T!==null&&F(b,T.startTime-j)}}function k(j,T){x=!1,v&&(v=!1,m(S),S=-1),g=!0;var M=f;try{for(y(T),h=n(l);h!==null&&(!(h.expirationTime>T)||j&&!R());){var B=h.callback;if(typeof B=="function"){h.callback=null,f=h.priorityLevel;var de=B(h.expirationTime<=T);T=e.unstable_now(),typeof de=="function"?h.callback=de:h===n(l)&&r(l),y(T)}else r(l);h=n(l)}if(h!==null)var Ht=!0;else{var Nt=n(u);Nt!==null&&F(b,Nt.startTime-T),Ht=!1}return Ht}finally{h=null,f=M,g=!1}}var E=!1,C=null,S=-1,A=5,O=-1;function R(){return!(e.unstable_now()-O<A)}function P(){if(C!==null){var j=e.unstable_now();O=j;var T=!0;try{T=C(!0,j)}finally{T?q():(E=!1,C=null)}}else E=!1}var q;if(typeof p=="function")q=function(){p(P)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Fe=se.port2;se.port1.onmessage=P,q=function(){Fe.postMessage(null)}}else q=function(){w(P,0)};function Ee(j){C=j,E||(E=!0,q())}function F(j,T){S=w(function(){j(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,Ee(k))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var M=f;f=T;try{return j()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,T){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=f;f=j;try{return T()}finally{f=M}},e.unstable_scheduleCallback=function(j,T,M){var B=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?B+M:B):M=B,j){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=M+de,j={id:d++,callback:T,priorityLevel:j,startTime:M,expirationTime:de,sortIndex:-1},M>B?(j.sortIndex=M,t(u,j),n(l)===null&&j===n(u)&&(v?(m(S),S=-1):v=!0,F(b,M-B))):(j.sortIndex=de,t(l,j),x||g||(x=!0,Ee(k))),j},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(j){var T=f;return function(){var M=f;f=T;try{return j.apply(this,arguments)}finally{f=M}}}})(gm);mm.exports=gm;var hx=mm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=_,Qe=hx;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vm=new Set,Ds={};function Jn(e,t){Ir(e,t),Ir(e+"Capture",t)}function Ir(e,t){for(Ds[e]=t,e=0;e<t.length;e++)vm.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=Object.prototype.hasOwnProperty,fx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fd={},$d={};function px(e){return Cl.call($d,e)?!0:Cl.call(Fd,e)?!1:fx.test(e)?$d[e]=!0:(Fd[e]=!0,!1)}function mx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gx(e,t,n,r){if(t===null||typeof t>"u"||mx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xc=/[\-:]([a-z])/g;function Zc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xc,Zc);Se[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xc,Zc);Se[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xc,Zc);Se[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function eu(e,t,n,r){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gx(t,n,s,r)&&(n=null),r||s===null?px(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bt=ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ti=Symbol.for("react.element"),lr=Symbol.for("react.portal"),cr=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),xm=Symbol.for("react.provider"),wm=Symbol.for("react.context"),nu=Symbol.for("react.forward_ref"),Tl=Symbol.for("react.suspense"),Pl=Symbol.for("react.suspense_list"),ru=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),bm=Symbol.for("react.offscreen"),Vd=Symbol.iterator;function ts(e){return e===null||typeof e!="object"?null:(e=Vd&&e[Vd]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Ia;function fs(e){if(Ia===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ia=t&&t[1]||""}return`
`+Ia+e}var Oa=!1;function Ma(e,t){if(!e||Oa)return"";Oa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Oa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fs(e):""}function yx(e){switch(e.tag){case 5:return fs(e.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return e=Ma(e.type,!1),e;case 11:return e=Ma(e.type.render,!1),e;case 1:return e=Ma(e.type,!0),e;default:return""}}function Al(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cr:return"Fragment";case lr:return"Portal";case Nl:return"Profiler";case tu:return"StrictMode";case Tl:return"Suspense";case Pl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wm:return(e.displayName||"Context")+".Consumer";case xm:return(e._context.displayName||"Context")+".Provider";case nu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ru:return t=e.displayName||null,t!==null?t:Al(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Al(e(t))}catch{}}return null}function vx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Al(t);case 8:return t===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function km(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xx(e){var t=km(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pi(e){e._valueTracker||(e._valueTracker=xx(e))}function _m(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=km(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rl(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ud(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sm(e,t){t=t.checked,t!=null&&eu(e,"checked",t,!1)}function Il(e,t){Sm(e,t);var n=vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ol(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ol(e,t,n){(t!=="number"||go(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ps=Array.isArray;function jr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(ps(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vn(n)}}function jm(e,t){var n=vn(t.value),r=vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Em(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Em(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ai,Cm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ai=Ai||document.createElement("div"),Ai.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ai.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wx=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(e){wx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bs[t]=bs[e]})});function Nm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bs.hasOwnProperty(e)&&bs[e]?(""+t).trim():t+"px"}function Tm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var bx=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dl(e,t){if(t){if(bx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Fl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vl=null,Er=null,Cr=null;function Hd(e){if(e=mi(e)){if(typeof Vl!="function")throw Error(N(280));var t=e.stateNode;t&&(t=ra(t),Vl(e.stateNode,e.type,t))}}function Pm(e){Er?Cr?Cr.push(e):Cr=[e]:Er=e}function Am(){if(Er){var e=Er,t=Cr;if(Cr=Er=null,Hd(e),t)for(e=0;e<t.length;e++)Hd(t[e])}}function Rm(e,t){return e(t)}function Im(){}var La=!1;function Om(e,t,n){if(La)return e(t,n);La=!0;try{return Rm(e,t,n)}finally{La=!1,(Er!==null||Cr!==null)&&(Im(),Am())}}function $s(e,t){var n=e.stateNode;if(n===null)return null;var r=ra(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Ul=!1;if(Ft)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Ul=!1}function kx(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ks=!1,yo=null,vo=!1,zl=null,_x={onError:function(e){ks=!0,yo=e}};function Sx(e,t,n,r,s,i,o,a,l){ks=!1,yo=null,kx.apply(_x,arguments)}function jx(e,t,n,r,s,i,o,a,l){if(Sx.apply(this,arguments),ks){if(ks){var u=yo;ks=!1,yo=null}else throw Error(N(198));vo||(vo=!0,zl=u)}}function Qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wd(e){if(Qn(e)!==e)throw Error(N(188))}function Ex(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Wd(s),e;if(i===r)return Wd(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Lm(e){return e=Ex(e),e!==null?Dm(e):null}function Dm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dm(e);if(t!==null)return t;e=e.sibling}return null}var Fm=Qe.unstable_scheduleCallback,Kd=Qe.unstable_cancelCallback,Cx=Qe.unstable_shouldYield,Nx=Qe.unstable_requestPaint,fe=Qe.unstable_now,Tx=Qe.unstable_getCurrentPriorityLevel,iu=Qe.unstable_ImmediatePriority,$m=Qe.unstable_UserBlockingPriority,xo=Qe.unstable_NormalPriority,Px=Qe.unstable_LowPriority,Vm=Qe.unstable_IdlePriority,Zo=null,St=null;function Ax(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Zo,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Ox,Rx=Math.log,Ix=Math.LN2;function Ox(e){return e>>>=0,e===0?32:31-(Rx(e)/Ix|0)|0}var Ri=64,Ii=4194304;function ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ms(a):(i&=o,i!==0&&(r=ms(i)))}else o=n&~s,o!==0?r=ms(o):i!==0&&(r=ms(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),s=1<<n,r|=e[n],t&=~s;return r}function Mx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Mx(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Um(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function Da(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function Dx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ou(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function zm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bm,au,Gm,Hm,Wm,Gl=!1,Oi=[],cn=null,un=null,dn=null,Vs=new Map,Us=new Map,rn=[],Fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function rs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=mi(t),t!==null&&au(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function $x(e,t,n,r,s){switch(t){case"focusin":return cn=rs(cn,e,t,n,r,s),!0;case"dragenter":return un=rs(un,e,t,n,r,s),!0;case"mouseover":return dn=rs(dn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vs.set(i,rs(Vs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Us.set(i,rs(Us.get(i)||null,e,t,n,r,s)),!0}return!1}function Km(e){var t=Ln(e.target);if(t!==null){var n=Qn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mm(n),t!==null){e.blockedOn=t,Wm(e.priority,function(){Gm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$l=r,n.target.dispatchEvent(r),$l=null}else return t=mi(n),t!==null&&au(t),e.blockedOn=n,!1;t.shift()}return!0}function Yd(e,t,n){to(e)&&n.delete(t)}function Vx(){Gl=!1,cn!==null&&to(cn)&&(cn=null),un!==null&&to(un)&&(un=null),dn!==null&&to(dn)&&(dn=null),Vs.forEach(Yd),Us.forEach(Yd)}function ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Gl||(Gl=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,Vx)))}function zs(e){function t(s){return ss(s,e)}if(0<Oi.length){ss(Oi[0],e);for(var n=1;n<Oi.length;n++){var r=Oi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(cn!==null&&ss(cn,e),un!==null&&ss(un,e),dn!==null&&ss(dn,e),Vs.forEach(t),Us.forEach(t),n=0;n<rn.length;n++)r=rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Km(n),n.blockedOn===null&&rn.shift()}var Nr=Bt.ReactCurrentBatchConfig,bo=!0;function Ux(e,t,n,r){var s=J,i=Nr.transition;Nr.transition=null;try{J=1,lu(e,t,n,r)}finally{J=s,Nr.transition=i}}function zx(e,t,n,r){var s=J,i=Nr.transition;Nr.transition=null;try{J=4,lu(e,t,n,r)}finally{J=s,Nr.transition=i}}function lu(e,t,n,r){if(bo){var s=Hl(e,t,n,r);if(s===null)Ka(e,t,r,ko,n),qd(e,r);else if($x(s,e,t,n,r))r.stopPropagation();else if(qd(e,r),t&4&&-1<Fx.indexOf(e)){for(;s!==null;){var i=mi(s);if(i!==null&&Bm(i),i=Hl(e,t,n,r),i===null&&Ka(e,t,r,ko,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ka(e,t,r,null,n)}}var ko=null;function Hl(e,t,n,r){if(ko=null,e=su(r),e=Ln(e),e!==null)if(t=Qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ko=e,null}function qm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tx()){case iu:return 1;case $m:return 4;case xo:case Px:return 16;case Vm:return 536870912;default:return 16}default:return 16}}var an=null,cu=null,no=null;function Ym(){if(no)return no;var e,t=cu,n=t.length,r,s="value"in an?an.value:an.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return no=s.slice(e,1<r?1-r:void 0)}function ro(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Jd(){return!1}function et(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mi:Jd,this.isPropagationStopped=Jd,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=et(Kr),pi=le({},Kr,{view:0,detail:0}),Bx=et(pi),Fa,$a,is,ea=le({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(Fa=e.screenX-is.screenX,$a=e.screenY-is.screenY):$a=Fa=0,is=e),Fa)},movementY:function(e){return"movementY"in e?e.movementY:$a}}),Qd=et(ea),Gx=le({},ea,{dataTransfer:0}),Hx=et(Gx),Wx=le({},pi,{relatedTarget:0}),Va=et(Wx),Kx=le({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),qx=et(Kx),Yx=le({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jx=et(Yx),Qx=le({},Kr,{data:0}),Xd=et(Qx),Xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ew={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ew[e])?!!t[e]:!1}function du(){return tw}var nw=le({},pi,{key:function(e){if(e.key){var t=Xx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ro(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?ro(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ro(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rw=et(nw),sw=le({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=et(sw),iw=le({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),ow=et(iw),aw=le({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lw=et(aw),cw=le({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uw=et(cw),dw=[9,13,27,32],hu=Ft&&"CompositionEvent"in window,_s=null;Ft&&"documentMode"in document&&(_s=document.documentMode);var hw=Ft&&"TextEvent"in window&&!_s,Jm=Ft&&(!hu||_s&&8<_s&&11>=_s),eh=" ",th=!1;function Qm(e,t){switch(e){case"keyup":return dw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ur=!1;function fw(e,t){switch(e){case"compositionend":return Xm(t);case"keypress":return t.which!==32?null:(th=!0,eh);case"textInput":return e=t.data,e===eh&&th?null:e;default:return null}}function pw(e,t){if(ur)return e==="compositionend"||!hu&&Qm(e,t)?(e=Ym(),no=cu=an=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jm&&t.locale!=="ko"?null:t.data;default:return null}}var mw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mw[e.type]:t==="textarea"}function Zm(e,t,n,r){Pm(r),t=_o(t,"onChange"),0<t.length&&(n=new uu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ss=null,Bs=null;function gw(e){ug(e,0)}function ta(e){var t=fr(e);if(_m(t))return e}function yw(e,t){if(e==="change")return t}var eg=!1;if(Ft){var Ua;if(Ft){var za="oninput"in document;if(!za){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),za=typeof rh.oninput=="function"}Ua=za}else Ua=!1;eg=Ua&&(!document.documentMode||9<document.documentMode)}function sh(){Ss&&(Ss.detachEvent("onpropertychange",tg),Bs=Ss=null)}function tg(e){if(e.propertyName==="value"&&ta(Bs)){var t=[];Zm(t,Bs,e,su(e)),Om(gw,t)}}function vw(e,t,n){e==="focusin"?(sh(),Ss=t,Bs=n,Ss.attachEvent("onpropertychange",tg)):e==="focusout"&&sh()}function xw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ta(Bs)}function ww(e,t){if(e==="click")return ta(t)}function bw(e,t){if(e==="input"||e==="change")return ta(t)}function kw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:kw;function Gs(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Cl.call(t,s)||!xt(e[s],t[s]))return!1}return!0}function ih(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oh(e,t){var n=ih(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ih(n)}}function ng(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ng(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rg(){for(var e=window,t=go();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=go(e.document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _w(e){var t=rg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ng(n.ownerDocument.documentElement,n)){if(r!==null&&fu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=oh(n,i);var o=oh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sw=Ft&&"documentMode"in document&&11>=document.documentMode,dr=null,Wl=null,js=null,Kl=!1;function ah(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kl||dr==null||dr!==go(r)||(r=dr,"selectionStart"in r&&fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),js&&Gs(js,r)||(js=r,r=_o(Wl,"onSelect"),0<r.length&&(t=new uu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function Li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionend:Li("Transition","TransitionEnd")},Ba={},sg={};Ft&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function na(e){if(Ba[e])return Ba[e];if(!hr[e])return e;var t=hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sg)return Ba[e]=t[n];return e}var ig=na("animationend"),og=na("animationiteration"),ag=na("animationstart"),lg=na("transitionend"),cg=new Map,lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){cg.set(e,t),Jn(t,[e])}for(var Ga=0;Ga<lh.length;Ga++){var Ha=lh[Ga],jw=Ha.toLowerCase(),Ew=Ha[0].toUpperCase()+Ha.slice(1);kn(jw,"on"+Ew)}kn(ig,"onAnimationEnd");kn(og,"onAnimationIteration");kn(ag,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(lg,"onTransitionEnd");Ir("onMouseEnter",["mouseout","mouseover"]);Ir("onMouseLeave",["mouseout","mouseover"]);Ir("onPointerEnter",["pointerout","pointerover"]);Ir("onPointerLeave",["pointerout","pointerover"]);Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cw=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function ch(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jx(r,t,void 0,e),e.currentTarget=null}function ug(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ch(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ch(s,a,u),i=l}}}if(vo)throw e=zl,vo=!1,zl=null,e}function ee(e,t){var n=t[Xl];n===void 0&&(n=t[Xl]=new Set);var r=e+"__bubble";n.has(r)||(dg(t,e,2,!1),n.add(r))}function Wa(e,t,n){var r=0;t&&(r|=4),dg(n,e,r,t)}var Di="_reactListening"+Math.random().toString(36).slice(2);function Hs(e){if(!e[Di]){e[Di]=!0,vm.forEach(function(n){n!=="selectionchange"&&(Cw.has(n)||Wa(n,!1,e),Wa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Di]||(t[Di]=!0,Wa("selectionchange",!1,t))}}function dg(e,t,n,r){switch(qm(t)){case 1:var s=Ux;break;case 4:s=zx;break;default:s=lu}n=s.bind(null,t,n,e),s=void 0,!Ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ka(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ln(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Om(function(){var u=i,d=su(n),h=[];e:{var f=cg.get(e);if(f!==void 0){var g=uu,x=e;switch(e){case"keypress":if(ro(n)===0)break e;case"keydown":case"keyup":g=rw;break;case"focusin":x="focus",g=Va;break;case"focusout":x="blur",g=Va;break;case"beforeblur":case"afterblur":g=Va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ow;break;case ig:case og:case ag:g=qx;break;case lg:g=lw;break;case"scroll":g=Bx;break;case"wheel":g=uw;break;case"copy":case"cut":case"paste":g=Jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Zd}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=$s(p,m),b!=null&&v.push(Ws(p,b,y)))),w)break;p=p.return}0<v.length&&(f=new g(f,x,null,n,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==$l&&(x=n.relatedTarget||n.fromElement)&&(Ln(x)||x[$t]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?Ln(x):null,x!==null&&(w=Qn(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=Qd,b="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Zd,b="onPointerLeave",m="onPointerEnter",p="pointer"),w=g==null?f:fr(g),y=x==null?f:fr(x),f=new v(b,p+"leave",g,n,d),f.target=w,f.relatedTarget=y,b=null,Ln(d)===u&&(v=new v(m,p+"enter",x,n,d),v.target=y,v.relatedTarget=w,b=v),w=b,g&&x)t:{for(v=g,m=x,p=0,y=v;y;y=nr(y))p++;for(y=0,b=m;b;b=nr(b))y++;for(;0<p-y;)v=nr(v),p--;for(;0<y-p;)m=nr(m),y--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=nr(v),m=nr(m)}v=null}else v=null;g!==null&&uh(h,f,g,v,!1),x!==null&&w!==null&&uh(h,w,x,v,!0)}}e:{if(f=u?fr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=yw;else if(nh(f))if(eg)k=bw;else{k=xw;var E=vw}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=ww);if(k&&(k=k(e,u))){Zm(h,k,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Ol(f,"number",f.value)}switch(E=u?fr(u):window,e){case"focusin":(nh(E)||E.contentEditable==="true")&&(dr=E,Wl=u,js=null);break;case"focusout":js=Wl=dr=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,ah(h,n,d);break;case"selectionchange":if(Sw)break;case"keydown":case"keyup":ah(h,n,d)}var C;if(hu)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ur?Qm(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Jm&&n.locale!=="ko"&&(ur||S!=="onCompositionStart"?S==="onCompositionEnd"&&ur&&(C=Ym()):(an=d,cu="value"in an?an.value:an.textContent,ur=!0)),E=_o(u,S),0<E.length&&(S=new Xd(S,e,null,n,d),h.push({event:S,listeners:E}),C?S.data=C:(C=Xm(n),C!==null&&(S.data=C)))),(C=hw?fw(e,n):pw(e,n))&&(u=_o(u,"onBeforeInput"),0<u.length&&(d=new Xd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}ug(h,t)})}function Ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _o(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$s(e,n),i!=null&&r.unshift(Ws(e,i,s)),i=$s(e,t),i!=null&&r.push(Ws(e,i,s))),e=e.return}return r}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=$s(n,i),l!=null&&o.unshift(Ws(n,l,a))):s||(l=$s(n,i),l!=null&&o.push(Ws(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Nw=/\r\n?/g,Tw=/\u0000|\uFFFD/g;function dh(e){return(typeof e=="string"?e:""+e).replace(Nw,`
`).replace(Tw,"")}function Fi(e,t,n){if(t=dh(t),dh(e)!==t&&n)throw Error(N(425))}function So(){}var ql=null,Yl=null;function Jl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ql=typeof setTimeout=="function"?setTimeout:void 0,Pw=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(e){return hh.resolve(null).then(e).catch(Rw)}:Ql;function Rw(e){setTimeout(function(){throw e})}function qa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zs(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),_t="__reactFiber$"+qr,Ks="__reactProps$"+qr,$t="__reactContainer$"+qr,Xl="__reactEvents$"+qr,Iw="__reactListeners$"+qr,Ow="__reactHandles$"+qr;function Ln(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fh(e);e!==null;){if(n=e[_t])return n;e=fh(e)}return t}e=n,n=e.parentNode}return null}function mi(e){return e=e[_t]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function ra(e){return e[Ks]||null}var Zl=[],pr=-1;function _n(e){return{current:e}}function te(e){0>pr||(e.current=Zl[pr],Zl[pr]=null,pr--)}function X(e,t){pr++,Zl[pr]=e.current,e.current=t}var xn={},Ie=_n(xn),Be=_n(!1),Gn=xn;function Or(e,t){var n=e.type.contextTypes;if(!n)return xn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ge(e){return e=e.childContextTypes,e!=null}function jo(){te(Be),te(Ie)}function ph(e,t,n){if(Ie.current!==xn)throw Error(N(168));X(Ie,t),X(Be,n)}function hg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,vx(e)||"Unknown",s));return le({},n,r)}function Eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,Gn=Ie.current,X(Ie,e),X(Be,Be.current),!0}function mh(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=hg(e,t,Gn),r.__reactInternalMemoizedMergedChildContext=e,te(Be),te(Ie),X(Ie,e)):te(Be),X(Be,n)}var Rt=null,sa=!1,Ya=!1;function fg(e){Rt===null?Rt=[e]:Rt.push(e)}function Mw(e){sa=!0,fg(e)}function Sn(){if(!Ya&&Rt!==null){Ya=!0;var e=0,t=J;try{var n=Rt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,sa=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),Fm(iu,Sn),s}finally{J=t,Ya=!1}}return null}var mr=[],gr=0,Co=null,No=0,rt=[],st=0,Hn=null,It=1,Ot="";function Pn(e,t){mr[gr++]=No,mr[gr++]=Co,Co=e,No=t}function pg(e,t,n){rt[st++]=It,rt[st++]=Ot,rt[st++]=Hn,Hn=e;var r=It;e=Ot;var s=32-gt(r)-1;r&=~(1<<s),n+=1;var i=32-gt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,It=1<<32-gt(t)+s|n<<s|r,Ot=i+e}else It=1<<i|n<<s|r,Ot=e}function pu(e){e.return!==null&&(Pn(e,1),pg(e,1,0))}function mu(e){for(;e===Co;)Co=mr[--gr],mr[gr]=null,No=mr[--gr],mr[gr]=null;for(;e===Hn;)Hn=rt[--st],rt[st]=null,Ot=rt[--st],rt[st]=null,It=rt[--st],rt[st]=null}var Ye=null,qe=null,re=!1,mt=null;function mg(e,t){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,qe=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hn!==null?{id:It,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ye=e,qe=null,!0):!1;default:return!1}}function ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tc(e){if(re){var t=qe;if(t){var n=t;if(!gh(e,t)){if(ec(e))throw Error(N(418));t=hn(n.nextSibling);var r=Ye;t&&gh(e,t)?mg(r,n):(e.flags=e.flags&-4097|2,re=!1,Ye=e)}}else{if(ec(e))throw Error(N(418));e.flags=e.flags&-4097|2,re=!1,Ye=e}}}function yh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function $i(e){if(e!==Ye)return!1;if(!re)return yh(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jl(e.type,e.memoizedProps)),t&&(t=qe)){if(ec(e))throw gg(),Error(N(418));for(;t;)mg(e,t),t=hn(t.nextSibling)}if(yh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Ye?hn(e.stateNode.nextSibling):null;return!0}function gg(){for(var e=qe;e;)e=hn(e.nextSibling)}function Mr(){qe=Ye=null,re=!1}function gu(e){mt===null?mt=[e]:mt.push(e)}var Lw=Bt.ReactCurrentBatchConfig;function ht(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var To=_n(null),Po=null,yr=null,yu=null;function vu(){yu=yr=Po=null}function xu(e){var t=To.current;te(To),e._currentValue=t}function nc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){Po=e,yu=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(yu!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(Po===null)throw Error(N(308));yr=e,Po.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var Dn=null;function wu(e){Dn===null?Dn=[e]:Dn.push(e)}function yg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,wu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function bu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Vt(e,n)}return s=r.interleaved,s===null?(t.next=t,wu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Vt(e,n)}function so(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}function vh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ao(e,t,n,r){var s=e.updateQueue;en=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(f=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(g,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(g,h,f):x,f==null)break e;h=le({},h,f);break e;case 2:en=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Kn|=o,e.lanes=o,e.memoizedState=h}}function xh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var xg=new ym.Component().refs;function rc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Me(),s=mn(e),i=Mt(r,s);i.payload=t,n!=null&&(i.callback=n),t=fn(e,i,s),t!==null&&(yt(t,e,s,r),so(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Me(),s=mn(e),i=Mt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=fn(e,i,s),t!==null&&(yt(t,e,s,r),so(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Me(),r=mn(e),s=Mt(n,r);s.tag=2,t!=null&&(s.callback=t),t=fn(e,s,r),t!==null&&(yt(t,e,r,n),so(t,e,r))}};function wh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gs(n,r)||!Gs(s,i):!0}function wg(e,t,n){var r=!1,s=xn,i=t.contextType;return typeof i=="object"&&i!==null?i=lt(i):(s=Ge(t)?Gn:Ie.current,r=t.contextTypes,i=(r=r!=null)?Or(e,s):xn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function bh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function sc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=xg,bu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=lt(i):(i=Ge(t)?Gn:Ie.current,s.context=Or(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ia.enqueueReplaceState(s,s.state,null),Ao(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function os(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;a===xg&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Vi(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kh(e){var t=e._init;return t(e._payload)}function bg(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=gn(m,p),m.index=0,m.sibling=null,m}function i(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,b){return p===null||p.tag!==6?(p=nl(y,m.mode,b),p.return=m,p):(p=s(p,y),p.return=m,p)}function l(m,p,y,b){var k=y.type;return k===cr?d(m,p,y.props.children,b,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Zt&&kh(k)===p.type)?(b=s(p,y.props),b.ref=os(m,p,y),b.return=m,b):(b=uo(y.type,y.key,y.props,null,m.mode,b),b.ref=os(m,p,y),b.return=m,b)}function u(m,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=rl(y,m.mode,b),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function d(m,p,y,b,k){return p===null||p.tag!==7?(p=zn(y,m.mode,b,k),p.return=m,p):(p=s(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=nl(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ti:return y=uo(p.type,p.key,p.props,null,m.mode,y),y.ref=os(m,null,p),y.return=m,y;case lr:return p=rl(p,m.mode,y),p.return=m,p;case Zt:var b=p._init;return h(m,b(p._payload),y)}if(ps(p)||ts(p))return p=zn(p,m.mode,y,null),p.return=m,p;Vi(m,p)}return null}function f(m,p,y,b){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(m,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ti:return y.key===k?l(m,p,y,b):null;case lr:return y.key===k?u(m,p,y,b):null;case Zt:return k=y._init,f(m,p,k(y._payload),b)}if(ps(y)||ts(y))return k!==null?null:d(m,p,y,b,null);Vi(m,y)}return null}function g(m,p,y,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,a(p,m,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ti:return m=m.get(b.key===null?y:b.key)||null,l(p,m,b,k);case lr:return m=m.get(b.key===null?y:b.key)||null,u(p,m,b,k);case Zt:var E=b._init;return g(m,p,y,E(b._payload),k)}if(ps(b)||ts(b))return m=m.get(y)||null,d(p,m,b,k,null);Vi(p,b)}return null}function x(m,p,y,b){for(var k=null,E=null,C=p,S=p=0,A=null;C!==null&&S<y.length;S++){C.index>S?(A=C,C=null):A=C.sibling;var O=f(m,C,y[S],b);if(O===null){C===null&&(C=A);break}e&&C&&O.alternate===null&&t(m,C),p=i(O,p,S),E===null?k=O:E.sibling=O,E=O,C=A}if(S===y.length)return n(m,C),re&&Pn(m,S),k;if(C===null){for(;S<y.length;S++)C=h(m,y[S],b),C!==null&&(p=i(C,p,S),E===null?k=C:E.sibling=C,E=C);return re&&Pn(m,S),k}for(C=r(m,C);S<y.length;S++)A=g(C,m,S,y[S],b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?S:A.key),p=i(A,p,S),E===null?k=A:E.sibling=A,E=A);return e&&C.forEach(function(R){return t(m,R)}),re&&Pn(m,S),k}function v(m,p,y,b){var k=ts(y);if(typeof k!="function")throw Error(N(150));if(y=k.call(y),y==null)throw Error(N(151));for(var E=k=null,C=p,S=p=0,A=null,O=y.next();C!==null&&!O.done;S++,O=y.next()){C.index>S?(A=C,C=null):A=C.sibling;var R=f(m,C,O.value,b);if(R===null){C===null&&(C=A);break}e&&C&&R.alternate===null&&t(m,C),p=i(R,p,S),E===null?k=R:E.sibling=R,E=R,C=A}if(O.done)return n(m,C),re&&Pn(m,S),k;if(C===null){for(;!O.done;S++,O=y.next())O=h(m,O.value,b),O!==null&&(p=i(O,p,S),E===null?k=O:E.sibling=O,E=O);return re&&Pn(m,S),k}for(C=r(m,C);!O.done;S++,O=y.next())O=g(C,m,S,O.value,b),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?S:O.key),p=i(O,p,S),E===null?k=O:E.sibling=O,E=O);return e&&C.forEach(function(P){return t(m,P)}),re&&Pn(m,S),k}function w(m,p,y,b){if(typeof y=="object"&&y!==null&&y.type===cr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ti:e:{for(var k=y.key,E=p;E!==null;){if(E.key===k){if(k=y.type,k===cr){if(E.tag===7){n(m,E.sibling),p=s(E,y.props.children),p.return=m,m=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Zt&&kh(k)===E.type){n(m,E.sibling),p=s(E,y.props),p.ref=os(m,E,y),p.return=m,m=p;break e}n(m,E);break}else t(m,E);E=E.sibling}y.type===cr?(p=zn(y.props.children,m.mode,b,y.key),p.return=m,m=p):(b=uo(y.type,y.key,y.props,null,m.mode,b),b.ref=os(m,p,y),b.return=m,m=b)}return o(m);case lr:e:{for(E=y.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=rl(y,m.mode,b),p.return=m,m=p}return o(m);case Zt:return E=y._init,w(m,p,E(y._payload),b)}if(ps(y))return x(m,p,y,b);if(ts(y))return v(m,p,y,b);Vi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,y),p.return=m,m=p):(n(m,p),p=nl(y,m.mode,b),p.return=m,m=p),o(m)):n(m,p)}return w}var Lr=bg(!0),kg=bg(!1),gi={},jt=_n(gi),qs=_n(gi),Ys=_n(gi);function Fn(e){if(e===gi)throw Error(N(174));return e}function ku(e,t){switch(X(Ys,t),X(qs,e),X(jt,gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ll(t,e)}te(jt),X(jt,t)}function Dr(){te(jt),te(qs),te(Ys)}function _g(e){Fn(Ys.current);var t=Fn(jt.current),n=Ll(t,e.type);t!==n&&(X(qs,e),X(jt,n))}function _u(e){qs.current===e&&(te(jt),te(qs))}var ie=_n(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ja=[];function Su(){for(var e=0;e<Ja.length;e++)Ja[e]._workInProgressVersionPrimary=null;Ja.length=0}var io=Bt.ReactCurrentDispatcher,Qa=Bt.ReactCurrentBatchConfig,Wn=0,ae=null,me=null,ve=null,Io=!1,Es=!1,Js=0,Dw=0;function Ce(){throw Error(N(321))}function ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Eu(e,t,n,r,s,i){if(Wn=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=e===null||e.memoizedState===null?Uw:zw,e=n(r,s),Es){i=0;do{if(Es=!1,Js=0,25<=i)throw Error(N(301));i+=1,ve=me=null,t.updateQueue=null,io.current=Bw,e=n(r,s)}while(Es)}if(io.current=Oo,t=me!==null&&me.next!==null,Wn=0,ve=me=ae=null,Io=!1,t)throw Error(N(300));return e}function Cu(){var e=Js!==0;return Js=0,e}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ae.memoizedState=ve=e:ve=ve.next=e,ve}function ct(){if(me===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ve===null?ae.memoizedState:ve.next;if(t!==null)ve=t,me=e;else{if(e===null)throw Error(N(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ve===null?ae.memoizedState=ve=e:ve=ve.next=e}return ve}function Qs(e,t){return typeof t=="function"?t(e):t}function Xa(e){var t=ct(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Wn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ae.lanes|=d,Kn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,xt(r,t.memoizedState)||(ze=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,Kn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Za(e){var t=ct(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xt(i,t.memoizedState)||(ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Sg(){}function jg(e,t){var n=ae,r=ct(),s=t(),i=!xt(r.memoizedState,s);if(i&&(r.memoizedState=s,ze=!0),r=r.queue,Nu(Ng.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,Xs(9,Cg.bind(null,n,r,s,t),void 0,null),xe===null)throw Error(N(349));Wn&30||Eg(n,t,s)}return s}function Eg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cg(e,t,n,r){t.value=n,t.getSnapshot=r,Tg(t)&&Pg(e)}function Ng(e,t,n){return n(function(){Tg(t)&&Pg(e)})}function Tg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Pg(e){var t=Vt(e,1);t!==null&&yt(t,e,1,-1)}function _h(e){var t=kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},t.queue=e,e=e.dispatch=Vw.bind(null,ae,e),[t.memoizedState,e]}function Xs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ag(){return ct().memoizedState}function oo(e,t,n,r){var s=kt();ae.flags|=e,s.memoizedState=Xs(1|t,n,void 0,r===void 0?null:r)}function oa(e,t,n,r){var s=ct();r=r===void 0?null:r;var i=void 0;if(me!==null){var o=me.memoizedState;if(i=o.destroy,r!==null&&ju(r,o.deps)){s.memoizedState=Xs(t,n,i,r);return}}ae.flags|=e,s.memoizedState=Xs(1|t,n,i,r)}function Sh(e,t){return oo(8390656,8,e,t)}function Nu(e,t){return oa(2048,8,e,t)}function Rg(e,t){return oa(4,2,e,t)}function Ig(e,t){return oa(4,4,e,t)}function Og(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mg(e,t,n){return n=n!=null?n.concat([e]):null,oa(4,4,Og.bind(null,t,e),n)}function Tu(){}function Lg(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dg(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fg(e,t,n){return Wn&21?(xt(n,t)||(n=Um(),ae.lanes|=n,Kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=n)}function Fw(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Qa.transition;Qa.transition={};try{e(!1),t()}finally{J=n,Qa.transition=r}}function $g(){return ct().memoizedState}function $w(e,t,n){var r=mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vg(e))Ug(t,n);else if(n=yg(e,t,n,r),n!==null){var s=Me();yt(n,e,r,s),zg(n,t,r)}}function Vw(e,t,n){var r=mn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vg(e))Ug(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,xt(a,o)){var l=t.interleaved;l===null?(s.next=s,wu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=yg(e,t,s,r),n!==null&&(s=Me(),yt(n,e,r,s),zg(n,t,r))}}function Vg(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Ug(e,t){Es=Io=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}var Oo={readContext:lt,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},Uw={readContext:lt,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Sh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oo(4194308,4,Og.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$w.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:_h,useDebugValue:Tu,useDeferredValue:function(e){return kt().memoizedState=e},useTransition:function(){var e=_h(!1),t=e[0];return e=Fw.bind(null,e[1]),kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,s=kt();if(re){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),xe===null)throw Error(N(349));Wn&30||Eg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Sh(Ng.bind(null,r,i,e),[e]),r.flags|=2048,Xs(9,Cg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=kt(),t=xe.identifierPrefix;if(re){var n=Ot,r=It;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Js++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Dw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zw={readContext:lt,useCallback:Lg,useContext:lt,useEffect:Nu,useImperativeHandle:Mg,useInsertionEffect:Rg,useLayoutEffect:Ig,useMemo:Dg,useReducer:Xa,useRef:Ag,useState:function(){return Xa(Qs)},useDebugValue:Tu,useDeferredValue:function(e){var t=ct();return Fg(t,me.memoizedState,e)},useTransition:function(){var e=Xa(Qs)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Sg,useSyncExternalStore:jg,useId:$g,unstable_isNewReconciler:!1},Bw={readContext:lt,useCallback:Lg,useContext:lt,useEffect:Nu,useImperativeHandle:Mg,useInsertionEffect:Rg,useLayoutEffect:Ig,useMemo:Dg,useReducer:Za,useRef:Ag,useState:function(){return Za(Qs)},useDebugValue:Tu,useDeferredValue:function(e){var t=ct();return me===null?t.memoizedState=e:Fg(t,me.memoizedState,e)},useTransition:function(){var e=Za(Qs)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Sg,useSyncExternalStore:jg,useId:$g,unstable_isNewReconciler:!1};function Fr(e,t){try{var n="",r=t;do n+=yx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function el(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ic(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gw=typeof WeakMap=="function"?WeakMap:Map;function Bg(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lo||(Lo=!0,mc=r),ic(e,t)},n}function Gg(e,t,n){n=Mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ic(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ic(e,t),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=sb.bind(null,e,t,n),t.then(e,e))}function Eh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ch(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,fn(n,t,1))),n.lanes|=1),e)}var Hw=Bt.ReactCurrentOwner,ze=!1;function Oe(e,t,n,r){t.child=e===null?kg(t,null,n,r):Lr(t,e.child,n,r)}function Nh(e,t,n,r,s){n=n.render;var i=t.ref;return Tr(t,s),r=Eu(e,t,n,r,i,s),n=Cu(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(re&&n&&pu(t),t.flags|=1,Oe(e,t,r,s),t.child)}function Th(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Du(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Hg(e,t,i,r,s)):(e=uo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gs,n(o,r)&&e.ref===t.ref)return Ut(e,t,s)}return t.flags|=1,e=gn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Hg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Gs(i,r)&&e.ref===t.ref)if(ze=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,Ut(e,t,s)}return oc(e,t,n,r,s)}function Wg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(xr,Ke),Ke|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(xr,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,X(xr,Ke),Ke|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,X(xr,Ke),Ke|=r;return Oe(e,t,s,n),t.child}function Kg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oc(e,t,n,r,s){var i=Ge(n)?Gn:Ie.current;return i=Or(t,i),Tr(t,s),n=Eu(e,t,n,r,i,s),r=Cu(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(re&&r&&pu(t),t.flags|=1,Oe(e,t,n,s),t.child)}function Ph(e,t,n,r,s){if(Ge(n)){var i=!0;Eo(t)}else i=!1;if(Tr(t,s),t.stateNode===null)ao(e,t),wg(t,n,r),sc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=lt(u):(u=Ge(n)?Gn:Ie.current,u=Or(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&bh(t,o,r,u),en=!1;var f=t.memoizedState;o.state=f,Ao(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Be.current||en?(typeof d=="function"&&(rc(t,n,d,r),l=t.memoizedState),(a=en||wh(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ht(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lt(l):(l=Ge(n)?Gn:Ie.current,l=Or(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&bh(t,o,r,l),en=!1,f=t.memoizedState,o.state=f,Ao(t,r,o,s);var x=t.memoizedState;a!==h||f!==x||Be.current||en?(typeof g=="function"&&(rc(t,n,g,r),x=t.memoizedState),(u=en||wh(t,n,u,r,f,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ac(e,t,n,r,i,s)}function ac(e,t,n,r,s,i){Kg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&mh(t,n,!1),Ut(e,t,i);r=t.stateNode,Hw.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lr(t,e.child,null,i),t.child=Lr(t,null,a,i)):Oe(e,t,a,i),t.memoizedState=r.state,s&&mh(t,n,!0),t.child}function qg(e){var t=e.stateNode;t.pendingContext?ph(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ph(e,t.context,!1),ku(e,t.containerInfo)}function Ah(e,t,n,r,s){return Mr(),gu(s),t.flags|=256,Oe(e,t,n,r),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yg(e,t,n){var r=t.pendingProps,s=ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(ie,s&1),e===null)return tc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ca(o,r,0,null),e=zn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=cc(n),t.memoizedState=lc,e):Pu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ww(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=gn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=gn(a,i):(i=zn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?cc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=lc,r}return i=e.child,e=i.sibling,r=gn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pu(e,t){return t=ca({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ui(e,t,n,r){return r!==null&&gu(r),Lr(t,e.child,null,n),e=Pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ww(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=el(Error(N(422))),Ui(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ca({mode:"visible",children:r.children},s,0,null),i=zn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Lr(t,e.child,null,o),t.child.memoizedState=cc(o),t.memoizedState=lc,i);if(!(t.mode&1))return Ui(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=el(i,r,void 0),Ui(e,t,o,r)}if(a=(o&e.childLanes)!==0,ze||a){if(r=xe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vt(e,s),yt(r,e,s,-1))}return Lu(),r=el(Error(N(421))),Ui(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ib.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,qe=hn(s.nextSibling),Ye=t,re=!0,mt=null,e!==null&&(rt[st++]=It,rt[st++]=Ot,rt[st++]=Hn,It=e.id,Ot=e.overflow,Hn=t),t=Pu(t,r.children),t.flags|=4096,t)}function Rh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nc(e.return,t,n)}function tl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Jg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Oe(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rh(e,n,t);else if(e.tag===19)Rh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),tl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ro(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}tl(t,!0,n,null,i);break;case"together":tl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kw(e,t,n){switch(t.tag){case 3:qg(t),Mr();break;case 5:_g(t);break;case 1:Ge(t.type)&&Eo(t);break;case 4:ku(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;X(To,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Yg(e,t,n):(X(ie,ie.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);X(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Jg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Wg(e,t,n)}return Ut(e,t,n)}var Qg,uc,Xg,Zg;Qg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uc=function(){};Xg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Fn(jt.current);var i=null;switch(n){case"input":s=Rl(e,s),r=Rl(e,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=Ml(e,s),r=Ml(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=So)}Dl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ds.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ds.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ee("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Zg=function(e,t,n,r){n!==r&&(t.flags|=4)};function as(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qw(e,t,n){var r=t.pendingProps;switch(mu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ge(t.type)&&jo(),Ne(t),null;case 3:return r=t.stateNode,Dr(),te(Be),te(Ie),Su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($i(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(vc(mt),mt=null))),uc(e,t),Ne(t),null;case 5:_u(t);var s=Fn(Ys.current);if(n=t.type,e!==null&&t.stateNode!=null)Xg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return Ne(t),null}if(e=Fn(jt.current),$i(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[_t]=t,r[Ks]=i,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(s=0;s<gs.length;s++)ee(gs[s],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":Ud(r,i),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ee("invalid",r);break;case"textarea":Bd(r,i),ee("invalid",r)}Dl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fi(r.textContent,a,e),s=["children",""+a]):Ds.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ee("scroll",r)}switch(n){case"input":Pi(r),zd(r,i,!0);break;case"textarea":Pi(r),Gd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=So)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Em(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_t]=t,e[Ks]=r,Qg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fl(n,r),n){case"dialog":ee("cancel",e),ee("close",e),s=r;break;case"iframe":case"object":case"embed":ee("load",e),s=r;break;case"video":case"audio":for(s=0;s<gs.length;s++)ee(gs[s],e);s=r;break;case"source":ee("error",e),s=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),s=r;break;case"details":ee("toggle",e),s=r;break;case"input":Ud(e,r),s=Rl(e,r),ee("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),ee("invalid",e);break;case"textarea":Bd(e,r),s=Ml(e,r),ee("invalid",e);break;default:s=r}Dl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Tm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fs(e,l):typeof l=="number"&&Fs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ds.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ee("scroll",e):l!=null&&eu(e,i,l,o))}switch(n){case"input":Pi(e),zd(e,r,!1);break;case"textarea":Pi(e),Gd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?jr(e,!!r.multiple,i,!1):r.defaultValue!=null&&jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=So)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)Zg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Fn(Ys.current),Fn(jt.current),$i(t)){if(r=t.stateNode,n=t.memoizedProps,r[_t]=t,(i=r.nodeValue!==n)&&(e=Ye,e!==null))switch(e.tag){case 3:Fi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=t,t.stateNode=r}return Ne(t),null;case 13:if(te(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&qe!==null&&t.mode&1&&!(t.flags&128))gg(),Mr(),t.flags|=98560,i=!1;else if(i=$i(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[_t]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),i=!1}else mt!==null&&(vc(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ge===0&&(ge=3):Lu())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return Dr(),uc(e,t),e===null&&Hs(t.stateNode.containerInfo),Ne(t),null;case 10:return xu(t.type._context),Ne(t),null;case 17:return Ge(t.type)&&jo(),Ne(t),null;case 19:if(te(ie),i=t.memoizedState,i===null)return Ne(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)as(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ro(e),o!==null){for(t.flags|=128,as(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&fe()>$r&&(t.flags|=128,r=!0,as(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ro(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),as(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!re)return Ne(t),null}else 2*fe()-i.renderingStartTime>$r&&n!==1073741824&&(t.flags|=128,r=!0,as(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=fe(),t.sibling=null,n=ie.current,X(ie,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return Mu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function Yw(e,t){switch(mu(t),t.tag){case 1:return Ge(t.type)&&jo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),te(Be),te(Ie),Su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _u(t),null;case 13:if(te(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(ie),null;case 4:return Dr(),null;case 10:return xu(t.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var zi=!1,Pe=!1,Jw=typeof WeakSet=="function"?WeakSet:Set,I=null;function vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function dc(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Ih=!1;function Qw(e,t){if(ql=bo,e=rg(),fu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yl={focusedElem:e,selectionRange:n},bo=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ht(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(b){ue(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return x=Ih,Ih=!1,x}function Cs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&dc(t,n,i)}s=s.next}while(s!==r)}}function aa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function e0(e){var t=e.alternate;t!==null&&(e.alternate=null,e0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[Ks],delete t[Xl],delete t[Iw],delete t[Ow])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function t0(e){return e.tag===5||e.tag===3||e.tag===4}function Oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||t0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=So));else if(r!==4&&(e=e.child,e!==null))for(fc(e,t,n),e=e.sibling;e!==null;)fc(e,t,n),e=e.sibling}function pc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pc(e,t,n),e=e.sibling;e!==null;)pc(e,t,n),e=e.sibling}var we=null,ft=!1;function Wt(e,t,n){for(n=n.child;n!==null;)n0(e,t,n),n=n.sibling}function n0(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Zo,n)}catch{}switch(n.tag){case 5:Pe||vr(n,t);case 6:var r=we,s=ft;we=null,Wt(e,t,n),we=r,ft=s,we!==null&&(ft?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(ft?(e=we,n=n.stateNode,e.nodeType===8?qa(e.parentNode,n):e.nodeType===1&&qa(e,n),zs(e)):qa(we,n.stateNode));break;case 4:r=we,s=ft,we=n.stateNode.containerInfo,ft=!0,Wt(e,t,n),we=r,ft=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&dc(n,t,o),s=s.next}while(s!==r)}Wt(e,t,n);break;case 1:if(!Pe&&(vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}Wt(e,t,n);break;case 21:Wt(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,Wt(e,t,n),Pe=r):Wt(e,t,n);break;default:Wt(e,t,n)}}function Mh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jw),t.forEach(function(r){var s=ob.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,ft=!1;break e;case 3:we=a.stateNode.containerInfo,ft=!0;break e;case 4:we=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(we===null)throw Error(N(160));n0(i,o,s),we=null,ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)r0(t,e),t=t.sibling}function r0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),wt(e),r&4){try{Cs(3,e,e.return),aa(3,e)}catch(v){ue(e,e.return,v)}try{Cs(5,e,e.return)}catch(v){ue(e,e.return,v)}}break;case 1:ut(t,e),wt(e),r&512&&n!==null&&vr(n,n.return);break;case 5:if(ut(t,e),wt(e),r&512&&n!==null&&vr(n,n.return),e.flags&32){var s=e.stateNode;try{Fs(s,"")}catch(v){ue(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Sm(s,i),Fl(a,o);var u=Fl(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Tm(s,h):d==="dangerouslySetInnerHTML"?Cm(s,h):d==="children"?Fs(s,h):eu(s,d,h,u)}switch(a){case"input":Il(s,i);break;case"textarea":jm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?jr(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?jr(s,!!i.multiple,i.defaultValue,!0):jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ks]=i}catch(v){ue(e,e.return,v)}}break;case 6:if(ut(t,e),wt(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ue(e,e.return,v)}}break;case 3:if(ut(t,e),wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(v){ue(e,e.return,v)}break;case 4:ut(t,e),wt(e);break;case 13:ut(t,e),wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Iu=fe())),r&4&&Mh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(u=Pe)||d,ut(t,e),Pe=u):ut(t,e),wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(h=I=d;I!==null;){switch(f=I,g=f.child,f.tag){case 0:case 11:case 14:case 15:Cs(4,f,f.return);break;case 1:vr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ue(r,n,v)}}break;case 5:vr(f,f.return);break;case 22:if(f.memoizedState!==null){Dh(h);continue}}g!==null?(g.return=f,I=g):Dh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nm("display",o))}catch(v){ue(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ue(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ut(t,e),wt(e),r&4&&Mh(e);break;case 21:break;default:ut(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(t0(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fs(s,""),r.flags&=-33);var i=Oh(e);pc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Oh(e);fc(e,a,o);break;default:throw Error(N(161))}}catch(l){ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xw(e,t,n){I=e,s0(e)}function s0(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||zi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Pe;a=zi;var u=Pe;if(zi=o,(Pe=l)&&!u)for(I=s;I!==null;)o=I,l=o.child,o.tag===22&&o.memoizedState!==null?Fh(s):l!==null?(l.return=o,I=l):Fh(s);for(;i!==null;)I=i,s0(i),i=i.sibling;I=s,zi=a,Pe=u}Lh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Lh(e)}}function Lh(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||aa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Pe||t.flags&512&&hc(t)}catch(f){ue(t,t.return,f)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Dh(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Fh(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aa(4,t)}catch(l){ue(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ue(t,s,l)}}var i=t.return;try{hc(t)}catch(l){ue(t,i,l)}break;case 5:var o=t.return;try{hc(t)}catch(l){ue(t,o,l)}}}catch(l){ue(t,t.return,l)}if(t===e){I=null;break}var a=t.sibling;if(a!==null){a.return=t.return,I=a;break}I=t.return}}var Zw=Math.ceil,Mo=Bt.ReactCurrentDispatcher,Au=Bt.ReactCurrentOwner,ot=Bt.ReactCurrentBatchConfig,K=0,xe=null,pe=null,_e=0,Ke=0,xr=_n(0),ge=0,Zs=null,Kn=0,la=0,Ru=0,Ns=null,Ve=null,Iu=0,$r=1/0,Pt=null,Lo=!1,mc=null,pn=null,Bi=!1,ln=null,Do=0,Ts=0,gc=null,lo=-1,co=0;function Me(){return K&6?fe():lo!==-1?lo:lo=fe()}function mn(e){return e.mode&1?K&2&&_e!==0?_e&-_e:Lw.transition!==null?(co===0&&(co=Um()),co):(e=J,e!==0||(e=window.event,e=e===void 0?16:qm(e.type)),e):1}function yt(e,t,n,r){if(50<Ts)throw Ts=0,gc=null,Error(N(185));fi(e,n,r),(!(K&2)||e!==xe)&&(e===xe&&(!(K&2)&&(la|=n),ge===4&&sn(e,_e)),He(e,r),n===1&&K===0&&!(t.mode&1)&&($r=fe()+500,sa&&Sn()))}function He(e,t){var n=e.callbackNode;Lx(e,t);var r=wo(e,e===xe?_e:0);if(r===0)n!==null&&Kd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Kd(n),t===1)e.tag===0?Mw($h.bind(null,e)):fg($h.bind(null,e)),Aw(function(){!(K&6)&&Sn()}),n=null;else{switch(zm(r)){case 1:n=iu;break;case 4:n=$m;break;case 16:n=xo;break;case 536870912:n=Vm;break;default:n=xo}n=h0(n,i0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function i0(e,t){if(lo=-1,co=0,K&6)throw Error(N(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=wo(e,e===xe?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fo(e,r);else{t=r;var s=K;K|=2;var i=a0();(xe!==e||_e!==t)&&(Pt=null,$r=fe()+500,Un(e,t));do try{nb();break}catch(a){o0(e,a)}while(!0);vu(),Mo.current=i,K=s,pe!==null?t=0:(xe=null,_e=0,t=ge)}if(t!==0){if(t===2&&(s=Bl(e),s!==0&&(r=s,t=yc(e,s))),t===1)throw n=Zs,Un(e,0),sn(e,r),He(e,fe()),n;if(t===6)sn(e,r);else{if(s=e.current.alternate,!(r&30)&&!eb(s)&&(t=Fo(e,r),t===2&&(i=Bl(e),i!==0&&(r=i,t=yc(e,i))),t===1))throw n=Zs,Un(e,0),sn(e,r),He(e,fe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:An(e,Ve,Pt);break;case 3:if(sn(e,r),(r&130023424)===r&&(t=Iu+500-fe(),10<t)){if(wo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Me(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ql(An.bind(null,e,Ve,Pt),t);break}An(e,Ve,Pt);break;case 4:if(sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-gt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zw(r/1960))-r,10<r){e.timeoutHandle=Ql(An.bind(null,e,Ve,Pt),r);break}An(e,Ve,Pt);break;case 5:An(e,Ve,Pt);break;default:throw Error(N(329))}}}return He(e,fe()),e.callbackNode===n?i0.bind(null,e):null}function yc(e,t){var n=Ns;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=Fo(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&vc(t)),e}function vc(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function eb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~Ru,t&=~la,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function $h(e){if(K&6)throw Error(N(327));Pr();var t=wo(e,0);if(!(t&1))return He(e,fe()),null;var n=Fo(e,t);if(e.tag!==0&&n===2){var r=Bl(e);r!==0&&(t=r,n=yc(e,r))}if(n===1)throw n=Zs,Un(e,0),sn(e,t),He(e,fe()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,Ve,Pt),He(e,fe()),null}function Ou(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&($r=fe()+500,sa&&Sn())}}function qn(e){ln!==null&&ln.tag===0&&!(K&6)&&Pr();var t=K;K|=1;var n=ot.transition,r=J;try{if(ot.transition=null,J=1,e)return e()}finally{J=r,ot.transition=n,K=t,!(K&6)&&Sn()}}function Mu(){Ke=xr.current,te(xr)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Pw(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(mu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jo();break;case 3:Dr(),te(Be),te(Ie),Su();break;case 5:_u(r);break;case 4:Dr();break;case 13:te(ie);break;case 19:te(ie);break;case 10:xu(r.type._context);break;case 22:case 23:Mu()}n=n.return}if(xe=e,pe=e=gn(e.current,null),_e=Ke=t,ge=0,Zs=null,Ru=la=Kn=0,Ve=Ns=null,Dn!==null){for(t=0;t<Dn.length;t++)if(n=Dn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Dn=null}return e}function o0(e,t){do{var n=pe;try{if(vu(),io.current=Oo,Io){for(var r=ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Io=!1}if(Wn=0,ve=me=ae=null,Es=!1,Js=0,Au.current=null,n===null||n.return===null){ge=1,Zs=t,pe=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Eh(o);if(g!==null){g.flags&=-257,Ch(g,o,a,i,t),g.mode&1&&jh(i,u,t),t=g,l=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){jh(i,u,t),Lu();break e}l=Error(N(426))}}else if(re&&a.mode&1){var w=Eh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ch(w,o,a,i,t),gu(Fr(l,a));break e}}i=l=Fr(l,a),ge!==4&&(ge=2),Ns===null?Ns=[i]:Ns.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Bg(i,l,t);vh(i,m);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pn===null||!pn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Gg(i,a,t);vh(i,b);break e}}i=i.return}while(i!==null)}c0(n)}catch(k){t=k,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function a0(){var e=Mo.current;return Mo.current=Oo,e===null?Oo:e}function Lu(){(ge===0||ge===3||ge===2)&&(ge=4),xe===null||!(Kn&268435455)&&!(la&268435455)||sn(xe,_e)}function Fo(e,t){var n=K;K|=2;var r=a0();(xe!==e||_e!==t)&&(Pt=null,Un(e,t));do try{tb();break}catch(s){o0(e,s)}while(!0);if(vu(),K=n,Mo.current=r,pe!==null)throw Error(N(261));return xe=null,_e=0,ge}function tb(){for(;pe!==null;)l0(pe)}function nb(){for(;pe!==null&&!Cx();)l0(pe)}function l0(e){var t=d0(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?c0(e):pe=t,Au.current=null}function c0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yw(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,pe=null;return}}else if(n=qw(n,t,Ke),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ge===0&&(ge=5)}function An(e,t,n){var r=J,s=ot.transition;try{ot.transition=null,J=1,rb(e,t,n,r)}finally{ot.transition=s,J=r}return null}function rb(e,t,n,r){do Pr();while(ln!==null);if(K&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Dx(e,i),e===xe&&(pe=xe=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bi||(Bi=!0,h0(xo,function(){return Pr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var o=J;J=1;var a=K;K|=4,Au.current=null,Qw(e,n),r0(n,e),_w(Yl),bo=!!ql,Yl=ql=null,e.current=n,Xw(n),Nx(),K=a,J=o,ot.transition=i}else e.current=n;if(Bi&&(Bi=!1,ln=e,Do=s),i=e.pendingLanes,i===0&&(pn=null),Ax(n.stateNode),He(e,fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lo)throw Lo=!1,e=mc,mc=null,e;return Do&1&&e.tag!==0&&Pr(),i=e.pendingLanes,i&1?e===gc?Ts++:(Ts=0,gc=e):Ts=0,Sn(),null}function Pr(){if(ln!==null){var e=zm(Do),t=ot.transition,n=J;try{if(ot.transition=null,J=16>e?16:e,ln===null)var r=!1;else{if(e=ln,ln=null,Do=0,K&6)throw Error(N(331));var s=K;for(K|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Cs(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var f=d.sibling,g=d.return;if(e0(d),d===u){I=null;break}if(f!==null){f.return=g,I=f;break}I=g}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,I=m;break e}I=i.return}}var p=e.current;for(I=p;I!==null;){o=I;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,I=y;else e:for(o=p;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:aa(9,a)}}catch(k){ue(a,a.return,k)}if(a===o){I=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,I=b;break e}I=a.return}}if(K=s,Sn(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Zo,e)}catch{}r=!0}return r}finally{J=n,ot.transition=t}}return!1}function Vh(e,t,n){t=Fr(n,t),t=Bg(e,t,1),e=fn(e,t,1),t=Me(),e!==null&&(fi(e,1,t),He(e,t))}function ue(e,t,n){if(e.tag===3)Vh(e,e,n);else for(;t!==null;){if(t.tag===3){Vh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){e=Fr(n,e),e=Gg(t,e,1),t=fn(t,e,1),e=Me(),t!==null&&(fi(t,1,e),He(t,e));break}}t=t.return}}function sb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Me(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(_e&n)===n&&(ge===4||ge===3&&(_e&130023424)===_e&&500>fe()-Iu?Un(e,0):Ru|=n),He(e,t)}function u0(e,t){t===0&&(e.mode&1?(t=Ii,Ii<<=1,!(Ii&130023424)&&(Ii=4194304)):t=1);var n=Me();e=Vt(e,t),e!==null&&(fi(e,t,n),He(e,n))}function ib(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),u0(e,n)}function ob(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),u0(e,n)}var d0;d0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ze=!1,Kw(e,t,n);ze=!!(e.flags&131072)}else ze=!1,re&&t.flags&1048576&&pg(t,No,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ao(e,t),e=t.pendingProps;var s=Or(t,Ie.current);Tr(t,n),s=Eu(null,t,r,e,s,n);var i=Cu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(r)?(i=!0,Eo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bu(t),s.updater=ia,t.stateNode=s,s._reactInternals=t,sc(t,r,e,n),t=ac(null,t,r,!0,i,n)):(t.tag=0,re&&i&&pu(t),Oe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ao(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=lb(r),e=ht(r,e),s){case 0:t=oc(null,t,r,e,n);break e;case 1:t=Ph(null,t,r,e,n);break e;case 11:t=Nh(null,t,r,e,n);break e;case 14:t=Th(null,t,r,ht(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),oc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Ph(e,t,r,s,n);case 3:e:{if(qg(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,vg(e,t),Ao(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fr(Error(N(423)),t),t=Ah(e,t,r,n,s);break e}else if(r!==s){s=Fr(Error(N(424)),t),t=Ah(e,t,r,n,s);break e}else for(qe=hn(t.stateNode.containerInfo.firstChild),Ye=t,re=!0,mt=null,n=kg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),r===s){t=Ut(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return _g(t),e===null&&tc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Jl(r,s)?o=null:i!==null&&Jl(r,i)&&(t.flags|=32),Kg(e,t),Oe(e,t,o,n),t.child;case 6:return e===null&&tc(t),null;case 13:return Yg(e,t,n);case 4:return ku(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Nh(e,t,r,s,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,X(To,r._currentValue),r._currentValue=o,i!==null)if(xt(i.value,o)){if(i.children===s.children&&!Be.current){t=Ut(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Mt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),nc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Tr(t,n),s=lt(s),r=r(s),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,s=ht(r,t.pendingProps),s=ht(r.type,s),Th(e,t,r,s,n);case 15:return Hg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),ao(e,t),t.tag=1,Ge(r)?(e=!0,Eo(t)):e=!1,Tr(t,n),wg(t,r,s),sc(t,r,s,n),ac(null,t,r,!0,e,n);case 19:return Jg(e,t,n);case 22:return Wg(e,t,n)}throw Error(N(156,t.tag))};function h0(e,t){return Fm(e,t)}function ab(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,r){return new ab(e,t,n,r)}function Du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lb(e){if(typeof e=="function")return Du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nu)return 11;if(e===ru)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Du(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cr:return zn(n.children,s,i,t);case tu:o=8,s|=8;break;case Nl:return e=it(12,n,t,s|2),e.elementType=Nl,e.lanes=i,e;case Tl:return e=it(13,n,t,s),e.elementType=Tl,e.lanes=i,e;case Pl:return e=it(19,n,t,s),e.elementType=Pl,e.lanes=i,e;case bm:return ca(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xm:o=10;break e;case wm:o=9;break e;case nu:o=11;break e;case ru:o=14;break e;case Zt:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=it(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function zn(e,t,n,r){return e=it(7,e,r,t),e.lanes=n,e}function ca(e,t,n,r){return e=it(22,e,r,t),e.elementType=bm,e.lanes=n,e.stateNode={isHidden:!1},e}function nl(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function rl(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cb(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Da(0),this.expirationTimes=Da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,s,i,o,a,l){return e=new cb(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=it(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bu(i),e}function ub(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function f0(e){if(!e)return xn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Ge(n))return hg(e,n,t)}return t}function p0(e,t,n,r,s,i,o,a,l){return e=Fu(n,r,!0,e,s,i,o,a,l),e.context=f0(null),n=e.current,r=Me(),s=mn(n),i=Mt(r,s),i.callback=t??null,fn(n,i,s),e.current.lanes=s,fi(e,s,r),He(e,r),e}function ua(e,t,n,r){var s=t.current,i=Me(),o=mn(s);return n=f0(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fn(s,t,o),e!==null&&(yt(e,s,o,i),so(e,s,o)),o}function $o(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $u(e,t){Uh(e,t),(e=e.alternate)&&Uh(e,t)}function db(){return null}var m0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vu(e){this._internalRoot=e}da.prototype.render=Vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));ua(e,t,null,null)};da.prototype.unmount=Vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qn(function(){ua(null,e,null,null)}),t[$t]=null}};function da(e){this._internalRoot=e}da.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rn.length&&t!==0&&t<rn[n].priority;n++);rn.splice(n,0,e),n===0&&Km(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zh(){}function hb(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=$o(o);i.call(u)}}var o=p0(t,r,e,0,null,!1,!1,"",zh);return e._reactRootContainer=o,e[$t]=o.current,Hs(e.nodeType===8?e.parentNode:e),qn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=$o(l);a.call(u)}}var l=Fu(e,0,!1,null,null,!1,!1,"",zh);return e._reactRootContainer=l,e[$t]=l.current,Hs(e.nodeType===8?e.parentNode:e),qn(function(){ua(t,l,n,r)}),l}function fa(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=$o(o);a.call(l)}}ua(t,o,e,s)}else o=hb(n,t,e,s,r);return $o(o)}Bm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ms(t.pendingLanes);n!==0&&(ou(t,n|1),He(t,fe()),!(K&6)&&($r=fe()+500,Sn()))}break;case 13:qn(function(){var r=Vt(e,1);if(r!==null){var s=Me();yt(r,e,1,s)}}),$u(e,1)}};au=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=Me();yt(t,e,134217728,n)}$u(e,134217728)}};Gm=function(e){if(e.tag===13){var t=mn(e),n=Vt(e,t);if(n!==null){var r=Me();yt(n,e,t,r)}$u(e,t)}};Hm=function(){return J};Wm=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Vl=function(e,t,n){switch(t){case"input":if(Il(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ra(r);if(!s)throw Error(N(90));_m(r),Il(r,s)}}}break;case"textarea":jm(e,n);break;case"select":t=n.value,t!=null&&jr(e,!!n.multiple,t,!1)}};Rm=Ou;Im=qn;var fb={usingClientEntryPoint:!1,Events:[mi,fr,ra,Pm,Am,Ou]},ls={findFiberByHostInstance:Ln,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pb={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lm(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{Zo=Gi.inject(pb),St=Gi}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fb;Ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(t))throw Error(N(200));return ub(e,t,null,n)};Ze.createRoot=function(e,t){if(!Uu(e))throw Error(N(299));var n=!1,r="",s=m0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fu(e,1,!1,null,null,n,!1,r,s),e[$t]=t.current,Hs(e.nodeType===8?e.parentNode:e),new Vu(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Lm(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return qn(e)};Ze.hydrate=function(e,t,n){if(!ha(t))throw Error(N(200));return fa(null,e,t,!0,n)};Ze.hydrateRoot=function(e,t,n){if(!Uu(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=m0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=p0(t,null,e,1,n??null,s,!1,i,o),e[$t]=t.current,Hs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new da(t)};Ze.render=function(e,t,n){if(!ha(t))throw Error(N(200));return fa(null,e,t,!1,n)};Ze.unmountComponentAtNode=function(e){if(!ha(e))throw Error(N(40));return e._reactRootContainer?(qn(function(){fa(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};Ze.unstable_batchedUpdates=Ou;Ze.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ha(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return fa(e,t,n,!1,r)};Ze.version="18.2.0-next-9e3b772b8-20220608";function g0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g0)}catch(e){console.error(e)}}g0(),pm.exports=Ze;var mb=pm.exports,y0,Bh=mb;y0=Bh.createRoot,Bh.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$=(e,t)=>{const n=_.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>_.createElement("svg",{ref:d,...gb,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${yb(e)}`,a].join(" "),...u},[...t.map(([h,f])=>_.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=$("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=$("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=$("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=$("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=$("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=$("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=$("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=$("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=$("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=$("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=$("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=$("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=$("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=$("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=$("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=$("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=$("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=$("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=$("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=$("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=$("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=$("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=$("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=$("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=$("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=$("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=$("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=$("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=$("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=$("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=$("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=$("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=$("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function b0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=b0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Vb(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=b0(e))&&(r&&(r+=" "),r+=t);return r}const Hu="-",Ub=e=>{const t=Bb(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Hu);return a[0]===""&&a.length!==1&&a.shift(),k0(a,t)||zb(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},k0=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?k0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Hu);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Yh=/^\[(.+)\]$/,zb=e=>{if(Yh.test(e)){const t=Yh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Bb=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Hb(Object.entries(e.classGroups),n).forEach(([i,o])=>{xc(o,r,i,t)}),r},xc=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Jh(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(Gb(s)){xc(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{xc(o,Jh(t,i),n,r)})})},Jh=(e,t)=>{let n=e;return t.split(Hu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Gb=e=>e.isThemeGetter,Hb=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,Wb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},_0="!",Kb=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,d=0,h;for(let w=0;w<a.length;w++){let m=a[w];if(u===0){if(m===s&&(r||a.slice(w,w+i)===t)){l.push(a.slice(d,w)),d=w+i;continue}if(m==="/"){h=w;continue}}m==="["?u++:m==="]"&&u--}const f=l.length===0?a:a.substring(d),g=f.startsWith(_0),x=g?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},qb=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Yb=e=>({cache:Wb(e.cacheSize),parseClassName:Kb(e),...Ub(e)}),Jb=/\s+/,Qb=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(Jb);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=r(x?f.substring(0,g):f);if(!v){if(!x){a=u+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=u+(a.length>0?" "+a:a);continue}x=!1}const w=qb(d).join(":"),m=h?w+_0:w,p=m+v;if(i.includes(p))continue;i.push(p);const y=s(v,x);for(let b=0;b<y.length;++b){const k=y[b];i.push(m+k)}a=u+(a.length>0?" "+a:a)}return a};function Xb(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=S0(t))&&(r&&(r+=" "),r+=n);return r}const S0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=S0(e[r]))&&(n&&(n+=" "),n+=t);return n};function Zb(e,...t){let n,r,s,i=o;function o(l){const u=t.reduce((d,h)=>h(d),e());return n=Yb(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Qb(l,n);return s(l,d),d}return function(){return i(Xb.apply(null,arguments))}}const Z=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},j0=/^\[(?:([a-z-]+):)?(.+)\]$/i,e1=/^\d+\/\d+$/,t1=new Set(["px","full","screen"]),n1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,r1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,i1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tt=e=>Ar(e)||t1.has(e)||e1.test(e),qt=e=>Yr(e,"length",p1),Ar=e=>!!e&&!Number.isNaN(Number(e)),il=e=>Yr(e,"number",Ar),cs=e=>!!e&&Number.isInteger(Number(e)),a1=e=>e.endsWith("%")&&Ar(e.slice(0,-1)),U=e=>j0.test(e),Yt=e=>n1.test(e),l1=new Set(["length","size","percentage"]),c1=e=>Yr(e,l1,E0),u1=e=>Yr(e,"position",E0),d1=new Set(["image","url"]),h1=e=>Yr(e,d1,g1),f1=e=>Yr(e,"",m1),us=()=>!0,Yr=(e,t,n)=>{const r=j0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},p1=e=>r1.test(e)&&!s1.test(e),E0=()=>!1,m1=e=>i1.test(e),g1=e=>o1.test(e),y1=()=>{const e=Z("colors"),t=Z("spacing"),n=Z("blur"),r=Z("brightness"),s=Z("borderColor"),i=Z("borderRadius"),o=Z("borderSpacing"),a=Z("borderWidth"),l=Z("contrast"),u=Z("grayscale"),d=Z("hueRotate"),h=Z("invert"),f=Z("gap"),g=Z("gradientColorStops"),x=Z("gradientColorStopPositions"),v=Z("inset"),w=Z("margin"),m=Z("opacity"),p=Z("padding"),y=Z("saturate"),b=Z("scale"),k=Z("sepia"),E=Z("skew"),C=Z("space"),S=Z("translate"),A=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",U,t],P=()=>[U,t],q=()=>["",Tt,qt],se=()=>["auto",Ar,U],Fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ee=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",U],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Ar,U];return{cacheSize:500,separator:":",theme:{colors:[us],spacing:[Tt,qt],blur:["none","",Yt,U],brightness:B(),borderColor:[e],borderRadius:["none","","full",Yt,U],borderSpacing:P(),borderWidth:q(),contrast:B(),grayscale:T(),hueRotate:B(),invert:T(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[a1,qt],inset:R(),margin:R(),opacity:B(),padding:P(),saturate:B(),scale:B(),sepia:T(),skew:B(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[Yt]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Fe(),U]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cs,U]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",cs,U]}],"grid-cols":[{"grid-cols":[us]}],"col-start-end":[{col:["auto",{span:["full",cs,U]},U]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[us]}],"row-start-end":[{row:["auto",{span:[cs,U]},U]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",U,t]}],"min-w":[{"min-w":[U,t,"min","max","fit"]}],"max-w":[{"max-w":[U,t,"none","full","min","max","fit","prose",{screen:[Yt]},Yt]}],h:[{h:[U,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[U,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yt,qt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",il]}],"font-family":[{font:[us]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",U]}],"line-clamp":[{"line-clamp":["none",Ar,il]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tt,U]}],"list-image":[{"list-image":["none",U]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tt,qt]}],"underline-offset":[{"underline-offset":["auto",Tt,U]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Fe(),u1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",c1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},h1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...Ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:Ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ee()]}],"outline-offset":[{"outline-offset":[Tt,U]}],"outline-w":[{outline:[Tt,qt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Tt,qt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yt,f1]}],"shadow-color":[{shadow:[us]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Yt,U]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[cs,U]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Tt,qt,il]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},v1=Zb(y1);function Y(...e){return v1(Vb(e))}const x1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},Qh=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const g=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(x=>x(t,g))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(x1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},w1=e=>e?Qh(e):Qh;var C0={exports:{}},N0={},T0={exports:{}},P0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=_;function b1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k1=typeof Object.is=="function"?Object.is:b1,_1=Vr.useState,S1=Vr.useEffect,j1=Vr.useLayoutEffect,E1=Vr.useDebugValue;function C1(e,t){var n=t(),r=_1({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return j1(function(){s.value=n,s.getSnapshot=t,ol(s)&&i({inst:s})},[e,n,t]),S1(function(){return ol(s)&&i({inst:s}),e(function(){ol(s)&&i({inst:s})})},[e]),E1(n),n}function ol(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k1(e,n)}catch{return!0}}function N1(e,t){return t()}var T1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?N1:C1;P0.useSyncExternalStore=Vr.useSyncExternalStore!==void 0?Vr.useSyncExternalStore:T1;T0.exports=P0;var P1=T0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=_,A1=P1;function R1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I1=typeof Object.is=="function"?Object.is:R1,O1=A1.useSyncExternalStore,M1=ma.useRef,L1=ma.useEffect,D1=ma.useMemo,F1=ma.useDebugValue;N0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=M1(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=D1(function(){function l(g){if(!u){if(u=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var x=o.value;if(s(x,g))return h=x}return h=g}if(x=h,I1(d,g))return x;var v=r(g);return s!==void 0&&s(x,v)?x:(d=g,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var a=O1(e,i[0],i[1]);return L1(function(){o.hasValue=!0,o.value=a},[a]),F1(a),a};C0.exports=N0;var $1=C0.exports;const V1=rm($1),A0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},{useDebugValue:U1}=Qc,{useSyncExternalStoreWithSelector:z1}=V1;let Xh=!1;const B1=e=>e;function G1(e,t=B1,n){(A0?"production":void 0)!=="production"&&n&&!Xh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xh=!0);const r=z1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return U1(r),r}const Zh=e=>{(A0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?w1(e):e,n=(r,s)=>G1(t,r,s);return Object.assign(n,t),n},jn=e=>e?Zh(e):Zh,H1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"};function W1(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const ri=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ri(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ri(r)(n)}}}},K1=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,m)=>({...m,...w}),...t},o=!1;const a=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...w)},r,s);const d=ri(i.serialize),h=()=>{const w=i.partialize({...r()});let m;const p=d({state:w,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{m=y});if(m)throw m;return p},f=s.setState;s.setState=(w,m)=>{f(w,m),h()};const g=e((...w)=>{n(...w),h()},r,s);let x;const v=()=>{var w;if(!u)return;o=!1,a.forEach(p=>p(r()));const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,r()))||void 0;return ri(u.getItem.bind(u))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var y;return x=i.merge(p,(y=r())!=null?y:g),n(x,!0),h()}).then(()=>{m==null||m(x,void 0),o=!0,l.forEach(p=>p(x))}).catch(p=>{m==null||m(void 0,p)})};return s.persist={setOptions:w=>{i={...i,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},v(),x||g},q1=(e,t)=>(n,r,s)=>{let i={storage:W1(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...t},o=!1;const a=new Set,l=new Set;let u=i.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const d=()=>{const v=i.partialize({...r()});return u.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,w)=>{h(v,w),d()};const f=e((...v)=>{n(...v),d()},r,s);s.getInitialState=()=>f;let g;const x=()=>{var v,w;if(!u)return;o=!1,a.forEach(p=>{var y;return p((y=r())!=null?y:f)});const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(v=r())!=null?v:f))||void 0;return ri(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var y;const[b,k]=p;if(g=i.merge(k,(y=r())!=null?y:f),n(g,!0),b)return d()}).then(()=>{m==null||m(g,void 0),g=r(),o=!0,l.forEach(p=>p(g))}).catch(p=>{m==null||m(void 0,p)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||x(),g||f},Y1=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((H1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),K1(e,t)):q1(e,t),ga=Y1,J1="modulepreload",Q1=function(e){return"/"+e},ef={},Ur=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Q1(l),l in ef)return;ef[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":J1,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},X1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ur(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Wu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Z1 extends Wu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ek extends Wu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tk extends Wu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wc||(wc={}));var nk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class rk{constructor(t,{headers:n={},customFetch:r,region:s=wc.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=X1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return nk(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new Z1(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new ek(d);if(!d.ok)throw new tk(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ue={},Ku={},ya={},xi={},va={},xa={},sk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zr=sk();const ik=zr.fetch,R0=zr.fetch.bind(zr),I0=zr.Headers,ok=zr.Request,ak=zr.Response,Jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:I0,Request:ok,Response:ak,default:R0,fetch:ik},Symbol.toStringTag,{value:"Module"})),lk=Gv(Jr);var wa={};Object.defineProperty(wa,"__esModule",{value:!0});let ck=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};wa.default=ck;var O0=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xa,"__esModule",{value:!0});const uk=O0(lk),dk=O0(wa);let hk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=uk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&v===""?(f=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new dk.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};xa.default=hk;var fk=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});const pk=fk(xa);let mk=class extends pk.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};va.default=mk;var gk=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});const yk=gk(va);let vk=class extends yk.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};xi.default=vk;var xk=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const ds=xk(xi);let wk=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ds.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ds.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ds.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ds.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ds.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ya.default=wk;var ba={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.version=void 0;ka.version="0.0.0-automated";Object.defineProperty(ba,"__esModule",{value:!0});ba.DEFAULT_HEADERS=void 0;const bk=ka;ba.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bk.version}`};var M0=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ku,"__esModule",{value:!0});const kk=M0(ya),_k=M0(xi),Sk=ba;let jk=class L0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Sk.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new kk.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new L0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new _k.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ku.default=jk;var Qr=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.PostgrestError=Ue.PostgrestBuilder=Ue.PostgrestTransformBuilder=Ue.PostgrestFilterBuilder=Ue.PostgrestQueryBuilder=Ue.PostgrestClient=void 0;const D0=Qr(Ku);Ue.PostgrestClient=D0.default;const F0=Qr(ya);Ue.PostgrestQueryBuilder=F0.default;const $0=Qr(xi);Ue.PostgrestFilterBuilder=$0.default;const V0=Qr(va);Ue.PostgrestTransformBuilder=V0.default;const U0=Qr(xa);Ue.PostgrestBuilder=U0.default;const z0=Qr(wa);Ue.PostgrestError=z0.default;var Ek=Ue.default={PostgrestClient:D0.default,PostgrestQueryBuilder:F0.default,PostgrestFilterBuilder:$0.default,PostgrestTransformBuilder:V0.default,PostgrestBuilder:U0.default,PostgrestError:z0.default};const{PostgrestClient:Ck,PostgrestQueryBuilder:V2,PostgrestFilterBuilder:U2,PostgrestTransformBuilder:z2,PostgrestBuilder:B2,PostgrestError:G2}=Ek,Nk="2.11.2",Tk={"X-Client-Info":`realtime-js/${Nk}`},Pk="1.0.0",B0=1e4,Ak=1e3;var Rr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rr||(Rr={}));var We;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(We||(We={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var bc;(function(e){e.websocket="websocket"})(bc||(bc={}));var Mn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mn||(Mn={}));class Rk{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class G0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Q||(Q={}));const tf=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Ik(o,e,t,s),i),{})},Ik=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?H0(i,o):kc(o)},H0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Dk(t,n)}switch(e){case Q.bool:return Ok(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return Mk(t);case Q.json:case Q.jsonb:return Lk(t);case Q.timestamp:return Fk(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return kc(t);default:return kc(t)}},kc=e=>e,Ok=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Mk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Lk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Dk=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>H0(t,a))}return e},Fk=e=>typeof e=="string"?e.replace(" ","T"):e,W0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class al{constructor(t,n,r={},s=B0){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nf||(nf={}));class Ps{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ps.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ps.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ps.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),g=h.map(w=>w.presence_ref),x=d.filter(w=>g.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);x.length>0&&(a[u]=x),v.length>0&&(l[u]=v)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rf||(rf={}));var sf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sf||(sf={}));var At;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(At||(At={}));class qu{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new al(this,pt.join,this.params,this.timeout),this.rejoinTimer=new G0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ps(this),this.broadcastEndpointURL=W0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(At.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(At.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(At.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let v=0;v<g;v++){const w=f[v],{filter:{event:m,schema:p,table:y,filter:b}}=w,k=d&&d[v];if(k&&k.event===m&&k.schema===p&&k.table===y&&k.filter===b)x.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),t==null||t(At.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(At.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(At.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(At.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=We.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new al(this,pt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new al(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=pt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,v,w;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,v,w,m,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,k=(x=g.filter)===null||x===void 0?void 0:x.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:v,table:w,commit_timestamp:m,type:p,errors:y}=x;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:m,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(x))}g.callback(f,r)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&qu.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=tf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=tf(t.columns,t.old_record)),n}}const $k=()=>{},Vk=typeof WebSocket<"u",Uk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zk{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Tk,this.params={},this.timeout=B0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$k,this.conn=null,this.sendBuffer=[],this.serializer=new Rk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ur(async()=>{const{default:l}=await Promise.resolve().then(()=>Jr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${bc.websocket}`,this.httpEndpoint=W0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new G0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Vk){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Bk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ur(async()=>{const{default:t}=await import("./browser-DYu7L01F.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pk}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rr.connecting:return Mn.Connecting;case Rr.open:return Mn.Open;case Rr.closing:return Mn.Closing;default:return Mn.Closed}}isConnected(){return this.connectionState()===Mn.Open}channel(t,n={config:{}}){const r=new qu(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(pt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ak,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Uk],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Bk{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Rr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Yu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Gk extends Yu{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _c extends Yu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Hk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const K0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ur(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Wk=()=>Hk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ur(()=>Promise.resolve().then(()=>Jr),void 0)).Response:Response}),Sc=e=>{if(Array.isArray(e))return e.map(n=>Sc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Sc(r)}),t};var Zn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const ll=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kk=(e,t,n)=>Zn(void 0,void 0,void 0,function*(){const r=yield Wk();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Gk(ll(s),e.status||500))}).catch(s=>{t(new _c(ll(s),s))}):t(new _c(ll(e),e))}),qk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function wi(e,t,n,r,s,i){return Zn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,qk(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Kk(l,a,r))})})}function Uo(e,t,n,r){return Zn(this,void 0,void 0,function*(){return wi(e,"GET",t,n,r)})}function tn(e,t,n,r,s){return Zn(this,void 0,void 0,function*(){return wi(e,"POST",t,r,s,n)})}function Yk(e,t,n,r,s){return Zn(this,void 0,void 0,function*(){return wi(e,"PUT",t,r,s,n)})}function Jk(e,t,n,r){return Zn(this,void 0,void 0,function*(){return wi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function q0(e,t,n,r,s){return Zn(this,void 0,void 0,function*(){return wi(e,"DELETE",t,r,s,n)})}var $e=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Qk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},of={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xk{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=K0(s)}uploadOrUpdate(t,n,r,s){return $e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},of),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}upload(t,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return $e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:of.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return $e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield tn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Yu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}update(t,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return $e(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}copy(t,n,r){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return $e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield tn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return $e(this,void 0,void 0,function*(){try{const s=yield tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}download(t,n){return $e(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Uo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}})}info(t){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Uo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Sc(r),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}exists(t){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Jk(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ye(r)&&r instanceof _c){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return $e(this,void 0,void 0,function*(){try{return{data:yield q0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}list(t,n,r){return $e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Qk),n),{prefix:t||""});return{data:yield tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Zk="2.7.1",e_={"X-Client-Info":`storage-js/${Zk}`};var rr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class t_{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},e_),n),this.fetch=K0(r)}listBuckets(){return rr(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}})}getBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return rr(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return rr(this,void 0,void 0,function*(){try{return{data:yield Yk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}emptyBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}deleteBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield q0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}}class n_ extends t_{constructor(t,n={},r){super(t,n,r)}from(t){return new Xk(this.url,this.headers,t,this.fetch)}}const r_="2.49.1";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const s_={"X-Client-Info":`supabase-js-${ys}/${r_}`},i_={headers:s_},o_={schema:"public"},a_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l_={};var c_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const u_=e=>{let t;return e?t=e:typeof fetch>"u"?t=R0:t=fetch,(...n)=>t(...n)},d_=()=>typeof Headers>"u"?I0:Headers,h_=(e,t,n)=>{const r=u_(n),s=d_();return(i,o)=>c_(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var f_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function p_(e){return e.replace(/\/$/,"")}function m_(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>f_(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Y0="2.68.0",ar=30*1e3,jc=3,cl=jc*ar,g_="http://localhost:9999",y_="supabase.auth.token",v_={"X-Client-Info":`gotrue-js/${Y0}`},Ec="X-Supabase-Api-Version",J0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function x_(e){return Math.round(Date.now()/1e3)+e}function w_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const bt=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},As=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function b_(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Q0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ur(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},k_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",X0=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Hi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wi=async(e,t)=>{await e.removeItem(t)};function __(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class _a{constructor(){this.promise=new _a.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}_a.promiseConstructor=Promise;function af(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(__(r))}async function S_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function j_(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function E_(e){return("0"+e.toString(16)).substr(-2)}function C_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,E_).join("")}async function N_(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function T_(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function P_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await N_(e);return T_(n)}async function sr(e,t,n=!1){const r=C_();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await X0(e,`${t}-code-verifier`,s);const i=await P_(r);return[i,r===i?"plain":"s256"]}const A_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R_(e){const t=e.headers.get(Ec);if(!t||!t.match(A_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Ju extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class I_ extends Ju{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function O_(e){return z(e)&&e.name==="AuthApiError"}class Z0 extends Ju{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class er extends Ju{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Jt extends er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M_(e){return z(e)&&e.name==="AuthSessionMissingError"}class ul extends er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ki extends er{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qi extends er{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L_(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class lf extends er{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cc extends er{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function dl(e){return z(e)&&e.name==="AuthRetryableFetchError"}class cf extends er{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var D_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F_=[502,503,504];async function uf(e){var t;if(!k_(e))throw new Cc(Rn(e),0);if(F_.includes(e.status))throw new Cc(Rn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Z0(Rn(i),i)}let r;const s=R_(e);if(s&&s.getTime()>=J0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cf(Rn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new cf(Rn(n),e.status,n.weak_password.reasons);throw new I_(Rn(n),e.status||500,r)}const $_=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function W(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ec]||(i[Ec]=J0["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await V_(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function V_(e,t,n,r,s,i){const o=$_(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Cc(Rn(l),0)}if(a.ok||await uf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await uf(l)}}function Qt(e){var t;let n=null;G_(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=x_(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function df(e){const t=Qt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function on(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function U_(e){return{data:e,error:null}}function z_(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=D_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function B_(e){return e}function G_(e){return e.access_token&&e.refresh_token&&e.expires_in}var H_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class W_{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Q0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:on})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=H_(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:z_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:on})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:B_});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:on})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:on})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:on})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}const K_={getItem:e=>As()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{As()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{As()&&globalThis.localStorage.removeItem(e)}};function hf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function q_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ir={debug:!!(globalThis&&As()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ey extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Y_ extends ey{}async function J_(e,t,n){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Y_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ir.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}q_();const Q_={url:g_,storageKey:y_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ff(e,t,n){return await n()}class si{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=si.nextInstanceID,si.nextInstanceID+=1,this.instanceID>0&&bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Q_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new W_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Q0(s.fetch),this.lock=s.lock||ff,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:bt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=J_:this.lock=ff,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:As()?this.storage=K_:(this.memoryStorage={},this.storage=hf(this.memoryStorage)):(this.memoryStorage={},this.storage=hf(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Y0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=b_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),bt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),L_(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?{error:n}:{error:new Z0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await sr(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:x},xform:Qt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qt})}else throw new Ki("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:df})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:df})}else throw new Ki("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ul}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Hi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Qt});if(await Wi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ul}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Qt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ul}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sr(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ki("You must provide either an email or phone number.")}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await sr(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:U_})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Jt;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ki("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Hi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<cl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:on}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:on})})}catch(n){if(z(n))return M_(n)&&(await this._removeSession(),await Wi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Jt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await sr(this.storage,this.storageKey));const{data:u,error:d}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:on});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return af(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=af(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Jt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!bt())throw new qi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lf("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new qi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Hi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(O_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Wi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=w_(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await sr(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return bt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(z(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await j_(async s=>(s>0&&await S_(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&dl(i)&&Date.now()+o-r<ar})}catch(r){if(this._debug(n,"error",r),z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),bt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Hi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<cl;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${cl}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),dl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _a;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),z(i)){const o={session:null,error:i};return dl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await X0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Wi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ar);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ar}ms, refresh threshold is ${jc} ticks`),s<=jc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ey)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await sr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}si.nextInstanceID=0;const X_=si;class Z_ extends X_{constructor(t){super(t)}}var eS=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class tS{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=p_(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:o_,realtime:l_,auth:Object.assign(Object.assign({},a_),{storageKey:l}),global:i_},d=m_(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=h_(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Ck(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new rk(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new n_(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return eS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z_({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nS=(e,t,n)=>new tS(e,t,n),rS="https://ptmfcodrlfufrzkxrtxg.supabase.co",sS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",V=nS(rS,sS),zo=new Map,Qu=new Map;let iS=1;function Xu(e){var s,i;let t=zo.get(e.id);t||(t=iS++,zo.set(e.id,t),Qu.set(t,e.id));const n=e.reviews||[],r=n.length>0?n.reduce((o,a)=>o+a.rating,0)/n.length:0;return{id:t,title:e.title,description:e.description,image:e.image,prepTime:e.prep_time,difficulty:e.difficulty,rating:Number(r.toFixed(1)),category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutritionFacts:{calories:Number(e.nutrition_facts.calories),protein:Number(e.nutrition_facts.protein),carbs:Number(e.nutrition_facts.carbs),fat:Number(e.nutrition_facts.fat),fiber:Number(e.nutrition_facts.fiber)},reviews:n.map(o=>({id:o.id,userId:o.user_id,userName:o.profiles.full_name,rating:o.rating,comment:o.comment||"",date:new Date(o.created_at).toISOString().split("T")[0]})),authorId:e.author_id,authorName:(s=e.profiles)==null?void 0:s.full_name,authorType:(i=e.profiles)==null?void 0:i.user_type,createdAt:e.created_at,updatedAt:e.updated_at}}function bi(e){return Qu.get(e)||null}async function pf(e){console.log("Getting user profile for ID:",e);const{data:t,error:n}=await V.from("profiles").select("*").eq("id",e).single();if(n)throw console.error("Error getting user profile:",n),n;return console.log("User profile retrieved:",t),t}async function oS(e){console.log("Creating recipe:",e);const{data:t,error:n}=await V.from("recipes").insert([{title:e.title,description:e.description,image:e.image,prep_time:e.prepTime,difficulty:e.difficulty,category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutrition_facts:{calories:Number(e.nutritionFacts.calories),protein:Number(e.nutritionFacts.protein),carbs:Number(e.nutritionFacts.carbs),fat:Number(e.nutritionFacts.fat),fiber:Number(e.nutritionFacts.fiber)},author_id:e.authorId}]).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(n)throw console.error("Error creating recipe:",n),n;return console.log("Recipe created successfully:",t),Xu(t)}async function aS(e,t){const n=bi(e);if(!n)throw new Error("Receita não encontrada");const{data:r,error:s}=await V.from("recipes").update({title:t.title,description:t.description,image:t.image,prep_time:t.prepTime,difficulty:t.difficulty,category:t.category,ingredients:t.ingredients,instructions:t.instructions,nutrition_facts:t.nutritionFacts?{calories:Number(t.nutritionFacts.calories),protein:Number(t.nutritionFacts.protein),carbs:Number(t.nutritionFacts.carbs),fat:Number(t.nutritionFacts.fat),fiber:Number(t.nutritionFacts.fiber)}:void 0}).eq("id",n).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(s)throw s;return Xu(r)}async function lS(e){const t=bi(e);if(!t)throw new Error("Receita não encontrada");const{error:n}=await V.from("recipes").delete().eq("id",t);if(n)throw n;zo.delete(t),Qu.delete(e)}async function cS(){console.log("Fetching recipes from Supabase...");const{data:e,error:t}=await V.from("recipes").select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),t;if(console.log("Raw recipes from database:",(e==null?void 0:e.length)||0),!e||e.length===0)return console.log("No recipes found in database"),[];const n=e.map(Xu);return console.log("Converted recipes:",n.length),n}async function uS(e,t){const n=bi(e);if(!n)throw new Error("Receita não encontrada");console.log("Adding review to recipe:",{recipeId:e,uuid:n,review:t});const{data:r,error:s}=await V.from("reviews").insert([{recipe_id:n,user_id:t.user_id,rating:t.rating,comment:t.comment}]).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(s)throw console.error("Error adding review:",s),s;return console.log("Review added successfully:",r),r}async function dS(e,t){console.log("Updating review:",{reviewId:e,updates:t});const{data:n,error:r}=await V.from("reviews").update({rating:t.rating,comment:t.comment}).eq("id",e).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(r)throw console.error("Error updating review:",r),r;return console.log("Review updated successfully:",n),n}async function hS(e){console.log("Deleting review:",e);const{error:t}=await V.from("reviews").delete().eq("id",e);if(t)throw console.error("Error deleting review:",t),t;console.log("Review deleted successfully")}async function fS(e,t){const n=bi(t);if(!n)throw new Error("Receita não encontrada");const{error:r}=await V.from("favorites").insert([{user_id:e,recipe_id:n}]);if(r)throw console.error("Error adding to favorites:",r),r}async function pS(e,t){const n=bi(t);if(!n)throw new Error("Receita não encontrada");const{error:r}=await V.from("favorites").delete().eq("user_id",e).eq("recipe_id",n);if(r)throw console.error("Error removing from favorites:",r),r}async function mS(e){console.log("Fetching favorites for user:",e);const{data:t,error:n}=await V.from("favorites").select("recipe_id").eq("user_id",e);if(n)throw console.error("Error fetching favorites:",n),n;console.log("Raw favorites data:",t);const r=[];return t==null||t.forEach(s=>{const i=zo.get(s.recipe_id);i&&r.push(i)}),console.log("Converted favorite IDs:",r),r}async function gS(e){try{console.log("Checking if email exists:",e);const{data:t,error:n}=await V.from("profiles").select("email").eq("email",e.toLowerCase().trim()).single();return n?n.code==="PGRST116"?(console.log("Email not found in profiles table"),!1):(console.error("Error checking email:",n),!1):(console.log("Email found in profiles table:",!!t),!!t)}catch(t){return console.error("Error checking email existence:",t),!1}}async function yS(e){console.log("Sending password reset email to:",e);const{error:t}=await V.auth.resetPasswordForEmail(e.toLowerCase().trim(),{redirectTo:`${window.location.origin}/reset-password`});if(t)throw console.error("Error sending password reset email:",t),t.message.includes("Email rate limit exceeded")?new Error("Muitas tentativas de recuperação. Aguarde alguns minutos antes de tentar novamente."):t.message.includes("For security purposes")?new Error("Por motivos de segurança, aguarde alguns minutos antes de solicitar outro email."):t.message.includes("Invalid email")?new Error("Email inválido. Verifique o formato do email."):t.message.includes("User not found")?new Error("Email não encontrado. Verifique se o email está correto ou crie uma conta."):new Error("Erro ao enviar email de recuperação. Tente novamente em alguns minutos.");console.log("Password reset email sent successfully")}async function vS(e){console.log("Updating user password");const{error:t}=await V.auth.updateUser({password:e});if(t)throw console.error("Error updating password:",t),t.message.includes("session_not_found")?new Error("Sessão expirada. Solicite um novo link de recuperação."):t.message.includes("same_password")?new Error("A nova senha deve ser diferente da senha atual."):t.message.includes("Password should be at least")?new Error("A senha deve ter pelo menos 6 caracteres."):new Error("Erro ao atualizar senha. Tente novamente.");console.log("Password updated successfully")}async function xS(){try{const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),n=e.get("type");if(!t||n!=="recovery")return{valid:!1};const{data:{user:r},error:s}=await V.auth.getUser(t);if(s||!r)return console.error("Invalid recovery token:",s),{valid:!1};const{error:i}=await V.auth.setSession({access_token:t,refresh_token:e.get("refresh_token")||""});return i?(console.error("Error setting session:",i),{valid:!1}):{valid:!0,user:r}}catch(e){return console.error("Error validating recovery token:",e),{valid:!1}}}const G=jn(e=>({message:null,type:"info",showToast:(t,n)=>e({message:t,type:n}),hideToast:()=>e({message:null})})),ty=window.location.origin,wS=/webcontainer-api\.io|credentialless|\.local-credentialless\./.test(ty),bS=wS?"http://localhost:5173":ty;function mf(e){return!!(e!=null&&e.email_confirmed_at||e!=null&&e.confirmed_at)}const ke=jn()(ga((e,t)=>({user:null,token:null,isAuthenticated:!1,error:null,loading:!1,initializeAuth:async()=>{var n,r;try{const{data:s}=await V.auth.getSession(),i=s.session;if(!(i!=null&&i.user)){e({user:null,token:null,isAuthenticated:!1});return}const o=i.user;if(!mf(o)){await V.auth.signOut(),e({user:null,token:null,isAuthenticated:!1});return}const a=await pf(o.id).catch(()=>null),l={id:o.id,email:o.email??"",name:((n=o.user_metadata)==null?void 0:n.full_name)||(a==null?void 0:a.full_name)||"",type:(((r=o.user_metadata)==null?void 0:r.user_type)||(a==null?void 0:a.user_type))??"Client",profile:void 0};e({user:l,token:i.access_token,isAuthenticated:!0})}catch(s){console.error("initializeAuth error:",s),e({user:null,token:null,isAuthenticated:!1})}},signIn:async(n,r)=>{var s,i;e({loading:!0,error:null});try{const{data:o,error:a}=await V.auth.signInWithPassword({email:n,password:r});if(a){let f="Erro ao fazer login";a.message.includes("Invalid login credentials")&&(f="Email ou senha incorretos."),a.message.includes("Email not confirmed")&&(f="Email não confirmado. Verifique sua caixa de entrada."),a.message.includes("Too many requests")&&(f="Muitas tentativas. Tente mais tarde."),G.getState().showToast(f,"error"),e({error:f,loading:!1});return}const l=o.user;if(!mf(l)){await V.auth.signOut();const f="Email não confirmado. Verifique sua caixa de entrada e clique no link de confirmação.";G.getState().showToast(f,"error"),e({error:f,loading:!1,isAuthenticated:!1,user:null,token:null});return}const u=o.session??(await V.auth.getSession()).data.session,d=await pf(l.id).catch(()=>null),h={id:l.id,email:l.email??"",name:((s=l.user_metadata)==null?void 0:s.full_name)||(d==null?void 0:d.full_name)||"",type:(((i=l.user_metadata)==null?void 0:i.user_type)||(d==null?void 0:d.user_type))??"Client",profile:void 0};e({user:h,token:(u==null?void 0:u.access_token)??null,isAuthenticated:!0,loading:!1}),G.getState().showToast("Login realizado com sucesso!","success")}catch(o){console.error("signIn error:",o),G.getState().showToast("Erro inesperado ao fazer login.","error"),e({error:"Erro inesperado",loading:!1})}},signUp:async(n,r,s,i)=>{e({loading:!0,error:null});try{const{data:o,error:a}=await V.auth.signUp({email:n,password:r,options:{emailRedirectTo:`${bS}/auth/confirm`,data:{full_name:s,user_type:i}}});if(G.getState().showToast("Conta criada! Confirme seu e-mail para acessar.","info"),a){let l="Erro ao criar conta";a.message.includes("User already registered")&&(l="Este e-mail já está cadastrado."),a.message.includes("Password should be at least")&&(l="A senha deve ter pelo menos 6 caracteres."),a.message.includes("Invalid email")&&(l="E-mail inválido."),G.getState().showToast(l,"error"),e({error:l,loading:!1});return}e({loading:!1})}catch(o){console.error("signUp error:",o),G.getState().showToast("Erro inesperado ao criar conta.","error"),e({error:"Erro inesperado",loading:!1})}},signOut:async()=>{try{await V.auth.signOut(),e({user:null,token:null,isAuthenticated:!1}),G.getState().showToast("Logout realizado!","info")}catch(n){console.error("signOut error:",n),G.getState().showToast("Logout realizado","info")}},clearError:()=>e({error:null}),isNutritionist:()=>{var n;return((n=t().user)==null?void 0:n.type)==="Nutritionist"}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));async function ny(){const{data:e,error:t}=await V.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return e||[]}async function kS(e){const{data:t,error:n}=await V.from("user_subscriptions").select(`
      *,
      plan:subscription_plans(*)
    `).eq("user_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(n&&n.code!=="PGRST116")throw n;return t??null}async function _S(e){const{data:t,error:n}=await V.from("user_subscriptions").insert(e).select(`
      *,
      plan:subscription_plans(*)
    `).single();if(n)throw n;return t}async function SS({priceId:e,planId:t,successUrl:n,cancelUrl:r}){var u,d,h;let{data:{session:s},error:i}=await V.auth.getSession();if(i||!(s!=null&&s.access_token)){const f=await V.auth.refreshSession().catch(()=>null);s=((u=f==null?void 0:f.data)==null?void 0:u.session)??null}const o=s==null?void 0:s.access_token;if(!o)throw new Error("Você precisa estar logado para assinar. Faça login e tente novamente.");const{data:a}=await V.functions.invoke("create-checkout-session",{body:{priceId:e,planId:t,successUrl:n,cancelUrl:r},headers:{Authorization:`Bearer ${o}`}});if(!a)throw new Error("Checkout failed: sem resposta do servidor");if(a.error){const f=(d=a.debug)!=null&&d.priceId?` (priceId: ${a.debug.priceId}${(h=a.debug)!=null&&h.message?` • ${a.debug.message}`:""})`:"";throw new Error(`Checkout failed: ${a.error}${f}`)}if(!a.url)throw new Error("Falha ao criar sessão de pagamento (sem URL)");const l=a.url;try{if(typeof window<"u"&&window.top&&window.top!==window){window.top.location.href=l;return}}catch{}try{window.location.assign(l)}catch{window.open(l,"_blank","noopener,noreferrer")}}const ry=jn()(ga((e,t)=>({plans:[],userSubscription:null,loading:!1,error:null,fetchPlans:async()=>{e({loading:!0,error:null});try{const n=await ny();e({plans:n,loading:!1})}catch(n){console.error("Error fetching plans:",n);const r=n instanceof Error?n.message:"Erro ao carregar planos";e({error:r,loading:!1}),G.getState().showToast("Erro ao carregar planos de assinatura","error")}},fetchUserSubscription:async n=>{try{const r=await kS(n);e({userSubscription:r})}catch(r){console.error("Error fetching user subscription:",r),e({userSubscription:null})}},hasFeatureAccess:n=>{const{userSubscription:r}=t();return!r||!r.plan?!1:r.plan.features.includes(n)},isPremium:()=>t().hasFeatureAccess("ai_mentoring"),createSubscription:async n=>{e({loading:!0,error:null});try{const r=await _S(n);e({userSubscription:r,loading:!1}),G.getState().showToast("Assinatura ativada com sucesso!","success")}catch(r){console.error("Error creating subscription:",r);const s=r instanceof Error?r.message:"Erro ao criar assinatura";throw e({error:s,loading:!1}),G.getState().showToast("Erro ao ativar assinatura","error"),r}},reset:()=>e({plans:[],userSubscription:null,loading:!1,error:null})}),{name:"subscription-storage",partialize:e=>({userSubscription:e.userSubscription})})),Zu=jn(e=>({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:"",setCategory:t=>e({category:t}),setSearchQuery:t=>e({searchQuery:t}),setDifficulty:t=>e({difficulty:t}),setPrepTimeRange:t=>e({prepTimeRange:t}),setMinRating:t=>e({minRating:t}),setSortBy:t=>e({sortBy:t}),resetFilters:()=>e({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:""})})),ed=_.createContext({});function td(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sa=_.createContext(null),nd=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class jS extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ES({children:e,isPresent:t}){const n=_.useId(),r=_.useRef(null),s=_.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=_.useContext(nd);return _.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(jS,{isPresent:t,childRef:r,sizeRef:s,children:_.cloneElement(e,{ref:r})})}const CS=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=td(NS),l=_.useId(),u=_.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=_.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[n,u]);return _.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),_.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(ES,{isPresent:n,children:e})),c.jsx(Sa.Provider,{value:d,children:e})};function NS(){return new Map}function sy(e=!0){const t=_.useContext(Sa);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=_.useId();_.useEffect(()=>{e&&s(i)},[e]);const o=_.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Yi=e=>e.key||"";function gf(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const rd=typeof window<"u",iy=rd?_.useLayoutEffect:_.useEffect,Xr=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=sy(o),u=_.useMemo(()=>gf(e),[e]),d=o&&!a?[]:u.map(Yi),h=_.useRef(!0),f=_.useRef(u),g=td(()=>new Map),[x,v]=_.useState(u),[w,m]=_.useState(u);iy(()=>{h.current=!1,f.current=u;for(let b=0;b<w.length;b++){const k=Yi(w[b]);d.includes(k)?g.delete(k):g.get(k)!==!0&&g.set(k,!1)}},[w,d.length,d.join("-")]);const p=[];if(u!==x){let b=[...u];for(let k=0;k<w.length;k++){const E=w[k],C=Yi(E);d.includes(C)||(b.splice(k,0,E),p.push(E))}i==="wait"&&p.length&&(b=p),m(gf(b)),v(u);return}const{forceRender:y}=_.useContext(ed);return c.jsx(c.Fragment,{children:w.map(b=>{const k=Yi(b),E=o&&!a?!1:u===w||d.includes(k),C=()=>{if(g.has(k))g.set(k,!0);else return;let S=!0;g.forEach(A=>{A||(S=!1)}),S&&(y==null||y(),m(f.current),o&&(l==null||l()),r&&r())};return c.jsx(CS,{isPresent:E,initial:!h.current||n?void 0:!1,custom:E?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:C,children:b},k)})})},Je=e=>e;let Nc=Je;function sd(e){let t;return()=>(t===void 0&&(t=e()),t)}const Br=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Lt=e=>e*1e3,Dt=e=>e/1e3,TS={skipAnimations:!1,useManualTiming:!1};function PS(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const g=h&&r?t:n;return d&&i.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,s&&(s=!1,l.process(u))}};return l}const Ji=["read","resolveKeyframes","update","preRender","render","postRender"],AS=40;function oy(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ji.reduce((m,p)=>(m[p]=PS(i),m),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,g=()=>{const m=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,AS),1),s.timestamp=m,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},x=()=>{n=!0,r=!0,s.isProcessing||e(g)};return{schedule:Ji.reduce((m,p)=>{const y=o[p];return m[p]=(b,k=!1,E=!1)=>(n||x(),y.schedule(b,k,E)),m},{}),cancel:m=>{for(let p=0;p<Ji.length;p++)o[Ji[p]].cancel(m)},state:s,steps:o}}const{schedule:ne,cancel:wn,state:be,steps:hl}=oy(typeof requestAnimationFrame<"u"?requestAnimationFrame:Je,!0),ay=_.createContext({strict:!1}),yf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gr={};for(const e in yf)Gr[e]={isEnabled:t=>yf[e].some(n=>!!t[n])};function RS(e){for(const t in e)Gr[t]={...Gr[t],...e[t]}}const IS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||IS.has(e)}let ly=e=>!Bo(e);function OS(e){e&&(ly=t=>t.startsWith("on")?!Bo(t):e(t))}try{OS(require("@emotion/is-prop-valid").default)}catch{}function MS(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(ly(s)||n===!0&&Bo(s)||!t&&!Bo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function LS(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const ja=_.createContext({});function ii(e){return typeof e=="string"||Array.isArray(e)}function Ea(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const id=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],od=["initial",...id];function Ca(e){return Ea(e.animate)||od.some(t=>ii(e[t]))}function cy(e){return!!(Ca(e)||e.variants)}function DS(e,t){if(Ca(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ii(n)?n:void 0,animate:ii(r)?r:void 0}}return e.inherit!==!1?t:{}}function FS(e){const{initial:t,animate:n}=DS(e,_.useContext(ja));return _.useMemo(()=>({initial:t,animate:n}),[vf(t),vf(n)])}function vf(e){return Array.isArray(e)?e.join(" "):e}const $S=Symbol.for("motionComponentSymbol");function wr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VS(e,t,n){return _.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):wr(n)&&(n.current=r))},[t])}const ad=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),US="framerAppearId",uy="data-"+ad(US),{schedule:ld,cancel:H2}=oy(queueMicrotask,!1),dy=_.createContext({});function zS(e,t,n,r,s){var i,o;const{visualElement:a}=_.useContext(ja),l=_.useContext(ay),u=_.useContext(Sa),d=_.useContext(nd).reducedMotion,h=_.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,g=_.useContext(dy);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&BS(h.current,n,s,g);const x=_.useRef(!1);_.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const v=n[uy],w=_.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return iy(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),ld.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,v)}),w.current=!1))}),f}function BS(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:hy(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&wr(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function hy(e){if(e)return e.options.allowProjection!==!1?e.projection:hy(e.parent)}function GS({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&RS(e);function a(u,d){let h;const f={..._.useContext(nd),...u,layoutId:HS(u)},{isStatic:g}=f,x=FS(u),v=r(u,g);if(!g&&rd){WS();const w=KS(f);h=w.MeasureLayout,x.visualElement=zS(s,v,f,t,w.ProjectionNode)}return c.jsxs(ja.Provider,{value:x,children:[h&&x.visualElement?c.jsx(h,{visualElement:x.visualElement,...f}):null,n(s,u,VS(v,x.visualElement,d),v,g,x.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=_.forwardRef(a);return l[$S]=s,l}function HS({layoutId:e}){const t=_.useContext(ed).id;return t&&e!==void 0?t+"-"+e:e}function WS(e,t){_.useContext(ay).strict}function KS(e){const{drag:t,layout:n}=Gr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cd(e){return typeof e!="string"||e.includes("-")?!1:!!(qS.indexOf(e)>-1||/[A-Z]/u.test(e))}function xf(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ud(e,t,n,r){if(typeof t=="function"){const[s,i]=xf(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=xf(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const Tc=e=>Array.isArray(e),YS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),JS=e=>Tc(e)?e[e.length-1]||0:e,Re=e=>!!(e&&e.getVelocity);function ho(e){const t=Re(e)?e.get():e;return YS(t)?t.toValue():t}function QS({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:XS(r,s,i,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const fy=e=>(t,n)=>{const r=_.useContext(ja),s=_.useContext(Sa),i=()=>QS(e,t,r,s);return n?i():td(i)};function XS(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=ho(i[f]);let{initial:o,animate:a}=e;const l=Ca(e),u=cy(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Ea(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const x=ud(e,f[g]);if(x){const{transitionEnd:v,transition:w,...m}=x;for(const p in m){let y=m[p];if(Array.isArray(y)){const b=d?y.length-1:0;y=y[b]}y!==null&&(s[p]=y)}for(const p in v)s[p]=v[p]}}}return s}const Zr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tr=new Set(Zr),py=e=>t=>typeof t=="string"&&t.startsWith(e),my=py("--"),ZS=py("var(--"),dd=e=>ZS(e)?ej.test(e.split("/*")[0].trim()):!1,ej=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gy=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zt=(e,t,n)=>n>t?t:n<e?e:n,es={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},oi={...es,transform:e=>zt(0,1,e)},Qi={...es,default:1},ki=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xt=ki("deg"),Et=ki("%"),L=ki("px"),tj=ki("vh"),nj=ki("vw"),wf={...Et,parse:e=>Et.parse(e)/100,transform:e=>Et.transform(e*100)},rj={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,radius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,top:L,right:L,bottom:L,left:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,backgroundPositionX:L,backgroundPositionY:L},sj={rotate:Xt,rotateX:Xt,rotateY:Xt,rotateZ:Xt,scale:Qi,scaleX:Qi,scaleY:Qi,scaleZ:Qi,skew:Xt,skewX:Xt,skewY:Xt,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:oi,originX:wf,originY:wf,originZ:L},bf={...es,transform:Math.round},hd={...rj,...sj,zIndex:bf,size:L,fillOpacity:oi,strokeOpacity:oi,numOctaves:bf},ij={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oj=Zr.length;function aj(e,t,n){let r="",s=!0;for(let i=0;i<oj;i++){const o=Zr[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=gy(a,hd[o]);if(!l){s=!1;const d=ij[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function fd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(tr.has(l)){o=!0;continue}else if(my(l)){s[l]=u;continue}else{const d=gy(u,hd[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=aj(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const lj={offset:"stroke-dashoffset",array:"stroke-dasharray"},cj={offset:"strokeDashoffset",array:"strokeDasharray"};function uj(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?lj:cj;e[i.offset]=L.transform(-r);const o=L.transform(t),a=L.transform(n);e[i.array]=`${o} ${a}`}function kf(e,t,n){return typeof e=="string"?e:L.transform(t+n*e)}function dj(e,t,n){const r=kf(t,e.x,e.width),s=kf(n,e.y,e.height);return`${r} ${s}`}function pd(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(fd(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g,dimensions:x}=e;f.transform&&(x&&(g.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=dj(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&uj(f,o,a,l,!1)}const md=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),yy=()=>({...md(),attrs:{}}),gd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vy(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const xy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wy(e,t,n,r){vy(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(xy.has(s)?s:ad(s),t.attrs[s])}const Go={};function hj(e){Object.assign(Go,e)}function by(e,{layout:t,layoutId:n}){return tr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Go[e]||e==="opacity")}function yd(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Re(s[o])||t.style&&Re(t.style[o])||by(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function ky(e,t,n){const r=yd(e,t,n);for(const s in e)if(Re(e[s])||Re(t[s])){const i=Zr.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function fj(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const _f=["x","y","width","height","cx","cy","r"],pj={useVisualState:fy({scrapeMotionValuesFromProps:ky,createRenderState:yy,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const a in s)if(tr.has(a)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let a=0;a<_f.length;a++){const l=_f[a];e[l]!==t[l]&&(o=!0)}o&&ne.read(()=>{fj(n,r),ne.render(()=>{pd(r,s,gd(n.tagName),e.transformTemplate),wy(n,r)})})}})},mj={useVisualState:fy({scrapeMotionValuesFromProps:yd,createRenderState:md})};function _y(e,t,n){for(const r in t)!Re(t[r])&&!by(r,n)&&(e[r]=t[r])}function gj({transformTemplate:e},t){return _.useMemo(()=>{const n=md();return fd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yj(e,t){const n=e.style||{},r={};return _y(r,n,e),Object.assign(r,gj(e,t)),r}function vj(e,t){const n={},r=yj(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function xj(e,t,n,r){const s=_.useMemo(()=>{const i=yy();return pd(i,t,gd(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};_y(i,e.style,e),s.style={...i,...s.style}}return s}function wj(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(cd(n)?xj:vj)(r,i,o,n),u=MS(r,typeof n=="string",e),d=n!==_.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=_.useMemo(()=>Re(h)?h.get():h,[h]);return _.createElement(n,{...d,children:f})}}function bj(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...cd(r)?pj:mj,preloadedFeatures:e,useRender:wj(s),createVisualElement:t,Component:r};return GS(o)}}function Sy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Na(e,t,n){const r=e.getProps();return ud(r,t,n!==void 0?n:r.custom,e)}const kj=sd(()=>window.ScrollTimeline!==void 0);class _j{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(kj()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Sj extends _j{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function vd(e,t){return e?e[t]||e.default||e:void 0}const Pc=2e4;function jy(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Pc;)t+=n,r=e.next(t);return t>=Pc?1/0:t}function xd(e){return typeof e=="function"}function Sf(e,t){e.timeline=t,e.onfinish=null}const wd=e=>Array.isArray(e)&&typeof e[0]=="number",jj={linearEasing:void 0};function Ej(e,t){const n=sd(e);return()=>{var r;return(r=jj[t])!==null&&r!==void 0?r:n()}}const Ho=Ej(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ey=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Br(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Cy(e){return!!(typeof e=="function"&&Ho()||!e||typeof e=="string"&&(e in Ac||Ho())||wd(e)||Array.isArray(e)&&e.every(Cy))}const vs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ac={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vs([0,.65,.55,1]),circOut:vs([.55,0,1,.45]),backIn:vs([.31,.01,.66,-.59]),backOut:vs([.33,1.53,.69,.99])};function Ny(e,t){if(e)return typeof e=="function"&&Ho()?Ey(e,t):wd(e)?vs(e):Array.isArray(e)?e.map(n=>Ny(n,t)||Ac.easeOut):Ac[e]}const dt={x:!1,y:!1};function Ty(){return dt.x||dt.y}function Cj(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Py(e,t){const n=Cj(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function jf(e){return t=>{t.pointerType==="touch"||Ty()||e(t)}}function Nj(e,t,n={}){const[r,s,i]=Py(e,n),o=jf(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const d=jf(h=>{u(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Ay=(e,t)=>t?e===t?!0:Ay(e,t.parentElement):!1,bd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Tj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pj(e){return Tj.has(e.tagName)||e.tabIndex!==-1}const xs=new WeakSet;function Ef(e){return t=>{t.key==="Enter"&&e(t)}}function fl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Aj=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ef(()=>{if(xs.has(n))return;fl(n,"down");const s=Ef(()=>{fl(n,"up")}),i=()=>fl(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Cf(e){return bd(e)&&!Ty()}function Rj(e,t,n={}){const[r,s,i]=Py(e,n),o=a=>{const l=a.currentTarget;if(!Cf(a)||xs.has(l))return;xs.add(l);const u=t(a),d=(g,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Cf(g)||!xs.has(l))&&(xs.delete(l),typeof u=="function"&&u(g,{success:x}))},h=g=>{d(g,n.useGlobalTarget||Ay(l,g.target))},f=g=>{d(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!Pj(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>Aj(u,s),s)}),i}function Ij(e){return e==="x"||e==="y"?dt[e]?null:(dt[e]=!0,()=>{dt[e]=!1}):dt.x||dt.y?null:(dt.x=dt.y=!0,()=>{dt.x=dt.y=!1})}const Ry=new Set(["width","height","top","left","right","bottom",...Zr]);let fo;function Oj(){fo=void 0}const Ct={now:()=>(fo===void 0&&Ct.set(be.isProcessing||TS.useManualTiming?be.timestamp:performance.now()),fo),set:e=>{fo=e,queueMicrotask(Oj)}};function kd(e,t){e.indexOf(t)===-1&&e.push(t)}function _d(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Sd{constructor(){this.subscriptions=[]}add(t){return kd(this.subscriptions,t),()=>_d(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Iy(e,t){return t?e*(1e3/t):0}const Nf=30,Mj=e=>!isNaN(parseFloat(e));class Lj{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ct.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ct.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Mj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Sd);const r=this.events[t].add(n);return t==="change"?()=>{r(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ct.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Nf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Nf);return Iy(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ai(e,t){return new Lj(e,t)}function Dj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ai(n))}function Fj(e,t){const n=Na(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=JS(i[o]);Dj(e,o,a)}}function $j(e){return!!(Re(e)&&e.add)}function Rc(e,t){const n=e.getValue("willChange");if($j(n))return n.add(t)}function Oy(e){return e.props[uy]}const My=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Vj=1e-7,Uj=12;function zj(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=My(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Vj&&++a<Uj);return o}function _i(e,t,n,r){if(e===t&&n===r)return Je;const s=i=>zj(i,0,1,e,n);return i=>i===0||i===1?i:My(s(i),t,r)}const Ly=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Dy=e=>t=>1-e(1-t),Fy=_i(.33,1.53,.69,.99),jd=Dy(Fy),$y=Ly(jd),Vy=e=>(e*=2)<1?.5*jd(e):.5*(2-Math.pow(2,-10*(e-1))),Ed=e=>1-Math.sin(Math.acos(e)),Uy=Dy(Ed),zy=Ly(Ed),By=e=>/^0[^.\s]+$/u.test(e);function Bj(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||By(e):!0}const Rs=e=>Math.round(e*1e5)/1e5,Cd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gj(e){return e==null}const Hj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nd=(e,t)=>n=>!!(typeof n=="string"&&Hj.test(n)&&n.startsWith(e)||t&&!Gj(n)&&Object.prototype.hasOwnProperty.call(n,t)),Gy=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Cd);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Wj=e=>zt(0,255,e),pl={...es,transform:e=>Math.round(Wj(e))},Vn={test:Nd("rgb","red"),parse:Gy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+pl.transform(e)+", "+pl.transform(t)+", "+pl.transform(n)+", "+Rs(oi.transform(r))+")"};function Kj(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ic={test:Nd("#"),parse:Kj,transform:Vn.transform},br={test:Nd("hsl","hue"),parse:Gy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Et.transform(Rs(t))+", "+Et.transform(Rs(n))+", "+Rs(oi.transform(r))+")"},Te={test:e=>Vn.test(e)||Ic.test(e)||br.test(e),parse:e=>Vn.test(e)?Vn.parse(e):br.test(e)?br.parse(e):Ic.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vn.transform(e):br.transform(e)},qj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yj(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Cd))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(qj))===null||n===void 0?void 0:n.length)||0)>0}const Hy="number",Wy="color",Jj="var",Qj="var(",Tf="${}",Xj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function li(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(Xj,l=>(Te.test(l)?(r.color.push(i),s.push(Wy),n.push(Te.parse(l))):l.startsWith(Qj)?(r.var.push(i),s.push(Jj),n.push(l)):(r.number.push(i),s.push(Hy),n.push(parseFloat(l))),++i,Tf)).split(Tf);return{values:n,split:a,indexes:r,types:s}}function Ky(e){return li(e).values}function qy(e){const{split:t,types:n}=li(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===Hy?i+=Rs(s[o]):a===Wy?i+=Te.transform(s[o]):i+=s[o]}return i}}const Zj=e=>typeof e=="number"?0:e;function eE(e){const t=Ky(e);return qy(e)(t.map(Zj))}const bn={test:Yj,parse:Ky,createTransformer:qy,getAnimatableNone:eE},tE=new Set(["brightness","contrast","saturate","opacity"]);function nE(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Cd)||[];if(!r)return e;const s=n.replace(r,"");let i=tE.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const rE=/\b([a-z-]*)\(.*?\)/gu,Oc={...bn,getAnimatableNone:e=>{const t=e.match(rE);return t?t.map(nE).join(" "):e}},sE={...hd,color:Te,backgroundColor:Te,outlineColor:Te,fill:Te,stroke:Te,borderColor:Te,borderTopColor:Te,borderRightColor:Te,borderBottomColor:Te,borderLeftColor:Te,filter:Oc,WebkitFilter:Oc},Td=e=>sE[e];function Yy(e,t){let n=Td(e);return n!==Oc&&(n=bn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const iE=new Set(["auto","none","0"]);function oE(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!iE.has(i)&&li(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Yy(n,s)}const Pf=e=>e===es||e===L,Af=(e,t)=>parseFloat(e.split(", ")[t]),Rf=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Af(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Af(i[1],e):0}},aE=new Set(["x","y","z"]),lE=Zr.filter(e=>!aE.has(e));function cE(e){const t=[];return lE.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Hr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Rf(4,13),y:Rf(5,14)};Hr.translateX=Hr.x;Hr.translateY=Hr.y;const Bn=new Set;let Mc=!1,Lc=!1;function Jy(){if(Lc){const e=Array.from(Bn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=cE(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lc=!1,Mc=!1,Bn.forEach(e=>e.complete()),Bn.clear()}function Qy(){Bn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Lc=!0)})}function uE(){Qy(),Jy()}class Pd{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bn.add(this),Mc||(Mc=!0,ne.read(Qy),ne.resolveKeyframes(Jy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Xy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),dE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hE(e){const t=dE.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Zy(e,t,n=1){const[r,s]=hE(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Xy(o)?parseFloat(o):o}return dd(s)?Zy(s,t,n+1):s}const ev=e=>t=>t.test(e),fE={test:e=>e==="auto",parse:e=>e},tv=[es,L,Et,Xt,nj,tj,fE],If=e=>tv.find(ev(e));class nv extends Pd{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),dd(u))){const d=Zy(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ry.has(r)||t.length!==2)return;const[s,i]=t,o=If(s),a=If(i);if(o!==a)if(Pf(o)&&Pf(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)Bj(t[s])&&r.push(s);r.length&&oE(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Hr[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Of=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bn.test(e)||e==="0")&&!e.startsWith("url("));function pE(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function mE(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Of(s,t),a=Of(i,t);return!o||!a?!1:pE(e)||(n==="spring"||xd(n))&&r}const gE=e=>e!==null;function Ta(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(gE),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const yE=40;class rv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ct.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uE(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Ct.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!mE(t,r,s,i))if(o)this.options.duration=0;else{l&&l(Ta(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const oe=(e,t,n)=>e+(t-e)*n;function ml(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vE({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=ml(l,a,e+1/3),i=ml(l,a,e),o=ml(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Wo(e,t){return n=>n>0?t:e}const gl=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},xE=[Ic,Vn,br],wE=e=>xE.find(t=>t.test(e));function Mf(e){const t=wE(e);if(!t)return!1;let n=t.parse(e);return t===br&&(n=vE(n)),n}const Lf=(e,t)=>{const n=Mf(e),r=Mf(t);if(!n||!r)return Wo(e,t);const s={...n};return i=>(s.red=gl(n.red,r.red,i),s.green=gl(n.green,r.green,i),s.blue=gl(n.blue,r.blue,i),s.alpha=oe(n.alpha,r.alpha,i),Vn.transform(s))},bE=(e,t)=>n=>t(e(n)),Si=(...e)=>e.reduce(bE),Dc=new Set(["none","hidden"]);function kE(e,t){return Dc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _E(e,t){return n=>oe(e,t,n)}function Ad(e){return typeof e=="number"?_E:typeof e=="string"?dd(e)?Wo:Te.test(e)?Lf:EE:Array.isArray(e)?sv:typeof e=="object"?Te.test(e)?Lf:SE:Wo}function sv(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Ad(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function SE(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Ad(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function jE(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const EE=(e,t)=>{const n=bn.createTransformer(t),r=li(e),s=li(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dc.has(e)&&!s.values.length||Dc.has(t)&&!r.values.length?kE(e,t):Si(sv(jE(r,s),s.values),n):Wo(e,t)};function iv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):Ad(e)(e,t)}const CE=5;function ov(e,t,n){const r=Math.max(t-CE,0);return Iy(n-e(r),t-r)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yl=.001;function NE({duration:e=ce.duration,bounce:t=ce.bounce,velocity:n=ce.velocity,mass:r=ce.mass}){let s,i,o=1-t;o=zt(ce.minDamping,ce.maxDamping,o),e=zt(ce.minDuration,ce.maxDuration,Dt(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,g=Fc(u,o),x=Math.exp(-h);return yl-f/g*x},i=u=>{const h=u*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),v=Fc(Math.pow(u,2),o);return(-s(u)+yl>0?-1:1)*((f-g)*x)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-yl+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=PE(s,i,a);if(e=Lt(e),isNaN(l))return{stiffness:ce.stiffness,damping:ce.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const TE=12;function PE(e,t,n){let r=n;for(let s=1;s<TE;s++)r=r-e(r)/t(r);return r}function Fc(e,t){return e*Math.sqrt(1-t*t)}const AE=["duration","bounce"],RE=["stiffness","damping","mass"];function Df(e,t){return t.some(n=>e[n]!==void 0)}function IE(e){let t={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...e};if(!Df(e,RE)&&Df(e,AE))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*zt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ce.mass,stiffness:s,damping:i}}else{const n=NE(e);t={...t,...n,mass:ce.mass},t.isResolvedFromDuration=!0}return t}function av(e=ce.visualDuration,t=ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=IE({...n,velocity:-Dt(n.velocity||0)}),x=f||0,v=u/(2*Math.sqrt(l*d)),w=o-i,m=Dt(Math.sqrt(l/d)),p=Math.abs(w)<5;r||(r=p?ce.restSpeed.granular:ce.restSpeed.default),s||(s=p?ce.restDelta.granular:ce.restDelta.default);let y;if(v<1){const k=Fc(m,v);y=E=>{const C=Math.exp(-v*m*E);return o-C*((x+v*m*w)/k*Math.sin(k*E)+w*Math.cos(k*E))}}else if(v===1)y=k=>o-Math.exp(-m*k)*(w+(x+m*w)*k);else{const k=m*Math.sqrt(v*v-1);y=E=>{const C=Math.exp(-v*m*E),S=Math.min(k*E,300);return o-C*((x+v*m*w)*Math.sinh(S)+k*w*Math.cosh(S))/k}}const b={calculatedDuration:g&&h||null,next:k=>{const E=y(k);if(g)a.done=k>=h;else{let C=0;v<1&&(C=k===0?Lt(x):ov(y,k,E));const S=Math.abs(C)<=r,A=Math.abs(o-E)<=s;a.done=S&&A}return a.value=a.done?o:E,a},toString:()=>{const k=Math.min(jy(b),Pc),E=Ey(C=>b.next(k*C).value,k,30);return k+"ms "+E}};return b}function Ff({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,x=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let v=n*t;const w=h+v,m=o===void 0?w:o(w);m!==w&&(v=m-h);const p=S=>-v*Math.exp(-S/r),y=S=>m+p(S),b=S=>{const A=p(S),O=y(S);f.done=Math.abs(A)<=u,f.value=f.done?m:O};let k,E;const C=S=>{g(f.value)&&(k=S,E=av({keyframes:[f.value,x(f.value)],velocity:ov(y,S,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:S=>{let A=!1;return!E&&k===void 0&&(A=!0,b(S),C(S)),k!==void 0&&S>=k?E.next(S-k):(!A&&b(S),f)}}}const OE=_i(.42,0,1,1),ME=_i(0,0,.58,1),lv=_i(.42,0,.58,1),LE=e=>Array.isArray(e)&&typeof e[0]!="number",$f={linear:Je,easeIn:OE,easeInOut:lv,easeOut:ME,circIn:Ed,circInOut:zy,circOut:Uy,backIn:jd,backInOut:$y,backOut:Fy,anticipate:Vy},Vf=e=>{if(wd(e)){Nc(e.length===4);const[t,n,r,s]=e;return _i(t,n,r,s)}else if(typeof e=="string")return Nc($f[e]!==void 0),$f[e];return e};function DE(e,t,n){const r=[],s=n||iv,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Je:t;a=Si(l,a)}r.push(a)}return r}function FE(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Nc(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=DE(t,r,s),l=a.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Br(e[h],e[h+1],d);return a[h](f)};return n?d=>u(zt(e[0],e[i-1],d)):u}function $E(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Br(0,t,r);e.push(oe(n,1,s))}}function VE(e){const t=[0];return $E(t,e.length-1),t}function UE(e,t){return e.map(n=>n*t)}function zE(e,t){return e.map(()=>t||lv).splice(0,e.length-1)}function Ko({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=LE(r)?r.map(Vf):Vf(r),i={done:!1,value:t[0]},o=UE(n&&n.length===t.length?n:VE(t),e),a=FE(o,t,{ease:Array.isArray(s)?s:zE(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const BE=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ne.update(t,!0),stop:()=>wn(t),now:()=>be.isProcessing?be.timestamp:Ct.now()}},GE={decay:Ff,inertia:Ff,tween:Ko,keyframes:Ko,spring:av},HE=e=>e/100;class Rd extends rv{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Pd,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=xd(n)?n:GE[n]||Ko;let l,u;a!==Ko&&typeof t[0]!="number"&&(l=Si(HE,iv(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=jy(d));const{calculatedDuration:h}=d,f=h+s,g=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:x,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,b=i;if(g){const S=Math.min(this.currentTime,d)/h;let A=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&A--,A=Math.min(A,g+1),!!(A%2)&&(x==="reverse"?(O=1-O,v&&(O-=v/h)):x==="mirror"&&(b=o)),y=zt(0,1,O)*h}const k=p?{done:!1,value:l[0]}:b.next(y);a&&(k.value=a(k.value));let{done:E}=k;!p&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return C&&s!==void 0&&(k.value=Ta(l,this.options,s)),w&&w(k.value),C&&this.finish(),k}get duration(){const{resolved:t}=this;return t?Dt(t.calculatedDuration):0}get time(){return Dt(this.currentTime)}set time(t){t=Lt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Dt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=BE,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const WE=new Set(["opacity","clipPath","filter","transform"]);function KE(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=Ny(a,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const qE=sd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qo=10,YE=2e4;function JE(e){return xd(e.type)||e.type==="spring"||!Cy(e.ease)}function QE(e,t){const n=new Rd({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<YE;)r=n.sample(i),s.push(r.value),i+=qo;return{times:void 0,keyframes:s,duration:i-qo,ease:"linear"}}const cv={anticipate:Vy,backInOut:$y,circInOut:zy};function XE(e){return e in cv}class Uf extends rv{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new nv(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&Ho()&&XE(i)&&(i=cv[i]),JE(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,element:x,...v}=this.options,w=QE(t,v);t=w.keyframes,t.length===1&&(t[1]=t[0]),r=w.duration,s=w.times,i=w.ease,o="keyframes"}const d=KE(a.owner.current,l,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Sf(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(Ta(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Dt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Dt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Lt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Je;const{animation:r}=n;Sf(r,t)}return Je}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...g}=this.options,x=new Rd({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Lt(this.time);u.setWithVelocity(x.sample(v-qo).value,x.sample(v).value,qo)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return qE()&&r&&WE.has(r)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const ZE={type:"spring",stiffness:500,damping:25,restSpeed:10},eC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tC={type:"keyframes",duration:.8},nC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rC=(e,{keyframes:t})=>t.length>2?tC:tr.has(e)?e.startsWith("scale")?eC(t[1]):ZE:nC;function sC({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Id=(e,t,n,r={},s,i)=>o=>{const a=vd(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Lt(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};sC(a)||(d={...d,...rC(e,d)}),d.duration&&(d.duration=Lt(d.duration)),d.repeatDelay&&(d.repeatDelay=Lt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Ta(d.keyframes,a);if(f!==void 0)return ne.update(()=>{d.onUpdate(f),d.onComplete()}),new Sj([])}return!i&&Uf.supports(d)?new Uf(d):new Rd(d)};function iC({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function uv(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||d&&iC(d,h))continue;const x={delay:n,...vd(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const m=Oy(e);if(m){const p=window.MotionHandoffAnimation(m,h,ne);p!==null&&(x.startTime=p,v=!0)}}Rc(e,h),f.start(Id(h,f,g,e.shouldReduceMotion&&Ry.has(h)?{type:!1}:x,e,v));const w=f.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{ne.update(()=>{a&&Fj(e,a)})}),u}function $c(e,t,n={}){var r;const s=Na(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(uv(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return oC(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function oC(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(aC).forEach((u,d)=>{u.notify("AnimationStart",t),o.push($c(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function aC(e,t){return e.sortNodePosition(t)}function lC(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>$c(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=$c(e,t,n);else{const s=typeof t=="function"?Na(e,t,n.custom):t;r=Promise.all(uv(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const cC=od.length;function dv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?dv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<cC;n++){const r=od[n],s=e.props[r];(ii(s)||s===!1)&&(t[r]=s)}return t}const uC=[...id].reverse(),dC=id.length;function hC(e){return t=>Promise.all(t.map(({animation:n,options:r})=>lC(e,n,r)))}function fC(e){let t=hC(e),n=zf(),r=!0;const s=l=>(u,d)=>{var h;const f=Na(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:x,...v}=f;u={...u,...v,...x}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,d=dv(e.parent)||{},h=[],f=new Set;let g={},x=1/0;for(let w=0;w<dC;w++){const m=uC[w],p=n[m],y=u[m]!==void 0?u[m]:d[m],b=ii(y),k=m===l?p.isActive:null;k===!1&&(x=w);let E=y===d[m]&&y!==u[m]&&b;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),p.protectedKeys={...g},!p.isActive&&k===null||!y&&!p.prevProp||Ea(y)||typeof y=="boolean")continue;const C=pC(p.prevProp,y);let S=C||m===l&&p.isActive&&!E&&b||w>x&&b,A=!1;const O=Array.isArray(y)?y:[y];let R=O.reduce(s(m),{});k===!1&&(R={});const{prevResolvedValues:P={}}=p,q={...P,...R},se=F=>{S=!0,f.has(F)&&(A=!0,f.delete(F)),p.needsAnimating[F]=!0;const j=e.getValue(F);j&&(j.liveStyle=!1)};for(const F in q){const j=R[F],T=P[F];if(g.hasOwnProperty(F))continue;let M=!1;Tc(j)&&Tc(T)?M=!Sy(j,T):M=j!==T,M?j!=null?se(F):f.add(F):j!==void 0&&f.has(F)?se(F):p.protectedKeys[F]=!0}p.prevProp=y,p.prevResolvedValues=R,p.isActive&&(g={...g,...R}),r&&e.blockInitialAnimation&&(S=!1),S&&(!(E&&C)||A)&&h.push(...O.map(F=>({animation:F,options:{type:m}})))}if(f.size){const w={};f.forEach(m=>{const p=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),w[m]=p??null}),h.push({animation:w})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=zf(),r=!0}}}function pC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Sy(t,e):!1}function Tn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zf(){return{animate:Tn(!0),whileInView:Tn(),whileHover:Tn(),whileTap:Tn(),whileDrag:Tn(),whileFocus:Tn(),exit:Tn()}}class En{constructor(t){this.isMounted=!1,this.node=t}update(){}}class mC extends En{constructor(t){super(t),t.animationState||(t.animationState=fC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ea(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let gC=0;class yC extends En{constructor(){super(...arguments),this.id=gC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const vC={animation:{Feature:mC},exit:{Feature:yC}};function ci(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ji(e){return{point:{x:e.pageX,y:e.pageY}}}const xC=e=>t=>bd(t)&&e(t,ji(t));function Is(e,t,n,r){return ci(e,t,xC(n),r)}const Bf=(e,t)=>Math.abs(e-t);function wC(e,t){const n=Bf(e.x,t.x),r=Bf(e.y,t.y);return Math.sqrt(n**2+r**2)}class hv{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=xl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=wC(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:x}=h,{timestamp:v}=be;this.history.push({...x,timestamp:v});const{onStart:w,onMove:m}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=vl(f,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=xl(h.type==="pointercancel"?this.lastMoveEventInfo:vl(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),x&&x(h,w)},!bd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ji(t),a=vl(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=be;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,xl(a,this.history)),this.removeListeners=Si(Is(this.contextWindow,"pointermove",this.handlePointerMove),Is(this.contextWindow,"pointerup",this.handlePointerUp),Is(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wn(this.updatePoint)}}function vl(e,t){return t?{point:t(e.point)}:e}function Gf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xl({point:e},t){return{point:e,delta:Gf(e,fv(t)),offset:Gf(e,bC(t)),velocity:kC(t,.1)}}function bC(e){return e[0]}function fv(e){return e[e.length-1]}function kC(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=fv(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Lt(t)));)n--;if(!r)return{x:0,y:0};const i=Dt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const pv=1e-4,_C=1-pv,SC=1+pv,mv=.01,jC=0-mv,EC=0+mv;function Xe(e){return e.max-e.min}function CC(e,t,n){return Math.abs(e-t)<=n}function Hf(e,t,n,r=.5){e.origin=r,e.originPoint=oe(t.min,t.max,e.origin),e.scale=Xe(n)/Xe(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_C&&e.scale<=SC||isNaN(e.scale))&&(e.scale=1),(e.translate>=jC&&e.translate<=EC||isNaN(e.translate))&&(e.translate=0)}function Os(e,t,n,r){Hf(e.x,t.x,n.x,r?r.originX:void 0),Hf(e.y,t.y,n.y,r?r.originY:void 0)}function Wf(e,t,n){e.min=n.min+t.min,e.max=e.min+Xe(t)}function NC(e,t,n){Wf(e.x,t.x,n.x),Wf(e.y,t.y,n.y)}function Kf(e,t,n){e.min=t.min-n.min,e.max=e.min+Xe(t)}function Ms(e,t,n){Kf(e.x,t.x,n.x),Kf(e.y,t.y,n.y)}function TC(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?oe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?oe(n,e,r.max):Math.min(e,n)),e}function qf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function PC(e,{top:t,left:n,bottom:r,right:s}){return{x:qf(e.x,n,s),y:qf(e.y,t,r)}}function Yf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function AC(e,t){return{x:Yf(e.x,t.x),y:Yf(e.y,t.y)}}function RC(e,t){let n=.5;const r=Xe(e),s=Xe(t);return s>r?n=Br(t.min,t.max-r,e.min):r>s&&(n=Br(e.min,e.max-s,t.min)),zt(0,1,n)}function IC(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Vc=.35;function OC(e=Vc){return e===!1?e=0:e===!0&&(e=Vc),{x:Jf(e,"left","right"),y:Jf(e,"top","bottom")}}function Jf(e,t,n){return{min:Qf(e,t),max:Qf(e,n)}}function Qf(e,t){return typeof e=="number"?e:e[t]||0}const Xf=()=>({translate:0,scale:1,origin:0,originPoint:0}),kr=()=>({x:Xf(),y:Xf()}),Zf=()=>({min:0,max:0}),he=()=>({x:Zf(),y:Zf()});function nt(e){return[e("x"),e("y")]}function gv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function MC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LC(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wl(e){return e===void 0||e===1}function Uc({scale:e,scaleX:t,scaleY:n}){return!wl(e)||!wl(t)||!wl(n)}function In(e){return Uc(e)||yv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function yv(e){return ep(e.x)||ep(e.y)}function ep(e){return e&&e!=="0%"}function Yo(e,t,n){const r=e-n,s=t*r;return n+s}function tp(e,t,n,r,s){return s!==void 0&&(e=Yo(e,s,r)),Yo(e,n,r)+t}function zc(e,t=0,n=1,r,s){e.min=tp(e.min,t,n,r,s),e.max=tp(e.max,t,n,r,s)}function vv(e,{x:t,y:n}){zc(e.x,t.translate,t.scale,t.originPoint),zc(e.y,n.translate,n.scale,n.originPoint)}const np=.999999999999,rp=1.0000000000001;function DC(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Sr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,vv(e,o)),r&&In(i.latestValues)&&Sr(e,i.latestValues))}t.x<rp&&t.x>np&&(t.x=1),t.y<rp&&t.y>np&&(t.y=1)}function _r(e,t){e.min=e.min+t,e.max=e.max+t}function sp(e,t,n,r,s=.5){const i=oe(e.min,e.max,s);zc(e,t,n,i,r)}function Sr(e,t){sp(e.x,t.x,t.scaleX,t.scale,t.originX),sp(e.y,t.y,t.scaleY,t.scale,t.originY)}function xv(e,t){return gv(LC(e.getBoundingClientRect(),t))}function FC(e,t,n){const r=xv(e,n),{scroll:s}=t;return s&&(_r(r.x,s.offset.x),_r(r.y,s.offset.y)),r}const wv=({current:e})=>e?e.ownerDocument.defaultView:null,$C=new WeakMap;class VC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=he(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ji(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:x}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ij(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nt(w=>{let m=this.getAxisMotionValue(w).get()||0;if(Et.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const y=p.layout.layoutBox[w];y&&(m=Xe(y)*(parseFloat(m)/100))}}this.originPoint[w]=m}),x&&ne.postRender(()=>x(d,h)),Rc(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(g&&this.currentDirection===null){this.currentDirection=UC(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),l=()=>nt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new hv(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:wv(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ne.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Xi(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=TC(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&wr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=PC(s.layoutBox,n):this.constraints=!1,this.elastic=OC(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&nt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=IC(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!wr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=FC(r,s.root,this.visualElement.getTransformPagePoint());let o=AC(s.layout.layoutBox,i);if(n){const a=n(MC(o));this.hasMutatedConstraints=!!a,a&&(o=gv(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=nt(d=>{if(!Xi(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Rc(this.visualElement,t),r.start(Id(t,r,0,n,this.visualElement,!1))}stopAnimation(){nt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){nt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){nt(n=>{const{drag:r}=this.getProps();if(!Xi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-oe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};nt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=RC({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nt(o=>{if(!Xi(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(oe(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;$C.set(this.visualElement,this);const t=this.visualElement.current,n=Is(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();wr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ne.read(r);const o=ci(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(nt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Vc,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Xi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function UC(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class zC extends En{constructor(t){super(t),this.removeGroupControls=Je,this.removeListeners=Je,this.controls=new VC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Je}unmount(){this.removeGroupControls(),this.removeListeners()}}const ip=e=>(t,n)=>{e&&ne.postRender(()=>e(t,n))};class BC extends En{constructor(){super(...arguments),this.removePointerDownListener=Je}onPointerDown(t){this.session=new hv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ip(t),onStart:ip(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ne.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Is(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const po={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function op(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const hs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(L.test(e))e=parseFloat(e);else return e;const n=op(e,t.target.x),r=op(e,t.target.y);return`${n}% ${r}%`}},GC={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=bn.parse(e);if(s.length>5)return r;const i=bn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=oe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class HC extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;hj(WC),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),po.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ne.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ld.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bv(e){const[t,n]=sy(),r=_.useContext(ed);return c.jsx(HC,{...e,layoutGroup:r,switchLayoutGroup:_.useContext(dy),isPresent:t,safeToRemove:n})}const WC={borderRadius:{...hs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hs,borderTopRightRadius:hs,borderBottomLeftRadius:hs,borderBottomRightRadius:hs,boxShadow:GC};function KC(e,t,n){const r=Re(e)?e:ai(e);return r.start(Id("",r,t,n)),r.animation}function qC(e){return e instanceof SVGElement&&e.tagName!=="svg"}const YC=(e,t)=>e.depth-t.depth;class JC{constructor(){this.children=[],this.isDirty=!1}add(t){kd(this.children,t),this.isDirty=!0}remove(t){_d(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(YC),this.isDirty=!1,this.children.forEach(t)}}function QC(e,t){const n=Ct.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(wn(r),e(i-t))};return ne.read(r,!0),()=>wn(r)}const kv=["TopLeft","TopRight","BottomLeft","BottomRight"],XC=kv.length,ap=e=>typeof e=="string"?parseFloat(e):e,lp=e=>typeof e=="number"||L.test(e);function ZC(e,t,n,r,s,i){s?(e.opacity=oe(0,n.opacity!==void 0?n.opacity:1,eN(r)),e.opacityExit=oe(t.opacity!==void 0?t.opacity:1,0,tN(r))):i&&(e.opacity=oe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<XC;o++){const a=`border${kv[o]}Radius`;let l=cp(t,a),u=cp(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||lp(l)===lp(u)?(e[a]=Math.max(oe(ap(l),ap(u),r),0),(Et.test(u)||Et.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,r))}function cp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const eN=_v(0,.5,Uy),tN=_v(.5,.95,Je);function _v(e,t,n){return r=>r<e?0:r>t?1:n(Br(e,t,r))}function up(e,t){e.min=t.min,e.max=t.max}function tt(e,t){up(e.x,t.x),up(e.y,t.y)}function dp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hp(e,t,n,r,s){return e-=t,e=Yo(e,1/n,r),s!==void 0&&(e=Yo(e,1/s,r)),e}function nN(e,t=0,n=1,r=.5,s,i=e,o=e){if(Et.test(t)&&(t=parseFloat(t),t=oe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=oe(i.min,i.max,r);e===i&&(a-=t),e.min=hp(e.min,t,n,a,s),e.max=hp(e.max,t,n,a,s)}function fp(e,t,[n,r,s],i,o){nN(e,t[n],t[r],t[s],t.scale,i,o)}const rN=["x","scaleX","originX"],sN=["y","scaleY","originY"];function pp(e,t,n,r){fp(e.x,t,rN,n?n.x:void 0,r?r.x:void 0),fp(e.y,t,sN,n?n.y:void 0,r?r.y:void 0)}function mp(e){return e.translate===0&&e.scale===1}function Sv(e){return mp(e.x)&&mp(e.y)}function gp(e,t){return e.min===t.min&&e.max===t.max}function iN(e,t){return gp(e.x,t.x)&&gp(e.y,t.y)}function yp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jv(e,t){return yp(e.x,t.x)&&yp(e.y,t.y)}function vp(e){return Xe(e.x)/Xe(e.y)}function xp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oN{constructor(){this.members=[]}add(t){kd(this.members,t),t.scheduleRender()}remove(t){if(_d(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aN(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const On={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ws=typeof window<"u"&&window.MotionDebug!==void 0,bl=["","X","Y","Z"],lN={visibility:"hidden"},wp=1e3;let cN=0;function kl(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ev(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Oy(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ne,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ev(r)}function Cv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=cN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ws&&(On.totalNodes=On.resolvedTargetDeltas=On.recalculatedProjection=0),this.nodes.forEach(hN),this.nodes.forEach(yN),this.nodes.forEach(vN),this.nodes.forEach(fN),ws&&window.MotionDebug.record(On)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new JC)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Sd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qC(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=QC(f,250),po.hasAnimatedSinceResize&&(po.hasAnimatedSinceResize=!1,this.nodes.forEach(kp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||_N,{onLayoutAnimationStart:w,onLayoutAnimationComplete:m}=d.getProps(),p=!this.targetLayout||!jv(this.targetLayout,x)||g,y=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const b={...vd(v,"layout"),onPlay:w,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||kp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ev(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bp);return}this.isUpdating||this.nodes.forEach(mN),this.isUpdating=!1,this.nodes.forEach(gN),this.nodes.forEach(uN),this.nodes.forEach(dN),this.clearAllSnapshots();const a=Ct.now();be.delta=zt(0,1e3/60,a-be.timestamp),be.timestamp=a,be.isProcessing=!0,hl.update.process(be),hl.preRender.process(be),hl.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ld.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pN),this.sharedNodes.forEach(wN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=he(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Sv(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||In(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),SN(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return he();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(jN))){const{scroll:d}=this.root;d&&(_r(l.x,d.offset.x),_r(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=he();if(tt(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&tt(l,o),_r(l.x,h.offset.x),_r(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=he();tt(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Sr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),In(d.latestValues)&&Sr(l,d.latestValues)}return In(this.latestValues)&&Sr(l,this.latestValues),l}removeTransform(o){const a=he();tt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!In(u.latestValues))continue;Uc(u.latestValues)&&u.updateSnapshot();const d=he(),h=u.measurePageBox();tt(d,h),pp(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return In(this.latestValues)&&pp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=be.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),Ms(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),tt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=he(),this.targetWithTransforms=he()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tt(this.target,this.layout.layoutBox),vv(this.target,this.targetDelta)):tt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),Ms(this.relativeTargetOrigin,this.target,g.target),tt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ws&&On.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uc(this.parent.latestValues)||yv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===be.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;tt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;DC(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=he());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dp(this.prevProjectionDelta.x,this.projectionDelta.x),dp(this.prevProjectionDelta.y,this.projectionDelta.y)),Os(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!xp(this.projectionDelta.x,this.prevProjectionDelta.x)||!xp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ws&&On.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kr(),this.projectionDelta=kr(),this.projectionDeltaWithTransform=kr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=kr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=he(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,w=this.getStack(),m=!w||w.members.length<=1,p=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(kN));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const k=b/1e3;_p(h.x,o.x,k),_p(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ms(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bN(this.relativeTarget,this.relativeTargetOrigin,f,k),y&&iN(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=he()),tt(y,this.relativeTarget)),v&&(this.animationValues=d,ZC(d,u,this.latestValues,k,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{po.hasAnimatedSinceResize=!0,this.currentAnimation=KC(0,wp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Nv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||he();const h=Xe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Xe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}tt(a,l),Sr(a,d),Os(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new oN),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&kl("z",o,u,this.animationValues);for(let d=0;d<bl.length;d++)kl(`rotate${bl[d]}`,o,u,this.animationValues),kl(`skew${bl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lN;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ho(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ho(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!In(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=aN(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:g,y:x}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Go){if(f[v]===void 0)continue;const{correct:w,applyTo:m}=Go[v],p=u.transform==="none"?f[v]:w(f[v],h);if(m){const y=m.length;for(let b=0;b<y;b++)u[m[b]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?ho(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(bp),this.root.sharedNodes.clear()}}}function uN(e){e.updateLayout()}function dN(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?nt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Xe(f);f.min=r[h].min,f.max=f.min+g}):Nv(i,n.layoutBox,r)&&nt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Xe(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=kr();Os(a,r,n.layoutBox);const l=kr();o?Os(l,e.applyTransform(s,!0),n.measuredBox):Os(l,r,n.layoutBox);const u=!Sv(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const x=he();Ms(x,n.layoutBox,f.layoutBox);const v=he();Ms(v,r,g.layoutBox),jv(x,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function hN(e){ws&&On.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pN(e){e.clearSnapshot()}function bp(e){e.clearMeasurements()}function mN(e){e.isLayoutDirty=!1}function gN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function kp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function yN(e){e.resolveTargetDelta()}function vN(e){e.calcProjection()}function xN(e){e.resetSkewAndRotation()}function wN(e){e.removeLeadSnapshot()}function _p(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Sp(e,t,n,r){e.min=oe(t.min,n.min,r),e.max=oe(t.max,n.max,r)}function bN(e,t,n,r){Sp(e.x,t.x,n.x,r),Sp(e.y,t.y,n.y,r)}function kN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _N={duration:.45,ease:[.4,0,.1,1]},jp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ep=jp("applewebkit/")&&!jp("chrome/")?Math.round:Je;function Cp(e){e.min=Ep(e.min),e.max=Ep(e.max)}function SN(e){Cp(e.x),Cp(e.y)}function Nv(e,t,n){return e==="position"||e==="preserve-aspect"&&!CC(vp(t),vp(n),.2)}function jN(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const EN=Cv({attachResizeListener:(e,t)=>ci(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_l={current:void 0},Tv=Cv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_l.current){const e=new EN({});e.mount(window),e.setOptions({layoutScroll:!0}),_l.current=e}return _l.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),CN={pan:{Feature:BC},drag:{Feature:zC,ProjectionNode:Tv,MeasureLayout:bv}};function Np(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ne.postRender(()=>i(t,ji(t)))}class NN extends En{mount(){const{current:t}=this.node;t&&(this.unmount=Nj(t,n=>(Np(this.node,n,"Start"),r=>Np(this.node,r,"End"))))}unmount(){}}class TN extends En{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(ci(this.node.current,"focus",()=>this.onFocus()),ci(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tp(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ne.postRender(()=>i(t,ji(t)))}class PN extends En{mount(){const{current:t}=this.node;t&&(this.unmount=Rj(t,n=>(Tp(this.node,n,"Start"),(r,{success:s})=>Tp(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bc=new WeakMap,Sl=new WeakMap,AN=e=>{const t=Bc.get(e.target);t&&t(e)},RN=e=>{e.forEach(AN)};function IN({root:e,...t}){const n=e||document;Sl.has(n)||Sl.set(n,{});const r=Sl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(RN,{root:e,...t})),r[s]}function ON(e,t,n){const r=IN(t);return Bc.set(e,n),r.observe(e),()=>{Bc.delete(e),r.unobserve(e)}}const MN={some:0,all:1};class LN extends En{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:MN[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return ON(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(DN(t,n))&&this.startObserver()}unmount(){}}function DN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const FN={inView:{Feature:LN},tap:{Feature:PN},focus:{Feature:TN},hover:{Feature:NN}},$N={layout:{ProjectionNode:Tv,MeasureLayout:bv}},Gc={current:null},Pv={current:!1};function VN(){if(Pv.current=!0,!!rd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gc.current=e.matches;e.addListener(t),t()}else Gc.current=!1}const UN=[...tv,Te,bn],zN=e=>UN.find(ev(e)),Pp=new WeakMap;function BN(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Re(s))e.addValue(r,s);else if(Re(i))e.addValue(r,ai(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,ai(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Ap=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GN{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ct.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ne.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ca(n),this.isVariantNode=cy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const x=f[g];l[g]!==void 0&&Re(x)&&x.set(l[g],!1)}}mount(t){this.current=t,Pp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Pv.current||VN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Pp.delete(this.current),this.projection&&this.projection.unmount(),wn(this.notifyUpdate),wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=tr.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ne.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gr){const n=Gr[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):he()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ap.length;r++){const s=Ap[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=BN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ai(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Xy(s)||By(s))?s=parseFloat(s):!zN(s)&&bn.test(n)&&(s=Yy(t,n)),this.setBaseTarget(t,Re(s)?s.get():s)),Re(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=ud(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Re(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Sd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Av extends GN{constructor(){super(...arguments),this.KeyframeResolver=nv}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Re(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function HN(e){return window.getComputedStyle(e)}class WN extends Av{constructor(){super(...arguments),this.type="html",this.renderInstance=vy}readValueFromInstance(t,n){if(tr.has(n)){const r=Td(n);return r&&r.default||0}else{const r=HN(t),s=(my(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return xv(t,n)}build(t,n,r){fd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return yd(t,n,r)}}class KN extends Av{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=he}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(tr.has(n)){const r=Td(n);return r&&r.default||0}return n=xy.has(n)?n:ad(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return ky(t,n,r)}build(t,n,r){pd(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){wy(t,n,r,s)}mount(t){this.isSVGTag=gd(t.tagName),super.mount(t)}}const qN=(e,t)=>cd(e)?new KN(t):new WN(t,{allowProjection:e!==_.Fragment}),YN=bj({...vC,...FN,...CN,...$N},qN),D=LS(YN),Pa=jn()(ga(e=>({theme:"system",language:"pt",setTheme:t=>e({theme:t}),setLanguage:t=>e({language:t})}),{name:"settings"})),JN={en:{common:{search:"Search for recipes...",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",profile:"Profile",darkMode:"Dark Mode",language:"Language",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",settings:"Settings",createaccount:"Create Account",dontHaveAccount:"Don't have an account? ",alreadyHaveAccount:"Already have an account? ",theme:{light:"Light",dark:"Dark",system:"System"}},buttons:{BackToRecipes:"Back to Recipes",My_recipes:"My recipes",Favorites:"Favorites",Nutrition_goal:"Nutrition Goals"},filters:{advanced:"Advanced Filters",minRating:"Minimum Rating",clearAll:"Clear All Filters",prepTime:{quick:"Quick (≤15 min)",medium:"Medium (≤30 min)",long:"Long (>30 min)"}},home:{title:"Discover Healthy Recipes",subtitle:"Find and share nutritious recipes that match your dietary preferences.",createRecipe:"Create Recipe",noRecipes:"No recipes found. Try adjusting your filters, or log in to see the recipes."},profile:{myRecipes:"My Recipes",favorites:"Favorites",nutritionGoals:"Nutrition Goals",settings:"Settings",noRecipesYet:"You haven't published any recipes yet.",noFavorites:"You haven't saved any recipes as favorites yet.",statistics:"Statistics",publishedRecipes:"Published Recipes",totalReviews:"Total Reviews",averageRating:"Average Rating",experience:"Experience",healthGoals:"Health Goals",dietaryPreferences:"Dietary Preferences",allergies:"Allergies",dailyGoals:"Daily Goals",recentFavorites:"Recent Favorites",personalInfo:"Personal Information",accountType:"Account Type",email:"Email",name:"Name",password:"Password",nutricionist:"Nutricionist",client:"Client",saveGoals:"Save goals",nutritionGoalsnames:{calories:"Calories",protein:"Protein",carbs:"Carbs",fat:"Fat",fiber:"Fiber"}},categories:{all:"All",vegan:"Vegan",lowCarb:"Low Carb",highProtein:"High Protein",glutenFree:"Gluten Free",vegetarian:"Vegetarian"},recipe:{recipeTitle:"Title",recipeImageURL:"Image URL",recipeDescription:"Description",prepTime:"Preparation Time",difficulty:"Difficulty",recipeCategory:"Category",ingredients:"Ingredients",instructions:"Instructions",nutritionFacts:"Nutrition Facts (Per Serving)",reviews:"Reviews",writeReview:"Write your review...",submitReview:"Submit Review",signInToReview:"Please sign in to leave a review.",addIngredient:"Add Ingredient",addStep:"Add Step",step:"Step",Step:"Step",example:'"2 cups flour"',perServing:"per serving",deleteConfirm:"Are you sure you want to delete this recipe?",share:"Share Recipe",edit:"Edit Recipe",delete:"Delete Recipe",difficultyLevels:{easy:"Easy",medium:"Medium",hard:"Hard"},CreateNewRecipe:"Create new recipe",CreateRecipe:"Create recipe",rating:"Rating",noReviews:"No reviews"}},pt:{common:{search:"Buscar receitas...",signIn:"Entrar",signUp:"Cadastrar",signOut:"Sair",profile:"Perfil",darkMode:"Modo Escuro",language:"Idioma",loading:"Carregando...",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",back:"Voltar",settings:"Configurações",createaccount:"Criar conta",dontHaveAccount:"Não tem uma conta? ",alreadyHaveAccount:"Já tem uma conta? ",theme:{light:"Claro",dark:"Escuro",system:"Sistema"}},buttons:{BackToRecipes:"Voltar para as receitas",My_recipes:"Minhas receitas",Favorites:"Favoritos",Nutrition_goal:"Metas Nutricionais"},filters:{advanced:"Filtros Avançados",minRating:"Avaliação Mínima",clearAll:"Limpar Todos os Filtros",prepTime:{quick:"Rápido (≤15 min)",medium:"Médio (≤30 min)",long:"Longo (>30 min)"}},home:{title:"Descubra Receitas Saudáveis",subtitle:"Encontre e compartilhe receitas nutritivas que combinam com suas preferências alimentares.",createRecipe:"Criar Receita",noRecipes:"Nenhuma receita encontrada. Tente ajustar seus filtros ou faça login para ver as receitas."},profile:{myRecipes:"Minhas Receitas",favorites:"Favoritos",nutritionGoals:"Metas Nutricionais",settings:"Configurações",noRecipesYet:"Você ainda não publicou nenhuma receita.",noFavorites:"Você ainda não salvou nenhuma receita como favorita.",statistics:"Estatísticas",publishedRecipes:"Receitas Publicadas",totalReviews:"Total de Avaliações",averageRating:"Avaliação Média",experience:"Experiência",healthGoals:"Objetivos de Saúde",dietaryPreferences:"Preferências Alimentares",allergies:"Alergias",dailyGoals:"Metas Diárias",recentFavorites:"Favoritos Recentes",personalInfo:"Informações Pessoais",accountType:"Tipo de Conta",email:"Email",name:"Nome completo",password:"Senha",nutricionist:"Nutricionista",client:"Cliente",saveGoals:"Salvar metas",nutritionGoalsnames:{calories:"Calorias",protein:"Proteína",carbs:"Carboidratos",fat:"Gordura",fiber:"Fibra"}},categories:{all:"Todas",vegan:"Vegana",lowCarb:"Baixo Carboidrato",highProtein:"Rica em Proteína",glutenFree:"Sem Glúten",vegetarian:"Vegetariana"},recipe:{recipeTitle:"Titulo",recipeImageURL:"URL da imagem",recipeDescription:"Descrição",prepTime:"Tempo de Preparo",difficulty:"Dificuldade",recipeCategory:"Categoria",ingredients:"Ingredientes",addIngredient:"Adicionar Ingrediente",instructions:"Modo de Preparo",addStep:"Adicionar Passo",step:"Passo a passo",Step:"Passo",example:"Exemplo: 2 xícaras de açucar",nutritionFacts:"Informação Nutricional (Por porção)",reviews:"Avaliações",writeReview:"Escreva sua avaliação...",submitReview:"Enviar Avaliação",signInToReview:"Faça login para deixar uma avaliação.",perServing:"por porção",deleteConfirm:"Tem certeza que deseja excluir esta receita?",share:"Compartilhar Receita",edit:"Editar Receita",delete:"Excluir Receita",difficultyLevels:{easy:"Fácil",medium:"Médio",hard:"Difícil"},CreateNewRecipe:"Criar nova receita",CreateRecipe:"Criar receita",rating:"Avalie essa receita",noReviews:"Sem Avaliações"}}};function je(){const{language:e}=Pa();return JN[e]}function QN({isOpen:e,onClose:t}){const[n,r]=_.useState(""),[s,i]=_.useState(!1),[o,a]=_.useState("email"),[l,u]=_.useState("");if(je(),!e)return null;const d=x=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x),h=async x=>{x.preventDefault();const v=n.toLowerCase().trim();if(!v){u("Por favor, digite seu email.");return}if(!d(v)){u("Por favor, digite um email válido.");return}i(!0),u("");try{if(console.log("Starting password reset process for:",v),!await gS(v)){u("Email não encontrado. Verifique se o email está correto ou crie uma conta."),a("error");return}console.log("Email exists, sending reset email..."),await yS(v),console.log("Reset email sent successfully"),a("sent")}catch(w){console.error("Password reset error:",w);let m="Erro ao enviar email de recuperação. Tente novamente em alguns minutos.";w.message&&(m=w.message),u(m),a("error")}finally{i(!1)}},f=()=>{r(""),a("email"),u(""),i(!1),t()},g=()=>{a("email"),u(""),i(!1)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[c.jsx("button",{onClick:f,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:s,children:c.jsx(Xn,{className:"w-6 h-6"})}),o==="email"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(Nb,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Esqueci minha senha"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite seu email para receber o link de recuperação"})]})]}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:n,onChange:x=>r(x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"seu@email.com",required:!0,disabled:s,autoComplete:"email"})]}),l&&c.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),c.jsxs("button",{type:"submit",disabled:s||!n.trim(),className:Y("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",s||!n.trim()?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[s&&c.jsx(ei,{className:"w-4 h-4 animate-spin"}),s?"Verificando...":"Enviar link de recuperação"]})]}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:c.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Dica:"})," Verifique sua pasta de spam caso não receba o email em alguns minutos."]})})]}),o==="sent"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx(Bu,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Email enviado!"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Enviamos um link de recuperação para ",c.jsx("strong",{children:n}),". Verifique sua caixa de entrada e pasta de spam."]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Importante:"})," O link expira em 1 hora. Se não receber o email em alguns minutos, verifique sua pasta de spam ou tente novamente."]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:f,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Fechar"}),c.jsx("button",{onClick:g,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Enviar novamente"})]})]}),o==="error"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx(zu,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao enviar"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:g,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Tentar novamente"}),c.jsx("button",{onClick:f,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Fechar"})]})]})]})})}const Rp="authMode@NutriChefe";function XN({isOpen:e,onClose:t,initialMode:n="signin"}){const[r,s]=_.useState(n),[i,o]=_.useState(""),[a,l]=_.useState(""),[u,d]=_.useState(""),[h,f]=_.useState("Client"),[g,x]=_.useState(!1),[v,w]=_.useState(!1),m=je(),{signIn:p,signUp:y}=ke();_.useEffect(()=>{if(!e)return;let C=n;try{const S=localStorage.getItem(Rp);!n&&S&&(C=S)}catch{}s(C)},[e,n]),_.useEffect(()=>{try{localStorage.setItem(Rp,r)}catch{}},[r]);const b=r==="signup";if(!e)return null;const k=async C=>{C.preventDefault(),x(!0);try{r==="signin"?await p(i,a,u):await y(i,a,u,h),t()}catch(S){console.error("Auth error:",S)}finally{x(!1)}},E=()=>{w(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Xn,{className:"w-6 h-6"})}),c.jsx("h2",{className:"sr-only",children:b?m.common.createaccount:m.common.signIn}),c.jsxs("form",{onSubmit:k,className:"space-y-4",children:[b&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.name}),c.jsx("input",{type:"text",id:"name",name:"name",value:u,onChange:C=>d(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.accountType}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("button",{type:"button",onClick:()=>f("Client"),className:Y("px-4 py-2 rounded-lg border-2 transition-colors dark:bg-white dark:text-black",h==="Client"?"border-green-500 bg-green-50 dark:bg-green-50 text-green-700 dark:text-green-700":"border-gray-200 hover:border-green-200"),children:m.profile.client}),c.jsx("button",{type:"button",onClick:()=>f("Nutritionist"),className:Y("px-4 py-2 rounded-lg border-2 transition-colors dark:bg-white dark:text-black",h==="Nutritionist"?"border-green-500 bg-green-50 dark:bg-green-50 text-green-700 dark:text-green-700":"border-gray-200 hover:border-green-200"),children:m.profile.nutricionist})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:"Email"}),c.jsx("input",{type:"email",id:"email",name:"email",value:i,onChange:C=>o(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.password}),c.jsx("input",{type:"password",id:"password",name:"password",value:a,onChange:C=>l(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),r==="signin"&&c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"button",onClick:E,className:"text-sm text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 font-medium",children:"Esqueci minha senha"})}),c.jsx("button",{type:"submit",disabled:g,className:Y("w-full py-2 rounded-lg text-white font-medium transition-colors",g?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:g?m.common.loading:r==="signin"?m.common.signIn:m.common.signUp})]}),c.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-300",children:[r==="signin"?m.common.dontHaveAccount:m.common.alreadyHaveAccount,c.jsx("button",{type:"button",onClick:()=>s(r==="signin"?"signup":"signin"),className:"text-green-600 hover:text-green-700 font-medium ml-1",children:r==="signin"?m.common.signUp:m.common.signIn})]})]})}),c.jsx(QN,{isOpen:v,onClose:()=>w(!1)})]})}function Ip(){const{theme:e,setTheme:t}=Pa(),n=je(),r=[{id:"light",icon:Mb,label:n.common.theme.light},{id:"dark",icon:Pb,label:n.common.theme.dark}];return c.jsx("div",{className:"flex items-center gap-2",children:r.map(({id:s,icon:i,label:o})=>c.jsx("button",{onClick:()=>t(s),className:`p-2 rounded-lg transition-colors ${e===s?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,title:o,children:c.jsx(i,{className:"w-5 h-5"})},s))})}function Op(){const{language:e,setLanguage:t}=Pa(),[n,r]=_.useState(!1),s=[{value:"en",label:"English",flag:"🇺🇸"},{value:"pt",label:"Português",flag:"🇧🇷"}],i=s.find(o=>o.value===e);return c.jsxs("div",{className:"relative",children:[c.jsxs(D.button,{onClick:()=>r(!n),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jb,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),c.jsx("span",{className:"text-lg",children:i==null?void 0:i.flag}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 hidden sm:block",children:i==null?void 0:i.label})]}),c.jsx(D.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:c.jsx(_b,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),c.jsx(Xr,{children:n&&c.jsxs(c.Fragment,{children:[c.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>r(!1)}),c.jsx(D.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:s.map((o,a)=>c.jsxs(D.button,{onClick:()=>{t(o.value),r(!1)},className:`w-full px-4 py-3 text-left flex items-center gap-3 transition-colors ${e===o.value?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},whileHover:{x:4},children:[c.jsx("span",{className:"text-xl",children:o.flag}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:o.label}),e===o.value&&c.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Selecionado"})]}),e===o.value&&c.jsx(D.div,{className:"ml-auto w-2 h-2 bg-green-500 rounded-full",initial:{scale:0},animate:{scale:1},transition:{delay:.1}})]},o.value))})]})})]})}function ZN({onProfileClick:e,onAIMentoringClick:t}){const[n,r]=_.useState(!1),[s,i]=_.useState("signin"),[o,a]=_.useState(!1),{user:l,isAuthenticated:u,signOut:d,isNutritionist:h}=ke(),{hasFeatureAccess:f}=ry(),{searchQuery:g,setSearchQuery:x}=Zu(),v=je(),w=p=>{i(p),r(!0)},m=u&&(h()||f("ai_mentoring"));return c.jsxs(c.Fragment,{children:[c.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(D.h1,{className:"text-2xl font-bold text-green-600 dark:text-green-400 cursor-pointer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"NutriChef"})}),c.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-8",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:g,onChange:p=>x(p.target.value),placeholder:v.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),c.jsx(Kh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-200 dark:border-gray-600 pr-4 mr-4",children:[c.jsx(Ip,{}),c.jsx(Op,{})]}),u?c.jsxs(D.div,{className:"flex items-center space-x-4",initial:{opacity:0},animate:{opacity:1},children:[c.jsxs("button",{onClick:t,className:Y("flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors",m?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),title:m?"Mentoria IA":"Mentoria IA (Premium)",children:[c.jsx($n,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden lg:inline",children:"Mentoria IA"}),!m&&c.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:"Premium"})]}),c.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(ni,{className:"w-4 h-4"}),c.jsx("span",{children:l==null?void 0:l.name})]}),c.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsx(Wh,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.signOut})]})]}):c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(D.button,{onClick:()=>w("signin"),className:"px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.common.signIn}),c.jsx(D.button,{onClick:()=>w("signup"),className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.common.signUp})]})]}),c.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[c.jsx(Ip,{}),c.jsx(Op,{}),c.jsx("button",{onClick:()=>a(!o),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:c.jsx(Tb,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})]})]})}),c.jsx(Xr,{children:o&&c.jsx(D.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:c.jsxs("div",{className:"px-4 py-3 space-y-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:g,onChange:p=>x(p.target.value),placeholder:v.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),c.jsx(Kh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),u?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>{t(),a(!1)},className:Y("w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors",m?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),children:[c.jsx($n,{className:"w-4 h-4"}),c.jsx("span",{children:"Mentoria IA"}),!m&&c.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:"Premium"})]}),c.jsxs("button",{onClick:()=>{e(),a(!1)},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(ni,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.profile})]}),c.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsx(Wh,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.signOut})]})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>{w("signin"),a(!1)},className:"w-full px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:v.common.signIn}),c.jsx("button",{onClick:()=>{w("signup"),a(!1)},className:"w-full px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:v.common.signUp})]})]})})})]}),c.jsx(XN,{isOpen:n,onClose:()=>r(!1),initialMode:s})]})}const Gt=jn((e,t)=>({recipes:[],favoriteRecipes:[],loading:!1,error:null,clearUserData:()=>{console.log("Clearing user data from recipes store"),e({favoriteRecipes:[]})},initializeAuth:async()=>{const{user:n}=ke.getState();n&&await t().fetchFavorites(n.id)},fetchRecipes:async()=>{e({loading:!0,error:null});try{console.log("Fetching recipes from database...");const n=await cS();console.log("Recipes fetched successfully:",n.length),e({recipes:n,loading:!1});const{user:r}=ke.getState();r&&await t().fetchFavorites(r.id)}catch(n){console.error("Error fetching recipes:",n);const r=n instanceof Error?n.message:"Failed to fetch recipes";e({error:r,loading:!1}),G.getState().showToast("Erro ao carregar receitas","error")}},fetchFavorites:async n=>{try{console.log("Fetching favorites for user:",n);const r=await mS(n);console.log("Favorites fetched:",r),e({favoriteRecipes:r})}catch(r){console.error("Failed to fetch favorites:",r)}},addToFavorites:async n=>{const{user:r}=ke.getState();if(!r){G.getState().showToast("Faça login para favoritar receitas","error");return}try{console.log("Adding to favorites:",{userId:r.id,recipeId:n}),await fS(r.id,n),e(s=>({favoriteRecipes:[...s.favoriteRecipes,n]})),G.getState().showToast("Adicionado aos favoritos","success")}catch(s){console.error("Failed to add favorite:",s);const i=s instanceof Error?s.message:"Erro ao adicionar aos favoritos";G.getState().showToast(i,"error")}},removeFromFavorites:async n=>{const{user:r}=ke.getState();if(!r){G.getState().showToast("Faça login para gerenciar favoritos","error");return}try{console.log("Removing from favorites:",{userId:r.id,recipeId:n}),await pS(r.id,n),e(s=>({favoriteRecipes:s.favoriteRecipes.filter(i=>i!==n)})),G.getState().showToast("Removido dos favoritos","info")}catch(s){console.error("Failed to remove favorite:",s);const i=s instanceof Error?s.message:"Erro ao remover dos favoritos";G.getState().showToast(i,"error")}},addReview:async(n,r)=>{try{console.log("Adding review:",{recipeId:n,review:r}),await uS(n,{user_id:r.userId,rating:r.rating,comment:r.comment}),await t().fetchRecipes(),G.getState().showToast("Avaliação adicionada com sucesso!","success")}catch(s){console.error("Failed to add review:",s);const i=s instanceof Error?s.message:"Erro ao adicionar avaliação";throw G.getState().showToast(i,"error"),s}},updateReview:async(n,r)=>{try{console.log("Updating review:",{reviewId:n,updates:r}),await dS(n,r),await t().fetchRecipes(),G.getState().showToast("Avaliação atualizada com sucesso!","success")}catch(s){console.error("Failed to update review:",s);const i=s instanceof Error?s.message:"Erro ao atualizar avaliação";throw G.getState().showToast(i,"error"),s}},deleteReview:async n=>{try{console.log("Deleting review:",n),await hS(n),await t().fetchRecipes(),G.getState().showToast("Avaliação excluída com sucesso!","success")}catch(r){console.error("Failed to delete review:",r);const s=r instanceof Error?r.message:"Erro ao excluir avaliação";throw G.getState().showToast(s,"error"),r}},createRecipe:async n=>{e({loading:!0,error:null});try{console.log("Creating recipe:",n),await oS(n),await t().fetchRecipes(),G.getState().showToast("Receita criada com sucesso!","success")}catch(r){console.error("Failed to create recipe:",r);const s=r instanceof Error?r.message:"Failed to create recipe";throw e({error:s}),G.getState().showToast("Erro ao criar receita","error"),r}finally{e({loading:!1})}},updateRecipe:async n=>{e({loading:!0,error:null});try{console.log("Updating recipe:",n),await aS(n.id,n),await t().fetchRecipes(),G.getState().showToast("Receita atualizada com sucesso!","success")}catch(r){console.error("Failed to update recipe:",r);const s=r instanceof Error?r.message:"Failed to update recipe";throw e({error:s}),G.getState().showToast("Erro ao atualizar receita","error"),r}finally{e({loading:!1})}},deleteRecipe:async n=>{e({loading:!0,error:null});try{console.log("Deleting recipe:",n),await lS(n),e(r=>({recipes:r.recipes.filter(s=>s.id!==n),favoriteRecipes:r.favoriteRecipes.filter(s=>s!==n)})),G.getState().showToast("Receita excluída com sucesso!","success")}catch(r){console.error("Failed to delete recipe:",r);const s=r instanceof Error?r.message:"Failed to delete recipe";throw e({error:s}),G.getState().showToast("Erro ao excluir receita","error"),r}finally{e({loading:!1})}}}));function Hc({recipe:e,onClick:t}){const{favoriteRecipes:n,addToFavorites:r,removeFromFavorites:s}=Gt(),{isAuthenticated:i}=ke(),o=je(),l=o.recipe.difficultyLevels[e.difficulty]||e.difficulty,u=o.categories,h=(v=>{const w={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},m=v.toLowerCase().replace(/\s+/g,""),p=Object.keys(w).find(b=>b.toLowerCase().replace(/\s+/g,"")===m);return p?u[w[p]]:u[v]||v})(e.category),f=n.includes(e.id),g=async v=>{if(v.stopPropagation(),!!i)try{f?await s(e.id):await r(e.id)}catch(w){console.error("Error toggling favorite:",w)}},x=()=>e.rating===0||!e.rating?"Sem avaliações":e.rating.toFixed(1);return c.jsxs("div",{onClick:t,className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer flex flex-col h-full",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover",onError:v=>{const w=v.target;w.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop"}}),c.jsx("span",{className:"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:h}),i&&c.jsx("button",{onClick:g,className:Y("absolute top-4 left-4 p-2 rounded-full bg-white dark:bg-gray-800 shadow-md transition-colors",f?"text-red-500":"text-gray-400 hover:text-red-500"),children:c.jsx(Gu,{className:Y("w-5 h-5",f&&"fill-current")})})]}),c.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[c.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white line-clamp-2",children:e.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3 flex-grow",children:e.description}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mt-auto pt-4 border-t border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pa,{className:"w-4 h-4 flex-shrink-0"}),c.jsxs("span",{className:"whitespace-nowrap",children:[e.prepTime,"min"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yi,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:Y("capitalize whitespace-nowrap",e.difficulty==="easy"&&"text-green-500",e.difficulty==="medium"&&"text-yellow-500",e.difficulty==="hard"&&"text-red-500"),children:l})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(vi,{className:"w-4 h-4 fill-yellow-400 text-yellow-400 flex-shrink-0"}),c.jsx("span",{className:"whitespace-nowrap text-xs",children:x()})]})]})]})]})}function eT({categories:e,selectedCategory:t,onSelectCategory:n}){const s=je().categories;return c.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(i=>{const o=s[i]||i;return c.jsx("button",{onClick:()=>n(i),className:Y("px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium transition-all duration-200 whitespace-nowrap",t===i?"bg-green-500 text-white shadow-md transform scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:scale-105"),children:o},i)})})}function tT(){const[e,t]=_.useState(!1),[n,r]=_.useState("right"),s=_.useRef(null),i=_.useRef(null),{difficulty:o,prepTimeRange:a,minRating:l,setDifficulty:u,setPrepTimeRange:d,setMinRating:h,resetFilters:f}=Zu(),g=je(),x=[{value:"quick",label:g.filters.prepTime.quick,max:15},{value:"medium",label:g.filters.prepTime.medium,max:30},{value:"long",label:g.filters.prepTime.long,max:null}],v=[{value:"easy",label:g.recipe.difficultyLevels.easy},{value:"medium",label:g.recipe.difficultyLevels.medium},{value:"hard",label:g.recipe.difficultyLevels.hard}],w=[{value:4,label:"4+ ⭐"},{value:4.5,label:"4.5+ ⭐"},{value:5,label:"5 ⭐"}],m=o||a||l;return _.useEffect(()=>{if(e&&s.current){const p=s.current.getBoundingClientRect(),y=window.innerWidth;p.right+320+16>y?r("left"):r("right")}},[e]),_.useEffect(()=>{function p(y){i.current&&!i.current.contains(y.target)&&s.current&&!s.current.contains(y.target)&&t(!1)}if(e)return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[e]),_.useEffect(()=>{function p(y){y.key==="Escape"&&t(!1)}if(e)return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e]),c.jsxs("div",{className:"relative",children:[c.jsxs(D.button,{ref:s,onClick:()=>t(!e),className:Y("flex items-center gap-2 px-3 sm:px-4 py-2 rounded-lg border transition-all duration-200 whitespace-nowrap text-sm font-medium",m?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-700 dark:text-green-400":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx(Sb,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"hidden sm:inline",children:g.filters.advanced}),c.jsx("span",{className:"sm:hidden",children:"Filtros"}),m&&c.jsx(D.span,{initial:{scale:0},animate:{scale:1},className:"bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:[o,a,l].filter(Boolean).length})]}),c.jsx(Xr,{children:e&&c.jsxs(D.div,{ref:i,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:Y("absolute top-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-6 z-50 max-h-[80vh] overflow-y-auto","right-0",n==="left"&&"sm:right-0 sm:left-auto",n==="right"&&"sm:left-0 sm:right-auto","w-72 sm:w-80"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:g.filters.advanced}),c.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:c.jsx(Xn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(yi,{className:"w-4 h-4 flex-shrink-0"}),g.recipe.difficulty]}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:v.map(p=>c.jsx(D.button,{onClick:()=>u(o===p.value?null:p.value),className:Y("px-2 sm:px-3 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-center",o===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.02},whileTap:{scale:.98},children:p.label},p.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(pa,{className:"w-4 h-4 flex-shrink-0"}),g.recipe.prepTime]}),c.jsx("div",{className:"space-y-2",children:x.map(p=>c.jsx(D.button,{onClick:()=>d(a===p.value?null:p.value),className:Y("w-full px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-left",a===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(vi,{className:"w-4 h-4 flex-shrink-0"}),g.filters.minRating]}),c.jsx("div",{className:"space-y-2",children:w.map(p=>c.jsx(D.button,{onClick:()=>h(l===p.value?null:p.value),className:Y("w-full px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-left",l===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),m&&c.jsx(D.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>{f(),t(!1)},className:"w-full px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 text-sm font-medium",whileHover:{scale:1.01},whileTap:{scale:.99},children:g.filters.clearAll})]})]})})]})}function nT({recipe:e,isOpen:t,onClose:n}){const{updateRecipe:r}=Gt(),s=je(),[i,o]=_.useState(!1),[a,l]=_.useState(e);if(!t)return null;const u=async R=>{R.preventDefault(),o(!0);try{await r(a),n()}catch(P){console.error("Error updating recipe:",P)}finally{o(!1)}},d=(R,P,q)=>{l(se=>({...se,[R]:se[R].map((Fe,Ee)=>Ee===P?q:Fe)}))},h=R=>{l(P=>({...P,[R]:[...P[R],""]}))},f=(R,P)=>{l(q=>({...q,[R]:q[R].filter((se,Fe)=>Fe!==P)}))},g=(R,P)=>{const q=parseFloat(P)||0;l(se=>({...se,nutritionFacts:{...se.nutritionFacts,[R]:q}}))},x=s.recipe.edit||"Editar Receita",v=s.recipe.recipeTitle,w=s.recipe.recipeDescription,m=s.recipe.recipeImageURL,p=s.recipe.prepTime,y=s.recipe.difficulty,b=s.recipe.recipeCategory,k=s.recipe.ingredients,E=s.recipe.instructions,C=s.recipe.nutritionFacts,S=s.recipe.addIngredient,A=s.recipe.addStep,O=Object.keys(s.categories).map(R=>({value:R,label:s.categories[R]}));return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 text-black dark:text-gray-400 rounded-xl max-w-3xl w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[c.jsx("button",{onClick:n,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Xn,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:x}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:v}),c.jsx("input",{type:"text",value:a.title,onChange:R=>l(P=>({...P,title:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m}),c.jsx("input",{type:"url",value:a.image,onChange:R=>l(P=>({...P,image:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:w}),c.jsx("textarea",{value:a.description,onChange:R=>l(P=>({...P,description:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",rows:3,required:!0})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:p}),c.jsx("input",{type:"number",value:a.prepTime,onChange:R=>l(P=>({...P,prepTime:Number(R.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",min:"1",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:y}),c.jsxs("select",{value:a.difficulty,onChange:R=>l(P=>({...P,difficulty:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:[c.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),c.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),c.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:b}),c.jsx("select",{value:a.category,onChange:R=>l(P=>({...P,category:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:O.map(R=>c.jsx("option",{value:R.value,children:R.label},R.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:k}),a.ingredients.map((R,P)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:R,onChange:q=>d("ingredients",P,q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:s.recipe.example,required:!0}),c.jsx("button",{type:"button",onClick:()=>f("ingredients",P),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Vo,{className:"w-5 h-5"})})]},P)),c.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(ti,{className:"w-4 h-4"})," ",S]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:E}),a.instructions.map((R,P)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:R,onChange:q=>d("instructions",P,q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:`${s.recipe.Step} ${P+1}`,required:!0}),c.jsx("button",{type:"button",onClick:()=>f("instructions",P),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Vo,{className:"w-5 h-5"})})]},P)),c.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(ti,{className:"w-4 h-4"})," ",A]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2 dark:text-white",children:C}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(a.nutritionFacts).map(([R,P])=>{const q=R;return c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1 capitalize dark:text-white",children:s.profile.nutritionGoalsnames[q]}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:P,onChange:se=>g(R,se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.00",required:!0})]},R)})})]}),c.jsx("button",{type:"submit",disabled:i,className:Y("w-full py-3 rounded-lg text-white font-medium transition-colors",i?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:i?"Salvando...":"Salvar Alterações"})]})]})})}function rT({recipe:e,onClose:t}){const[n,r]=_.useState({rating:5,comment:""}),[s,i]=_.useState(null),[o,a]=_.useState(!1),{user:l,isAuthenticated:u}=ke(),{favoriteRecipes:d,addToFavorites:h,removeFromFavorites:f,addReview:g,updateReview:x,deleteReview:v,deleteRecipe:w}=Gt(),m=je(),y=m.recipe.difficultyLevels[e.difficulty]||e.difficulty,b=m.categories,E=(j=>{const T={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},M=j.toLowerCase().replace(/\s+/g,""),B=Object.keys(T).find(Ht=>Ht.toLowerCase().replace(/\s+/g,"")===M);return B?b[T[B]]:b[j]||j})(e.category),C=d.includes(e.id),S=(l==null?void 0:l.id)===e.authorId,A=async j=>{if(j.preventDefault(),!!l)try{await g(e.id,{userId:l.id,userName:l.name,rating:n.rating,comment:n.comment,date:new Date().toISOString().split("T")[0]}),r({rating:5,comment:""})}catch(T){console.error("Error adding review:",T)}},O=async j=>{if(j.preventDefault(),!!s)try{await x(s.id,{rating:s.rating,comment:s.comment}),i(null)}catch(T){console.error("Error updating review:",T)}},R=async j=>{if(window.confirm("Tem certeza que deseja excluir esta avaliação?"))try{await v(j)}catch(T){console.error("Error deleting review:",T)}},P=async()=>{window.confirm("Tem certeza que deseja excluir esta receita?")&&(await w(e.id),t())},q=j=>Number(j).toFixed(1),se=j=>new Date(j).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),Fe=()=>e.rating===0||!e.rating?"Sem avaliações":`${e.rating.toFixed(1)} (${e.reviews.length} ${e.reviews.length===1?"avaliação":"avaliações"})`,Ee=e.reviews.find(j=>j.userId===(l==null?void 0:l.id)),F=u&&!Ee;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto z-50",children:c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full p-6 relative text-gray-600 dark:text-white dark:bg-gray-800",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 text-2xl",children:"×"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-lg"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsxs("h4",{className:"font-medium mb-2 text-gray-900 dark:text-white flex items-center gap-2 text-sm",children:[c.jsx(ni,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),"Informações do Autor"]}),c.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nome:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.authorName||"Usuário"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tipo:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.authorType==="Nutritionist"?"Nutricionista":"Cliente"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[c.jsx(kb,{className:"w-3 h-3"}),"Postado em:"]}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:se(e.createdAt)})]})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),c.jsx("span",{className:"inline-block bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium mb-4",children:E})]}),c.jsxs("div",{className:"flex gap-2",children:[u&&c.jsx("button",{onClick:()=>C?f(e.id):h(e.id),className:Y("p-2 rounded-full",C?"text-red-500":"text-gray-400"),children:c.jsx(Gu,{className:Y("w-5 h-5",C&&"fill-current")})}),S&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>a(!0),className:"p-2 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors",title:"Editar receita",children:c.jsx(Ob,{className:"w-5 h-5"})}),c.jsx("button",{onClick:P,className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors",title:"Excluir receita",children:c.jsx(qh,{className:"w-5 h-5"})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4 dark:text-gray-300",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(pa,{className:"w-4 h-4"}),c.jsxs("span",{children:[e.prepTime,"min"]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(yi,{className:"w-4 h-4"}),c.jsx("span",{className:Y("capitalize",e.difficulty==="easy"&&"text-green-500",e.difficulty==="medium"&&"text-yellow-500",e.difficulty==="hard"&&"text-red-500"),children:y})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(vi,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),c.jsx("span",{children:Fe()})]})]}),c.jsx("p",{className:"text-gray-600 mb-4 dark:text-gray-300",children:e.description}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg mb-4",children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.nutritionFacts}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700 dark:text-gray-300",children:[c.jsxs("div",{children:[m.profile.nutritionGoalsnames.calories,": ",q(e.nutritionFacts.calories)," kcal"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.protein,": ",q(e.nutritionFacts.protein)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.carbs,": ",q(e.nutritionFacts.carbs)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.fat,": ",q(e.nutritionFacts.fat)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.fiber,": ",q(e.nutritionFacts.fiber)," g"]})]})]})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.ingredients}),c.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.ingredients.map((j,T)=>c.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:j},T))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.instructions}),c.jsx("ol",{className:"list-decimal list-inside space-y-2",children:e.instructions.map((j,T)=>c.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:j},T))})]})]}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:[m.recipe.reviews," (",e.reviews.length,")"]}),F&&c.jsxs("form",{onSubmit:A,className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-3 text-gray-900 dark:text-white",children:"Adicionar Avaliação"}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[m.recipe.rating,":"]}),[1,2,3,4,5].map(j=>c.jsx("button",{type:"button",onClick:()=>r(T=>({...T,rating:j})),className:Y("text-2xl transition-colors",j<=n.rating?"text-yellow-400":"text-gray-300"),children:"★"},j))]}),c.jsx("textarea",{value:n.comment,onChange:j=>r(T=>({...T,comment:j.target.value})),placeholder:m.recipe.writeReview,className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-black",rows:3,required:!0}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:m.recipe.submitReview})]}),s&&c.jsxs("form",{onSubmit:O,className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Editar Avaliação"}),c.jsx("button",{type:"button",onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:c.jsx(Xn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Avaliação:"}),[1,2,3,4,5].map(j=>c.jsx("button",{type:"button",onClick:()=>i(T=>T?{...T,rating:j}:null),className:Y("text-2xl transition-colors",j<=s.rating?"text-yellow-400":"text-gray-300"),children:"★"},j))]}),c.jsx("textarea",{value:s.comment,onChange:j=>i(T=>T?{...T,comment:j.target.value}:null),placeholder:"Escreva sua avaliação...",className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-black",rows:3,required:!0}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar Alterações"}),c.jsx("button",{type:"button",onClick:()=>i(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]}),!u&&c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:m.recipe.signInToReview}),c.jsx("div",{className:"space-y-4",children:e.reviews.length===0?c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m.recipe.noReviews||"Nenhuma avaliação ainda"}):e.reviews.map(j=>{const T=(l==null?void 0:l.id)===j.userId;return c.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.userName}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center",children:[...Array(5)].map((M,B)=>c.jsx("span",{className:Y("text-lg",B<j.rating?"text-yellow-400":"text-gray-300"),children:"★"},B))}),T&&c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>i({id:j.id,rating:j.rating,comment:j.comment}),className:"p-1 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Editar avaliação",children:c.jsx(Ab,{className:"w-3 h-3"})}),c.jsx("button",{onClick:()=>R(j.id),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Excluir avaliação",children:c.jsx(qh,{className:"w-3 h-3"})})]})]})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:j.comment}),c.jsx("span",{className:"text-sm text-gray-400",children:j.date})]},j.id)})})]})]})})}),o&&c.jsx(nT,{recipe:e,isOpen:o,onClose:()=>a(!1)})]})}function sT({isOpen:e,onClose:t}){var v,w;const{user:n}=ke(),{createRecipe:r}=Gt(),s=je(),[i,o]=_.useState(!1),[a,l]=_.useState({title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}});if(!e||!n)return null;const u=async m=>{if(m.preventDefault(),!n){console.error("User not authenticated");return}o(!0);try{console.log("Submitting recipe:",a),console.log("User ID:",n.id);const p={...a,authorId:n.id,rating:0,reviews:[]};await r(p),l({title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}}),t()}catch(p){console.error("Error creating recipe:",p)}finally{o(!1)}},d=(m,p,y)=>{l(b=>{var k;return{...b,[m]:(k=b[m])==null?void 0:k.map((E,C)=>C===p?y:E)}})},h=m=>{l(p=>({...p,[m]:[...p[m]||[],""]}))},f=(m,p)=>{l(y=>{var b;return{...y,[m]:(b=y[m])==null?void 0:b.filter((k,E)=>E!==p)}})},g=(m,p)=>{const y=parseFloat(p)||0;l(b=>({...b,nutritionFacts:{...b.nutritionFacts,[m]:y}}))},x=Object.keys(s.categories).filter(m=>m!=="all").map(m=>({value:m,label:s.categories[m]}));return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 text-black dark:text-gray-400 rounded-xl max-w-3xl w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Xn,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:s.recipe.CreateNewRecipe}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeTitle}),c.jsx("input",{type:"text",value:a.title,onChange:m=>l(p=>({...p,title:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeImageURL}),c.jsx("input",{type:"url",value:a.image,onChange:m=>l(p=>({...p,image:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"https://example.com/image.jpg",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeDescription}),c.jsx("textarea",{value:a.description,onChange:m=>l(p=>({...p,description:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",rows:3,required:!0})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:[s.recipe.prepTime," (minutos)"]}),c.jsx("input",{type:"number",value:a.prepTime,onChange:m=>l(p=>({...p,prepTime:Number(m.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",min:"1",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.difficulty}),c.jsxs("select",{value:a.difficulty,onChange:m=>l(p=>({...p,difficulty:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:[c.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),c.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),c.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeCategory}),c.jsx("select",{value:a.category,onChange:m=>l(p=>({...p,category:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:x.map(m=>c.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.ingredients}),(v=a.ingredients)==null?void 0:v.map((m,p)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:m,onChange:y=>d("ingredients",p,y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:s.recipe.example,required:!0}),a.ingredients.length>1&&c.jsx("button",{type:"button",onClick:()=>f("ingredients",p),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Vo,{className:"w-5 h-5"})})]},p)),c.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(ti,{className:"w-4 h-4"})," ",s.recipe.addIngredient]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.instructions}),(w=a.instructions)==null?void 0:w.map((m,p)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:m,onChange:y=>d("instructions",p,y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:`${s.recipe.Step} ${p+1}`,required:!0}),a.instructions.length>1&&c.jsx("button",{type:"button",onClick:()=>f("instructions",p),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Vo,{className:"w-5 h-5"})})]},p)),c.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(ti,{className:"w-4 h-4"})," ",s.recipe.addStep]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.nutritionFacts}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(a.nutritionFacts||{}).map(([m,p])=>{const y=m;return c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1 capitalize dark:text-white",children:s.profile.nutritionGoalsnames[y]}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:p,onChange:b=>g(m,b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.00",required:!0})]},m)})})]}),c.jsx("button",{type:"submit",disabled:i,className:Y("w-full py-3 rounded-lg text-white font-medium transition-colors",i?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:i?"Criando...":s.recipe.CreateRecipe})]})]})})}function iT(){const{user:e}=ke(),{recipes:t}=Gt();if(t.filter(n=>n.authorId===(e==null?void 0:e.id)),!e)return null}const oT={calories:2e3,protein:50,carbs:250,fat:70,fiber:25},Rv=jn()(ga(e=>({goals:oT,setGoals:t=>e(n=>({goals:{...n.goals,...Object.fromEntries(Object.entries(t).map(([r,s])=>[r,Number(s)]))}}))}),{name:"nutrition-goals"}));function aT(){const{goals:e,setGoals:t}=Rv(),[n,r]=_.useState(e),s=je(),i=s.profile.saveGoals,o=s.profile.dailyGoals,a=s.profile.nutritionGoalsnames,l=d=>{d.preventDefault(),t(n)},u=(d,h)=>{const f=parseFloat(h)||0;r(g=>({...g,[d]:f}))};return c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:o}),Object.entries(n).map(([d,h])=>c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1 capitalize",children:[a[d]," ",d==="calories"?"(kcal)":"(g)"]}),c.jsx("input",{type:"number",step:"0.1",min:"0",value:h,onChange:f=>u(d,f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.0",required:!0})]},d)),c.jsx("button",{type:"submit",className:"w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:i})]})}function jl({active:e,onClick:t,children:n}){return c.jsx("button",{onClick:t,className:`px-4 py-2 font-medium rounded-lg transition-colors ${e?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"}`,children:n})}function lT(){const[e,t]=Qc.useState("recipes"),{user:n}=ke(),{recipes:r,favoriteRecipes:s}=Gt(),i=r.filter(h=>h.authorId===(n==null?void 0:n.id)),o=r.filter(h=>s.includes(h.id)),a=je(),l=a.buttons.My_recipes,u=a.buttons.Favorites,d=a.buttons.Nutrition_goal;return c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"flex gap-2 mb-6",children:[(n==null?void 0:n.type)==="Nutritionist"&&c.jsx(jl,{active:e==="recipes",onClick:()=>t("recipes"),children:l}),c.jsx(jl,{active:e==="favorites",onClick:()=>t("favorites"),children:u}),c.jsx(jl,{active:e==="nutrition",onClick:()=>t("nutrition"),children:d})]}),c.jsxs("div",{className:"mt-6",children:[e==="recipes"&&(n==null?void 0:n.type)==="Nutritionist"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(h=>c.jsx(Hc,{recipe:h,onClick:()=>{}},h.id)),i.length===0&&c.jsx("p",{className:"text-gray-500 col-span-full text-center py-8",children:a.profile.noRecipesYet})]}),e==="favorites"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.map(h=>c.jsx(Hc,{recipe:h,onClick:()=>{}},h.id)),o.length===0&&c.jsx("p",{className:"text-gray-500 col-span-full text-center py-8",children:a.profile.noFavorites})]}),e==="nutrition"&&c.jsx("div",{className:"max-w-md mx-auto",children:c.jsx(aT,{})})]})]})}function cT(){var d;const{user:e}=ke(),{recipes:t,favoriteRecipes:n}=Gt(),{goals:r}=Rv(),s=je();if(!e||e.type!=="Client")return null;const i=e.profile||{},o=t.filter(h=>n.includes(h.id)),a=o.length,l=o.reduce((h,f)=>h+f.nutritionFacts.calories,0)/(a||1),u=o.reduce((h,f)=>h+f.prepTime,0)/(a||1);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:s.profile.personalInfo}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.name}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.email}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.accountType}),c.jsx("p",{className:"font-medium capitalize text-gray-900 dark:text-white",children:s.profile.client})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Gu,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.favorites})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:a})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(vb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.nutritionGoalsnames.calories})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:l.toFixed(0)})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(pa,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.recipe.prepTime})]}),c.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[u.toFixed(0),"min"]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Lb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.healthGoals})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:((d=i.healthGoals)==null?void 0:d.length)||0})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:s.profile.dailyGoals}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(r).map(([h,f])=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:h})]},h))})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:s.profile.recentFavorites}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.slice(0,3).map(h=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("img",{src:h.image,alt:h.title,className:"w-16 h-16 object-cover rounded-lg"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:h.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.category}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{children:["★ ",h.rating.toFixed(1)]}),c.jsx("span",{children:"•"}),c.jsxs("span",{children:[h.prepTime,"min"]})]})]})]},h.id))})]})]})}function uT(){const{user:e}=ke(),{recipes:t}=Gt(),n=je();if(!e||e.type!=="Nutritionist")return null;const r=e.profile||{},s=t.filter(a=>a.authorId===e.id),i=s.reduce((a,l)=>a+l.reviews.length,0),o=s.reduce((a,l)=>a+l.rating,0)/s.length||0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:n.profile.personalInfo}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.profile.name}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.profile.email}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.profile.accountType}),c.jsx("p",{className:"font-medium capitalize text-gray-900 dark:text-white",children:n.profile.nutricionist})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(bb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.publishedRecipes})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:s.length})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Fb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.totalReviews})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:i})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Db,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.averageRating})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:o.toFixed(1)})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(wb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.experience})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:r.experience||"N/A"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:n.profile.myRecipes}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(-3).map(a=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("img",{src:a.image,alt:a.title,className:"w-16 h-16 object-cover rounded-lg"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.title}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{children:["★ ",a.rating.toFixed(1)]}),c.jsx("span",{children:"•"}),c.jsxs("span",{children:[a.reviews.length," ",n.recipe.reviews]})]})]})]},a.id))})]})]})}function dT({onBackToRecipes:e}){const{user:t}=ke(),r=je().buttons.BackToRecipes;return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 group",children:[c.jsx(v0,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),r]}),c.jsxs("div",{className:"space-y-8",children:[c.jsx(iT,{}),(t==null?void 0:t.type)==="Client"?c.jsx(cT,{}):c.jsx(uT,{}),c.jsx(lT,{})]})]})}function hT(){const[e,t]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(!1),[o,a]=_.useState(!1),[l,u]=_.useState(!1),[d,h]=_.useState(!0),[f,g]=_.useState("idle"),[x,v]=_.useState(""),[w,m]=_.useState(!1);_.useEffect(()=>{(async()=>{try{console.log("Checking recovery token..."),(await xS()).valid?(console.log("Valid recovery token found"),m(!0)):(g("error"),v("Link de recuperação inválido ou expirado. Solicite um novo link."),m(!1))}catch(A){console.error("Token validation error:",A),g("error"),v("Erro ao validar link de recuperação. Tente novamente."),m(!1)}finally{h(!1)}})()},[]);const p=S=>{const A=[];return S.length<6&&A.push("A senha deve ter pelo menos 6 caracteres"),/(?=.*[a-z])/.test(S)||A.push("A senha deve conter pelo menos uma letra minúscula"),/(?=.*[A-Z])/.test(S)||A.push("A senha deve conter pelo menos uma letra maiúscula"),/(?=.*\d)/.test(S)||A.push("A senha deve conter pelo menos um número"),A},y=async S=>{S.preventDefault(),u(!0),v("");const A=p(e);if(A.length>0){v(A[0]),u(!1);return}if(e!==n){v("As senhas não coincidem"),u(!1);return}try{console.log("Updating password..."),await vS(e),console.log("Password updated successfully"),g("success"),setTimeout(async()=>{await V.auth.signOut(),setTimeout(()=>{window.location.href="/"},3e3)},1e3)}catch(O){console.error("Password reset error:",O),v(O.message||"Erro inesperado. Tente novamente."),g("error")}finally{u(!1)}},k=(S=>{let A=0;return S.length>=6&&A++,S.match(/[a-z]/)&&A++,S.match(/[A-Z]/)&&A++,S.match(/[0-9]/)&&A++,S.match(/[^a-zA-Z0-9]/)&&A++,A})(e),E=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"],C=["Muito fraca","Fraca","Regular","Boa","Forte"];return d?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx(ei,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-green-600"}),c.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Verificando link de recuperação..."}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto validamos seu link de recuperação."})]})}):f==="success"?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:c.jsx(Bu,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Senha redefinida com sucesso!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua senha foi alterada com sucesso. Você será redirecionado para a página de login em alguns segundos."}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:c.jsx(D.div,{className:"bg-green-600 h-2 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:3}})}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Ir para login agora"})]})}):f==="error"||!w?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:c.jsx(zu,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Link inválido ou expirado"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:x||"Este link de recuperação é inválido ou expirou. Solicite um novo link de recuperação."}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Voltar ao login"})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(Cb,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Nova senha"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite sua nova senha segura"})]})]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Ib,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Dicas para uma senha segura:"}),c.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[c.jsx("li",{children:"• Pelo menos 6 caracteres"}),c.jsx("li",{children:"• Combine letras maiúsculas e minúsculas"}),c.jsx("li",{children:"• Inclua números e símbolos"}),c.jsx("li",{children:"• Evite informações pessoais"})]})]})]})}),c.jsxs("form",{onSubmit:y,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:s?"text":"password",id:"password",value:e,onChange:S=>t(S.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite sua nova senha",required:!0,disabled:l}),c.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:s?c.jsx(Gh,{className:"w-5 h-5"}):c.jsx(Hh,{className:"w-5 h-5"})})]}),e&&c.jsx("div",{className:"mt-2",children:c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:Y("h-2 rounded-full transition-all duration-300",E[Math.max(0,k-1)]),style:{width:`${k/5*100}%`}})}),c.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:C[Math.max(0,k-1)]})]})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:o?"text":"password",id:"confirmPassword",value:n,onChange:S=>r(S.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirme sua nova senha",required:!0,disabled:l}),c.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:o?c.jsx(Gh,{className:"w-5 h-5"}):c.jsx(Hh,{className:"w-5 h-5"})})]}),n&&e!==n&&c.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"As senhas não coincidem"})]}),x&&c.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:x})}),c.jsxs("button",{type:"submit",disabled:l||e!==n||k<3,className:Y("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",l||e!==n||k<3?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[l&&c.jsx(ei,{className:"w-4 h-4 animate-spin"}),l?"Redefinindo...":"Redefinir senha"]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium",disabled:l,children:"Voltar ao login"})})]})})}var Mp;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Mp||(Mp={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lp;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Lp||(Lp={}));var Dp;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Dp||(Dp={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=["user","model","function","system"];var Jo;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Jo||(Jo={}));var Qo;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Qo||(Qo={}));var $p;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})($p||($p={}));var Vp;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Vp||(Vp={}));var Ls;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Ls||(Ls={}));var Up;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Up||(Up={}));var zp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(zp||(zp={}));var Bp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Bp||(Bp={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class or extends Ae{constructor(t,n){super(t),this.response=n}}class Iv extends Ae{constructor(t,n,r,s){super(t),this.status=n,this.statusText=r,this.errorDetails=s}}class yn extends Ae{}class Ov extends Ae{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="https://generativelanguage.googleapis.com",pT="v1beta",mT="0.24.1",gT="genai-js";var Yn;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Yn||(Yn={}));class yT{constructor(t,n,r,s,i){this.model=t,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||pT;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||fT}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function vT(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${gT}/${mT}`),t.join(" ")}async function xT(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",vT(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new yn(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new yn(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new yn(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function wT(e,t,n,r,s,i){const o=new yT(e,t,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},ST(i)),{method:"POST",headers:await xT(o),body:s})}}async function Ei(e,t,n,r,s,i={},o=fetch){const{url:a,fetchOptions:l}=await wT(e,t,n,r,s,i);return bT(a,l,o)}async function bT(e,t,n=fetch){let r;try{r=await n(e,t)}catch(s){kT(s,e)}return r.ok||await _T(r,e),r}function kT(e,t){let n=e;throw n.name==="AbortError"?(n=new Ov(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof Iv||e instanceof yn||(n=new Ae(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function _T(e,t){let n="",r;try{const s=await e.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new Iv(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function ST(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),mo(e.candidates[0]))throw new or(`${nn(e)}`,e);return jT(e)}else if(e.promptFeedback)throw new or(`Text not available. ${nn(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),mo(e.candidates[0]))throw new or(`${nn(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Gp(e)[0]}else if(e.promptFeedback)throw new or(`Function call not available. ${nn(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),mo(e.candidates[0]))throw new or(`${nn(e)}`,e);return Gp(e)}else if(e.promptFeedback)throw new or(`Function call not available. ${nn(e)}`,e)},e}function jT(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Gp(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const ET=[Ls.RECITATION,Ls.SAFETY,Ls.LANGUAGE];function mo(e){return!!e.finishReason&&ET.includes(e.finishReason)}function nn(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];mo(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function ui(e){return this instanceof ui?(this.v=e,this):new ui(e)}function CT(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(g){return new Promise(function(x,v){i.push([f,g,x,v])>1||a(f,g)})})}function a(f,g){try{l(r[f](g))}catch(x){h(i[0][3],x)}}function l(f){f.value instanceof ui?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,g){f(g),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function NT(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=AT(t),[r,s]=n.tee();return{stream:PT(r),response:TT(s)}}async function TT(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Od(RT(t));t.push(s)}}function PT(e){return CT(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield ui(n.read());if(s)break;yield yield ui(Od(r))}})}function AT(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new Ae("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(Hp),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new Ae(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(Hp)}return i()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new Ov("Request aborted when reading from the stream"):a=new Ae("Error reading from the stream"),a})}}})}function RT(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mv(e,t,n,r){const s=await Ei(t,Yn.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return NT(s)}async function Lv(e,t,n,r){const i=await(await Ei(t,Yn.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:Od(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function di(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return IT(t)}function IT(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),s=!0):(t.parts.push(i),r=!0);if(r&&s)throw new Ae("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new Ae("No content is provided for sending chat message.");return r?t:n}function OT(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new yn("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(s)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const i=di(e);r.contents=[i]}return{generateContentRequest:r}}function Wp(e){let t;return e.contents?t=e:t={contents:[di(e)]},e.systemInstruction&&(t.systemInstruction=Dv(e.systemInstruction)),t}function MT(e){return typeof e=="string"||Array.isArray(e)?{content:di(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],LT={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function DT(e){let t=!1;for(const n of e){const{role:r,parts:s}=n;if(!t&&r!=="user")throw new Ae(`First content should be with role 'user', got ${r}`);if(!Fp.includes(r))throw new Ae(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Fp)}`);if(!Array.isArray(s))throw new Ae("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Ae("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const l of Kp)l in a&&(i[l]+=1);const o=LT[r];for(const a of Kp)if(!o.includes(a)&&i[a]>0)throw new Ae(`Content with role '${r}' can't contain '${a}' part`);t=!0}}function qp(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="SILENT_ERROR";class FT{constructor(t,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(DT(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=di(t),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>Lv(this._apiKey,this.model,d,h)).then(g=>{var x;if(qp(g.response)){this._history.push(u);const v=Object.assign({parts:[],role:"model"},(x=g.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(v)}else{const v=nn(g.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}f=g}).catch(g=>{throw this._sendPromise=Promise.resolve(),g}),await this._sendPromise,f}async sendMessageStream(t,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=di(t),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n),f=Mv(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(g=>{throw new Error(Yp)}).then(g=>g.response).then(g=>{if(qp(g)){this._history.push(u);const x=Object.assign({},g.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=nn(g);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(g=>{g.message!==Yp&&console.error(g)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(e,t,n,r){return(await Ei(t,Yn.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(e,t,n,r){return(await Ei(t,Yn.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function UT(e,t,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await Ei(t,Yn.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Dv(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const s=Wp(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Lv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(t,n={}){var r;const s=Wp(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Mv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(t){var n;return new FT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=OT(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return $T(this.apiKey,this.model,r,s)}async embedContent(t,n={}){const r=MT(t),s=Object.assign(Object.assign({},this._requestOptions),n);return VT(this.apiKey,this.model,r,s)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return UT(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Ae("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Jp(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new yn("Cached content must contain a `name` field.");if(!t.model)throw new yn("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&t[o]&&(n==null?void 0:n[o])!==t[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(a===l)continue}throw new yn(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Jp(this.apiKey,i,r)}}const BT="gemini-2.5-flash",GT=10,Fv="AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",HT=new zT(Fv);async function Qp(e,t,n=[]){var r;try{const s=WT(t),i=KT(n,t),u=(await HT.getGenerativeModel({model:BT,systemInstruction:{role:"system",parts:[{text:s}]},safetySettings:[{category:Jo.HARM_CATEGORY_HARASSMENT,threshold:Qo.BLOCK_MEDIUM_AND_ABOVE},{category:Jo.HARM_CATEGORY_HATE_SPEECH,threshold:Qo.BLOCK_MEDIUM_AND_ABOVE}]}).startChat({history:i}).sendMessage(e)).response;return{content:(((r=u==null?void 0:u.text)==null?void 0:r.call(u))||"").trim()||"Oi! Como posso te ajudar hoje? Posso sugerir receitas por dificuldade (easy/medium/hard), tempo (ex.: até 30 min) e avaliação (ex.: 4.5+ ⭐)."}}catch(s){console.error("Erro ao chamar a API do Gemini:",s);let i="Desculpe, ocorreu um erro ao tentar processar sua solicitação. Tente novamente em alguns instantes.";return s instanceof Error&&(s.message.includes("API_KEY")?i="Erro de configuração da IA. Entre em contato com o suporte.":s.message.includes("quota")?i="Limite de uso da IA atingido. Tente novamente mais tarde.":(s.message.includes("network")||s.message.includes("fetch"))&&(i="Erro de conexão. Verifique sua internet e tente novamente.")),{content:i,error:s instanceof Error?s.message:"Unknown error"}}}function WT(e){return`
Você é NutriBot, um assistente virtual geral do site NutriChefe.

Papel:
- Responder a QUALQUER pergunta do usuário (receitas, nutrição, treino/alimentação, curiosidades ou até “que dia é hoje?”).
- Quando a pergunta envolver receitas (fácil/medium/hard, vegana etc.), o backend aplica filtros e envia os cards; você pode responder curto e encorajar refinamentos.
- Quando envolver metas nutricionais (emagrecimento, ganho de massa, definição etc.), ofereça recomendações práticas e seguras.

Estilo:
- Tom humano, acolhedor e objetivo. Sem texto robótico.
- Prefira listas curtas e exemplos práticos.
- Se algo estiver ambíguo, faça no máximo 1 pergunta curta para destravar.

Boas práticas para nutrição:
- Emagrecimento: foco em déficit calórico sustentável, proteínas, fibras, hidratação e movimento diário; evitar ultraprocessados e bebidas açucaradas.
- Ganho de massa: superávit leve, 1,6–2,2 g/kg/dia de proteína distribuída, carboidratos suficientes para treino, sono e consistência.
- Sempre adaptação à realidade do usuário; evite prescrições fechadas.

Regras:
1) Orientação educativa — para plano individual, recomende consultar nutricionista.
2) Não faça diagnóstico médico.
3) Responda em PT-BR por padrão.
4) Mapeie dificuldade: “fácil/fáceis”→easy, “médio/média”→medium, “difícil/difíceis”→hard (também em EN).
5) Se perguntarem a data/hora, use o contexto: hoje é ${new Intl.DateTimeFormat("pt-BR",{dateStyle:"full",timeStyle:"short",timeZone:"America/Sao_Paulo"}).format(new Date)} (America/Sao_Paulo).
  `.trim()}function KT(e,t){return e.slice(-GT).map(n=>({role:n.sender_type==="user"?"user":"model",parts:[{text:n.content}]}))}function qT(){return Fv!=="your-api-key-here"}const YT={easy:["fácil","facil","fáceis","faceis","facinha","facinho","facinhas","facinhos","simples","iniciante","tranquila","descomplicada","easy","simple","beginner","quick"],medium:["médio","medio","intermediário","intermediario","média","mediana","medium","average","intermediate","normal"],hard:["difícil","dificil","difíceis","dificeis","avançado","avancado","complexo","trabalhosa","desafiadora","hard","difficult","advanced","complex","challenging"]},$v=["Vegana","Baixo Carboidrato","Rica em Proteína","Sem Glúten","Vegetariana"],Vv={Vegana:["vegana","vegano","vegan"],"Baixo Carboidrato":["baixo carboidrato","low carb","pouco carbo","baixo carb","lowcarb"],"Rica em Proteína":["rica em proteína","muita proteina","alta proteína","alto teor proteico","proteica","proteinado","protein rich","high protein"],"Sem Glúten":["sem glúten","sem gluten","gluten free","sg","livre de glúten"],Vegetariana:["vegetariana","vegetariano","veggie","ovo-lacto","ovolacto","vegetarian"]},Xp={vegan:"Vegana",vegetarian:"Vegetariana","gluten-free":"Sem Glúten","gluten free":"Sem Glúten","low carb":"Baixo Carboidrato","low-carb":"Baixo Carboidrato","high protein":"Rica em Proteína","protein rich":"Rica em Proteína"},Zp=/(\d+(?:[.,]\d+)?)/,JT=new Set(["receita","receitas","quero","queria","gostaria","me","mostra","mostrar","mostre","traga","trazer","uma","umas","um","uns","de","do","da","no","na","em","pra","para","por","a","o","as","os","ai","ia","porfavor","por","favor"]);function QT(e){const t=e.replace(/-/g,"").slice(0,8);return parseInt(t,16)}function XT(e){return e==null?"":typeof e=="string"?e:String(e)}function vt(e){return XT(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim()}function Wc(e){return e==null||Number.isNaN(e)?0:Math.round(Number(e)*10)/10}function ZT(e){if(!(e!=null&&e.length))return 0;const t=e.reduce((n,r)=>n+(r.rating??0),0)/e.length;return Wc(t)}function e2(e){const t=(typeof e.rating=="number"?e.rating:ZT(e.reviews))||0;return{id:QT(e.id),title:e.title,description:e.description,author:e.author_name||"NutriChefe",rating:t}}function Uv(e){const t=vt(e).trim();if(Xp[t])return Xp[t];for(const n of $v)if(Vv[n].map(vt).some(s=>t===s||t.includes(s)||s.includes(t)))return n;return null}function t2(e){const t=vt(e);return t==="easy"||t==="medium"||t==="hard"?t:/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||t.includes("simples")?"easy":/\bmedi/.test(t)?"medium":/\bdific/.test(t)||/\bhard\b/.test(t)||/\bdifficult\b/.test(t)?"hard":"medium"}function n2(e){const t=e.match(/\b(top|s[oó]|somente|apenas|mostrar|mostra|traga|trazer)?\s*(\d{1,3})\b/);if(!t)return;const n=parseInt(t[2],10);if(!(!Number.isFinite(n)||n<=0))return Math.min(n,100)}function r2(e){if(/\b(nota|avalia|melhores|melhor|maior(es)? nota|rank|mais bem avaliadas?)\b/.test(e))return"rating";if(/\btempo|rapidez|mais r[aá]pidas?|r[aá]pido(s)? primeiro\b/.test(e))return"prepTime";if(/\bnovo(s)?|recent(es)?|mais recente(s)?\b/.test(e))return"newest"}function s2(e){const t=vt(e).split(/\s+/).filter(Boolean).filter(n=>!JT.has(n)).join(" ").trim();if(!(!t||t.length<=2))return t}function i2(e){const t=vt(e),n={};for(const o of $v)if(Vv[o].map(vt).some(l=>t.includes(l))){n.category=o;break}for(const[o,a]of Object.entries(YT))if(a.some(l=>t.includes(vt(l)))){n.difficulty=o;break}n.difficulty||(/\bfac(eis|il|inha|inho|inhas|inhos)?\b/.test(t)||/\beasy\b|\bsimple\b/.test(t)?n.difficulty="easy":/\bm[eé]di[oa]\b|\bmedium\b/.test(t)?n.difficulty="medium":/\bdific(?:eis|il)\b|\bhard\b|\bdifficult\b/.test(t)&&(n.difficulty="hard")),(/\br[aá]pid[oa]s?\b/.test(t)||/\b<=?\s*15\b/.test(t))&&(n.maxPrep=15),(/\bm[eé]di[oa]\b/.test(t)||/\b<=?\s*30\b/.test(t))&&(n.maxPrep=n.maxPrep??30),/\blongo?s?\b|\b>?\s*30\b/.test(t)&&(n.minPrep=31);const r=t.match(new RegExp(`\\b(em|ate|até|<=?)\\s*${Zp.source}\\s*(min|mins|minutos)\\b`));if(r){const o=parseFloat(r[2].replace(",","."));isNaN(o)||(n.maxPrep=Math.min(n.maxPrep??1/0,o))}const s=t.match(new RegExp(`${Zp.source}\\s*(\\+|mais)?\\s*(\\*|estrela|estrelas)?`));if(s){const o=parseFloat(s[1].replace(",","."));!isNaN(o)&&o>=0&&o<=5&&(/\+|mais/.test(s[2]||"")||/estrela|\*/.test(s[3]||""))&&(n.minRating=o)}/\b4\+\b/.test(t)&&(n.minRating=Math.max(n.minRating??0,4)),/\b4[.,]5\+\b/.test(t)&&(n.minRating=Math.max(n.minRating??0,4.5)),/\b5\s*(\*|estrelas?)?\b/.test(t)&&(n.minRating=5),/\btod[ao]s?\b|\bqualquer\b/.test(t)&&(n.wantAll=!0),n.limit=n2(t)??void 0,n.sort=r2(t)??void 0,n.hasStructuredFilter=!!(n.category||n.difficulty||n.maxPrep||n.minPrep||n.minRating);const i=s2(e);return!n.hasStructuredFilter&&i&&(n.plainSearch=i),n}async function o2(){const{data:e,error:t}=await V.from("recipes").select("id, title, description, image, prep_time, difficulty, category, rating, nutrition_facts, author_id, created_at, updated_at");if(t)throw t;const n=e||[];if(n.length===0)return[];const r=Array.from(new Set(n.map(u=>u.author_id).filter(Boolean)));let s={};if(r.length>0){const{data:u}=await V.from("profiles").select("id, full_name").in("id",r);u&&(s=Object.fromEntries(u.map(d=>[d.id,d.full_name||"NutriChefe"])))}const i=n.map(u=>u.id),{data:o}=await V.from("reviews").select("recipe_id, rating").in("recipe_id",i),a={};if(o&&o.length)for(const u of o)a[u.recipe_id]||(a[u.recipe_id]={sum:0,count:0}),a[u.recipe_id].sum+=u.rating??0,a[u.recipe_id].count+=1;return n.map(u=>{const d=a[u.id];let h=null;if(d&&d.count>0)h=Wc(d.sum/d.count);else if(u.rating!==null&&u.rating!==void 0){const g=Number(u.rating);h=Number.isFinite(g)&&g>0?Wc(g):null}const f=Uv(u.category)??u.category;return{id:u.id,title:u.title,description:u.description,image:u.image,prep_time:u.prep_time,difficulty:t2(u.difficulty),category:f,rating:h,author_id:u.author_id,author_name:u.author_id&&s[u.author_id]?s[u.author_id]:"NutriChefe",nutrition_facts:u.nutrition_facts||null,reviews:[],created_at:u.created_at,updated_at:u.updated_at}})}function zv(e,t){let n=e.slice();if(t.category&&(n=n.filter(r=>(Uv(r.category)??r.category)===t.category)),t.difficulty&&(n=n.filter(r=>r.difficulty===t.difficulty)),typeof t.maxPrep=="number"&&(n=n.filter(r=>r.prep_time<=t.maxPrep)),typeof t.minPrep=="number"&&(n=n.filter(r=>r.prep_time>=t.minPrep)),typeof t.minRating=="number"&&(n=n.filter(r=>(typeof r.rating=="number"?r.rating:0)>=t.minRating)),t.plainSearch){const r=vt(t.plainSearch);n=n.filter(s=>vt(s.title).includes(r)||vt(s.description||"").includes(r))}return n}function a2(e,t){const n=e.slice();return t==="prepTime"?n.sort((r,s)=>r.prep_time-s.prep_time||(s.rating??0)-(r.rating??0)):t==="newest"?n.sort((r,s)=>new Date(s.created_at||0).getTime()-new Date(r.created_at||0).getTime()):n.sort((r,s)=>{const i=r.rating??0,o=s.rating??0;return o!==i?o-i:r.prep_time-s.prep_time}),n}function l2(e,t=12){return e.slice(0,t).map(e2)}function c2(e,t){const n=[r=>{typeof r.minRating=="number"&&delete r.minRating},r=>{typeof r.maxPrep=="number"&&delete r.maxPrep},r=>{r.category&&delete r.category},r=>{r.difficulty&&delete r.difficulty}];for(const r of n){const s={...t};r(s);const i=zv(e,s);if(i.length>0)return{list:i}}return{list:e.slice()}}function u2(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.abs(t)}function El(e,t=0){if(!e.length)return e[0];const n=t%e.length;return e[n]}function d2(e){const t=e.filter(Boolean);return t.length===0?"":t.length===1?t[0]:t.length===2?`${t[0]} e ${t[1]}`:`${t.slice(0,-1).join(", ")} e ${t[t.length-1]}`}function h2(e,t){const{f0:n,shown:r,matchedExactly:s,sortKey:i}=t,o=u2(e),a=[];n.category&&a.push(n.category),n.difficulty&&a.push(n.difficulty==="easy"?"fáceis":n.difficulty==="medium"?"médias":"difíceis"),typeof n.maxPrep=="number"&&a.push(`até ${n.maxPrep} min`),typeof n.minRating=="number"&&a.push(`${n.minRating}+ ⭐`),i==="prepTime"&&a.push("mais rápidas primeiro"),i==="newest"&&a.push("mais recentes"),i==="rating"&&a.push("bem avaliadas");const l=d2(a),u=typeof n.limit=="number",d=[`Separei estas ${l?`**${l}**`:"opções"} pra você:`,`Olha só algumas ideias ${l?`**${l}**`:""}:`,`Que tal começar por estas ${l?`**${l}**`:"sugestões"}:`],h=["Separei algumas das favoritas do pessoal:","Aqui vão algumas ideias legais do nosso acervo:","Peguei algumas sugestões que costumam agradar:"],x=[!!n.difficulty&&!n.category&&typeof n.maxPrep!="number"&&typeof n.minPrep!="number"&&typeof n.minRating!="number"||n.category||n.maxPrep||n.minRating||i?El(d,o):El(h,o)];if(u?x.push(r<(n.limit??r)?`Consegui **${r}** no momento.`:`Mostrando **${r}** como você pediu.`):!n.hasStructuredFilter&&!n.plainSearch&&x.push(`Mostrando ${r}.`),!s&&r>0&&!u){const v=["Ajustei um pouquinho os critérios pra ampliar as ideias.","Dei uma flexionada nos filtros pra te trazer opções parecidas.","Expandi levemente os critérios pra não te deixar na mão."];x.push(El(v,o))}return x.join(`
`)}async function em(e){const t=i2(e),n=await o2();let s=zv(n,t),i=s.length>0;s.length===0&&(s=c2(n,t).list,i=!1);const o=!t.hasStructuredFilter&&!t.plainSearch;let a=t.sort??(o?"rating":void 0);!t.sort&&t.difficulty==="easy"&&(a="prepTime"),!t.sort&&t.difficulty==="hard"&&(a="rating");const l=t.limit??(t.wantAll?100:12),u=a2(s,a),d=l2(u,l);return d.length===0?{content:"Não pintou nada com esses critérios. Quer tentar “vegana fácil”, “rápida 4.5+” ou “sem glúten em 15 min”?",recipes:[],suggestions:["receitas fáceis","vegana rápida","rica em proteína 5⭐"]}:{content:h2(e,{f0:t,shown:d.length,total:s.length,matchedExactly:i,sortKey:a}),recipes:d,suggestions:d.length<5?["receitas rápidas","vegana fácil","5 ⭐"]:[]}}async function tm(e){const{data:t,error:n}=await V.from("ai_configurations").select("*").eq("nutritionist_id",e).single();if(n&&n.code!=="PGRST116")throw n;return t}async function f2(e){const{data:t,error:n}=await V.from("ai_configurations").insert([e]).select().single();if(n)throw n;return t}async function p2(e,t){const{data:n,error:r}=await V.from("ai_configurations").update(t).eq("id",e).select().single();if(r)throw r;return n}async function m2(e){let t=e;if(typeof e=="string")try{t=JSON.parse(e)}catch{throw new Error("createAIConversation: payload inválido (string não é JSON)")}const n={client_id:t.client_id,nutritionist_id:t.nutritionist_id??null,ai_config_id:t.ai_config_id??null,title:t.title??"Nova conversa com IA",is_active:t.is_active??!0},{data:r,error:s}=await V.from("ai_conversations").insert([n]).select("*").single();if(s)throw s;return r}async function g2(e){const{data:t,error:n}=await V.from("ai_conversations").select("*").eq("client_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]}async function y2(e){const{data:t,error:n}=await V.from("ai_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(n)throw n;return t||[]}async function nm(e){const{data:t,error:n}=await V.from("ai_messages").insert([e]).select().single();if(n)throw n;return t}function v2(e){const t=vt(e);return/\bemagrec|perder peso|perda de gordura|defini[cç][aã]o|definir|secar\b/.test(t)||/\bganhar massa|hipertrof|massa magra|bulking|volume\b/.test(t)}async function x2(e,t,n){let r="";typeof e=="string"?r=e:e&&typeof e=="object"&&"content"in e&&(r=String(e.content));const s=r.toLowerCase(),i=/\breceit|\bprato|\bingredient|\bvegana|\bgluten|\bcarbo|\bprote[ií]na|\bfac(eis|il)|\bhard\b|\bdifficult\b|\bmedium\b/.test(s),o=v2(r);if(i&&o){const[l,u]=await Promise.all([em(r),Qp(`Contexto: o usuário quer sugestões voltadas para objetivo corporal/nutricional.
Pergunta: "${r}"
Responda de forma direta e útil, em 3–5 bullets, incluindo:
- princípios práticos para o objetivo (emagrecer/ganhar massa);
- 2–4 ideias de refeições;
- lembrete curto de consultar nutricionista para plano individual.`)]);return{content:`${u.content}

${l.content}`,recipes:l.recipes,suggestions:l.suggestions}}return i?em(r):{content:(await Qp(r)).content,recipes:[],suggestions:[]}}const w2=jn((e,t)=>({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null,fetchAIConfiguration:async n=>{e({loading:!0,error:null});try{const r=await tm(n);e({aiConfig:r,loading:!1})}catch(r){console.error("Error fetching AI configuration:",r);const s=r instanceof Error?r.message:"Erro ao carregar configuração da IA";e({error:s,loading:!1})}},createAIConfiguration:async n=>{e({loading:!0,error:null});try{const r=await f2(n);e({aiConfig:r,loading:!1}),G.getState().showToast("Configuração da IA criada com sucesso!","success")}catch(r){console.error("Error creating AI configuration:",r);const s=r instanceof Error?r.message:"Erro ao criar configuração da IA";throw e({error:s,loading:!1}),G.getState().showToast("Erro ao criar configuração da IA","error"),r}},updateAIConfiguration:async(n,r)=>{e({loading:!0,error:null});try{const s=await p2(n,r);e({aiConfig:s,loading:!1}),G.getState().showToast("Configuração da IA atualizada com sucesso!","success")}catch(s){console.error("Error updating AI configuration:",s);const i=s instanceof Error?s.message:"Erro ao atualizar configuração da IA";throw e({error:i,loading:!1}),G.getState().showToast("Erro ao atualizar configuração da IA","error"),s}},fetchConversations:async n=>{e({loading:!0,error:null});try{const r=await g2(n);e({conversations:r,loading:!1})}catch(r){console.error("Error fetching conversations:",r);const s=r instanceof Error?r.message:"Erro ao carregar conversas";e({error:s,loading:!1})}},createConversation:async(n,r)=>{e({loading:!0,error:null});try{let s=null;if(r){const o=await tm(r);s=(o==null?void 0:o.id)||null}const i=await m2({client_id:n,nutritionist_id:r,ai_config_id:s,title:"Nova conversa com IA",is_active:!0});return e(o=>({conversations:[i,...o.conversations],currentConversation:i,loading:!1})),i}catch(s){console.error("Error creating conversation:",s);const i=s instanceof Error?s.message:"Erro ao criar conversa";throw e({error:i,loading:!1}),G.getState().showToast("Erro ao criar conversa","error"),s}},setCurrentConversation:n=>{e({currentConversation:n,messages:[]}),n&&t().fetchMessages(n.id)},fetchMessages:async n=>{e({loading:!0,error:null});try{const r=await y2(n);e({messages:r,loading:!1})}catch(r){console.error("Error fetching messages:",r);const s=r instanceof Error?r.message:"Erro ao carregar mensagens";e({error:s,loading:!1})}},sendMessage:async(n,r)=>{const{currentConversation:s}=t();if(s){e({sendingMessage:!0,error:null});try{const i=await nm({conversation_id:n,sender_type:"user",content:r,metadata:{}});e(u=>({messages:[...u.messages,i]}));let o=t().aiConfig;if(!o&&s.ai_config_id){const{data:u}=await V.from("ai_configurations").select("*").eq("id",s.ai_config_id).single();o=u}const a=await x2(r,o||{id:"default",nutritionist_id:"default",ai_name:"NutriBot",personality:"empathetic",custom_instructions:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t().messages),l=await nm({conversation_id:n,sender_type:"ai",content:a.content,metadata:{recipes:a.recipes,suggestions:a.suggestions}});e(u=>({messages:[...u.messages,l],sendingMessage:!1}))}catch(i){console.error("Error sending message:",i);const o=i instanceof Error?i.message:"Erro ao enviar mensagem";e({error:o,sendingMessage:!1}),G.getState().showToast("Erro ao enviar mensagem","error")}}},clearError:()=>e({error:null}),reset:()=>e({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null})}));function Bv({size:e="md",className:t}){const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return c.jsx(ei,{className:Y("animate-spin",n[e],t)})}function b2(){var p;const{user:e}=ke(),{conversations:t,currentConversation:n,messages:r,sendingMessage:s,createConversation:i,setCurrentConversation:o,sendMessage:a,fetchMessages:l}=w2(),[u,d]=_.useState(""),h=_.useRef(null),f=_.useRef(null),g=qT();_.useEffect(()=>{var y;(y=h.current)==null||y.scrollIntoView({behavior:"smooth"})},[r]),_.useEffect(()=>{!s&&f.current&&f.current.focus()},[s]);const x=async()=>{if(e)try{const y=await i(e.id);o(y)}catch(y){console.error("Error starting conversation:",y)}},v=async y=>{if(y.preventDefault(),!u.trim()||!n||s)return;const b=u.trim();d("");try{await a(n.id,b)}catch(k){console.error("Error sending message:",k),d(b)}},w=y=>y.split(`
`).map((b,k)=>{if(b.startsWith("# "))return c.jsx("h3",{className:"text-lg font-bold mt-4 mb-2",children:b.substring(2)},k);if(b.startsWith("## "))return c.jsx("h4",{className:"text-md font-semibold mt-3 mb-1",children:b.substring(3)},k);if(b.startsWith("- ")||b.startsWith("• "))return c.jsxs("div",{className:"flex items-start gap-2 my-1",children:[c.jsx("span",{className:"text-purple-500 mt-1",children:"•"}),c.jsx("span",{children:b.substring(2)})]},k);const E=b.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return b.trim()?c.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:E}},k):c.jsx("br",{},k)}),m=y=>c.jsx(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-purple-200 dark:border-purple-700 mt-3",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(yi,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:y.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:y.description}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(ni,{className:"w-3 h-3"}),y.author]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(vi,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),y.rating>0?y.rating.toFixed(1):"Sem avaliações"]})]})]})]})});return n?c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:c.jsx($n,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white",children:((p=n.ai_config)==null?void 0:p.ai_name)||"NutriBot"}),c.jsx("p",{className:"text-purple-100 text-sm",children:"Assistente de Nutrição • Online"})]})]})}),c.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[c.jsx(Xr,{children:r.map(y=>{var b;return c.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:Y("flex gap-3",y.sender_type==="user"?"justify-end":"justify-start"),children:[y.sender_type==="ai"&&c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex-shrink-0",children:c.jsx($n,{className:"w-4 h-4 text-white"})}),c.jsxs("div",{className:Y("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",y.sender_type==="user"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"),children:[c.jsx("div",{className:"text-sm",children:w(y.content)}),((b=y.metadata)==null?void 0:b.recipes)&&y.metadata.recipes.length>0&&c.jsx("div",{className:"mt-3 space-y-2",children:y.metadata.recipes.map((k,E)=>m(k))}),c.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(y.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),y.sender_type==="user"&&c.jsx("div",{className:"p-2 bg-green-600 rounded-full flex-shrink-0",children:c.jsx(ni,{className:"w-4 h-4 text-white"})})]},y.id)})}),s&&c.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full",children:c.jsx($n,{className:"w-4 h-4 text-white"})}),c.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bv,{size:"sm"}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digitando..."})]})})]}),c.jsx("div",{ref:h})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[c.jsxs("form",{onSubmit:v,className:"flex gap-3",children:[c.jsx("input",{ref:f,type:"text",value:u,onChange:y=>d(y.target.value),placeholder:"Digite sua pergunta sobre nutrição...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",disabled:s}),c.jsx(D.button,{type:"submit",disabled:!u.trim()||s,className:Y("px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",!u.trim()||s?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700"),whileHover:!s&&u.trim()?{scale:1.05}:{},whileTap:!s&&u.trim()?{scale:.95}:{},children:s?c.jsx(ei,{className:"w-4 h-4 animate-spin"}):c.jsx(Rb,{className:"w-4 h-4"})})]}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["A IA pode cometer erros. Sempre consulte seu nutricionista para orientações personalizadas.",!g]})]})]})}):c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:c.jsx($n,{className:"w-12 h-12 text-white"})}),c.jsx(D.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1",children:c.jsx(w0,{className:"w-6 h-6 text-yellow-500"})})]})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Bem-vindo à Mentoria IA!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:"Sua assistente de nutrição inteligente está pronta para ajudar com receitas, dicas alimentares, uso da plataforma e muito mais. Inicie uma conversa agora!"}),!g,c.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"🍽️ Receitas"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Me mostre receitas de bolo fit"'})]}),c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"💡 Dicas"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Como posso melhorar minha alimentação?"'})]}),c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-green-700 dark:text-green-300 mb-2",children:"❓ Ajuda"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Como salvo receitas nos favoritos?"'})]})]}),c.jsxs(D.button,{onClick:x,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 mx-auto",whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.jsx(x0,{className:"w-5 h-5"}),"Iniciar Conversa"]})]})})}const k2="price_1S8hUJRvfweGXYGcPyJ9VAR9",_2=19.9;function S2(){je();const{showToast:e}=G(),[t,n]=_.useState([]),[r,s]=_.useState(!1),[i,o]=_.useState(null);_.useEffect(()=>{V.auth.getUser().then(({data:x})=>o(x.user?{id:x.user.id}:null));const{data:g}=V.auth.onAuthStateChange((x,v)=>{o(v!=null&&v.user?{id:v.user.id}:null)});return()=>{var x,v;(v=(x=g==null?void 0:g.subscription)==null?void 0:x.unsubscribe)==null||v.call(x)}},[]),_.useEffect(()=>{ny().then(g=>n(g||[])).catch(g=>{console.error(g),e("Erro ao carregar planos")})},[e]);const a=_.useMemo(()=>t.find(g=>g.stripe_price_id)??t[0]??null,[t]),l=a&&typeof a.price=="number"&&a.price>0?a.price:_2,u=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),d=(a==null?void 0:a.billing_period)||"monthly",h=[{icon:c.jsx($n,{className:"w-5 h-5"}),title:"Mentoria IA Ilimitada",description:"Chat 24/7 com IA especializada em nutrição"},{icon:c.jsx(x0,{className:"w-5 h-5"}),title:"Consultas Personalizadas",description:"IA configurada pelo seu nutricionista"},{icon:c.jsx(vi,{className:"w-5 h-5"}),title:"Recomendações Inteligentes",description:"Sugestões de receitas baseadas no seu perfil"},{icon:c.jsx($b,{className:"w-5 h-5"}),title:"Suporte Prioritário",description:"Atendimento rápido e especializado"}],f=async()=>{try{if(s(!0),!i){e("Faça login para assinar"),window.location.href="/login";return}const g=(a==null?void 0:a.stripe_price_id)||k2;await SS({planId:a==null?void 0:a.id,priceId:g})}catch(g){console.error(g),e((g==null?void 0:g.message)||"Não foi possível iniciar o checkout")}finally{s(!1)}};return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-2xl p-8 text-center border border-purple-200 dark:border-purple-700",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:c.jsx(sl,{className:"w-12 h-12 text-white"})}),c.jsx(D.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:c.jsx(w0,{className:"w-6 h-6 text-yellow-500"})})]})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Desbloqueie a Mentoria IA"}),c.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:["Para ter acesso ilimitado à nossa Mentoria IA e outras funcionalidades exclusivas, assine o nosso ",c.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"Plano Premium"}),"!"]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 mb-8 border border-purple-200 dark:border-purple-700",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(sl,{className:"w-6 h-6 text-purple-600"}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Plano Premium"})]}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("span",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400",children:u}),c.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:["/ ",d==="monthly"?"mês":d]})]}),c.jsx("div",{className:"rounded-xl border border-purple-100 dark:border-purple-900/40 bg-white/70 dark:bg-white/5 backdrop-blur p-4 md:p-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Kt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Acesso a ",c.jsx("span",{className:"font-medium",children:"nutricionistas certificados"})]})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Kt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[c.jsx("span",{className:"font-medium",children:"WhatsApp direto"})," com nutricionistas"]})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Kt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[c.jsx("span",{className:"font-medium",children:"Metas personalizadas"})," e periodização"]})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Kt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[c.jsx("span",{className:"font-medium",children:"Planos alimentares"})," ajustados ao seu perfil"]})]})]}),c.jsx("div",{className:"md:pl-6 md:border-l md:border-purple-200/60 dark:md:border-purple-900/40",children:c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Kt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[c.jsx("span",{className:"font-medium",children:"Acompanhamento semanal"})," e ajustes contínuos"]})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Kt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[c.jsx("span",{className:"font-medium",children:"Relatórios de progresso"})," com gráficos"]})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Kt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[c.jsx("span",{className:"font-medium",children:"Receitas premium"})," exclusivas"]})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Kt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[c.jsx("span",{className:"font-medium",children:"Comunidade VIP"})," e desafios mensais"]})]})]})})]})}),c.jsxs(D.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:r,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(sl,{className:"w-5 h-5"}),r?"Iniciando...":"Assinar Plano Premium"]})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-2",children:h.map((g,x)=>c.jsxs(D.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"flex items-start gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg text-white",children:g.icon}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:g.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.description})]})]},x))}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cancele a qualquer momento • Sem compromisso • Suporte 24/7"})]})})}function j2({onBack:e}){const{user:t,isNutritionist:n}=ke(),{hasFeatureAccess:r}=ry(),s=t&&(n()||r("ai_mentoring"));return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 group",children:[c.jsx(v0,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),"Voltar"]}),s?c.jsx(b2,{}):c.jsx(S2,{})]})}function E2({message:e,type:t,onClose:n,duration:r=3e3}){Qc.useEffect(()=>{const i=setTimeout(n,r);return()=>clearTimeout(i)},[r,n]);const s={success:c.jsx(Bu,{className:"w-5 h-5 text-green-500"}),error:c.jsx(zu,{className:"w-5 h-5 text-red-500"}),info:c.jsx(Eb,{className:"w-5 h-5 text-blue-500"})};return c.jsx(Xr,{children:c.jsxs(D.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:Y("fixed bottom-4 right-4 flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg",t==="success"&&"bg-green-50 border border-green-200",t==="error"&&"bg-red-50 border border-red-200",t==="info"&&"bg-blue-50 border border-blue-200"),children:[s[t],c.jsx("span",{className:"text-gray-700",children:e}),c.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-full",children:c.jsx(Xn,{className:"w-4 h-4 text-gray-500"})})]})})}function C2({initialized:e,minDurationMs:t=5e3,appName:n="NutriChef",children:r}){const[s,i]=_.useState(!0),o=_.useRef(Date.now());_.useEffect(()=>{if(!e)return;const x=Date.now()-o.current,v=Math.max(0,t-x),w=setTimeout(()=>i(!1),v);return()=>clearTimeout(w)},[e,t]);const a=_.useMemo(()=>["Preparando suas receitas favoritas…","Aquecendo os fornos virtuais…","Picando ingredientes e ideias…","Temperando a experiência…","Quase lá!"],[]),[l,u]=_.useState(0);_.useEffect(()=>{const x=setInterval(()=>{u(v=>(v+1)%a.length)},1400);return()=>clearInterval(x)},[a.length]);const d=18,h=typeof window<"u"?window.innerWidth:1024,f=typeof window<"u"?window.innerHeight:768,g=_.useMemo(()=>Array.from({length:d},(x,v)=>v),[]);return c.jsx("div",{className:"min-h-screen",children:c.jsx(Xr,{mode:"wait",children:s?c.jsxs(D.div,{className:"relative min-h-screen overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6},children:[c.jsx(N2,{}),c.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center p-6",children:c.jsxs("div",{className:"relative mx-auto w-full max-w-xl text-center",children:[c.jsx("div",{className:"pointer-events-none absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-[58%] z-0",children:c.jsx(A2,{})}),c.jsxs("div",{className:"relative z-10 mx-auto mb-10 h-44 w-44 md:h-52 md:w-52",children:[c.jsx(D.div,{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-emerald-400/30 via-green-500/20 to-cyan-400/25 blur-2xl",animate:{opacity:[.6,.85,.6],scale:[1,1.03,1]},transition:{duration:3.2,repeat:1/0,ease:"easeInOut"}}),c.jsxs(D.div,{className:"relative h-full w-full rounded-full bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 ring-1 ring-white/15 shadow-[0_0_45px_-10px_rgba(16,185,129,0.55)] overflow-visible",animate:{rotate:[0,360]},transition:{duration:16,repeat:1/0,ease:"linear"},children:[c.jsx(D.div,{className:"absolute -inset-1 rounded-full z-0",style:{background:"conic-gradient(from 0deg, rgba(16,185,129,0) 0%, rgba(16,185,129,.85) 25%, rgba(6,182,212,.85) 50%, rgba(16,185,129,.85) 75%, rgba(16,185,129,0) 100%)"},animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"}}),c.jsxs("div",{className:"absolute inset-[14%] rounded-full bg-black/10 backdrop-blur-[2px] ring-1 ring-white/10 overflow-hidden z-10",children:[c.jsx("div",{className:"absolute inset-0 opacity-15 [background-image:repeating-linear-gradient(0deg,rgba(255,255,255,0.06)_0px,rgba(255,255,255,0.06)_1px,transparent_1px,transparent_3px)]"}),c.jsx(P2,{})]}),c.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center pointer-events-none",children:[c.jsx(D.div,{initial:{y:-6,opacity:0},animate:{y:0,opacity:1},transition:{duration:1,ease:"easeOut"},children:c.jsx(yi,{size:52,className:"text-white"})}),c.jsxs(D.div,{initial:{scale:.96},animate:{scale:[.96,1,.96]},transition:{duration:3.4,repeat:1/0,ease:"easeInOut"},className:"mt-1 font-extrabold tracking-tight text-5xl md:text-6xl",children:[c.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white via-emerald-100 to-white",children:"N"}),c.jsx("span",{className:"mx-1.5 bg-clip-text text-transparent bg-gradient-to-r from-white via-emerald-100 to-white",children:"C"})]})]})]})]}),c.jsx(D.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.1},className:"mb-3 text-4xl md:text-6xl font-extrabold tracking-tight",children:c.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-br from-emerald-300 via-white to-emerald-200 drop-shadow",children:n})}),c.jsx(D.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},className:"mx-auto max-w-md text-base md:text-lg text-white/70",children:"Cozinhando algo épico para você"}),c.jsxs("div",{className:"mt-10 space-y-4",children:[c.jsx(T2,{}),c.jsx(D.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},exit:{y:-8,opacity:0},transition:{duration:.4},className:"text-sm md:text-base text-emerald-100/80",children:a[l]},l)]})]})}),c.jsx("div",{className:"pointer-events-none absolute inset-0 z-0",children:g.map(x=>c.jsx(D.span,{className:"absolute h-1 w-1 rounded-full bg-emerald-300/60 shadow-[0_0_12px_2px_rgba(16,185,129,0.55)]",initial:{x:Math.random()*h,y:Math.random()*f,scale:Math.random()*.8+.4,opacity:Math.random()*.7+.2},animate:{y:["0%","-10%","0%"],x:["0%","5%","0%"]},transition:{duration:6+Math.random()*6,repeat:1/0,ease:"easeInOut"},style:{left:0,top:0}},x))})]},"splash"):c.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:r},"content")})})}function N2(){return c.jsxs("div",{"aria-hidden":!0,className:"absolute inset-0 -z-0",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900 via-[#0a1f1a] to-[#030a08]"}),c.jsx("div",{className:"absolute -top-24 -left-24 h-[42rem] w-[42rem] rounded-full bg-emerald-600/20 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-24 -right-24 h-[38rem] w-[38rem] rounded-full bg-teal-500/20 blur-3xl"})]})}function T2(){return c.jsx("div",{className:"mx-auto w-full max-w-md",children:c.jsxs("div",{className:"relative h-2 overflow-hidden rounded-full bg-white/10 ring-1 ring-white/10",children:[c.jsx("div",{className:"absolute inset-0 -translate-x-full h-full bg-gradient-to-r from-transparent via-white/25 to-transparent animate-[shimmerX_1.8s_ease_infinite]"}),c.jsx(D.div,{className:"h-full rounded-full bg-gradient-to-r from-emerald-400 via-emerald-300 to-teal-300 shadow-[0_0_20px_2px_rgba(110,231,183,0.45)]",initial:{width:"8%"},animate:{width:["8%","45%","65%","85%","60%","92%","100%"]},transition:{duration:5.2,repeat:1/0,ease:[.22,1,.36,1]}})]})})}function P2(){return c.jsx(D.div,{className:"absolute -inset-8 pointer-events-none",initial:{opacity:0},animate:{opacity:[0,.18,0]},transition:{duration:2.8,repeat:1/0,ease:"easeInOut"},style:{background:"linear-gradient(120deg, rgba(255,255,255,0) 35%, rgba(255,255,255,0.45) 50%, rgba(255,255,255,0) 65%)",transform:"rotate(0.001deg)",mixBlendMode:"screen",maskImage:"radial-gradient(circle at 50% 50%, rgba(0,0,0,1) 52%, rgba(0,0,0,0.0) 64%)"}})}function A2(){const t=["🥑","🍅","🥕","🍋","🥖","🧀","🌶️","🥬","🍇","🍤"],n=_.useMemo(()=>{const r=360/t.length;return t.map((s,i)=>i*r)},[t.length]);return c.jsx(D.div,{className:"relative",animate:{rotate:360},transition:{duration:18,repeat:1/0,ease:"linear"},style:{width:120*2,height:120*2,marginLeft:-120,marginTop:-120},"aria-hidden":!0,children:n.map((r,s)=>{const i=r*Math.PI/180,o=120+Math.cos(i)*120,a=120+Math.sin(i)*120*.8,l=s%3===0?26:s%3===1?22:18;return c.jsx(D.span,{className:"absolute select-none",style:{left:o,top:a,translateX:"-50%",translateY:"-50%",fontSize:l},animate:{y:["-2px","2px","-2px"],rotate:[0,4,0,-4,0]},transition:{duration:2+s%3*.3,repeat:1/0,ease:"easeInOut"},children:t[s]},r)})})}function R2(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[s,i]=_.useState(!1),[o,a]=_.useState(!1),[l,u]=_.useState(!1),{category:d,searchQuery:h,difficulty:f,prepTimeRange:g,minRating:x,setCategory:v}=Zu(),{recipes:w,loading:m,fetchRecipes:p}=Gt(),{isAuthenticated:y,isNutritionist:b,user:k,initializeAuth:E}=ke(),{message:C,type:S,hideToast:A}=G(),O=je(),R=["all","vegan","lowCarb","highProtein","glutenFree","vegetarian"],P=window.location.pathname==="/reset-password"||window.location.hash.includes("type=recovery");_.useEffect(()=>{(async()=>{if(!l){console.log("Initializing app...");try{await E(),await p(),u(!0),console.log("App initialized successfully")}catch(j){console.error("Error initializing app:",j),u(!0)}}})()},[E,p,l]),_.useEffect(()=>{l&&v("all")},[v,l]);const q=F=>F.toLowerCase().replace(/\s+/g,""),se=F=>{if(!g)return!0;switch(g){case"quick":return F.prepTime<=15;case"medium":return F.prepTime<=30;case"long":return F.prepTime>30;default:return!0}},Fe=w.filter(F=>{const j=q(F.category),T=q(d),M=T==="all"||j===T,B=F.title.toLowerCase().includes(h.toLowerCase())||F.description.toLowerCase().includes(h.toLowerCase()),de=!f||F.difficulty===f,Ht=!x||F.rating>=x,Nt=se(F);return M&&B&&de&&Ht&&Nt}),Ee=w.find(F=>F.id===e);return P?c.jsx(hT,{}):c.jsx(C2,{initialized:l,minDurationMs:6e3,appName:"NutriChef",children:c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[c.jsx(ZN,{onProfileClick:()=>i(!0),onAIMentoringClick:()=>a(!0)}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o?c.jsx(j2,{onBack:()=>a(!1)}):s?c.jsx(dT,{onBackToRecipes:()=>i(!1)}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-4",children:O.home.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl text-sm sm:text-base",children:O.home.subtitle})]}),y&&b()&&c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm sm:text-base",children:[c.jsx(ti,{className:"w-4 h-4 sm:w-5 sm:h-5"}),O.home.createRecipe]})]}),c.jsxs("div",{className:"mb-8 space-y-4",children:[c.jsx("div",{className:"w-full",children:c.jsx(eT,{categories:R,selectedCategory:d,onSelectCategory:v})}),c.jsx("div",{className:"flex justify-center sm:justify-end",children:c.jsx(tT,{})})]}),m?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx(Bv,{size:"lg"})}):Fe.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:O.home.noRecipes}),w.length===0&&!m&&c.jsx("button",{onClick:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar novamente"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Fe.map(F=>c.jsx(Hc,{recipe:F,onClick:()=>t(F.id)},F.id))})]})}),Ee&&c.jsx(rT,{recipe:Ee,onClose:()=>t(null)}),c.jsx(sT,{isOpen:n,onClose:()=>r(!1)}),C&&c.jsx(E2,{message:C,type:S,onClose:A})]})})}class I2 extends _.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx(xb,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),c.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function O2({children:e}){const{theme:t}=Pa();return _.useEffect(()=>{const n=()=>{const r=t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",r)};if(n(),t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)");return r.addEventListener("change",n),()=>r.removeEventListener("change",n)}},[t]),c.jsx(c.Fragment,{children:e})}y0(document.getElementById("root")).render(c.jsx(_.StrictMode,{children:c.jsx(I2,{children:c.jsx(O2,{children:c.jsx(R2,{})})})}));export{rm as g};
