(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Uv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var qp={exports:{}},Yo={},Yp={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=Symbol.for("react.element"),zv=Symbol.for("react.portal"),Bv=Symbol.for("react.fragment"),Hv=Symbol.for("react.strict_mode"),Gv=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Wv=Symbol.for("react.context"),qv=Symbol.for("react.forward_ref"),Yv=Symbol.for("react.suspense"),Jv=Symbol.for("react.memo"),Qv=Symbol.for("react.lazy"),Md=Symbol.iterator;function Xv(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var Jp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qp=Object.assign,Xp={};function Kr(e,t,n){this.props=e,this.context=t,this.refs=Xp,this.updater=n||Jp}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zp(){}Zp.prototype=Kr.prototype;function Wc(e,t,n){this.props=e,this.context=t,this.refs=Xp,this.updater=n||Jp}var qc=Wc.prototype=new Zp;qc.constructor=Wc;Qp(qc,Kr.prototype);qc.isPureReactComponent=!0;var Ld=Array.isArray,em=Object.prototype.hasOwnProperty,Yc={current:null},tm={key:!0,ref:!0,__self:!0,__source:!0};function nm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)em.call(t,r)&&!tm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ai,type:e,key:i,ref:o,props:s,_owner:Yc.current}}function Zv(e,t){return{$$typeof:ai,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ai}function ex(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dd=/\/+/g;function Aa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ex(""+e.key):t.toString(36)}function Ji(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ai:case zv:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Aa(o,0):r,Ld(s)?(n="",e!=null&&(n=e.replace(Dd,"$&/")+"/"),Ji(s,t,n,"",function(u){return u})):s!=null&&(Jc(s)&&(s=Zv(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ld(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Aa(i,a);o+=Ji(i,t,n,l,s)}else if(l=Xv(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Aa(i,a++),o+=Ji(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ki(e,t,n){if(e==null)return e;var r=[],s=0;return Ji(e,r,"","",function(i){return t.call(n,i,s++)}),r}function tx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Qi={transition:null},nx={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Qi,ReactCurrentOwner:Yc};function rm(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:ki,forEach:function(e,t,n){ki(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ki(e,function(){t++}),t},toArray:function(e){return ki(e,function(t){return t})||[]},only:function(e){if(!Jc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Kr;B.Fragment=Bv;B.Profiler=Gv;B.PureComponent=Wc;B.StrictMode=Hv;B.Suspense=Yv;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nx;B.act=rm;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Yc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)em.call(t,l)&&!tm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ai,type:e.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:Wv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kv,_context:e},e.Consumer=e};B.createElement=nm;B.createFactory=function(e){var t=nm.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:qv,render:e}};B.isValidElement=Jc;B.lazy=function(e){return{$$typeof:Qv,_payload:{_status:-1,_result:e},_init:tx}};B.memo=function(e,t){return{$$typeof:Jv,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Qi.transition;Qi.transition={};try{e()}finally{Qi.transition=t}};B.unstable_act=rm;B.useCallback=function(e,t){return Fe.current.useCallback(e,t)};B.useContext=function(e){return Fe.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};B.useEffect=function(e,t){return Fe.current.useEffect(e,t)};B.useId=function(){return Fe.current.useId()};B.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Fe.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};B.useRef=function(e){return Fe.current.useRef(e)};B.useState=function(e){return Fe.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Fe.current.useTransition()};B.version="18.3.1";Yp.exports=B;var S=Yp.exports;const Qc=Wp(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=S,sx=Symbol.for("react.element"),ix=Symbol.for("react.fragment"),ox=Object.prototype.hasOwnProperty,ax=rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lx={key:!0,ref:!0,__self:!0,__source:!0};function sm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ox.call(t,r)&&!lx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sx,type:e,key:i,ref:o,props:s,_owner:ax.current}}Yo.Fragment=ix;Yo.jsx=sm;Yo.jsxs=sm;qp.exports=Yo;var c=qp.exports,im={exports:{}},et={},om={exports:{}},am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,N){var M=_.length;_.push(N);e:for(;0<M;){var U=M-1>>>1,de=_[U];if(0<s(de,N))_[U]=N,_[M]=de,M=U;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var N=_[0],M=_.pop();if(M!==N){_[0]=M;e:for(var U=0,de=_.length,Wt=de>>>1;U<Wt;){var Tt=2*(U+1)-1,Pa=_[Tt],Tn=Tt+1,bi=_[Tn];if(0>s(Pa,M))Tn<de&&0>s(bi,Pa)?(_[U]=bi,_[Tn]=M,U=Tn):(_[U]=Pa,_[Tt]=M,U=Tt);else if(Tn<de&&0>s(bi,M))_[U]=bi,_[Tn]=M,U=Tn;else break e}}return N}function s(_,N){var M=_.sortIndex-N.sortIndex;return M!==0?M:_.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(_){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=_)r(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(u)}}function b(_){if(v=!1,y(_),!x)if(n(l)!==null)x=!0,Ee(k);else{var N=n(u);N!==null&&D(b,N.startTime-_)}}function k(_,N){x=!1,v&&(v=!1,m(j),j=-1),g=!0;var M=f;try{for(y(N),h=n(l);h!==null&&(!(h.expirationTime>N)||_&&!A());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var de=U(h.expirationTime<=N);N=e.unstable_now(),typeof de=="function"?h.callback=de:h===n(l)&&r(l),y(N)}else r(l);h=n(l)}if(h!==null)var Wt=!0;else{var Tt=n(u);Tt!==null&&D(b,Tt.startTime-N),Wt=!1}return Wt}finally{h=null,f=M,g=!1}}var E=!1,C=null,j=-1,I=5,O=-1;function A(){return!(e.unstable_now()-O<I)}function P(){if(C!==null){var _=e.unstable_now();O=_;var N=!0;try{N=C(!0,_)}finally{N?q():(E=!1,C=null)}}else E=!1}var q;if(typeof p=="function")q=function(){p(P)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Ve=se.port2;se.port1.onmessage=P,q=function(){Ve.postMessage(null)}}else q=function(){w(P,0)};function Ee(_){C=_,E||(E=!0,q())}function D(_,N){j=w(function(){_(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,Ee(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var M=f;f=N;try{return _()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,N){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var M=f;f=_;try{return N()}finally{f=M}},e.unstable_scheduleCallback=function(_,N,M){var U=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?U+M:U):M=U,_){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=M+de,_={id:d++,callback:N,priorityLevel:_,startTime:M,expirationTime:de,sortIndex:-1},M>U?(_.sortIndex=M,t(u,_),n(l)===null&&_===n(u)&&(v?(m(j),j=-1):v=!0,D(b,M-U))):(_.sortIndex=de,t(l,_),x||g||(x=!0,Ee(k))),_},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(_){var N=f;return function(){var M=f;f=N;try{return _.apply(this,arguments)}finally{f=M}}}})(am);om.exports=am;var cx=om.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=S,Xe=cx;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lm=new Set,Is={};function Qn(e,t){Or(e,t),Or(e+"Capture",t)}function Or(e,t){for(Is[e]=t,e=0;e<t.length;e++)lm.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=Object.prototype.hasOwnProperty,dx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fd={},$d={};function hx(e){return El.call($d,e)?!0:El.call(Fd,e)?!1:dx.test(e)?$d[e]=!0:(Fd[e]=!0,!1)}function fx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function px(e,t,n,r){if(t===null||typeof t>"u"||fx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xc=/[\-:]([a-z])/g;function Zc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xc,Zc);Se[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xc,Zc);Se[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xc,Zc);Se[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function eu(e,t,n,r){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(px(t,n,s,r)&&(n=null),r||s===null?hx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kt=ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_i=Symbol.for("react.element"),cr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),cm=Symbol.for("react.provider"),um=Symbol.for("react.context"),nu=Symbol.for("react.forward_ref"),Tl=Symbol.for("react.suspense"),Nl=Symbol.for("react.suspense_list"),ru=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),dm=Symbol.for("react.offscreen"),Vd=Symbol.iterator;function Zr(e){return e===null||typeof e!="object"?null:(e=Vd&&e[Vd]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Ra;function ds(e){if(Ra===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ra=t&&t[1]||""}return`
`+Ra+e}var Ia=!1;function Oa(e,t){if(!e||Ia)return"";Ia=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ia=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ds(e):""}function mx(e){switch(e.tag){case 5:return ds(e.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ur:return"Fragment";case cr:return"Portal";case Cl:return"Profiler";case tu:return"StrictMode";case Tl:return"Suspense";case Nl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case um:return(e.displayName||"Context")+".Consumer";case cm:return(e._context.displayName||"Context")+".Provider";case nu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ru:return t=e.displayName||null,t!==null?t:Pl(e.type)||"Memo";case en:t=e._payload,e=e._init;try{return Pl(e(t))}catch{}}return null}function gx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pl(t);case 8:return t===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yx(e){var t=hm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Si(e){e._valueTracker||(e._valueTracker=yx(e))}function fm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Al(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ud(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pm(e,t){t=t.checked,t!=null&&eu(e,"checked",t,!1)}function Rl(e,t){pm(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Il(e,t.type,n):t.hasOwnProperty("defaultValue")&&Il(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Il(e,t,n){(t!=="number"||fo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hs=Array.isArray;function Er(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ol(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(hs(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function mm(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ml(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ji,ym=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ji=ji||document.createElement("div"),ji.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ji.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Os(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vx=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(e){vx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vs[t]=vs[e]})});function vm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vs.hasOwnProperty(e)&&vs[e]?(""+t).trim():t+"px"}function xm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var xx=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(e,t){if(t){if(xx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Dl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $l=null,Cr=null,Tr=null;function Gd(e){if(e=ui(e)){if(typeof $l!="function")throw Error(T(280));var t=e.stateNode;t&&(t=ea(t),$l(e.stateNode,e.type,t))}}function wm(e){Cr?Tr?Tr.push(e):Tr=[e]:Cr=e}function bm(){if(Cr){var e=Cr,t=Tr;if(Tr=Cr=null,Gd(e),t)for(e=0;e<t.length;e++)Gd(t[e])}}function km(e,t){return e(t)}function _m(){}var Ma=!1;function Sm(e,t,n){if(Ma)return e(t,n);Ma=!0;try{return km(e,t,n)}finally{Ma=!1,(Cr!==null||Tr!==null)&&(_m(),bm())}}function Ms(e,t){var n=e.stateNode;if(n===null)return null;var r=ea(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Vl=!1;if(Ut)try{var es={};Object.defineProperty(es,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Vl=!1}function wx(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var xs=!1,po=null,mo=!1,Ul=null,bx={onError:function(e){xs=!0,po=e}};function kx(e,t,n,r,s,i,o,a,l){xs=!1,po=null,wx.apply(bx,arguments)}function _x(e,t,n,r,s,i,o,a,l){if(kx.apply(this,arguments),xs){if(xs){var u=po;xs=!1,po=null}else throw Error(T(198));mo||(mo=!0,Ul=u)}}function Xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kd(e){if(Xn(e)!==e)throw Error(T(188))}function Sx(e){var t=e.alternate;if(!t){if(t=Xn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kd(s),e;if(i===r)return Kd(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Em(e){return e=Sx(e),e!==null?Cm(e):null}function Cm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cm(e);if(t!==null)return t;e=e.sibling}return null}var Tm=Xe.unstable_scheduleCallback,Wd=Xe.unstable_cancelCallback,jx=Xe.unstable_shouldYield,Ex=Xe.unstable_requestPaint,fe=Xe.unstable_now,Cx=Xe.unstable_getCurrentPriorityLevel,iu=Xe.unstable_ImmediatePriority,Nm=Xe.unstable_UserBlockingPriority,go=Xe.unstable_NormalPriority,Tx=Xe.unstable_LowPriority,Pm=Xe.unstable_IdlePriority,Jo=null,_t=null;function Nx(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Jo,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Rx,Px=Math.log,Ax=Math.LN2;function Rx(e){return e>>>=0,e===0?32:31-(Px(e)/Ax|0)|0}var Ei=64,Ci=4194304;function fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=fs(a):(i&=o,i!==0&&(r=fs(i)))}else o=n&~s,o!==0?r=fs(o):i!==0&&(r=fs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),s=1<<n,r|=e[n],t&=~s;return r}function Ix(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ox(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Ix(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function zl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Am(){var e=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),e}function La(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function li(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function Mx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ou(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function Rm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Im,au,Om,Mm,Lm,Bl=!1,Ti=[],un=null,dn=null,hn=null,Ls=new Map,Ds=new Map,sn=[],Lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(t.pointerId)}}function ts(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ui(t),t!==null&&au(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Dx(e,t,n,r,s){switch(t){case"focusin":return un=ts(un,e,t,n,r,s),!0;case"dragenter":return dn=ts(dn,e,t,n,r,s),!0;case"mouseover":return hn=ts(hn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ls.set(i,ts(Ls.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ds.set(i,ts(Ds.get(i)||null,e,t,n,r,s)),!0}return!1}function Dm(e){var t=Dn(e.target);if(t!==null){var n=Xn(t);if(n!==null){if(t=n.tag,t===13){if(t=jm(n),t!==null){e.blockedOn=t,Lm(e.priority,function(){Om(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fl=r,n.target.dispatchEvent(r),Fl=null}else return t=ui(n),t!==null&&au(t),e.blockedOn=n,!1;t.shift()}return!0}function Yd(e,t,n){Xi(e)&&n.delete(t)}function Fx(){Bl=!1,un!==null&&Xi(un)&&(un=null),dn!==null&&Xi(dn)&&(dn=null),hn!==null&&Xi(hn)&&(hn=null),Ls.forEach(Yd),Ds.forEach(Yd)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,Bl||(Bl=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,Fx)))}function Fs(e){function t(s){return ns(s,e)}if(0<Ti.length){ns(Ti[0],e);for(var n=1;n<Ti.length;n++){var r=Ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&ns(un,e),dn!==null&&ns(dn,e),hn!==null&&ns(hn,e),Ls.forEach(t),Ds.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Dm(n),n.blockedOn===null&&sn.shift()}var Nr=Kt.ReactCurrentBatchConfig,vo=!0;function $x(e,t,n,r){var s=J,i=Nr.transition;Nr.transition=null;try{J=1,lu(e,t,n,r)}finally{J=s,Nr.transition=i}}function Vx(e,t,n,r){var s=J,i=Nr.transition;Nr.transition=null;try{J=4,lu(e,t,n,r)}finally{J=s,Nr.transition=i}}function lu(e,t,n,r){if(vo){var s=Hl(e,t,n,r);if(s===null)Ka(e,t,r,xo,n),qd(e,r);else if(Dx(s,e,t,n,r))r.stopPropagation();else if(qd(e,r),t&4&&-1<Lx.indexOf(e)){for(;s!==null;){var i=ui(s);if(i!==null&&Im(i),i=Hl(e,t,n,r),i===null&&Ka(e,t,r,xo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ka(e,t,r,null,n)}}var xo=null;function Hl(e,t,n,r){if(xo=null,e=su(r),e=Dn(e),e!==null)if(t=Xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xo=e,null}function Fm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cx()){case iu:return 1;case Nm:return 4;case go:case Tx:return 16;case Pm:return 536870912;default:return 16}default:return 16}}var ln=null,cu=null,Zi=null;function $m(){if(Zi)return Zi;var e,t=cu,n=t.length,r,s="value"in ln?ln.value:ln.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Zi=s.slice(e,1<r?1-r:void 0)}function eo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Jd(){return!1}function tt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ni:Jd,this.isPropagationStopped=Jd,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=tt(Wr),ci=le({},Wr,{view:0,detail:0}),Ux=tt(ci),Da,Fa,rs,Qo=le({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(Da=e.screenX-rs.screenX,Fa=e.screenY-rs.screenY):Fa=Da=0,rs=e),Da)},movementY:function(e){return"movementY"in e?e.movementY:Fa}}),Qd=tt(Qo),zx=le({},Qo,{dataTransfer:0}),Bx=tt(zx),Hx=le({},ci,{relatedTarget:0}),$a=tt(Hx),Gx=le({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kx=tt(Gx),Wx=le({},Wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qx=tt(Wx),Yx=le({},Wr,{data:0}),Xd=tt(Yx),Jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xx[e])?!!t[e]:!1}function du(){return Zx}var ew=le({},ci,{key:function(e){if(e.key){var t=Jx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tw=tt(ew),nw=le({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=tt(nw),rw=le({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),sw=tt(rw),iw=le({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ow=tt(iw),aw=le({},Qo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lw=tt(aw),cw=[9,13,27,32],hu=Ut&&"CompositionEvent"in window,ws=null;Ut&&"documentMode"in document&&(ws=document.documentMode);var uw=Ut&&"TextEvent"in window&&!ws,Vm=Ut&&(!hu||ws&&8<ws&&11>=ws),eh=" ",th=!1;function Um(e,t){switch(e){case"keyup":return cw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function dw(e,t){switch(e){case"compositionend":return zm(t);case"keypress":return t.which!==32?null:(th=!0,eh);case"textInput":return e=t.data,e===eh&&th?null:e;default:return null}}function hw(e,t){if(dr)return e==="compositionend"||!hu&&Um(e,t)?(e=$m(),Zi=cu=ln=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vm&&t.locale!=="ko"?null:t.data;default:return null}}var fw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fw[e.type]:t==="textarea"}function Bm(e,t,n,r){wm(r),t=wo(t,"onChange"),0<t.length&&(n=new uu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bs=null,$s=null;function pw(e){eg(e,0)}function Xo(e){var t=pr(e);if(fm(t))return e}function mw(e,t){if(e==="change")return t}var Hm=!1;if(Ut){var Va;if(Ut){var Ua="oninput"in document;if(!Ua){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),Ua=typeof rh.oninput=="function"}Va=Ua}else Va=!1;Hm=Va&&(!document.documentMode||9<document.documentMode)}function sh(){bs&&(bs.detachEvent("onpropertychange",Gm),$s=bs=null)}function Gm(e){if(e.propertyName==="value"&&Xo($s)){var t=[];Bm(t,$s,e,su(e)),Sm(pw,t)}}function gw(e,t,n){e==="focusin"?(sh(),bs=t,$s=n,bs.attachEvent("onpropertychange",Gm)):e==="focusout"&&sh()}function yw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xo($s)}function vw(e,t){if(e==="click")return Xo(t)}function xw(e,t){if(e==="input"||e==="change")return Xo(t)}function ww(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:ww;function Vs(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!El.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function ih(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oh(e,t){var n=ih(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ih(n)}}function Km(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Km(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wm(){for(var e=window,t=fo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fo(e.document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bw(e){var t=Wm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Km(n.ownerDocument.documentElement,n)){if(r!==null&&fu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=oh(n,i);var o=oh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kw=Ut&&"documentMode"in document&&11>=document.documentMode,hr=null,Gl=null,ks=null,Kl=!1;function ah(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kl||hr==null||hr!==fo(r)||(r=hr,"selectionStart"in r&&fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ks&&Vs(ks,r)||(ks=r,r=wo(Gl,"onSelect"),0<r.length&&(t=new uu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function Pi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionend:Pi("Transition","TransitionEnd")},za={},qm={};Ut&&(qm=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Zo(e){if(za[e])return za[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qm)return za[e]=t[n];return e}var Ym=Zo("animationend"),Jm=Zo("animationiteration"),Qm=Zo("animationstart"),Xm=Zo("transitionend"),Zm=new Map,lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){Zm.set(e,t),Qn(t,[e])}for(var Ba=0;Ba<lh.length;Ba++){var Ha=lh[Ba],_w=Ha.toLowerCase(),Sw=Ha[0].toUpperCase()+Ha.slice(1);_n(_w,"on"+Sw)}_n(Ym,"onAnimationEnd");_n(Jm,"onAnimationIteration");_n(Qm,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(Xm,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function ch(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_x(r,t,void 0,e),e.currentTarget=null}function eg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ch(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ch(s,a,u),i=l}}}if(mo)throw e=Ul,mo=!1,Ul=null,e}function te(e,t){var n=t[Ql];n===void 0&&(n=t[Ql]=new Set);var r=e+"__bubble";n.has(r)||(tg(t,e,2,!1),n.add(r))}function Ga(e,t,n){var r=0;t&&(r|=4),tg(n,e,r,t)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function Us(e){if(!e[Ai]){e[Ai]=!0,lm.forEach(function(n){n!=="selectionchange"&&(jw.has(n)||Ga(n,!1,e),Ga(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ai]||(t[Ai]=!0,Ga("selectionchange",!1,t))}}function tg(e,t,n,r){switch(Fm(t)){case 1:var s=$x;break;case 4:s=Vx;break;default:s=lu}n=s.bind(null,t,n,e),s=void 0,!Vl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ka(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Dn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Sm(function(){var u=i,d=su(n),h=[];e:{var f=Zm.get(e);if(f!==void 0){var g=uu,x=e;switch(e){case"keypress":if(eo(n)===0)break e;case"keydown":case"keyup":g=tw;break;case"focusin":x="focus",g=$a;break;case"focusout":x="blur",g=$a;break;case"beforeblur":case"afterblur":g=$a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=sw;break;case Ym:case Jm:case Qm:g=Kx;break;case Xm:g=ow;break;case"scroll":g=Ux;break;case"wheel":g=lw;break;case"copy":case"cut":case"paste":g=qx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Zd}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=Ms(p,m),b!=null&&v.push(zs(p,b,y)))),w)break;p=p.return}0<v.length&&(f=new g(f,x,null,n,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Fl&&(x=n.relatedTarget||n.fromElement)&&(Dn(x)||x[zt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?Dn(x):null,x!==null&&(w=Xn(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=Qd,b="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Zd,b="onPointerLeave",m="onPointerEnter",p="pointer"),w=g==null?f:pr(g),y=x==null?f:pr(x),f=new v(b,p+"leave",g,n,d),f.target=w,f.relatedTarget=y,b=null,Dn(d)===u&&(v=new v(m,p+"enter",x,n,d),v.target=y,v.relatedTarget=w,b=v),w=b,g&&x)t:{for(v=g,m=x,p=0,y=v;y;y=rr(y))p++;for(y=0,b=m;b;b=rr(b))y++;for(;0<p-y;)v=rr(v),p--;for(;0<y-p;)m=rr(m),y--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=rr(v),m=rr(m)}v=null}else v=null;g!==null&&uh(h,f,g,v,!1),x!==null&&w!==null&&uh(h,w,x,v,!0)}}e:{if(f=u?pr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=mw;else if(nh(f))if(Hm)k=xw;else{k=yw;var E=gw}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=vw);if(k&&(k=k(e,u))){Bm(h,k,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Il(f,"number",f.value)}switch(E=u?pr(u):window,e){case"focusin":(nh(E)||E.contentEditable==="true")&&(hr=E,Gl=u,ks=null);break;case"focusout":ks=Gl=hr=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,ah(h,n,d);break;case"selectionchange":if(kw)break;case"keydown":case"keyup":ah(h,n,d)}var C;if(hu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else dr?Um(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Vm&&n.locale!=="ko"&&(dr||j!=="onCompositionStart"?j==="onCompositionEnd"&&dr&&(C=$m()):(ln=d,cu="value"in ln?ln.value:ln.textContent,dr=!0)),E=wo(u,j),0<E.length&&(j=new Xd(j,e,null,n,d),h.push({event:j,listeners:E}),C?j.data=C:(C=zm(n),C!==null&&(j.data=C)))),(C=uw?dw(e,n):hw(e,n))&&(u=wo(u,"onBeforeInput"),0<u.length&&(d=new Xd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}eg(h,t)})}function zs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ms(e,n),i!=null&&r.unshift(zs(e,i,s)),i=Ms(e,t),i!=null&&r.push(zs(e,i,s))),e=e.return}return r}function rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ms(n,i),l!=null&&o.unshift(zs(n,l,a))):s||(l=Ms(n,i),l!=null&&o.push(zs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ew=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function dh(e){return(typeof e=="string"?e:""+e).replace(Ew,`
`).replace(Cw,"")}function Ri(e,t,n){if(t=dh(t),dh(e)!==t&&n)throw Error(T(425))}function bo(){}var Wl=null,ql=null;function Yl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,Tw=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,Nw=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(e){return hh.resolve(null).then(e).catch(Pw)}:Jl;function Pw(e){setTimeout(function(){throw e})}function Wa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Fs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fs(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qr=Math.random().toString(36).slice(2),kt="__reactFiber$"+qr,Bs="__reactProps$"+qr,zt="__reactContainer$"+qr,Ql="__reactEvents$"+qr,Aw="__reactListeners$"+qr,Rw="__reactHandles$"+qr;function Dn(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fh(e);e!==null;){if(n=e[kt])return n;e=fh(e)}return t}e=n,n=e.parentNode}return null}function ui(e){return e=e[kt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function ea(e){return e[Bs]||null}var Xl=[],mr=-1;function Sn(e){return{current:e}}function ne(e){0>mr||(e.current=Xl[mr],Xl[mr]=null,mr--)}function Z(e,t){mr++,Xl[mr]=e.current,e.current=t}var wn={},Oe=Sn(wn),Ge=Sn(!1),Gn=wn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ke(e){return e=e.childContextTypes,e!=null}function ko(){ne(Ge),ne(Oe)}function ph(e,t,n){if(Oe.current!==wn)throw Error(T(168));Z(Oe,t),Z(Ge,n)}function ng(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,gx(e)||"Unknown",s));return le({},n,r)}function _o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Gn=Oe.current,Z(Oe,e),Z(Ge,Ge.current),!0}function mh(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=ng(e,t,Gn),r.__reactInternalMemoizedMergedChildContext=e,ne(Ge),ne(Oe),Z(Oe,e)):ne(Ge),Z(Ge,n)}var Rt=null,ta=!1,qa=!1;function rg(e){Rt===null?Rt=[e]:Rt.push(e)}function Iw(e){ta=!0,rg(e)}function jn(){if(!qa&&Rt!==null){qa=!0;var e=0,t=J;try{var n=Rt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,ta=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),Tm(iu,jn),s}finally{J=t,qa=!1}}return null}var gr=[],yr=0,So=null,jo=0,st=[],it=0,Kn=null,It=1,Ot="";function An(e,t){gr[yr++]=jo,gr[yr++]=So,So=e,jo=t}function sg(e,t,n){st[it++]=It,st[it++]=Ot,st[it++]=Kn,Kn=e;var r=It;e=Ot;var s=32-gt(r)-1;r&=~(1<<s),n+=1;var i=32-gt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,It=1<<32-gt(t)+s|n<<s|r,Ot=i+e}else It=1<<i|n<<s|r,Ot=e}function pu(e){e.return!==null&&(An(e,1),sg(e,1,0))}function mu(e){for(;e===So;)So=gr[--yr],gr[yr]=null,jo=gr[--yr],gr[yr]=null;for(;e===Kn;)Kn=st[--it],st[it]=null,Ot=st[--it],st[it]=null,It=st[--it],st[it]=null}var Qe=null,Je=null,re=!1,mt=null;function ig(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,Je=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kn!==null?{id:It,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qe=e,Je=null,!0):!1;default:return!1}}function Zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ec(e){if(re){var t=Je;if(t){var n=t;if(!gh(e,t)){if(Zl(e))throw Error(T(418));t=fn(n.nextSibling);var r=Qe;t&&gh(e,t)?ig(r,n):(e.flags=e.flags&-4097|2,re=!1,Qe=e)}}else{if(Zl(e))throw Error(T(418));e.flags=e.flags&-4097|2,re=!1,Qe=e}}}function yh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function Ii(e){if(e!==Qe)return!1;if(!re)return yh(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yl(e.type,e.memoizedProps)),t&&(t=Je)){if(Zl(e))throw og(),Error(T(418));for(;t;)ig(e,t),t=fn(t.nextSibling)}if(yh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Qe?fn(e.stateNode.nextSibling):null;return!0}function og(){for(var e=Je;e;)e=fn(e.nextSibling)}function Lr(){Je=Qe=null,re=!1}function gu(e){mt===null?mt=[e]:mt.push(e)}var Ow=Kt.ReactCurrentBatchConfig;function ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vh(e){var t=e._init;return t(e._payload)}function ag(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=yn(m,p),m.index=0,m.sibling=null,m}function i(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,b){return p===null||p.tag!==6?(p=tl(y,m.mode,b),p.return=m,p):(p=s(p,y),p.return=m,p)}function l(m,p,y,b){var k=y.type;return k===ur?d(m,p,y.props.children,b,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===en&&vh(k)===p.type)?(b=s(p,y.props),b.ref=ss(m,p,y),b.return=m,b):(b=ao(y.type,y.key,y.props,null,m.mode,b),b.ref=ss(m,p,y),b.return=m,b)}function u(m,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=nl(y,m.mode,b),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function d(m,p,y,b,k){return p===null||p.tag!==7?(p=Bn(y,m.mode,b,k),p.return=m,p):(p=s(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=tl(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _i:return y=ao(p.type,p.key,p.props,null,m.mode,y),y.ref=ss(m,null,p),y.return=m,y;case cr:return p=nl(p,m.mode,y),p.return=m,p;case en:var b=p._init;return h(m,b(p._payload),y)}if(hs(p)||Zr(p))return p=Bn(p,m.mode,y,null),p.return=m,p;Oi(m,p)}return null}function f(m,p,y,b){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(m,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _i:return y.key===k?l(m,p,y,b):null;case cr:return y.key===k?u(m,p,y,b):null;case en:return k=y._init,f(m,p,k(y._payload),b)}if(hs(y)||Zr(y))return k!==null?null:d(m,p,y,b,null);Oi(m,y)}return null}function g(m,p,y,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,a(p,m,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _i:return m=m.get(b.key===null?y:b.key)||null,l(p,m,b,k);case cr:return m=m.get(b.key===null?y:b.key)||null,u(p,m,b,k);case en:var E=b._init;return g(m,p,y,E(b._payload),k)}if(hs(b)||Zr(b))return m=m.get(y)||null,d(p,m,b,k,null);Oi(p,b)}return null}function x(m,p,y,b){for(var k=null,E=null,C=p,j=p=0,I=null;C!==null&&j<y.length;j++){C.index>j?(I=C,C=null):I=C.sibling;var O=f(m,C,y[j],b);if(O===null){C===null&&(C=I);break}e&&C&&O.alternate===null&&t(m,C),p=i(O,p,j),E===null?k=O:E.sibling=O,E=O,C=I}if(j===y.length)return n(m,C),re&&An(m,j),k;if(C===null){for(;j<y.length;j++)C=h(m,y[j],b),C!==null&&(p=i(C,p,j),E===null?k=C:E.sibling=C,E=C);return re&&An(m,j),k}for(C=r(m,C);j<y.length;j++)I=g(C,m,j,y[j],b),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?j:I.key),p=i(I,p,j),E===null?k=I:E.sibling=I,E=I);return e&&C.forEach(function(A){return t(m,A)}),re&&An(m,j),k}function v(m,p,y,b){var k=Zr(y);if(typeof k!="function")throw Error(T(150));if(y=k.call(y),y==null)throw Error(T(151));for(var E=k=null,C=p,j=p=0,I=null,O=y.next();C!==null&&!O.done;j++,O=y.next()){C.index>j?(I=C,C=null):I=C.sibling;var A=f(m,C,O.value,b);if(A===null){C===null&&(C=I);break}e&&C&&A.alternate===null&&t(m,C),p=i(A,p,j),E===null?k=A:E.sibling=A,E=A,C=I}if(O.done)return n(m,C),re&&An(m,j),k;if(C===null){for(;!O.done;j++,O=y.next())O=h(m,O.value,b),O!==null&&(p=i(O,p,j),E===null?k=O:E.sibling=O,E=O);return re&&An(m,j),k}for(C=r(m,C);!O.done;j++,O=y.next())O=g(C,m,j,O.value,b),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?j:O.key),p=i(O,p,j),E===null?k=O:E.sibling=O,E=O);return e&&C.forEach(function(P){return t(m,P)}),re&&An(m,j),k}function w(m,p,y,b){if(typeof y=="object"&&y!==null&&y.type===ur&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case _i:e:{for(var k=y.key,E=p;E!==null;){if(E.key===k){if(k=y.type,k===ur){if(E.tag===7){n(m,E.sibling),p=s(E,y.props.children),p.return=m,m=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===en&&vh(k)===E.type){n(m,E.sibling),p=s(E,y.props),p.ref=ss(m,E,y),p.return=m,m=p;break e}n(m,E);break}else t(m,E);E=E.sibling}y.type===ur?(p=Bn(y.props.children,m.mode,b,y.key),p.return=m,m=p):(b=ao(y.type,y.key,y.props,null,m.mode,b),b.ref=ss(m,p,y),b.return=m,m=b)}return o(m);case cr:e:{for(E=y.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=nl(y,m.mode,b),p.return=m,m=p}return o(m);case en:return E=y._init,w(m,p,E(y._payload),b)}if(hs(y))return x(m,p,y,b);if(Zr(y))return v(m,p,y,b);Oi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,y),p.return=m,m=p):(n(m,p),p=tl(y,m.mode,b),p.return=m,m=p),o(m)):n(m,p)}return w}var Dr=ag(!0),lg=ag(!1),Eo=Sn(null),Co=null,vr=null,yu=null;function vu(){yu=vr=Co=null}function xu(e){var t=Eo.current;ne(Eo),e._currentValue=t}function tc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){Co=e,yu=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(yu!==e)if(e={context:e,memoizedValue:t,next:null},vr===null){if(Co===null)throw Error(T(308));vr=e,Co.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return t}var Fn=null;function wu(e){Fn===null?Fn=[e]:Fn.push(e)}function cg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,wu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Bt(e,r)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tn=!1;function bu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ug(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Bt(e,n)}return s=r.interleaved,s===null?(t.next=t,wu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Bt(e,n)}function to(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}function xh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function To(e,t,n,r){var s=e.updateQueue;tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(f=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(g,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(g,h,f):x,f==null)break e;h=le({},h,f);break e;case 2:tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);qn|=o,e.lanes=o,e.memoizedState=h}}function wh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var di={},St=Sn(di),Hs=Sn(di),Gs=Sn(di);function $n(e){if(e===di)throw Error(T(174));return e}function ku(e,t){switch(Z(Gs,t),Z(Hs,e),Z(St,di),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ml(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ml(t,e)}ne(St),Z(St,t)}function Fr(){ne(St),ne(Hs),ne(Gs)}function dg(e){$n(Gs.current);var t=$n(St.current),n=Ml(t,e.type);t!==n&&(Z(Hs,e),Z(St,n))}function _u(e){Hs.current===e&&(ne(St),ne(Hs))}var ie=Sn(0);function No(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ya=[];function Su(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var no=Kt.ReactCurrentDispatcher,Ja=Kt.ReactCurrentBatchConfig,Wn=0,ae=null,me=null,ve=null,Po=!1,_s=!1,Ks=0,Mw=0;function Ce(){throw Error(T(321))}function ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function Eu(e,t,n,r,s,i){if(Wn=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=e===null||e.memoizedState===null?$w:Vw,e=n(r,s),_s){i=0;do{if(_s=!1,Ks=0,25<=i)throw Error(T(301));i+=1,ve=me=null,t.updateQueue=null,no.current=Uw,e=n(r,s)}while(_s)}if(no.current=Ao,t=me!==null&&me.next!==null,Wn=0,ve=me=ae=null,Po=!1,t)throw Error(T(300));return e}function Cu(){var e=Ks!==0;return Ks=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ae.memoizedState=ve=e:ve=ve.next=e,ve}function ut(){if(me===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ve===null?ae.memoizedState:ve.next;if(t!==null)ve=t,me=e;else{if(e===null)throw Error(T(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ve===null?ae.memoizedState=ve=e:ve=ve.next=e}return ve}function Ws(e,t){return typeof t=="function"?t(e):t}function Qa(e){var t=ut(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Wn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ae.lanes|=d,qn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,vt(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,qn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xa(e){var t=ut(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);vt(i,t.memoizedState)||(He=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function hg(){}function fg(e,t){var n=ae,r=ut(),s=t(),i=!vt(r.memoizedState,s);if(i&&(r.memoizedState=s,He=!0),r=r.queue,Tu(gg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,qs(9,mg.bind(null,n,r,s,t),void 0,null),xe===null)throw Error(T(349));Wn&30||pg(n,t,s)}return s}function pg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mg(e,t,n,r){t.value=n,t.getSnapshot=r,yg(t)&&vg(e)}function gg(e,t,n){return n(function(){yg(t)&&vg(e)})}function yg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function vg(e){var t=Bt(e,1);t!==null&&yt(t,e,1,-1)}function bh(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Fw.bind(null,ae,e),[t.memoizedState,e]}function qs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xg(){return ut().memoizedState}function ro(e,t,n,r){var s=bt();ae.flags|=e,s.memoizedState=qs(1|t,n,void 0,r===void 0?null:r)}function na(e,t,n,r){var s=ut();r=r===void 0?null:r;var i=void 0;if(me!==null){var o=me.memoizedState;if(i=o.destroy,r!==null&&ju(r,o.deps)){s.memoizedState=qs(t,n,i,r);return}}ae.flags|=e,s.memoizedState=qs(1|t,n,i,r)}function kh(e,t){return ro(8390656,8,e,t)}function Tu(e,t){return na(2048,8,e,t)}function wg(e,t){return na(4,2,e,t)}function bg(e,t){return na(4,4,e,t)}function kg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _g(e,t,n){return n=n!=null?n.concat([e]):null,na(4,4,kg.bind(null,t,e),n)}function Nu(){}function Sg(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jg(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Eg(e,t,n){return Wn&21?(vt(n,t)||(n=Am(),ae.lanes|=n,qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function Lw(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Ja.transition;Ja.transition={};try{e(!1),t()}finally{J=n,Ja.transition=r}}function Cg(){return ut().memoizedState}function Dw(e,t,n){var r=gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tg(e))Ng(t,n);else if(n=cg(e,t,n,r),n!==null){var s=De();yt(n,e,r,s),Pg(n,t,r)}}function Fw(e,t,n){var r=gn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tg(e))Ng(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,vt(a,o)){var l=t.interleaved;l===null?(s.next=s,wu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=cg(e,t,s,r),n!==null&&(s=De(),yt(n,e,r,s),Pg(n,t,r))}}function Tg(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Ng(e,t){_s=Po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}var Ao={readContext:ct,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},$w={readContext:ct,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:kh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ro(4194308,4,kg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dw.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:bh,useDebugValue:Nu,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=bh(!1),t=e[0];return e=Lw.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,s=bt();if(re){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),xe===null)throw Error(T(349));Wn&30||pg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,kh(gg.bind(null,r,i,e),[e]),r.flags|=2048,qs(9,mg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=bt(),t=xe.identifierPrefix;if(re){var n=Ot,r=It;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ks++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vw={readContext:ct,useCallback:Sg,useContext:ct,useEffect:Tu,useImperativeHandle:_g,useInsertionEffect:wg,useLayoutEffect:bg,useMemo:jg,useReducer:Qa,useRef:xg,useState:function(){return Qa(Ws)},useDebugValue:Nu,useDeferredValue:function(e){var t=ut();return Eg(t,me.memoizedState,e)},useTransition:function(){var e=Qa(Ws)[0],t=ut().memoizedState;return[e,t]},useMutableSource:hg,useSyncExternalStore:fg,useId:Cg,unstable_isNewReconciler:!1},Uw={readContext:ct,useCallback:Sg,useContext:ct,useEffect:Tu,useImperativeHandle:_g,useInsertionEffect:wg,useLayoutEffect:bg,useMemo:jg,useReducer:Xa,useRef:xg,useState:function(){return Xa(Ws)},useDebugValue:Nu,useDeferredValue:function(e){var t=ut();return me===null?t.memoizedState=e:Eg(t,me.memoizedState,e)},useTransition:function(){var e=Xa(Ws)[0],t=ut().memoizedState;return[e,t]},useMutableSource:hg,useSyncExternalStore:fg,useId:Cg,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ra={isMounted:function(e){return(e=e._reactInternals)?Xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=De(),s=gn(e),i=Lt(r,s);i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,s),t!==null&&(yt(t,e,s,r),to(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=De(),s=gn(e),i=Lt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,s),t!==null&&(yt(t,e,s,r),to(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),r=gn(e),s=Lt(n,r);s.tag=2,t!=null&&(s.callback=t),t=pn(e,s,r),t!==null&&(yt(t,e,r,n),to(t,e,r))}};function _h(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Vs(n,r)||!Vs(s,i):!0}function Ag(e,t,n){var r=!1,s=wn,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=Ke(t)?Gn:Oe.current,r=t.contextTypes,i=(r=r!=null)?Mr(e,s):wn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function rc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},bu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=Ke(t)?Gn:Oe.current,s.context=Mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ra.enqueueReplaceState(s,s.state,null),To(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $r(e,t){try{var n="",r=t;do n+=mx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Za(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zw=typeof WeakMap=="function"?WeakMap:Map;function Rg(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Io||(Io=!0,pc=r),sc(e,t)},n}function Ig(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){sc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sc(e,t),typeof r!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=nb.bind(null,e,t,n),t.then(e,e))}function Eh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ch(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var Bw=Kt.ReactCurrentOwner,He=!1;function Me(e,t,n,r){t.child=e===null?lg(t,null,n,r):Dr(t,e.child,n,r)}function Th(e,t,n,r,s){n=n.render;var i=t.ref;return Pr(t,s),r=Eu(e,t,n,r,i,s),n=Cu(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(re&&n&&pu(t),t.flags|=1,Me(e,t,r,s),t.child)}function Nh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Du(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Og(e,t,i,r,s)):(e=ao(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vs,n(o,r)&&e.ref===t.ref)return Ht(e,t,s)}return t.flags|=1,e=yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Og(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Vs(i,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Ht(e,t,s)}return ic(e,t,n,r,s)}function Mg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(wr,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(wr,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(wr,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Z(wr,Ye),Ye|=r;return Me(e,t,s,n),t.child}function Lg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ic(e,t,n,r,s){var i=Ke(n)?Gn:Oe.current;return i=Mr(t,i),Pr(t,s),n=Eu(e,t,n,r,i,s),r=Cu(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(re&&r&&pu(t),t.flags|=1,Me(e,t,n,s),t.child)}function Ph(e,t,n,r,s){if(Ke(n)){var i=!0;_o(t)}else i=!1;if(Pr(t,s),t.stateNode===null)so(e,t),Ag(t,n,r),rc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=Ke(n)?Gn:Oe.current,u=Mr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Sh(t,o,r,u),tn=!1;var f=t.memoizedState;o.state=f,To(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Ge.current||tn?(typeof d=="function"&&(nc(t,n,d,r),l=t.memoizedState),(a=tn||_h(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ug(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ht(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ct(l):(l=Ke(n)?Gn:Oe.current,l=Mr(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Sh(t,o,r,l),tn=!1,f=t.memoizedState,o.state=f,To(t,r,o,s);var x=t.memoizedState;a!==h||f!==x||Ge.current||tn?(typeof g=="function"&&(nc(t,n,g,r),x=t.memoizedState),(u=tn||_h(t,n,u,r,f,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return oc(e,t,n,r,i,s)}function oc(e,t,n,r,s,i){Lg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&mh(t,n,!1),Ht(e,t,i);r=t.stateNode,Bw.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dr(t,e.child,null,i),t.child=Dr(t,null,a,i)):Me(e,t,a,i),t.memoizedState=r.state,s&&mh(t,n,!0),t.child}function Dg(e){var t=e.stateNode;t.pendingContext?ph(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ph(e,t.context,!1),ku(e,t.containerInfo)}function Ah(e,t,n,r,s){return Lr(),gu(s),t.flags|=256,Me(e,t,n,r),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0};function lc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fg(e,t,n){var r=t.pendingProps,s=ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(ie,s&1),e===null)return ec(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=oa(o,r,0,null),e=Bn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lc(n),t.memoizedState=ac,e):Pu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Hw(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=yn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=yn(a,i):(i=Bn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?lc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ac,r}return i=e.child,e=i.sibling,r=yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pu(e,t){return t=oa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mi(e,t,n,r){return r!==null&&gu(r),Dr(t,e.child,null,n),e=Pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hw(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Za(Error(T(422))),Mi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=oa({mode:"visible",children:r.children},s,0,null),i=Bn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Dr(t,e.child,null,o),t.child.memoizedState=lc(o),t.memoizedState=ac,i);if(!(t.mode&1))return Mi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=Za(i,r,void 0),Mi(e,t,o,r)}if(a=(o&e.childLanes)!==0,He||a){if(r=xe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bt(e,s),yt(r,e,s,-1))}return Lu(),r=Za(Error(T(421))),Mi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Je=fn(s.nextSibling),Qe=t,re=!0,mt=null,e!==null&&(st[it++]=It,st[it++]=Ot,st[it++]=Kn,It=e.id,Ot=e.overflow,Kn=t),t=Pu(t,r.children),t.flags|=4096,t)}function Rh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tc(e.return,t,n)}function el(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $g(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Me(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rh(e,n,t);else if(e.tag===19)Rh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&No(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),el(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&No(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}el(t,!0,n,null,i);break;case"together":el(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function so(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Gw(e,t,n){switch(t.tag){case 3:Dg(t),Lr();break;case 5:dg(t);break;case 1:Ke(t.type)&&_o(t);break;case 4:ku(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Z(Eo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Fg(e,t,n):(Z(ie,ie.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);Z(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $g(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Mg(e,t,n)}return Ht(e,t,n)}var Vg,cc,Ug,zg;Vg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cc=function(){};Ug=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,$n(St.current);var i=null;switch(n){case"input":s=Al(e,s),r=Al(e,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=Ol(e,s),r=Ol(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bo)}Ll(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Is.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Is.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&te("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};zg=function(e,t,n,r){n!==r&&(t.flags|=4)};function is(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kw(e,t,n){var r=t.pendingProps;switch(mu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Ke(t.type)&&ko(),Te(t),null;case 3:return r=t.stateNode,Fr(),ne(Ge),ne(Oe),Su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(yc(mt),mt=null))),cc(e,t),Te(t),null;case 5:_u(t);var s=$n(Gs.current);if(n=t.type,e!==null&&t.stateNode!=null)Ug(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Te(t),null}if(e=$n(St.current),Ii(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[kt]=t,r[Bs]=i,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<ps.length;s++)te(ps[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Ud(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Bd(r,i),te("invalid",r)}Ll(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ri(r.textContent,a,e),s=["children",""+a]):Is.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&te("scroll",r)}switch(n){case"input":Si(r),zd(r,i,!0);break;case"textarea":Si(r),Hd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[kt]=t,e[Bs]=r,Vg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Dl(n,r),n){case"dialog":te("cancel",e),te("close",e),s=r;break;case"iframe":case"object":case"embed":te("load",e),s=r;break;case"video":case"audio":for(s=0;s<ps.length;s++)te(ps[s],e);s=r;break;case"source":te("error",e),s=r;break;case"img":case"image":case"link":te("error",e),te("load",e),s=r;break;case"details":te("toggle",e),s=r;break;case"input":Ud(e,r),s=Al(e,r),te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),te("invalid",e);break;case"textarea":Bd(e,r),s=Ol(e,r),te("invalid",e);break;default:s=r}Ll(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?xm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ym(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Os(e,l):typeof l=="number"&&Os(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Is.hasOwnProperty(i)?l!=null&&i==="onScroll"&&te("scroll",e):l!=null&&eu(e,i,l,o))}switch(n){case"input":Si(e),zd(e,r,!1);break;case"textarea":Si(e),Hd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Er(e,!!r.multiple,i,!1):r.defaultValue!=null&&Er(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)zg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=$n(Gs.current),$n(St.current),Ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[kt]=t,(i=r.nodeValue!==n)&&(e=Qe,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=t,t.stateNode=r}return Te(t),null;case 13:if(ne(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Je!==null&&t.mode&1&&!(t.flags&128))og(),Lr(),t.flags|=98560,i=!1;else if(i=Ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[kt]=t}else Lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),i=!1}else mt!==null&&(yc(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ge===0&&(ge=3):Lu())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return Fr(),cc(e,t),e===null&&Us(t.stateNode.containerInfo),Te(t),null;case 10:return xu(t.type._context),Te(t),null;case 17:return Ke(t.type)&&ko(),Te(t),null;case 19:if(ne(ie),i=t.memoizedState,i===null)return Te(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)is(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=No(e),o!==null){for(t.flags|=128,is(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&fe()>Vr&&(t.flags|=128,r=!0,is(i,!1),t.lanes=4194304)}else{if(!r)if(e=No(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),is(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!re)return Te(t),null}else 2*fe()-i.renderingStartTime>Vr&&n!==1073741824&&(t.flags|=128,r=!0,is(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=fe(),t.sibling=null,n=ie.current,Z(ie,r?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return Mu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Ww(e,t){switch(mu(t),t.tag){case 1:return Ke(t.type)&&ko(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(),ne(Ge),ne(Oe),Su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _u(t),null;case 13:if(ne(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(ie),null;case 4:return Fr(),null;case 10:return xu(t.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var Li=!1,Pe=!1,qw=typeof WeakSet=="function"?WeakSet:Set,R=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function uc(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Ih=!1;function Yw(e,t){if(Wl=vo,e=Wm(),fu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ql={focusedElem:e,selectionRange:n},vo=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ht(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(b){ue(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return x=Ih,Ih=!1,x}function Ss(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&uc(t,n,i)}s=s.next}while(s!==r)}}function sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bg(e){var t=e.alternate;t!==null&&(e.alternate=null,Bg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Bs],delete t[Ql],delete t[Aw],delete t[Rw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hg(e){return e.tag===5||e.tag===3||e.tag===4}function Oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bo));else if(r!==4&&(e=e.child,e!==null))for(hc(e,t,n),e=e.sibling;e!==null;)hc(e,t,n),e=e.sibling}function fc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fc(e,t,n),e=e.sibling;e!==null;)fc(e,t,n),e=e.sibling}var we=null,ft=!1;function qt(e,t,n){for(n=n.child;n!==null;)Gg(e,t,n),n=n.sibling}function Gg(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Jo,n)}catch{}switch(n.tag){case 5:Pe||xr(n,t);case 6:var r=we,s=ft;we=null,qt(e,t,n),we=r,ft=s,we!==null&&(ft?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(ft?(e=we,n=n.stateNode,e.nodeType===8?Wa(e.parentNode,n):e.nodeType===1&&Wa(e,n),Fs(e)):Wa(we,n.stateNode));break;case 4:r=we,s=ft,we=n.stateNode.containerInfo,ft=!0,qt(e,t,n),we=r,ft=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&uc(n,t,o),s=s.next}while(s!==r)}qt(e,t,n);break;case 1:if(!Pe&&(xr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,qt(e,t,n),Pe=r):qt(e,t,n);break;default:qt(e,t,n)}}function Mh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qw),t.forEach(function(r){var s=sb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,ft=!1;break e;case 3:we=a.stateNode.containerInfo,ft=!0;break e;case 4:we=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(we===null)throw Error(T(160));Gg(i,o,s),we=null,ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kg(t,e),t=t.sibling}function Kg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),xt(e),r&4){try{Ss(3,e,e.return),sa(3,e)}catch(v){ue(e,e.return,v)}try{Ss(5,e,e.return)}catch(v){ue(e,e.return,v)}}break;case 1:dt(t,e),xt(e),r&512&&n!==null&&xr(n,n.return);break;case 5:if(dt(t,e),xt(e),r&512&&n!==null&&xr(n,n.return),e.flags&32){var s=e.stateNode;try{Os(s,"")}catch(v){ue(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pm(s,i),Dl(a,o);var u=Dl(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?xm(s,h):d==="dangerouslySetInnerHTML"?ym(s,h):d==="children"?Os(s,h):eu(s,d,h,u)}switch(a){case"input":Rl(s,i);break;case"textarea":mm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Er(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Er(s,!!i.multiple,i.defaultValue,!0):Er(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bs]=i}catch(v){ue(e,e.return,v)}}break;case 6:if(dt(t,e),xt(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ue(e,e.return,v)}}break;case 3:if(dt(t,e),xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fs(t.containerInfo)}catch(v){ue(e,e.return,v)}break;case 4:dt(t,e),xt(e);break;case 13:dt(t,e),xt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Iu=fe())),r&4&&Mh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(u=Pe)||d,dt(t,e),Pe=u):dt(t,e),xt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ss(4,f,f.return);break;case 1:xr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ue(r,n,v)}}break;case 5:xr(f,f.return);break;case 22:if(f.memoizedState!==null){Dh(h);continue}}g!==null?(g.return=f,R=g):Dh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vm("display",o))}catch(v){ue(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ue(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dt(t,e),xt(e),r&4&&Mh(e);break;case 21:break;default:dt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Hg(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Os(s,""),r.flags&=-33);var i=Oh(e);fc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Oh(e);hc(e,a,o);break;default:throw Error(T(161))}}catch(l){ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jw(e,t,n){R=e,Wg(e)}function Wg(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Li;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Pe;a=Li;var u=Pe;if(Li=o,(Pe=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?Fh(s):l!==null?(l.return=o,R=l):Fh(s);for(;i!==null;)R=i,Wg(i),i=i.sibling;R=s,Li=a,Pe=u}Lh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Lh(e)}}function Lh(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||sa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Fs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Pe||t.flags&512&&dc(t)}catch(f){ue(t,t.return,f)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function Dh(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function Fh(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sa(4,t)}catch(l){ue(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ue(t,s,l)}}var i=t.return;try{dc(t)}catch(l){ue(t,i,l)}break;case 5:var o=t.return;try{dc(t)}catch(l){ue(t,o,l)}}}catch(l){ue(t,t.return,l)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var Qw=Math.ceil,Ro=Kt.ReactCurrentDispatcher,Au=Kt.ReactCurrentOwner,at=Kt.ReactCurrentBatchConfig,W=0,xe=null,pe=null,_e=0,Ye=0,wr=Sn(0),ge=0,Ys=null,qn=0,ia=0,Ru=0,js=null,ze=null,Iu=0,Vr=1/0,Pt=null,Io=!1,pc=null,mn=null,Di=!1,cn=null,Oo=0,Es=0,mc=null,io=-1,oo=0;function De(){return W&6?fe():io!==-1?io:io=fe()}function gn(e){return e.mode&1?W&2&&_e!==0?_e&-_e:Ow.transition!==null?(oo===0&&(oo=Am()),oo):(e=J,e!==0||(e=window.event,e=e===void 0?16:Fm(e.type)),e):1}function yt(e,t,n,r){if(50<Es)throw Es=0,mc=null,Error(T(185));li(e,n,r),(!(W&2)||e!==xe)&&(e===xe&&(!(W&2)&&(ia|=n),ge===4&&on(e,_e)),We(e,r),n===1&&W===0&&!(t.mode&1)&&(Vr=fe()+500,ta&&jn()))}function We(e,t){var n=e.callbackNode;Ox(e,t);var r=yo(e,e===xe?_e:0);if(r===0)n!==null&&Wd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wd(n),t===1)e.tag===0?Iw($h.bind(null,e)):rg($h.bind(null,e)),Nw(function(){!(W&6)&&jn()}),n=null;else{switch(Rm(r)){case 1:n=iu;break;case 4:n=Nm;break;case 16:n=go;break;case 536870912:n=Pm;break;default:n=go}n=t0(n,qg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qg(e,t){if(io=-1,oo=0,W&6)throw Error(T(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=yo(e,e===xe?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Mo(e,r);else{t=r;var s=W;W|=2;var i=Jg();(xe!==e||_e!==t)&&(Pt=null,Vr=fe()+500,zn(e,t));do try{eb();break}catch(a){Yg(e,a)}while(!0);vu(),Ro.current=i,W=s,pe!==null?t=0:(xe=null,_e=0,t=ge)}if(t!==0){if(t===2&&(s=zl(e),s!==0&&(r=s,t=gc(e,s))),t===1)throw n=Ys,zn(e,0),on(e,r),We(e,fe()),n;if(t===6)on(e,r);else{if(s=e.current.alternate,!(r&30)&&!Xw(s)&&(t=Mo(e,r),t===2&&(i=zl(e),i!==0&&(r=i,t=gc(e,i))),t===1))throw n=Ys,zn(e,0),on(e,r),We(e,fe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Rn(e,ze,Pt);break;case 3:if(on(e,r),(r&130023424)===r&&(t=Iu+500-fe(),10<t)){if(yo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){De(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Jl(Rn.bind(null,e,ze,Pt),t);break}Rn(e,ze,Pt);break;case 4:if(on(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-gt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qw(r/1960))-r,10<r){e.timeoutHandle=Jl(Rn.bind(null,e,ze,Pt),r);break}Rn(e,ze,Pt);break;case 5:Rn(e,ze,Pt);break;default:throw Error(T(329))}}}return We(e,fe()),e.callbackNode===n?qg.bind(null,e):null}function gc(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(zn(e,t).flags|=256),e=Mo(e,t),e!==2&&(t=ze,ze=n,t!==null&&yc(t)),e}function yc(e){ze===null?ze=e:ze.push.apply(ze,e)}function Xw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t){for(t&=~Ru,t&=~ia,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function $h(e){if(W&6)throw Error(T(327));Ar();var t=yo(e,0);if(!(t&1))return We(e,fe()),null;var n=Mo(e,t);if(e.tag!==0&&n===2){var r=zl(e);r!==0&&(t=r,n=gc(e,r))}if(n===1)throw n=Ys,zn(e,0),on(e,t),We(e,fe()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,ze,Pt),We(e,fe()),null}function Ou(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Vr=fe()+500,ta&&jn())}}function Yn(e){cn!==null&&cn.tag===0&&!(W&6)&&Ar();var t=W;W|=1;var n=at.transition,r=J;try{if(at.transition=null,J=1,e)return e()}finally{J=r,at.transition=n,W=t,!(W&6)&&jn()}}function Mu(){Ye=wr.current,ne(wr)}function zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tw(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(mu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ko();break;case 3:Fr(),ne(Ge),ne(Oe),Su();break;case 5:_u(r);break;case 4:Fr();break;case 13:ne(ie);break;case 19:ne(ie);break;case 10:xu(r.type._context);break;case 22:case 23:Mu()}n=n.return}if(xe=e,pe=e=yn(e.current,null),_e=Ye=t,ge=0,Ys=null,Ru=ia=qn=0,ze=js=null,Fn!==null){for(t=0;t<Fn.length;t++)if(n=Fn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fn=null}return e}function Yg(e,t){do{var n=pe;try{if(vu(),no.current=Ao,Po){for(var r=ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Po=!1}if(Wn=0,ve=me=ae=null,_s=!1,Ks=0,Au.current=null,n===null||n.return===null){ge=1,Ys=t,pe=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Eh(o);if(g!==null){g.flags&=-257,Ch(g,o,a,i,t),g.mode&1&&jh(i,u,t),t=g,l=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){jh(i,u,t),Lu();break e}l=Error(T(426))}}else if(re&&a.mode&1){var w=Eh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ch(w,o,a,i,t),gu($r(l,a));break e}}i=l=$r(l,a),ge!==4&&(ge=2),js===null?js=[i]:js.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Rg(i,l,t);xh(i,m);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mn===null||!mn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Ig(i,a,t);xh(i,b);break e}}i=i.return}while(i!==null)}Xg(n)}catch(k){t=k,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function Jg(){var e=Ro.current;return Ro.current=Ao,e===null?Ao:e}function Lu(){(ge===0||ge===3||ge===2)&&(ge=4),xe===null||!(qn&268435455)&&!(ia&268435455)||on(xe,_e)}function Mo(e,t){var n=W;W|=2;var r=Jg();(xe!==e||_e!==t)&&(Pt=null,zn(e,t));do try{Zw();break}catch(s){Yg(e,s)}while(!0);if(vu(),W=n,Ro.current=r,pe!==null)throw Error(T(261));return xe=null,_e=0,ge}function Zw(){for(;pe!==null;)Qg(pe)}function eb(){for(;pe!==null&&!jx();)Qg(pe)}function Qg(e){var t=e0(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Xg(e):pe=t,Au.current=null}function Xg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ww(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,pe=null;return}}else if(n=Kw(n,t,Ye),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ge===0&&(ge=5)}function Rn(e,t,n){var r=J,s=at.transition;try{at.transition=null,J=1,tb(e,t,n,r)}finally{at.transition=s,J=r}return null}function tb(e,t,n,r){do Ar();while(cn!==null);if(W&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Mx(e,i),e===xe&&(pe=xe=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Di||(Di=!0,t0(go,function(){return Ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=at.transition,at.transition=null;var o=J;J=1;var a=W;W|=4,Au.current=null,Yw(e,n),Kg(n,e),bw(ql),vo=!!Wl,ql=Wl=null,e.current=n,Jw(n),Ex(),W=a,J=o,at.transition=i}else e.current=n;if(Di&&(Di=!1,cn=e,Oo=s),i=e.pendingLanes,i===0&&(mn=null),Nx(n.stateNode),We(e,fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Io)throw Io=!1,e=pc,pc=null,e;return Oo&1&&e.tag!==0&&Ar(),i=e.pendingLanes,i&1?e===mc?Es++:(Es=0,mc=e):Es=0,jn(),null}function Ar(){if(cn!==null){var e=Rm(Oo),t=at.transition,n=J;try{if(at.transition=null,J=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,Oo=0,W&6)throw Error(T(331));var s=W;for(W|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Ss(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,g=d.return;if(Bg(d),d===u){R=null;break}if(f!==null){f.return=g,R=f;break}R=g}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ss(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,R=m;break e}R=i.return}}var p=e.current;for(R=p;R!==null;){o=R;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,R=y;else e:for(o=p;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sa(9,a)}}catch(k){ue(a,a.return,k)}if(a===o){R=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,R=b;break e}R=a.return}}if(W=s,jn(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Jo,e)}catch{}r=!0}return r}finally{J=n,at.transition=t}}return!1}function Vh(e,t,n){t=$r(n,t),t=Rg(e,t,1),e=pn(e,t,1),t=De(),e!==null&&(li(e,1,t),We(e,t))}function ue(e,t,n){if(e.tag===3)Vh(e,e,n);else for(;t!==null;){if(t.tag===3){Vh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mn===null||!mn.has(r))){e=$r(n,e),e=Ig(t,e,1),t=pn(t,e,1),e=De(),t!==null&&(li(t,1,e),We(t,e));break}}t=t.return}}function nb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(_e&n)===n&&(ge===4||ge===3&&(_e&130023424)===_e&&500>fe()-Iu?zn(e,0):Ru|=n),We(e,t)}function Zg(e,t){t===0&&(e.mode&1?(t=Ci,Ci<<=1,!(Ci&130023424)&&(Ci=4194304)):t=1);var n=De();e=Bt(e,t),e!==null&&(li(e,t,n),We(e,n))}function rb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zg(e,n)}function sb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),Zg(e,n)}var e0;e0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,Gw(e,t,n);He=!!(e.flags&131072)}else He=!1,re&&t.flags&1048576&&sg(t,jo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;so(e,t),e=t.pendingProps;var s=Mr(t,Oe.current);Pr(t,n),s=Eu(null,t,r,e,s,n);var i=Cu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,_o(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bu(t),s.updater=ra,t.stateNode=s,s._reactInternals=t,rc(t,r,e,n),t=oc(null,t,r,!0,i,n)):(t.tag=0,re&&i&&pu(t),Me(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(so(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ob(r),e=ht(r,e),s){case 0:t=ic(null,t,r,e,n);break e;case 1:t=Ph(null,t,r,e,n);break e;case 11:t=Th(null,t,r,e,n);break e;case 14:t=Nh(null,t,r,ht(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),ic(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Ph(e,t,r,s,n);case 3:e:{if(Dg(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ug(e,t),To(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=$r(Error(T(423)),t),t=Ah(e,t,r,n,s);break e}else if(r!==s){s=$r(Error(T(424)),t),t=Ah(e,t,r,n,s);break e}else for(Je=fn(t.stateNode.containerInfo.firstChild),Qe=t,re=!0,mt=null,n=lg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lr(),r===s){t=Ht(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return dg(t),e===null&&ec(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Yl(r,s)?o=null:i!==null&&Yl(r,i)&&(t.flags|=32),Lg(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&ec(t),null;case 13:return Fg(e,t,n);case 4:return ku(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dr(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Th(e,t,r,s,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Z(Eo,r._currentValue),r._currentValue=o,i!==null)if(vt(i.value,o)){if(i.children===s.children&&!Ge.current){t=Ht(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Lt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),tc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),tc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Me(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pr(t,n),s=ct(s),r=r(s),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,s=ht(r,t.pendingProps),s=ht(r.type,s),Nh(e,t,r,s,n);case 15:return Og(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),so(e,t),t.tag=1,Ke(r)?(e=!0,_o(t)):e=!1,Pr(t,n),Ag(t,r,s),rc(t,r,s,n),oc(null,t,r,!0,e,n);case 19:return $g(e,t,n);case 22:return Mg(e,t,n)}throw Error(T(156,t.tag))};function t0(e,t){return Tm(e,t)}function ib(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new ib(e,t,n,r)}function Du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ob(e){if(typeof e=="function")return Du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nu)return 11;if(e===ru)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ao(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Du(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ur:return Bn(n.children,s,i,t);case tu:o=8,s|=8;break;case Cl:return e=ot(12,n,t,s|2),e.elementType=Cl,e.lanes=i,e;case Tl:return e=ot(13,n,t,s),e.elementType=Tl,e.lanes=i,e;case Nl:return e=ot(19,n,t,s),e.elementType=Nl,e.lanes=i,e;case dm:return oa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cm:o=10;break e;case um:o=9;break e;case nu:o=11;break e;case ru:o=14;break e;case en:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=ot(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Bn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function oa(e,t,n,r){return e=ot(22,e,r,t),e.elementType=dm,e.lanes=n,e.stateNode={isHidden:!1},e}function tl(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function nl(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ab(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=La(0),this.expirationTimes=La(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,s,i,o,a,l){return e=new ab(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bu(i),e}function lb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function n0(e){if(!e)return wn;e=e._reactInternals;e:{if(Xn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Ke(n))return ng(e,n,t)}return t}function r0(e,t,n,r,s,i,o,a,l){return e=Fu(n,r,!0,e,s,i,o,a,l),e.context=n0(null),n=e.current,r=De(),s=gn(n),i=Lt(r,s),i.callback=t??null,pn(n,i,s),e.current.lanes=s,li(e,s,r),We(e,r),e}function aa(e,t,n,r){var s=t.current,i=De(),o=gn(s);return n=n0(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pn(s,t,o),e!==null&&(yt(e,s,o,i),to(e,s,o)),o}function Lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $u(e,t){Uh(e,t),(e=e.alternate)&&Uh(e,t)}function cb(){return null}var s0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vu(e){this._internalRoot=e}la.prototype.render=Vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));aa(e,t,null,null)};la.prototype.unmount=Vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){aa(null,e,null,null)}),t[zt]=null}};function la(e){this._internalRoot=e}la.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Dm(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zh(){}function ub(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Lo(o);i.call(u)}}var o=r0(t,r,e,0,null,!1,!1,"",zh);return e._reactRootContainer=o,e[zt]=o.current,Us(e.nodeType===8?e.parentNode:e),Yn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Lo(l);a.call(u)}}var l=Fu(e,0,!1,null,null,!1,!1,"",zh);return e._reactRootContainer=l,e[zt]=l.current,Us(e.nodeType===8?e.parentNode:e),Yn(function(){aa(t,l,n,r)}),l}function ua(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Lo(o);a.call(l)}}aa(t,o,e,s)}else o=ub(n,t,e,s,r);return Lo(o)}Im=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fs(t.pendingLanes);n!==0&&(ou(t,n|1),We(t,fe()),!(W&6)&&(Vr=fe()+500,jn()))}break;case 13:Yn(function(){var r=Bt(e,1);if(r!==null){var s=De();yt(r,e,1,s)}}),$u(e,1)}};au=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=De();yt(t,e,134217728,n)}$u(e,134217728)}};Om=function(e){if(e.tag===13){var t=gn(e),n=Bt(e,t);if(n!==null){var r=De();yt(n,e,t,r)}$u(e,t)}};Mm=function(){return J};Lm=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};$l=function(e,t,n){switch(t){case"input":if(Rl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ea(r);if(!s)throw Error(T(90));fm(r),Rl(r,s)}}}break;case"textarea":mm(e,n);break;case"select":t=n.value,t!=null&&Er(e,!!n.multiple,t,!1)}};km=Ou;_m=Yn;var db={usingClientEntryPoint:!1,Events:[ui,pr,ea,wm,bm,Ou]},os={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hb={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Em(e),e===null?null:e.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||cb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fi.isDisabled&&Fi.supportsFiber)try{Jo=Fi.inject(hb),_t=Fi}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=db;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(t))throw Error(T(200));return lb(e,t,null,n)};et.createRoot=function(e,t){if(!Uu(e))throw Error(T(299));var n=!1,r="",s=s0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fu(e,1,!1,null,null,n,!1,r,s),e[zt]=t.current,Us(e.nodeType===8?e.parentNode:e),new Vu(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Em(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Yn(e)};et.hydrate=function(e,t,n){if(!ca(t))throw Error(T(200));return ua(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!Uu(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=s0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=r0(t,null,e,1,n??null,s,!1,i,o),e[zt]=t.current,Us(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new la(t)};et.render=function(e,t,n){if(!ca(t))throw Error(T(200));return ua(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!ca(e))throw Error(T(40));return e._reactRootContainer?(Yn(function(){ua(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};et.unstable_batchedUpdates=Ou;et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ca(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return ua(e,t,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function i0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i0)}catch(e){console.error(e)}}i0(),im.exports=et;var fb=im.exports,o0,Bh=fb;o0=Bh.createRoot,Bh.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>S.createElement("svg",{ref:d,...pb,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${mb(e)}`,a].join(" "),...u},[...t.map(([h,f])=>S.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=F("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=F("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=F("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=F("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=F("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=F("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=F("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=F("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=F("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=F("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=F("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=F("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=F("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function u0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=u0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fb(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=u0(e))&&(r&&(r+=" "),r+=t);return r}const Gu="-",$b=e=>{const t=Ub(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Gu);return a[0]===""&&a.length!==1&&a.shift(),d0(a,t)||Vb(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},d0=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?d0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Gu);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Yh=/^\[(.+)\]$/,Vb=e=>{if(Yh.test(e)){const t=Yh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Ub=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Bb(Object.entries(e.classGroups),n).forEach(([i,o])=>{vc(o,r,i,t)}),r},vc=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Jh(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(zb(s)){vc(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{vc(o,Jh(t,i),n,r)})})},Jh=(e,t)=>{let n=e;return t.split(Gu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zb=e=>e.isThemeGetter,Bb=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,Hb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},h0="!",Gb=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,d=0,h;for(let w=0;w<a.length;w++){let m=a[w];if(u===0){if(m===s&&(r||a.slice(w,w+i)===t)){l.push(a.slice(d,w)),d=w+i;continue}if(m==="/"){h=w;continue}}m==="["?u++:m==="]"&&u--}const f=l.length===0?a:a.substring(d),g=f.startsWith(h0),x=g?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},Kb=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Wb=e=>({cache:Hb(e.cacheSize),parseClassName:Gb(e),...$b(e)}),qb=/\s+/,Yb=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(qb);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=r(x?f.substring(0,g):f);if(!v){if(!x){a=u+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=u+(a.length>0?" "+a:a);continue}x=!1}const w=Kb(d).join(":"),m=h?w+h0:w,p=m+v;if(i.includes(p))continue;i.push(p);const y=s(v,x);for(let b=0;b<y.length;++b){const k=y[b];i.push(m+k)}a=u+(a.length>0?" "+a:a)}return a};function Jb(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=f0(t))&&(r&&(r+=" "),r+=n);return r}const f0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=f0(e[r]))&&(n&&(n+=" "),n+=t);return n};function Qb(e,...t){let n,r,s,i=o;function o(l){const u=t.reduce((d,h)=>h(d),e());return n=Wb(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Yb(l,n);return s(l,d),d}return function(){return i(Jb.apply(null,arguments))}}const ee=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},p0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xb=/^\d+\/\d+$/,Zb=new Set(["px","full","screen"]),e1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,r1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nt=e=>Rr(e)||Zb.has(e)||Xb.test(e),Yt=e=>Yr(e,"length",h1),Rr=e=>!!e&&!Number.isNaN(Number(e)),sl=e=>Yr(e,"number",Rr),as=e=>!!e&&Number.isInteger(Number(e)),i1=e=>e.endsWith("%")&&Rr(e.slice(0,-1)),$=e=>p0.test(e),Jt=e=>e1.test(e),o1=new Set(["length","size","percentage"]),a1=e=>Yr(e,o1,m0),l1=e=>Yr(e,"position",m0),c1=new Set(["image","url"]),u1=e=>Yr(e,c1,p1),d1=e=>Yr(e,"",f1),ls=()=>!0,Yr=(e,t,n)=>{const r=p0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},h1=e=>t1.test(e)&&!n1.test(e),m0=()=>!1,f1=e=>r1.test(e),p1=e=>s1.test(e),m1=()=>{const e=ee("colors"),t=ee("spacing"),n=ee("blur"),r=ee("brightness"),s=ee("borderColor"),i=ee("borderRadius"),o=ee("borderSpacing"),a=ee("borderWidth"),l=ee("contrast"),u=ee("grayscale"),d=ee("hueRotate"),h=ee("invert"),f=ee("gap"),g=ee("gradientColorStops"),x=ee("gradientColorStopPositions"),v=ee("inset"),w=ee("margin"),m=ee("opacity"),p=ee("padding"),y=ee("saturate"),b=ee("scale"),k=ee("sepia"),E=ee("skew"),C=ee("space"),j=ee("translate"),I=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",$,t],P=()=>[$,t],q=()=>["",Nt,Yt],se=()=>["auto",Rr,$],Ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ee=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",$],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Rr,$];return{cacheSize:500,separator:":",theme:{colors:[ls],spacing:[Nt,Yt],blur:["none","",Jt,$],brightness:U(),borderColor:[e],borderRadius:["none","","full",Jt,$],borderSpacing:P(),borderWidth:q(),contrast:U(),grayscale:N(),hueRotate:U(),invert:N(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[i1,Yt],inset:A(),margin:A(),opacity:U(),padding:P(),saturate:U(),scale:U(),sepia:N(),skew:U(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[Jt]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ve(),$]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",as,$]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",as,$]}],"grid-cols":[{"grid-cols":[ls]}],"col-start-end":[{col:["auto",{span:["full",as,$]},$]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[ls]}],"row-start-end":[{row:["auto",{span:[as,$]},$]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$,t]}],"min-w":[{"min-w":[$,t,"min","max","fit"]}],"max-w":[{"max-w":[$,t,"none","full","min","max","fit","prose",{screen:[Jt]},Jt]}],h:[{h:[$,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jt,Yt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sl]}],"font-family":[{font:[ls]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",Rr,sl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nt,$]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nt,Yt]}],"underline-offset":[{"underline-offset":["auto",Nt,$]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ve(),l1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",a1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...Ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:Ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ee()]}],"outline-offset":[{"outline-offset":[Nt,$]}],"outline-w":[{outline:[Nt,Yt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Nt,Yt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jt,d1]}],"shadow-color":[{shadow:[ls]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Jt,$]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[as,$]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nt,Yt,sl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},g1=Qb(m1);function Y(...e){return g1(Fb(e))}const y1="modulepreload",v1=function(e){return"/"+e},Qh={},Le=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=v1(l),l in Qh)return;Qh[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":y1,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},x1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},Xh=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const g=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(x=>x(t,g))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(x1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},w1=e=>e?Xh(e):Xh;var g0={exports:{}},y0={},v0={exports:{}},x0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ur=S;function b1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k1=typeof Object.is=="function"?Object.is:b1,_1=Ur.useState,S1=Ur.useEffect,j1=Ur.useLayoutEffect,E1=Ur.useDebugValue;function C1(e,t){var n=t(),r=_1({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return j1(function(){s.value=n,s.getSnapshot=t,il(s)&&i({inst:s})},[e,n,t]),S1(function(){return il(s)&&i({inst:s}),e(function(){il(s)&&i({inst:s})})},[e]),E1(n),n}function il(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k1(e,n)}catch{return!0}}function T1(e,t){return t()}var N1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?T1:C1;x0.useSyncExternalStore=Ur.useSyncExternalStore!==void 0?Ur.useSyncExternalStore:N1;v0.exports=x0;var P1=v0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=S,A1=P1;function R1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I1=typeof Object.is=="function"?Object.is:R1,O1=A1.useSyncExternalStore,M1=fa.useRef,L1=fa.useEffect,D1=fa.useMemo,F1=fa.useDebugValue;y0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=M1(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=D1(function(){function l(g){if(!u){if(u=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var x=o.value;if(s(x,g))return h=x}return h=g}if(x=h,I1(d,g))return x;var v=r(g);return s!==void 0&&s(x,v)?x:(d=g,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var a=O1(e,i[0],i[1]);return L1(function(){o.hasValue=!0,o.value=a},[a]),F1(a),a};g0.exports=y0;var $1=g0.exports;const V1=Wp($1),w0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},{useDebugValue:U1}=Qc,{useSyncExternalStoreWithSelector:z1}=V1;let Zh=!1;const B1=e=>e;function H1(e,t=B1,n){(w0?"production":void 0)!=="production"&&n&&!Zh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Zh=!0);const r=z1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return U1(r),r}const ef=e=>{(w0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?w1(e):e,n=(r,s)=>H1(t,r,s);return Object.assign(n,t),n},En=e=>e?ef(e):ef,G1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"};function K1(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Zs=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Zs(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Zs(r)(n)}}}},W1=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,m)=>({...m,...w}),...t},o=!1;const a=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...w)},r,s);const d=Zs(i.serialize),h=()=>{const w=i.partialize({...r()});let m;const p=d({state:w,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{m=y});if(m)throw m;return p},f=s.setState;s.setState=(w,m)=>{f(w,m),h()};const g=e((...w)=>{n(...w),h()},r,s);let x;const v=()=>{var w;if(!u)return;o=!1,a.forEach(p=>p(r()));const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,r()))||void 0;return Zs(u.getItem.bind(u))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var y;return x=i.merge(p,(y=r())!=null?y:g),n(x,!0),h()}).then(()=>{m==null||m(x,void 0),o=!0,l.forEach(p=>p(x))}).catch(p=>{m==null||m(void 0,p)})};return s.persist={setOptions:w=>{i={...i,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},v(),x||g},q1=(e,t)=>(n,r,s)=>{let i={storage:K1(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...t},o=!1;const a=new Set,l=new Set;let u=i.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const d=()=>{const v=i.partialize({...r()});return u.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,w)=>{h(v,w),d()};const f=e((...v)=>{n(...v),d()},r,s);s.getInitialState=()=>f;let g;const x=()=>{var v,w;if(!u)return;o=!1,a.forEach(p=>{var y;return p((y=r())!=null?y:f)});const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(v=r())!=null?v:f))||void 0;return Zs(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var y;const[b,k]=p;if(g=i.merge(k,(y=r())!=null?y:f),n(g,!0),b)return d()}).then(()=>{m==null||m(g,void 0),g=r(),o=!0,l.forEach(p=>p(g))}).catch(p=>{m==null||m(void 0,p)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||x(),g||f},Y1=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((G1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),W1(e,t)):q1(e,t),pa=Y1,J1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Le(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ku extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Q1 extends Ku{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class X1 extends Ku{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Z1 extends Ku{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xc||(xc={}));var ek=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class tk{constructor(t,{headers:n={},customFetch:r,region:s=xc.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=J1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return ek(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new Q1(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new X1(d);if(!d.ok)throw new Z1(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Be={},Wu={},ma={},fi={},ga={},ya={},nk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zr=nk();const rk=zr.fetch,b0=zr.fetch.bind(zr),k0=zr.Headers,sk=zr.Request,ik=zr.Response,Jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:k0,Request:sk,Response:ik,default:b0,fetch:rk},Symbol.toStringTag,{value:"Module"})),ok=Uv(Jr);var va={};Object.defineProperty(va,"__esModule",{value:!0});let ak=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};va.default=ak;var _0=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const lk=_0(ok),ck=_0(va);let uk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&v===""?(f=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new ck.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ya.default=uk;var dk=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ga,"__esModule",{value:!0});const hk=dk(ya);let fk=class extends hk.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ga.default=fk;var pk=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fi,"__esModule",{value:!0});const mk=pk(ga);let gk=class extends mk.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};fi.default=gk;var yk=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ma,"__esModule",{value:!0});const cs=yk(fi);let vk=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new cs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new cs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new cs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new cs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new cs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ma.default=vk;var xa={},wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.version=void 0;wa.version="0.0.0-automated";Object.defineProperty(xa,"__esModule",{value:!0});xa.DEFAULT_HEADERS=void 0;const xk=wa;xa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${xk.version}`};var S0=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wu,"__esModule",{value:!0});const wk=S0(ma),bk=S0(fi),kk=xa;let _k=class j0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},kk.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new wk.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new j0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new bk.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Wu.default=_k;var Qr=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const E0=Qr(Wu);Be.PostgrestClient=E0.default;const C0=Qr(ma);Be.PostgrestQueryBuilder=C0.default;const T0=Qr(fi);Be.PostgrestFilterBuilder=T0.default;const N0=Qr(ga);Be.PostgrestTransformBuilder=N0.default;const P0=Qr(ya);Be.PostgrestBuilder=P0.default;const A0=Qr(va);Be.PostgrestError=A0.default;var Sk=Be.default={PostgrestClient:E0.default,PostgrestQueryBuilder:C0.default,PostgrestFilterBuilder:T0.default,PostgrestTransformBuilder:N0.default,PostgrestBuilder:P0.default,PostgrestError:A0.default};const{PostgrestClient:jk,PostgrestQueryBuilder:n2,PostgrestFilterBuilder:r2,PostgrestTransformBuilder:s2,PostgrestBuilder:i2,PostgrestError:o2}=Sk,Ek="2.11.2",Ck={"X-Client-Info":`realtime-js/${Ek}`},Tk="1.0.0",R0=1e4,Nk=1e3;var Ir;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ir||(Ir={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var wc;(function(e){e.websocket="websocket"})(wc||(wc={}));var Ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ln||(Ln={}));class Pk{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class I0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(X||(X={}));const tf=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Ak(o,e,t,s),i),{})},Ak=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?O0(i,o):bc(o)},O0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Mk(t,n)}switch(e){case X.bool:return Rk(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Ik(t);case X.json:case X.jsonb:return Ok(t);case X.timestamp:return Lk(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return bc(t);default:return bc(t)}},bc=e=>e,Rk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ik=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ok=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Mk=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>O0(t,a))}return e},Lk=e=>typeof e=="string"?e.replace(" ","T"):e,M0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ol{constructor(t,n,r={},s=R0){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nf||(nf={}));class Cs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Cs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Cs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),g=h.map(w=>w.presence_ref),x=d.filter(w=>g.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);x.length>0&&(a[u]=x),v.length>0&&(l[u]=v)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rf||(rf={}));var sf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sf||(sf={}));var At;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(At||(At={}));class qu{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ol(this,pt.join,this.params,this.timeout),this.rejoinTimer=new I0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Cs(this),this.broadcastEndpointURL=M0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(At.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(At.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(At.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let v=0;v<g;v++){const w=f[v],{filter:{event:m,schema:p,table:y,filter:b}}=w,k=d&&d[v];if(k&&k.event===m&&k.schema===p&&k.table===y&&k.filter===b)x.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),t==null||t(At.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(At.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(At.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(At.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new ol(this,pt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ol(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=pt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,v,w;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,v,w,m,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,k=(x=g.filter)===null||x===void 0?void 0:x.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:v,table:w,commit_timestamp:m,type:p,errors:y}=x;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:m,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(x))}g.callback(f,r)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&qu.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=tf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=tf(t.columns,t.old_record)),n}}const Dk=()=>{},Fk=typeof WebSocket<"u",$k=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vk{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ck,this.params={},this.timeout=R0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Dk,this.conn=null,this.sendBuffer=[],this.serializer=new Pk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Le(async()=>{const{default:l}=await Promise.resolve().then(()=>Jr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${wc.websocket}`,this.httpEndpoint=M0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new I0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Fk){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Uk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Le(async()=>{const{default:t}=await import("./browser-Bw1xOVaD.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Tk}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return Ln.Connecting;case Ir.open:return Ln.Open;case Ir.closing:return Ln.Closing;default:return Ln.Closed}}isConnected(){return this.connectionState()===Ln.Open}channel(t,n={config:{}}){const r=new qu(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(pt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Nk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([$k],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Uk{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ir.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Yu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zk extends Yu{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kc extends Yu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Bk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const L0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Le(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Hk=()=>Bk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Le(()=>Promise.resolve().then(()=>Jr),void 0)).Response:Response}),_c=e=>{if(Array.isArray(e))return e.map(n=>_c(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=_c(r)}),t};var er=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const al=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gk=(e,t,n)=>er(void 0,void 0,void 0,function*(){const r=yield Hk();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new zk(al(s),e.status||500))}).catch(s=>{t(new kc(al(s),s))}):t(new kc(al(e),e))}),Kk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function pi(e,t,n,r,s,i){return er(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Kk(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Gk(l,a,r))})})}function Fo(e,t,n,r){return er(this,void 0,void 0,function*(){return pi(e,"GET",t,n,r)})}function nn(e,t,n,r,s){return er(this,void 0,void 0,function*(){return pi(e,"POST",t,r,s,n)})}function Wk(e,t,n,r,s){return er(this,void 0,void 0,function*(){return pi(e,"PUT",t,r,s,n)})}function qk(e,t,n,r){return er(this,void 0,void 0,function*(){return pi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function D0(e,t,n,r,s){return er(this,void 0,void 0,function*(){return pi(e,"DELETE",t,r,s,n)})}var Ue=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Yk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},of={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jk{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=L0(s)}uploadOrUpdate(t,n,r,s){return Ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},of),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:of.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield nn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Yu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield nn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const s=yield nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}download(t,n){return Ue(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Fo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}})}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Fo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_c(r),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield qk(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ye(r)&&r instanceof kc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield D0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Yk),n),{prefix:t||""});return{data:yield nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Qk="2.7.1",Xk={"X-Client-Info":`storage-js/${Qk}`};var sr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Zk{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Xk),n),this.fetch=L0(r)}listBuckets(){return sr(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}})}getBucket(t){return sr(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return sr(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return sr(this,void 0,void 0,function*(){try{return{data:yield Wk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}emptyBucket(t){return sr(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}deleteBucket(t){return sr(this,void 0,void 0,function*(){try{return{data:yield D0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}}class e_ extends Zk{constructor(t,n={},r){super(t,n,r)}from(t){return new Jk(this.url,this.headers,t,this.fetch)}}const t_="2.49.1";let ms="";typeof Deno<"u"?ms="deno":typeof document<"u"?ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ms="react-native":ms="node";const n_={"X-Client-Info":`supabase-js-${ms}/${t_}`},r_={headers:n_},s_={schema:"public"},i_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},o_={};var a_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const l_=e=>{let t;return e?t=e:typeof fetch>"u"?t=b0:t=fetch,(...n)=>t(...n)},c_=()=>typeof Headers>"u"?k0:Headers,u_=(e,t,n)=>{const r=l_(n),s=c_();return(i,o)=>a_(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var d_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function h_(e){return e.replace(/\/$/,"")}function f_(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>d_(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const F0="2.68.0",lr=30*1e3,Sc=3,ll=Sc*lr,p_="http://localhost:9999",m_="supabase.auth.token",g_={"X-Client-Info":`gotrue-js/${F0}`},jc="X-Supabase-Api-Version",$0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function y_(e){return Math.round(Date.now()/1e3)+e}function v_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const wt=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},Ts=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function x_(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const V0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Le(async()=>{const{default:r}=await Promise.resolve().then(()=>Jr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},w_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",U0=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Vi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ui=async(e,t)=>{await e.removeItem(t)};function b_(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class ba{constructor(){this.promise=new ba.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ba.promiseConstructor=Promise;function af(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(b_(r))}async function k_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function __(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function S_(e){return("0"+e.toString(16)).substr(-2)}function j_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,S_).join("")}async function E_(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function C_(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function T_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await E_(e);return C_(n)}async function ir(e,t,n=!1){const r=j_();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await U0(e,`${t}-code-verifier`,s);const i=await T_(r);return[i,r===i?"plain":"s256"]}const N_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function P_(e){const t=e.headers.get(jc);if(!t||!t.match(N_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Ju extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class A_ extends Ju{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function R_(e){return V(e)&&e.name==="AuthApiError"}class z0 extends Ju{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class tr extends Ju{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Qt extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I_(e){return V(e)&&e.name==="AuthSessionMissingError"}class cl extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zi extends tr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bi extends tr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O_(e){return V(e)&&e.name==="AuthImplicitGrantRedirectError"}class lf extends tr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ec extends tr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ul(e){return V(e)&&e.name==="AuthRetryableFetchError"}class cf extends tr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var M_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const In=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),L_=[502,503,504];async function uf(e){var t;if(!w_(e))throw new Ec(In(e),0);if(L_.includes(e.status))throw new Ec(In(e),e.status);let n;try{n=await e.json()}catch(i){throw new z0(In(i),i)}let r;const s=P_(e);if(s&&s.getTime()>=$0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new cf(In(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new cf(In(n),e.status,n.weak_password.reasons);throw new A_(In(n),e.status||500,r)}const D_=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function H(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[jc]||(i[jc]=$0["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await F_(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function F_(e,t,n,r,s,i){const o=D_(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Ec(In(l),0)}if(a.ok||await uf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await uf(l)}}function Xt(e){var t;let n=null;z_(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=y_(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function df(e){const t=Xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function an(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $_(e){return{data:e,error:null}}function V_(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=M_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function U_(e){return e}function z_(e){return e.access_token&&e.refresh_token&&e.expires_in}var B_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class H_{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=V0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=B_(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:V_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:an})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:U_});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(V(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:an})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const G_={getItem:e=>Ts()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ts()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ts()&&globalThis.localStorage.removeItem(e)}};function hf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function K_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const or={debug:!!(globalThis&&Ts()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class B0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class W_ extends B0{}async function q_(e,t,n){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new W_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}K_();const Y_={url:p_,storageKey:m_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:g_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ff(e,t,n){return await n()}class ei{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ei.nextInstanceID,ei.nextInstanceID+=1,this.instanceID>0&&wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Y_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new H_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=V0(s.fetch),this.lock=s.lock||ff,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=q_:this.lock=ff,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ts()?this.storage=G_:(this.memoryStorage={},this.storage=hf(this.memoryStorage)):(this.memoryStorage={},this.storage=hf(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${F0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=x_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),wt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),O_(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new z0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await ir(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:x},xform:Xt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xt})}else throw new zi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:df})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:df})}else throw new zi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new cl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Vi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Xt});if(await Ui(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new cl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ir(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new zi("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ir(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:$_})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Qt;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new zi("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ll:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:an}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:an})})}catch(n){if(V(n))return I_(n)&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Qt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ir(this.storage,this.storageKey));const{data:u,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:an});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return af(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=af(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Qt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!wt())throw new Bi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lf("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Bi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(V(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Vi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(R_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ui(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=v_(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ir(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return wt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await __(async s=>(s>0&&await k_(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ul(i)&&Date.now()+o-r<lr})}catch(r){if(this._debug(n,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),wt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Vi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ll;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ll}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),ul(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ba;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),V(i)){const o={session:null,error:i};return ul(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await U0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ui(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),lr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lr}ms, refresh threshold is ${Sc} ticks`),s<=Sc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof B0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ir(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}ei.nextInstanceID=0;const J_=ei;class Q_ extends J_{constructor(t){super(t)}}var X_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Z_{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=h_(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:s_,realtime:o_,auth:Object.assign(Object.assign({},i_),{storageKey:l}),global:r_},d=f_(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=u_(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new jk(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new tk(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new e_(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return X_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q_({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Vk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eS=(e,t,n)=>new Z_(e,t,n),tS="https://ptmfcodrlfufrzkxrtxg.supabase.co",nS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",K=eS(tS,nS),$o=new Map,Qu=new Map;let rS=1;function Xu(e){var s,i;let t=$o.get(e.id);t||(t=rS++,$o.set(e.id,t),Qu.set(t,e.id));const n=e.reviews||[],r=n.length>0?n.reduce((o,a)=>o+a.rating,0)/n.length:0;return{id:t,title:e.title,description:e.description,image:e.image,prepTime:e.prep_time,difficulty:e.difficulty,rating:Number(r.toFixed(1)),category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutritionFacts:{calories:Number(e.nutrition_facts.calories),protein:Number(e.nutrition_facts.protein),carbs:Number(e.nutrition_facts.carbs),fat:Number(e.nutrition_facts.fat),fiber:Number(e.nutrition_facts.fiber)},reviews:n.map(o=>({id:o.id,userId:o.user_id,userName:o.profiles.full_name,rating:o.rating,comment:o.comment||"",date:new Date(o.created_at).toISOString().split("T")[0]})),authorId:e.author_id,authorName:(s=e.profiles)==null?void 0:s.full_name,authorType:(i=e.profiles)==null?void 0:i.user_type,createdAt:e.created_at,updatedAt:e.updated_at}}function mi(e){return Qu.get(e)||null}async function H0(e){console.log("Creating user profile:",e);const{data:t,error:n}=await K.from("profiles").insert([e]).select().single();if(n)throw console.error("Error creating user profile:",n),n;return console.log("User profile created successfully:",t),t}async function sS(e,t){const{data:n,error:r}=await K.from("profiles").update({full_name:t.name,user_type:t.type,email:t.email}).eq("id",e).select().single();if(r)throw r;return n}async function Cc(e){console.log("Getting user profile for ID:",e);const{data:t,error:n}=await K.from("profiles").select("*").eq("id",e).single();if(n)throw console.error("Error getting user profile:",n),n;return console.log("User profile retrieved:",t),t}async function G0(e){console.log("Creating recipe:",e);const{data:t,error:n}=await K.from("recipes").insert([{title:e.title,description:e.description,image:e.image,prep_time:e.prepTime,difficulty:e.difficulty,category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutrition_facts:{calories:Number(e.nutritionFacts.calories),protein:Number(e.nutritionFacts.protein),carbs:Number(e.nutritionFacts.carbs),fat:Number(e.nutritionFacts.fat),fiber:Number(e.nutritionFacts.fiber)},author_id:e.authorId}]).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(n)throw console.error("Error creating recipe:",n),n;return console.log("Recipe created successfully:",t),Xu(t)}async function K0(e,t){const n=mi(e);if(!n)throw new Error("Receita não encontrada");const{data:r,error:s}=await K.from("recipes").update({title:t.title,description:t.description,image:t.image,prep_time:t.prepTime,difficulty:t.difficulty,category:t.category,ingredients:t.ingredients,instructions:t.instructions,nutrition_facts:t.nutritionFacts?{calories:Number(t.nutritionFacts.calories),protein:Number(t.nutritionFacts.protein),carbs:Number(t.nutritionFacts.carbs),fat:Number(t.nutritionFacts.fat),fiber:Number(t.nutritionFacts.fiber)}:void 0}).eq("id",n).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(s)throw s;return Xu(r)}async function W0(e){const t=mi(e);if(!t)throw new Error("Receita não encontrada");const{error:n}=await K.from("recipes").delete().eq("id",t);if(n)throw n;$o.delete(t),Qu.delete(e)}async function q0(){console.log("Fetching recipes from Supabase...");const{data:e,error:t}=await K.from("recipes").select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),t;if(console.log("Raw recipes from database:",(e==null?void 0:e.length)||0),!e||e.length===0)return console.log("No recipes found in database"),[];const n=e.map(Xu);return console.log("Converted recipes:",n.length),n}async function Y0(e,t){const n=mi(e);if(!n)throw new Error("Receita não encontrada");console.log("Adding review to recipe:",{recipeId:e,uuid:n,review:t});const{data:r,error:s}=await K.from("reviews").insert([{recipe_id:n,user_id:t.user_id,rating:t.rating,comment:t.comment}]).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(s)throw console.error("Error adding review:",s),s;return console.log("Review added successfully:",r),r}async function J0(e,t){console.log("Updating review:",{reviewId:e,updates:t});const{data:n,error:r}=await K.from("reviews").update({rating:t.rating,comment:t.comment}).eq("id",e).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(r)throw console.error("Error updating review:",r),r;return console.log("Review updated successfully:",n),n}async function Q0(e){console.log("Deleting review:",e);const{error:t}=await K.from("reviews").delete().eq("id",e);if(t)throw console.error("Error deleting review:",t),t;console.log("Review deleted successfully")}async function X0(e,t){const n=mi(t);if(!n)throw new Error("Receita não encontrada");const{error:r}=await K.from("favorites").insert([{user_id:e,recipe_id:n}]);if(r)throw console.error("Error adding to favorites:",r),r}async function Z0(e,t){const n=mi(t);if(!n)throw new Error("Receita não encontrada");const{error:r}=await K.from("favorites").delete().eq("user_id",e).eq("recipe_id",n);if(r)throw console.error("Error removing from favorites:",r),r}async function ey(e){console.log("Fetching favorites for user:",e);const{data:t,error:n}=await K.from("favorites").select("recipe_id").eq("user_id",e);if(n)throw console.error("Error fetching favorites:",n),n;console.log("Raw favorites data:",t);const r=[];return t==null||t.forEach(s=>{const i=$o.get(s.recipe_id);i&&r.push(i)}),console.log("Converted favorite IDs:",r),r}async function ty(e){try{console.log("Checking if email exists:",e);const{data:t,error:n}=await K.from("profiles").select("email").eq("email",e.toLowerCase().trim()).single();return n?n.code==="PGRST116"?(console.log("Email not found in profiles table"),!1):(console.error("Error checking email:",n),!1):(console.log("Email found in profiles table:",!!t),!!t)}catch(t){return console.error("Error checking email existence:",t),!1}}async function ny(e){console.log("Sending password reset email to:",e);const{error:t}=await K.auth.resetPasswordForEmail(e.toLowerCase().trim(),{redirectTo:`${window.location.origin}/reset-password`});if(t)throw console.error("Error sending password reset email:",t),t.message.includes("Email rate limit exceeded")?new Error("Muitas tentativas de recuperação. Aguarde alguns minutos antes de tentar novamente."):t.message.includes("For security purposes")?new Error("Por motivos de segurança, aguarde alguns minutos antes de solicitar outro email."):t.message.includes("Invalid email")?new Error("Email inválido. Verifique o formato do email."):t.message.includes("User not found")?new Error("Email não encontrado. Verifique se o email está correto ou crie uma conta."):new Error("Erro ao enviar email de recuperação. Tente novamente em alguns minutos.");console.log("Password reset email sent successfully")}async function ry(e){console.log("Updating user password");const{error:t}=await K.auth.updateUser({password:e});if(t)throw console.error("Error updating password:",t),t.message.includes("session_not_found")?new Error("Sessão expirada. Solicite um novo link de recuperação."):t.message.includes("same_password")?new Error("A nova senha deve ser diferente da senha atual."):t.message.includes("Password should be at least")?new Error("A senha deve ter pelo menos 6 caracteres."):new Error("Erro ao atualizar senha. Tente novamente.");console.log("Password updated successfully")}async function sy(){try{const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),n=e.get("type");if(!t||n!=="recovery")return{valid:!1};const{data:{user:r},error:s}=await K.auth.getUser(t);if(s||!r)return console.error("Invalid recovery token:",s),{valid:!1};const{error:i}=await K.auth.setSession({access_token:t,refresh_token:e.get("refresh_token")||""});return i?(console.error("Error setting session:",i),{valid:!1}):{valid:!0,user:r}}catch(e){return console.error("Error validating recovery token:",e),{valid:!1}}}const iS=Object.freeze(Object.defineProperty({__proto__:null,addReview:Y0,addToFavorites:X0,checkEmailExists:ty,createRecipe:G0,createUserProfile:H0,deleteRecipe:W0,deleteReview:Q0,getFavorites:ey,getRecipes:q0,getUserProfile:Cc,removeFromFavorites:Z0,sendPasswordResetEmail:ny,updatePassword:ry,updateRecipe:K0,updateReview:J0,updateUserProfile:sS,validateRecoveryToken:sy},Symbol.toStringTag,{value:"Module"})),z=En(e=>({message:null,type:"info",showToast:(t,n)=>e({message:t,type:n}),hideToast:()=>e({message:null})})),ke=En()(pa((e,t)=>({user:null,token:null,isAuthenticated:!1,error:null,loading:!1,initializeAuth:async()=>{try{console.log("Initializing auth...");const{data:{session:n},error:r}=await K.auth.getSession();if(r){console.error("Error getting session:",r),e({user:null,isAuthenticated:!1,token:null});return}if(n!=null&&n.user){console.log("Session found, getting profile...");try{const s=await Cc(n.user.id),i={id:n.user.id,email:s.email,name:s.full_name,type:s.user_type,profile:{}};e({user:i,isAuthenticated:!0,token:n.access_token});const{useRecipesStore:o}=await Le(async()=>{const{useRecipesStore:l}=await Promise.resolve().then(()=>Yi);return{useRecipesStore:l}},void 0);o.getState().initializeAuth();const{useSubscriptionStore:a}=await Le(async()=>{const{useSubscriptionStore:l}=await Promise.resolve().then(()=>Hi);return{useSubscriptionStore:l}},void 0);a.getState().fetchUserSubscription(n.user.id)}catch(s){console.error("Error getting profile:",s),e({user:null,isAuthenticated:!1,token:null})}}else console.log("No session found"),e({user:null,isAuthenticated:!1,token:null})}catch(n){console.error("Error initializing auth:",n),e({user:null,isAuthenticated:!1,token:null})}},signIn:async(n,r)=>{var s;e({loading:!0,error:null});try{console.log("Attempting sign in...");const{data:i,error:o}=await K.auth.signInWithPassword({email:n,password:r});if(o){console.error("Sign in error:",o);let h="Erro ao fazer login";o.message.includes("Invalid login credentials")?h="Email ou senha incorretos. Verifique suas credenciais e tente novamente.":o.message.includes("Email not confirmed")?h="Email não confirmado. Verifique sua caixa de entrada.":o.message.includes("Too many requests")&&(h="Muitas tentativas de login. Tente novamente em alguns minutos."),z.getState().showToast(h,"error"),e({error:h});return}if(!i.user)throw new Error("No user returned from Supabase");console.log("Sign in successful, getting profile...");const a=await Cc(i.user.id),l={id:i.user.id,email:a.email,name:a.full_name,type:a.user_type,profile:{}};e({user:l,isAuthenticated:!0,token:((s=i.session)==null?void 0:s.access_token)||null}),z.getState().showToast("Login realizado com sucesso!","success");const{useRecipesStore:u}=await Le(async()=>{const{useRecipesStore:h}=await Promise.resolve().then(()=>Yi);return{useRecipesStore:h}},void 0);u.getState().initializeAuth();const{useSubscriptionStore:d}=await Le(async()=>{const{useSubscriptionStore:h}=await Promise.resolve().then(()=>Hi);return{useSubscriptionStore:h}},void 0);d.getState().fetchUserSubscription(i.user.id)}catch(i){console.error("Sign in error:",i);const o=i instanceof Error?i.message:"Sign in failed";e({error:o}),z.getState().showToast(o,"error")}finally{e({loading:!1})}},signUp:async(n,r,s,i)=>{var o;e({loading:!0,error:null});try{console.log("Attempting sign up...");const{data:a,error:l}=await K.auth.signUp({email:n,password:r,options:{data:{full_name:s,user_type:i}}});if(l){console.error("Sign up error:",l);let f="Erro ao criar conta";l.message.includes("User already registered")?f="Este email já está cadastrado. Tente fazer login ou use outro email.":l.message.includes("Password should be at least")?f="A senha deve ter pelo menos 6 caracteres.":l.message.includes("Invalid email")?f="Email inválido. Verifique o formato do email.":l.message.includes("duplicate key value")&&(f="Este email já está cadastrado. Tente fazer login."),z.getState().showToast(f,"error"),e({error:f});return}if(!a.user)throw new Error("No user returned from Supabase");console.log("Sign up successful, creating profile..."),await H0({id:a.user.id,email:n,full_name:s,user_type:i});const u={id:a.user.id,email:n,name:s,type:i,profile:{}};e({user:u,isAuthenticated:!0,token:((o=a.session)==null?void 0:o.access_token)||null}),z.getState().showToast("Conta criada com sucesso!","success");const{useRecipesStore:d}=await Le(async()=>{const{useRecipesStore:f}=await Promise.resolve().then(()=>Yi);return{useRecipesStore:f}},void 0);d.getState().initializeAuth();const{useSubscriptionStore:h}=await Le(async()=>{const{useSubscriptionStore:f}=await Promise.resolve().then(()=>Hi);return{useSubscriptionStore:f}},void 0);h.getState().fetchUserSubscription(a.user.id)}catch(a){console.error("Sign up error:",a);const l=a instanceof Error?a.message:"Sign up failed";e({error:l}),z.getState().showToast(l,"error")}finally{e({loading:!1})}},signOut:async()=>{var n,r;try{console.log("Signing out..."),e({user:null,token:null,isAuthenticated:!1});const{useRecipesStore:s}=await Le(async()=>{const{useRecipesStore:a}=await Promise.resolve().then(()=>Yi);return{useRecipesStore:a}},void 0);s.getState().clearUserData();const{useSubscriptionStore:i}=await Le(async()=>{const{useSubscriptionStore:a}=await Promise.resolve().then(()=>Hi);return{useSubscriptionStore:a}},void 0);(r=(n=i.getState()).reset)==null||r.call(n);const{error:o}=await K.auth.signOut();o&&console.error("Supabase signOut error:",o),z.getState().showToast("Logout realizado com sucesso!","info")}catch(s){console.error("Error signing out:",s),e({user:null,token:null,isAuthenticated:!1}),z.getState().showToast("Logout realizado","info")}},updateUserProfile:async n=>{const{user:r}=t();if(r)try{const{updateUserProfile:s}=await Le(async()=>{const{updateUserProfile:i}=await Promise.resolve().then(()=>iS);return{updateUserProfile:i}},void 0);await s(r.id,n),e({user:{...r,...n}}),z.getState().showToast("Perfil atualizado com sucesso!","success")}catch(s){throw console.error("Error updating profile:",s),z.getState().showToast("Erro ao atualizar perfil","error"),s}},clearError:()=>e({error:null}),isNutritionist:()=>{var n;return((n=t().user)==null?void 0:n.type)==="Nutritionist"}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));async function oS(){const{data:e,error:t}=await K.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return e||[]}async function aS(e){const{data:t,error:n}=await K.from("user_subscriptions").select(`
      *,
      plan:subscription_plans(*)
    `).eq("user_id",e).eq("status","active").single();if(n){if(n.code==="PGRST116")return null;throw n}return t}async function lS(e){const{data:t,error:n}=await K.from("user_subscriptions").insert([e]).select(`
      *,
      plan:subscription_plans(*)
    `).single();if(n)throw n;return t}const Zu=En()(pa((e,t)=>({plans:[],userSubscription:null,loading:!1,error:null,fetchPlans:async()=>{e({loading:!0,error:null});try{const n=await oS();e({plans:n,loading:!1})}catch(n){console.error("Error fetching plans:",n);const r=n instanceof Error?n.message:"Erro ao carregar planos";e({error:r,loading:!1}),z.getState().showToast("Erro ao carregar planos de assinatura","error")}},fetchUserSubscription:async n=>{try{const r=await aS(n);e({userSubscription:r})}catch(r){console.error("Error fetching user subscription:",r),e({userSubscription:null})}},hasFeatureAccess:n=>{const{userSubscription:r}=t();return!r||!r.plan?!1:r.plan.features.includes(n)},isPremium:()=>t().hasFeatureAccess("ai_mentoring"),createSubscription:async n=>{e({loading:!0,error:null});try{const r=await lS(n);e({userSubscription:r,loading:!1}),z.getState().showToast("Assinatura ativada com sucesso!","success")}catch(r){console.error("Error creating subscription:",r);const s=r instanceof Error?r.message:"Erro ao criar assinatura";throw e({error:s,loading:!1}),z.getState().showToast("Erro ao ativar assinatura","error"),r}},reset:()=>e({plans:[],userSubscription:null,loading:!1,error:null})}),{name:"subscription-storage",partialize:e=>({userSubscription:e.userSubscription})})),Hi=Object.freeze(Object.defineProperty({__proto__:null,useSubscriptionStore:Zu},Symbol.toStringTag,{value:"Module"})),ed=En(e=>({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:"",setCategory:t=>e({category:t}),setSearchQuery:t=>e({searchQuery:t}),setDifficulty:t=>e({difficulty:t}),setPrepTimeRange:t=>e({prepTimeRange:t}),setMinRating:t=>e({minRating:t}),setSortBy:t=>e({sortBy:t}),resetFilters:()=>e({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:""})}));function cS(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function ka(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Tc=e=>Array.isArray(e);function iy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ti(e){return typeof e=="string"||Array.isArray(e)}function pf(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function td(e,t,n,r){if(typeof t=="function"){const[s,i]=pf(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=pf(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function _a(e,t,n){const r=e.getProps();return td(r,t,n!==void 0?n:r.custom,e)}const nd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rd=["initial",...nd],gi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nr=new Set(gi),Dt=e=>e*1e3,Ft=e=>e/1e3,uS={type:"spring",stiffness:500,damping:25,restSpeed:10},dS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hS={type:"keyframes",duration:.8},fS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pS=(e,{keyframes:t})=>t.length>2?hS:nr.has(e)?e.startsWith("scale")?dS(t[1]):uS:fS;function sd(e,t){return e?e[t]||e.default||e:void 0}const mS={skipAnimations:!1,useManualTiming:!1},gS=e=>e!==null;function Sa(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(gS),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Ie=e=>e;function yS(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const g=h&&r?t:n;return d&&i.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,s&&(s=!1,l.process(u))}};return l}const Gi=["read","resolveKeyframes","update","preRender","render","postRender"],vS=40;function oy(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Gi.reduce((m,p)=>(m[p]=yS(i),m),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,g=()=>{const m=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,vS),1),s.timestamp=m,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},x=()=>{n=!0,r=!0,s.isProcessing||e(g)};return{schedule:Gi.reduce((m,p)=>{const y=o[p];return m[p]=(b,k=!1,E=!1)=>(n||x(),y.schedule(b,k,E)),m},{}),cancel:m=>{for(let p=0;p<Gi.length;p++)o[Gi[p]].cancel(m)},state:s,steps:o}}const{schedule:Q,cancel:bn,state:be,steps:dl}=oy(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ie,!0),ay=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xS=1e-7,wS=12;function bS(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=ay(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>xS&&++a<wS);return o}function yi(e,t,n,r){if(e===t&&n===r)return Ie;const s=i=>bS(i,0,1,e,n);return i=>i===0||i===1?i:ay(s(i),t,r)}const ly=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cy=e=>t=>1-e(1-t),uy=yi(.33,1.53,.69,.99),id=cy(uy),dy=ly(id),hy=e=>(e*=2)<1?.5*id(e):.5*(2-Math.pow(2,-10*(e-1))),od=e=>1-Math.sin(Math.acos(e)),fy=cy(od),py=ly(od),my=e=>/^0[^.\s]+$/u.test(e);function kS(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||my(e):!0}let Nc=Ie;const gy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),yy=e=>t=>typeof t=="string"&&t.startsWith(e),vy=yy("--"),_S=yy("var(--"),ad=e=>_S(e)?SS.test(e.split("/*")[0].trim()):!1,SS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ES(e){const t=jS.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function xy(e,t,n=1){const[r,s]=ES(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return gy(o)?parseFloat(o):o}return ad(s)?xy(s,t,n+1):s}const Gt=(e,t,n)=>n>t?t:n<e?e:n,Xr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ni={...Xr,transform:e=>Gt(0,1,e)},Ki={...Xr,default:1},vi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zt=vi("deg"),jt=vi("%"),L=vi("px"),CS=vi("vh"),TS=vi("vw"),mf={...jt,parse:e=>jt.parse(e)/100,transform:e=>jt.transform(e*100)},NS=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),gf=e=>e===Xr||e===L,yf=(e,t)=>parseFloat(e.split(", ")[t]),vf=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return yf(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?yf(i[1],e):0}},PS=new Set(["x","y","z"]),AS=gi.filter(e=>!PS.has(e));function RS(e){const t=[];return AS.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Br={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:vf(4,13),y:vf(5,14)};Br.translateX=Br.x;Br.translateY=Br.y;const wy=e=>t=>t.test(e),IS={test:e=>e==="auto",parse:e=>e},by=[Xr,L,jt,Zt,TS,CS,IS],xf=e=>by.find(wy(e)),Hn=new Set;let Pc=!1,Ac=!1;function ky(){if(Ac){const e=Array.from(Hn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=RS(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ac=!1,Pc=!1,Hn.forEach(e=>e.complete()),Hn.clear()}function _y(){Hn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ac=!0)})}function OS(){_y(),ky()}class ld{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Hn.add(this),Pc||(Pc=!0,Q.read(_y),Q.resolveKeyframes(ky))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Hn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Hn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ns=e=>Math.round(e*1e5)/1e5,cd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MS(e){return e==null}const LS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ud=(e,t)=>n=>!!(typeof n=="string"&&LS.test(n)&&n.startsWith(e)||t&&!MS(n)&&Object.prototype.hasOwnProperty.call(n,t)),Sy=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(cd);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},DS=e=>Gt(0,255,e),hl={...Xr,transform:e=>Math.round(DS(e))},Un={test:ud("rgb","red"),parse:Sy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+hl.transform(e)+", "+hl.transform(t)+", "+hl.transform(n)+", "+Ns(ni.transform(r))+")"};function FS(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Rc={test:ud("#"),parse:FS,transform:Un.transform},br={test:ud("hsl","hue"),parse:Sy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+jt.transform(Ns(t))+", "+jt.transform(Ns(n))+", "+Ns(ni.transform(r))+")"},Ne={test:e=>Un.test(e)||Rc.test(e)||br.test(e),parse:e=>Un.test(e)?Un.parse(e):br.test(e)?br.parse(e):Rc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Un.transform(e):br.transform(e)},$S=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VS(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(cd))===null||t===void 0?void 0:t.length)||0)+(((n=e.match($S))===null||n===void 0?void 0:n.length)||0)>0}const jy="number",Ey="color",US="var",zS="var(",wf="${}",BS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ri(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(BS,l=>(Ne.test(l)?(r.color.push(i),s.push(Ey),n.push(Ne.parse(l))):l.startsWith(zS)?(r.var.push(i),s.push(US),n.push(l)):(r.number.push(i),s.push(jy),n.push(parseFloat(l))),++i,wf)).split(wf);return{values:n,split:a,indexes:r,types:s}}function Cy(e){return ri(e).values}function Ty(e){const{split:t,types:n}=ri(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===jy?i+=Ns(s[o]):a===Ey?i+=Ne.transform(s[o]):i+=s[o]}return i}}const HS=e=>typeof e=="number"?0:e;function GS(e){const t=Cy(e);return Ty(e)(t.map(HS))}const kn={test:VS,parse:Cy,createTransformer:Ty,getAnimatableNone:GS},KS=new Set(["brightness","contrast","saturate","opacity"]);function WS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(cd)||[];if(!r)return e;const s=n.replace(r,"");let i=KS.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const qS=/\b([a-z-]*)\(.*?\)/gu,Ic={...kn,getAnimatableNone:e=>{const t=e.match(qS);return t?t.map(WS).join(" "):e}},YS={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,radius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,top:L,right:L,bottom:L,left:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,backgroundPositionX:L,backgroundPositionY:L},JS={rotate:Zt,rotateX:Zt,rotateY:Zt,rotateZ:Zt,scale:Ki,scaleX:Ki,scaleY:Ki,scaleZ:Ki,skew:Zt,skewX:Zt,skewY:Zt,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:ni,originX:mf,originY:mf,originZ:L},bf={...Xr,transform:Math.round},dd={...YS,...JS,zIndex:bf,size:L,fillOpacity:ni,strokeOpacity:ni,numOctaves:bf},QS={...dd,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:Ic,WebkitFilter:Ic},hd=e=>QS[e];function Ny(e,t){let n=hd(e);return n!==Ic&&(n=kn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const XS=new Set(["auto","none","0"]);function ZS(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!XS.has(i)&&ri(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Ny(n,s)}class Py extends ld{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),ad(u))){const d=xy(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!NS.has(r)||t.length!==2)return;const[s,i]=t,o=xf(s),a=xf(i);if(o!==a)if(gf(o)&&gf(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)kS(t[s])&&r.push(s);r.length&&ZS(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Br[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Br[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function fd(e){return typeof e=="function"}let lo;function ej(){lo=void 0}const Et={now:()=>(lo===void 0&&Et.set(be.isProcessing||mS.useManualTiming?be.timestamp:performance.now()),lo),set:e=>{lo=e,queueMicrotask(ej)}},kf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kn.test(e)||e==="0")&&!e.startsWith("url("));function tj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function nj(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=kf(s,t),a=kf(i,t);return!o||!a?!1:tj(e)||(n==="spring"||fd(n))&&r}const rj=40;class Ay{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Et.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>rj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&OS(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Et.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!nj(t,r,s,i))if(o)this.options.duration=0;else{l==null||l(Sa(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Hr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ry=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Hr(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Iy(e,t){return t?e*(1e3/t):0}const sj=5;function Oy(e,t,n){const r=Math.max(t-sj,0);return Iy(n-e(r),t-r)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fl=.001;function ij({duration:e=ce.duration,bounce:t=ce.bounce,velocity:n=ce.velocity,mass:r=ce.mass}){let s,i,o=1-t;o=Gt(ce.minDamping,ce.maxDamping,o),e=Gt(ce.minDuration,ce.maxDuration,Ft(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,g=Oc(u,o),x=Math.exp(-h);return fl-f/g*x},i=u=>{const h=u*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),v=Oc(Math.pow(u,2),o);return(-s(u)+fl>0?-1:1)*((f-g)*x)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-fl+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=aj(s,i,a);if(e=Dt(e),isNaN(l))return{stiffness:ce.stiffness,damping:ce.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const oj=12;function aj(e,t,n){let r=n;for(let s=1;s<oj;s++)r=r-e(r)/t(r);return r}function Oc(e,t){return e*Math.sqrt(1-t*t)}const Mc=2e4;function My(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Mc;)t+=n,r=e.next(t);return t>=Mc?1/0:t}const lj=["duration","bounce"],cj=["stiffness","damping","mass"];function _f(e,t){return t.some(n=>e[n]!==void 0)}function uj(e){let t={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...e};if(!_f(e,cj)&&_f(e,lj))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Gt(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:ce.mass,stiffness:s,damping:i}}else{const n=ij(e);t={...t,...n,mass:ce.mass},t.isResolvedFromDuration=!0}return t}function Ly(e=ce.visualDuration,t=ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=uj({...n,velocity:-Ft(n.velocity||0)}),x=f||0,v=u/(2*Math.sqrt(l*d)),w=o-i,m=Ft(Math.sqrt(l/d)),p=Math.abs(w)<5;r||(r=p?ce.restSpeed.granular:ce.restSpeed.default),s||(s=p?ce.restDelta.granular:ce.restDelta.default);let y;if(v<1){const k=Oc(m,v);y=E=>{const C=Math.exp(-v*m*E);return o-C*((x+v*m*w)/k*Math.sin(k*E)+w*Math.cos(k*E))}}else if(v===1)y=k=>o-Math.exp(-m*k)*(w+(x+m*w)*k);else{const k=m*Math.sqrt(v*v-1);y=E=>{const C=Math.exp(-v*m*E),j=Math.min(k*E,300);return o-C*((x+v*m*w)*Math.sinh(j)+k*w*Math.cosh(j))/k}}const b={calculatedDuration:g&&h||null,next:k=>{const E=y(k);if(g)a.done=k>=h;else{let C=0;v<1&&(C=k===0?Dt(x):Oy(y,k,E));const j=Math.abs(C)<=r,I=Math.abs(o-E)<=s;a.done=j&&I}return a.value=a.done?o:E,a},toString:()=>{const k=Math.min(My(b),Mc),E=Ry(C=>b.next(k*C).value,k,30);return k+"ms "+E}};return b}function Sf({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=j=>a!==void 0&&j<a||l!==void 0&&j>l,x=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let v=n*t;const w=h+v,m=o===void 0?w:o(w);m!==w&&(v=m-h);const p=j=>-v*Math.exp(-j/r),y=j=>m+p(j),b=j=>{const I=p(j),O=y(j);f.done=Math.abs(I)<=u,f.value=f.done?m:O};let k,E;const C=j=>{g(f.value)&&(k=j,E=Ly({keyframes:[f.value,x(f.value)],velocity:Oy(y,j,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:j=>{let I=!1;return!E&&k===void 0&&(I=!0,b(j),C(j)),k!==void 0&&j>=k?E.next(j-k):(!I&&b(j),f)}}}const dj=yi(.42,0,1,1),hj=yi(0,0,.58,1),Dy=yi(.42,0,.58,1),fj=e=>Array.isArray(e)&&typeof e[0]!="number",pd=e=>Array.isArray(e)&&typeof e[0]=="number",jf={linear:Ie,easeIn:dj,easeInOut:Dy,easeOut:hj,circIn:od,circInOut:py,circOut:fy,backIn:id,backInOut:dy,backOut:uy,anticipate:hy},Ef=e=>{if(pd(e)){Nc(e.length===4);const[t,n,r,s]=e;return yi(t,n,r,s)}else if(typeof e=="string")return Nc(jf[e]!==void 0),jf[e];return e},pj=(e,t)=>n=>t(e(n)),$t=(...e)=>e.reduce(pj),oe=(e,t,n)=>e+(t-e)*n;function pl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mj({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=pl(l,a,e+1/3),i=pl(l,a,e),o=pl(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Vo(e,t){return n=>n>0?t:e}const ml=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},gj=[Rc,Un,br],yj=e=>gj.find(t=>t.test(e));function Cf(e){const t=yj(e);if(!t)return!1;let n=t.parse(e);return t===br&&(n=mj(n)),n}const Tf=(e,t)=>{const n=Cf(e),r=Cf(t);if(!n||!r)return Vo(e,t);const s={...n};return i=>(s.red=ml(n.red,r.red,i),s.green=ml(n.green,r.green,i),s.blue=ml(n.blue,r.blue,i),s.alpha=oe(n.alpha,r.alpha,i),Un.transform(s))},Lc=new Set(["none","hidden"]);function vj(e,t){return Lc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function xj(e,t){return n=>oe(e,t,n)}function md(e){return typeof e=="number"?xj:typeof e=="string"?ad(e)?Vo:Ne.test(e)?Tf:kj:Array.isArray(e)?Fy:typeof e=="object"?Ne.test(e)?Tf:wj:Vo}function Fy(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>md(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function wj(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=md(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function bj(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const kj=(e,t)=>{const n=kn.createTransformer(t),r=ri(e),s=ri(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Lc.has(e)&&!s.values.length||Lc.has(t)&&!r.values.length?vj(e,t):$t(Fy(bj(r,s),s.values),n):Vo(e,t)};function $y(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):md(e)(e,t)}function _j(e,t,n){const r=[],s=n||$y,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ie:t;a=$t(l,a)}r.push(a)}return r}function Sj(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Nc(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=_j(t,r,s),a=o.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Hr(e[d],e[d+1],u);return o[d](h)};return n?u=>l(Gt(e[0],e[i-1],u)):l}function jj(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Hr(0,t,r);e.push(oe(n,1,s))}}function Ej(e){const t=[0];return jj(t,e.length-1),t}function Cj(e,t){return e.map(n=>n*t)}function Tj(e,t){return e.map(()=>t||Dy).splice(0,e.length-1)}function Uo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=fj(r)?r.map(Ef):Ef(r),i={done:!1,value:t[0]},o=Cj(n&&n.length===t.length?n:Ej(t),e),a=Sj(o,t,{ease:Array.isArray(s)?s:Tj(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const Nj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Q.update(t,!0),stop:()=>bn(t),now:()=>be.isProcessing?be.timestamp:Et.now()}},Pj={decay:Sf,inertia:Sf,tween:Uo,keyframes:Uo,spring:Ly},Aj=e=>e/100;class gd extends Ay{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||ld,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=fd(n)?n:Pj[n]||Uo;let l,u;a!==Uo&&typeof t[0]!="number"&&(l=$t(Aj,$y(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=My(d));const{calculatedDuration:h}=d,f=h+s,g=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:x,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,b=i;if(g){const j=Math.min(this.currentTime,d)/h;let I=Math.floor(j),O=j%1;!O&&j>=1&&(O=1),O===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(x==="reverse"?(O=1-O,v&&(O-=v/h)):x==="mirror"&&(b=o)),y=Gt(0,1,O)*h}const k=p?{done:!1,value:l[0]}:b.next(y);a&&(k.value=a(k.value));let{done:E}=k;!p&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return C&&s!==void 0&&(k.value=Sa(l,this.options,s)),w&&w(k.value),C&&this.finish(),k}get duration(){const{resolved:t}=this;return t?Ft(t.calculatedDuration):0}get time(){return Ft(this.currentTime)}set time(t){t=Dt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ft(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Nj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Rj=new Set(["opacity","clipPath","filter","transform"]);function yd(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ij={linearEasing:void 0};function Oj(e,t){const n=yd(e);return()=>{var r;return(r=Ij[t])!==null&&r!==void 0?r:n()}}const zo=Oj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Vy(e){return!!(typeof e=="function"&&zo()||!e||typeof e=="string"&&(e in Dc||zo())||pd(e)||Array.isArray(e)&&e.every(Vy))}const gs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Dc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gs([0,.65,.55,1]),circOut:gs([.55,0,1,.45]),backIn:gs([.31,.01,.66,-.59]),backOut:gs([.33,1.53,.69,.99])};function Uy(e,t){if(e)return typeof e=="function"&&zo()?Ry(e,t):pd(e)?gs(e):Array.isArray(e)?e.map(n=>Uy(n,t)||Dc.easeOut):Dc[e]}function Mj(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=Uy(a,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Nf(e,t){e.timeline=t,e.onfinish=null}const Lj=yd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bo=10,Dj=2e4;function Fj(e){return fd(e.type)||e.type==="spring"||!Vy(e.ease)}function $j(e,t){const n=new gd({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<Dj;)r=n.sample(i),s.push(r.value),i+=Bo;return{times:void 0,keyframes:s,duration:i-Bo,ease:"linear"}}const zy={anticipate:hy,backInOut:dy,circInOut:py};function Vj(e){return e in zy}class Pf extends Ay{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Py(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&zo()&&Vj(o)&&(o=zy[o]),Fj(this.options)){const{onComplete:f,onUpdate:g,motionValue:x,element:v,...w}=this.options,m=$j(t,w);t=m.keyframes,t.length===1&&(t[1]=t[0]),s=m.duration,i=m.times,o=m.ease,a="keyframes"}const h=Mj(l.owner.current,u,t,{...this.options,duration:s,times:i,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(Nf(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(Sa(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ft(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ft(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Dt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Ie;const{animation:r}=n;Nf(r,t)}return Ie}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...g}=this.options,x=new gd({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Dt(this.time);u.setWithVelocity(x.sample(v-Bo).value,x.sample(v).value,Bo)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=t;return Lj()&&r&&Rj.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const Uj=yd(()=>window.ScrollTimeline!==void 0);class zj{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>Uj()&&s.attachTimeline?s.attachTimeline(t):n(s));return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Bj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const vd=(e,t,n,r={},s,i)=>o=>{const a=sd(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Dt(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};Bj(a)||(d={...d,...pS(e,d)}),d.duration&&(d.duration=Dt(d.duration)),d.repeatDelay&&(d.repeatDelay=Dt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Sa(d.keyframes,a);if(f!==void 0)return Q.update(()=>{d.onUpdate(f),d.onComplete()}),new zj([])}return!i&&Pf.supports(d)?new Pf(d):new gd(d)},Hj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Gj=e=>Tc(e)?e[e.length-1]||0:e;function xd(e,t){e.indexOf(t)===-1&&e.push(t)}function wd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class bd{constructor(){this.subscriptions=[]}add(t){return xd(this.subscriptions,t),()=>wd(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Af=30,Kj=e=>!isNaN(parseFloat(e));class Wj{constructor(t,n={}){this.version="11.12.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Et.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Et.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Kj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new bd);const r=this.events[t].add(n);return t==="change"?()=>{r(),Q.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Et.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Af)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Af);return Iy(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function si(e,t){return new Wj(e,t)}function qj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,si(n))}function Yj(e,t){const n=_a(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Gj(i[o]);qj(e,o,a)}}const kd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Jj="framerAppearId",By="data-"+kd(Jj);function Hy(e){return e.props[By]}const Re=e=>!!(e&&e.getVelocity);function Qj(e){return!!(Re(e)&&e.add)}function Fc(e,t){const n=e.getValue("willChange");if(Qj(n))return n.add(t)}function Xj({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Gy(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||d&&Xj(d,h))continue;const x={delay:n,...sd(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const m=Hy(e);if(m){const p=window.MotionHandoffAnimation(m,h,Q);p!==null&&(x.startTime=p,v=!0)}}Fc(e,h),f.start(vd(h,f,g,e.shouldReduceMotion&&nr.has(h)?{type:!1}:x,e,v));const w=f.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{Q.update(()=>{a&&Yj(e,a)})}),u}function $c(e,t,n={}){var r;const s=_a(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Gy(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return Zj(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Zj(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(eE).forEach((u,d)=>{u.notify("AnimationStart",t),o.push($c(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function eE(e,t){return e.sortNodePosition(t)}function tE(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>$c(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=$c(e,t,n);else{const s=typeof t=="function"?_a(e,t,n.custom):t;r=Promise.all(Gy(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const nE=rd.length;function Ky(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Ky(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<nE;n++){const r=rd[n],s=e.props[r];(ti(s)||s===!1)&&(t[r]=s)}return t}const rE=[...nd].reverse(),sE=nd.length;function iE(e){return t=>Promise.all(t.map(({animation:n,options:r})=>tE(e,n,r)))}function oE(e){let t=iE(e),n=Rf(),r=!0;const s=l=>(u,d)=>{var h;const f=_a(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:x,...v}=f;u={...u,...v,...x}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,d=Ky(e.parent)||{},h=[],f=new Set;let g={},x=1/0;for(let w=0;w<sE;w++){const m=rE[w],p=n[m],y=u[m]!==void 0?u[m]:d[m],b=ti(y),k=m===l?p.isActive:null;k===!1&&(x=w);let E=y===d[m]&&y!==u[m]&&b;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),p.protectedKeys={...g},!p.isActive&&k===null||!y&&!p.prevProp||ka(y)||typeof y=="boolean")continue;const C=aE(p.prevProp,y);let j=C||m===l&&p.isActive&&!E&&b||w>x&&b,I=!1;const O=Array.isArray(y)?y:[y];let A=O.reduce(s(m),{});k===!1&&(A={});const{prevResolvedValues:P={}}=p,q={...P,...A},se=D=>{j=!0,f.has(D)&&(I=!0,f.delete(D)),p.needsAnimating[D]=!0;const _=e.getValue(D);_&&(_.liveStyle=!1)};for(const D in q){const _=A[D],N=P[D];if(g.hasOwnProperty(D))continue;let M=!1;Tc(_)&&Tc(N)?M=!iy(_,N):M=_!==N,M?_!=null?se(D):f.add(D):_!==void 0&&f.has(D)?se(D):p.protectedKeys[D]=!0}p.prevProp=y,p.prevResolvedValues=A,p.isActive&&(g={...g,...A}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(E&&C)||I)&&h.push(...O.map(D=>({animation:D,options:{type:m}})))}if(f.size){const w={};f.forEach(m=>{const p=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),w[m]=p??null}),h.push({animation:w})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Rf(),r=!0}}}function aE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iy(t,e):!1}function Pn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rf(){return{animate:Pn(!0),whileInView:Pn(),whileHover:Pn(),whileTap:Pn(),whileDrag:Pn(),whileFocus:Pn(),exit:Pn()}}class Cn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lE extends Cn{constructor(t){super(t),t.animationState||(t.animationState=oE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ka(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let cE=0;class uE extends Cn{constructor(){super(...arguments),this.id=cE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const dE={animation:{Feature:lE},exit:{Feature:uE}},Wy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ja(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const hE=e=>t=>Wy(t)&&e(t,ja(t));function Mt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Vt(e,t,n,r){return Mt(e,t,hE(n),r)}const If=(e,t)=>Math.abs(e-t);function fE(e,t){const n=If(e.x,t.x),r=If(e.y,t.y);return Math.sqrt(n**2+r**2)}class qy{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=yl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=fE(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:x}=h,{timestamp:v}=be;this.history.push({...x,timestamp:v});const{onStart:w,onMove:m}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=gl(f,this.transformPagePoint),Q.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=yl(h.type==="pointercancel"?this.lastMoveEventInfo:gl(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),x&&x(h,w)},!Wy(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ja(t),a=gl(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=be;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,yl(a,this.history)),this.removeListeners=$t(Vt(this.contextWindow,"pointermove",this.handlePointerMove),Vt(this.contextWindow,"pointerup",this.handlePointerUp),Vt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bn(this.updatePoint)}}function gl(e,t){return t?{point:t(e.point)}:e}function Of(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yl({point:e},t){return{point:e,delta:Of(e,Yy(t)),offset:Of(e,pE(t)),velocity:mE(t,.1)}}function pE(e){return e[0]}function Yy(e){return e[e.length-1]}function mE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Yy(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Dt(t)));)n--;if(!r)return{x:0,y:0};const i=Ft(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Jy(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Mf=Jy("dragHorizontal"),Lf=Jy("dragVertical");function Qy(e){let t=!1;if(e==="y")t=Lf();else if(e==="x")t=Mf();else{const n=Mf(),r=Lf();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Xy(){const e=Qy(!0);return e?(e(),!1):!0}function kr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Zy=1e-4,gE=1-Zy,yE=1+Zy,ev=.01,vE=0-ev,xE=0+ev;function Ze(e){return e.max-e.min}function wE(e,t,n){return Math.abs(e-t)<=n}function Df(e,t,n,r=.5){e.origin=r,e.originPoint=oe(t.min,t.max,e.origin),e.scale=Ze(n)/Ze(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=gE&&e.scale<=yE||isNaN(e.scale))&&(e.scale=1),(e.translate>=vE&&e.translate<=xE||isNaN(e.translate))&&(e.translate=0)}function Ps(e,t,n,r){Df(e.x,t.x,n.x,r?r.originX:void 0),Df(e.y,t.y,n.y,r?r.originY:void 0)}function Ff(e,t,n){e.min=n.min+t.min,e.max=e.min+Ze(t)}function bE(e,t,n){Ff(e.x,t.x,n.x),Ff(e.y,t.y,n.y)}function $f(e,t,n){e.min=t.min-n.min,e.max=e.min+Ze(t)}function As(e,t,n){$f(e.x,t.x,n.x),$f(e.y,t.y,n.y)}function kE(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?oe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?oe(n,e,r.max):Math.min(e,n)),e}function Vf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _E(e,{top:t,left:n,bottom:r,right:s}){return{x:Vf(e.x,n,s),y:Vf(e.y,t,r)}}function Uf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function SE(e,t){return{x:Uf(e.x,t.x),y:Uf(e.y,t.y)}}function jE(e,t){let n=.5;const r=Ze(e),s=Ze(t);return s>r?n=Hr(t.min,t.max-r,e.min):r>s&&(n=Hr(e.min,e.max-s,t.min)),Gt(0,1,n)}function EE(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Vc=.35;function CE(e=Vc){return e===!1?e=0:e===!0&&(e=Vc),{x:zf(e,"left","right"),y:zf(e,"top","bottom")}}function zf(e,t,n){return{min:Bf(e,t),max:Bf(e,n)}}function Bf(e,t){return typeof e=="number"?e:e[t]||0}const Hf=()=>({translate:0,scale:1,origin:0,originPoint:0}),_r=()=>({x:Hf(),y:Hf()}),Gf=()=>({min:0,max:0}),he=()=>({x:Gf(),y:Gf()});function rt(e){return[e("x"),e("y")]}function tv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function TE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function NE(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vl(e){return e===void 0||e===1}function Uc({scale:e,scaleX:t,scaleY:n}){return!vl(e)||!vl(t)||!vl(n)}function On(e){return Uc(e)||nv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function nv(e){return Kf(e.x)||Kf(e.y)}function Kf(e){return e&&e!=="0%"}function Ho(e,t,n){const r=e-n,s=t*r;return n+s}function Wf(e,t,n,r,s){return s!==void 0&&(e=Ho(e,s,r)),Ho(e,n,r)+t}function zc(e,t=0,n=1,r,s){e.min=Wf(e.min,t,n,r,s),e.max=Wf(e.max,t,n,r,s)}function rv(e,{x:t,y:n}){zc(e.x,t.translate,t.scale,t.originPoint),zc(e.y,n.translate,n.scale,n.originPoint)}const qf=.999999999999,Yf=1.0000000000001;function PE(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,rv(e,o)),r&&On(i.latestValues)&&jr(e,i.latestValues))}t.x<Yf&&t.x>qf&&(t.x=1),t.y<Yf&&t.y>qf&&(t.y=1)}function Sr(e,t){e.min=e.min+t,e.max=e.max+t}function Jf(e,t,n,r,s=.5){const i=oe(e.min,e.max,s);zc(e,t,n,i,r)}function jr(e,t){Jf(e.x,t.x,t.scaleX,t.scale,t.originX),Jf(e.y,t.y,t.scaleY,t.scale,t.originY)}function sv(e,t){return tv(NE(e.getBoundingClientRect(),t))}function AE(e,t,n){const r=sv(e,n),{scroll:s}=t;return s&&(Sr(r.x,s.offset.x),Sr(r.y,s.offset.y)),r}const iv=({current:e})=>e?e.ownerDocument.defaultView:null,RE=new WeakMap;class IE{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=he(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ja(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:x}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Qy(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rt(w=>{let m=this.getAxisMotionValue(w).get()||0;if(jt.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const y=p.layout.layoutBox[w];y&&(m=Ze(y)*(parseFloat(m)/100))}}this.originPoint[w]=m}),x&&Q.postRender(()=>x(d,h)),Fc(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(g&&this.currentDirection===null){this.currentDirection=OE(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),l=()=>rt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new qy(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:iv(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Q.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Wi(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=kE(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&kr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=_E(s.layoutBox,n):this.constraints=!1,this.elastic=CE(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=EE(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!kr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=AE(r,s.root,this.visualElement.getTransformPagePoint());let o=SE(s.layout.layoutBox,i);if(n){const a=n(TE(o));this.hasMutatedConstraints=!!a,a&&(o=tv(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=rt(d=>{if(!Wi(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Fc(this.visualElement,t),r.start(vd(t,r,0,n,this.visualElement,!1))}stopAnimation(){rt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){rt(n=>{const{drag:r}=this.getProps();if(!Wi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-oe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!kr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=jE({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rt(o=>{if(!Wi(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(oe(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;RE.set(this.visualElement,this);const t=this.visualElement.current,n=Vt(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();kr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Q.read(r);const o=Mt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(rt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Vc,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Wi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function OE(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class ME extends Cn{constructor(t){super(t),this.removeGroupControls=Ie,this.removeListeners=Ie,this.controls=new IE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ie}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qf=e=>(t,n)=>{e&&Q.postRender(()=>e(t,n))};class LE extends Cn{constructor(){super(...arguments),this.removePointerDownListener=Ie}onPointerDown(t){this.session=new qy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Qf(t),onStart:Qf(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Q.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Vt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ea=S.createContext(null);function DE(){const e=S.useContext(Ea);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=S.useId();S.useEffect(()=>r(s),[]);const i=S.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,i]:[!0]}const _d=S.createContext({}),ov=S.createContext({}),co={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const us={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(L.test(e))e=parseFloat(e);else return e;const n=Xf(e,t.target.x),r=Xf(e,t.target.y);return`${n}% ${r}%`}},FE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=kn.parse(e);if(s.length>5)return r;const i=kn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=oe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Go={};function $E(e){Object.assign(Go,e)}const{schedule:Sd,cancel:a2}=oy(queueMicrotask,!1);class VE extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;$E(UE),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),co.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Q.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Sd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function av(e){const[t,n]=DE(),r=S.useContext(_d);return c.jsx(VE,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(ov),isPresent:t,safeToRemove:n})}const UE={borderRadius:{...us,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:us,borderTopRightRadius:us,borderBottomLeftRadius:us,borderBottomRightRadius:us,boxShadow:FE},lv=["TopLeft","TopRight","BottomLeft","BottomRight"],zE=lv.length,Zf=e=>typeof e=="string"?parseFloat(e):e,ep=e=>typeof e=="number"||L.test(e);function BE(e,t,n,r,s,i){s?(e.opacity=oe(0,n.opacity!==void 0?n.opacity:1,HE(r)),e.opacityExit=oe(t.opacity!==void 0?t.opacity:1,0,GE(r))):i&&(e.opacity=oe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<zE;o++){const a=`border${lv[o]}Radius`;let l=tp(t,a),u=tp(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ep(l)===ep(u)?(e[a]=Math.max(oe(Zf(l),Zf(u),r),0),(jt.test(u)||jt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,r))}function tp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const HE=cv(0,.5,fy),GE=cv(.5,.95,Ie);function cv(e,t,n){return r=>r<e?0:r>t?1:n(Hr(e,t,r))}function np(e,t){e.min=t.min,e.max=t.max}function nt(e,t){np(e.x,t.x),np(e.y,t.y)}function rp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sp(e,t,n,r,s){return e-=t,e=Ho(e,1/n,r),s!==void 0&&(e=Ho(e,1/s,r)),e}function KE(e,t=0,n=1,r=.5,s,i=e,o=e){if(jt.test(t)&&(t=parseFloat(t),t=oe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=oe(i.min,i.max,r);e===i&&(a-=t),e.min=sp(e.min,t,n,a,s),e.max=sp(e.max,t,n,a,s)}function ip(e,t,[n,r,s],i,o){KE(e,t[n],t[r],t[s],t.scale,i,o)}const WE=["x","scaleX","originX"],qE=["y","scaleY","originY"];function op(e,t,n,r){ip(e.x,t,WE,n?n.x:void 0,r?r.x:void 0),ip(e.y,t,qE,n?n.y:void 0,r?r.y:void 0)}function ap(e){return e.translate===0&&e.scale===1}function uv(e){return ap(e.x)&&ap(e.y)}function lp(e,t){return e.min===t.min&&e.max===t.max}function YE(e,t){return lp(e.x,t.x)&&lp(e.y,t.y)}function cp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dv(e,t){return cp(e.x,t.x)&&cp(e.y,t.y)}function up(e){return Ze(e.x)/Ze(e.y)}function dp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class JE{constructor(){this.members=[]}add(t){xd(this.members,t),t.scheduleRender()}remove(t){if(wd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QE(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const XE=(e,t)=>e.depth-t.depth;class ZE{constructor(){this.children=[],this.isDirty=!1}add(t){xd(this.children,t),this.isDirty=!0}remove(t){wd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(XE),this.isDirty=!1,this.children.forEach(t)}}function uo(e){const t=Re(e)?e.get():e;return Hj(t)?t.toValue():t}function eC(e,t){const n=Et.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(bn(r),e(i-t))};return Q.read(r,!0),()=>bn(r)}function tC(e){return e instanceof SVGElement&&e.tagName!=="svg"}function nC(e,t,n){const r=Re(e)?e:si(e);return r.start(vd("",r,t,n)),r.animation}const Mn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ys=typeof window<"u"&&window.MotionDebug!==void 0,xl=["","X","Y","Z"],rC={visibility:"hidden"},hp=1e3;let sC=0;function wl(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function hv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Hy(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Q,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&hv(r)}function fv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=sC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ys&&(Mn.totalNodes=Mn.resolvedTargetDeltas=Mn.recalculatedProjection=0),this.nodes.forEach(aC),this.nodes.forEach(hC),this.nodes.forEach(fC),this.nodes.forEach(lC),ys&&window.MotionDebug.record(Mn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZE)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new bd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tC(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=eC(f,250),co.hasAnimatedSinceResize&&(co.hasAnimatedSinceResize=!1,this.nodes.forEach(pp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||vC,{onLayoutAnimationStart:w,onLayoutAnimationComplete:m}=d.getProps(),p=!this.targetLayout||!dv(this.targetLayout,x)||g,y=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const b={...sd(v,"layout"),onPlay:w,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||pp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fp);return}this.isUpdating||this.nodes.forEach(uC),this.isUpdating=!1,this.nodes.forEach(dC),this.nodes.forEach(iC),this.nodes.forEach(oC),this.clearAllSnapshots();const a=Et.now();be.delta=Gt(0,1e3/60,a-be.timestamp),be.timestamp=a,be.isProcessing=!0,dl.update.process(be),dl.preRender.process(be),dl.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cC),this.sharedNodes.forEach(mC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Q.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Q.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=he(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!uv(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||On(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),xC(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return he();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(wC))){const{scroll:d}=this.root;d&&(Sr(l.x,d.offset.x),Sr(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=he();if(nt(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&nt(l,o),Sr(l.x,h.offset.x),Sr(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=he();nt(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),On(d.latestValues)&&jr(l,d.latestValues)}return On(this.latestValues)&&jr(l,this.latestValues),l}removeTransform(o){const a=he();nt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!On(u.latestValues))continue;Uc(u.latestValues)&&u.updateSnapshot();const d=he(),h=u.measurePageBox();nt(d,h),op(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return On(this.latestValues)&&op(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=be.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),As(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=he(),this.targetWithTransforms=he()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nt(this.target,this.layout.layoutBox),rv(this.target,this.targetDelta)):nt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),As(this.relativeTargetOrigin,this.target,g.target),nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ys&&Mn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uc(this.parent.latestValues)||nv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===be.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;nt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;PE(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=he());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rp(this.prevProjectionDelta.x,this.projectionDelta.x),rp(this.prevProjectionDelta.y,this.projectionDelta.y)),Ps(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!dp(this.projectionDelta.x,this.prevProjectionDelta.x)||!dp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ys&&Mn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_r(),this.projectionDelta=_r(),this.projectionDeltaWithTransform=_r()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=_r();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=he(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,w=this.getStack(),m=!w||w.members.length<=1,p=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(yC));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const k=b/1e3;mp(h.x,o.x,k),mp(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(As(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gC(this.relativeTarget,this.relativeTargetOrigin,f,k),y&&YE(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=he()),nt(y,this.relativeTarget)),v&&(this.animationValues=d,BE(d,u,this.latestValues,k,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Q.update(()=>{co.hasAnimatedSinceResize=!0,this.currentAnimation=nC(0,hp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&pv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||he();const h=Ze(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ze(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}nt(a,l),jr(a,d),Ps(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JE),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&wl("z",o,u,this.animationValues);for(let d=0;d<xl.length;d++)wl(`rotate${xl[d]}`,o,u,this.animationValues),wl(`skew${xl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rC;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=uo(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=uo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!On(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=QE(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:g,y:x}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Go){if(f[v]===void 0)continue;const{correct:w,applyTo:m}=Go[v],p=u.transform==="none"?f[v]:w(f[v],h);if(m){const y=m.length;for(let b=0;b<y;b++)u[m[b]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?uo(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(fp),this.root.sharedNodes.clear()}}}function iC(e){e.updateLayout()}function oC(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?rt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Ze(f);f.min=r[h].min,f.max=f.min+g}):pv(i,n.layoutBox,r)&&rt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Ze(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=_r();Ps(a,r,n.layoutBox);const l=_r();o?Ps(l,e.applyTransform(s,!0),n.measuredBox):Ps(l,r,n.layoutBox);const u=!uv(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const x=he();As(x,n.layoutBox,f.layoutBox);const v=he();As(v,r,g.layoutBox),dv(x,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function aC(e){ys&&Mn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function lC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function cC(e){e.clearSnapshot()}function fp(e){e.clearMeasurements()}function uC(e){e.isLayoutDirty=!1}function dC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hC(e){e.resolveTargetDelta()}function fC(e){e.calcProjection()}function pC(e){e.resetSkewAndRotation()}function mC(e){e.removeLeadSnapshot()}function mp(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function gp(e,t,n,r){e.min=oe(t.min,n.min,r),e.max=oe(t.max,n.max,r)}function gC(e,t,n,r){gp(e.x,t.x,n.x,r),gp(e.y,t.y,n.y,r)}function yC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vC={duration:.45,ease:[.4,0,.1,1]},yp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vp=yp("applewebkit/")&&!yp("chrome/")?Math.round:Ie;function xp(e){e.min=vp(e.min),e.max=vp(e.max)}function xC(e){xp(e.x),xp(e.y)}function pv(e,t,n){return e==="position"||e==="preserve-aspect"&&!wE(up(t),up(n),.2)}function wC(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const bC=fv({attachResizeListener:(e,t)=>Mt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bl={current:void 0},mv=fv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bl.current){const e=new bC({});e.mount(window),e.setOptions({layoutScroll:!0}),bl.current=e}return bl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kC={pan:{Feature:LE},drag:{Feature:ME,ProjectionNode:mv,MeasureLayout:av}};function wp(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||Xy())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const l=a[r];l&&Q.postRender(()=>l(i,o))};return Vt(e.current,n,s,{passive:!e.getProps()[r]})}class _C extends Cn{mount(){this.unmount=$t(wp(this.node,!0),wp(this.node,!1))}unmount(){}}class SC extends Cn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$t(Mt(this.node.current,"focus",()=>this.onFocus()),Mt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const gv=(e,t)=>t?e===t?!0:gv(e,t.parentElement):!1;function kl(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,ja(n))}class jC extends Cn{constructor(){super(...arguments),this.removeStartListeners=Ie,this.removeEndListeners=Ie,this.removeAccessibleListeners=Ie,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Vt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!gv(this.node.current,a.target)?d:u;f&&Q.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Vt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=$t(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||kl("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Q.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Mt(this.node.current,"keyup",o),kl("down",(a,l)=>{this.startPress(a,l)})},n=Mt(this.node.current,"keydown",t),r=()=>{this.isPressing&&kl("cancel",(i,o)=>this.cancelPress(i,o))},s=Mt(this.node.current,"blur",r);this.removeAccessibleListeners=$t(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Q.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Xy()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Q.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Vt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Mt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$t(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Bc=new WeakMap,_l=new WeakMap,EC=e=>{const t=Bc.get(e.target);t&&t(e)},CC=e=>{e.forEach(EC)};function TC({root:e,...t}){const n=e||document;_l.has(n)||_l.set(n,{});const r=_l.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(CC,{root:e,...t})),r[s]}function NC(e,t,n){const r=TC(t);return Bc.set(e,n),r.observe(e),()=>{Bc.delete(e),r.unobserve(e)}}const PC={some:0,all:1};class AC extends Cn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:PC[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return NC(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(RC(t,n))&&this.startObserver()}unmount(){}}function RC({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const IC={inView:{Feature:AC},tap:{Feature:jC},focus:{Feature:SC},hover:{Feature:_C}},OC={layout:{ProjectionNode:mv,MeasureLayout:av}},jd=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ca=S.createContext({}),Ed=typeof window<"u",yv=Ed?S.useLayoutEffect:S.useEffect,vv=S.createContext({strict:!1});function MC(e,t,n,r,s){var i,o;const{visualElement:a}=S.useContext(Ca),l=S.useContext(vv),u=S.useContext(Ea),d=S.useContext(jd).reducedMotion,h=S.useRef();r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,g=S.useContext(ov);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&LC(h.current,n,s,g);const x=S.useRef(!1);S.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const v=n[By],w=S.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return yv(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Sd.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,v)}),w.current=!1))}),f}function LC(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:xv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&kr(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function xv(e){if(e)return e.options.allowProjection!==!1?e.projection:xv(e.parent)}function DC(e,t,n){return S.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):kr(n)&&(n.current=r))},[t])}function Ta(e){return ka(e.animate)||rd.some(t=>ti(e[t]))}function wv(e){return!!(Ta(e)||e.variants)}function FC(e,t){if(Ta(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ti(n)?n:void 0,animate:ti(r)?r:void 0}}return e.inherit!==!1?t:{}}function $C(e){const{initial:t,animate:n}=FC(e,S.useContext(Ca));return S.useMemo(()=>({initial:t,animate:n}),[bp(t),bp(n)])}function bp(e){return Array.isArray(e)?e.join(" "):e}const kp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gr={};for(const e in kp)Gr[e]={isEnabled:t=>kp[e].some(n=>!!t[n])};function VC(e){for(const t in e)Gr[t]={...Gr[t],...e[t]}}const UC=Symbol.for("motionComponentSymbol");function zC({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&VC(e);function i(a,l){let u;const d={...S.useContext(jd),...a,layoutId:BC(a)},{isStatic:h}=d,f=$C(a),g=r(a,h);if(!h&&Ed){HC();const x=GC(d);u=x.MeasureLayout,f.visualElement=MC(s,g,d,t,x.ProjectionNode)}return c.jsxs(Ca.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,a,DC(g,f.visualElement,l),g,h,f.visualElement)]})}const o=S.forwardRef(i);return o[UC]=s,o}function BC({layoutId:e}){const t=S.useContext(_d).id;return t&&e!==void 0?t+"-"+e:e}function HC(e,t){S.useContext(vv).strict}function GC(e){const{drag:t,layout:n}=Gr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const KC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cd(e){return typeof e!="string"||e.includes("-")?!1:!!(KC.indexOf(e)>-1||/[A-Z]/u.test(e))}function bv(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const kv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _v(e,t,n,r){bv(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(kv.has(s)?s:kd(s),t.attrs[s])}function Sv(e,{layout:t,layoutId:n}){return nr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Go[e]||e==="opacity")}function Td(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Re(s[o])||t.style&&Re(t.style[o])||Sv(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function jv(e,t,n){const r=Td(e,t,n);for(const s in e)if(Re(e[s])||Re(t[s])){const i=gi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function Nd(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}function WC({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:qC(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const Ev=e=>(t,n)=>{const r=S.useContext(Ca),s=S.useContext(Ea),i=()=>WC(e,t,r,s);return n?i():Nd(i)};function qC(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=uo(i[f]);let{initial:o,animate:a}=e;const l=Ta(e),u=wv(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!ka(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const x=td(e,f[g]);if(x){const{transitionEnd:v,transition:w,...m}=x;for(const p in m){let y=m[p];if(Array.isArray(y)){const b=d?y.length-1:0;y=y[b]}y!==null&&(s[p]=y)}for(const p in v)s[p]=v[p]}}}return s}const Pd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Cv=()=>({...Pd(),attrs:{}}),Tv=(e,t)=>t&&typeof e=="number"?t.transform(e):e,YC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JC=gi.length;function QC(e,t,n){let r="",s=!0;for(let i=0;i<JC;i++){const o=gi[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Tv(a,dd[o]);if(!l){s=!1;const d=YC[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Ad(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(nr.has(l)){o=!0;continue}else if(vy(l)){s[l]=u;continue}else{const d=Tv(u,dd[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=QC(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}function _p(e,t,n){return typeof e=="string"?e:L.transform(t+n*e)}function XC(e,t,n){const r=_p(t,e.x,e.width),s=_p(n,e.y,e.height);return`${r} ${s}`}const ZC={offset:"stroke-dashoffset",array:"stroke-dasharray"},eT={offset:"strokeDashoffset",array:"strokeDasharray"};function tT(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?ZC:eT;e[i.offset]=L.transform(-r);const o=L.transform(t),a=L.transform(n);e[i.array]=`${o} ${a}`}function Rd(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(Ad(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g,dimensions:x}=e;f.transform&&(x&&(g.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=XC(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&tT(f,o,a,l,!1)}const Id=e=>typeof e=="string"&&e.toLowerCase()==="svg",nT={useVisualState:Ev({scrapeMotionValuesFromProps:jv,createRenderState:Cv,onMount:(e,t,{renderState:n,latestValues:r})=>{Q.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Q.render(()=>{Rd(n,r,Id(t.tagName),e.transformTemplate),_v(t,n)})}})},rT={useVisualState:Ev({scrapeMotionValuesFromProps:Td,createRenderState:Pd})};function Nv(e,t,n){for(const r in t)!Re(t[r])&&!Sv(r,n)&&(e[r]=t[r])}function sT({transformTemplate:e},t){return S.useMemo(()=>{const n=Pd();return Ad(n,t,e),Object.assign({},n.vars,n.style)},[t])}function iT(e,t){const n=e.style||{},r={};return Nv(r,n,e),Object.assign(r,sT(e,t)),r}function oT(e,t){const n={},r=iT(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const aT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ko(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||aT.has(e)}let Pv=e=>!Ko(e);function lT(e){e&&(Pv=t=>t.startsWith("on")?!Ko(t):e(t))}try{lT(require("@emotion/is-prop-valid").default)}catch{}function cT(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Pv(s)||n===!0&&Ko(s)||!t&&!Ko(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function uT(e,t,n,r){const s=S.useMemo(()=>{const i=Cv();return Rd(i,t,Id(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Nv(i,e.style,e),s.style={...i,...s.style}}return s}function dT(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Cd(n)?uT:oT)(r,i,o,n),u=cT(r,typeof n=="string",e),d=n!==S.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=S.useMemo(()=>Re(h)?h.get():h,[h]);return S.createElement(n,{...d,children:f})}}function hT(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Cd(r)?nT:rT,preloadedFeatures:e,useRender:dT(s),createVisualElement:t,Component:r};return zC(o)}}const Hc={current:null},Av={current:!1};function fT(){if(Av.current=!0,!!Ed)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hc.current=e.matches;e.addListener(t),t()}else Hc.current=!1}function pT(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Re(s))e.addValue(r,s);else if(Re(i))e.addValue(r,si(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,si(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Sp=new WeakMap,mT=[...by,Ne,kn],gT=e=>mT.find(wy(e)),jp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yT{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ld,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Et.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Q.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ta(n),this.isVariantNode=wv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&Re(g)&&g.set(l[f],!1)}}mount(t){this.current=t,Sp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Av.current||fT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Sp.delete(this.current),this.projection&&this.projection.unmount(),bn(this.notifyUpdate),bn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=nr.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Q.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gr){const n=Gr[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):he()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jp.length;r++){const s=jp[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=pT(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=si(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(gy(s)||my(s))?s=parseFloat(s):!gT(s)&&kn.test(n)&&(s=Ny(t,n)),this.setBaseTarget(t,Re(s)?s.get():s)),Re(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=td(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Re(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new bd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Rv extends yT{constructor(){super(...arguments),this.KeyframeResolver=Py}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}}function vT(e){return window.getComputedStyle(e)}class xT extends Rv{constructor(){super(...arguments),this.type="html",this.renderInstance=bv}readValueFromInstance(t,n){if(nr.has(n)){const r=hd(n);return r&&r.default||0}else{const r=vT(t),s=(vy(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return sv(t,n)}build(t,n,r){Ad(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Td(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Re(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class wT extends Rv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=he}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(nr.has(n)){const r=hd(n);return r&&r.default||0}return n=kv.has(n)?n:kd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return jv(t,n,r)}build(t,n,r){Rd(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){_v(t,n,r,s)}mount(t){this.isSVGTag=Id(t.tagName),super.mount(t)}}const bT=(e,t)=>Cd(e)?new wT(t):new xT(t,{allowProjection:e!==S.Fragment}),kT=hT({...dE,...IC,...kC,...OC},bT),G=cS(kT);class _T extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ST({children:e,isPresent:t}){const n=S.useId(),r=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=S.useContext(jd);return S.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(_T,{isPresent:t,childRef:r,sizeRef:s,children:S.cloneElement(e,{ref:r})})}const jT=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Nd(ET),l=S.useId(),u=S.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=S.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[n,u]);return S.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(ST,{isPresent:n,children:e})),c.jsx(Ea.Provider,{value:d,children:e})};function ET(){return new Map}const qi=e=>e.key||"";function Ep(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const xi=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=S.useMemo(()=>Ep(e),[e]),l=a.map(qi),u=S.useRef(!0),d=S.useRef(a),h=Nd(()=>new Map),[f,g]=S.useState(a),[x,v]=S.useState(a);yv(()=>{u.current=!1,d.current=a;for(let p=0;p<x.length;p++){const y=qi(x[p]);l.includes(y)?h.delete(y):h.get(y)!==!0&&h.set(y,!1)}},[x,l.length,l.join("-")]);const w=[];if(a!==f){let p=[...a];for(let y=0;y<x.length;y++){const b=x[y],k=qi(b);l.includes(k)||(p.splice(y,0,b),w.push(b))}o==="wait"&&w.length&&(p=w),v(Ep(p)),g(a);return}const{forceRender:m}=S.useContext(_d);return c.jsx(c.Fragment,{children:x.map(p=>{const y=qi(p),b=a===x||l.includes(y),k=()=>{if(h.has(y))h.set(y,!0);else return;let E=!0;h.forEach(C=>{C||(E=!1)}),E&&(m==null||m(),v(d.current),s&&s())};return c.jsx(jT,{isPresent:b,initial:!u.current||r?void 0:!1,custom:b?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:b?void 0:k,children:p},y)})})},Na=En()(pa(e=>({theme:"system",language:"pt",setTheme:t=>e({theme:t}),setLanguage:t=>e({language:t})}),{name:"settings"})),CT={en:{common:{search:"Search for recipes...",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",profile:"Profile",darkMode:"Dark Mode",language:"Language",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",settings:"Settings",createaccount:"Create Account",dontHaveAccount:"Don't have an account? ",alreadyHaveAccount:"Already have an account? ",theme:{light:"Light",dark:"Dark",system:"System"}},buttons:{BackToRecipes:"Back to Recipes",My_recipes:"My recipes",Favorites:"Favorites",Nutrition_goal:"Nutrition Goals"},filters:{advanced:"Advanced Filters",minRating:"Minimum Rating",clearAll:"Clear All Filters",prepTime:{quick:"Quick (≤15 min)",medium:"Medium (≤30 min)",long:"Long (>30 min)"}},home:{title:"Discover Healthy Recipes",subtitle:"Find and share nutritious recipes that match your dietary preferences.",createRecipe:"Create Recipe",noRecipes:"No recipes found. Try adjusting your filters."},profile:{myRecipes:"My Recipes",favorites:"Favorites",nutritionGoals:"Nutrition Goals",settings:"Settings",noRecipesYet:"You haven't published any recipes yet.",noFavorites:"You haven't saved any recipes as favorites yet.",statistics:"Statistics",publishedRecipes:"Published Recipes",totalReviews:"Total Reviews",averageRating:"Average Rating",experience:"Experience",healthGoals:"Health Goals",dietaryPreferences:"Dietary Preferences",allergies:"Allergies",dailyGoals:"Daily Goals",recentFavorites:"Recent Favorites",personalInfo:"Personal Information",accountType:"Account Type",email:"Email",name:"Name",password:"Password",nutricionist:"Nutricionist",client:"Client",saveGoals:"Save goals",nutritionGoalsnames:{calories:"Calories",protein:"Protein",carbs:"Carbs",fat:"Fat",fiber:"Fiber"}},categories:{all:"All",vegan:"Vegan",lowCarb:"Low Carb",highProtein:"High Protein",glutenFree:"Gluten Free",vegetarian:"Vegetarian"},recipe:{recipeTitle:"Title",recipeImageURL:"Image URL",recipeDescription:"Description",prepTime:"Preparation Time",difficulty:"Difficulty",recipeCategory:"Category",ingredients:"Ingredients",instructions:"Instructions",nutritionFacts:"Nutrition Facts (Per Serving)",reviews:"Reviews",writeReview:"Write your review...",submitReview:"Submit Review",signInToReview:"Please sign in to leave a review.",addIngredient:"Add Ingredient",addStep:"Add Step",step:"Step",Step:"Step",example:'"2 cups flour"',perServing:"per serving",deleteConfirm:"Are you sure you want to delete this recipe?",share:"Share Recipe",edit:"Edit Recipe",delete:"Delete Recipe",difficultyLevels:{easy:"Easy",medium:"Medium",hard:"Hard"},CreateNewRecipe:"Create new recipe",CreateRecipe:"Create recipe",rating:"Rating",noReviews:"No reviews"}},pt:{common:{search:"Buscar receitas...",signIn:"Entrar",signUp:"Cadastrar",signOut:"Sair",profile:"Perfil",darkMode:"Modo Escuro",language:"Idioma",loading:"Carregando...",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",back:"Voltar",settings:"Configurações",createaccount:"Criar conta",dontHaveAccount:"Não tem uma conta? ",alreadyHaveAccount:"Já tem uma conta? ",theme:{light:"Claro",dark:"Escuro",system:"Sistema"}},buttons:{BackToRecipes:"Voltar para as receitas",My_recipes:"Minhas receitas",Favorites:"Favoritos",Nutrition_goal:"Metas Nutricionais"},filters:{advanced:"Filtros Avançados",minRating:"Avaliação Mínima",clearAll:"Limpar Todos os Filtros",prepTime:{quick:"Rápido (≤15 min)",medium:"Médio (≤30 min)",long:"Longo (>30 min)"}},home:{title:"Descubra Receitas Saudáveis",subtitle:"Encontre e compartilhe receitas nutritivas que combinam com suas preferências alimentares.",createRecipe:"Criar Receita",noRecipes:"Nenhuma receita encontrada. Tente ajustar seus filtros."},profile:{myRecipes:"Minhas Receitas",favorites:"Favoritos",nutritionGoals:"Metas Nutricionais",settings:"Configurações",noRecipesYet:"Você ainda não publicou nenhuma receita.",noFavorites:"Você ainda não salvou nenhuma receita como favorita.",statistics:"Estatísticas",publishedRecipes:"Receitas Publicadas",totalReviews:"Total de Avaliações",averageRating:"Avaliação Média",experience:"Experiência",healthGoals:"Objetivos de Saúde",dietaryPreferences:"Preferências Alimentares",allergies:"Alergias",dailyGoals:"Metas Diárias",recentFavorites:"Favoritos Recentes",personalInfo:"Informações Pessoais",accountType:"Tipo de Conta",email:"Email",name:"Nome completo",password:"Senha",nutricionist:"Nutricionista",client:"Cliente",saveGoals:"Salvar metas",nutritionGoalsnames:{calories:"Calorias",protein:"Proteína",carbs:"Carboidratos",fat:"Gordura",fiber:"Fibra"}},categories:{all:"Todas",vegan:"Vegana",lowCarb:"Baixo Carboidrato",highProtein:"Rica em Proteína",glutenFree:"Sem Glúten",vegetarian:"Vegetariana"},recipe:{recipeTitle:"Titulo",recipeImageURL:"URL da imagem",recipeDescription:"Descrição",prepTime:"Tempo de Preparo",difficulty:"Dificuldade",recipeCategory:"Categoria",ingredients:"Ingredientes",addIngredient:"Adicionar Ingrediente",instructions:"Modo de Preparo",addStep:"Adicionar Passo",step:"Passo a passo",Step:"Passo",example:"Exemplo: 2 xícaras de açucar",nutritionFacts:"Informação Nutricional (Por porção)",reviews:"Avaliações",writeReview:"Escreva sua avaliação...",submitReview:"Enviar Avaliação",signInToReview:"Faça login para deixar uma avaliação.",perServing:"por porção",deleteConfirm:"Tem certeza que deseja excluir esta receita?",share:"Compartilhar Receita",edit:"Editar Receita",delete:"Excluir Receita",difficultyLevels:{easy:"Fácil",medium:"Médio",hard:"Difícil"},CreateNewRecipe:"Criar nova receita",CreateRecipe:"Criar receita",rating:"Avalie essa receita",noReviews:"Sem Avaliações"}}};function je(){const{language:e}=Na();return CT[e]}function TT({isOpen:e,onClose:t}){const[n,r]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState("email"),[l,u]=S.useState("");if(je(),!e)return null;const d=x=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x),h=async x=>{x.preventDefault();const v=n.toLowerCase().trim();if(!v){u("Por favor, digite seu email.");return}if(!d(v)){u("Por favor, digite um email válido.");return}i(!0),u("");try{if(console.log("Starting password reset process for:",v),!await ty(v)){u("Email não encontrado. Verifique se o email está correto ou crie uma conta."),a("error");return}console.log("Email exists, sending reset email..."),await ny(v),console.log("Reset email sent successfully"),a("sent")}catch(w){console.error("Password reset error:",w);let m="Erro ao enviar email de recuperação. Tente novamente em alguns minutos.";w.message&&(m=w.message),u(m),a("error")}finally{i(!1)}},f=()=>{r(""),a("email"),u(""),i(!1),t()},g=()=>{a("email"),u(""),i(!1)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[c.jsx("button",{onClick:f,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:s,children:c.jsx(Zn,{className:"w-6 h-6"})}),o==="email"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(Eb,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Esqueci minha senha"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite seu email para receber o link de recuperação"})]})]}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:n,onChange:x=>r(x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"seu@email.com",required:!0,disabled:s,autoComplete:"email"})]}),l&&c.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),c.jsxs("button",{type:"submit",disabled:s||!n.trim(),className:Y("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",s||!n.trim()?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[s&&c.jsx(Js,{className:"w-4 h-4 animate-spin"}),s?"Verificando...":"Enviar link de recuperação"]})]}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:c.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Dica:"})," Verifique sua pasta de spam caso não receba o email em alguns minutos."]})})]}),o==="sent"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx(Bu,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Email enviado!"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Enviamos um link de recuperação para ",c.jsx("strong",{children:n}),". Verifique sua caixa de entrada e pasta de spam."]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Importante:"})," O link expira em 1 hora. Se não receber o email em alguns minutos, verifique sua pasta de spam ou tente novamente."]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:f,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Fechar"}),c.jsx("button",{onClick:g,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Enviar novamente"})]})]}),o==="error"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx(zu,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao enviar"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:g,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Tentar novamente"}),c.jsx("button",{onClick:f,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Fechar"})]})]})]})})}function NT({isOpen:e,onClose:t,initialMode:n="signin"}){const[r,s]=S.useState(n),[i,o]=S.useState(""),[a,l]=S.useState(""),[u,d]=S.useState(""),[h,f]=S.useState("Client"),[g,x]=S.useState(!1),[v,w]=S.useState(!1),m=je(),{signIn:p,signUp:y}=ke();if(!e)return null;const b=async E=>{E.preventDefault(),x(!0);try{r==="signin"?await p(i,a,u):await y(i,a,u,h),t()}catch(C){console.error("Auth error:",C)}finally{x(!1)}},k=()=>{w(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Zn,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-black dark:text-white",children:r==="signin"?m.common.signIn:m.common.createaccount}),c.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r==="signup"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.name}),c.jsx("input",{type:"text",id:"name",name:"name",value:u,onChange:E=>d(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.accountType}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("button",{type:"button",onClick:()=>f("Client"),className:Y("px-4 py-2 rounded-lg border-2 transition-colors dark:bg-white dark:text-black",h==="Client"?"border-green-500 bg-green-50 dark:bg-green-50 text-green-700 dark:text-green-700":"border-gray-200 hover:border-green-200"),children:m.profile.client}),c.jsx("button",{type:"button",onClick:()=>f("Nutritionist"),className:Y("px-4 py-2 rounded-lg border-2 transition-colors dark:bg-white dark:text-black",h==="Nutritionist"?"border-green-500 bg-green-50 dark:bg-green-50 text-green-700 dark:text-green-700":"border-gray-200 hover:border-green-200"),children:m.profile.nutricionist})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:"Email"}),c.jsx("input",{type:"email",id:"email",name:"email",value:i,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.password}),c.jsx("input",{type:"password",id:"password",name:"password",value:a,onChange:E=>l(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),r==="signin"&&c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"button",onClick:k,className:"text-sm text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 font-medium",children:"Esqueci minha senha"})}),c.jsx("button",{type:"submit",disabled:g,className:Y("w-full py-2 rounded-lg text-white font-medium transition-colors",g?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:g?m.common.loading:r==="signin"?m.common.signIn:m.common.signUp})]}),c.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-300",children:[r==="signin"?m.common.dontHaveAccount:m.common.alreadyHaveAccount,c.jsx("button",{onClick:()=>s(r==="signin"?"signup":"signin"),className:"text-green-600 hover:text-green-700 font-medium ml-1",children:r==="signin"?m.common.signUp:m.common.signIn})]})]})}),c.jsx(TT,{isOpen:v,onClose:()=>w(!1)})]})}function Cp(){const{theme:e,setTheme:t}=Na(),n=je(),r=[{id:"light",icon:Ib,label:n.common.theme.light},{id:"dark",icon:Tb,label:n.common.theme.dark}];return c.jsx("div",{className:"flex items-center gap-2",children:r.map(({id:s,icon:i,label:o})=>c.jsx("button",{onClick:()=>t(s),className:`p-2 rounded-lg transition-colors ${e===s?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,title:o,children:c.jsx(i,{className:"w-5 h-5"})},s))})}function Tp(){const{language:e,setLanguage:t}=Na(),[n,r]=S.useState(!1),s=[{value:"en",label:"English",flag:"🇺🇸"},{value:"pt",label:"Português",flag:"🇧🇷"}],i=s.find(o=>o.value===e);return c.jsxs("div",{className:"relative",children:[c.jsxs(G.button,{onClick:()=>r(!n),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_b,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),c.jsx("span",{className:"text-lg",children:i==null?void 0:i.flag}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 hidden sm:block",children:i==null?void 0:i.label})]}),c.jsx(G.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:c.jsx(bb,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),c.jsx(xi,{children:n&&c.jsxs(c.Fragment,{children:[c.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>r(!1)}),c.jsx(G.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:s.map((o,a)=>c.jsxs(G.button,{onClick:()=>{t(o.value),r(!1)},className:`w-full px-4 py-3 text-left flex items-center gap-3 transition-colors ${e===o.value?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},whileHover:{x:4},children:[c.jsx("span",{className:"text-xl",children:o.flag}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:o.label}),e===o.value&&c.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Selecionado"})]}),e===o.value&&c.jsx(G.div,{className:"ml-auto w-2 h-2 bg-green-500 rounded-full",initial:{scale:0},animate:{scale:1},transition:{delay:.1}})]},o.value))})]})})]})}function PT({onProfileClick:e,onAIMentoringClick:t}){const[n,r]=S.useState(!1),[s,i]=S.useState("signin"),[o,a]=S.useState(!1),{user:l,isAuthenticated:u,signOut:d,isNutritionist:h}=ke(),{hasFeatureAccess:f}=Zu(),{searchQuery:g,setSearchQuery:x}=ed(),v=je(),w=p=>{i(p),r(!0)},m=u&&(h()||f("ai_mentoring"));return c.jsxs(c.Fragment,{children:[c.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(G.h1,{className:"text-2xl font-bold text-green-600 dark:text-green-400 cursor-pointer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"NutriChef"})}),c.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-8",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:g,onChange:p=>x(p.target.value),placeholder:v.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),c.jsx(Wh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-200 dark:border-gray-600 pr-4 mr-4",children:[c.jsx(Cp,{}),c.jsx(Tp,{})]}),u?c.jsxs(G.div,{className:"flex items-center space-x-4",initial:{opacity:0},animate:{opacity:1},children:[c.jsxs("button",{onClick:t,className:Y("flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors",m?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),title:m?"Mentoria IA":"Mentoria IA (Premium)",children:[c.jsx(Vn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden lg:inline",children:"Mentoria IA"}),!m&&c.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:"Premium"})]}),c.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(Xs,{className:"w-4 h-4"}),c.jsx("span",{children:l==null?void 0:l.name})]}),c.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsx(Kh,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.signOut})]})]}):c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(G.button,{onClick:()=>w("signin"),className:"px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.common.signIn}),c.jsx(G.button,{onClick:()=>w("signup"),className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.common.signUp})]})]}),c.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[c.jsx(Cp,{}),c.jsx(Tp,{}),c.jsx("button",{onClick:()=>a(!o),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:c.jsx(Cb,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})]})]})}),c.jsx(xi,{children:o&&c.jsx(G.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:c.jsxs("div",{className:"px-4 py-3 space-y-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:g,onChange:p=>x(p.target.value),placeholder:v.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),c.jsx(Wh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),u?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>{t(),a(!1)},className:Y("w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors",m?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),children:[c.jsx(Vn,{className:"w-4 h-4"}),c.jsx("span",{children:"Mentoria IA"}),!m&&c.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:"Premium"})]}),c.jsxs("button",{onClick:()=>{e(),a(!1)},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(Xs,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.profile})]}),c.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsx(Kh,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.signOut})]})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>{w("signin"),a(!1)},className:"w-full px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:v.common.signIn}),c.jsx("button",{onClick:()=>{w("signup"),a(!1)},className:"w-full px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:v.common.signUp})]})]})})})]}),c.jsx(NT,{isOpen:n,onClose:()=>r(!1),initialMode:s})]})}const Ct=En((e,t)=>({recipes:[],favoriteRecipes:[],loading:!1,error:null,clearUserData:()=>{console.log("Clearing user data from recipes store"),e({favoriteRecipes:[]})},initializeAuth:async()=>{const{user:n}=ke.getState();n&&await t().fetchFavorites(n.id)},fetchRecipes:async()=>{e({loading:!0,error:null});try{console.log("Fetching recipes from database...");const n=await q0();console.log("Recipes fetched successfully:",n.length),e({recipes:n,loading:!1});const{user:r}=ke.getState();r&&await t().fetchFavorites(r.id)}catch(n){console.error("Error fetching recipes:",n);const r=n instanceof Error?n.message:"Failed to fetch recipes";e({error:r,loading:!1}),z.getState().showToast("Erro ao carregar receitas","error")}},fetchFavorites:async n=>{try{console.log("Fetching favorites for user:",n);const r=await ey(n);console.log("Favorites fetched:",r),e({favoriteRecipes:r})}catch(r){console.error("Failed to fetch favorites:",r)}},addToFavorites:async n=>{const{user:r}=ke.getState();if(!r){z.getState().showToast("Faça login para favoritar receitas","error");return}try{console.log("Adding to favorites:",{userId:r.id,recipeId:n}),await X0(r.id,n),e(s=>({favoriteRecipes:[...s.favoriteRecipes,n]})),z.getState().showToast("Adicionado aos favoritos","success")}catch(s){console.error("Failed to add favorite:",s);const i=s instanceof Error?s.message:"Erro ao adicionar aos favoritos";z.getState().showToast(i,"error")}},removeFromFavorites:async n=>{const{user:r}=ke.getState();if(!r){z.getState().showToast("Faça login para gerenciar favoritos","error");return}try{console.log("Removing from favorites:",{userId:r.id,recipeId:n}),await Z0(r.id,n),e(s=>({favoriteRecipes:s.favoriteRecipes.filter(i=>i!==n)})),z.getState().showToast("Removido dos favoritos","info")}catch(s){console.error("Failed to remove favorite:",s);const i=s instanceof Error?s.message:"Erro ao remover dos favoritos";z.getState().showToast(i,"error")}},addReview:async(n,r)=>{try{console.log("Adding review:",{recipeId:n,review:r}),await Y0(n,{user_id:r.userId,rating:r.rating,comment:r.comment}),await t().fetchRecipes(),z.getState().showToast("Avaliação adicionada com sucesso!","success")}catch(s){console.error("Failed to add review:",s);const i=s instanceof Error?s.message:"Erro ao adicionar avaliação";throw z.getState().showToast(i,"error"),s}},updateReview:async(n,r)=>{try{console.log("Updating review:",{reviewId:n,updates:r}),await J0(n,r),await t().fetchRecipes(),z.getState().showToast("Avaliação atualizada com sucesso!","success")}catch(s){console.error("Failed to update review:",s);const i=s instanceof Error?s.message:"Erro ao atualizar avaliação";throw z.getState().showToast(i,"error"),s}},deleteReview:async n=>{try{console.log("Deleting review:",n),await Q0(n),await t().fetchRecipes(),z.getState().showToast("Avaliação excluída com sucesso!","success")}catch(r){console.error("Failed to delete review:",r);const s=r instanceof Error?r.message:"Erro ao excluir avaliação";throw z.getState().showToast(s,"error"),r}},createRecipe:async n=>{e({loading:!0,error:null});try{console.log("Creating recipe:",n),await G0(n),await t().fetchRecipes(),z.getState().showToast("Receita criada com sucesso!","success")}catch(r){console.error("Failed to create recipe:",r);const s=r instanceof Error?r.message:"Failed to create recipe";throw e({error:s}),z.getState().showToast("Erro ao criar receita","error"),r}finally{e({loading:!1})}},updateRecipe:async n=>{e({loading:!0,error:null});try{console.log("Updating recipe:",n),await K0(n.id,n),await t().fetchRecipes(),z.getState().showToast("Receita atualizada com sucesso!","success")}catch(r){console.error("Failed to update recipe:",r);const s=r instanceof Error?r.message:"Failed to update recipe";throw e({error:s}),z.getState().showToast("Erro ao atualizar receita","error"),r}finally{e({loading:!1})}},deleteRecipe:async n=>{e({loading:!0,error:null});try{console.log("Deleting recipe:",n),await W0(n),e(r=>({recipes:r.recipes.filter(s=>s.id!==n),favoriteRecipes:r.favoriteRecipes.filter(s=>s!==n)})),z.getState().showToast("Receita excluída com sucesso!","success")}catch(r){console.error("Failed to delete recipe:",r);const s=r instanceof Error?r.message:"Failed to delete recipe";throw e({error:s}),z.getState().showToast("Erro ao excluir receita","error"),r}finally{e({loading:!1})}}})),Yi=Object.freeze(Object.defineProperty({__proto__:null,useRecipesStore:Ct},Symbol.toStringTag,{value:"Module"}));function Gc({recipe:e,onClick:t}){const{favoriteRecipes:n,addToFavorites:r,removeFromFavorites:s}=Ct(),{isAuthenticated:i}=ke(),o=je(),l=o.recipe.difficultyLevels[e.difficulty]||e.difficulty,u=o.categories,h=(v=>{const w={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},m=v.toLowerCase().replace(/\s+/g,""),p=Object.keys(w).find(b=>b.toLowerCase().replace(/\s+/g,"")===m);return p?u[w[p]]:u[v]||v})(e.category),f=n.includes(e.id),g=async v=>{if(v.stopPropagation(),!!i)try{f?await s(e.id):await r(e.id)}catch(w){console.error("Error toggling favorite:",w)}},x=()=>e.rating===0||!e.rating?"Sem avaliações":e.rating.toFixed(1);return c.jsxs("div",{onClick:t,className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer flex flex-col h-full",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover",onError:v=>{const w=v.target;w.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop"}}),c.jsx("span",{className:"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:h}),i&&c.jsx("button",{onClick:g,className:Y("absolute top-4 left-4 p-2 rounded-full bg-white dark:bg-gray-800 shadow-md transition-colors",f?"text-red-500":"text-gray-400 hover:text-red-500"),children:c.jsx(Hu,{className:Y("w-5 h-5",f&&"fill-current")})})]}),c.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[c.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white line-clamp-2",children:e.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3 flex-grow",children:e.description}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mt-auto pt-4 border-t border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ha,{className:"w-4 h-4 flex-shrink-0"}),c.jsxs("span",{className:"whitespace-nowrap",children:[e.prepTime,"min"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(da,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:Y("capitalize whitespace-nowrap",e.difficulty==="easy"&&"text-green-500",e.difficulty==="medium"&&"text-yellow-500",e.difficulty==="hard"&&"text-red-500"),children:l})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(hi,{className:"w-4 h-4 fill-yellow-400 text-yellow-400 flex-shrink-0"}),c.jsx("span",{className:"whitespace-nowrap text-xs",children:x()})]})]})]})]})}function AT({categories:e,selectedCategory:t,onSelectCategory:n}){const s=je().categories;return c.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(i=>{const o=s[i]||i;return c.jsx("button",{onClick:()=>n(i),className:Y("px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium transition-all duration-200 whitespace-nowrap",t===i?"bg-green-500 text-white shadow-md transform scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:scale-105"),children:o},i)})})}function RT(){const[e,t]=S.useState(!1),[n,r]=S.useState("right"),s=S.useRef(null),i=S.useRef(null),{difficulty:o,prepTimeRange:a,minRating:l,setDifficulty:u,setPrepTimeRange:d,setMinRating:h,resetFilters:f}=ed(),g=je(),x=[{value:"quick",label:g.filters.prepTime.quick,max:15},{value:"medium",label:g.filters.prepTime.medium,max:30},{value:"long",label:g.filters.prepTime.long,max:null}],v=[{value:"easy",label:g.recipe.difficultyLevels.easy},{value:"medium",label:g.recipe.difficultyLevels.medium},{value:"hard",label:g.recipe.difficultyLevels.hard}],w=[{value:4,label:"4+ ⭐"},{value:4.5,label:"4.5+ ⭐"},{value:5,label:"5 ⭐"}],m=o||a||l;return S.useEffect(()=>{if(e&&s.current){const p=s.current.getBoundingClientRect(),y=window.innerWidth;p.right+320+16>y?r("left"):r("right")}},[e]),S.useEffect(()=>{function p(y){i.current&&!i.current.contains(y.target)&&s.current&&!s.current.contains(y.target)&&t(!1)}if(e)return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[e]),S.useEffect(()=>{function p(y){y.key==="Escape"&&t(!1)}if(e)return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e]),c.jsxs("div",{className:"relative",children:[c.jsxs(G.button,{ref:s,onClick:()=>t(!e),className:Y("flex items-center gap-2 px-3 sm:px-4 py-2 rounded-lg border transition-all duration-200 whitespace-nowrap text-sm font-medium",m?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-700 dark:text-green-400":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx(kb,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"hidden sm:inline",children:g.filters.advanced}),c.jsx("span",{className:"sm:hidden",children:"Filtros"}),m&&c.jsx(G.span,{initial:{scale:0},animate:{scale:1},className:"bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:[o,a,l].filter(Boolean).length})]}),c.jsx(xi,{children:e&&c.jsxs(G.div,{ref:i,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:Y("absolute top-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-6 z-50 max-h-[80vh] overflow-y-auto","right-0",n==="left"&&"sm:right-0 sm:left-auto",n==="right"&&"sm:left-0 sm:right-auto","w-72 sm:w-80"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:g.filters.advanced}),c.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:c.jsx(Zn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(da,{className:"w-4 h-4 flex-shrink-0"}),g.recipe.difficulty]}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:v.map(p=>c.jsx(G.button,{onClick:()=>u(o===p.value?null:p.value),className:Y("px-2 sm:px-3 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-center",o===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.02},whileTap:{scale:.98},children:p.label},p.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(ha,{className:"w-4 h-4 flex-shrink-0"}),g.recipe.prepTime]}),c.jsx("div",{className:"space-y-2",children:x.map(p=>c.jsx(G.button,{onClick:()=>d(a===p.value?null:p.value),className:Y("w-full px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-left",a===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(hi,{className:"w-4 h-4 flex-shrink-0"}),g.filters.minRating]}),c.jsx("div",{className:"space-y-2",children:w.map(p=>c.jsx(G.button,{onClick:()=>h(l===p.value?null:p.value),className:Y("w-full px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-left",l===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),m&&c.jsx(G.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>{f(),t(!1)},className:"w-full px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 text-sm font-medium",whileHover:{scale:1.01},whileTap:{scale:.99},children:g.filters.clearAll})]})]})})]})}function IT({recipe:e,isOpen:t,onClose:n}){const{updateRecipe:r}=Ct(),s=je(),[i,o]=S.useState(!1),[a,l]=S.useState(e);if(!t)return null;const u=async A=>{A.preventDefault(),o(!0);try{await r(a),n()}catch(P){console.error("Error updating recipe:",P)}finally{o(!1)}},d=(A,P,q)=>{l(se=>({...se,[A]:se[A].map((Ve,Ee)=>Ee===P?q:Ve)}))},h=A=>{l(P=>({...P,[A]:[...P[A],""]}))},f=(A,P)=>{l(q=>({...q,[A]:q[A].filter((se,Ve)=>Ve!==P)}))},g=(A,P)=>{const q=parseFloat(P)||0;l(se=>({...se,nutritionFacts:{...se.nutritionFacts,[A]:q}}))},x=s.recipe.edit||"Editar Receita",v=s.recipe.recipeTitle,w=s.recipe.recipeDescription,m=s.recipe.recipeImageURL,p=s.recipe.prepTime,y=s.recipe.difficulty,b=s.recipe.recipeCategory,k=s.recipe.ingredients,E=s.recipe.instructions,C=s.recipe.nutritionFacts,j=s.recipe.addIngredient,I=s.recipe.addStep,O=Object.keys(s.categories).map(A=>({value:A,label:s.categories[A]}));return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 text-black dark:text-gray-400 rounded-xl max-w-3xl w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[c.jsx("button",{onClick:n,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Zn,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:x}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:v}),c.jsx("input",{type:"text",value:a.title,onChange:A=>l(P=>({...P,title:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m}),c.jsx("input",{type:"url",value:a.image,onChange:A=>l(P=>({...P,image:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:w}),c.jsx("textarea",{value:a.description,onChange:A=>l(P=>({...P,description:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",rows:3,required:!0})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:p}),c.jsx("input",{type:"number",value:a.prepTime,onChange:A=>l(P=>({...P,prepTime:Number(A.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",min:"1",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:y}),c.jsxs("select",{value:a.difficulty,onChange:A=>l(P=>({...P,difficulty:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:[c.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),c.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),c.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:b}),c.jsx("select",{value:a.category,onChange:A=>l(P=>({...P,category:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:O.map(A=>c.jsx("option",{value:A.value,children:A.label},A.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:k}),a.ingredients.map((A,P)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:A,onChange:q=>d("ingredients",P,q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:s.recipe.example,required:!0}),c.jsx("button",{type:"button",onClick:()=>f("ingredients",P),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Do,{className:"w-5 h-5"})})]},P)),c.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Qs,{className:"w-4 h-4"})," ",j]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:E}),a.instructions.map((A,P)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:A,onChange:q=>d("instructions",P,q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:`${s.recipe.Step} ${P+1}`,required:!0}),c.jsx("button",{type:"button",onClick:()=>f("instructions",P),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Do,{className:"w-5 h-5"})})]},P)),c.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Qs,{className:"w-4 h-4"})," ",I]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2 dark:text-white",children:C}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(a.nutritionFacts).map(([A,P])=>{const q=A;return c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1 capitalize dark:text-white",children:s.profile.nutritionGoalsnames[q]}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:P,onChange:se=>g(A,se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.00",required:!0})]},A)})})]}),c.jsx("button",{type:"submit",disabled:i,className:Y("w-full py-3 rounded-lg text-white font-medium transition-colors",i?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:i?"Salvando...":"Salvar Alterações"})]})]})})}function OT({recipe:e,onClose:t}){const[n,r]=S.useState({rating:5,comment:""}),[s,i]=S.useState(null),[o,a]=S.useState(!1),{user:l,isAuthenticated:u}=ke(),{favoriteRecipes:d,addToFavorites:h,removeFromFavorites:f,addReview:g,updateReview:x,deleteReview:v,deleteRecipe:w}=Ct(),m=je(),y=m.recipe.difficultyLevels[e.difficulty]||e.difficulty,b=m.categories,E=(_=>{const N={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},M=_.toLowerCase().replace(/\s+/g,""),U=Object.keys(N).find(Wt=>Wt.toLowerCase().replace(/\s+/g,"")===M);return U?b[N[U]]:b[_]||_})(e.category),C=d.includes(e.id),j=(l==null?void 0:l.id)===e.authorId,I=async _=>{if(_.preventDefault(),!!l)try{await g(e.id,{userId:l.id,userName:l.name,rating:n.rating,comment:n.comment,date:new Date().toISOString().split("T")[0]}),r({rating:5,comment:""})}catch(N){console.error("Error adding review:",N)}},O=async _=>{if(_.preventDefault(),!!s)try{await x(s.id,{rating:s.rating,comment:s.comment}),i(null)}catch(N){console.error("Error updating review:",N)}},A=async _=>{if(window.confirm("Tem certeza que deseja excluir esta avaliação?"))try{await v(_)}catch(N){console.error("Error deleting review:",N)}},P=async()=>{window.confirm("Tem certeza que deseja excluir esta receita?")&&(await w(e.id),t())},q=_=>Number(_).toFixed(1),se=_=>new Date(_).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),Ve=()=>e.rating===0||!e.rating?"Sem avaliações":`${e.rating.toFixed(1)} (${e.reviews.length} ${e.reviews.length===1?"avaliação":"avaliações"})`,Ee=e.reviews.find(_=>_.userId===(l==null?void 0:l.id)),D=u&&!Ee;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto z-50",children:c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full p-6 relative text-gray-600 dark:text-white dark:bg-gray-800",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 text-2xl",children:"×"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-lg"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsxs("h4",{className:"font-medium mb-2 text-gray-900 dark:text-white flex items-center gap-2 text-sm",children:[c.jsx(Xs,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),"Informações do Autor"]}),c.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nome:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.authorName||"Usuário"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tipo:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.authorType==="Nutritionist"?"Nutricionista":"Cliente"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[c.jsx(wb,{className:"w-3 h-3"}),"Postado em:"]}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:se(e.createdAt)})]})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),c.jsx("span",{className:"inline-block bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium mb-4",children:E})]}),c.jsxs("div",{className:"flex gap-2",children:[u&&c.jsx("button",{onClick:()=>C?f(e.id):h(e.id),className:Y("p-2 rounded-full",C?"text-red-500":"text-gray-400"),children:c.jsx(Hu,{className:Y("w-5 h-5",C&&"fill-current")})}),j&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>a(!0),className:"p-2 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors",title:"Editar receita",children:c.jsx(Rb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:P,className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors",title:"Excluir receita",children:c.jsx(qh,{className:"w-5 h-5"})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4 dark:text-gray-300",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ha,{className:"w-4 h-4"}),c.jsxs("span",{children:[e.prepTime,"min"]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(da,{className:"w-4 h-4"}),c.jsx("span",{className:Y("capitalize",e.difficulty==="easy"&&"text-green-500",e.difficulty==="medium"&&"text-yellow-500",e.difficulty==="hard"&&"text-red-500"),children:y})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(hi,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),c.jsx("span",{children:Ve()})]})]}),c.jsx("p",{className:"text-gray-600 mb-4 dark:text-gray-300",children:e.description}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg mb-4",children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.nutritionFacts}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700 dark:text-gray-300",children:[c.jsxs("div",{children:[m.profile.nutritionGoalsnames.calories,": ",q(e.nutritionFacts.calories)," kcal"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.protein,": ",q(e.nutritionFacts.protein)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.carbs,": ",q(e.nutritionFacts.carbs)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.fat,": ",q(e.nutritionFacts.fat)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.fiber,": ",q(e.nutritionFacts.fiber)," g"]})]})]})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.ingredients}),c.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.ingredients.map((_,N)=>c.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:_},N))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.instructions}),c.jsx("ol",{className:"list-decimal list-inside space-y-2",children:e.instructions.map((_,N)=>c.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:_},N))})]})]}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:[m.recipe.reviews," (",e.reviews.length,")"]}),D&&c.jsxs("form",{onSubmit:I,className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-3 text-gray-900 dark:text-white",children:"Adicionar Avaliação"}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[m.recipe.rating,":"]}),[1,2,3,4,5].map(_=>c.jsx("button",{type:"button",onClick:()=>r(N=>({...N,rating:_})),className:Y("text-2xl transition-colors",_<=n.rating?"text-yellow-400":"text-gray-300"),children:"★"},_))]}),c.jsx("textarea",{value:n.comment,onChange:_=>r(N=>({...N,comment:_.target.value})),placeholder:m.recipe.writeReview,className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-black",rows:3,required:!0}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:m.recipe.submitReview})]}),s&&c.jsxs("form",{onSubmit:O,className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Editar Avaliação"}),c.jsx("button",{type:"button",onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:c.jsx(Zn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Avaliação:"}),[1,2,3,4,5].map(_=>c.jsx("button",{type:"button",onClick:()=>i(N=>N?{...N,rating:_}:null),className:Y("text-2xl transition-colors",_<=s.rating?"text-yellow-400":"text-gray-300"),children:"★"},_))]}),c.jsx("textarea",{value:s.comment,onChange:_=>i(N=>N?{...N,comment:_.target.value}:null),placeholder:"Escreva sua avaliação...",className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-black",rows:3,required:!0}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar Alterações"}),c.jsx("button",{type:"button",onClick:()=>i(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]}),!u&&c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:m.recipe.signInToReview}),c.jsx("div",{className:"space-y-4",children:e.reviews.length===0?c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m.recipe.noReviews||"Nenhuma avaliação ainda"}):e.reviews.map(_=>{const N=(l==null?void 0:l.id)===_.userId;return c.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_.userName}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center",children:[...Array(5)].map((M,U)=>c.jsx("span",{className:Y("text-lg",U<_.rating?"text-yellow-400":"text-gray-300"),children:"★"},U))}),N&&c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>i({id:_.id,rating:_.rating,comment:_.comment}),className:"p-1 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Editar avaliação",children:c.jsx(Nb,{className:"w-3 h-3"})}),c.jsx("button",{onClick:()=>A(_.id),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Excluir avaliação",children:c.jsx(qh,{className:"w-3 h-3"})})]})]})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:_.comment}),c.jsx("span",{className:"text-sm text-gray-400",children:_.date})]},_.id)})})]})]})})}),o&&c.jsx(IT,{recipe:e,isOpen:o,onClose:()=>a(!1)})]})}function MT({isOpen:e,onClose:t}){var v,w;const{user:n}=ke(),{createRecipe:r}=Ct(),s=je(),[i,o]=S.useState(!1),[a,l]=S.useState({title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}});if(!e||!n)return null;const u=async m=>{if(m.preventDefault(),!n){console.error("User not authenticated");return}o(!0);try{console.log("Submitting recipe:",a),console.log("User ID:",n.id);const p={...a,authorId:n.id,rating:0,reviews:[]};await r(p),l({title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}}),t()}catch(p){console.error("Error creating recipe:",p)}finally{o(!1)}},d=(m,p,y)=>{l(b=>{var k;return{...b,[m]:(k=b[m])==null?void 0:k.map((E,C)=>C===p?y:E)}})},h=m=>{l(p=>({...p,[m]:[...p[m]||[],""]}))},f=(m,p)=>{l(y=>{var b;return{...y,[m]:(b=y[m])==null?void 0:b.filter((k,E)=>E!==p)}})},g=(m,p)=>{const y=parseFloat(p)||0;l(b=>({...b,nutritionFacts:{...b.nutritionFacts,[m]:y}}))},x=Object.keys(s.categories).filter(m=>m!=="all").map(m=>({value:m,label:s.categories[m]}));return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 text-black dark:text-gray-400 rounded-xl max-w-3xl w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Zn,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:s.recipe.CreateNewRecipe}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeTitle}),c.jsx("input",{type:"text",value:a.title,onChange:m=>l(p=>({...p,title:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeImageURL}),c.jsx("input",{type:"url",value:a.image,onChange:m=>l(p=>({...p,image:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"https://example.com/image.jpg",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeDescription}),c.jsx("textarea",{value:a.description,onChange:m=>l(p=>({...p,description:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",rows:3,required:!0})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:[s.recipe.prepTime," (minutos)"]}),c.jsx("input",{type:"number",value:a.prepTime,onChange:m=>l(p=>({...p,prepTime:Number(m.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",min:"1",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.difficulty}),c.jsxs("select",{value:a.difficulty,onChange:m=>l(p=>({...p,difficulty:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:[c.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),c.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),c.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeCategory}),c.jsx("select",{value:a.category,onChange:m=>l(p=>({...p,category:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:x.map(m=>c.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.ingredients}),(v=a.ingredients)==null?void 0:v.map((m,p)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:m,onChange:y=>d("ingredients",p,y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:s.recipe.example,required:!0}),a.ingredients.length>1&&c.jsx("button",{type:"button",onClick:()=>f("ingredients",p),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Do,{className:"w-5 h-5"})})]},p)),c.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Qs,{className:"w-4 h-4"})," ",s.recipe.addIngredient]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.instructions}),(w=a.instructions)==null?void 0:w.map((m,p)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:m,onChange:y=>d("instructions",p,y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:`${s.recipe.Step} ${p+1}`,required:!0}),a.instructions.length>1&&c.jsx("button",{type:"button",onClick:()=>f("instructions",p),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx(Do,{className:"w-5 h-5"})})]},p)),c.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Qs,{className:"w-4 h-4"})," ",s.recipe.addStep]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.nutritionFacts}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(a.nutritionFacts||{}).map(([m,p])=>{const y=m;return c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1 capitalize dark:text-white",children:s.profile.nutritionGoalsnames[y]}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:p,onChange:b=>g(m,b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.00",required:!0})]},m)})})]}),c.jsx("button",{type:"submit",disabled:i,className:Y("w-full py-3 rounded-lg text-white font-medium transition-colors",i?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:i?"Criando...":s.recipe.CreateRecipe})]})]})})}function LT(){const{user:e}=ke(),{recipes:t}=Ct();if(t.filter(n=>n.authorId===(e==null?void 0:e.id)),!e)return null}const DT={calories:2e3,protein:50,carbs:250,fat:70,fiber:25},Iv=En()(pa(e=>({goals:DT,setGoals:t=>e(n=>({goals:{...n.goals,...Object.fromEntries(Object.entries(t).map(([r,s])=>[r,Number(s)]))}}))}),{name:"nutrition-goals"}));function FT(){const{goals:e,setGoals:t}=Iv(),[n,r]=S.useState(e),s=je(),i=s.profile.saveGoals,o=s.profile.dailyGoals,a=s.profile.nutritionGoalsnames,l=d=>{d.preventDefault(),t(n)},u=(d,h)=>{const f=parseFloat(h)||0;r(g=>({...g,[d]:f}))};return c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:o}),Object.entries(n).map(([d,h])=>c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1 capitalize",children:[a[d]," ",d==="calories"?"(kcal)":"(g)"]}),c.jsx("input",{type:"number",step:"0.1",min:"0",value:h,onChange:f=>u(d,f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.0",required:!0})]},d)),c.jsx("button",{type:"submit",className:"w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:i})]})}function Sl({active:e,onClick:t,children:n}){return c.jsx("button",{onClick:t,className:`px-4 py-2 font-medium rounded-lg transition-colors ${e?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"}`,children:n})}function $T(){const[e,t]=Qc.useState("recipes"),{user:n}=ke(),{recipes:r,favoriteRecipes:s}=Ct(),i=r.filter(h=>h.authorId===(n==null?void 0:n.id)),o=r.filter(h=>s.includes(h.id)),a=je(),l=a.buttons.My_recipes,u=a.buttons.Favorites,d=a.buttons.Nutrition_goal;return c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"flex gap-2 mb-6",children:[(n==null?void 0:n.type)==="Nutritionist"&&c.jsx(Sl,{active:e==="recipes",onClick:()=>t("recipes"),children:l}),c.jsx(Sl,{active:e==="favorites",onClick:()=>t("favorites"),children:u}),c.jsx(Sl,{active:e==="nutrition",onClick:()=>t("nutrition"),children:d})]}),c.jsxs("div",{className:"mt-6",children:[e==="recipes"&&(n==null?void 0:n.type)==="Nutritionist"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(h=>c.jsx(Gc,{recipe:h,onClick:()=>{}},h.id)),i.length===0&&c.jsx("p",{className:"text-gray-500 col-span-full text-center py-8",children:a.profile.noRecipesYet})]}),e==="favorites"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.map(h=>c.jsx(Gc,{recipe:h,onClick:()=>{}},h.id)),o.length===0&&c.jsx("p",{className:"text-gray-500 col-span-full text-center py-8",children:a.profile.noFavorites})]}),e==="nutrition"&&c.jsx("div",{className:"max-w-md mx-auto",children:c.jsx(FT,{})})]})]})}function VT(){var d;const{user:e}=ke(),{recipes:t,favoriteRecipes:n}=Ct(),{goals:r}=Iv(),s=je();if(!e||e.type!=="Client")return null;const i=e.profile||{},o=t.filter(h=>n.includes(h.id)),a=o.length,l=o.reduce((h,f)=>h+f.nutritionFacts.calories,0)/(a||1),u=o.reduce((h,f)=>h+f.prepTime,0)/(a||1);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:s.profile.personalInfo}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.name}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.email}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.accountType}),c.jsx("p",{className:"font-medium capitalize text-gray-900 dark:text-white",children:s.profile.client})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Hu,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.favorites})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:a})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(gb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.nutritionGoalsnames.calories})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:l.toFixed(0)})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(ha,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.recipe.prepTime})]}),c.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[u.toFixed(0),"min"]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Ob,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.healthGoals})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:((d=i.healthGoals)==null?void 0:d.length)||0})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:s.profile.dailyGoals}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(r).map(([h,f])=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:h})]},h))})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:s.profile.recentFavorites}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.slice(0,3).map(h=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("img",{src:h.image,alt:h.title,className:"w-16 h-16 object-cover rounded-lg"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:h.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.category}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{children:["★ ",h.rating.toFixed(1)]}),c.jsx("span",{children:"•"}),c.jsxs("span",{children:[h.prepTime,"min"]})]})]})]},h.id))})]})]})}function UT(){const{user:e}=ke(),{recipes:t}=Ct(),n=je();if(!e||e.type!=="Nutritionist")return null;const r=e.profile||{},s=t.filter(a=>a.authorId===e.id),i=s.reduce((a,l)=>a+l.reviews.length,0),o=s.reduce((a,l)=>a+l.rating,0)/s.length||0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:n.profile.personalInfo}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.profile.name}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.profile.email}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.profile.accountType}),c.jsx("p",{className:"font-medium capitalize text-gray-900 dark:text-white",children:n.profile.nutricionist})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(xb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.publishedRecipes})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:s.length})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Lb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.totalReviews})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:i})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Mb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.averageRating})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:o.toFixed(1)})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(vb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.experience})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:r.experience||"N/A"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:n.profile.myRecipes}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(-3).map(a=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("img",{src:a.image,alt:a.title,className:"w-16 h-16 object-cover rounded-lg"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.title}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{children:["★ ",a.rating.toFixed(1)]}),c.jsx("span",{children:"•"}),c.jsxs("span",{children:[a.reviews.length," ",n.recipe.reviews]})]})]})]},a.id))})]})]})}function zT({onBackToRecipes:e}){const{user:t}=ke(),r=je().buttons.BackToRecipes;return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 group",children:[c.jsx(a0,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),r]}),c.jsxs("div",{className:"space-y-8",children:[c.jsx(LT,{}),(t==null?void 0:t.type)==="Client"?c.jsx(VT,{}):c.jsx(UT,{}),c.jsx($T,{})]})]})}function BT(){const[e,t]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState(!1),[l,u]=S.useState(!1),[d,h]=S.useState(!0),[f,g]=S.useState("idle"),[x,v]=S.useState(""),[w,m]=S.useState(!1);S.useEffect(()=>{(async()=>{try{console.log("Checking recovery token..."),(await sy()).valid?(console.log("Valid recovery token found"),m(!0)):(g("error"),v("Link de recuperação inválido ou expirado. Solicite um novo link."),m(!1))}catch(I){console.error("Token validation error:",I),g("error"),v("Erro ao validar link de recuperação. Tente novamente."),m(!1)}finally{h(!1)}})()},[]);const p=j=>{const I=[];return j.length<6&&I.push("A senha deve ter pelo menos 6 caracteres"),/(?=.*[a-z])/.test(j)||I.push("A senha deve conter pelo menos uma letra minúscula"),/(?=.*[A-Z])/.test(j)||I.push("A senha deve conter pelo menos uma letra maiúscula"),/(?=.*\d)/.test(j)||I.push("A senha deve conter pelo menos um número"),I},y=async j=>{j.preventDefault(),u(!0),v("");const I=p(e);if(I.length>0){v(I[0]),u(!1);return}if(e!==n){v("As senhas não coincidem"),u(!1);return}try{console.log("Updating password..."),await ry(e),console.log("Password updated successfully"),g("success"),setTimeout(async()=>{await K.auth.signOut(),setTimeout(()=>{window.location.href="/"},3e3)},1e3)}catch(O){console.error("Password reset error:",O),v(O.message||"Erro inesperado. Tente novamente."),g("error")}finally{u(!1)}},k=(j=>{let I=0;return j.length>=6&&I++,j.match(/[a-z]/)&&I++,j.match(/[A-Z]/)&&I++,j.match(/[0-9]/)&&I++,j.match(/[^a-zA-Z0-9]/)&&I++,I})(e),E=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"],C=["Muito fraca","Fraca","Regular","Boa","Forte"];return d?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx(Js,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-green-600"}),c.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Verificando link de recuperação..."}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto validamos seu link de recuperação."})]})}):f==="success"?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:c.jsx(Bu,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Senha redefinida com sucesso!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua senha foi alterada com sucesso. Você será redirecionado para a página de login em alguns segundos."}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:c.jsx(G.div,{className:"bg-green-600 h-2 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:3}})}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Ir para login agora"})]})}):f==="error"||!w?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:c.jsx(zu,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Link inválido ou expirado"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:x||"Este link de recuperação é inválido ou expirou. Solicite um novo link de recuperação."}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Voltar ao login"})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(jb,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Nova senha"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite sua nova senha segura"})]})]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Ab,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Dicas para uma senha segura:"}),c.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[c.jsx("li",{children:"• Pelo menos 6 caracteres"}),c.jsx("li",{children:"• Combine letras maiúsculas e minúsculas"}),c.jsx("li",{children:"• Inclua números e símbolos"}),c.jsx("li",{children:"• Evite informações pessoais"})]})]})]})}),c.jsxs("form",{onSubmit:y,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:s?"text":"password",id:"password",value:e,onChange:j=>t(j.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite sua nova senha",required:!0,disabled:l}),c.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:s?c.jsx(Hh,{className:"w-5 h-5"}):c.jsx(Gh,{className:"w-5 h-5"})})]}),e&&c.jsx("div",{className:"mt-2",children:c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:Y("h-2 rounded-full transition-all duration-300",E[Math.max(0,k-1)]),style:{width:`${k/5*100}%`}})}),c.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:C[Math.max(0,k-1)]})]})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:o?"text":"password",id:"confirmPassword",value:n,onChange:j=>r(j.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirme sua nova senha",required:!0,disabled:l}),c.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:o?c.jsx(Hh,{className:"w-5 h-5"}):c.jsx(Gh,{className:"w-5 h-5"})})]}),n&&e!==n&&c.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"As senhas não coincidem"})]}),x&&c.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:x})}),c.jsxs("button",{type:"submit",disabled:l||e!==n||k<3,className:Y("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",l||e!==n||k<3?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[l&&c.jsx(Js,{className:"w-4 h-4 animate-spin"}),l?"Redefinindo...":"Redefinir senha"]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium",disabled:l,children:"Voltar ao login"})})]})})}var Np;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Np||(Np={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pp;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Pp||(Pp={}));var Ap;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Ap||(Ap={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=["user","model","function","system"];var Wo;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Wo||(Wo={}));var qo;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(qo||(qo={}));var Ip;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Ip||(Ip={}));var Op;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Op||(Op={}));var Rs;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Rs||(Rs={}));var Mp;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Mp||(Mp={}));var Lp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Lp||(Lp={}));var Dp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Dp||(Dp={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class ar extends Ae{constructor(t,n){super(t),this.response=n}}class Ov extends Ae{constructor(t,n,r,s){super(t),this.status=n,this.statusText=r,this.errorDetails=s}}class vn extends Ae{}class Mv extends Ae{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="https://generativelanguage.googleapis.com",GT="v1beta",KT="0.24.1",WT="genai-js";var Jn;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Jn||(Jn={}));class qT{constructor(t,n,r,s,i){this.model=t,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||GT;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||HT}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function YT(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${WT}/${KT}`),t.join(" ")}async function JT(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",YT(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new vn(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new vn(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new vn(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function QT(e,t,n,r,s,i){const o=new qT(e,t,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},tN(i)),{method:"POST",headers:await JT(o),body:s})}}async function wi(e,t,n,r,s,i={},o=fetch){const{url:a,fetchOptions:l}=await QT(e,t,n,r,s,i);return XT(a,l,o)}async function XT(e,t,n=fetch){let r;try{r=await n(e,t)}catch(s){ZT(s,e)}return r.ok||await eN(r,e),r}function ZT(e,t){let n=e;throw n.name==="AbortError"?(n=new Mv(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof Ov||e instanceof vn||(n=new Ae(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function eN(e,t){let n="",r;try{const s=await e.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new Ov(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function tN(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ho(e.candidates[0]))throw new ar(`${rn(e)}`,e);return nN(e)}else if(e.promptFeedback)throw new ar(`Text not available. ${rn(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ho(e.candidates[0]))throw new ar(`${rn(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Fp(e)[0]}else if(e.promptFeedback)throw new ar(`Function call not available. ${rn(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ho(e.candidates[0]))throw new ar(`${rn(e)}`,e);return Fp(e)}else if(e.promptFeedback)throw new ar(`Function call not available. ${rn(e)}`,e)},e}function nN(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Fp(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const rN=[Rs.RECITATION,Rs.SAFETY,Rs.LANGUAGE];function ho(e){return!!e.finishReason&&rN.includes(e.finishReason)}function rn(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];ho(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function ii(e){return this instanceof ii?(this.v=e,this):new ii(e)}function sN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(g){return new Promise(function(x,v){i.push([f,g,x,v])>1||a(f,g)})})}function a(f,g){try{l(r[f](g))}catch(x){h(i[0][3],x)}}function l(f){f.value instanceof ii?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,g){f(g),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function iN(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=lN(t),[r,s]=n.tee();return{stream:aN(r),response:oN(s)}}async function oN(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Od(cN(t));t.push(s)}}function aN(e){return sN(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield ii(n.read());if(s)break;yield yield ii(Od(r))}})}function lN(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new Ae("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match($p),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new Ae(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match($p)}return i()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new Mv("Request aborted when reading from the stream"):a=new Ae("Error reading from the stream"),a})}}})}function cN(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lv(e,t,n,r){const s=await wi(t,Jn.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return iN(s)}async function Dv(e,t,n,r){const i=await(await wi(t,Jn.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:Od(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function oi(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return uN(t)}function uN(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),s=!0):(t.parts.push(i),r=!0);if(r&&s)throw new Ae("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new Ae("No content is provided for sending chat message.");return r?t:n}function dN(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new vn("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(s)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const i=oi(e);r.contents=[i]}return{generateContentRequest:r}}function Vp(e){let t;return e.contents?t=e:t={contents:[oi(e)]},e.systemInstruction&&(t.systemInstruction=Fv(e.systemInstruction)),t}function hN(e){return typeof e=="string"||Array.isArray(e)?{content:oi(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],fN={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function pN(e){let t=!1;for(const n of e){const{role:r,parts:s}=n;if(!t&&r!=="user")throw new Ae(`First content should be with role 'user', got ${r}`);if(!Rp.includes(r))throw new Ae(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Rp)}`);if(!Array.isArray(s))throw new Ae("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Ae("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const l of Up)l in a&&(i[l]+=1);const o=fN[r];for(const a of Up)if(!o.includes(a)&&i[a]>0)throw new Ae(`Content with role '${r}' can't contain '${a}' part`);t=!0}}function zp(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="SILENT_ERROR";class mN{constructor(t,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(pN(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=oi(t),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>Dv(this._apiKey,this.model,d,h)).then(g=>{var x;if(zp(g.response)){this._history.push(u);const v=Object.assign({parts:[],role:"model"},(x=g.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(v)}else{const v=rn(g.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}f=g}).catch(g=>{throw this._sendPromise=Promise.resolve(),g}),await this._sendPromise,f}async sendMessageStream(t,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=oi(t),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n),f=Lv(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(g=>{throw new Error(Bp)}).then(g=>g.response).then(g=>{if(zp(g)){this._history.push(u);const x=Object.assign({},g.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=rn(g);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(g=>{g.message!==Bp&&console.error(g)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(e,t,n,r){return(await wi(t,Jn.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(e,t,n,r){return(await wi(t,Jn.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function vN(e,t,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await wi(t,Jn.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Fv(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const s=Vp(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Dv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(t,n={}){var r;const s=Vp(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Lv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(t){var n;return new mN(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=dN(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return gN(this.apiKey,this.model,r,s)}async embedContent(t,n={}){const r=hN(t),s=Object.assign(Object.assign({},this._requestOptions),n);return yN(this.apiKey,this.model,r,s)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return vN(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Ae("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Hp(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new vn("Cached content must contain a `name` field.");if(!t.model)throw new vn("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&t[o]&&(n==null?void 0:n[o])!==t[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(a===l)continue}throw new vn(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Hp(this.apiKey,i,r)}}const wN="gemini-2.5-flash",bN=10,$v="AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",kN=new xN($v);async function _N(e,t,n=[]){try{const r=SN(t),s=EN(n,t);return{content:(await kN.getGenerativeModel({model:wN,systemInstruction:{role:"system",parts:[{text:r}]},safetySettings:[{category:Wo.HARM_CATEGORY_HARASSMENT,threshold:qo.BLOCK_MEDIUM_AND_ABOVE},{category:Wo.HARM_CATEGORY_HATE_SPEECH,threshold:qo.BLOCK_MEDIUM_AND_ABOVE}]}).startChat({history:s}).sendMessage(e)).response.text().trim()}}catch(r){console.error("Erro ao chamar a API do Gemini:",r);let s="Desculpe, ocorreu um erro ao tentar processar sua solicitação. Tente novamente em alguns instantes.";return r instanceof Error&&(r.message.includes("API_KEY")?s="Erro de configuração da IA. Entre em contato com o suporte.":r.message.includes("quota")?s="Limite de uso da IA atingido. Tente novamente mais tarde.":(r.message.includes("network")||r.message.includes("fetch"))&&(s="Erro de conexão. Verifique sua internet e tente novamente.")),{content:s,error:r instanceof Error?r.message:"Unknown error"}}}function SN(e){return["Você é NutriBot, uma IA especializada em nutrição e alimentação saudável.",`Personalidade: ${jN("empathetic")}`,"","Regras importantes:","1. Sempre lembre o cliente de consultar seu nutricionista para planos alimentares personalizados.","2. Não faça diagnósticos médicos.","3. Seja útil e prestativo.","4. Mantenha o foco em alimentação saudável e bem-estar.","5. Responda em português brasileiro.","6. Use uma linguagem clara e acessível.","7. Seja breve, tente não falar demais na hora das mensagens."].filter(Boolean).join(`
`)}function jN(e){const t={empathetic:"Você é empática e motivacional. Sempre demonstre compreensão e ofereça encorajamento. Use um tom caloroso e acolhedor.",scientific:"Você é focada em dados científicos e evidências. Base suas respostas em fatos nutricionais e pesquisas. Use um tom técnico mas acessível.",friendly:"Você é amigável e casual. Use um tom descontraído e próximo, como se fosse uma amiga dando conselhos.",professional:"Você é profissional e formal. Mantenha um tom respeitoso e técnico, como um profissional de saúde."};return t[e]||t.empathetic}function EN(e,t){return e.slice(-bN).map(n=>({role:n.sender_type==="user"?"user":"model",parts:[{text:n.content}]}))}function CN(){return $v!=="your-api-key-here"}const TN=["oi","olá","ola","eai","e aí","bom dia","boa tarde","boa noite","hey","hi","hello"];function NN(e){const t=e.trim().toLowerCase();return TN.some(n=>t===n||t.startsWith(n+" ")||t.startsWith(n+"!"))}function PN(e){const t=e.trim();if(t.length<6)return!0;const n=["como vai","tudo bem","teste","alô","alo"],r=t.toLowerCase();return n.some(s=>r.includes(s))}function jl(e){return e.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase()}function Vv(e){return"Autor"}const AN=[{labelPt:"Vegana",dbKeysEn:["Vegan"],variants:["vegana","vegan"]},{labelPt:"Baixo Carboidrato",dbKeysEn:["Low Carb","Low-Carb","Keto"],variants:["baixo carboidrato","low carb","low-carb","keto"]},{labelPt:"Rica em Proteína",dbKeysEn:["High Protein","High-Protein","Protein"],variants:["rica em proteina","rica em proteína","high protein","high-protein","protein rich","protein"]},{labelPt:"Sem Glúten",dbKeysEn:["Gluten-Free","Gluten Free"],variants:["sem glúten","sem gluten","gluten-free","gluten free"]},{labelPt:"Vegetariana",dbKeysEn:["Vegetarian"],variants:["vegetariana","vegetarian"]}];function RN(e){const t=jl(e);for(const n of AN){if(t.includes(jl(n.labelPt)))return{labelPt:n.labelPt,dbKeysEn:n.dbKeysEn};if(n.variants.some(r=>t.includes(jl(r))))return{labelPt:n.labelPt,dbKeysEn:n.dbKeysEn}}return null}async function IN(e,t=40){const n=e.map(i=>`category.ilike.%${i}%`).join(","),{data:r,error:s}=await K.from("recipes").select("*").or(n).order("rating",{ascending:!1}).limit(t);if(s)throw s;return r||[]}function ON(e,t=6){const n=new Set,r=[];for(const s of e){const i=s.id??s.title;if(!(!i||n.has(i))&&(n.add(i),r.push(s),r.length>=t))break}return r.map(s=>({id:s.id,title:s.title,description:s.description,author:Vv(),rating:s.rating??0}))}async function MN(e){const t=RN(e);if(!t)return{found:!1,categoryPt:null,items:[],text:"Certo! Me diz rapidinho o estilo que você quer (ex.: vegana, low carb, rica em proteína, sem glúten ou vegetariana) que eu já trago sugestões. 🙂"};const r=await IN(t.dbKeysEn,40),s=r.slice(0,8).map(u=>({id:u.id,title:u.title,description:u.description,category:u.category,prepTime:u.prep_time,difficulty:u.difficulty,rating:u.rating,author:Vv()})),o=[r.length?`Boa! Separei algumas ideias em **${t.labelPt}**:`:`Dei uma olhada em **${t.labelPt}** e não achei opções por aqui. Quer tentar outro estilo?`,"Receitas (JSON):",JSON.stringify(s,null,2),"Formate a resposta em lista (título, tempo se houver, dificuldade, autor).","Se a lista vier vazia, apenas diga que não encontrou e convide a tentar outro estilo.","Responda de forma amigável, natural e em português. Não invente receitas fora da lista."].join(`

`),l=(await _N(o)).content;return{found:!!r.length,categoryPt:t.labelPt,items:r,text:l}}async function Gp(e){const{data:t,error:n}=await K.from("ai_configurations").select("*").eq("nutritionist_id",e).eq("is_active",!0).maybeSingle();if(n)throw n;return t||null}async function LN(e){const{data:t,error:n}=await K.from("ai_configurations").insert([e]).select("*").single();if(n)throw n;return t}async function DN(e,t){const{data:n,error:r}=await K.from("ai_configurations").update(t).eq("id",e).select("*").single();if(r)throw r;return n}async function FN(e){const{data:t,error:n}=await K.from("ai_conversations").select("*").or(`client_id.eq.${e},nutritionist_id.eq.${e}`).order("created_at",{ascending:!1});if(n)throw n;return t||[]}async function $N(e){const{client_id:t,nutritionist_id:n=null,ai_config_id:r=null,title:s=null,is_active:i=!0}=e,{data:o,error:a}=await K.from("ai_conversations").insert([{client_id:t,nutritionist_id:n,ai_config_id:r,title:s,is_active:i}]).select("*").single();if(a)throw a;return o}async function VN(e){const{data:t,error:n}=await K.from("ai_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(n)throw n;return t||[]}async function Kp(e){const{data:t,error:n}=await K.from("ai_messages").insert([e]).select("*").single();if(n)throw n;return t}async function UN(e){return VN(e)}async function zN(e,t,n=[]){if(NN(e))return{content:"Oi! 👋 Tudo bem? Me conta o que você quer ver hoje. Se preferir, posso buscar por um estilo específico (ex.: vegana, low carb, rica em proteína, sem glúten ou vegetariana).",recipes:[],suggestions:[]};if(PN(e))return{content:"Show! Diz pra mim, de que estilo você quer ideias agora? Pode ser algo como “vegana” ou “sem glúten”. 😉",recipes:[],suggestions:[]};const{found:r,categoryPt:s,items:i,text:o}=await MN(e);if(!s)return{content:"Entendi. Você pode me dizer rapidinho o estilo que prefere? (ex.: vegana, low carb, rica em proteína, sem glúten ou vegetariana)",recipes:[],suggestions:[]};if(!r||!i.length)return{content:`Olhei em **${s}** e, por aqui, não encontrei opções. Quer tentar outro estilo? Posso procurar em “low carb”, “vegetariana”, “sem glúten”… você escolhe 🙂`,recipes:[],suggestions:[]};const a=ON(i,6);return{content:o,recipes:a,suggestions:[]}}const BN=En((e,t)=>({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null,fetchAIConfiguration:async n=>{e({loading:!0,error:null});try{const r=await Gp(n);e({aiConfig:r,loading:!1})}catch(r){console.error("Error fetching AI configuration:",r);const s=r instanceof Error?r.message:"Erro ao carregar configuração da IA";e({error:s,loading:!1})}},createAIConfiguration:async n=>{e({loading:!0,error:null});try{const r=await LN(n);e({aiConfig:r,loading:!1}),z.getState().showToast("Configuração da IA criada com sucesso!","success")}catch(r){console.error("Error creating AI configuration:",r);const s=r instanceof Error?r.message:"Erro ao criar configuração da IA";throw e({error:s,loading:!1}),z.getState().showToast("Erro ao criar configuração da IA","error"),r}},updateAIConfiguration:async(n,r)=>{e({loading:!0,error:null});try{const s=await DN(n,r);e({aiConfig:s,loading:!1}),z.getState().showToast("Configuração da IA atualizada com sucesso!","success")}catch(s){console.error("Error updating AI configuration:",s);const i=s instanceof Error?s.message:"Erro ao atualizar configuração da IA";throw e({error:i,loading:!1}),z.getState().showToast("Erro ao atualizar configuração da IA","error"),s}},fetchConversations:async n=>{e({loading:!0,error:null});try{const r=await FN(n);e({conversations:r,loading:!1})}catch(r){console.error("Error fetching conversations:",r);const s=r instanceof Error?r.message:"Erro ao carregar conversas";e({error:s,loading:!1})}},createConversation:async(n,r)=>{e({loading:!0,error:null});try{let s=null;if(r){const o=await Gp(r);s=(o==null?void 0:o.id)||null}const i=await $N({client_id:n,nutritionist_id:r,ai_config_id:s,title:"Nova conversa com IA",is_active:!0});return e(o=>({conversations:[i,...o.conversations],currentConversation:i,loading:!1})),i}catch(s){console.error("Error creating conversation:",s);const i=s instanceof Error?s.message:"Erro ao criar conversa";throw e({error:i,loading:!1}),z.getState().showToast("Erro ao criar conversa","error"),s}},setCurrentConversation:n=>{e({currentConversation:n,messages:[]}),n&&t().fetchMessages(n.id)},fetchMessages:async n=>{e({loading:!0,error:null});try{const r=await UN(n);e({messages:r,loading:!1})}catch(r){console.error("Error fetching messages:",r);const s=r instanceof Error?r.message:"Erro ao carregar mensagens";e({error:s,loading:!1})}},sendMessage:async(n,r)=>{const{currentConversation:s}=t();if(s){e({sendingMessage:!0,error:null});try{const i=await Kp({conversation_id:n,sender_type:"user",content:r,metadata:{}});e(u=>({messages:[...u.messages,i]}));let o=t().aiConfig;if(!o&&s.ai_config_id){const{data:u}=await K.from("ai_configurations").select("*").eq("id",s.ai_config_id).single();o=u}const a=await zN(r,o||{id:"default",nutritionist_id:"default",ai_name:"NutriBot",personality:"empathetic",custom_instructions:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t().messages),l=await Kp({conversation_id:n,sender_type:"ai",content:a.content,metadata:{recipes:a.recipes,suggestions:a.suggestions}});e(u=>({messages:[...u.messages,l],sendingMessage:!1}))}catch(i){console.error("Error sending message:",i);const o=i instanceof Error?i.message:"Erro ao enviar mensagem";e({error:o,sendingMessage:!1}),z.getState().showToast("Erro ao enviar mensagem","error")}}},clearError:()=>e({error:null}),reset:()=>e({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null})}));function Kc({size:e="md",className:t}){const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return c.jsx(Js,{className:Y("animate-spin",n[e],t)})}function HN(){var p;const{user:e}=ke(),{conversations:t,currentConversation:n,messages:r,sendingMessage:s,createConversation:i,setCurrentConversation:o,sendMessage:a,fetchMessages:l}=BN(),[u,d]=S.useState(""),h=S.useRef(null),f=S.useRef(null),g=CN();S.useEffect(()=>{var y;(y=h.current)==null||y.scrollIntoView({behavior:"smooth"})},[r]),S.useEffect(()=>{!s&&f.current&&f.current.focus()},[s]);const x=async()=>{if(e)try{const y=await i(e.id);o(y)}catch(y){console.error("Error starting conversation:",y)}},v=async y=>{if(y.preventDefault(),!u.trim()||!n||s)return;const b=u.trim();d("");try{await a(n.id,b)}catch(k){console.error("Error sending message:",k),d(b)}},w=y=>y.split(`
`).map((b,k)=>{if(b.startsWith("# "))return c.jsx("h3",{className:"text-lg font-bold mt-4 mb-2",children:b.substring(2)},k);if(b.startsWith("## "))return c.jsx("h4",{className:"text-md font-semibold mt-3 mb-1",children:b.substring(3)},k);if(b.startsWith("- ")||b.startsWith("• "))return c.jsxs("div",{className:"flex items-start gap-2 my-1",children:[c.jsx("span",{className:"text-purple-500 mt-1",children:"•"}),c.jsx("span",{children:b.substring(2)})]},k);const E=b.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return b.trim()?c.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:E}},k):c.jsx("br",{},k)}),m=y=>c.jsx(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-purple-200 dark:border-purple-700 mt-3",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(da,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:y.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:y.description}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Xs,{className:"w-3 h-3"}),y.author]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(hi,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),y.rating>0?y.rating.toFixed(1):"Sem avaliações"]})]})]})]})});return n?c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:c.jsx(Vn,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white",children:((p=n.ai_config)==null?void 0:p.ai_name)||"NutriBot"}),c.jsx("p",{className:"text-purple-100 text-sm",children:"Assistente de Nutrição • Online"})]})]})}),c.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[c.jsx(xi,{children:r.map(y=>{var b;return c.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:Y("flex gap-3",y.sender_type==="user"?"justify-end":"justify-start"),children:[y.sender_type==="ai"&&c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex-shrink-0",children:c.jsx(Vn,{className:"w-4 h-4 text-white"})}),c.jsxs("div",{className:Y("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",y.sender_type==="user"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"),children:[c.jsx("div",{className:"text-sm",children:w(y.content)}),((b=y.metadata)==null?void 0:b.recipes)&&y.metadata.recipes.length>0&&c.jsx("div",{className:"mt-3 space-y-2",children:y.metadata.recipes.map((k,E)=>m(k))}),c.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(y.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),y.sender_type==="user"&&c.jsx("div",{className:"p-2 bg-green-600 rounded-full flex-shrink-0",children:c.jsx(Xs,{className:"w-4 h-4 text-white"})})]},y.id)})}),s&&c.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full",children:c.jsx(Vn,{className:"w-4 h-4 text-white"})}),c.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Kc,{size:"sm"}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digitando..."})]})})]}),c.jsx("div",{ref:h})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[c.jsxs("form",{onSubmit:v,className:"flex gap-3",children:[c.jsx("input",{ref:f,type:"text",value:u,onChange:y=>d(y.target.value),placeholder:"Digite sua pergunta sobre nutrição...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",disabled:s}),c.jsx(G.button,{type:"submit",disabled:!u.trim()||s,className:Y("px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",!u.trim()||s?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700"),whileHover:!s&&u.trim()?{scale:1.05}:{},whileTap:!s&&u.trim()?{scale:.95}:{},children:s?c.jsx(Js,{className:"w-4 h-4 animate-spin"}):c.jsx(Pb,{className:"w-4 h-4"})})]}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["A IA pode cometer erros. Sempre consulte seu nutricionista para orientações personalizadas.",!g]})]})]})}):c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:c.jsx(Vn,{className:"w-12 h-12 text-white"})}),c.jsx(G.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1",children:c.jsx(c0,{className:"w-6 h-6 text-yellow-500"})})]})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Bem-vindo à Mentoria IA!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:"Sua assistente de nutrição inteligente está pronta para ajudar com receitas, dicas alimentares, uso da plataforma e muito mais. Inicie uma conversa agora!"}),!g,c.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"🍽️ Receitas"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Me mostre receitas de bolo fit"'})]}),c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"💡 Dicas"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Como posso melhorar minha alimentação?"'})]}),c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-green-700 dark:text-green-300 mb-2",children:"❓ Ajuda"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Como salvo receitas nos favoritos?"'})]})]}),c.jsxs(G.button,{onClick:x,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 mx-auto",whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.jsx(l0,{className:"w-5 h-5"}),"Iniciar Conversa"]})]})})}function GN(){je();const e=[{icon:c.jsx(Vn,{className:"w-5 h-5"}),title:"Mentoria IA Ilimitada",description:"Chat 24/7 com IA especializada em nutrição"},{icon:c.jsx(l0,{className:"w-5 h-5"}),title:"Consultas Personalizadas",description:"IA configurada pelo seu nutricionista"},{icon:c.jsx(hi,{className:"w-5 h-5"}),title:"Recomendações Inteligentes",description:"Sugestões de receitas baseadas no seu perfil"},{icon:c.jsx(Db,{className:"w-5 h-5"}),title:"Suporte Prioritário",description:"Atendimento rápido e especializado"}];return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-2xl p-8 text-center border border-purple-200 dark:border-purple-700",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:c.jsx(rl,{className:"w-12 h-12 text-white"})}),c.jsx(G.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:c.jsx(c0,{className:"w-6 h-6 text-yellow-500"})})]})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Desbloqueie a Mentoria IA"}),c.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:["Para ter acesso ilimitado à nossa Mentoria IA e outras funcionalidades exclusivas, assine o nosso ",c.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"Plano Premium"}),"!"]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:e.map((t,n)=>c.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"flex items-start gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg text-white",children:t.icon}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description})]})]},n))}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 mb-8 border border-purple-200 dark:border-purple-700",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(rl,{className:"w-6 h-6 text-purple-600"}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Plano Premium"})]}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("span",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400",children:"R$ 29,90"}),c.jsx("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:"/mês"})]}),c.jsxs("ul",{className:"space-y-3 mb-6 text-left max-w-md mx-auto",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx($i,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Chat IA ilimitado"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx($i,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"IA personalizada pelo nutricionista"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx($i,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Recomendações inteligentes"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx($i,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Suporte prioritário"})]})]}),c.jsxs(G.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2",children:[c.jsx(rl,{className:"w-5 h-5"}),"Assinar Plano Premium"]})]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cancele a qualquer momento • Sem compromisso • Suporte 24/7"})]})})}function KN({onBack:e}){const{user:t,isNutritionist:n}=ke(),{hasFeatureAccess:r}=Zu(),s=t&&(n()||r("ai_mentoring"));return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 group",children:[c.jsx(a0,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),"Voltar"]}),s?c.jsx(HN,{}):c.jsx(GN,{})]})}function WN({message:e,type:t,onClose:n,duration:r=3e3}){Qc.useEffect(()=>{const i=setTimeout(n,r);return()=>clearTimeout(i)},[r,n]);const s={success:c.jsx(Bu,{className:"w-5 h-5 text-green-500"}),error:c.jsx(zu,{className:"w-5 h-5 text-red-500"}),info:c.jsx(Sb,{className:"w-5 h-5 text-blue-500"})};return c.jsx(xi,{children:c.jsxs(G.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:Y("fixed bottom-4 right-4 flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg",t==="success"&&"bg-green-50 border border-green-200",t==="error"&&"bg-red-50 border border-red-200",t==="info"&&"bg-blue-50 border border-blue-200"),children:[s[t],c.jsx("span",{className:"text-gray-700",children:e}),c.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-full",children:c.jsx(Zn,{className:"w-4 h-4 text-gray-500"})})]})})}function qN(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[s,i]=S.useState(!1),[o,a]=S.useState(!1),[l,u]=S.useState(!1),{category:d,searchQuery:h,difficulty:f,prepTimeRange:g,minRating:x,setCategory:v}=ed(),{recipes:w,loading:m,fetchRecipes:p}=Ct(),{isAuthenticated:y,isNutritionist:b,user:k,initializeAuth:E}=ke(),{message:C,type:j,hideToast:I}=z(),O=je(),A=["all","vegan","lowCarb","highProtein","glutenFree","vegetarian"],P=window.location.pathname==="/reset-password"||window.location.hash.includes("type=recovery");if(S.useEffect(()=>{(async()=>{if(!l){console.log("Initializing app...");try{await E(),await p(),u(!0),console.log("App initialized successfully")}catch(_){console.error("Error initializing app:",_),u(!0)}}})()},[E,p,l]),S.useEffect(()=>{l&&v("all")},[v,l]),P)return c.jsx(BT,{});const q=D=>D.toLowerCase().replace(/\s+/g,""),se=D=>{if(!g)return!0;switch(g){case"quick":return D.prepTime<=15;case"medium":return D.prepTime<=30;case"long":return D.prepTime>30;default:return!0}},Ve=w.filter(D=>{const _=q(D.category),N=q(d),M=N==="all"||_===N,U=D.title.toLowerCase().includes(h.toLowerCase())||D.description.toLowerCase().includes(h.toLowerCase()),de=!f||D.difficulty===f,Wt=!x||D.rating>=x,Tt=se(D);return M&&U&&de&&Wt&&Tt}),Ee=w.find(D=>D.id===e);return l?c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[c.jsx(PT,{onProfileClick:()=>i(!0),onAIMentoringClick:()=>a(!0)}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o?c.jsx(KN,{onBack:()=>a(!1)}):s?c.jsx(zT,{onBackToRecipes:()=>i(!1)}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-4",children:O.home.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl text-sm sm:text-base",children:O.home.subtitle})]}),y&&b()&&c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm sm:text-base",children:[c.jsx(Qs,{className:"w-4 h-4 sm:w-5 sm:h-5"}),O.home.createRecipe]})]}),c.jsxs("div",{className:"mb-8 space-y-4",children:[c.jsx("div",{className:"w-full",children:c.jsx(AT,{categories:A,selectedCategory:d,onSelectCategory:v})}),c.jsx("div",{className:"flex justify-center sm:justify-end",children:c.jsx(RT,{})})]}),m?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx(Kc,{size:"lg"})}):Ve.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:O.home.noRecipes}),w.length===0&&!m&&c.jsx("button",{onClick:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar novamente"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ve.map(D=>c.jsx(Gc,{recipe:D,onClick:()=>t(D.id)},D.id))})]})}),Ee&&c.jsx(OT,{recipe:Ee,onClose:()=>t(null)}),c.jsx(MT,{isOpen:n,onClose:()=>r(!1)}),C&&c.jsx(WN,{message:C,type:j,onClose:I})]}):c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Kc,{size:"lg"}),c.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Carregando aplicação..."})]})})}class YN extends S.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx(yb,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),c.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function JN({children:e}){const{theme:t}=Na();return S.useEffect(()=>{const n=()=>{const r=t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",r)};if(n(),t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)");return r.addEventListener("change",n),()=>r.removeEventListener("change",n)}},[t]),c.jsx(c.Fragment,{children:e})}o0(document.getElementById("root")).render(c.jsx(S.StrictMode,{children:c.jsx(YN,{children:c.jsx(JN,{children:c.jsx(qN,{})})})}));export{Wp as g};
