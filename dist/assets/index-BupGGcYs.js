(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Yp={exports:{}},Qo={},Jp={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var li=Symbol.for("react.element"),Bv=Symbol.for("react.portal"),Hv=Symbol.for("react.fragment"),Gv=Symbol.for("react.strict_mode"),Kv=Symbol.for("react.profiler"),Wv=Symbol.for("react.provider"),qv=Symbol.for("react.context"),Yv=Symbol.for("react.forward_ref"),Jv=Symbol.for("react.suspense"),Qv=Symbol.for("react.memo"),Xv=Symbol.for("react.lazy"),Ld=Symbol.iterator;function Zv(e){return e===null||typeof e!="object"?null:(e=Ld&&e[Ld]||e["@@iterator"],typeof e=="function"?e:null)}var Qp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xp=Object.assign,Zp={};function Wr(e,t,n){this.props=e,this.context=t,this.refs=Zp,this.updater=n||Qp}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function em(){}em.prototype=Wr.prototype;function qc(e,t,n){this.props=e,this.context=t,this.refs=Zp,this.updater=n||Qp}var Yc=qc.prototype=new em;Yc.constructor=qc;Xp(Yc,Wr.prototype);Yc.isPureReactComponent=!0;var Dd=Array.isArray,tm=Object.prototype.hasOwnProperty,Jc={current:null},nm={key:!0,ref:!0,__self:!0,__source:!0};function rm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)tm.call(t,r)&&!nm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:li,type:e,key:i,ref:o,props:s,_owner:Jc.current}}function ex(e,t){return{$$typeof:li,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qc(e){return typeof e=="object"&&e!==null&&e.$$typeof===li}function tx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fd=/\/+/g;function Ia(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tx(""+e.key):t.toString(36)}function Qi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case li:case Bv:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ia(o,0):r,Dd(s)?(n="",e!=null&&(n=e.replace(Fd,"$&/")+"/"),Qi(s,t,n,"",function(u){return u})):s!=null&&(Qc(s)&&(s=ex(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Fd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Dd(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ia(i,a);o+=Qi(i,t,n,l,s)}else if(l=Zv(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ia(i,a++),o+=Qi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _i(e,t,n){if(e==null)return e;var r=[],s=0;return Qi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function nx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Xi={transition:null},rx={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Xi,ReactCurrentOwner:Jc};function sm(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:_i,forEach:function(e,t,n){_i(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _i(e,function(){t++}),t},toArray:function(e){return _i(e,function(t){return t})||[]},only:function(e){if(!Qc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Wr;B.Fragment=Hv;B.Profiler=Kv;B.PureComponent=qc;B.StrictMode=Gv;B.Suspense=Jv;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rx;B.act=sm;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Jc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)tm.call(t,l)&&!nm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:li,type:e.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:qv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wv,_context:e},e.Consumer=e};B.createElement=rm;B.createFactory=function(e){var t=rm.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Yv,render:e}};B.isValidElement=Qc;B.lazy=function(e){return{$$typeof:Xv,_payload:{_status:-1,_result:e},_init:nx}};B.memo=function(e,t){return{$$typeof:Qv,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Xi.transition;Xi.transition={};try{e()}finally{Xi.transition=t}};B.unstable_act=sm;B.useCallback=function(e,t){return Fe.current.useCallback(e,t)};B.useContext=function(e){return Fe.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};B.useEffect=function(e,t){return Fe.current.useEffect(e,t)};B.useId=function(){return Fe.current.useId()};B.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Fe.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};B.useRef=function(e){return Fe.current.useRef(e)};B.useState=function(e){return Fe.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Fe.current.useTransition()};B.version="18.3.1";Jp.exports=B;var S=Jp.exports;const Xc=qp(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=S,ix=Symbol.for("react.element"),ox=Symbol.for("react.fragment"),ax=Object.prototype.hasOwnProperty,lx=sx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cx={key:!0,ref:!0,__self:!0,__source:!0};function im(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ax.call(t,r)&&!cx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ix,type:e,key:i,ref:o,props:s,_owner:lx.current}}Qo.Fragment=ox;Qo.jsx=im;Qo.jsxs=im;Yp.exports=Qo;var c=Yp.exports,om={exports:{}},et={},am={exports:{}},lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,N){var M=_.length;_.push(N);e:for(;0<M;){var U=M-1>>>1,de=_[U];if(0<s(de,N))_[U]=N,_[M]=de,M=U;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var N=_[0],M=_.pop();if(M!==N){_[0]=M;e:for(var U=0,de=_.length,Wt=de>>>1;U<Wt;){var Tt=2*(U+1)-1,Ra=_[Tt],Tn=Tt+1,ki=_[Tn];if(0>s(Ra,M))Tn<de&&0>s(ki,Ra)?(_[U]=ki,_[Tn]=M,U=Tn):(_[U]=Ra,_[Tt]=M,U=Tt);else if(Tn<de&&0>s(ki,M))_[U]=ki,_[Tn]=M,U=Tn;else break e}}return N}function s(_,N){var M=_.sortIndex-N.sortIndex;return M!==0?M:_.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(_){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=_)r(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(u)}}function b(_){if(v=!1,y(_),!x)if(n(l)!==null)x=!0,Ee(k);else{var N=n(u);N!==null&&D(b,N.startTime-_)}}function k(_,N){x=!1,v&&(v=!1,m(j),j=-1),g=!0;var M=f;try{for(y(N),h=n(l);h!==null&&(!(h.expirationTime>N)||_&&!A());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var de=U(h.expirationTime<=N);N=e.unstable_now(),typeof de=="function"?h.callback=de:h===n(l)&&r(l),y(N)}else r(l);h=n(l)}if(h!==null)var Wt=!0;else{var Tt=n(u);Tt!==null&&D(b,Tt.startTime-N),Wt=!1}return Wt}finally{h=null,f=M,g=!1}}var E=!1,C=null,j=-1,I=5,O=-1;function A(){return!(e.unstable_now()-O<I)}function P(){if(C!==null){var _=e.unstable_now();O=_;var N=!0;try{N=C(!0,_)}finally{N?q():(E=!1,C=null)}}else E=!1}var q;if(typeof p=="function")q=function(){p(P)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Ve=se.port2;se.port1.onmessage=P,q=function(){Ve.postMessage(null)}}else q=function(){w(P,0)};function Ee(_){C=_,E||(E=!0,q())}function D(_,N){j=w(function(){_(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,Ee(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var M=f;f=N;try{return _()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,N){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var M=f;f=_;try{return N()}finally{f=M}},e.unstable_scheduleCallback=function(_,N,M){var U=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?U+M:U):M=U,_){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=M+de,_={id:d++,callback:N,priorityLevel:_,startTime:M,expirationTime:de,sortIndex:-1},M>U?(_.sortIndex=M,t(u,_),n(l)===null&&_===n(u)&&(v?(m(j),j=-1):v=!0,D(b,M-U))):(_.sortIndex=de,t(l,_),x||g||(x=!0,Ee(k))),_},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(_){var N=f;return function(){var M=f;f=N;try{return _.apply(this,arguments)}finally{f=M}}}})(lm);am.exports=lm;var ux=am.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx=S,Xe=ux;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cm=new Set,Os={};function Qn(e,t){Mr(e,t),Mr(e+"Capture",t)}function Mr(e,t){for(Os[e]=t,e=0;e<t.length;e++)cm.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=Object.prototype.hasOwnProperty,hx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$d={},Vd={};function fx(e){return Cl.call(Vd,e)?!0:Cl.call($d,e)?!1:hx.test(e)?Vd[e]=!0:($d[e]=!0,!1)}function px(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mx(e,t,n,r){if(t===null||typeof t>"u"||px(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zc=/[\-:]([a-z])/g;function eu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zc,eu);Se[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zc,eu);Se[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zc,eu);Se[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function tu(e,t,n,r){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mx(t,n,s,r)&&(n=null),r||s===null?fx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kt=dx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Si=Symbol.for("react.element"),cr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),nu=Symbol.for("react.strict_mode"),Tl=Symbol.for("react.profiler"),um=Symbol.for("react.provider"),dm=Symbol.for("react.context"),ru=Symbol.for("react.forward_ref"),Nl=Symbol.for("react.suspense"),Pl=Symbol.for("react.suspense_list"),su=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),hm=Symbol.for("react.offscreen"),Ud=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=Ud&&e[Ud]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Oa;function hs(e){if(Oa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Oa=t&&t[1]||""}return`
`+Oa+e}var Ma=!1;function La(e,t){if(!e||Ma)return"";Ma=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ma=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hs(e):""}function gx(e){switch(e.tag){case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return e=La(e.type,!1),e;case 11:return e=La(e.type.render,!1),e;case 1:return e=La(e.type,!0),e;default:return""}}function Al(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ur:return"Fragment";case cr:return"Portal";case Tl:return"Profiler";case nu:return"StrictMode";case Nl:return"Suspense";case Pl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dm:return(e.displayName||"Context")+".Consumer";case um:return(e._context.displayName||"Context")+".Provider";case ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case su:return t=e.displayName||null,t!==null?t:Al(e.type)||"Memo";case en:t=e._payload,e=e._init;try{return Al(e(t))}catch{}}return null}function yx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Al(t);case 8:return t===nu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vx(e){var t=fm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=vx(e))}function pm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rl(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mm(e,t){t=t.checked,t!=null&&tu(e,"checked",t,!1)}function Il(e,t){mm(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ol(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ol(e,t,n){(t!=="number"||mo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fs=Array.isArray;function Er(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(fs(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function gm(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ym(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ym(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ei,vm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ei=Ei||document.createElement("div"),Ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xx=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(e){xx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xs[t]=xs[e]})});function xm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xs.hasOwnProperty(e)&&xs[e]?(""+t).trim():t+"px"}function wm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var wx=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dl(e,t){if(t){if(wx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Fl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vl=null,Cr=null,Tr=null;function Kd(e){if(e=di(e)){if(typeof Vl!="function")throw Error(T(280));var t=e.stateNode;t&&(t=na(t),Vl(e.stateNode,e.type,t))}}function bm(e){Cr?Tr?Tr.push(e):Tr=[e]:Cr=e}function km(){if(Cr){var e=Cr,t=Tr;if(Tr=Cr=null,Kd(e),t)for(e=0;e<t.length;e++)Kd(t[e])}}function _m(e,t){return e(t)}function Sm(){}var Da=!1;function jm(e,t,n){if(Da)return e(t,n);Da=!0;try{return _m(e,t,n)}finally{Da=!1,(Cr!==null||Tr!==null)&&(Sm(),km())}}function Ls(e,t){var n=e.stateNode;if(n===null)return null;var r=na(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Ul=!1;if(Ut)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Ul=!1}function bx(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ws=!1,go=null,yo=!1,zl=null,kx={onError:function(e){ws=!0,go=e}};function _x(e,t,n,r,s,i,o,a,l){ws=!1,go=null,bx.apply(kx,arguments)}function Sx(e,t,n,r,s,i,o,a,l){if(_x.apply(this,arguments),ws){if(ws){var u=go;ws=!1,go=null}else throw Error(T(198));yo||(yo=!0,zl=u)}}function Xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Em(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wd(e){if(Xn(e)!==e)throw Error(T(188))}function jx(e){var t=e.alternate;if(!t){if(t=Xn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Wd(s),e;if(i===r)return Wd(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Cm(e){return e=jx(e),e!==null?Tm(e):null}function Tm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tm(e);if(t!==null)return t;e=e.sibling}return null}var Nm=Xe.unstable_scheduleCallback,qd=Xe.unstable_cancelCallback,Ex=Xe.unstable_shouldYield,Cx=Xe.unstable_requestPaint,fe=Xe.unstable_now,Tx=Xe.unstable_getCurrentPriorityLevel,ou=Xe.unstable_ImmediatePriority,Pm=Xe.unstable_UserBlockingPriority,vo=Xe.unstable_NormalPriority,Nx=Xe.unstable_LowPriority,Am=Xe.unstable_IdlePriority,Xo=null,_t=null;function Px(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Xo,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Ix,Ax=Math.log,Rx=Math.LN2;function Ix(e){return e>>>=0,e===0?32:31-(Ax(e)/Rx|0)|0}var Ci=64,Ti=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ps(a):(i&=o,i!==0&&(r=ps(i)))}else o=n&~s,o!==0?r=ps(o):i!==0&&(r=ps(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),s=1<<n,r|=e[n],t&=~s;return r}function Ox(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Ox(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rm(){var e=Ci;return Ci<<=1,!(Ci&4194240)&&(Ci=64),e}function Fa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ci(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function Lx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function au(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function Im(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Om,lu,Mm,Lm,Dm,Hl=!1,Ni=[],un=null,dn=null,hn=null,Ds=new Map,Fs=new Map,sn=[],Dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yd(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function ns(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=di(t),t!==null&&lu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fx(e,t,n,r,s){switch(t){case"focusin":return un=ns(un,e,t,n,r,s),!0;case"dragenter":return dn=ns(dn,e,t,n,r,s),!0;case"mouseover":return hn=ns(hn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ds.set(i,ns(Ds.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fs.set(i,ns(Fs.get(i)||null,e,t,n,r,s)),!0}return!1}function Fm(e){var t=Dn(e.target);if(t!==null){var n=Xn(t);if(n!==null){if(t=n.tag,t===13){if(t=Em(n),t!==null){e.blockedOn=t,Dm(e.priority,function(){Mm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$l=r,n.target.dispatchEvent(r),$l=null}else return t=di(n),t!==null&&lu(t),e.blockedOn=n,!1;t.shift()}return!0}function Jd(e,t,n){Zi(e)&&n.delete(t)}function $x(){Hl=!1,un!==null&&Zi(un)&&(un=null),dn!==null&&Zi(dn)&&(dn=null),hn!==null&&Zi(hn)&&(hn=null),Ds.forEach(Jd),Fs.forEach(Jd)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,Hl||(Hl=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,$x)))}function $s(e){function t(s){return rs(s,e)}if(0<Ni.length){rs(Ni[0],e);for(var n=1;n<Ni.length;n++){var r=Ni[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&rs(un,e),dn!==null&&rs(dn,e),hn!==null&&rs(hn,e),Ds.forEach(t),Fs.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Fm(n),n.blockedOn===null&&sn.shift()}var Nr=Kt.ReactCurrentBatchConfig,wo=!0;function Vx(e,t,n,r){var s=J,i=Nr.transition;Nr.transition=null;try{J=1,cu(e,t,n,r)}finally{J=s,Nr.transition=i}}function Ux(e,t,n,r){var s=J,i=Nr.transition;Nr.transition=null;try{J=4,cu(e,t,n,r)}finally{J=s,Nr.transition=i}}function cu(e,t,n,r){if(wo){var s=Gl(e,t,n,r);if(s===null)qa(e,t,r,bo,n),Yd(e,r);else if(Fx(s,e,t,n,r))r.stopPropagation();else if(Yd(e,r),t&4&&-1<Dx.indexOf(e)){for(;s!==null;){var i=di(s);if(i!==null&&Om(i),i=Gl(e,t,n,r),i===null&&qa(e,t,r,bo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else qa(e,t,r,null,n)}}var bo=null;function Gl(e,t,n,r){if(bo=null,e=iu(r),e=Dn(e),e!==null)if(t=Xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Em(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bo=e,null}function $m(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tx()){case ou:return 1;case Pm:return 4;case vo:case Nx:return 16;case Am:return 536870912;default:return 16}default:return 16}}var ln=null,uu=null,eo=null;function Vm(){if(eo)return eo;var e,t=uu,n=t.length,r,s="value"in ln?ln.value:ln.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return eo=s.slice(e,1<r?1-r:void 0)}function to(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Qd(){return!1}function tt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pi:Qd,this.isPropagationStopped=Qd,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=tt(qr),ui=le({},qr,{view:0,detail:0}),zx=tt(ui),$a,Va,ss,Zo=le({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?($a=e.screenX-ss.screenX,Va=e.screenY-ss.screenY):Va=$a=0,ss=e),$a)},movementY:function(e){return"movementY"in e?e.movementY:Va}}),Xd=tt(Zo),Bx=le({},Zo,{dataTransfer:0}),Hx=tt(Bx),Gx=le({},ui,{relatedTarget:0}),Ua=tt(Gx),Kx=le({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wx=tt(Kx),qx=le({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yx=tt(qx),Jx=le({},qr,{data:0}),Zd=tt(Jx),Qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ew(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zx[e])?!!t[e]:!1}function hu(){return ew}var tw=le({},ui,{key:function(e){if(e.key){var t=Qx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=to(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(e){return e.type==="keypress"?to(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?to(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nw=tt(tw),rw=le({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=tt(rw),sw=le({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),iw=tt(sw),ow=le({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),aw=tt(ow),lw=le({},Zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cw=tt(lw),uw=[9,13,27,32],fu=Ut&&"CompositionEvent"in window,bs=null;Ut&&"documentMode"in document&&(bs=document.documentMode);var dw=Ut&&"TextEvent"in window&&!bs,Um=Ut&&(!fu||bs&&8<bs&&11>=bs),th=" ",nh=!1;function zm(e,t){switch(e){case"keyup":return uw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function hw(e,t){switch(e){case"compositionend":return Bm(t);case"keypress":return t.which!==32?null:(nh=!0,th);case"textInput":return e=t.data,e===th&&nh?null:e;default:return null}}function fw(e,t){if(dr)return e==="compositionend"||!fu&&zm(e,t)?(e=Vm(),eo=uu=ln=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Um&&t.locale!=="ko"?null:t.data;default:return null}}var pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pw[e.type]:t==="textarea"}function Hm(e,t,n,r){bm(r),t=ko(t,"onChange"),0<t.length&&(n=new du("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ks=null,Vs=null;function mw(e){tg(e,0)}function ea(e){var t=pr(e);if(pm(t))return e}function gw(e,t){if(e==="change")return t}var Gm=!1;if(Ut){var za;if(Ut){var Ba="oninput"in document;if(!Ba){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),Ba=typeof sh.oninput=="function"}za=Ba}else za=!1;Gm=za&&(!document.documentMode||9<document.documentMode)}function ih(){ks&&(ks.detachEvent("onpropertychange",Km),Vs=ks=null)}function Km(e){if(e.propertyName==="value"&&ea(Vs)){var t=[];Hm(t,Vs,e,iu(e)),jm(mw,t)}}function yw(e,t,n){e==="focusin"?(ih(),ks=t,Vs=n,ks.attachEvent("onpropertychange",Km)):e==="focusout"&&ih()}function vw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ea(Vs)}function xw(e,t){if(e==="click")return ea(t)}function ww(e,t){if(e==="input"||e==="change")return ea(t)}function bw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:bw;function Us(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Cl.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function oh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ah(e,t){var n=oh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oh(n)}}function Wm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qm(){for(var e=window,t=mo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mo(e.document)}return t}function pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kw(e){var t=qm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wm(n.ownerDocument.documentElement,n)){if(r!==null&&pu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ah(n,i);var o=ah(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _w=Ut&&"documentMode"in document&&11>=document.documentMode,hr=null,Kl=null,_s=null,Wl=!1;function lh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wl||hr==null||hr!==mo(r)||(r=hr,"selectionStart"in r&&pu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_s&&Us(_s,r)||(_s=r,r=ko(Kl,"onSelect"),0<r.length&&(t=new du("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function Ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},Ha={},Ym={};Ut&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function ta(e){if(Ha[e])return Ha[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ym)return Ha[e]=t[n];return e}var Jm=ta("animationend"),Qm=ta("animationiteration"),Xm=ta("animationstart"),Zm=ta("transitionend"),eg=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){eg.set(e,t),Qn(t,[e])}for(var Ga=0;Ga<ch.length;Ga++){var Ka=ch[Ga],Sw=Ka.toLowerCase(),jw=Ka[0].toUpperCase()+Ka.slice(1);_n(Sw,"on"+jw)}_n(Jm,"onAnimationEnd");_n(Qm,"onAnimationIteration");_n(Xm,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(Zm,"onTransitionEnd");Mr("onMouseEnter",["mouseout","mouseover"]);Mr("onMouseLeave",["mouseout","mouseover"]);Mr("onPointerEnter",["pointerout","pointerover"]);Mr("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ew=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function uh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Sx(r,t,void 0,e),e.currentTarget=null}function tg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;uh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;uh(s,a,u),i=l}}}if(yo)throw e=zl,yo=!1,zl=null,e}function te(e,t){var n=t[Xl];n===void 0&&(n=t[Xl]=new Set);var r=e+"__bubble";n.has(r)||(ng(t,e,2,!1),n.add(r))}function Wa(e,t,n){var r=0;t&&(r|=4),ng(n,e,r,t)}var Ri="_reactListening"+Math.random().toString(36).slice(2);function zs(e){if(!e[Ri]){e[Ri]=!0,cm.forEach(function(n){n!=="selectionchange"&&(Ew.has(n)||Wa(n,!1,e),Wa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ri]||(t[Ri]=!0,Wa("selectionchange",!1,t))}}function ng(e,t,n,r){switch($m(t)){case 1:var s=Vx;break;case 4:s=Ux;break;default:s=cu}n=s.bind(null,t,n,e),s=void 0,!Ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qa(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Dn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}jm(function(){var u=i,d=iu(n),h=[];e:{var f=eg.get(e);if(f!==void 0){var g=du,x=e;switch(e){case"keypress":if(to(n)===0)break e;case"keydown":case"keyup":g=nw;break;case"focusin":x="focus",g=Ua;break;case"focusout":x="blur",g=Ua;break;case"beforeblur":case"afterblur":g=Ua;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=iw;break;case Jm:case Qm:case Xm:g=Wx;break;case Zm:g=aw;break;case"scroll":g=zx;break;case"wheel":g=cw;break;case"copy":case"cut":case"paste":g=Yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=eh}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=Ls(p,m),b!=null&&v.push(Bs(p,b,y)))),w)break;p=p.return}0<v.length&&(f=new g(f,x,null,n,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==$l&&(x=n.relatedTarget||n.fromElement)&&(Dn(x)||x[zt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?Dn(x):null,x!==null&&(w=Xn(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=Xd,b="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=eh,b="onPointerLeave",m="onPointerEnter",p="pointer"),w=g==null?f:pr(g),y=x==null?f:pr(x),f=new v(b,p+"leave",g,n,d),f.target=w,f.relatedTarget=y,b=null,Dn(d)===u&&(v=new v(m,p+"enter",x,n,d),v.target=y,v.relatedTarget=w,b=v),w=b,g&&x)t:{for(v=g,m=x,p=0,y=v;y;y=rr(y))p++;for(y=0,b=m;b;b=rr(b))y++;for(;0<p-y;)v=rr(v),p--;for(;0<y-p;)m=rr(m),y--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=rr(v),m=rr(m)}v=null}else v=null;g!==null&&dh(h,f,g,v,!1),x!==null&&w!==null&&dh(h,w,x,v,!0)}}e:{if(f=u?pr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=gw;else if(rh(f))if(Gm)k=ww;else{k=vw;var E=yw}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=xw);if(k&&(k=k(e,u))){Hm(h,k,n,d);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Ol(f,"number",f.value)}switch(E=u?pr(u):window,e){case"focusin":(rh(E)||E.contentEditable==="true")&&(hr=E,Kl=u,_s=null);break;case"focusout":_s=Kl=hr=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,lh(h,n,d);break;case"selectionchange":if(_w)break;case"keydown":case"keyup":lh(h,n,d)}var C;if(fu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else dr?zm(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Um&&n.locale!=="ko"&&(dr||j!=="onCompositionStart"?j==="onCompositionEnd"&&dr&&(C=Vm()):(ln=d,uu="value"in ln?ln.value:ln.textContent,dr=!0)),E=ko(u,j),0<E.length&&(j=new Zd(j,e,null,n,d),h.push({event:j,listeners:E}),C?j.data=C:(C=Bm(n),C!==null&&(j.data=C)))),(C=dw?hw(e,n):fw(e,n))&&(u=ko(u,"onBeforeInput"),0<u.length&&(d=new Zd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}tg(h,t)})}function Bs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ko(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ls(e,n),i!=null&&r.unshift(Bs(e,i,s)),i=Ls(e,t),i!=null&&r.push(Bs(e,i,s))),e=e.return}return r}function rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ls(n,i),l!=null&&o.unshift(Bs(n,l,a))):s||(l=Ls(n,i),l!=null&&o.push(Bs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Cw=/\r\n?/g,Tw=/\u0000|\uFFFD/g;function hh(e){return(typeof e=="string"?e:""+e).replace(Cw,`
`).replace(Tw,"")}function Ii(e,t,n){if(t=hh(t),hh(e)!==t&&n)throw Error(T(425))}function _o(){}var ql=null,Yl=null;function Jl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ql=typeof setTimeout=="function"?setTimeout:void 0,Nw=typeof clearTimeout=="function"?clearTimeout:void 0,fh=typeof Promise=="function"?Promise:void 0,Pw=typeof queueMicrotask=="function"?queueMicrotask:typeof fh<"u"?function(e){return fh.resolve(null).then(e).catch(Aw)}:Ql;function Aw(e){setTimeout(function(){throw e})}function Ya(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),$s(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$s(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),kt="__reactFiber$"+Yr,Hs="__reactProps$"+Yr,zt="__reactContainer$"+Yr,Xl="__reactEvents$"+Yr,Rw="__reactListeners$"+Yr,Iw="__reactHandles$"+Yr;function Dn(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ph(e);e!==null;){if(n=e[kt])return n;e=ph(e)}return t}e=n,n=e.parentNode}return null}function di(e){return e=e[kt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function na(e){return e[Hs]||null}var Zl=[],mr=-1;function Sn(e){return{current:e}}function ne(e){0>mr||(e.current=Zl[mr],Zl[mr]=null,mr--)}function Z(e,t){mr++,Zl[mr]=e.current,e.current=t}var wn={},Oe=Sn(wn),Ge=Sn(!1),Gn=wn;function Lr(e,t){var n=e.type.contextTypes;if(!n)return wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ke(e){return e=e.childContextTypes,e!=null}function So(){ne(Ge),ne(Oe)}function mh(e,t,n){if(Oe.current!==wn)throw Error(T(168));Z(Oe,t),Z(Ge,n)}function rg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,yx(e)||"Unknown",s));return le({},n,r)}function jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Gn=Oe.current,Z(Oe,e),Z(Ge,Ge.current),!0}function gh(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=rg(e,t,Gn),r.__reactInternalMemoizedMergedChildContext=e,ne(Ge),ne(Oe),Z(Oe,e)):ne(Ge),Z(Ge,n)}var Rt=null,ra=!1,Ja=!1;function sg(e){Rt===null?Rt=[e]:Rt.push(e)}function Ow(e){ra=!0,sg(e)}function jn(){if(!Ja&&Rt!==null){Ja=!0;var e=0,t=J;try{var n=Rt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,ra=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),Nm(ou,jn),s}finally{J=t,Ja=!1}}return null}var gr=[],yr=0,Eo=null,Co=0,st=[],it=0,Kn=null,It=1,Ot="";function An(e,t){gr[yr++]=Co,gr[yr++]=Eo,Eo=e,Co=t}function ig(e,t,n){st[it++]=It,st[it++]=Ot,st[it++]=Kn,Kn=e;var r=It;e=Ot;var s=32-gt(r)-1;r&=~(1<<s),n+=1;var i=32-gt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,It=1<<32-gt(t)+s|n<<s|r,Ot=i+e}else It=1<<i|n<<s|r,Ot=e}function mu(e){e.return!==null&&(An(e,1),ig(e,1,0))}function gu(e){for(;e===Eo;)Eo=gr[--yr],gr[yr]=null,Co=gr[--yr],gr[yr]=null;for(;e===Kn;)Kn=st[--it],st[it]=null,Ot=st[--it],st[it]=null,It=st[--it],st[it]=null}var Qe=null,Je=null,re=!1,mt=null;function og(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,Je=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kn!==null?{id:It,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qe=e,Je=null,!0):!1;default:return!1}}function ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tc(e){if(re){var t=Je;if(t){var n=t;if(!yh(e,t)){if(ec(e))throw Error(T(418));t=fn(n.nextSibling);var r=Qe;t&&yh(e,t)?og(r,n):(e.flags=e.flags&-4097|2,re=!1,Qe=e)}}else{if(ec(e))throw Error(T(418));e.flags=e.flags&-4097|2,re=!1,Qe=e}}}function vh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function Oi(e){if(e!==Qe)return!1;if(!re)return vh(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jl(e.type,e.memoizedProps)),t&&(t=Je)){if(ec(e))throw ag(),Error(T(418));for(;t;)og(e,t),t=fn(t.nextSibling)}if(vh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Qe?fn(e.stateNode.nextSibling):null;return!0}function ag(){for(var e=Je;e;)e=fn(e.nextSibling)}function Dr(){Je=Qe=null,re=!1}function yu(e){mt===null?mt=[e]:mt.push(e)}var Mw=Kt.ReactCurrentBatchConfig;function is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Mi(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xh(e){var t=e._init;return t(e._payload)}function lg(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=yn(m,p),m.index=0,m.sibling=null,m}function i(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,b){return p===null||p.tag!==6?(p=rl(y,m.mode,b),p.return=m,p):(p=s(p,y),p.return=m,p)}function l(m,p,y,b){var k=y.type;return k===ur?d(m,p,y.props.children,b,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===en&&xh(k)===p.type)?(b=s(p,y.props),b.ref=is(m,p,y),b.return=m,b):(b=lo(y.type,y.key,y.props,null,m.mode,b),b.ref=is(m,p,y),b.return=m,b)}function u(m,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=sl(y,m.mode,b),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function d(m,p,y,b,k){return p===null||p.tag!==7?(p=Bn(y,m.mode,b,k),p.return=m,p):(p=s(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=rl(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Si:return y=lo(p.type,p.key,p.props,null,m.mode,y),y.ref=is(m,null,p),y.return=m,y;case cr:return p=sl(p,m.mode,y),p.return=m,p;case en:var b=p._init;return h(m,b(p._payload),y)}if(fs(p)||es(p))return p=Bn(p,m.mode,y,null),p.return=m,p;Mi(m,p)}return null}function f(m,p,y,b){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(m,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Si:return y.key===k?l(m,p,y,b):null;case cr:return y.key===k?u(m,p,y,b):null;case en:return k=y._init,f(m,p,k(y._payload),b)}if(fs(y)||es(y))return k!==null?null:d(m,p,y,b,null);Mi(m,y)}return null}function g(m,p,y,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,a(p,m,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Si:return m=m.get(b.key===null?y:b.key)||null,l(p,m,b,k);case cr:return m=m.get(b.key===null?y:b.key)||null,u(p,m,b,k);case en:var E=b._init;return g(m,p,y,E(b._payload),k)}if(fs(b)||es(b))return m=m.get(y)||null,d(p,m,b,k,null);Mi(p,b)}return null}function x(m,p,y,b){for(var k=null,E=null,C=p,j=p=0,I=null;C!==null&&j<y.length;j++){C.index>j?(I=C,C=null):I=C.sibling;var O=f(m,C,y[j],b);if(O===null){C===null&&(C=I);break}e&&C&&O.alternate===null&&t(m,C),p=i(O,p,j),E===null?k=O:E.sibling=O,E=O,C=I}if(j===y.length)return n(m,C),re&&An(m,j),k;if(C===null){for(;j<y.length;j++)C=h(m,y[j],b),C!==null&&(p=i(C,p,j),E===null?k=C:E.sibling=C,E=C);return re&&An(m,j),k}for(C=r(m,C);j<y.length;j++)I=g(C,m,j,y[j],b),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?j:I.key),p=i(I,p,j),E===null?k=I:E.sibling=I,E=I);return e&&C.forEach(function(A){return t(m,A)}),re&&An(m,j),k}function v(m,p,y,b){var k=es(y);if(typeof k!="function")throw Error(T(150));if(y=k.call(y),y==null)throw Error(T(151));for(var E=k=null,C=p,j=p=0,I=null,O=y.next();C!==null&&!O.done;j++,O=y.next()){C.index>j?(I=C,C=null):I=C.sibling;var A=f(m,C,O.value,b);if(A===null){C===null&&(C=I);break}e&&C&&A.alternate===null&&t(m,C),p=i(A,p,j),E===null?k=A:E.sibling=A,E=A,C=I}if(O.done)return n(m,C),re&&An(m,j),k;if(C===null){for(;!O.done;j++,O=y.next())O=h(m,O.value,b),O!==null&&(p=i(O,p,j),E===null?k=O:E.sibling=O,E=O);return re&&An(m,j),k}for(C=r(m,C);!O.done;j++,O=y.next())O=g(C,m,j,O.value,b),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?j:O.key),p=i(O,p,j),E===null?k=O:E.sibling=O,E=O);return e&&C.forEach(function(P){return t(m,P)}),re&&An(m,j),k}function w(m,p,y,b){if(typeof y=="object"&&y!==null&&y.type===ur&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Si:e:{for(var k=y.key,E=p;E!==null;){if(E.key===k){if(k=y.type,k===ur){if(E.tag===7){n(m,E.sibling),p=s(E,y.props.children),p.return=m,m=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===en&&xh(k)===E.type){n(m,E.sibling),p=s(E,y.props),p.ref=is(m,E,y),p.return=m,m=p;break e}n(m,E);break}else t(m,E);E=E.sibling}y.type===ur?(p=Bn(y.props.children,m.mode,b,y.key),p.return=m,m=p):(b=lo(y.type,y.key,y.props,null,m.mode,b),b.ref=is(m,p,y),b.return=m,m=b)}return o(m);case cr:e:{for(E=y.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=sl(y,m.mode,b),p.return=m,m=p}return o(m);case en:return E=y._init,w(m,p,E(y._payload),b)}if(fs(y))return x(m,p,y,b);if(es(y))return v(m,p,y,b);Mi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,y),p.return=m,m=p):(n(m,p),p=rl(y,m.mode,b),p.return=m,m=p),o(m)):n(m,p)}return w}var Fr=lg(!0),cg=lg(!1),To=Sn(null),No=null,vr=null,vu=null;function xu(){vu=vr=No=null}function wu(e){var t=To.current;ne(To),e._currentValue=t}function nc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){No=e,vu=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(vu!==e)if(e={context:e,memoizedValue:t,next:null},vr===null){if(No===null)throw Error(T(308));vr=e,No.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return t}var Fn=null;function bu(e){Fn===null?Fn=[e]:Fn.push(e)}function ug(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,bu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Bt(e,r)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tn=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Bt(e,n)}return s=r.interleaved,s===null?(t.next=t,bu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Bt(e,n)}function no(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,au(e,n)}}function wh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Po(e,t,n,r){var s=e.updateQueue;tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(f=t,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(g,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(g,h,f):x,f==null)break e;h=le({},h,f);break e;case 2:tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);qn|=o,e.lanes=o,e.memoizedState=h}}function bh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var hi={},St=Sn(hi),Gs=Sn(hi),Ks=Sn(hi);function $n(e){if(e===hi)throw Error(T(174));return e}function _u(e,t){switch(Z(Ks,t),Z(Gs,e),Z(St,hi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ll(t,e)}ne(St),Z(St,t)}function $r(){ne(St),ne(Gs),ne(Ks)}function hg(e){$n(Ks.current);var t=$n(St.current),n=Ll(t,e.type);t!==n&&(Z(Gs,e),Z(St,n))}function Su(e){Gs.current===e&&(ne(St),ne(Gs))}var ie=Sn(0);function Ao(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qa=[];function ju(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var ro=Kt.ReactCurrentDispatcher,Xa=Kt.ReactCurrentBatchConfig,Wn=0,ae=null,me=null,ve=null,Ro=!1,Ss=!1,Ws=0,Lw=0;function Ce(){throw Error(T(321))}function Eu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function Cu(e,t,n,r,s,i){if(Wn=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=e===null||e.memoizedState===null?Vw:Uw,e=n(r,s),Ss){i=0;do{if(Ss=!1,Ws=0,25<=i)throw Error(T(301));i+=1,ve=me=null,t.updateQueue=null,ro.current=zw,e=n(r,s)}while(Ss)}if(ro.current=Io,t=me!==null&&me.next!==null,Wn=0,ve=me=ae=null,Ro=!1,t)throw Error(T(300));return e}function Tu(){var e=Ws!==0;return Ws=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ae.memoizedState=ve=e:ve=ve.next=e,ve}function ut(){if(me===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ve===null?ae.memoizedState:ve.next;if(t!==null)ve=t,me=e;else{if(e===null)throw Error(T(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ve===null?ae.memoizedState=ve=e:ve=ve.next=e}return ve}function qs(e,t){return typeof t=="function"?t(e):t}function Za(e){var t=ut(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Wn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ae.lanes|=d,qn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,vt(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,qn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function el(e){var t=ut(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);vt(i,t.memoizedState)||(He=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function fg(){}function pg(e,t){var n=ae,r=ut(),s=t(),i=!vt(r.memoizedState,s);if(i&&(r.memoizedState=s,He=!0),r=r.queue,Nu(yg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,Ys(9,gg.bind(null,n,r,s,t),void 0,null),xe===null)throw Error(T(349));Wn&30||mg(n,t,s)}return s}function mg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gg(e,t,n,r){t.value=n,t.getSnapshot=r,vg(t)&&xg(e)}function yg(e,t,n){return n(function(){vg(t)&&xg(e)})}function vg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function xg(e){var t=Bt(e,1);t!==null&&yt(t,e,1,-1)}function kh(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t.queue=e,e=e.dispatch=$w.bind(null,ae,e),[t.memoizedState,e]}function Ys(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wg(){return ut().memoizedState}function so(e,t,n,r){var s=bt();ae.flags|=e,s.memoizedState=Ys(1|t,n,void 0,r===void 0?null:r)}function sa(e,t,n,r){var s=ut();r=r===void 0?null:r;var i=void 0;if(me!==null){var o=me.memoizedState;if(i=o.destroy,r!==null&&Eu(r,o.deps)){s.memoizedState=Ys(t,n,i,r);return}}ae.flags|=e,s.memoizedState=Ys(1|t,n,i,r)}function _h(e,t){return so(8390656,8,e,t)}function Nu(e,t){return sa(2048,8,e,t)}function bg(e,t){return sa(4,2,e,t)}function kg(e,t){return sa(4,4,e,t)}function _g(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sg(e,t,n){return n=n!=null?n.concat([e]):null,sa(4,4,_g.bind(null,t,e),n)}function Pu(){}function jg(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Eu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eg(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Eu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cg(e,t,n){return Wn&21?(vt(n,t)||(n=Rm(),ae.lanes|=n,qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function Dw(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Xa.transition;Xa.transition={};try{e(!1),t()}finally{J=n,Xa.transition=r}}function Tg(){return ut().memoizedState}function Fw(e,t,n){var r=gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ng(e))Pg(t,n);else if(n=ug(e,t,n,r),n!==null){var s=De();yt(n,e,r,s),Ag(n,t,r)}}function $w(e,t,n){var r=gn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ng(e))Pg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,vt(a,o)){var l=t.interleaved;l===null?(s.next=s,bu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=ug(e,t,s,r),n!==null&&(s=De(),yt(n,e,r,s),Ag(n,t,r))}}function Ng(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Pg(e,t){Ss=Ro=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ag(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,au(e,n)}}var Io={readContext:ct,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},Vw={readContext:ct,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:_h,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,so(4194308,4,_g.bind(null,t,e),n)},useLayoutEffect:function(e,t){return so(4194308,4,e,t)},useInsertionEffect:function(e,t){return so(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fw.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:kh,useDebugValue:Pu,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=kh(!1),t=e[0];return e=Dw.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,s=bt();if(re){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),xe===null)throw Error(T(349));Wn&30||mg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,_h(yg.bind(null,r,i,e),[e]),r.flags|=2048,Ys(9,gg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=bt(),t=xe.identifierPrefix;if(re){var n=Ot,r=It;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ws++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uw={readContext:ct,useCallback:jg,useContext:ct,useEffect:Nu,useImperativeHandle:Sg,useInsertionEffect:bg,useLayoutEffect:kg,useMemo:Eg,useReducer:Za,useRef:wg,useState:function(){return Za(qs)},useDebugValue:Pu,useDeferredValue:function(e){var t=ut();return Cg(t,me.memoizedState,e)},useTransition:function(){var e=Za(qs)[0],t=ut().memoizedState;return[e,t]},useMutableSource:fg,useSyncExternalStore:pg,useId:Tg,unstable_isNewReconciler:!1},zw={readContext:ct,useCallback:jg,useContext:ct,useEffect:Nu,useImperativeHandle:Sg,useInsertionEffect:bg,useLayoutEffect:kg,useMemo:Eg,useReducer:el,useRef:wg,useState:function(){return el(qs)},useDebugValue:Pu,useDeferredValue:function(e){var t=ut();return me===null?t.memoizedState=e:Cg(t,me.memoizedState,e)},useTransition:function(){var e=el(qs)[0],t=ut().memoizedState;return[e,t]},useMutableSource:fg,useSyncExternalStore:pg,useId:Tg,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return(e=e._reactInternals)?Xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=De(),s=gn(e),i=Lt(r,s);i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,s),t!==null&&(yt(t,e,s,r),no(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=De(),s=gn(e),i=Lt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,s),t!==null&&(yt(t,e,s,r),no(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),r=gn(e),s=Lt(n,r);s.tag=2,t!=null&&(s.callback=t),t=pn(e,s,r),t!==null&&(yt(t,e,r,n),no(t,e,r))}};function Sh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Us(n,r)||!Us(s,i):!0}function Rg(e,t,n){var r=!1,s=wn,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=Ke(t)?Gn:Oe.current,r=t.contextTypes,i=(r=r!=null)?Lr(e,s):wn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function jh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function sc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ku(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=Ke(t)?Gn:Oe.current,s.context=Lr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ia.enqueueReplaceState(s,s.state,null),Po(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vr(e,t){try{var n="",r=t;do n+=gx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function tl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ic(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bw=typeof WeakMap=="function"?WeakMap:Map;function Ig(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mo||(Mo=!0,mc=r),ic(e,t)},n}function Og(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ic(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ic(e,t),typeof r!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Eh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=rb.bind(null,e,t,n),t.then(e,e))}function Ch(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Th(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var Hw=Kt.ReactCurrentOwner,He=!1;function Me(e,t,n,r){t.child=e===null?cg(t,null,n,r):Fr(t,e.child,n,r)}function Nh(e,t,n,r,s){n=n.render;var i=t.ref;return Pr(t,s),r=Cu(e,t,n,r,i,s),n=Tu(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(re&&n&&mu(t),t.flags|=1,Me(e,t,r,s),t.child)}function Ph(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Fu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Mg(e,t,i,r,s)):(e=lo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Us,n(o,r)&&e.ref===t.ref)return Ht(e,t,s)}return t.flags|=1,e=yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Mg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Us(i,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Ht(e,t,s)}return oc(e,t,n,r,s)}function Lg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(wr,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(wr,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(wr,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Z(wr,Ye),Ye|=r;return Me(e,t,s,n),t.child}function Dg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oc(e,t,n,r,s){var i=Ke(n)?Gn:Oe.current;return i=Lr(t,i),Pr(t,s),n=Cu(e,t,n,r,i,s),r=Tu(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(re&&r&&mu(t),t.flags|=1,Me(e,t,n,s),t.child)}function Ah(e,t,n,r,s){if(Ke(n)){var i=!0;jo(t)}else i=!1;if(Pr(t,s),t.stateNode===null)io(e,t),Rg(t,n,r),sc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=Ke(n)?Gn:Oe.current,u=Lr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&jh(t,o,r,u),tn=!1;var f=t.memoizedState;o.state=f,Po(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Ge.current||tn?(typeof d=="function"&&(rc(t,n,d,r),l=t.memoizedState),(a=tn||Sh(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,dg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ht(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ct(l):(l=Ke(n)?Gn:Oe.current,l=Lr(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&jh(t,o,r,l),tn=!1,f=t.memoizedState,o.state=f,Po(t,r,o,s);var x=t.memoizedState;a!==h||f!==x||Ge.current||tn?(typeof g=="function"&&(rc(t,n,g,r),x=t.memoizedState),(u=tn||Sh(t,n,u,r,f,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ac(e,t,n,r,i,s)}function ac(e,t,n,r,s,i){Dg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&gh(t,n,!1),Ht(e,t,i);r=t.stateNode,Hw.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Fr(t,e.child,null,i),t.child=Fr(t,null,a,i)):Me(e,t,a,i),t.memoizedState=r.state,s&&gh(t,n,!0),t.child}function Fg(e){var t=e.stateNode;t.pendingContext?mh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mh(e,t.context,!1),_u(e,t.containerInfo)}function Rh(e,t,n,r,s){return Dr(),yu(s),t.flags|=256,Me(e,t,n,r),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function $g(e,t,n){var r=t.pendingProps,s=ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(ie,s&1),e===null)return tc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=la(o,r,0,null),e=Bn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=cc(n),t.memoizedState=lc,e):Au(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Gw(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=yn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=yn(a,i):(i=Bn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?cc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=lc,r}return i=e.child,e=i.sibling,r=yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Au(e,t){return t=la({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Li(e,t,n,r){return r!==null&&yu(r),Fr(t,e.child,null,n),e=Au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gw(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=tl(Error(T(422))),Li(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=la({mode:"visible",children:r.children},s,0,null),i=Bn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Fr(t,e.child,null,o),t.child.memoizedState=cc(o),t.memoizedState=lc,i);if(!(t.mode&1))return Li(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=tl(i,r,void 0),Li(e,t,o,r)}if(a=(o&e.childLanes)!==0,He||a){if(r=xe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bt(e,s),yt(r,e,s,-1))}return Du(),r=tl(Error(T(421))),Li(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=sb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Je=fn(s.nextSibling),Qe=t,re=!0,mt=null,e!==null&&(st[it++]=It,st[it++]=Ot,st[it++]=Kn,It=e.id,Ot=e.overflow,Kn=t),t=Au(t,r.children),t.flags|=4096,t)}function Ih(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nc(e.return,t,n)}function nl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Vg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Me(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ih(e,n,t);else if(e.tag===19)Ih(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ao(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),nl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ao(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}nl(t,!0,n,null,i);break;case"together":nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function io(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kw(e,t,n){switch(t.tag){case 3:Fg(t),Dr();break;case 5:hg(t);break;case 1:Ke(t.type)&&jo(t);break;case 4:_u(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Z(To,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?$g(e,t,n):(Z(ie,ie.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);Z(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Vg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Lg(e,t,n)}return Ht(e,t,n)}var Ug,uc,zg,Bg;Ug=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uc=function(){};zg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,$n(St.current);var i=null;switch(n){case"input":s=Rl(e,s),r=Rl(e,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=Ml(e,s),r=Ml(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_o)}Dl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Os.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Os.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&te("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Bg=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ww(e,t,n){var r=t.pendingProps;switch(gu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Ke(t.type)&&So(),Te(t),null;case 3:return r=t.stateNode,$r(),ne(Ge),ne(Oe),ju(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(vc(mt),mt=null))),uc(e,t),Te(t),null;case 5:Su(t);var s=$n(Ks.current);if(n=t.type,e!==null&&t.stateNode!=null)zg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Te(t),null}if(e=$n(St.current),Oi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[kt]=t,r[Hs]=i,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<ms.length;s++)te(ms[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":zd(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Hd(r,i),te("invalid",r)}Dl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ii(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ii(r.textContent,a,e),s=["children",""+a]):Os.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&te("scroll",r)}switch(n){case"input":ji(r),Bd(r,i,!0);break;case"textarea":ji(r),Gd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_o)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ym(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[kt]=t,e[Hs]=r,Ug(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fl(n,r),n){case"dialog":te("cancel",e),te("close",e),s=r;break;case"iframe":case"object":case"embed":te("load",e),s=r;break;case"video":case"audio":for(s=0;s<ms.length;s++)te(ms[s],e);s=r;break;case"source":te("error",e),s=r;break;case"img":case"image":case"link":te("error",e),te("load",e),s=r;break;case"details":te("toggle",e),s=r;break;case"input":zd(e,r),s=Rl(e,r),te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),te("invalid",e);break;case"textarea":Hd(e,r),s=Ml(e,r),te("invalid",e);break;default:s=r}Dl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?wm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ms(e,l):typeof l=="number"&&Ms(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Os.hasOwnProperty(i)?l!=null&&i==="onScroll"&&te("scroll",e):l!=null&&tu(e,i,l,o))}switch(n){case"input":ji(e),Bd(e,r,!1);break;case"textarea":ji(e),Gd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Er(e,!!r.multiple,i,!1):r.defaultValue!=null&&Er(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_o)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)Bg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=$n(Ks.current),$n(St.current),Oi(t)){if(r=t.stateNode,n=t.memoizedProps,r[kt]=t,(i=r.nodeValue!==n)&&(e=Qe,e!==null))switch(e.tag){case 3:Ii(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ii(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=t,t.stateNode=r}return Te(t),null;case 13:if(ne(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Je!==null&&t.mode&1&&!(t.flags&128))ag(),Dr(),t.flags|=98560,i=!1;else if(i=Oi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[kt]=t}else Dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),i=!1}else mt!==null&&(vc(mt),mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ge===0&&(ge=3):Du())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return $r(),uc(e,t),e===null&&zs(t.stateNode.containerInfo),Te(t),null;case 10:return wu(t.type._context),Te(t),null;case 17:return Ke(t.type)&&So(),Te(t),null;case 19:if(ne(ie),i=t.memoizedState,i===null)return Te(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)os(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ao(e),o!==null){for(t.flags|=128,os(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&fe()>Ur&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ao(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!re)return Te(t),null}else 2*fe()-i.renderingStartTime>Ur&&n!==1073741824&&(t.flags|=128,r=!0,os(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=fe(),t.sibling=null,n=ie.current,Z(ie,r?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return Lu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function qw(e,t){switch(gu(t),t.tag){case 1:return Ke(t.type)&&So(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $r(),ne(Ge),ne(Oe),ju(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Su(t),null;case 13:if(ne(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(ie),null;case 4:return $r(),null;case 10:return wu(t.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var Di=!1,Pe=!1,Yw=typeof WeakSet=="function"?WeakSet:Set,R=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function dc(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Oh=!1;function Jw(e,t){if(ql=wo,e=qm(),pu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yl={focusedElem:e,selectionRange:n},wo=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ht(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(b){ue(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return x=Oh,Oh=!1,x}function js(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&dc(t,n,i)}s=s.next}while(s!==r)}}function oa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hg(e){var t=e.alternate;t!==null&&(e.alternate=null,Hg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Hs],delete t[Xl],delete t[Rw],delete t[Iw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gg(e){return e.tag===5||e.tag===3||e.tag===4}function Mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_o));else if(r!==4&&(e=e.child,e!==null))for(fc(e,t,n),e=e.sibling;e!==null;)fc(e,t,n),e=e.sibling}function pc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pc(e,t,n),e=e.sibling;e!==null;)pc(e,t,n),e=e.sibling}var we=null,ft=!1;function qt(e,t,n){for(n=n.child;n!==null;)Kg(e,t,n),n=n.sibling}function Kg(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Xo,n)}catch{}switch(n.tag){case 5:Pe||xr(n,t);case 6:var r=we,s=ft;we=null,qt(e,t,n),we=r,ft=s,we!==null&&(ft?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(ft?(e=we,n=n.stateNode,e.nodeType===8?Ya(e.parentNode,n):e.nodeType===1&&Ya(e,n),$s(e)):Ya(we,n.stateNode));break;case 4:r=we,s=ft,we=n.stateNode.containerInfo,ft=!0,qt(e,t,n),we=r,ft=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&dc(n,t,o),s=s.next}while(s!==r)}qt(e,t,n);break;case 1:if(!Pe&&(xr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,qt(e,t,n),Pe=r):qt(e,t,n);break;default:qt(e,t,n)}}function Lh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yw),t.forEach(function(r){var s=ib.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,ft=!1;break e;case 3:we=a.stateNode.containerInfo,ft=!0;break e;case 4:we=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(we===null)throw Error(T(160));Kg(i,o,s),we=null,ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wg(t,e),t=t.sibling}function Wg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),xt(e),r&4){try{js(3,e,e.return),oa(3,e)}catch(v){ue(e,e.return,v)}try{js(5,e,e.return)}catch(v){ue(e,e.return,v)}}break;case 1:dt(t,e),xt(e),r&512&&n!==null&&xr(n,n.return);break;case 5:if(dt(t,e),xt(e),r&512&&n!==null&&xr(n,n.return),e.flags&32){var s=e.stateNode;try{Ms(s,"")}catch(v){ue(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&mm(s,i),Fl(a,o);var u=Fl(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?wm(s,h):d==="dangerouslySetInnerHTML"?vm(s,h):d==="children"?Ms(s,h):tu(s,d,h,u)}switch(a){case"input":Il(s,i);break;case"textarea":gm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Er(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Er(s,!!i.multiple,i.defaultValue,!0):Er(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hs]=i}catch(v){ue(e,e.return,v)}}break;case 6:if(dt(t,e),xt(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ue(e,e.return,v)}}break;case 3:if(dt(t,e),xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$s(t.containerInfo)}catch(v){ue(e,e.return,v)}break;case 4:dt(t,e),xt(e);break;case 13:dt(t,e),xt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ou=fe())),r&4&&Lh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(u=Pe)||d,dt(t,e),Pe=u):dt(t,e),xt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,g=f.child,f.tag){case 0:case 11:case 14:case 15:js(4,f,f.return);break;case 1:xr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ue(r,n,v)}}break;case 5:xr(f,f.return);break;case 22:if(f.memoizedState!==null){Fh(h);continue}}g!==null?(g.return=f,R=g):Fh(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xm("display",o))}catch(v){ue(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ue(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dt(t,e),xt(e),r&4&&Lh(e);break;case 21:break;default:dt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gg(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ms(s,""),r.flags&=-33);var i=Mh(e);pc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mh(e);fc(e,a,o);break;default:throw Error(T(161))}}catch(l){ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qw(e,t,n){R=e,qg(e)}function qg(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Di;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Pe;a=Di;var u=Pe;if(Di=o,(Pe=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?$h(s):l!==null?(l.return=o,R=l):$h(s);for(;i!==null;)R=i,qg(i),i=i.sibling;R=s,Di=a,Pe=u}Dh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Dh(e)}}function Dh(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||oa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$s(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Pe||t.flags&512&&hc(t)}catch(f){ue(t,t.return,f)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function Fh(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function $h(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oa(4,t)}catch(l){ue(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ue(t,s,l)}}var i=t.return;try{hc(t)}catch(l){ue(t,i,l)}break;case 5:var o=t.return;try{hc(t)}catch(l){ue(t,o,l)}}}catch(l){ue(t,t.return,l)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var Xw=Math.ceil,Oo=Kt.ReactCurrentDispatcher,Ru=Kt.ReactCurrentOwner,at=Kt.ReactCurrentBatchConfig,W=0,xe=null,pe=null,_e=0,Ye=0,wr=Sn(0),ge=0,Js=null,qn=0,aa=0,Iu=0,Es=null,ze=null,Ou=0,Ur=1/0,Pt=null,Mo=!1,mc=null,mn=null,Fi=!1,cn=null,Lo=0,Cs=0,gc=null,oo=-1,ao=0;function De(){return W&6?fe():oo!==-1?oo:oo=fe()}function gn(e){return e.mode&1?W&2&&_e!==0?_e&-_e:Mw.transition!==null?(ao===0&&(ao=Rm()),ao):(e=J,e!==0||(e=window.event,e=e===void 0?16:$m(e.type)),e):1}function yt(e,t,n,r){if(50<Cs)throw Cs=0,gc=null,Error(T(185));ci(e,n,r),(!(W&2)||e!==xe)&&(e===xe&&(!(W&2)&&(aa|=n),ge===4&&on(e,_e)),We(e,r),n===1&&W===0&&!(t.mode&1)&&(Ur=fe()+500,ra&&jn()))}function We(e,t){var n=e.callbackNode;Mx(e,t);var r=xo(e,e===xe?_e:0);if(r===0)n!==null&&qd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qd(n),t===1)e.tag===0?Ow(Vh.bind(null,e)):sg(Vh.bind(null,e)),Pw(function(){!(W&6)&&jn()}),n=null;else{switch(Im(r)){case 1:n=ou;break;case 4:n=Pm;break;case 16:n=vo;break;case 536870912:n=Am;break;default:n=vo}n=n0(n,Yg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yg(e,t){if(oo=-1,ao=0,W&6)throw Error(T(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=xo(e,e===xe?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Do(e,r);else{t=r;var s=W;W|=2;var i=Qg();(xe!==e||_e!==t)&&(Pt=null,Ur=fe()+500,zn(e,t));do try{tb();break}catch(a){Jg(e,a)}while(!0);xu(),Oo.current=i,W=s,pe!==null?t=0:(xe=null,_e=0,t=ge)}if(t!==0){if(t===2&&(s=Bl(e),s!==0&&(r=s,t=yc(e,s))),t===1)throw n=Js,zn(e,0),on(e,r),We(e,fe()),n;if(t===6)on(e,r);else{if(s=e.current.alternate,!(r&30)&&!Zw(s)&&(t=Do(e,r),t===2&&(i=Bl(e),i!==0&&(r=i,t=yc(e,i))),t===1))throw n=Js,zn(e,0),on(e,r),We(e,fe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Rn(e,ze,Pt);break;case 3:if(on(e,r),(r&130023424)===r&&(t=Ou+500-fe(),10<t)){if(xo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){De(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ql(Rn.bind(null,e,ze,Pt),t);break}Rn(e,ze,Pt);break;case 4:if(on(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-gt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xw(r/1960))-r,10<r){e.timeoutHandle=Ql(Rn.bind(null,e,ze,Pt),r);break}Rn(e,ze,Pt);break;case 5:Rn(e,ze,Pt);break;default:throw Error(T(329))}}}return We(e,fe()),e.callbackNode===n?Yg.bind(null,e):null}function yc(e,t){var n=Es;return e.current.memoizedState.isDehydrated&&(zn(e,t).flags|=256),e=Do(e,t),e!==2&&(t=ze,ze=n,t!==null&&vc(t)),e}function vc(e){ze===null?ze=e:ze.push.apply(ze,e)}function Zw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t){for(t&=~Iu,t&=~aa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function Vh(e){if(W&6)throw Error(T(327));Ar();var t=xo(e,0);if(!(t&1))return We(e,fe()),null;var n=Do(e,t);if(e.tag!==0&&n===2){var r=Bl(e);r!==0&&(t=r,n=yc(e,r))}if(n===1)throw n=Js,zn(e,0),on(e,t),We(e,fe()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rn(e,ze,Pt),We(e,fe()),null}function Mu(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Ur=fe()+500,ra&&jn())}}function Yn(e){cn!==null&&cn.tag===0&&!(W&6)&&Ar();var t=W;W|=1;var n=at.transition,r=J;try{if(at.transition=null,J=1,e)return e()}finally{J=r,at.transition=n,W=t,!(W&6)&&jn()}}function Lu(){Ye=wr.current,ne(wr)}function zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Nw(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(gu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&So();break;case 3:$r(),ne(Ge),ne(Oe),ju();break;case 5:Su(r);break;case 4:$r();break;case 13:ne(ie);break;case 19:ne(ie);break;case 10:wu(r.type._context);break;case 22:case 23:Lu()}n=n.return}if(xe=e,pe=e=yn(e.current,null),_e=Ye=t,ge=0,Js=null,Iu=aa=qn=0,ze=Es=null,Fn!==null){for(t=0;t<Fn.length;t++)if(n=Fn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fn=null}return e}function Jg(e,t){do{var n=pe;try{if(xu(),ro.current=Io,Ro){for(var r=ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ro=!1}if(Wn=0,ve=me=ae=null,Ss=!1,Ws=0,Ru.current=null,n===null||n.return===null){ge=1,Js=t,pe=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Ch(o);if(g!==null){g.flags&=-257,Th(g,o,a,i,t),g.mode&1&&Eh(i,u,t),t=g,l=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){Eh(i,u,t),Du();break e}l=Error(T(426))}}else if(re&&a.mode&1){var w=Ch(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Th(w,o,a,i,t),yu(Vr(l,a));break e}}i=l=Vr(l,a),ge!==4&&(ge=2),Es===null?Es=[i]:Es.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Ig(i,l,t);wh(i,m);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mn===null||!mn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Og(i,a,t);wh(i,b);break e}}i=i.return}while(i!==null)}Zg(n)}catch(k){t=k,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function Qg(){var e=Oo.current;return Oo.current=Io,e===null?Io:e}function Du(){(ge===0||ge===3||ge===2)&&(ge=4),xe===null||!(qn&268435455)&&!(aa&268435455)||on(xe,_e)}function Do(e,t){var n=W;W|=2;var r=Qg();(xe!==e||_e!==t)&&(Pt=null,zn(e,t));do try{eb();break}catch(s){Jg(e,s)}while(!0);if(xu(),W=n,Oo.current=r,pe!==null)throw Error(T(261));return xe=null,_e=0,ge}function eb(){for(;pe!==null;)Xg(pe)}function tb(){for(;pe!==null&&!Ex();)Xg(pe)}function Xg(e){var t=t0(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Zg(e):pe=t,Ru.current=null}function Zg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qw(n,t),n!==null){n.flags&=32767,pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,pe=null;return}}else if(n=Ww(n,t,Ye),n!==null){pe=n;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ge===0&&(ge=5)}function Rn(e,t,n){var r=J,s=at.transition;try{at.transition=null,J=1,nb(e,t,n,r)}finally{at.transition=s,J=r}return null}function nb(e,t,n,r){do Ar();while(cn!==null);if(W&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Lx(e,i),e===xe&&(pe=xe=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fi||(Fi=!0,n0(vo,function(){return Ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=at.transition,at.transition=null;var o=J;J=1;var a=W;W|=4,Ru.current=null,Jw(e,n),Wg(n,e),kw(Yl),wo=!!ql,Yl=ql=null,e.current=n,Qw(n),Cx(),W=a,J=o,at.transition=i}else e.current=n;if(Fi&&(Fi=!1,cn=e,Lo=s),i=e.pendingLanes,i===0&&(mn=null),Px(n.stateNode),We(e,fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mo)throw Mo=!1,e=mc,mc=null,e;return Lo&1&&e.tag!==0&&Ar(),i=e.pendingLanes,i&1?e===gc?Cs++:(Cs=0,gc=e):Cs=0,jn(),null}function Ar(){if(cn!==null){var e=Im(Lo),t=at.transition,n=J;try{if(at.transition=null,J=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,Lo=0,W&6)throw Error(T(331));var s=W;for(W|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:js(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,g=d.return;if(Hg(d),d===u){R=null;break}if(f!==null){f.return=g,R=f;break}R=g}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:js(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,R=m;break e}R=i.return}}var p=e.current;for(R=p;R!==null;){o=R;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,R=y;else e:for(o=p;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:oa(9,a)}}catch(k){ue(a,a.return,k)}if(a===o){R=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,R=b;break e}R=a.return}}if(W=s,jn(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Xo,e)}catch{}r=!0}return r}finally{J=n,at.transition=t}}return!1}function Uh(e,t,n){t=Vr(n,t),t=Ig(e,t,1),e=pn(e,t,1),t=De(),e!==null&&(ci(e,1,t),We(e,t))}function ue(e,t,n){if(e.tag===3)Uh(e,e,n);else for(;t!==null;){if(t.tag===3){Uh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mn===null||!mn.has(r))){e=Vr(n,e),e=Og(t,e,1),t=pn(t,e,1),e=De(),t!==null&&(ci(t,1,e),We(t,e));break}}t=t.return}}function rb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(_e&n)===n&&(ge===4||ge===3&&(_e&130023424)===_e&&500>fe()-Ou?zn(e,0):Iu|=n),We(e,t)}function e0(e,t){t===0&&(e.mode&1?(t=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):t=1);var n=De();e=Bt(e,t),e!==null&&(ci(e,t,n),We(e,n))}function sb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),e0(e,n)}function ib(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),e0(e,n)}var t0;t0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,Kw(e,t,n);He=!!(e.flags&131072)}else He=!1,re&&t.flags&1048576&&ig(t,Co,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;io(e,t),e=t.pendingProps;var s=Lr(t,Oe.current);Pr(t,n),s=Cu(null,t,r,e,s,n);var i=Tu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,jo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ku(t),s.updater=ia,t.stateNode=s,s._reactInternals=t,sc(t,r,e,n),t=ac(null,t,r,!0,i,n)):(t.tag=0,re&&i&&mu(t),Me(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(io(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ab(r),e=ht(r,e),s){case 0:t=oc(null,t,r,e,n);break e;case 1:t=Ah(null,t,r,e,n);break e;case 11:t=Nh(null,t,r,e,n);break e;case 14:t=Ph(null,t,r,ht(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),oc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Ah(e,t,r,s,n);case 3:e:{if(Fg(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,dg(e,t),Po(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Vr(Error(T(423)),t),t=Rh(e,t,r,n,s);break e}else if(r!==s){s=Vr(Error(T(424)),t),t=Rh(e,t,r,n,s);break e}else for(Je=fn(t.stateNode.containerInfo.firstChild),Qe=t,re=!0,mt=null,n=cg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),r===s){t=Ht(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return hg(t),e===null&&tc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Jl(r,s)?o=null:i!==null&&Jl(r,i)&&(t.flags|=32),Dg(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&tc(t),null;case 13:return $g(e,t,n);case 4:return _u(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fr(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),Nh(e,t,r,s,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Z(To,r._currentValue),r._currentValue=o,i!==null)if(vt(i.value,o)){if(i.children===s.children&&!Ge.current){t=Ht(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Lt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),nc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Me(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pr(t,n),s=ct(s),r=r(s),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,s=ht(r,t.pendingProps),s=ht(r.type,s),Ph(e,t,r,s,n);case 15:return Mg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),io(e,t),t.tag=1,Ke(r)?(e=!0,jo(t)):e=!1,Pr(t,n),Rg(t,r,s),sc(t,r,s,n),ac(null,t,r,!0,e,n);case 19:return Vg(e,t,n);case 22:return Lg(e,t,n)}throw Error(T(156,t.tag))};function n0(e,t){return Nm(e,t)}function ob(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new ob(e,t,n,r)}function Fu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ab(e){if(typeof e=="function")return Fu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ru)return 11;if(e===su)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Fu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ur:return Bn(n.children,s,i,t);case nu:o=8,s|=8;break;case Tl:return e=ot(12,n,t,s|2),e.elementType=Tl,e.lanes=i,e;case Nl:return e=ot(13,n,t,s),e.elementType=Nl,e.lanes=i,e;case Pl:return e=ot(19,n,t,s),e.elementType=Pl,e.lanes=i,e;case hm:return la(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case um:o=10;break e;case dm:o=9;break e;case ru:o=11;break e;case su:o=14;break e;case en:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=ot(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Bn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function la(e,t,n,r){return e=ot(22,e,r,t),e.elementType=hm,e.lanes=n,e.stateNode={isHidden:!1},e}function rl(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function sl(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lb(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $u(e,t,n,r,s,i,o,a,l){return e=new lb(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(i),e}function cb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function r0(e){if(!e)return wn;e=e._reactInternals;e:{if(Xn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Ke(n))return rg(e,n,t)}return t}function s0(e,t,n,r,s,i,o,a,l){return e=$u(n,r,!0,e,s,i,o,a,l),e.context=r0(null),n=e.current,r=De(),s=gn(n),i=Lt(r,s),i.callback=t??null,pn(n,i,s),e.current.lanes=s,ci(e,s,r),We(e,r),e}function ca(e,t,n,r){var s=t.current,i=De(),o=gn(s);return n=r0(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pn(s,t,o),e!==null&&(yt(e,s,o,i),no(e,s,o)),o}function Fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vu(e,t){zh(e,t),(e=e.alternate)&&zh(e,t)}function ub(){return null}var i0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uu(e){this._internalRoot=e}ua.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));ca(e,t,null,null)};ua.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){ca(null,e,null,null)}),t[zt]=null}};function ua(e){this._internalRoot=e}ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Fm(e)}};function zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bh(){}function db(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fo(o);i.call(u)}}var o=s0(t,r,e,0,null,!1,!1,"",Bh);return e._reactRootContainer=o,e[zt]=o.current,zs(e.nodeType===8?e.parentNode:e),Yn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Fo(l);a.call(u)}}var l=$u(e,0,!1,null,null,!1,!1,"",Bh);return e._reactRootContainer=l,e[zt]=l.current,zs(e.nodeType===8?e.parentNode:e),Yn(function(){ca(t,l,n,r)}),l}function ha(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Fo(o);a.call(l)}}ca(t,o,e,s)}else o=db(n,t,e,s,r);return Fo(o)}Om=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ps(t.pendingLanes);n!==0&&(au(t,n|1),We(t,fe()),!(W&6)&&(Ur=fe()+500,jn()))}break;case 13:Yn(function(){var r=Bt(e,1);if(r!==null){var s=De();yt(r,e,1,s)}}),Vu(e,1)}};lu=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=De();yt(t,e,134217728,n)}Vu(e,134217728)}};Mm=function(e){if(e.tag===13){var t=gn(e),n=Bt(e,t);if(n!==null){var r=De();yt(n,e,t,r)}Vu(e,t)}};Lm=function(){return J};Dm=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Vl=function(e,t,n){switch(t){case"input":if(Il(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=na(r);if(!s)throw Error(T(90));pm(r),Il(r,s)}}}break;case"textarea":gm(e,n);break;case"select":t=n.value,t!=null&&Er(e,!!n.multiple,t,!1)}};_m=Mu;Sm=Yn;var hb={usingClientEntryPoint:!1,Events:[di,pr,na,bm,km,Mu]},as={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fb={bundleType:as.bundleType,version:as.version,rendererPackageName:as.rendererPackageName,rendererConfig:as.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cm(e),e===null?null:e.stateNode},findFiberByHostInstance:as.findFiberByHostInstance||ub,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$i.isDisabled&&$i.supportsFiber)try{Xo=$i.inject(fb),_t=$i}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hb;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(t))throw Error(T(200));return cb(e,t,null,n)};et.createRoot=function(e,t){if(!zu(e))throw Error(T(299));var n=!1,r="",s=i0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$u(e,1,!1,null,null,n,!1,r,s),e[zt]=t.current,zs(e.nodeType===8?e.parentNode:e),new Uu(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Cm(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Yn(e)};et.hydrate=function(e,t,n){if(!da(t))throw Error(T(200));return ha(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!zu(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=i0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=s0(t,null,e,1,n??null,s,!1,i,o),e[zt]=t.current,zs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ua(t)};et.render=function(e,t,n){if(!da(t))throw Error(T(200));return ha(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!da(e))throw Error(T(40));return e._reactRootContainer?(Yn(function(){ha(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};et.unstable_batchedUpdates=Mu;et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!da(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return ha(e,t,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function o0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o0)}catch(e){console.error(e)}}o0(),om.exports=et;var pb=om.exports,a0,Hh=pb;a0=Hh.createRoot,Hh.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>S.createElement("svg",{ref:d,...mb,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${gb(e)}`,a].join(" "),...u},[...t.map(([h,f])=>S.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=F("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=F("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=F("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=F("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=F("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=F("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=F("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=F("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=F("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=F("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=F("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=F("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=F("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function d0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=d0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $b(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=d0(e))&&(r&&(r+=" "),r+=t);return r}const Ku="-",Vb=e=>{const t=zb(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Ku);return a[0]===""&&a.length!==1&&a.shift(),h0(a,t)||Ub(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},h0=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?h0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Ku);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Jh=/^\[(.+)\]$/,Ub=e=>{if(Jh.test(e)){const t=Jh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zb=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Hb(Object.entries(e.classGroups),n).forEach(([i,o])=>{xc(o,r,i,t)}),r},xc=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Qh(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(Bb(s)){xc(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{xc(o,Qh(t,i),n,r)})})},Qh=(e,t)=>{let n=e;return t.split(Ku).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Bb=e=>e.isThemeGetter,Hb=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,Gb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},f0="!",Kb=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,d=0,h;for(let w=0;w<a.length;w++){let m=a[w];if(u===0){if(m===s&&(r||a.slice(w,w+i)===t)){l.push(a.slice(d,w)),d=w+i;continue}if(m==="/"){h=w;continue}}m==="["?u++:m==="]"&&u--}const f=l.length===0?a:a.substring(d),g=f.startsWith(f0),x=g?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},Wb=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},qb=e=>({cache:Gb(e.cacheSize),parseClassName:Kb(e),...Vb(e)}),Yb=/\s+/,Jb=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(Yb);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(u);let x=!!g,v=r(x?f.substring(0,g):f);if(!v){if(!x){a=u+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=u+(a.length>0?" "+a:a);continue}x=!1}const w=Wb(d).join(":"),m=h?w+f0:w,p=m+v;if(i.includes(p))continue;i.push(p);const y=s(v,x);for(let b=0;b<y.length;++b){const k=y[b];i.push(m+k)}a=u+(a.length>0?" "+a:a)}return a};function Qb(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=p0(t))&&(r&&(r+=" "),r+=n);return r}const p0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=p0(e[r]))&&(n&&(n+=" "),n+=t);return n};function Xb(e,...t){let n,r,s,i=o;function o(l){const u=t.reduce((d,h)=>h(d),e());return n=qb(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Jb(l,n);return s(l,d),d}return function(){return i(Qb.apply(null,arguments))}}const ee=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},m0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zb=/^\d+\/\d+$/,e1=new Set(["px","full","screen"]),t1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,s1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nt=e=>Rr(e)||e1.has(e)||Zb.test(e),Yt=e=>Jr(e,"length",f1),Rr=e=>!!e&&!Number.isNaN(Number(e)),ol=e=>Jr(e,"number",Rr),ls=e=>!!e&&Number.isInteger(Number(e)),o1=e=>e.endsWith("%")&&Rr(e.slice(0,-1)),$=e=>m0.test(e),Jt=e=>t1.test(e),a1=new Set(["length","size","percentage"]),l1=e=>Jr(e,a1,g0),c1=e=>Jr(e,"position",g0),u1=new Set(["image","url"]),d1=e=>Jr(e,u1,m1),h1=e=>Jr(e,"",p1),cs=()=>!0,Jr=(e,t,n)=>{const r=m0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},f1=e=>n1.test(e)&&!r1.test(e),g0=()=>!1,p1=e=>s1.test(e),m1=e=>i1.test(e),g1=()=>{const e=ee("colors"),t=ee("spacing"),n=ee("blur"),r=ee("brightness"),s=ee("borderColor"),i=ee("borderRadius"),o=ee("borderSpacing"),a=ee("borderWidth"),l=ee("contrast"),u=ee("grayscale"),d=ee("hueRotate"),h=ee("invert"),f=ee("gap"),g=ee("gradientColorStops"),x=ee("gradientColorStopPositions"),v=ee("inset"),w=ee("margin"),m=ee("opacity"),p=ee("padding"),y=ee("saturate"),b=ee("scale"),k=ee("sepia"),E=ee("skew"),C=ee("space"),j=ee("translate"),I=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",$,t],P=()=>[$,t],q=()=>["",Nt,Yt],se=()=>["auto",Rr,$],Ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ee=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",$],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Rr,$];return{cacheSize:500,separator:":",theme:{colors:[cs],spacing:[Nt,Yt],blur:["none","",Jt,$],brightness:U(),borderColor:[e],borderRadius:["none","","full",Jt,$],borderSpacing:P(),borderWidth:q(),contrast:U(),grayscale:N(),hueRotate:U(),invert:N(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[o1,Yt],inset:A(),margin:A(),opacity:U(),padding:P(),saturate:U(),scale:U(),sepia:N(),skew:U(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[Jt]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ve(),$]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ls,$]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",ls,$]}],"grid-cols":[{"grid-cols":[cs]}],"col-start-end":[{col:["auto",{span:["full",ls,$]},$]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[cs]}],"row-start-end":[{row:["auto",{span:[ls,$]},$]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$,t]}],"min-w":[{"min-w":[$,t,"min","max","fit"]}],"max-w":[{"max-w":[$,t,"none","full","min","max","fit","prose",{screen:[Jt]},Jt]}],h:[{h:[$,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jt,Yt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ol]}],"font-family":[{font:[cs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",Rr,ol]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nt,$]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nt,Yt]}],"underline-offset":[{"underline-offset":["auto",Nt,$]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ve(),c1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...Ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:Ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ee()]}],"outline-offset":[{"outline-offset":[Nt,$]}],"outline-w":[{outline:[Nt,Yt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Nt,Yt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jt,h1]}],"shadow-color":[{shadow:[cs]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Jt,$]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ls,$]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nt,Yt,ol]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},y1=Xb(g1);function Y(...e){return y1($b(e))}const v1="modulepreload",x1=function(e){return"/"+e},Xh={},Le=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=x1(l),l in Xh)return;Xh[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":v1,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},w1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},Zh=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const g=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(x=>x(t,g))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(w1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},b1=e=>e?Zh(e):Zh;var y0={exports:{}},v0={},x0={exports:{}},w0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zr=S;function k1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _1=typeof Object.is=="function"?Object.is:k1,S1=zr.useState,j1=zr.useEffect,E1=zr.useLayoutEffect,C1=zr.useDebugValue;function T1(e,t){var n=t(),r=S1({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return E1(function(){s.value=n,s.getSnapshot=t,al(s)&&i({inst:s})},[e,n,t]),j1(function(){return al(s)&&i({inst:s}),e(function(){al(s)&&i({inst:s})})},[e]),C1(n),n}function al(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_1(e,n)}catch{return!0}}function N1(e,t){return t()}var P1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?N1:T1;w0.useSyncExternalStore=zr.useSyncExternalStore!==void 0?zr.useSyncExternalStore:P1;x0.exports=w0;var A1=x0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=S,R1=A1;function I1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O1=typeof Object.is=="function"?Object.is:I1,M1=R1.useSyncExternalStore,L1=ma.useRef,D1=ma.useEffect,F1=ma.useMemo,$1=ma.useDebugValue;v0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=L1(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=F1(function(){function l(g){if(!u){if(u=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var x=o.value;if(s(x,g))return h=x}return h=g}if(x=h,O1(d,g))return x;var v=r(g);return s!==void 0&&s(x,v)?x:(d=g,h=v)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var a=M1(e,i[0],i[1]);return D1(function(){o.hasValue=!0,o.value=a},[a]),$1(a),a};y0.exports=v0;var V1=y0.exports;const U1=qp(V1),b0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"},{useDebugValue:z1}=Xc,{useSyncExternalStoreWithSelector:B1}=U1;let ef=!1;const H1=e=>e;function G1(e,t=H1,n){(b0?"production":void 0)!=="production"&&n&&!ef&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ef=!0);const r=B1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return z1(r),r}const tf=e=>{(b0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?b1(e):e,n=(r,s)=>G1(t,r,s);return Object.assign(n,t),n},En=e=>e?tf(e):tf,K1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",VITE_SUPABASE_URL:"https://ptmfcodrlfufrzkxrtxg.supabase.co"};function W1(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const ei=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ei(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ei(r)(n)}}}},q1=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,m)=>({...m,...w}),...t},o=!1;const a=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...w)},r,s);const d=ei(i.serialize),h=()=>{const w=i.partialize({...r()});let m;const p=d({state:w,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{m=y});if(m)throw m;return p},f=s.setState;s.setState=(w,m)=>{f(w,m),h()};const g=e((...w)=>{n(...w),h()},r,s);let x;const v=()=>{var w;if(!u)return;o=!1,a.forEach(p=>p(r()));const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,r()))||void 0;return ei(u.getItem.bind(u))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var y;return x=i.merge(p,(y=r())!=null?y:g),n(x,!0),h()}).then(()=>{m==null||m(x,void 0),o=!0,l.forEach(p=>p(x))}).catch(p=>{m==null||m(void 0,p)})};return s.persist={setOptions:w=>{i={...i,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},v(),x||g},Y1=(e,t)=>(n,r,s)=>{let i={storage:W1(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...t},o=!1;const a=new Set,l=new Set;let u=i.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const d=()=>{const v=i.partialize({...r()});return u.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,w)=>{h(v,w),d()};const f=e((...v)=>{n(...v),d()},r,s);s.getInitialState=()=>f;let g;const x=()=>{var v,w;if(!u)return;o=!1,a.forEach(p=>{var y;return p((y=r())!=null?y:f)});const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(v=r())!=null?v:f))||void 0;return ei(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var y;const[b,k]=p;if(g=i.merge(k,(y=r())!=null?y:f),n(g,!0),b)return d()}).then(()=>{m==null||m(g,void 0),g=r(),o=!0,l.forEach(p=>p(g))}).catch(p=>{m==null||m(void 0,p)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||x(),g||f},J1=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((K1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),q1(e,t)):Y1(e,t),ga=J1,Q1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Le(async()=>{const{default:r}=await Promise.resolve().then(()=>Qr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Wu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class X1 extends Wu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Z1 extends Wu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ek extends Wu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wc||(wc={}));var tk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class nk{constructor(t,{headers:n={},customFetch:r,region:s=wc.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Q1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return tk(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(x=>{throw new X1(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Z1(d);if(!d.ok)throw new ek(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Be={},qu={},ya={},pi={},va={},xa={},rk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Br=rk();const sk=Br.fetch,k0=Br.fetch.bind(Br),_0=Br.Headers,ik=Br.Request,ok=Br.Response,Qr=Object.freeze(Object.defineProperty({__proto__:null,Headers:_0,Request:ik,Response:ok,default:k0,fetch:sk},Symbol.toStringTag,{value:"Module"})),ak=zv(Qr);var wa={};Object.defineProperty(wa,"__esModule",{value:!0});let lk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};wa.default=lk;var S0=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xa,"__esModule",{value:!0});const ck=S0(ak),uk=S0(wa);let dk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ck.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&v===""?(f=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new uk.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};xa.default=dk;var hk=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});const fk=hk(xa);let pk=class extends fk.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};va.default=pk;var mk=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pi,"__esModule",{value:!0});const gk=mk(va);let yk=class extends gk.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};pi.default=yk;var vk=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const us=vk(pi);let xk=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new us.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new us.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new us.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new us.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ya.default=xk;var ba={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.version=void 0;ka.version="0.0.0-automated";Object.defineProperty(ba,"__esModule",{value:!0});ba.DEFAULT_HEADERS=void 0;const wk=ka;ba.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${wk.version}`};var j0=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qu,"__esModule",{value:!0});const bk=j0(ya),kk=j0(pi),_k=ba;let Sk=class E0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},_k.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new bk.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new E0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new kk.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};qu.default=Sk;var Xr=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const C0=Xr(qu);Be.PostgrestClient=C0.default;const T0=Xr(ya);Be.PostgrestQueryBuilder=T0.default;const N0=Xr(pi);Be.PostgrestFilterBuilder=N0.default;const P0=Xr(va);Be.PostgrestTransformBuilder=P0.default;const A0=Xr(xa);Be.PostgrestBuilder=A0.default;const R0=Xr(wa);Be.PostgrestError=R0.default;var jk=Be.default={PostgrestClient:C0.default,PostgrestQueryBuilder:T0.default,PostgrestFilterBuilder:N0.default,PostgrestTransformBuilder:P0.default,PostgrestBuilder:A0.default,PostgrestError:R0.default};const{PostgrestClient:Ek,PostgrestQueryBuilder:l2,PostgrestFilterBuilder:c2,PostgrestTransformBuilder:u2,PostgrestBuilder:d2,PostgrestError:h2}=jk,Ck="2.11.2",Tk={"X-Client-Info":`realtime-js/${Ck}`},Nk="1.0.0",I0=1e4,Pk=1e3;var Ir;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ir||(Ir={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var bc;(function(e){e.websocket="websocket"})(bc||(bc={}));var Ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ln||(Ln={}));class Ak{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class O0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(X||(X={}));const nf=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Rk(o,e,t,s),i),{})},Rk=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?M0(i,o):kc(o)},M0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Lk(t,n)}switch(e){case X.bool:return Ik(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Ok(t);case X.json:case X.jsonb:return Mk(t);case X.timestamp:return Dk(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return kc(t);default:return kc(t)}},kc=e=>e,Ik=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ok=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Mk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Lk=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>M0(t,a))}return e},Dk=e=>typeof e=="string"?e.replace(" ","T"):e,L0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ll{constructor(t,n,r={},s=I0){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rf||(rf={}));class Ts{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ts.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ts.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ts.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),g=h.map(w=>w.presence_ref),x=d.filter(w=>g.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);x.length>0&&(a[u]=x),v.length>0&&(l[u]=v)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sf||(sf={}));var of;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(of||(of={}));var At;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(At||(At={}));class Yu{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ll(this,pt.join,this.params,this.timeout),this.rejoinTimer=new O0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ts(this),this.broadcastEndpointURL=L0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(At.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(At.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(At.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let v=0;v<g;v++){const w=f[v],{filter:{event:m,schema:p,table:y,filter:b}}=w,k=d&&d[v];if(k&&k.event===m&&k.schema===p&&k.table===y&&k.filter===b)x.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),t==null||t(At.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(At.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(At.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(At.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new ll(this,pt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ll(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=pt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,v,w;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,v,w,m,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,k=(x=g.filter)===null||x===void 0?void 0:x.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:v,table:w,commit_timestamp:m,type:p,errors:y}=x;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:m,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(x))}g.callback(f,r)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Yu.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=nf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=nf(t.columns,t.old_record)),n}}const Fk=()=>{},$k=typeof WebSocket<"u",Vk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Uk{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Tk,this.params={},this.timeout=I0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Fk,this.conn=null,this.sendBuffer=[],this.serializer=new Ak,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Le(async()=>{const{default:l}=await Promise.resolve().then(()=>Qr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${bc.websocket}`,this.httpEndpoint=L0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new O0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if($k){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new zk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Le(async()=>{const{default:t}=await import("./browser-lNNFiYcz.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Nk}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return Ln.Connecting;case Ir.open:return Ln.Open;case Ir.closing:return Ln.Closing;default:return Ln.Closed}}isConnected(){return this.connectionState()===Ln.Open}channel(t,n={config:{}}){const r=new Yu(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(pt.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Pk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Vk],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class zk{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ir.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Ju extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Bk extends Ju{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _c extends Ju{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Hk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const D0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Le(async()=>{const{default:r}=await Promise.resolve().then(()=>Qr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Gk=()=>Hk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Le(()=>Promise.resolve().then(()=>Qr),void 0)).Response:Response}),Sc=e=>{if(Array.isArray(e))return e.map(n=>Sc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Sc(r)}),t};var er=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const cl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kk=(e,t,n)=>er(void 0,void 0,void 0,function*(){const r=yield Gk();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Bk(cl(s),e.status||500))}).catch(s=>{t(new _c(cl(s),s))}):t(new _c(cl(e),e))}),Wk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function mi(e,t,n,r,s,i){return er(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Wk(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Kk(l,a,r))})})}function Vo(e,t,n,r){return er(this,void 0,void 0,function*(){return mi(e,"GET",t,n,r)})}function nn(e,t,n,r,s){return er(this,void 0,void 0,function*(){return mi(e,"POST",t,r,s,n)})}function qk(e,t,n,r,s){return er(this,void 0,void 0,function*(){return mi(e,"PUT",t,r,s,n)})}function Yk(e,t,n,r){return er(this,void 0,void 0,function*(){return mi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function F0(e,t,n,r,s){return er(this,void 0,void 0,function*(){return mi(e,"DELETE",t,r,s,n)})}var Ue=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Jk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},af={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qk{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=D0(s)}uploadOrUpdate(t,n,r,s){return Ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},af),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:af.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield nn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ju("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield nn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ue(this,void 0,void 0,function*(){try{const s=yield nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}download(t,n){return Ue(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Vo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}})}info(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Vo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Sc(r),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}exists(t){return Ue(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Yk(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ye(r)&&r instanceof _c){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield F0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ue(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Jk),n),{prefix:t||""});return{data:yield nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Xk="2.7.1",Zk={"X-Client-Info":`storage-js/${Xk}`};var sr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class e_{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Zk),n),this.fetch=D0(r)}listBuckets(){return sr(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ye(t))return{data:null,error:t};throw t}})}getBucket(t){return sr(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return sr(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return sr(this,void 0,void 0,function*(){try{return{data:yield qk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}emptyBucket(t){return sr(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}deleteBucket(t){return sr(this,void 0,void 0,function*(){try{return{data:yield F0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}}class t_ extends e_{constructor(t,n={},r){super(t,n,r)}from(t){return new Qk(this.url,this.headers,t,this.fetch)}}const n_="2.49.1";let gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";const r_={"X-Client-Info":`supabase-js-${gs}/${n_}`},s_={headers:r_},i_={schema:"public"},o_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a_={};var l_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const c_=e=>{let t;return e?t=e:typeof fetch>"u"?t=k0:t=fetch,(...n)=>t(...n)},u_=()=>typeof Headers>"u"?_0:Headers,d_=(e,t,n)=>{const r=c_(n),s=u_();return(i,o)=>l_(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var h_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function f_(e){return e.replace(/\/$/,"")}function p_(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>h_(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const $0="2.68.0",lr=30*1e3,jc=3,ul=jc*lr,m_="http://localhost:9999",g_="supabase.auth.token",y_={"X-Client-Info":`gotrue-js/${$0}`},Ec="X-Supabase-Api-Version",V0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function v_(e){return Math.round(Date.now()/1e3)+e}function x_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const wt=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},Ns=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function w_(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const U0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Le(async()=>{const{default:r}=await Promise.resolve().then(()=>Qr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},b_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",z0=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ui=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},zi=async(e,t)=>{await e.removeItem(t)};function k_(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class _a{constructor(){this.promise=new _a.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}_a.promiseConstructor=Promise;function lf(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(k_(r))}async function __(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function S_(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function j_(e){return("0"+e.toString(16)).substr(-2)}function E_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,j_).join("")}async function C_(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function T_(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function N_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await C_(e);return T_(n)}async function ir(e,t,n=!1){const r=E_();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await z0(e,`${t}-code-verifier`,s);const i=await N_(r);return[i,r===i?"plain":"s256"]}const P_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function A_(e){const t=e.headers.get(Ec);if(!t||!t.match(P_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Qu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class R_ extends Qu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function I_(e){return V(e)&&e.name==="AuthApiError"}class B0 extends Qu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class tr extends Qu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Qt extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function O_(e){return V(e)&&e.name==="AuthSessionMissingError"}class dl extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bi extends tr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Hi extends tr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M_(e){return V(e)&&e.name==="AuthImplicitGrantRedirectError"}class cf extends tr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cc extends tr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hl(e){return V(e)&&e.name==="AuthRetryableFetchError"}class uf extends tr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var L_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const In=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D_=[502,503,504];async function df(e){var t;if(!b_(e))throw new Cc(In(e),0);if(D_.includes(e.status))throw new Cc(In(e),e.status);let n;try{n=await e.json()}catch(i){throw new B0(In(i),i)}let r;const s=A_(e);if(s&&s.getTime()>=V0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uf(In(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uf(In(n),e.status,n.weak_password.reasons);throw new R_(In(n),e.status||500,r)}const F_=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function G(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ec]||(i[Ec]=V0["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await $_(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function $_(e,t,n,r,s,i){const o=F_(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Cc(In(l),0)}if(a.ok||await df(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await df(l)}}function Xt(e){var t;let n=null;B_(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=v_(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function hf(e){const t=Xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function an(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function V_(e){return{data:e,error:null}}function U_(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=L_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function z_(e){return e}function B_(e){return e.access_token&&e.refresh_token&&e.expires_in}var H_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class G_{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=U0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=H_(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:U_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:an})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:z_});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(V(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:an})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:an})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const K_={getItem:e=>Ns()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ns()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ns()&&globalThis.localStorage.removeItem(e)}};function ff(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function W_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const or={debug:!!(globalThis&&Ns()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class H0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class q_ extends H0{}async function Y_(e,t,n){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new q_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}W_();const J_={url:m_,storageKey:g_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:y_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pf(e,t,n){return await n()}class ti{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ti.nextInstanceID,ti.nextInstanceID+=1,this.instanceID>0&&wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},J_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new G_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=U0(s.fetch),this.lock=s.lock||pf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Y_:this.lock=pf,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ns()?this.storage=K_:(this.memoryStorage={},this.storage=ff(this.memoryStorage)):(this.memoryStorage={},this.storage=ff(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=w_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),wt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),M_(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new B0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await ir(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:x},xform:Xt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xt})}else throw new Bi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:hf})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:hf})}else throw new Bi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new dl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Ui(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Xt});if(await zi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new dl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new dl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ir(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Bi("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ir(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:V_})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Qt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await G(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await G(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Bi("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ul:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:an}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:an})})}catch(n){if(V(n))return O_(n)&&(await this._removeSession(),await zi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Qt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ir(this.storage,this.storageKey));const{data:u,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:an});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return lf(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=lf(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Qt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!wt())throw new Hi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Hi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cf("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Hi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(V(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ui(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(I_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await zi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=x_(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ir(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return wt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await S_(async s=>(s>0&&await __(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&hl(i)&&Date.now()+o-r<lr})}catch(r){if(this._debug(n,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),wt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ui(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ul;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ul}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),hl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _a;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),V(i)){const o={session:null,error:i};return hl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await z0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await zi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),lr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lr}ms, refresh threshold is ${jc} ticks`),s<=jc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof H0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ir(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}ti.nextInstanceID=0;const Q_=ti;class X_ extends Q_{constructor(t){super(t)}}var Z_=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class eS{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=f_(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:i_,realtime:a_,auth:Object.assign(Object.assign({},o_),{storageKey:l}),global:s_},d=p_(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=d_(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Ek(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new nk(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new t_(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Z_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new X_({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Uk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tS=(e,t,n)=>new eS(e,t,n),nS="https://ptmfcodrlfufrzkxrtxg.supabase.co",rS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0bWZjb2RybGZ1ZnJ6a3hydHhnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NjQwNzIsImV4cCI6MjA2NTQ0MDA3Mn0.puJpZamN2bL2hVf3jfsFxAgKifzWnlkMSNnUtVtvAfI",H=tS(nS,rS),Uo=new Map,Xu=new Map;let sS=1;function Zu(e){var s,i;let t=Uo.get(e.id);t||(t=sS++,Uo.set(e.id,t),Xu.set(t,e.id));const n=e.reviews||[],r=n.length>0?n.reduce((o,a)=>o+a.rating,0)/n.length:0;return{id:t,title:e.title,description:e.description,image:e.image,prepTime:e.prep_time,difficulty:e.difficulty,rating:Number(r.toFixed(1)),category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutritionFacts:{calories:Number(e.nutrition_facts.calories),protein:Number(e.nutrition_facts.protein),carbs:Number(e.nutrition_facts.carbs),fat:Number(e.nutrition_facts.fat),fiber:Number(e.nutrition_facts.fiber)},reviews:n.map(o=>({id:o.id,userId:o.user_id,userName:o.profiles.full_name,rating:o.rating,comment:o.comment||"",date:new Date(o.created_at).toISOString().split("T")[0]})),authorId:e.author_id,authorName:(s=e.profiles)==null?void 0:s.full_name,authorType:(i=e.profiles)==null?void 0:i.user_type,createdAt:e.created_at,updatedAt:e.updated_at}}function gi(e){return Xu.get(e)||null}async function G0(e){console.log("Creating user profile:",e);const{data:t,error:n}=await H.from("profiles").insert([e]).select().single();if(n)throw console.error("Error creating user profile:",n),n;return console.log("User profile created successfully:",t),t}async function iS(e,t){const{data:n,error:r}=await H.from("profiles").update({full_name:t.name,user_type:t.type,email:t.email}).eq("id",e).select().single();if(r)throw r;return n}async function Tc(e){console.log("Getting user profile for ID:",e);const{data:t,error:n}=await H.from("profiles").select("*").eq("id",e).single();if(n)throw console.error("Error getting user profile:",n),n;return console.log("User profile retrieved:",t),t}async function K0(e){console.log("Creating recipe:",e);const{data:t,error:n}=await H.from("recipes").insert([{title:e.title,description:e.description,image:e.image,prep_time:e.prepTime,difficulty:e.difficulty,category:e.category,ingredients:e.ingredients,instructions:e.instructions,nutrition_facts:{calories:Number(e.nutritionFacts.calories),protein:Number(e.nutritionFacts.protein),carbs:Number(e.nutritionFacts.carbs),fat:Number(e.nutritionFacts.fat),fiber:Number(e.nutritionFacts.fiber)},author_id:e.authorId}]).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(n)throw console.error("Error creating recipe:",n),n;return console.log("Recipe created successfully:",t),Zu(t)}async function W0(e,t){const n=gi(e);if(!n)throw new Error("Receita no encontrada");const{data:r,error:s}=await H.from("recipes").update({title:t.title,description:t.description,image:t.image,prep_time:t.prepTime,difficulty:t.difficulty,category:t.category,ingredients:t.ingredients,instructions:t.instructions,nutrition_facts:t.nutritionFacts?{calories:Number(t.nutritionFacts.calories),protein:Number(t.nutritionFacts.protein),carbs:Number(t.nutritionFacts.carbs),fat:Number(t.nutritionFacts.fat),fiber:Number(t.nutritionFacts.fiber)}:void 0}).eq("id",n).select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).single();if(s)throw s;return Zu(r)}async function q0(e){const t=gi(e);if(!t)throw new Error("Receita no encontrada");const{error:n}=await H.from("recipes").delete().eq("id",t);if(n)throw n;Uo.delete(t),Xu.delete(e)}async function Y0(){console.log("Fetching recipes from Supabase...");const{data:e,error:t}=await H.from("recipes").select(`
      *,
      profiles!recipes_author_id_fkey(full_name, user_type),
      reviews(
        id,
        rating,
        comment,
        created_at,
        user_id,
        profiles!reviews_user_id_fkey(full_name)
      )
    `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),t;if(console.log("Raw recipes from database:",(e==null?void 0:e.length)||0),!e||e.length===0)return console.log("No recipes found in database"),[];const n=e.map(Zu);return console.log("Converted recipes:",n.length),n}async function J0(e,t){const n=gi(e);if(!n)throw new Error("Receita no encontrada");console.log("Adding review to recipe:",{recipeId:e,uuid:n,review:t});const{data:r,error:s}=await H.from("reviews").insert([{recipe_id:n,user_id:t.user_id,rating:t.rating,comment:t.comment}]).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(s)throw console.error("Error adding review:",s),s;return console.log("Review added successfully:",r),r}async function Q0(e,t){console.log("Updating review:",{reviewId:e,updates:t});const{data:n,error:r}=await H.from("reviews").update({rating:t.rating,comment:t.comment}).eq("id",e).select(`
      *,
      profiles!reviews_user_id_fkey(full_name)
    `).single();if(r)throw console.error("Error updating review:",r),r;return console.log("Review updated successfully:",n),n}async function X0(e){console.log("Deleting review:",e);const{error:t}=await H.from("reviews").delete().eq("id",e);if(t)throw console.error("Error deleting review:",t),t;console.log("Review deleted successfully")}async function Z0(e,t){const n=gi(t);if(!n)throw new Error("Receita no encontrada");const{error:r}=await H.from("favorites").insert([{user_id:e,recipe_id:n}]);if(r)throw console.error("Error adding to favorites:",r),r}async function ey(e,t){const n=gi(t);if(!n)throw new Error("Receita no encontrada");const{error:r}=await H.from("favorites").delete().eq("user_id",e).eq("recipe_id",n);if(r)throw console.error("Error removing from favorites:",r),r}async function ty(e){console.log("Fetching favorites for user:",e);const{data:t,error:n}=await H.from("favorites").select("recipe_id").eq("user_id",e);if(n)throw console.error("Error fetching favorites:",n),n;console.log("Raw favorites data:",t);const r=[];return t==null||t.forEach(s=>{const i=Uo.get(s.recipe_id);i&&r.push(i)}),console.log("Converted favorite IDs:",r),r}async function ny(e){try{console.log("Checking if email exists:",e);const{data:t,error:n}=await H.from("profiles").select("email").eq("email",e.toLowerCase().trim()).single();return n?n.code==="PGRST116"?(console.log("Email not found in profiles table"),!1):(console.error("Error checking email:",n),!1):(console.log("Email found in profiles table:",!!t),!!t)}catch(t){return console.error("Error checking email existence:",t),!1}}async function ry(e){console.log("Sending password reset email to:",e);const{error:t}=await H.auth.resetPasswordForEmail(e.toLowerCase().trim(),{redirectTo:`${window.location.origin}/reset-password`});if(t)throw console.error("Error sending password reset email:",t),t.message.includes("Email rate limit exceeded")?new Error("Muitas tentativas de recuperao. Aguarde alguns minutos antes de tentar novamente."):t.message.includes("For security purposes")?new Error("Por motivos de segurana, aguarde alguns minutos antes de solicitar outro email."):t.message.includes("Invalid email")?new Error("Email invlido. Verifique o formato do email."):t.message.includes("User not found")?new Error("Email no encontrado. Verifique se o email est correto ou crie uma conta."):new Error("Erro ao enviar email de recuperao. Tente novamente em alguns minutos.");console.log("Password reset email sent successfully")}async function sy(e){console.log("Updating user password");const{error:t}=await H.auth.updateUser({password:e});if(t)throw console.error("Error updating password:",t),t.message.includes("session_not_found")?new Error("Sesso expirada. Solicite um novo link de recuperao."):t.message.includes("same_password")?new Error("A nova senha deve ser diferente da senha atual."):t.message.includes("Password should be at least")?new Error("A senha deve ter pelo menos 6 caracteres."):new Error("Erro ao atualizar senha. Tente novamente.");console.log("Password updated successfully")}async function iy(){try{const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token"),n=e.get("type");if(!t||n!=="recovery")return{valid:!1};const{data:{user:r},error:s}=await H.auth.getUser(t);if(s||!r)return console.error("Invalid recovery token:",s),{valid:!1};const{error:i}=await H.auth.setSession({access_token:t,refresh_token:e.get("refresh_token")||""});return i?(console.error("Error setting session:",i),{valid:!1}):{valid:!0,user:r}}catch(e){return console.error("Error validating recovery token:",e),{valid:!1}}}const oS=Object.freeze(Object.defineProperty({__proto__:null,addReview:J0,addToFavorites:Z0,checkEmailExists:ny,createRecipe:K0,createUserProfile:G0,deleteRecipe:q0,deleteReview:X0,getFavorites:ty,getRecipes:Y0,getUserProfile:Tc,removeFromFavorites:ey,sendPasswordResetEmail:ry,updatePassword:sy,updateRecipe:W0,updateReview:Q0,updateUserProfile:iS,validateRecoveryToken:iy},Symbol.toStringTag,{value:"Module"})),z=En(e=>({message:null,type:"info",showToast:(t,n)=>e({message:t,type:n}),hideToast:()=>e({message:null})})),ke=En()(ga((e,t)=>({user:null,token:null,isAuthenticated:!1,error:null,loading:!1,initializeAuth:async()=>{try{console.log("Initializing auth...");const{data:{session:n},error:r}=await H.auth.getSession();if(r){console.error("Error getting session:",r),e({user:null,isAuthenticated:!1,token:null});return}if(n!=null&&n.user){console.log("Session found, getting profile...");try{const s=await Tc(n.user.id),i={id:n.user.id,email:s.email,name:s.full_name,type:s.user_type,profile:{}};e({user:i,isAuthenticated:!0,token:n.access_token});const{useRecipesStore:o}=await Le(async()=>{const{useRecipesStore:l}=await Promise.resolve().then(()=>Ji);return{useRecipesStore:l}},void 0);o.getState().initializeAuth();const{useSubscriptionStore:a}=await Le(async()=>{const{useSubscriptionStore:l}=await Promise.resolve().then(()=>Gi);return{useSubscriptionStore:l}},void 0);a.getState().fetchUserSubscription(n.user.id)}catch(s){console.error("Error getting profile:",s),e({user:null,isAuthenticated:!1,token:null})}}else console.log("No session found"),e({user:null,isAuthenticated:!1,token:null})}catch(n){console.error("Error initializing auth:",n),e({user:null,isAuthenticated:!1,token:null})}},signIn:async(n,r)=>{var s;e({loading:!0,error:null});try{console.log("Attempting sign in...");const{data:i,error:o}=await H.auth.signInWithPassword({email:n,password:r});if(o){console.error("Sign in error:",o);let h="Erro ao fazer login";o.message.includes("Invalid login credentials")?h="Email ou senha incorretos. Verifique suas credenciais e tente novamente.":o.message.includes("Email not confirmed")?h="Email no confirmado. Verifique sua caixa de entrada.":o.message.includes("Too many requests")&&(h="Muitas tentativas de login. Tente novamente em alguns minutos."),z.getState().showToast(h,"error"),e({error:h});return}if(!i.user)throw new Error("No user returned from Supabase");console.log("Sign in successful, getting profile...");const a=await Tc(i.user.id),l={id:i.user.id,email:a.email,name:a.full_name,type:a.user_type,profile:{}};e({user:l,isAuthenticated:!0,token:((s=i.session)==null?void 0:s.access_token)||null}),z.getState().showToast("Login realizado com sucesso!","success");const{useRecipesStore:u}=await Le(async()=>{const{useRecipesStore:h}=await Promise.resolve().then(()=>Ji);return{useRecipesStore:h}},void 0);u.getState().initializeAuth();const{useSubscriptionStore:d}=await Le(async()=>{const{useSubscriptionStore:h}=await Promise.resolve().then(()=>Gi);return{useSubscriptionStore:h}},void 0);d.getState().fetchUserSubscription(i.user.id)}catch(i){console.error("Sign in error:",i);const o=i instanceof Error?i.message:"Sign in failed";e({error:o}),z.getState().showToast(o,"error")}finally{e({loading:!1})}},signUp:async(n,r,s,i)=>{var o;e({loading:!0,error:null});try{console.log("Attempting sign up...");const{data:a,error:l}=await H.auth.signUp({email:n,password:r,options:{data:{full_name:s,user_type:i}}});if(l){console.error("Sign up error:",l);let f="Erro ao criar conta";l.message.includes("User already registered")?f="Este email j est cadastrado. Tente fazer login ou use outro email.":l.message.includes("Password should be at least")?f="A senha deve ter pelo menos 6 caracteres.":l.message.includes("Invalid email")?f="Email invlido. Verifique o formato do email.":l.message.includes("duplicate key value")&&(f="Este email j est cadastrado. Tente fazer login."),z.getState().showToast(f,"error"),e({error:f});return}if(!a.user)throw new Error("No user returned from Supabase");console.log("Sign up successful, creating profile..."),await G0({id:a.user.id,email:n,full_name:s,user_type:i});const u={id:a.user.id,email:n,name:s,type:i,profile:{}};e({user:u,isAuthenticated:!0,token:((o=a.session)==null?void 0:o.access_token)||null}),z.getState().showToast("Conta criada com sucesso!","success");const{useRecipesStore:d}=await Le(async()=>{const{useRecipesStore:f}=await Promise.resolve().then(()=>Ji);return{useRecipesStore:f}},void 0);d.getState().initializeAuth();const{useSubscriptionStore:h}=await Le(async()=>{const{useSubscriptionStore:f}=await Promise.resolve().then(()=>Gi);return{useSubscriptionStore:f}},void 0);h.getState().fetchUserSubscription(a.user.id)}catch(a){console.error("Sign up error:",a);const l=a instanceof Error?a.message:"Sign up failed";e({error:l}),z.getState().showToast(l,"error")}finally{e({loading:!1})}},signOut:async()=>{var n,r;try{console.log("Signing out..."),e({user:null,token:null,isAuthenticated:!1});const{useRecipesStore:s}=await Le(async()=>{const{useRecipesStore:a}=await Promise.resolve().then(()=>Ji);return{useRecipesStore:a}},void 0);s.getState().clearUserData();const{useSubscriptionStore:i}=await Le(async()=>{const{useSubscriptionStore:a}=await Promise.resolve().then(()=>Gi);return{useSubscriptionStore:a}},void 0);(r=(n=i.getState()).reset)==null||r.call(n);const{error:o}=await H.auth.signOut();o&&console.error("Supabase signOut error:",o),z.getState().showToast("Logout realizado com sucesso!","info")}catch(s){console.error("Error signing out:",s),e({user:null,token:null,isAuthenticated:!1}),z.getState().showToast("Logout realizado","info")}},updateUserProfile:async n=>{const{user:r}=t();if(r)try{const{updateUserProfile:s}=await Le(async()=>{const{updateUserProfile:i}=await Promise.resolve().then(()=>oS);return{updateUserProfile:i}},void 0);await s(r.id,n),e({user:{...r,...n}}),z.getState().showToast("Perfil atualizado com sucesso!","success")}catch(s){throw console.error("Error updating profile:",s),z.getState().showToast("Erro ao atualizar perfil","error"),s}},clearError:()=>e({error:null}),isNutritionist:()=>{var n;return((n=t().user)==null?void 0:n.type)==="Nutritionist"}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}));async function aS(){const{data:e,error:t}=await H.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(t)throw t;return e||[]}async function lS(e){const{data:t,error:n}=await H.from("user_subscriptions").select(`
      *,
      plan:subscription_plans(*)
    `).eq("user_id",e).eq("status","active").single();if(n){if(n.code==="PGRST116")return null;throw n}return t}async function cS(e){const{data:t,error:n}=await H.from("user_subscriptions").insert([e]).select(`
      *,
      plan:subscription_plans(*)
    `).single();if(n)throw n;return t}const ed=En()(ga((e,t)=>({plans:[],userSubscription:null,loading:!1,error:null,fetchPlans:async()=>{e({loading:!0,error:null});try{const n=await aS();e({plans:n,loading:!1})}catch(n){console.error("Error fetching plans:",n);const r=n instanceof Error?n.message:"Erro ao carregar planos";e({error:r,loading:!1}),z.getState().showToast("Erro ao carregar planos de assinatura","error")}},fetchUserSubscription:async n=>{try{const r=await lS(n);e({userSubscription:r})}catch(r){console.error("Error fetching user subscription:",r),e({userSubscription:null})}},hasFeatureAccess:n=>{const{userSubscription:r}=t();return!r||!r.plan?!1:r.plan.features.includes(n)},isPremium:()=>t().hasFeatureAccess("ai_mentoring"),createSubscription:async n=>{e({loading:!0,error:null});try{const r=await cS(n);e({userSubscription:r,loading:!1}),z.getState().showToast("Assinatura ativada com sucesso!","success")}catch(r){console.error("Error creating subscription:",r);const s=r instanceof Error?r.message:"Erro ao criar assinatura";throw e({error:s,loading:!1}),z.getState().showToast("Erro ao ativar assinatura","error"),r}},reset:()=>e({plans:[],userSubscription:null,loading:!1,error:null})}),{name:"subscription-storage",partialize:e=>({userSubscription:e.userSubscription})})),Gi=Object.freeze(Object.defineProperty({__proto__:null,useSubscriptionStore:ed},Symbol.toStringTag,{value:"Module"})),td=En(e=>({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:"",setCategory:t=>e({category:t}),setSearchQuery:t=>e({searchQuery:t}),setDifficulty:t=>e({difficulty:t}),setPrepTimeRange:t=>e({prepTimeRange:t}),setMinRating:t=>e({minRating:t}),setSortBy:t=>e({sortBy:t}),resetFilters:()=>e({category:"All",searchQuery:"",difficulty:null,prepTimeRange:null,minRating:null,sortBy:""})}));function uS(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function Sa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Nc=e=>Array.isArray(e);function oy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ni(e){return typeof e=="string"||Array.isArray(e)}function mf(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function nd(e,t,n,r){if(typeof t=="function"){const[s,i]=mf(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=mf(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function ja(e,t,n){const r=e.getProps();return nd(r,t,n!==void 0?n:r.custom,e)}const rd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sd=["initial",...rd],yi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nr=new Set(yi),Dt=e=>e*1e3,Ft=e=>e/1e3,dS={type:"spring",stiffness:500,damping:25,restSpeed:10},hS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fS={type:"keyframes",duration:.8},pS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mS=(e,{keyframes:t})=>t.length>2?fS:nr.has(e)?e.startsWith("scale")?hS(t[1]):dS:pS;function id(e,t){return e?e[t]||e.default||e:void 0}const gS={skipAnimations:!1,useManualTiming:!1},yS=e=>e!==null;function Ea(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(yS),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Ie=e=>e;function vS(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const g=h&&r?t:n;return d&&i.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,s&&(s=!1,l.process(u))}};return l}const Ki=["read","resolveKeyframes","update","preRender","render","postRender"],xS=40;function ay(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ki.reduce((m,p)=>(m[p]=vS(i),m),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,g=()=>{const m=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,xS),1),s.timestamp=m,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},x=()=>{n=!0,r=!0,s.isProcessing||e(g)};return{schedule:Ki.reduce((m,p)=>{const y=o[p];return m[p]=(b,k=!1,E=!1)=>(n||x(),y.schedule(b,k,E)),m},{}),cancel:m=>{for(let p=0;p<Ki.length;p++)o[Ki[p]].cancel(m)},state:s,steps:o}}const{schedule:Q,cancel:bn,state:be,steps:fl}=ay(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ie,!0),ly=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,wS=1e-7,bS=12;function kS(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=ly(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>wS&&++a<bS);return o}function vi(e,t,n,r){if(e===t&&n===r)return Ie;const s=i=>kS(i,0,1,e,n);return i=>i===0||i===1?i:ly(s(i),t,r)}const cy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uy=e=>t=>1-e(1-t),dy=vi(.33,1.53,.69,.99),od=uy(dy),hy=cy(od),fy=e=>(e*=2)<1?.5*od(e):.5*(2-Math.pow(2,-10*(e-1))),ad=e=>1-Math.sin(Math.acos(e)),py=uy(ad),my=cy(ad),gy=e=>/^0[^.\s]+$/u.test(e);function _S(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gy(e):!0}let Pc=Ie;const yy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),vy=e=>t=>typeof t=="string"&&t.startsWith(e),xy=vy("--"),SS=vy("var(--"),ld=e=>SS(e)?jS.test(e.split("/*")[0].trim()):!1,jS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ES=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CS(e){const t=ES.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function wy(e,t,n=1){const[r,s]=CS(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return yy(o)?parseFloat(o):o}return ld(s)?wy(s,t,n+1):s}const Gt=(e,t,n)=>n>t?t:n<e?e:n,Zr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ri={...Zr,transform:e=>Gt(0,1,e)},Wi={...Zr,default:1},xi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zt=xi("deg"),jt=xi("%"),L=xi("px"),TS=xi("vh"),NS=xi("vw"),gf={...jt,parse:e=>jt.parse(e)/100,transform:e=>jt.transform(e*100)},PS=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),yf=e=>e===Zr||e===L,vf=(e,t)=>parseFloat(e.split(", ")[t]),xf=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return vf(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?vf(i[1],e):0}},AS=new Set(["x","y","z"]),RS=yi.filter(e=>!AS.has(e));function IS(e){const t=[];return RS.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Hr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:xf(4,13),y:xf(5,14)};Hr.translateX=Hr.x;Hr.translateY=Hr.y;const by=e=>t=>t.test(e),OS={test:e=>e==="auto",parse:e=>e},ky=[Zr,L,jt,Zt,NS,TS,OS],wf=e=>ky.find(by(e)),Hn=new Set;let Ac=!1,Rc=!1;function _y(){if(Rc){const e=Array.from(Hn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=IS(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rc=!1,Ac=!1,Hn.forEach(e=>e.complete()),Hn.clear()}function Sy(){Hn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Rc=!0)})}function MS(){Sy(),_y()}class cd{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Hn.add(this),Ac||(Ac=!0,Q.read(Sy),Q.resolveKeyframes(_y))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Hn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Hn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ps=e=>Math.round(e*1e5)/1e5,ud=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LS(e){return e==null}const DS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dd=(e,t)=>n=>!!(typeof n=="string"&&DS.test(n)&&n.startsWith(e)||t&&!LS(n)&&Object.prototype.hasOwnProperty.call(n,t)),jy=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(ud);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},FS=e=>Gt(0,255,e),pl={...Zr,transform:e=>Math.round(FS(e))},Un={test:dd("rgb","red"),parse:jy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+pl.transform(e)+", "+pl.transform(t)+", "+pl.transform(n)+", "+Ps(ri.transform(r))+")"};function $S(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ic={test:dd("#"),parse:$S,transform:Un.transform},br={test:dd("hsl","hue"),parse:jy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+jt.transform(Ps(t))+", "+jt.transform(Ps(n))+", "+Ps(ri.transform(r))+")"},Ne={test:e=>Un.test(e)||Ic.test(e)||br.test(e),parse:e=>Un.test(e)?Un.parse(e):br.test(e)?br.parse(e):Ic.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Un.transform(e):br.transform(e)},VS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function US(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ud))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(VS))===null||n===void 0?void 0:n.length)||0)>0}const Ey="number",Cy="color",zS="var",BS="var(",bf="${}",HS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function si(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(HS,l=>(Ne.test(l)?(r.color.push(i),s.push(Cy),n.push(Ne.parse(l))):l.startsWith(BS)?(r.var.push(i),s.push(zS),n.push(l)):(r.number.push(i),s.push(Ey),n.push(parseFloat(l))),++i,bf)).split(bf);return{values:n,split:a,indexes:r,types:s}}function Ty(e){return si(e).values}function Ny(e){const{split:t,types:n}=si(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===Ey?i+=Ps(s[o]):a===Cy?i+=Ne.transform(s[o]):i+=s[o]}return i}}const GS=e=>typeof e=="number"?0:e;function KS(e){const t=Ty(e);return Ny(e)(t.map(GS))}const kn={test:US,parse:Ty,createTransformer:Ny,getAnimatableNone:KS},WS=new Set(["brightness","contrast","saturate","opacity"]);function qS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ud)||[];if(!r)return e;const s=n.replace(r,"");let i=WS.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const YS=/\b([a-z-]*)\(.*?\)/gu,Oc={...kn,getAnimatableNone:e=>{const t=e.match(YS);return t?t.map(qS).join(" "):e}},JS={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,radius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,top:L,right:L,bottom:L,left:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,backgroundPositionX:L,backgroundPositionY:L},QS={rotate:Zt,rotateX:Zt,rotateY:Zt,rotateZ:Zt,scale:Wi,scaleX:Wi,scaleY:Wi,scaleZ:Wi,skew:Zt,skewX:Zt,skewY:Zt,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:ri,originX:gf,originY:gf,originZ:L},kf={...Zr,transform:Math.round},hd={...JS,...QS,zIndex:kf,size:L,fillOpacity:ri,strokeOpacity:ri,numOctaves:kf},XS={...hd,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:Oc,WebkitFilter:Oc},fd=e=>XS[e];function Py(e,t){let n=fd(e);return n!==Oc&&(n=kn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ZS=new Set(["auto","none","0"]);function ej(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!ZS.has(i)&&si(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Py(n,s)}class Ay extends cd{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),ld(u))){const d=wy(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!PS.has(r)||t.length!==2)return;const[s,i]=t,o=wf(s),a=wf(i);if(o!==a)if(yf(o)&&yf(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)_S(t[s])&&r.push(s);r.length&&ej(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Hr[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function pd(e){return typeof e=="function"}let co;function tj(){co=void 0}const Et={now:()=>(co===void 0&&Et.set(be.isProcessing||gS.useManualTiming?be.timestamp:performance.now()),co),set:e=>{co=e,queueMicrotask(tj)}},_f=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kn.test(e)||e==="0")&&!e.startsWith("url("));function nj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function rj(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=_f(s,t),a=_f(i,t);return!o||!a?!1:nj(e)||(n==="spring"||pd(n))&&r}const sj=40;class Ry{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Et.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>sj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&MS(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Et.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!rj(t,r,s,i))if(o)this.options.duration=0;else{l==null||l(Ea(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Gr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Iy=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Gr(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Oy(e,t){return t?e*(1e3/t):0}const ij=5;function My(e,t,n){const r=Math.max(t-ij,0);return Oy(n-e(r),t-r)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ml=.001;function oj({duration:e=ce.duration,bounce:t=ce.bounce,velocity:n=ce.velocity,mass:r=ce.mass}){let s,i,o=1-t;o=Gt(ce.minDamping,ce.maxDamping,o),e=Gt(ce.minDuration,ce.maxDuration,Ft(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,g=Mc(u,o),x=Math.exp(-h);return ml-f/g*x},i=u=>{const h=u*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),v=Mc(Math.pow(u,2),o);return(-s(u)+ml>0?-1:1)*((f-g)*x)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-ml+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=lj(s,i,a);if(e=Dt(e),isNaN(l))return{stiffness:ce.stiffness,damping:ce.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const aj=12;function lj(e,t,n){let r=n;for(let s=1;s<aj;s++)r=r-e(r)/t(r);return r}function Mc(e,t){return e*Math.sqrt(1-t*t)}const Lc=2e4;function Ly(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Lc;)t+=n,r=e.next(t);return t>=Lc?1/0:t}const cj=["duration","bounce"],uj=["stiffness","damping","mass"];function Sf(e,t){return t.some(n=>e[n]!==void 0)}function dj(e){let t={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...e};if(!Sf(e,uj)&&Sf(e,cj))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Gt(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:ce.mass,stiffness:s,damping:i}}else{const n=oj(e);t={...t,...n,mass:ce.mass},t.isResolvedFromDuration=!0}return t}function Dy(e=ce.visualDuration,t=ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=dj({...n,velocity:-Ft(n.velocity||0)}),x=f||0,v=u/(2*Math.sqrt(l*d)),w=o-i,m=Ft(Math.sqrt(l/d)),p=Math.abs(w)<5;r||(r=p?ce.restSpeed.granular:ce.restSpeed.default),s||(s=p?ce.restDelta.granular:ce.restDelta.default);let y;if(v<1){const k=Mc(m,v);y=E=>{const C=Math.exp(-v*m*E);return o-C*((x+v*m*w)/k*Math.sin(k*E)+w*Math.cos(k*E))}}else if(v===1)y=k=>o-Math.exp(-m*k)*(w+(x+m*w)*k);else{const k=m*Math.sqrt(v*v-1);y=E=>{const C=Math.exp(-v*m*E),j=Math.min(k*E,300);return o-C*((x+v*m*w)*Math.sinh(j)+k*w*Math.cosh(j))/k}}const b={calculatedDuration:g&&h||null,next:k=>{const E=y(k);if(g)a.done=k>=h;else{let C=0;v<1&&(C=k===0?Dt(x):My(y,k,E));const j=Math.abs(C)<=r,I=Math.abs(o-E)<=s;a.done=j&&I}return a.value=a.done?o:E,a},toString:()=>{const k=Math.min(Ly(b),Lc),E=Iy(C=>b.next(k*C).value,k,30);return k+"ms "+E}};return b}function jf({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=j=>a!==void 0&&j<a||l!==void 0&&j>l,x=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let v=n*t;const w=h+v,m=o===void 0?w:o(w);m!==w&&(v=m-h);const p=j=>-v*Math.exp(-j/r),y=j=>m+p(j),b=j=>{const I=p(j),O=y(j);f.done=Math.abs(I)<=u,f.value=f.done?m:O};let k,E;const C=j=>{g(f.value)&&(k=j,E=Dy({keyframes:[f.value,x(f.value)],velocity:My(y,j,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:j=>{let I=!1;return!E&&k===void 0&&(I=!0,b(j),C(j)),k!==void 0&&j>=k?E.next(j-k):(!I&&b(j),f)}}}const hj=vi(.42,0,1,1),fj=vi(0,0,.58,1),Fy=vi(.42,0,.58,1),pj=e=>Array.isArray(e)&&typeof e[0]!="number",md=e=>Array.isArray(e)&&typeof e[0]=="number",Ef={linear:Ie,easeIn:hj,easeInOut:Fy,easeOut:fj,circIn:ad,circInOut:my,circOut:py,backIn:od,backInOut:hy,backOut:dy,anticipate:fy},Cf=e=>{if(md(e)){Pc(e.length===4);const[t,n,r,s]=e;return vi(t,n,r,s)}else if(typeof e=="string")return Pc(Ef[e]!==void 0),Ef[e];return e},mj=(e,t)=>n=>t(e(n)),$t=(...e)=>e.reduce(mj),oe=(e,t,n)=>e+(t-e)*n;function gl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function gj({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=gl(l,a,e+1/3),i=gl(l,a,e),o=gl(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function zo(e,t){return n=>n>0?t:e}const yl=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},yj=[Ic,Un,br],vj=e=>yj.find(t=>t.test(e));function Tf(e){const t=vj(e);if(!t)return!1;let n=t.parse(e);return t===br&&(n=gj(n)),n}const Nf=(e,t)=>{const n=Tf(e),r=Tf(t);if(!n||!r)return zo(e,t);const s={...n};return i=>(s.red=yl(n.red,r.red,i),s.green=yl(n.green,r.green,i),s.blue=yl(n.blue,r.blue,i),s.alpha=oe(n.alpha,r.alpha,i),Un.transform(s))},Dc=new Set(["none","hidden"]);function xj(e,t){return Dc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function wj(e,t){return n=>oe(e,t,n)}function gd(e){return typeof e=="number"?wj:typeof e=="string"?ld(e)?zo:Ne.test(e)?Nf:_j:Array.isArray(e)?$y:typeof e=="object"?Ne.test(e)?Nf:bj:zo}function $y(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>gd(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function bj(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=gd(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function kj(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const _j=(e,t)=>{const n=kn.createTransformer(t),r=si(e),s=si(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dc.has(e)&&!s.values.length||Dc.has(t)&&!r.values.length?xj(e,t):$t($y(kj(r,s),s.values),n):zo(e,t)};function Vy(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):gd(e)(e,t)}function Sj(e,t,n){const r=[],s=n||Vy,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ie:t;a=$t(l,a)}r.push(a)}return r}function jj(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Pc(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Sj(t,r,s),a=o.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Gr(e[d],e[d+1],u);return o[d](h)};return n?u=>l(Gt(e[0],e[i-1],u)):l}function Ej(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Gr(0,t,r);e.push(oe(n,1,s))}}function Cj(e){const t=[0];return Ej(t,e.length-1),t}function Tj(e,t){return e.map(n=>n*t)}function Nj(e,t){return e.map(()=>t||Fy).splice(0,e.length-1)}function Bo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=pj(r)?r.map(Cf):Cf(r),i={done:!1,value:t[0]},o=Tj(n&&n.length===t.length?n:Cj(t),e),a=jj(o,t,{ease:Array.isArray(s)?s:Nj(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const Pj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Q.update(t,!0),stop:()=>bn(t),now:()=>be.isProcessing?be.timestamp:Et.now()}},Aj={decay:jf,inertia:jf,tween:Bo,keyframes:Bo,spring:Dy},Rj=e=>e/100;class yd extends Ry{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||cd,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=pd(n)?n:Aj[n]||Bo;let l,u;a!==Bo&&typeof t[0]!="number"&&(l=$t(Rj,Vy(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Ly(d));const{calculatedDuration:h}=d,f=h+s,g=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:x,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,b=i;if(g){const j=Math.min(this.currentTime,d)/h;let I=Math.floor(j),O=j%1;!O&&j>=1&&(O=1),O===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(x==="reverse"?(O=1-O,v&&(O-=v/h)):x==="mirror"&&(b=o)),y=Gt(0,1,O)*h}const k=p?{done:!1,value:l[0]}:b.next(y);a&&(k.value=a(k.value));let{done:E}=k;!p&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return C&&s!==void 0&&(k.value=Ea(l,this.options,s)),w&&w(k.value),C&&this.finish(),k}get duration(){const{resolved:t}=this;return t?Ft(t.calculatedDuration):0}get time(){return Ft(this.currentTime)}set time(t){t=Dt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ft(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Pj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Ij=new Set(["opacity","clipPath","filter","transform"]);function vd(e){let t;return()=>(t===void 0&&(t=e()),t)}const Oj={linearEasing:void 0};function Mj(e,t){const n=vd(e);return()=>{var r;return(r=Oj[t])!==null&&r!==void 0?r:n()}}const Ho=Mj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Uy(e){return!!(typeof e=="function"&&Ho()||!e||typeof e=="string"&&(e in Fc||Ho())||md(e)||Array.isArray(e)&&e.every(Uy))}const ys=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Fc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ys([0,.65,.55,1]),circOut:ys([.55,0,1,.45]),backIn:ys([.31,.01,.66,-.59]),backOut:ys([.33,1.53,.69,.99])};function zy(e,t){if(e)return typeof e=="function"&&Ho()?Iy(e,t):md(e)?ys(e):Array.isArray(e)?e.map(n=>zy(n,t)||Fc.easeOut):Fc[e]}function Lj(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=zy(a,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Pf(e,t){e.timeline=t,e.onfinish=null}const Dj=vd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Go=10,Fj=2e4;function $j(e){return pd(e.type)||e.type==="spring"||!Uy(e.ease)}function Vj(e,t){const n=new yd({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<Fj;)r=n.sample(i),s.push(r.value),i+=Go;return{times:void 0,keyframes:s,duration:i-Go,ease:"linear"}}const By={anticipate:fy,backInOut:hy,circInOut:my};function Uj(e){return e in By}class Af extends Ry{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Ay(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Ho()&&Uj(o)&&(o=By[o]),$j(this.options)){const{onComplete:f,onUpdate:g,motionValue:x,element:v,...w}=this.options,m=Vj(t,w);t=m.keyframes,t.length===1&&(t[1]=t[0]),s=m.duration,i=m.times,o=m.ease,a="keyframes"}const h=Lj(l.owner.current,u,t,{...this.options,duration:s,times:i,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(Pf(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(Ea(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ft(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ft(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Dt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Ie;const{animation:r}=n;Pf(r,t)}return Ie}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...g}=this.options,x=new yd({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Dt(this.time);u.setWithVelocity(x.sample(v-Go).value,x.sample(v).value,Go)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=t;return Dj()&&r&&Ij.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const zj=vd(()=>window.ScrollTimeline!==void 0);class Bj{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>zj()&&s.attachTimeline?s.attachTimeline(t):n(s));return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Hj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const xd=(e,t,n,r={},s,i)=>o=>{const a=id(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Dt(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};Hj(a)||(d={...d,...mS(e,d)}),d.duration&&(d.duration=Dt(d.duration)),d.repeatDelay&&(d.repeatDelay=Dt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Ea(d.keyframes,a);if(f!==void 0)return Q.update(()=>{d.onUpdate(f),d.onComplete()}),new Bj([])}return!i&&Af.supports(d)?new Af(d):new yd(d)},Gj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Kj=e=>Nc(e)?e[e.length-1]||0:e;function wd(e,t){e.indexOf(t)===-1&&e.push(t)}function bd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class kd{constructor(){this.subscriptions=[]}add(t){return wd(this.subscriptions,t),()=>bd(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rf=30,Wj=e=>!isNaN(parseFloat(e));class qj{constructor(t,n={}){this.version="11.12.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Et.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Et.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Wj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new kd);const r=this.events[t].add(n);return t==="change"?()=>{r(),Q.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Et.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Rf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rf);return Oy(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ii(e,t){return new qj(e,t)}function Yj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ii(n))}function Jj(e,t){const n=ja(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Kj(i[o]);Yj(e,o,a)}}const _d=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Qj="framerAppearId",Hy="data-"+_d(Qj);function Gy(e){return e.props[Hy]}const Re=e=>!!(e&&e.getVelocity);function Xj(e){return!!(Re(e)&&e.add)}function $c(e,t){const n=e.getValue("willChange");if(Xj(n))return n.add(t)}function Zj({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Ky(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||d&&Zj(d,h))continue;const x={delay:n,...id(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const m=Gy(e);if(m){const p=window.MotionHandoffAnimation(m,h,Q);p!==null&&(x.startTime=p,v=!0)}}$c(e,h),f.start(xd(h,f,g,e.shouldReduceMotion&&nr.has(h)?{type:!1}:x,e,v));const w=f.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{Q.update(()=>{a&&Jj(e,a)})}),u}function Vc(e,t,n={}){var r;const s=ja(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Ky(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return eE(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function eE(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(tE).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Vc(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function tE(e,t){return e.sortNodePosition(t)}function nE(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Vc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Vc(e,t,n);else{const s=typeof t=="function"?ja(e,t,n.custom):t;r=Promise.all(Ky(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const rE=sd.length;function Wy(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Wy(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<rE;n++){const r=sd[n],s=e.props[r];(ni(s)||s===!1)&&(t[r]=s)}return t}const sE=[...rd].reverse(),iE=rd.length;function oE(e){return t=>Promise.all(t.map(({animation:n,options:r})=>nE(e,n,r)))}function aE(e){let t=oE(e),n=If(),r=!0;const s=l=>(u,d)=>{var h;const f=ja(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:x,...v}=f;u={...u,...v,...x}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,d=Wy(e.parent)||{},h=[],f=new Set;let g={},x=1/0;for(let w=0;w<iE;w++){const m=sE[w],p=n[m],y=u[m]!==void 0?u[m]:d[m],b=ni(y),k=m===l?p.isActive:null;k===!1&&(x=w);let E=y===d[m]&&y!==u[m]&&b;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),p.protectedKeys={...g},!p.isActive&&k===null||!y&&!p.prevProp||Sa(y)||typeof y=="boolean")continue;const C=lE(p.prevProp,y);let j=C||m===l&&p.isActive&&!E&&b||w>x&&b,I=!1;const O=Array.isArray(y)?y:[y];let A=O.reduce(s(m),{});k===!1&&(A={});const{prevResolvedValues:P={}}=p,q={...P,...A},se=D=>{j=!0,f.has(D)&&(I=!0,f.delete(D)),p.needsAnimating[D]=!0;const _=e.getValue(D);_&&(_.liveStyle=!1)};for(const D in q){const _=A[D],N=P[D];if(g.hasOwnProperty(D))continue;let M=!1;Nc(_)&&Nc(N)?M=!oy(_,N):M=_!==N,M?_!=null?se(D):f.add(D):_!==void 0&&f.has(D)?se(D):p.protectedKeys[D]=!0}p.prevProp=y,p.prevResolvedValues=A,p.isActive&&(g={...g,...A}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(E&&C)||I)&&h.push(...O.map(D=>({animation:D,options:{type:m}})))}if(f.size){const w={};f.forEach(m=>{const p=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),w[m]=p??null}),h.push({animation:w})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=If(),r=!0}}}function lE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oy(t,e):!1}function Pn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function If(){return{animate:Pn(!0),whileInView:Pn(),whileHover:Pn(),whileTap:Pn(),whileDrag:Pn(),whileFocus:Pn(),exit:Pn()}}class Cn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class cE extends Cn{constructor(t){super(t),t.animationState||(t.animationState=aE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Sa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let uE=0;class dE extends Cn{constructor(){super(...arguments),this.id=uE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const hE={animation:{Feature:cE},exit:{Feature:dE}},qy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ca(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const fE=e=>t=>qy(t)&&e(t,Ca(t));function Mt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Vt(e,t,n,r){return Mt(e,t,fE(n),r)}const Of=(e,t)=>Math.abs(e-t);function pE(e,t){const n=Of(e.x,t.x),r=Of(e.y,t.y);return Math.sqrt(n**2+r**2)}class Yy{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=xl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=pE(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:x}=h,{timestamp:v}=be;this.history.push({...x,timestamp:v});const{onStart:w,onMove:m}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=vl(f,this.transformPagePoint),Q.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=xl(h.type==="pointercancel"?this.lastMoveEventInfo:vl(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),x&&x(h,w)},!qy(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ca(t),a=vl(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=be;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,xl(a,this.history)),this.removeListeners=$t(Vt(this.contextWindow,"pointermove",this.handlePointerMove),Vt(this.contextWindow,"pointerup",this.handlePointerUp),Vt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bn(this.updatePoint)}}function vl(e,t){return t?{point:t(e.point)}:e}function Mf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xl({point:e},t){return{point:e,delta:Mf(e,Jy(t)),offset:Mf(e,mE(t)),velocity:gE(t,.1)}}function mE(e){return e[0]}function Jy(e){return e[e.length-1]}function gE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Jy(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Dt(t)));)n--;if(!r)return{x:0,y:0};const i=Ft(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Qy(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Lf=Qy("dragHorizontal"),Df=Qy("dragVertical");function Xy(e){let t=!1;if(e==="y")t=Df();else if(e==="x")t=Lf();else{const n=Lf(),r=Df();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Zy(){const e=Xy(!0);return e?(e(),!1):!0}function kr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const ev=1e-4,yE=1-ev,vE=1+ev,tv=.01,xE=0-tv,wE=0+tv;function Ze(e){return e.max-e.min}function bE(e,t,n){return Math.abs(e-t)<=n}function Ff(e,t,n,r=.5){e.origin=r,e.originPoint=oe(t.min,t.max,e.origin),e.scale=Ze(n)/Ze(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=yE&&e.scale<=vE||isNaN(e.scale))&&(e.scale=1),(e.translate>=xE&&e.translate<=wE||isNaN(e.translate))&&(e.translate=0)}function As(e,t,n,r){Ff(e.x,t.x,n.x,r?r.originX:void 0),Ff(e.y,t.y,n.y,r?r.originY:void 0)}function $f(e,t,n){e.min=n.min+t.min,e.max=e.min+Ze(t)}function kE(e,t,n){$f(e.x,t.x,n.x),$f(e.y,t.y,n.y)}function Vf(e,t,n){e.min=t.min-n.min,e.max=e.min+Ze(t)}function Rs(e,t,n){Vf(e.x,t.x,n.x),Vf(e.y,t.y,n.y)}function _E(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?oe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?oe(n,e,r.max):Math.min(e,n)),e}function Uf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function SE(e,{top:t,left:n,bottom:r,right:s}){return{x:Uf(e.x,n,s),y:Uf(e.y,t,r)}}function zf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function jE(e,t){return{x:zf(e.x,t.x),y:zf(e.y,t.y)}}function EE(e,t){let n=.5;const r=Ze(e),s=Ze(t);return s>r?n=Gr(t.min,t.max-r,e.min):r>s&&(n=Gr(e.min,e.max-s,t.min)),Gt(0,1,n)}function CE(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Uc=.35;function TE(e=Uc){return e===!1?e=0:e===!0&&(e=Uc),{x:Bf(e,"left","right"),y:Bf(e,"top","bottom")}}function Bf(e,t,n){return{min:Hf(e,t),max:Hf(e,n)}}function Hf(e,t){return typeof e=="number"?e:e[t]||0}const Gf=()=>({translate:0,scale:1,origin:0,originPoint:0}),_r=()=>({x:Gf(),y:Gf()}),Kf=()=>({min:0,max:0}),he=()=>({x:Kf(),y:Kf()});function rt(e){return[e("x"),e("y")]}function nv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function NE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function PE(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wl(e){return e===void 0||e===1}function zc({scale:e,scaleX:t,scaleY:n}){return!wl(e)||!wl(t)||!wl(n)}function On(e){return zc(e)||rv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rv(e){return Wf(e.x)||Wf(e.y)}function Wf(e){return e&&e!=="0%"}function Ko(e,t,n){const r=e-n,s=t*r;return n+s}function qf(e,t,n,r,s){return s!==void 0&&(e=Ko(e,s,r)),Ko(e,n,r)+t}function Bc(e,t=0,n=1,r,s){e.min=qf(e.min,t,n,r,s),e.max=qf(e.max,t,n,r,s)}function sv(e,{x:t,y:n}){Bc(e.x,t.translate,t.scale,t.originPoint),Bc(e.y,n.translate,n.scale,n.originPoint)}const Yf=.999999999999,Jf=1.0000000000001;function AE(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,sv(e,o)),r&&On(i.latestValues)&&jr(e,i.latestValues))}t.x<Jf&&t.x>Yf&&(t.x=1),t.y<Jf&&t.y>Yf&&(t.y=1)}function Sr(e,t){e.min=e.min+t,e.max=e.max+t}function Qf(e,t,n,r,s=.5){const i=oe(e.min,e.max,s);Bc(e,t,n,i,r)}function jr(e,t){Qf(e.x,t.x,t.scaleX,t.scale,t.originX),Qf(e.y,t.y,t.scaleY,t.scale,t.originY)}function iv(e,t){return nv(PE(e.getBoundingClientRect(),t))}function RE(e,t,n){const r=iv(e,n),{scroll:s}=t;return s&&(Sr(r.x,s.offset.x),Sr(r.y,s.offset.y)),r}const ov=({current:e})=>e?e.ownerDocument.defaultView:null,IE=new WeakMap;class OE{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=he(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ca(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:x}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Xy(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rt(w=>{let m=this.getAxisMotionValue(w).get()||0;if(jt.test(m)){const{projection:p}=this.visualElement;if(p&&p.layout){const y=p.layout.layoutBox[w];y&&(m=Ze(y)*(parseFloat(m)/100))}}this.originPoint[w]=m}),x&&Q.postRender(()=>x(d,h)),$c(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:x,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(g&&this.currentDirection===null){this.currentDirection=ME(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),l=()=>rt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Yy(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ov(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Q.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!qi(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=_E(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&kr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=SE(s.layoutBox,n):this.constraints=!1,this.elastic=TE(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=CE(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!kr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=RE(r,s.root,this.visualElement.getTransformPagePoint());let o=jE(s.layout.layoutBox,i);if(n){const a=n(NE(o));this.hasMutatedConstraints=!!a,a&&(o=nv(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=rt(d=>{if(!qi(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return $c(this.visualElement,t),r.start(xd(t,r,0,n,this.visualElement,!1))}stopAnimation(){rt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){rt(n=>{const{drag:r}=this.getProps();if(!qi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-oe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!kr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=EE({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rt(o=>{if(!qi(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(oe(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;IE.set(this.visualElement,this);const t=this.visualElement.current,n=Vt(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();kr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Q.read(r);const o=Mt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(rt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Uc,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function qi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ME(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class LE extends Cn{constructor(t){super(t),this.removeGroupControls=Ie,this.removeListeners=Ie,this.controls=new OE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ie}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xf=e=>(t,n)=>{e&&Q.postRender(()=>e(t,n))};class DE extends Cn{constructor(){super(...arguments),this.removePointerDownListener=Ie}onPointerDown(t){this.session=new Yy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ov(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Xf(t),onStart:Xf(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Q.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Vt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ta=S.createContext(null);function FE(){const e=S.useContext(Ta);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=S.useId();S.useEffect(()=>r(s),[]);const i=S.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,i]:[!0]}const Sd=S.createContext({}),av=S.createContext({}),uo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ds={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(L.test(e))e=parseFloat(e);else return e;const n=Zf(e,t.target.x),r=Zf(e,t.target.y);return`${n}% ${r}%`}},$E={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=kn.parse(e);if(s.length>5)return r;const i=kn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=oe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Wo={};function VE(e){Object.assign(Wo,e)}const{schedule:jd,cancel:f2}=ay(queueMicrotask,!1);class UE extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;VE(zE),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),uo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Q.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),jd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lv(e){const[t,n]=FE(),r=S.useContext(Sd);return c.jsx(UE,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(av),isPresent:t,safeToRemove:n})}const zE={borderRadius:{...ds,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ds,borderTopRightRadius:ds,borderBottomLeftRadius:ds,borderBottomRightRadius:ds,boxShadow:$E},cv=["TopLeft","TopRight","BottomLeft","BottomRight"],BE=cv.length,ep=e=>typeof e=="string"?parseFloat(e):e,tp=e=>typeof e=="number"||L.test(e);function HE(e,t,n,r,s,i){s?(e.opacity=oe(0,n.opacity!==void 0?n.opacity:1,GE(r)),e.opacityExit=oe(t.opacity!==void 0?t.opacity:1,0,KE(r))):i&&(e.opacity=oe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<BE;o++){const a=`border${cv[o]}Radius`;let l=np(t,a),u=np(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||tp(l)===tp(u)?(e[a]=Math.max(oe(ep(l),ep(u),r),0),(jt.test(u)||jt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,r))}function np(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const GE=uv(0,.5,py),KE=uv(.5,.95,Ie);function uv(e,t,n){return r=>r<e?0:r>t?1:n(Gr(e,t,r))}function rp(e,t){e.min=t.min,e.max=t.max}function nt(e,t){rp(e.x,t.x),rp(e.y,t.y)}function sp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ip(e,t,n,r,s){return e-=t,e=Ko(e,1/n,r),s!==void 0&&(e=Ko(e,1/s,r)),e}function WE(e,t=0,n=1,r=.5,s,i=e,o=e){if(jt.test(t)&&(t=parseFloat(t),t=oe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=oe(i.min,i.max,r);e===i&&(a-=t),e.min=ip(e.min,t,n,a,s),e.max=ip(e.max,t,n,a,s)}function op(e,t,[n,r,s],i,o){WE(e,t[n],t[r],t[s],t.scale,i,o)}const qE=["x","scaleX","originX"],YE=["y","scaleY","originY"];function ap(e,t,n,r){op(e.x,t,qE,n?n.x:void 0,r?r.x:void 0),op(e.y,t,YE,n?n.y:void 0,r?r.y:void 0)}function lp(e){return e.translate===0&&e.scale===1}function dv(e){return lp(e.x)&&lp(e.y)}function cp(e,t){return e.min===t.min&&e.max===t.max}function JE(e,t){return cp(e.x,t.x)&&cp(e.y,t.y)}function up(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function hv(e,t){return up(e.x,t.x)&&up(e.y,t.y)}function dp(e){return Ze(e.x)/Ze(e.y)}function hp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class QE{constructor(){this.members=[]}add(t){wd(this.members,t),t.scheduleRender()}remove(t){if(bd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XE(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ZE=(e,t)=>e.depth-t.depth;class eC{constructor(){this.children=[],this.isDirty=!1}add(t){wd(this.children,t),this.isDirty=!0}remove(t){bd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ZE),this.isDirty=!1,this.children.forEach(t)}}function ho(e){const t=Re(e)?e.get():e;return Gj(t)?t.toValue():t}function tC(e,t){const n=Et.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(bn(r),e(i-t))};return Q.read(r,!0),()=>bn(r)}function nC(e){return e instanceof SVGElement&&e.tagName!=="svg"}function rC(e,t,n){const r=Re(e)?e:ii(e);return r.start(xd("",r,t,n)),r.animation}const Mn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},vs=typeof window<"u"&&window.MotionDebug!==void 0,bl=["","X","Y","Z"],sC={visibility:"hidden"},fp=1e3;let iC=0;function kl(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function fv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Gy(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Q,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&fv(r)}function pv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=iC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vs&&(Mn.totalNodes=Mn.resolvedTargetDeltas=Mn.recalculatedProjection=0),this.nodes.forEach(lC),this.nodes.forEach(fC),this.nodes.forEach(pC),this.nodes.forEach(cC),vs&&window.MotionDebug.record(Mn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new eC)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new kd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nC(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=tC(f,250),uo.hasAnimatedSinceResize&&(uo.hasAnimatedSinceResize=!1,this.nodes.forEach(mp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||xC,{onLayoutAnimationStart:w,onLayoutAnimationComplete:m}=d.getProps(),p=!this.targetLayout||!hv(this.targetLayout,x)||g,y=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const b={...id(v,"layout"),onPlay:w,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||mp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pp);return}this.isUpdating||this.nodes.forEach(dC),this.isUpdating=!1,this.nodes.forEach(hC),this.nodes.forEach(oC),this.nodes.forEach(aC),this.clearAllSnapshots();const a=Et.now();be.delta=Gt(0,1e3/60,a-be.timestamp),be.timestamp=a,be.isProcessing=!0,fl.update.process(be),fl.preRender.process(be),fl.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uC),this.sharedNodes.forEach(gC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Q.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Q.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=he(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!dv(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||On(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),wC(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return he();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(bC))){const{scroll:d}=this.root;d&&(Sr(l.x,d.offset.x),Sr(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=he();if(nt(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&nt(l,o),Sr(l.x,h.offset.x),Sr(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=he();nt(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),On(d.latestValues)&&jr(l,d.latestValues)}return On(this.latestValues)&&jr(l,this.latestValues),l}removeTransform(o){const a=he();nt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!On(u.latestValues))continue;zc(u.latestValues)&&u.updateSnapshot();const d=he(),h=u.measurePageBox();nt(d,h),ap(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return On(this.latestValues)&&ap(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=be.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),Rs(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=he(),this.targetWithTransforms=he()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nt(this.target,this.layout.layoutBox),sv(this.target,this.targetDelta)):nt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),Rs(this.relativeTargetOrigin,this.target,g.target),nt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vs&&Mn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zc(this.parent.latestValues)||rv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===be.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;nt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;AE(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=he());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sp(this.prevProjectionDelta.x,this.projectionDelta.x),sp(this.prevProjectionDelta.y,this.projectionDelta.y)),As(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!hp(this.projectionDelta.x,this.prevProjectionDelta.x)||!hp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),vs&&Mn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_r(),this.projectionDelta=_r(),this.projectionDeltaWithTransform=_r()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=_r();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=he(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,w=this.getStack(),m=!w||w.members.length<=1,p=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(vC));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const k=b/1e3;gp(h.x,o.x,k),gp(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yC(this.relativeTarget,this.relativeTargetOrigin,f,k),y&&JE(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=he()),nt(y,this.relativeTarget)),v&&(this.animationValues=d,HE(d,u,this.latestValues,k,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Q.update(()=>{uo.hasAnimatedSinceResize=!0,this.currentAnimation=rC(0,fp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&mv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||he();const h=Ze(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ze(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}nt(a,l),jr(a,d),As(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new QE),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&kl("z",o,u,this.animationValues);for(let d=0;d<bl.length;d++)kl(`rotate${bl[d]}`,o,u,this.animationValues),kl(`skew${bl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sC;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ho(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ho(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!On(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=XE(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:g,y:x}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Wo){if(f[v]===void 0)continue;const{correct:w,applyTo:m}=Wo[v],p=u.transform==="none"?f[v]:w(f[v],h);if(m){const y=m.length;for(let b=0;b<y;b++)u[m[b]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?ho(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(pp),this.root.sharedNodes.clear()}}}function oC(e){e.updateLayout()}function aC(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?rt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Ze(f);f.min=r[h].min,f.max=f.min+g}):mv(i,n.layoutBox,r)&&rt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Ze(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=_r();As(a,r,n.layoutBox);const l=_r();o?As(l,e.applyTransform(s,!0),n.measuredBox):As(l,r,n.layoutBox);const u=!dv(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const x=he();Rs(x,n.layoutBox,f.layoutBox);const v=he();Rs(v,r,g.layoutBox),hv(x,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function lC(e){vs&&Mn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uC(e){e.clearSnapshot()}function pp(e){e.clearMeasurements()}function dC(e){e.isLayoutDirty=!1}function hC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function mp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fC(e){e.resolveTargetDelta()}function pC(e){e.calcProjection()}function mC(e){e.resetSkewAndRotation()}function gC(e){e.removeLeadSnapshot()}function gp(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function yp(e,t,n,r){e.min=oe(t.min,n.min,r),e.max=oe(t.max,n.max,r)}function yC(e,t,n,r){yp(e.x,t.x,n.x,r),yp(e.y,t.y,n.y,r)}function vC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const xC={duration:.45,ease:[.4,0,.1,1]},vp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xp=vp("applewebkit/")&&!vp("chrome/")?Math.round:Ie;function wp(e){e.min=xp(e.min),e.max=xp(e.max)}function wC(e){wp(e.x),wp(e.y)}function mv(e,t,n){return e==="position"||e==="preserve-aspect"&&!bE(dp(t),dp(n),.2)}function bC(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const kC=pv({attachResizeListener:(e,t)=>Mt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_l={current:void 0},gv=pv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_l.current){const e=new kC({});e.mount(window),e.setOptions({layoutScroll:!0}),_l.current=e}return _l.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_C={pan:{Feature:DE},drag:{Feature:LE,ProjectionNode:gv,MeasureLayout:lv}};function bp(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||Zy())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const l=a[r];l&&Q.postRender(()=>l(i,o))};return Vt(e.current,n,s,{passive:!e.getProps()[r]})}class SC extends Cn{mount(){this.unmount=$t(bp(this.node,!0),bp(this.node,!1))}unmount(){}}class jC extends Cn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$t(Mt(this.node.current,"focus",()=>this.onFocus()),Mt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const yv=(e,t)=>t?e===t?!0:yv(e,t.parentElement):!1;function Sl(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ca(n))}class EC extends Cn{constructor(){super(...arguments),this.removeStartListeners=Ie,this.removeEndListeners=Ie,this.removeAccessibleListeners=Ie,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Vt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!yv(this.node.current,a.target)?d:u;f&&Q.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Vt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=$t(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Sl("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Q.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Mt(this.node.current,"keyup",o),Sl("down",(a,l)=>{this.startPress(a,l)})},n=Mt(this.node.current,"keydown",t),r=()=>{this.isPressing&&Sl("cancel",(i,o)=>this.cancelPress(i,o))},s=Mt(this.node.current,"blur",r);this.removeAccessibleListeners=$t(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Q.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Zy()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Q.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Vt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Mt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$t(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Hc=new WeakMap,jl=new WeakMap,CC=e=>{const t=Hc.get(e.target);t&&t(e)},TC=e=>{e.forEach(CC)};function NC({root:e,...t}){const n=e||document;jl.has(n)||jl.set(n,{});const r=jl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(TC,{root:e,...t})),r[s]}function PC(e,t,n){const r=NC(t);return Hc.set(e,n),r.observe(e),()=>{Hc.delete(e),r.unobserve(e)}}const AC={some:0,all:1};class RC extends Cn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:AC[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return PC(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(IC(t,n))&&this.startObserver()}unmount(){}}function IC({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const OC={inView:{Feature:RC},tap:{Feature:EC},focus:{Feature:jC},hover:{Feature:SC}},MC={layout:{ProjectionNode:gv,MeasureLayout:lv}},Ed=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Na=S.createContext({}),Cd=typeof window<"u",vv=Cd?S.useLayoutEffect:S.useEffect,xv=S.createContext({strict:!1});function LC(e,t,n,r,s){var i,o;const{visualElement:a}=S.useContext(Na),l=S.useContext(xv),u=S.useContext(Ta),d=S.useContext(Ed).reducedMotion,h=S.useRef();r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,g=S.useContext(av);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&DC(h.current,n,s,g);const x=S.useRef(!1);S.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const v=n[Hy],w=S.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return vv(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),jd.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,v)}),w.current=!1))}),f}function DC(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&kr(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function wv(e){if(e)return e.options.allowProjection!==!1?e.projection:wv(e.parent)}function FC(e,t,n){return S.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):kr(n)&&(n.current=r))},[t])}function Pa(e){return Sa(e.animate)||sd.some(t=>ni(e[t]))}function bv(e){return!!(Pa(e)||e.variants)}function $C(e,t){if(Pa(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ni(n)?n:void 0,animate:ni(r)?r:void 0}}return e.inherit!==!1?t:{}}function VC(e){const{initial:t,animate:n}=$C(e,S.useContext(Na));return S.useMemo(()=>({initial:t,animate:n}),[kp(t),kp(n)])}function kp(e){return Array.isArray(e)?e.join(" "):e}const _p={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kr={};for(const e in _p)Kr[e]={isEnabled:t=>_p[e].some(n=>!!t[n])};function UC(e){for(const t in e)Kr[t]={...Kr[t],...e[t]}}const zC=Symbol.for("motionComponentSymbol");function BC({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&UC(e);function i(a,l){let u;const d={...S.useContext(Ed),...a,layoutId:HC(a)},{isStatic:h}=d,f=VC(a),g=r(a,h);if(!h&&Cd){GC();const x=KC(d);u=x.MeasureLayout,f.visualElement=LC(s,g,d,t,x.ProjectionNode)}return c.jsxs(Na.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,a,FC(g,f.visualElement,l),g,h,f.visualElement)]})}const o=S.forwardRef(i);return o[zC]=s,o}function HC({layoutId:e}){const t=S.useContext(Sd).id;return t&&e!==void 0?t+"-"+e:e}function GC(e,t){S.useContext(xv).strict}function KC(e){const{drag:t,layout:n}=Kr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const WC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Td(e){return typeof e!="string"||e.includes("-")?!1:!!(WC.indexOf(e)>-1||/[A-Z]/u.test(e))}function kv(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const _v=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Sv(e,t,n,r){kv(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(_v.has(s)?s:_d(s),t.attrs[s])}function jv(e,{layout:t,layoutId:n}){return nr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Wo[e]||e==="opacity")}function Nd(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Re(s[o])||t.style&&Re(t.style[o])||jv(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function Ev(e,t,n){const r=Nd(e,t,n);for(const s in e)if(Re(e[s])||Re(t[s])){const i=yi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function Pd(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}function qC({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:YC(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const Cv=e=>(t,n)=>{const r=S.useContext(Na),s=S.useContext(Ta),i=()=>qC(e,t,r,s);return n?i():Pd(i)};function YC(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=ho(i[f]);let{initial:o,animate:a}=e;const l=Pa(e),u=bv(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Sa(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const x=nd(e,f[g]);if(x){const{transitionEnd:v,transition:w,...m}=x;for(const p in m){let y=m[p];if(Array.isArray(y)){const b=d?y.length-1:0;y=y[b]}y!==null&&(s[p]=y)}for(const p in v)s[p]=v[p]}}}return s}const Ad=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Tv=()=>({...Ad(),attrs:{}}),Nv=(e,t)=>t&&typeof e=="number"?t.transform(e):e,JC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QC=yi.length;function XC(e,t,n){let r="",s=!0;for(let i=0;i<QC;i++){const o=yi[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Nv(a,hd[o]);if(!l){s=!1;const d=JC[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Rd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(nr.has(l)){o=!0;continue}else if(xy(l)){s[l]=u;continue}else{const d=Nv(u,hd[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=XC(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}function Sp(e,t,n){return typeof e=="string"?e:L.transform(t+n*e)}function ZC(e,t,n){const r=Sp(t,e.x,e.width),s=Sp(n,e.y,e.height);return`${r} ${s}`}const eT={offset:"stroke-dashoffset",array:"stroke-dasharray"},tT={offset:"strokeDashoffset",array:"strokeDasharray"};function nT(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?eT:tT;e[i.offset]=L.transform(-r);const o=L.transform(t),a=L.transform(n);e[i.array]=`${o} ${a}`}function Id(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(Rd(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g,dimensions:x}=e;f.transform&&(x&&(g.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=ZC(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&nT(f,o,a,l,!1)}const Od=e=>typeof e=="string"&&e.toLowerCase()==="svg",rT={useVisualState:Cv({scrapeMotionValuesFromProps:Ev,createRenderState:Tv,onMount:(e,t,{renderState:n,latestValues:r})=>{Q.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Q.render(()=>{Id(n,r,Od(t.tagName),e.transformTemplate),Sv(t,n)})}})},sT={useVisualState:Cv({scrapeMotionValuesFromProps:Nd,createRenderState:Ad})};function Pv(e,t,n){for(const r in t)!Re(t[r])&&!jv(r,n)&&(e[r]=t[r])}function iT({transformTemplate:e},t){return S.useMemo(()=>{const n=Ad();return Rd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function oT(e,t){const n=e.style||{},r={};return Pv(r,n,e),Object.assign(r,iT(e,t)),r}function aT(e,t){const n={},r=oT(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const lT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lT.has(e)}let Av=e=>!qo(e);function cT(e){e&&(Av=t=>t.startsWith("on")?!qo(t):e(t))}try{cT(require("@emotion/is-prop-valid").default)}catch{}function uT(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Av(s)||n===!0&&qo(s)||!t&&!qo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function dT(e,t,n,r){const s=S.useMemo(()=>{const i=Tv();return Id(i,t,Od(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Pv(i,e.style,e),s.style={...i,...s.style}}return s}function hT(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Td(n)?dT:aT)(r,i,o,n),u=uT(r,typeof n=="string",e),d=n!==S.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=S.useMemo(()=>Re(h)?h.get():h,[h]);return S.createElement(n,{...d,children:f})}}function fT(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Td(r)?rT:sT,preloadedFeatures:e,useRender:hT(s),createVisualElement:t,Component:r};return BC(o)}}const Gc={current:null},Rv={current:!1};function pT(){if(Rv.current=!0,!!Cd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gc.current=e.matches;e.addListener(t),t()}else Gc.current=!1}function mT(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Re(s))e.addValue(r,s);else if(Re(i))e.addValue(r,ii(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,ii(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const jp=new WeakMap,gT=[...ky,Ne,kn],yT=e=>gT.find(by(e)),Ep=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vT{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Et.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Q.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Pa(n),this.isVariantNode=bv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&Re(g)&&g.set(l[f],!1)}}mount(t){this.current=t,jp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Rv.current||pT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jp.delete(this.current),this.projection&&this.projection.unmount(),bn(this.notifyUpdate),bn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=nr.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Q.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Kr){const n=Kr[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):he()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ep.length;r++){const s=Ep[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=mT(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ii(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(yy(s)||gy(s))?s=parseFloat(s):!yT(s)&&kn.test(n)&&(s=Py(t,n)),this.setBaseTarget(t,Re(s)?s.get():s)),Re(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=nd(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Re(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new kd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Iv extends vT{constructor(){super(...arguments),this.KeyframeResolver=Ay}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}}function xT(e){return window.getComputedStyle(e)}class wT extends Iv{constructor(){super(...arguments),this.type="html",this.renderInstance=kv}readValueFromInstance(t,n){if(nr.has(n)){const r=fd(n);return r&&r.default||0}else{const r=xT(t),s=(xy(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return iv(t,n)}build(t,n,r){Rd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Nd(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Re(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class bT extends Iv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=he}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(nr.has(n)){const r=fd(n);return r&&r.default||0}return n=_v.has(n)?n:_d(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Ev(t,n,r)}build(t,n,r){Id(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){Sv(t,n,r,s)}mount(t){this.isSVGTag=Od(t.tagName),super.mount(t)}}const kT=(e,t)=>Td(e)?new bT(t):new wT(t,{allowProjection:e!==S.Fragment}),_T=fT({...hE,...OC,..._C,...MC},kT),K=uS(_T);class ST extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jT({children:e,isPresent:t}){const n=S.useId(),r=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=S.useContext(Ed);return S.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(ST,{isPresent:t,childRef:r,sizeRef:s,children:S.cloneElement(e,{ref:r})})}const ET=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Pd(CT),l=S.useId(),u=S.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=S.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[n,u]);return S.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(jT,{isPresent:n,children:e})),c.jsx(Ta.Provider,{value:d,children:e})};function CT(){return new Map}const Yi=e=>e.key||"";function Cp(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const wi=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=S.useMemo(()=>Cp(e),[e]),l=a.map(Yi),u=S.useRef(!0),d=S.useRef(a),h=Pd(()=>new Map),[f,g]=S.useState(a),[x,v]=S.useState(a);vv(()=>{u.current=!1,d.current=a;for(let p=0;p<x.length;p++){const y=Yi(x[p]);l.includes(y)?h.delete(y):h.get(y)!==!0&&h.set(y,!1)}},[x,l.length,l.join("-")]);const w=[];if(a!==f){let p=[...a];for(let y=0;y<x.length;y++){const b=x[y],k=Yi(b);l.includes(k)||(p.splice(y,0,b),w.push(b))}o==="wait"&&w.length&&(p=w),v(Cp(p)),g(a);return}const{forceRender:m}=S.useContext(Sd);return c.jsx(c.Fragment,{children:x.map(p=>{const y=Yi(p),b=a===x||l.includes(y),k=()=>{if(h.has(y))h.set(y,!0);else return;let E=!0;h.forEach(C=>{C||(E=!1)}),E&&(m==null||m(),v(d.current),s&&s())};return c.jsx(ET,{isPresent:b,initial:!u.current||r?void 0:!1,custom:b?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:b?void 0:k,children:p},y)})})},Aa=En()(ga(e=>({theme:"system",language:"pt",setTheme:t=>e({theme:t}),setLanguage:t=>e({language:t})}),{name:"settings"})),TT={en:{common:{search:"Search for recipes...",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",profile:"Profile",darkMode:"Dark Mode",language:"Language",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",settings:"Settings",createaccount:"Create Account",dontHaveAccount:"Don't have an account? ",alreadyHaveAccount:"Already have an account? ",theme:{light:"Light",dark:"Dark",system:"System"}},buttons:{BackToRecipes:"Back to Recipes",My_recipes:"My recipes",Favorites:"Favorites",Nutrition_goal:"Nutrition Goals"},filters:{advanced:"Advanced Filters",minRating:"Minimum Rating",clearAll:"Clear All Filters",prepTime:{quick:"Quick (15 min)",medium:"Medium (30 min)",long:"Long (>30 min)"}},home:{title:"Discover Healthy Recipes",subtitle:"Find and share nutritious recipes that match your dietary preferences.",createRecipe:"Create Recipe",noRecipes:"No recipes found. Try adjusting your filters."},profile:{myRecipes:"My Recipes",favorites:"Favorites",nutritionGoals:"Nutrition Goals",settings:"Settings",noRecipesYet:"You haven't published any recipes yet.",noFavorites:"You haven't saved any recipes as favorites yet.",statistics:"Statistics",publishedRecipes:"Published Recipes",totalReviews:"Total Reviews",averageRating:"Average Rating",experience:"Experience",healthGoals:"Health Goals",dietaryPreferences:"Dietary Preferences",allergies:"Allergies",dailyGoals:"Daily Goals",recentFavorites:"Recent Favorites",personalInfo:"Personal Information",accountType:"Account Type",email:"Email",name:"Name",password:"Password",nutricionist:"Nutricionist",client:"Client",saveGoals:"Save goals",nutritionGoalsnames:{calories:"Calories",protein:"Protein",carbs:"Carbs",fat:"Fat",fiber:"Fiber"}},categories:{all:"All",vegan:"Vegan",lowCarb:"Low Carb",highProtein:"High Protein",glutenFree:"Gluten Free",vegetarian:"Vegetarian"},recipe:{recipeTitle:"Title",recipeImageURL:"Image URL",recipeDescription:"Description",prepTime:"Preparation Time",difficulty:"Difficulty",recipeCategory:"Category",ingredients:"Ingredients",instructions:"Instructions",nutritionFacts:"Nutrition Facts (Per Serving)",reviews:"Reviews",writeReview:"Write your review...",submitReview:"Submit Review",signInToReview:"Please sign in to leave a review.",addIngredient:"Add Ingredient",addStep:"Add Step",step:"Step",Step:"Step",example:'"2 cups flour"',perServing:"per serving",deleteConfirm:"Are you sure you want to delete this recipe?",share:"Share Recipe",edit:"Edit Recipe",delete:"Delete Recipe",difficultyLevels:{easy:"Easy",medium:"Medium",hard:"Hard"},CreateNewRecipe:"Create new recipe",CreateRecipe:"Create recipe",rating:"Rating",noReviews:"No reviews"}},pt:{common:{search:"Buscar receitas...",signIn:"Entrar",signUp:"Cadastrar",signOut:"Sair",profile:"Perfil",darkMode:"Modo Escuro",language:"Idioma",loading:"Carregando...",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",back:"Voltar",settings:"Configuraes",createaccount:"Criar conta",dontHaveAccount:"No tem uma conta? ",alreadyHaveAccount:"J tem uma conta? ",theme:{light:"Claro",dark:"Escuro",system:"Sistema"}},buttons:{BackToRecipes:"Voltar para as receitas",My_recipes:"Minhas receitas",Favorites:"Favoritos",Nutrition_goal:"Metas Nutricionais"},filters:{advanced:"Filtros Avanados",minRating:"Avaliao Mnima",clearAll:"Limpar Todos os Filtros",prepTime:{quick:"Rpido (15 min)",medium:"Mdio (30 min)",long:"Longo (>30 min)"}},home:{title:"Descubra Receitas Saudveis",subtitle:"Encontre e compartilhe receitas nutritivas que combinam com suas preferncias alimentares.",createRecipe:"Criar Receita",noRecipes:"Nenhuma receita encontrada. Tente ajustar seus filtros."},profile:{myRecipes:"Minhas Receitas",favorites:"Favoritos",nutritionGoals:"Metas Nutricionais",settings:"Configuraes",noRecipesYet:"Voc ainda no publicou nenhuma receita.",noFavorites:"Voc ainda no salvou nenhuma receita como favorita.",statistics:"Estatsticas",publishedRecipes:"Receitas Publicadas",totalReviews:"Total de Avaliaes",averageRating:"Avaliao Mdia",experience:"Experincia",healthGoals:"Objetivos de Sade",dietaryPreferences:"Preferncias Alimentares",allergies:"Alergias",dailyGoals:"Metas Dirias",recentFavorites:"Favoritos Recentes",personalInfo:"Informaes Pessoais",accountType:"Tipo de Conta",email:"Email",name:"Nome completo",password:"Senha",nutricionist:"Nutricionista",client:"Cliente",saveGoals:"Salvar metas",nutritionGoalsnames:{calories:"Calorias",protein:"Protena",carbs:"Carboidratos",fat:"Gordura",fiber:"Fibra"}},categories:{all:"Todas",vegan:"Vegana",lowCarb:"Baixo Carboidrato",highProtein:"Rica em Protena",glutenFree:"Sem Glten",vegetarian:"Vegetariana"},recipe:{recipeTitle:"Titulo",recipeImageURL:"URL da imagem",recipeDescription:"Descrio",prepTime:"Tempo de Preparo",difficulty:"Dificuldade",recipeCategory:"Categoria",ingredients:"Ingredientes",addIngredient:"Adicionar Ingrediente",instructions:"Modo de Preparo",addStep:"Adicionar Passo",step:"Passo a passo",Step:"Passo",example:"Exemplo: 2 xcaras de aucar",nutritionFacts:"Informao Nutricional (Por poro)",reviews:"Avaliaes",writeReview:"Escreva sua avaliao...",submitReview:"Enviar Avaliao",signInToReview:"Faa login para deixar uma avaliao.",perServing:"por poro",deleteConfirm:"Tem certeza que deseja excluir esta receita?",share:"Compartilhar Receita",edit:"Editar Receita",delete:"Excluir Receita",difficultyLevels:{easy:"Fcil",medium:"Mdio",hard:"Difcil"},CreateNewRecipe:"Criar nova receita",CreateRecipe:"Criar receita",rating:"Avalie essa receita",noReviews:"Sem Avaliaes"}}};function je(){const{language:e}=Aa();return TT[e]}function NT({isOpen:e,onClose:t}){const[n,r]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState("email"),[l,u]=S.useState("");if(je(),!e)return null;const d=x=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x),h=async x=>{x.preventDefault();const v=n.toLowerCase().trim();if(!v){u("Por favor, digite seu email.");return}if(!d(v)){u("Por favor, digite um email vlido.");return}i(!0),u("");try{if(console.log("Starting password reset process for:",v),!await ny(v)){u("Email no encontrado. Verifique se o email est correto ou crie uma conta."),a("error");return}console.log("Email exists, sending reset email..."),await ry(v),console.log("Reset email sent successfully"),a("sent")}catch(w){console.error("Password reset error:",w);let m="Erro ao enviar email de recuperao. Tente novamente em alguns minutos.";w.message&&(m=w.message),u(m),a("error")}finally{i(!1)}},f=()=>{r(""),a("email"),u(""),i(!1),t()},g=()=>{a("email"),u(""),i(!1)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[c.jsx("button",{onClick:f,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:s,children:c.jsx(Zn,{className:"w-6 h-6"})}),o==="email"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(Cb,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Esqueci minha senha"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite seu email para receber o link de recuperao"})]})]}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:n,onChange:x=>r(x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"seu@email.com",required:!0,disabled:s,autoComplete:"email"})]}),l&&c.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})}),c.jsxs("button",{type:"submit",disabled:s||!n.trim(),className:Y("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",s||!n.trim()?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[s&&c.jsx(Qs,{className:"w-4 h-4 animate-spin"}),s?"Verificando...":"Enviar link de recuperao"]})]}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:c.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Dica:"})," Verifique sua pasta de spam caso no receba o email em alguns minutos."]})})]}),o==="sent"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx(Hu,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Email enviado!"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Enviamos um link de recuperao para ",c.jsx("strong",{children:n}),". Verifique sua caixa de entrada e pasta de spam."]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[c.jsx("strong",{children:"Importante:"})," O link expira em 1 hora. Se no receber o email em alguns minutos, verifique sua pasta de spam ou tente novamente."]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:f,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Fechar"}),c.jsx("button",{onClick:g,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Enviar novamente"})]})]}),o==="error"&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:c.jsx(Bu,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao enviar"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:g,className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Tentar novamente"}),c.jsx("button",{onClick:f,className:"w-full py-2.5 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors font-medium",children:"Fechar"})]})]})]})})}function PT({isOpen:e,onClose:t,initialMode:n="signin"}){const[r,s]=S.useState(n),[i,o]=S.useState(""),[a,l]=S.useState(""),[u,d]=S.useState(""),[h,f]=S.useState("Client"),[g,x]=S.useState(!1),[v,w]=S.useState(!1),m=je(),{signIn:p,signUp:y}=ke();if(S.useEffect(()=>{e&&(s(n),o(""),l(""),d(""),f("Client"),w(!1))},[e,n]),!e)return null;const b=async E=>{E.preventDefault(),x(!0);try{r==="signin"?await p(i,a,u):await y(i,a,u,h),t()}catch(C){console.error("Auth error:",C)}finally{x(!1)}},k=()=>{w(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Zn,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-black dark:text-white",children:r==="signin"?m.common.signIn:m.common.createaccount}),c.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r==="signup"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.name}),c.jsx("input",{type:"text",id:"name",name:"name",value:u,onChange:E=>d(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.accountType}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("button",{type:"button",onClick:()=>f("Client"),className:Y("px-4 py-2 rounded-lg border-2 transition-colors dark:bg-white dark:text-black",h==="Client"?"border-green-500 bg-green-50 dark:bg-green-50 text-green-700 dark:text-green-700":"border-gray-200 hover:border-green-200"),children:m.profile.client}),c.jsx("button",{type:"button",onClick:()=>f("Nutritionist"),className:Y("px-4 py-2 rounded-lg border-2 transition-colors dark:bg-white dark:text-black",h==="Nutritionist"?"border-green-500 bg-green-50 dark:bg-green-50 text-green-700 dark:text-green-700":"border-gray-200 hover:border-green-200"),children:m.profile.nutricionist})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:"Email"}),c.jsx("input",{type:"email",id:"email",name:"email",value:i,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m.profile.password}),c.jsx("input",{type:"password",id:"password",name:"password",value:a,onChange:E=>l(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),r==="signin"&&c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"button",onClick:k,className:"text-sm text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 font-medium",children:"Esqueci minha senha"})}),c.jsx("button",{type:"submit",disabled:g,className:Y("w-full py-2 rounded-lg text-white font-medium transition-colors",g?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:g?m.common.loading:r==="signin"?m.common.signIn:m.common.signUp})]}),c.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-300",children:[r==="signin"?m.common.dontHaveAccount:m.common.alreadyHaveAccount,c.jsx("button",{onClick:()=>s(r==="signin"?"signup":"signin"),className:"text-green-600 hover:text-green-700 font-medium ml-1",children:r==="signin"?m.common.signUp:m.common.signIn})]})]})}),c.jsx(NT,{isOpen:v,onClose:()=>w(!1)})]})}function Tp(){const{theme:e,setTheme:t}=Aa(),n=je(),r=[{id:"light",icon:Ob,label:n.common.theme.light},{id:"dark",icon:Nb,label:n.common.theme.dark}];return c.jsx("div",{className:"flex items-center gap-2",children:r.map(({id:s,icon:i,label:o})=>c.jsx("button",{onClick:()=>t(s),className:`p-2 rounded-lg transition-colors ${e===s?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,title:o,children:c.jsx(i,{className:"w-5 h-5"})},s))})}function Np(){const{language:e,setLanguage:t}=Aa(),[n,r]=S.useState(!1),s=[{value:"en",label:"English",flag:""},{value:"pt",label:"Portugus",flag:""}],i=s.find(o=>o.value===e);return c.jsxs("div",{className:"relative",children:[c.jsxs(K.button,{onClick:()=>r(!n),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Sb,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),c.jsx("span",{className:"text-lg",children:i==null?void 0:i.flag}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 hidden sm:block",children:i==null?void 0:i.label})]}),c.jsx(K.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:c.jsx(kb,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),c.jsx(wi,{children:n&&c.jsxs(c.Fragment,{children:[c.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>r(!1)}),c.jsx(K.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:s.map((o,a)=>c.jsxs(K.button,{onClick:()=>{t(o.value),r(!1)},className:`w-full px-4 py-3 text-left flex items-center gap-3 transition-colors ${e===o.value?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},whileHover:{x:4},children:[c.jsx("span",{className:"text-xl",children:o.flag}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:o.label}),e===o.value&&c.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Selecionado"})]}),e===o.value&&c.jsx(K.div,{className:"ml-auto w-2 h-2 bg-green-500 rounded-full",initial:{scale:0},animate:{scale:1},transition:{delay:.1}})]},o.value))})]})})]})}function AT({onProfileClick:e,onAIMentoringClick:t}){const[n,r]=S.useState(!1),[s,i]=S.useState("signin"),[o,a]=S.useState(!1),{user:l,isAuthenticated:u,signOut:d,isNutritionist:h}=ke(),{hasFeatureAccess:f}=ed(),{searchQuery:g,setSearchQuery:x}=td(),v=je(),w=p=>{i(p),r(!0)},m=u&&(h()||f("ai_mentoring"));return c.jsxs(c.Fragment,{children:[c.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(K.h1,{className:"text-2xl font-bold text-green-600 dark:text-green-400 cursor-pointer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"NutriChef"})}),c.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-8",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:g,onChange:p=>x(p.target.value),placeholder:v.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),c.jsx(qh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-200 dark:border-gray-600 pr-4 mr-4",children:[c.jsx(Tp,{}),c.jsx(Np,{})]}),u?c.jsxs(K.div,{className:"flex items-center space-x-4",initial:{opacity:0},animate:{opacity:1},children:[c.jsxs("button",{onClick:t,className:Y("flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors",m?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),title:m?"Mentoria IA":"Mentoria IA (Premium)",children:[c.jsx(Vn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden lg:inline",children:"Mentoria IA"}),!m&&c.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:"Premium"})]}),c.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(Zs,{className:"w-4 h-4"}),c.jsx("span",{children:l==null?void 0:l.name})]}),c.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsx(Wh,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.signOut})]})]}):c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(K.button,{onClick:()=>w("signin"),className:"px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.common.signIn}),c.jsx(K.button,{onClick:()=>w("signup"),className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.common.signUp})]})]}),c.jsxs("div",{className:"md:hidden flex items-center gap-4",children:[c.jsx(Tp,{}),c.jsx(Np,{}),c.jsx("button",{onClick:()=>a(!o),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:c.jsx(Tb,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})]})]})}),c.jsx(wi,{children:o&&c.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:c.jsxs("div",{className:"px-4 py-3 space-y-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:g,onChange:p=>x(p.target.value),placeholder:v.common.search,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"}),c.jsx(qh,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),u?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>{t(),a(!1)},className:Y("w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors",m?"text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20":"text-gray-400 dark:text-gray-500"),children:[c.jsx(Vn,{className:"w-4 h-4"}),c.jsx("span",{children:"Mentoria IA"}),!m&&c.jsx("span",{className:"text-xs bg-yellow-500 text-white px-1 rounded",children:"Premium"})]}),c.jsxs("button",{onClick:()=>{e(),a(!1)},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(Zs,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.profile})]}),c.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsx(Wh,{className:"w-4 h-4"}),c.jsx("span",{children:v.common.signOut})]})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>{w("signin"),a(!1)},className:"w-full px-4 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:v.common.signIn}),c.jsx("button",{onClick:()=>{w("signup"),a(!1)},className:"w-full px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:v.common.signUp})]})]})})})]}),c.jsx(PT,{isOpen:n,onClose:()=>r(!1),initialMode:s})]})}const Ct=En((e,t)=>({recipes:[],favoriteRecipes:[],loading:!1,error:null,clearUserData:()=>{console.log("Clearing user data from recipes store"),e({favoriteRecipes:[]})},initializeAuth:async()=>{const{user:n}=ke.getState();n&&await t().fetchFavorites(n.id)},fetchRecipes:async()=>{e({loading:!0,error:null});try{console.log("Fetching recipes from database...");const n=await Y0();console.log("Recipes fetched successfully:",n.length),e({recipes:n,loading:!1});const{user:r}=ke.getState();r&&await t().fetchFavorites(r.id)}catch(n){console.error("Error fetching recipes:",n);const r=n instanceof Error?n.message:"Failed to fetch recipes";e({error:r,loading:!1}),z.getState().showToast("Erro ao carregar receitas","error")}},fetchFavorites:async n=>{try{console.log("Fetching favorites for user:",n);const r=await ty(n);console.log("Favorites fetched:",r),e({favoriteRecipes:r})}catch(r){console.error("Failed to fetch favorites:",r)}},addToFavorites:async n=>{const{user:r}=ke.getState();if(!r){z.getState().showToast("Faa login para favoritar receitas","error");return}try{console.log("Adding to favorites:",{userId:r.id,recipeId:n}),await Z0(r.id,n),e(s=>({favoriteRecipes:[...s.favoriteRecipes,n]})),z.getState().showToast("Adicionado aos favoritos","success")}catch(s){console.error("Failed to add favorite:",s);const i=s instanceof Error?s.message:"Erro ao adicionar aos favoritos";z.getState().showToast(i,"error")}},removeFromFavorites:async n=>{const{user:r}=ke.getState();if(!r){z.getState().showToast("Faa login para gerenciar favoritos","error");return}try{console.log("Removing from favorites:",{userId:r.id,recipeId:n}),await ey(r.id,n),e(s=>({favoriteRecipes:s.favoriteRecipes.filter(i=>i!==n)})),z.getState().showToast("Removido dos favoritos","info")}catch(s){console.error("Failed to remove favorite:",s);const i=s instanceof Error?s.message:"Erro ao remover dos favoritos";z.getState().showToast(i,"error")}},addReview:async(n,r)=>{try{console.log("Adding review:",{recipeId:n,review:r}),await J0(n,{user_id:r.userId,rating:r.rating,comment:r.comment}),await t().fetchRecipes(),z.getState().showToast("Avaliao adicionada com sucesso!","success")}catch(s){console.error("Failed to add review:",s);const i=s instanceof Error?s.message:"Erro ao adicionar avaliao";throw z.getState().showToast(i,"error"),s}},updateReview:async(n,r)=>{try{console.log("Updating review:",{reviewId:n,updates:r}),await Q0(n,r),await t().fetchRecipes(),z.getState().showToast("Avaliao atualizada com sucesso!","success")}catch(s){console.error("Failed to update review:",s);const i=s instanceof Error?s.message:"Erro ao atualizar avaliao";throw z.getState().showToast(i,"error"),s}},deleteReview:async n=>{try{console.log("Deleting review:",n),await X0(n),await t().fetchRecipes(),z.getState().showToast("Avaliao excluda com sucesso!","success")}catch(r){console.error("Failed to delete review:",r);const s=r instanceof Error?r.message:"Erro ao excluir avaliao";throw z.getState().showToast(s,"error"),r}},createRecipe:async n=>{e({loading:!0,error:null});try{console.log("Creating recipe:",n),await K0(n),await t().fetchRecipes(),z.getState().showToast("Receita criada com sucesso!","success")}catch(r){console.error("Failed to create recipe:",r);const s=r instanceof Error?r.message:"Failed to create recipe";throw e({error:s}),z.getState().showToast("Erro ao criar receita","error"),r}finally{e({loading:!1})}},updateRecipe:async n=>{e({loading:!0,error:null});try{console.log("Updating recipe:",n),await W0(n.id,n),await t().fetchRecipes(),z.getState().showToast("Receita atualizada com sucesso!","success")}catch(r){console.error("Failed to update recipe:",r);const s=r instanceof Error?r.message:"Failed to update recipe";throw e({error:s}),z.getState().showToast("Erro ao atualizar receita","error"),r}finally{e({loading:!1})}},deleteRecipe:async n=>{e({loading:!0,error:null});try{console.log("Deleting recipe:",n),await q0(n),e(r=>({recipes:r.recipes.filter(s=>s.id!==n),favoriteRecipes:r.favoriteRecipes.filter(s=>s!==n)})),z.getState().showToast("Receita excluda com sucesso!","success")}catch(r){console.error("Failed to delete recipe:",r);const s=r instanceof Error?r.message:"Failed to delete recipe";throw e({error:s}),z.getState().showToast("Erro ao excluir receita","error"),r}finally{e({loading:!1})}}})),Ji=Object.freeze(Object.defineProperty({__proto__:null,useRecipesStore:Ct},Symbol.toStringTag,{value:"Module"}));function Kc({recipe:e,onClick:t}){const{favoriteRecipes:n,addToFavorites:r,removeFromFavorites:s}=Ct(),{isAuthenticated:i}=ke(),o=je(),l=o.recipe.difficultyLevels[e.difficulty]||e.difficulty,u=o.categories,h=(v=>{const w={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},m=v.toLowerCase().replace(/\s+/g,""),p=Object.keys(w).find(b=>b.toLowerCase().replace(/\s+/g,"")===m);return p?u[w[p]]:u[v]||v})(e.category),f=n.includes(e.id),g=async v=>{if(v.stopPropagation(),!!i)try{f?await s(e.id):await r(e.id)}catch(w){console.error("Error toggling favorite:",w)}},x=()=>e.rating===0||!e.rating?"Sem avaliaes":e.rating.toFixed(1);return c.jsxs("div",{onClick:t,className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer flex flex-col h-full",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover",onError:v=>{const w=v.target;w.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop"}}),c.jsx("span",{className:"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:h}),i&&c.jsx("button",{onClick:g,className:Y("absolute top-4 left-4 p-2 rounded-full bg-white dark:bg-gray-800 shadow-md transition-colors",f?"text-red-500":"text-gray-400 hover:text-red-500"),children:c.jsx(Gu,{className:Y("w-5 h-5",f&&"fill-current")})})]}),c.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[c.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white line-clamp-2",children:e.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3 flex-grow",children:e.description}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mt-auto pt-4 border-t border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pa,{className:"w-4 h-4 flex-shrink-0"}),c.jsxs("span",{className:"whitespace-nowrap",children:[e.prepTime,"min"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fa,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:Y("capitalize whitespace-nowrap",e.difficulty==="easy"&&"text-green-500",e.difficulty==="medium"&&"text-yellow-500",e.difficulty==="hard"&&"text-red-500"),children:l})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(fi,{className:"w-4 h-4 fill-yellow-400 text-yellow-400 flex-shrink-0"}),c.jsx("span",{className:"whitespace-nowrap text-xs",children:x()})]})]})]})]})}function RT({categories:e,selectedCategory:t,onSelectCategory:n}){const s=je().categories;return c.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(i=>{const o=s[i]||i;return c.jsx("button",{onClick:()=>n(i),className:Y("px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium transition-all duration-200 whitespace-nowrap",t===i?"bg-green-500 text-white shadow-md transform scale-105":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:scale-105"),children:o},i)})})}function IT(){const[e,t]=S.useState(!1),[n,r]=S.useState("right"),s=S.useRef(null),i=S.useRef(null),{difficulty:o,prepTimeRange:a,minRating:l,setDifficulty:u,setPrepTimeRange:d,setMinRating:h,resetFilters:f}=td(),g=je(),x=[{value:"quick",label:g.filters.prepTime.quick,max:15},{value:"medium",label:g.filters.prepTime.medium,max:30},{value:"long",label:g.filters.prepTime.long,max:null}],v=[{value:"easy",label:g.recipe.difficultyLevels.easy},{value:"medium",label:g.recipe.difficultyLevels.medium},{value:"hard",label:g.recipe.difficultyLevels.hard}],w=[{value:4,label:"4+ "},{value:4.5,label:"4.5+ "},{value:5,label:"5 "}],m=o||a||l;return S.useEffect(()=>{if(e&&s.current){const p=s.current.getBoundingClientRect(),y=window.innerWidth;p.right+320+16>y?r("left"):r("right")}},[e]),S.useEffect(()=>{function p(y){i.current&&!i.current.contains(y.target)&&s.current&&!s.current.contains(y.target)&&t(!1)}if(e)return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[e]),S.useEffect(()=>{function p(y){y.key==="Escape"&&t(!1)}if(e)return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e]),c.jsxs("div",{className:"relative",children:[c.jsxs(K.button,{ref:s,onClick:()=>t(!e),className:Y("flex items-center gap-2 px-3 sm:px-4 py-2 rounded-lg border transition-all duration-200 whitespace-nowrap text-sm font-medium",m?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-700 dark:text-green-400":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[c.jsx(_b,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"hidden sm:inline",children:g.filters.advanced}),c.jsx("span",{className:"sm:hidden",children:"Filtros"}),m&&c.jsx(K.span,{initial:{scale:0},animate:{scale:1},className:"bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:[o,a,l].filter(Boolean).length})]}),c.jsx(wi,{children:e&&c.jsxs(K.div,{ref:i,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:Y("absolute top-full mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 p-4 sm:p-6 z-50 max-h-[80vh] overflow-y-auto","right-0",n==="left"&&"sm:right-0 sm:left-auto",n==="right"&&"sm:left-0 sm:right-auto","w-72 sm:w-80"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:g.filters.advanced}),c.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:c.jsx(Zn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(fa,{className:"w-4 h-4 flex-shrink-0"}),g.recipe.difficulty]}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:v.map(p=>c.jsx(K.button,{onClick:()=>u(o===p.value?null:p.value),className:Y("px-2 sm:px-3 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-center",o===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.02},whileTap:{scale:.98},children:p.label},p.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(pa,{className:"w-4 h-4 flex-shrink-0"}),g.recipe.prepTime]}),c.jsx("div",{className:"space-y-2",children:x.map(p=>c.jsx(K.button,{onClick:()=>d(a===p.value?null:p.value),className:Y("w-full px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-left",a===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:[c.jsx(fi,{className:"w-4 h-4 flex-shrink-0"}),g.filters.minRating]}),c.jsx("div",{className:"space-y-2",children:w.map(p=>c.jsx(K.button,{onClick:()=>h(l===p.value?null:p.value),className:Y("w-full px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 text-left",l===p.value?"bg-green-100 text-green-700 border border-green-300 dark:bg-green-900/30 dark:text-green-400 dark:border-green-600":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:border-gray-600"),whileHover:{scale:1.01},whileTap:{scale:.99},children:p.label},p.value))})]}),m&&c.jsx(K.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>{f(),t(!1)},className:"w-full px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 text-sm font-medium",whileHover:{scale:1.01},whileTap:{scale:.99},children:g.filters.clearAll})]})]})})]})}function OT({recipe:e,isOpen:t,onClose:n}){const{updateRecipe:r}=Ct(),s=je(),[i,o]=S.useState(!1),[a,l]=S.useState(e);if(!t)return null;const u=async A=>{A.preventDefault(),o(!0);try{await r(a),n()}catch(P){console.error("Error updating recipe:",P)}finally{o(!1)}},d=(A,P,q)=>{l(se=>({...se,[A]:se[A].map((Ve,Ee)=>Ee===P?q:Ve)}))},h=A=>{l(P=>({...P,[A]:[...P[A],""]}))},f=(A,P)=>{l(q=>({...q,[A]:q[A].filter((se,Ve)=>Ve!==P)}))},g=(A,P)=>{const q=parseFloat(P)||0;l(se=>({...se,nutritionFacts:{...se.nutritionFacts,[A]:q}}))},x=s.recipe.edit||"Editar Receita",v=s.recipe.recipeTitle,w=s.recipe.recipeDescription,m=s.recipe.recipeImageURL,p=s.recipe.prepTime,y=s.recipe.difficulty,b=s.recipe.recipeCategory,k=s.recipe.ingredients,E=s.recipe.instructions,C=s.recipe.nutritionFacts,j=s.recipe.addIngredient,I=s.recipe.addStep,O=Object.keys(s.categories).map(A=>({value:A,label:s.categories[A]}));return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 text-black dark:text-gray-400 rounded-xl max-w-3xl w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[c.jsx("button",{onClick:n,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Zn,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:x}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:v}),c.jsx("input",{type:"text",value:a.title,onChange:A=>l(P=>({...P,title:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:m}),c.jsx("input",{type:"url",value:a.image,onChange:A=>l(P=>({...P,image:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:w}),c.jsx("textarea",{value:a.description,onChange:A=>l(P=>({...P,description:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",rows:3,required:!0})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:p}),c.jsx("input",{type:"number",value:a.prepTime,onChange:A=>l(P=>({...P,prepTime:Number(A.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",min:"1",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:y}),c.jsxs("select",{value:a.difficulty,onChange:A=>l(P=>({...P,difficulty:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:[c.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),c.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),c.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:b}),c.jsx("select",{value:a.category,onChange:A=>l(P=>({...P,category:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:O.map(A=>c.jsx("option",{value:A.value,children:A.label},A.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:k}),a.ingredients.map((A,P)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:A,onChange:q=>d("ingredients",P,q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:s.recipe.example,required:!0}),c.jsx("button",{type:"button",onClick:()=>f("ingredients",P),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx($o,{className:"w-5 h-5"})})]},P)),c.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Xs,{className:"w-4 h-4"})," ",j]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:E}),a.instructions.map((A,P)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:A,onChange:q=>d("instructions",P,q.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:`${s.recipe.Step} ${P+1}`,required:!0}),c.jsx("button",{type:"button",onClick:()=>f("instructions",P),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx($o,{className:"w-5 h-5"})})]},P)),c.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Xs,{className:"w-4 h-4"})," ",I]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2 dark:text-white",children:C}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(a.nutritionFacts).map(([A,P])=>{const q=A;return c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1 capitalize dark:text-white",children:s.profile.nutritionGoalsnames[q]}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:P,onChange:se=>g(A,se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.00",required:!0})]},A)})})]}),c.jsx("button",{type:"submit",disabled:i,className:Y("w-full py-3 rounded-lg text-white font-medium transition-colors",i?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:i?"Salvando...":"Salvar Alteraes"})]})]})})}function MT({recipe:e,onClose:t}){const[n,r]=S.useState({rating:5,comment:""}),[s,i]=S.useState(null),[o,a]=S.useState(!1),{user:l,isAuthenticated:u}=ke(),{favoriteRecipes:d,addToFavorites:h,removeFromFavorites:f,addReview:g,updateReview:x,deleteReview:v,deleteRecipe:w}=Ct(),m=je(),y=m.recipe.difficultyLevels[e.difficulty]||e.difficulty,b=m.categories,E=(_=>{const N={vegan:"vegan",lowCarb:"lowCarb","low carb":"lowCarb",highProtein:"highProtein","high protein":"highProtein",glutenFree:"glutenFree","gluten free":"glutenFree",vegetarian:"vegetarian"},M=_.toLowerCase().replace(/\s+/g,""),U=Object.keys(N).find(Wt=>Wt.toLowerCase().replace(/\s+/g,"")===M);return U?b[N[U]]:b[_]||_})(e.category),C=d.includes(e.id),j=(l==null?void 0:l.id)===e.authorId,I=async _=>{if(_.preventDefault(),!!l)try{await g(e.id,{userId:l.id,userName:l.name,rating:n.rating,comment:n.comment,date:new Date().toISOString().split("T")[0]}),r({rating:5,comment:""})}catch(N){console.error("Error adding review:",N)}},O=async _=>{if(_.preventDefault(),!!s)try{await x(s.id,{rating:s.rating,comment:s.comment}),i(null)}catch(N){console.error("Error updating review:",N)}},A=async _=>{if(window.confirm("Tem certeza que deseja excluir esta avaliao?"))try{await v(_)}catch(N){console.error("Error deleting review:",N)}},P=async()=>{window.confirm("Tem certeza que deseja excluir esta receita?")&&(await w(e.id),t())},q=_=>Number(_).toFixed(1),se=_=>new Date(_).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),Ve=()=>e.rating===0||!e.rating?"Sem avaliaes":`${e.rating.toFixed(1)} (${e.reviews.length} ${e.reviews.length===1?"avaliao":"avaliaes"})`,Ee=e.reviews.find(_=>_.userId===(l==null?void 0:l.id)),D=u&&!Ee;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto z-50",children:c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full p-6 relative text-gray-600 dark:text-white dark:bg-gray-800",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 text-2xl",children:""}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-lg"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsxs("h4",{className:"font-medium mb-2 text-gray-900 dark:text-white flex items-center gap-2 text-sm",children:[c.jsx(Zs,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),"Informaes do Autor"]}),c.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nome:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.authorName||"Usurio"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tipo:"}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.authorType==="Nutritionist"?"Nutricionista":"Cliente"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[c.jsx(bb,{className:"w-3 h-3"}),"Postado em:"]}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:se(e.createdAt)})]})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.title}),c.jsx("span",{className:"inline-block bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium mb-4",children:E})]}),c.jsxs("div",{className:"flex gap-2",children:[u&&c.jsx("button",{onClick:()=>C?f(e.id):h(e.id),className:Y("p-2 rounded-full",C?"text-red-500":"text-gray-400"),children:c.jsx(Gu,{className:Y("w-5 h-5",C&&"fill-current")})}),j&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>a(!0),className:"p-2 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors",title:"Editar receita",children:c.jsx(Ib,{className:"w-5 h-5"})}),c.jsx("button",{onClick:P,className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors",title:"Excluir receita",children:c.jsx(Yh,{className:"w-5 h-5"})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4 dark:text-gray-300",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(pa,{className:"w-4 h-4"}),c.jsxs("span",{children:[e.prepTime,"min"]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(fa,{className:"w-4 h-4"}),c.jsx("span",{className:Y("capitalize",e.difficulty==="easy"&&"text-green-500",e.difficulty==="medium"&&"text-yellow-500",e.difficulty==="hard"&&"text-red-500"),children:y})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(fi,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),c.jsx("span",{children:Ve()})]})]}),c.jsx("p",{className:"text-gray-600 mb-4 dark:text-gray-300",children:e.description}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg mb-4",children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.nutritionFacts}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700 dark:text-gray-300",children:[c.jsxs("div",{children:[m.profile.nutritionGoalsnames.calories,": ",q(e.nutritionFacts.calories)," kcal"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.protein,": ",q(e.nutritionFacts.protein)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.carbs,": ",q(e.nutritionFacts.carbs)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.fat,": ",q(e.nutritionFacts.fat)," g"]}),c.jsxs("div",{children:[m.profile.nutritionGoalsnames.fiber,": ",q(e.nutritionFacts.fiber)," g"]})]})]})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.ingredients}),c.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.ingredients.map((_,N)=>c.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:_},N))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-white",children:m.recipe.instructions}),c.jsx("ol",{className:"list-decimal list-inside space-y-2",children:e.instructions.map((_,N)=>c.jsx("li",{className:"text-gray-600 dark:text-gray-300",children:_},N))})]})]}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:[m.recipe.reviews," (",e.reviews.length,")"]}),D&&c.jsxs("form",{onSubmit:I,className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-3 text-gray-900 dark:text-white",children:"Adicionar Avaliao"}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[m.recipe.rating,":"]}),[1,2,3,4,5].map(_=>c.jsx("button",{type:"button",onClick:()=>r(N=>({...N,rating:_})),className:Y("text-2xl transition-colors",_<=n.rating?"text-yellow-400":"text-gray-300"),children:""},_))]}),c.jsx("textarea",{value:n.comment,onChange:_=>r(N=>({...N,comment:_.target.value})),placeholder:m.recipe.writeReview,className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-black",rows:3,required:!0}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:m.recipe.submitReview})]}),s&&c.jsxs("form",{onSubmit:O,className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Editar Avaliao"}),c.jsx("button",{type:"button",onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:c.jsx(Zn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Avaliao:"}),[1,2,3,4,5].map(_=>c.jsx("button",{type:"button",onClick:()=>i(N=>N?{...N,rating:_}:null),className:Y("text-2xl transition-colors",_<=s.rating?"text-yellow-400":"text-gray-300"),children:""},_))]}),c.jsx("textarea",{value:s.comment,onChange:_=>i(N=>N?{...N,comment:_.target.value}:null),placeholder:"Escreva sua avaliao...",className:"w-full p-2 border border-gray-300 rounded-lg mb-2 text-black",rows:3,required:!0}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar Alteraes"}),c.jsx("button",{type:"button",onClick:()=>i(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]}),!u&&c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:m.recipe.signInToReview}),c.jsx("div",{className:"space-y-4",children:e.reviews.length===0?c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m.recipe.noReviews||"Nenhuma avaliao ainda"}):e.reviews.map(_=>{const N=(l==null?void 0:l.id)===_.userId;return c.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_.userName}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center",children:[...Array(5)].map((M,U)=>c.jsx("span",{className:Y("text-lg",U<_.rating?"text-yellow-400":"text-gray-300"),children:""},U))}),N&&c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>i({id:_.id,rating:_.rating,comment:_.comment}),className:"p-1 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Editar avaliao",children:c.jsx(Pb,{className:"w-3 h-3"})}),c.jsx("button",{onClick:()=>A(_.id),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Excluir avaliao",children:c.jsx(Yh,{className:"w-3 h-3"})})]})]})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:_.comment}),c.jsx("span",{className:"text-sm text-gray-400",children:_.date})]},_.id)})})]})]})})}),o&&c.jsx(OT,{recipe:e,isOpen:o,onClose:()=>a(!1)})]})}function LT({isOpen:e,onClose:t}){var v,w;const{user:n}=ke(),{createRecipe:r}=Ct(),s=je(),[i,o]=S.useState(!1),[a,l]=S.useState({title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}});if(!e||!n)return null;const u=async m=>{if(m.preventDefault(),!n){console.error("User not authenticated");return}o(!0);try{console.log("Submitting recipe:",a),console.log("User ID:",n.id);const p={...a,authorId:n.id,rating:0,reviews:[]};await r(p),l({title:"",description:"",image:"",prepTime:30,difficulty:"medium",category:"vegan",ingredients:[""],instructions:[""],nutritionFacts:{calories:0,protein:0,carbs:0,fat:0,fiber:0}}),t()}catch(p){console.error("Error creating recipe:",p)}finally{o(!1)}},d=(m,p,y)=>{l(b=>{var k;return{...b,[m]:(k=b[m])==null?void 0:k.map((E,C)=>C===p?y:E)}})},h=m=>{l(p=>({...p,[m]:[...p[m]||[],""]}))},f=(m,p)=>{l(y=>{var b;return{...y,[m]:(b=y[m])==null?void 0:b.filter((k,E)=>E!==p)}})},g=(m,p)=>{const y=parseFloat(p)||0;l(b=>({...b,nutritionFacts:{...b.nutritionFacts,[m]:y}}))},x=Object.keys(s.categories).filter(m=>m!=="all").map(m=>({value:m,label:s.categories[m]}));return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 text-black dark:text-gray-400 rounded-xl max-w-3xl w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[c.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:c.jsx(Zn,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:s.recipe.CreateNewRecipe}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeTitle}),c.jsx("input",{type:"text",value:a.title,onChange:m=>l(p=>({...p,title:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeImageURL}),c.jsx("input",{type:"url",value:a.image,onChange:m=>l(p=>({...p,image:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"https://example.com/image.jpg",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeDescription}),c.jsx("textarea",{value:a.description,onChange:m=>l(p=>({...p,description:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",rows:3,required:!0})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:[s.recipe.prepTime," (minutos)"]}),c.jsx("input",{type:"number",value:a.prepTime,onChange:m=>l(p=>({...p,prepTime:Number(m.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",min:"1",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.difficulty}),c.jsxs("select",{value:a.difficulty,onChange:m=>l(p=>({...p,difficulty:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:[c.jsx("option",{value:"easy",children:s.recipe.difficultyLevels.easy}),c.jsx("option",{value:"medium",children:s.recipe.difficultyLevels.medium}),c.jsx("option",{value:"hard",children:s.recipe.difficultyLevels.hard})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-white",children:s.recipe.recipeCategory}),c.jsx("select",{value:a.category,onChange:m=>l(p=>({...p,category:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",required:!0,children:x.map(m=>c.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.ingredients}),(v=a.ingredients)==null?void 0:v.map((m,p)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:m,onChange:y=>d("ingredients",p,y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:s.recipe.example,required:!0}),a.ingredients.length>1&&c.jsx("button",{type:"button",onClick:()=>f("ingredients",p),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx($o,{className:"w-5 h-5"})})]},p)),c.jsxs("button",{type:"button",onClick:()=>h("ingredients"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Xs,{className:"w-4 h-4"})," ",s.recipe.addIngredient]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.instructions}),(w=a.instructions)==null?void 0:w.map((m,p)=>c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:m,onChange:y=>d("instructions",p,y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:`${s.recipe.Step} ${p+1}`,required:!0}),a.instructions.length>1&&c.jsx("button",{type:"button",onClick:()=>f("instructions",p),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:c.jsx($o,{className:"w-5 h-5"})})]},p)),c.jsxs("button",{type:"button",onClick:()=>h("instructions"),className:"flex items-center gap-2 text-green-600 hover:text-green-700",children:[c.jsx(Xs,{className:"w-4 h-4"})," ",s.recipe.addStep]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2 dark:text-white",children:s.recipe.nutritionFacts}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(a.nutritionFacts||{}).map(([m,p])=>{const y=m;return c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-1 capitalize dark:text-white",children:s.profile.nutritionGoalsnames[y]}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:p,onChange:b=>g(m,b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.00",required:!0})]},m)})})]}),c.jsx("button",{type:"submit",disabled:i,className:Y("w-full py-3 rounded-lg text-white font-medium transition-colors",i?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:i?"Criando...":s.recipe.CreateRecipe})]})]})})}function DT(){const{user:e}=ke(),{recipes:t}=Ct();if(t.filter(n=>n.authorId===(e==null?void 0:e.id)),!e)return null}const FT={calories:2e3,protein:50,carbs:250,fat:70,fiber:25},Ov=En()(ga(e=>({goals:FT,setGoals:t=>e(n=>({goals:{...n.goals,...Object.fromEntries(Object.entries(t).map(([r,s])=>[r,Number(s)]))}}))}),{name:"nutrition-goals"}));function $T(){const{goals:e,setGoals:t}=Ov(),[n,r]=S.useState(e),s=je(),i=s.profile.saveGoals,o=s.profile.dailyGoals,a=s.profile.nutritionGoalsnames,l=d=>{d.preventDefault(),t(n)},u=(d,h)=>{const f=parseFloat(h)||0;r(g=>({...g,[d]:f}))};return c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:o}),Object.entries(n).map(([d,h])=>c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1 capitalize",children:[a[d]," ",d==="calories"?"(kcal)":"(g)"]}),c.jsx("input",{type:"number",step:"0.1",min:"0",value:h,onChange:f=>u(d,f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-black",placeholder:"0.0",required:!0})]},d)),c.jsx("button",{type:"submit",className:"w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:i})]})}function El({active:e,onClick:t,children:n}){return c.jsx("button",{onClick:t,className:`px-4 py-2 font-medium rounded-lg transition-colors ${e?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"}`,children:n})}function VT(){const[e,t]=Xc.useState("recipes"),{user:n}=ke(),{recipes:r,favoriteRecipes:s}=Ct(),i=r.filter(h=>h.authorId===(n==null?void 0:n.id)),o=r.filter(h=>s.includes(h.id)),a=je(),l=a.buttons.My_recipes,u=a.buttons.Favorites,d=a.buttons.Nutrition_goal;return c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"flex gap-2 mb-6",children:[(n==null?void 0:n.type)==="Nutritionist"&&c.jsx(El,{active:e==="recipes",onClick:()=>t("recipes"),children:l}),c.jsx(El,{active:e==="favorites",onClick:()=>t("favorites"),children:u}),c.jsx(El,{active:e==="nutrition",onClick:()=>t("nutrition"),children:d})]}),c.jsxs("div",{className:"mt-6",children:[e==="recipes"&&(n==null?void 0:n.type)==="Nutritionist"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(h=>c.jsx(Kc,{recipe:h,onClick:()=>{}},h.id)),i.length===0&&c.jsx("p",{className:"text-gray-500 col-span-full text-center py-8",children:a.profile.noRecipesYet})]}),e==="favorites"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.map(h=>c.jsx(Kc,{recipe:h,onClick:()=>{}},h.id)),o.length===0&&c.jsx("p",{className:"text-gray-500 col-span-full text-center py-8",children:a.profile.noFavorites})]}),e==="nutrition"&&c.jsx("div",{className:"max-w-md mx-auto",children:c.jsx($T,{})})]})]})}function UT(){var d;const{user:e}=ke(),{recipes:t,favoriteRecipes:n}=Ct(),{goals:r}=Ov(),s=je();if(!e||e.type!=="Client")return null;const i=e.profile||{},o=t.filter(h=>n.includes(h.id)),a=o.length,l=o.reduce((h,f)=>h+f.nutritionFacts.calories,0)/(a||1),u=o.reduce((h,f)=>h+f.prepTime,0)/(a||1);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:s.profile.personalInfo}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.name}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.email}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.profile.accountType}),c.jsx("p",{className:"font-medium capitalize text-gray-900 dark:text-white",children:s.profile.client})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Gu,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.favorites})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:a})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(yb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.nutritionGoalsnames.calories})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:l.toFixed(0)})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(pa,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.recipe.prepTime})]}),c.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[u.toFixed(0),"min"]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Mb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.profile.healthGoals})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:((d=i.healthGoals)==null?void 0:d.length)||0})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:s.profile.dailyGoals}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(r).map(([h,f])=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:h})]},h))})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:s.profile.recentFavorites}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.slice(0,3).map(h=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("img",{src:h.image,alt:h.title,className:"w-16 h-16 object-cover rounded-lg"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:h.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.category}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{children:[" ",h.rating.toFixed(1)]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[h.prepTime,"min"]})]})]})]},h.id))})]})]})}function zT(){const{user:e}=ke(),{recipes:t}=Ct(),n=je();if(!e||e.type!=="Nutritionist")return null;const r=e.profile||{},s=t.filter(a=>a.authorId===e.id),i=s.reduce((a,l)=>a+l.reviews.length,0),o=s.reduce((a,l)=>a+l.rating,0)/s.length||0;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:n.profile.personalInfo}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.profile.name}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.profile.email}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.email})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.profile.accountType}),c.jsx("p",{className:"font-medium capitalize text-gray-900 dark:text-white",children:n.profile.nutricionist})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(wb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.publishedRecipes})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:s.length})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Db,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.totalReviews})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:i})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(Lb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.averageRating})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:o.toFixed(1)})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(xb,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:n.profile.experience})]}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:r.experience||"N/A"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:n.profile.myRecipes}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.slice(-3).map(a=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx("img",{src:a.image,alt:a.title,className:"w-16 h-16 object-cover rounded-lg"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.title}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{children:[" ",a.rating.toFixed(1)]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[a.reviews.length," ",n.recipe.reviews]})]})]})]},a.id))})]})]})}function BT({onBackToRecipes:e}){const{user:t}=ke(),r=je().buttons.BackToRecipes;return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 group",children:[c.jsx(l0,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),r]}),c.jsxs("div",{className:"space-y-8",children:[c.jsx(DT,{}),(t==null?void 0:t.type)==="Client"?c.jsx(UT,{}):c.jsx(zT,{}),c.jsx(VT,{})]})]})}function HT(){const[e,t]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(!1),[o,a]=S.useState(!1),[l,u]=S.useState(!1),[d,h]=S.useState(!0),[f,g]=S.useState("idle"),[x,v]=S.useState(""),[w,m]=S.useState(!1);S.useEffect(()=>{(async()=>{try{console.log("Checking recovery token..."),(await iy()).valid?(console.log("Valid recovery token found"),m(!0)):(g("error"),v("Link de recuperao invlido ou expirado. Solicite um novo link."),m(!1))}catch(I){console.error("Token validation error:",I),g("error"),v("Erro ao validar link de recuperao. Tente novamente."),m(!1)}finally{h(!1)}})()},[]);const p=j=>{const I=[];return j.length<6&&I.push("A senha deve ter pelo menos 6 caracteres"),/(?=.*[a-z])/.test(j)||I.push("A senha deve conter pelo menos uma letra minscula"),/(?=.*[A-Z])/.test(j)||I.push("A senha deve conter pelo menos uma letra maiscula"),/(?=.*\d)/.test(j)||I.push("A senha deve conter pelo menos um nmero"),I},y=async j=>{j.preventDefault(),u(!0),v("");const I=p(e);if(I.length>0){v(I[0]),u(!1);return}if(e!==n){v("As senhas no coincidem"),u(!1);return}try{console.log("Updating password..."),await sy(e),console.log("Password updated successfully"),g("success"),setTimeout(async()=>{await H.auth.signOut(),setTimeout(()=>{window.location.href="/"},3e3)},1e3)}catch(O){console.error("Password reset error:",O),v(O.message||"Erro inesperado. Tente novamente."),g("error")}finally{u(!1)}},k=(j=>{let I=0;return j.length>=6&&I++,j.match(/[a-z]/)&&I++,j.match(/[A-Z]/)&&I++,j.match(/[0-9]/)&&I++,j.match(/[^a-zA-Z0-9]/)&&I++,I})(e),E=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"],C=["Muito fraca","Fraca","Regular","Boa","Forte"];return d?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx(Qs,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-green-600"}),c.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Verificando link de recuperao..."}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aguarde enquanto validamos seu link de recuperao."})]})}):f==="success"?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:c.jsx(Hu,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Senha redefinida com sucesso!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sua senha foi alterada com sucesso. Voc ser redirecionado para a pgina de login em alguns segundos."}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:c.jsx(K.div,{className:"bg-green-600 h-2 rounded-full",initial:{width:0},animate:{width:"100%"},transition:{duration:3}})}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Ir para login agora"})]})}):f==="error"||!w?c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-6",children:c.jsx(Bu,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Link invlido ou expirado"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:x||"Este link de recuperao  invlido ou expirou. Solicite um novo link de recuperao."}),c.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Voltar ao login"})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-md w-full p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:c.jsx(Eb,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Nova senha"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digite sua nova senha segura"})]})]}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Rb,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Dicas para uma senha segura:"}),c.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[c.jsx("li",{children:" Pelo menos 6 caracteres"}),c.jsx("li",{children:" Combine letras maisculas e minsculas"}),c.jsx("li",{children:" Inclua nmeros e smbolos"}),c.jsx("li",{children:" Evite informaes pessoais"})]})]})]})}),c.jsxs("form",{onSubmit:y,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nova senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:s?"text":"password",id:"password",value:e,onChange:j=>t(j.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite sua nova senha",required:!0,disabled:l}),c.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:s?c.jsx(Gh,{className:"w-5 h-5"}):c.jsx(Kh,{className:"w-5 h-5"})})]}),e&&c.jsx("div",{className:"mt-2",children:c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:c.jsx("div",{className:Y("h-2 rounded-full transition-all duration-300",E[Math.max(0,k-1)]),style:{width:`${k/5*100}%`}})}),c.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:C[Math.max(0,k-1)]})]})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:o?"text":"password",id:"confirmPassword",value:n,onChange:j=>r(j.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirme sua nova senha",required:!0,disabled:l}),c.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:l,children:o?c.jsx(Gh,{className:"w-5 h-5"}):c.jsx(Kh,{className:"w-5 h-5"})})]}),n&&e!==n&&c.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"As senhas no coincidem"})]}),x&&c.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:x})}),c.jsxs("button",{type:"submit",disabled:l||e!==n||k<3,className:Y("w-full py-2.5 rounded-lg text-white font-medium transition-colors flex items-center justify-center gap-2",l||e!==n||k<3?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:[l&&c.jsx(Qs,{className:"w-4 h-4 animate-spin"}),l?"Redefinindo...":"Redefinir senha"]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>window.location.href="/",className:"text-sm text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium",disabled:l,children:"Voltar ao login"})})]})})}var Pp;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Pp||(Pp={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ap;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Ap||(Ap={}));var Rp;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Rp||(Rp={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=["user","model","function","system"];var Yo;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Yo||(Yo={}));var Jo;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Jo||(Jo={}));var Op;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Op||(Op={}));var Mp;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Mp||(Mp={}));var Is;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Is||(Is={}));var Lp;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Lp||(Lp={}));var Dp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Dp||(Dp={}));var Fp;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Fp||(Fp={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class ar extends Ae{constructor(t,n){super(t),this.response=n}}class Mv extends Ae{constructor(t,n,r,s){super(t),this.status=n,this.statusText=r,this.errorDetails=s}}class vn extends Ae{}class Lv extends Ae{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="https://generativelanguage.googleapis.com",KT="v1beta",WT="0.24.1",qT="genai-js";var Jn;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Jn||(Jn={}));class YT{constructor(t,n,r,s,i){this.model=t,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||KT;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||GT}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function JT(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${qT}/${WT}`),t.join(" ")}async function QT(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",JT(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new vn(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new vn(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new vn(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function XT(e,t,n,r,s,i){const o=new YT(e,t,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},nN(i)),{method:"POST",headers:await QT(o),body:s})}}async function bi(e,t,n,r,s,i={},o=fetch){const{url:a,fetchOptions:l}=await XT(e,t,n,r,s,i);return ZT(a,l,o)}async function ZT(e,t,n=fetch){let r;try{r=await n(e,t)}catch(s){eN(s,e)}return r.ok||await tN(r,e),r}function eN(e,t){let n=e;throw n.name==="AbortError"?(n=new Lv(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof Mv||e instanceof vn||(n=new Ae(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function tN(e,t){let n="",r;try{const s=await e.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new Mv(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function nN(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),fo(e.candidates[0]))throw new ar(`${rn(e)}`,e);return rN(e)}else if(e.promptFeedback)throw new ar(`Text not available. ${rn(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),fo(e.candidates[0]))throw new ar(`${rn(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),$p(e)[0]}else if(e.promptFeedback)throw new ar(`Function call not available. ${rn(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),fo(e.candidates[0]))throw new ar(`${rn(e)}`,e);return $p(e)}else if(e.promptFeedback)throw new ar(`Function call not available. ${rn(e)}`,e)},e}function rN(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function $p(e){var t,n,r,s;const i=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const sN=[Is.RECITATION,Is.SAFETY,Is.LANGUAGE];function fo(e){return!!e.finishReason&&sN.includes(e.finishReason)}function rn(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];fo(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function oi(e){return this instanceof oi?(this.v=e,this):new oi(e)}function iN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(g){return new Promise(function(x,v){i.push([f,g,x,v])>1||a(f,g)})})}function a(f,g){try{l(r[f](g))}catch(x){h(i[0][3],x)}}function l(f){f.value instanceof oi?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,g){f(g),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function oN(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=cN(t),[r,s]=n.tee();return{stream:lN(r),response:aN(s)}}async function aN(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Md(uN(t));t.push(s)}}function lN(e){return iN(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield oi(n.read());if(s)break;yield yield oi(Md(r))}})}function cN(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new Ae("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(Vp),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new Ae(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(Vp)}return i()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new Lv("Request aborted when reading from the stream"):a=new Ae("Error reading from the stream"),a})}}})}function uN(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dv(e,t,n,r){const s=await bi(t,Jn.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return oN(s)}async function Fv(e,t,n,r){const i=await(await bi(t,Jn.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:Md(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function ai(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return dN(t)}function dN(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of e)"functionResponse"in i?(n.parts.push(i),s=!0):(t.parts.push(i),r=!0);if(r&&s)throw new Ae("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new Ae("No content is provided for sending chat message.");return r?t:n}function hN(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new vn("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(s)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const i=ai(e);r.contents=[i]}return{generateContentRequest:r}}function Up(e){let t;return e.contents?t=e:t={contents:[ai(e)]},e.systemInstruction&&(t.systemInstruction=$v(e.systemInstruction)),t}function fN(e){return typeof e=="string"||Array.isArray(e)?{content:ai(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],pN={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function mN(e){let t=!1;for(const n of e){const{role:r,parts:s}=n;if(!t&&r!=="user")throw new Ae(`First content should be with role 'user', got ${r}`);if(!Ip.includes(r))throw new Ae(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Ip)}`);if(!Array.isArray(s))throw new Ae("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Ae("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const l of zp)l in a&&(i[l]+=1);const o=pN[r];for(const a of zp)if(!o.includes(a)&&i[a]>0)throw new Ae(`Content with role '${r}' can't contain '${a}' part`);t=!0}}function Bp(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="SILENT_ERROR";class gN{constructor(t,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(mN(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=ai(t),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>Fv(this._apiKey,this.model,d,h)).then(g=>{var x;if(Bp(g.response)){this._history.push(u);const v=Object.assign({parts:[],role:"model"},(x=g.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(v)}else{const v=rn(g.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}f=g}).catch(g=>{throw this._sendPromise=Promise.resolve(),g}),await this._sendPromise,f}async sendMessageStream(t,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=ai(t),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n),f=Dv(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>f).catch(g=>{throw new Error(Hp)}).then(g=>g.response).then(g=>{if(Bp(g)){this._history.push(u);const x=Object.assign({},g.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=rn(g);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(g=>{g.message!==Hp&&console.error(g)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(e,t,n,r){return(await bi(t,Jn.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(e,t,n,r){return(await bi(t,Jn.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function xN(e,t,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await bi(t,Jn.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=$v(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const s=Up(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Fv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(t,n={}){var r;const s=Up(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Dv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(t){var n;return new gN(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=hN(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return yN(this.apiKey,this.model,r,s)}async embedContent(t,n={}){const r=fN(t),s=Object.assign(Object.assign({},this._requestOptions),n);return vN(this.apiKey,this.model,r,s)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return xN(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Ae("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Gp(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new vn("Cached content must contain a `name` field.");if(!t.model)throw new vn("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&t[o]&&(n==null?void 0:n[o])!==t[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(a===l)continue}throw new vn(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${t[o]})`)}const i=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Gp(this.apiKey,i,r)}}const bN="gemini-2.5-flash",kN=10,Vv="AIzaSyA3ggUd1ak-vLue3TgY_OL-l7a_J-UppQs",_N=new wN(Vv);async function SN(e,t,n=[]){try{const r=jN(t),s=CN(n,t);return{content:(await _N.getGenerativeModel({model:bN,systemInstruction:{role:"system",parts:[{text:r}]},safetySettings:[{category:Yo.HARM_CATEGORY_HARASSMENT,threshold:Jo.BLOCK_MEDIUM_AND_ABOVE},{category:Yo.HARM_CATEGORY_HATE_SPEECH,threshold:Jo.BLOCK_MEDIUM_AND_ABOVE}]}).startChat({history:s}).sendMessage(e)).response.text().trim()}}catch(r){console.error("Erro ao chamar a API do Gemini:",r);let s="Desculpe, ocorreu um erro ao tentar processar sua solicitao. Tente novamente em alguns instantes.";return r instanceof Error&&(r.message.includes("API_KEY")?s="Erro de configurao da IA. Entre em contato com o suporte.":r.message.includes("quota")?s="Limite de uso da IA atingido. Tente novamente mais tarde.":(r.message.includes("network")||r.message.includes("fetch"))&&(s="Erro de conexo. Verifique sua internet e tente novamente.")),{content:s,error:r instanceof Error?r.message:"Unknown error"}}}function jN(e){return[`Voc  ${(e==null?void 0:e.ai_name)||"NutriBot"}, uma IA especializada em nutrio e alimentao saudvel.`,`Personalidade: ${EN((e==null?void 0:e.personality)||"empathetic")}`,e!=null&&e.custom_instructions?`Instrues especficas: ${e.custom_instructions}`:"","Regras importantes:","1. Sempre lembre o cliente de consultar seu nutricionista para planos alimentares personalizados.","2. No faa diagnsticos mdicos.","3. Seja til e prestativo.","4. Mantenha o foco em alimentao saudvel e bem-estar.","5. Responda em portugus brasileiro.","6. Use uma linguagem clara e acessvel.","7. Seja breve, tente no falar demais na hora das mensagens."].filter(Boolean).join(`
`)}function EN(e){const t={empathetic:"Voc  emptica e motivacional. Sempre demonstre compreenso e oferea encorajamento. Use um tom caloroso e acolhedor.",scientific:"Voc  focada em dados cientficos e evidncias. Base suas respostas em fatos nutricionais e pesquisas. Use um tom tcnico mas acessvel.",friendly:"Voc  amigvel e casual. Use um tom descontrado e prximo, como se fosse uma amiga dando conselhos.",professional:"Voc  profissional e formal. Mantenha um tom respeitoso e tcnico, como um profissional de sade."};return t[e]||t.empathetic}function CN(e,t){return e.slice(-kN).map(n=>({role:n.sender_type==="user"?"user":"model",parts:[{text:n.content}]}))}function TN(){return Vv!=="your-api-key-here"}async function Kp(e){const{data:t,error:n}=await H.from("ai_configurations").select("*").eq("nutritionist_id",e).single();if(n&&n.code!=="PGRST116")throw n;return t}async function NN(e){const{data:t,error:n}=await H.from("ai_configurations").insert(e).select().single();if(n)throw n;return t}async function PN(e,t){const{data:n,error:r}=await H.from("ai_configurations").update(t).eq("id",e).select().single();if(r)throw r;return n}async function AN(e){const{data:t,error:n}=await H.from("ai_conversations").select(`
      *,
      ai_configuration:ai_configurations!ai_conversations_ai_config_id_fkey(*)
    `).eq("client_id",e).order("last_message_at",{ascending:!1});if(n)throw n;return t||[]}async function RN(e){const{data:t,error:n}=await H.from("ai_conversations").insert(e).select(`
      *,
      ai_configuration:ai_configurations!ai_conversations_ai_config_id_fkey(*)
    `).single();if(n)throw n;return t}async function IN(e){const{data:t,error:n}=await H.from("ai_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(n)throw n;return t||[]}async function Wp(e){const{data:t,error:n}=await H.from("ai_messages").insert(e).select().single();if(n)throw n;return t}const ON=["oi","ol","ola","eai","e a","bom dia","boa tarde","boa noite","hey","hi","hello"];function MN(e){const t=e.trim().toLowerCase();return ON.some(n=>t===n||t.startsWith(n+" ")||t.startsWith(n+"!"))}function LN(e){const t=e.trim();if(t.length<6)return!0;const n=["como vai","tudo bem","teste","al","alo"],r=t.toLowerCase();return n.some(s=>r.includes(s))}const DN=new Set(["facil","fcil","faceis","fceis","simples","iniciante","media","mdia","medio","mdio","intermediaria","intermedirio","dificil","difcil","avancada","avanada","rapido","rpido","rapida","rpida","express","pratica","prtico","prtica","receita","receitas","prato","pratos","comida","alimento","alimentos","culinaria","culinria","gastronomia"]);function FN(e){const t=Or(e);return["receita","receitas","prato","pratos","comida","cozinhar","ingrediente","ingredientes","preparo","preparar","fazer","culinaria","culinria","gastronomia","alimento","alimentos","modo de preparo"].some(s=>t.includes(s))?!0:[/\b(quero|preciso|busco|procuro).+\b(com|sem|usando)\b/i,/\b(o que|oq|q).+\b(fazer|cozinhar|preparar)\b/i,/\b(receita|prato).+\b(com|sem)\b/i,/\b(ideias|ideia).+\b(receita|prato)\b/i].some(s=>s.test(e))}function Or(e){return e.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase()}function $N(e){var t;return((t=e==null?void 0:e.author_profile)==null?void 0:t.full_name)??(e==null?void 0:e.__author_name)??(e==null?void 0:e.author_name)??(e==null?void 0:e.created_by_name)??"Autor"}const VN=[{labelPt:"Vegana",dbKeysEn:["Vegan"],variants:["vegana","vegan"]},{labelPt:"Baixo Carboidrato",dbKeysEn:["Low Carb","Keto"],variants:["baixo carboidrato","low carb","keto"]},{labelPt:"Rica em Protena",dbKeysEn:["High Protein"],variants:["rica em proteina","proteica"]},{labelPt:"Sem Glten",dbKeysEn:["Gluten-Free"],variants:["sem glten","sem gluten","gluten free"]},{labelPt:"Vegetariana",dbKeysEn:["Vegetarian"],variants:["vegetariana","vegetarian"]}],UN={morango:["fruta vermelha","frutas vermelhas","amora","framboesa","mirtilo","cereja"],frango:["peito de frango","sobrecoxa","ave"],"carne moida":["patinho moido","acem moido","coxao duro moido","carne bovina moida"],batata:["batata doce","mandioquinha","baroa","inhame"],abobrinha:["berinjela"]};function zN(e){const t=Or(e);for(const n of VN){if(t.includes(Or(n.labelPt)))return{labelPt:n.labelPt,dbKeysEn:n.dbKeysEn};if(n.variants.some(r=>t.includes(Or(r))))return{labelPt:n.labelPt,dbKeysEn:n.dbKeysEn}}return null}function BN(e){const t=e.toLowerCase();if(/\bmeia\s+hora\b/.test(t))return 30;const n=t.match(/\b(\d+)\s*(?:h|hora|horas)\s*(?:e\s*)?(\d{1,2})?\s*(?:m|min|minuto|minutos)?\b/);if(n){const i=parseInt(n[1],10),o=n[2]?parseInt(n[2],10):0;return i*60+o}const r=t.match(/\b(\d{1,3})\s*(?:m|min|minuto|minutos|minutinhos)\b/);if(r)return parseInt(r[1],10);const s=t.match(/\b(\d{1,2})\s*(?:h|hora|horas)\b/);if(s)return parseInt(s[1],10)*60}function HN(e){const t=Or(e),n={};n.wantAll=/\btodas?\b/.test(t);const r=BN(e);r!==void 0&&(n.maxPrepTime=r);const s=e.match(/menos\s+de\s+(\d{1,3})\s*(m|min|minuto|minutos|h|hora|horas)/i);if(s){const g=parseInt(s[1],10),x=s[2].toLowerCase();n.maxPrepTime=x.startsWith("h")?g*60:g}const i=e.match(/(?:no\s+mximo|no\s+maximo|at)\s+(\d{1,3})\s*(m|min|minuto|minutos|h|hora|horas)?/i);if(i){const g=parseInt(i[1],10),x=(i[2]||"min").toLowerCase();n.maxPrepTime=x.startsWith("h")?g*60:g}n.maxPrepTime===void 0&&/(rapida|rpida|rapido|rpido|express|pratica|prtico|prtica)/i.test(e)&&(n.maxPrepTime=30),/(facil|fcil|iniciante|simples)/.test(t)?n.difficulty="easy":/(media|mdia|medio|mdio|intermediaria|intermedirio)/.test(t)?n.difficulty="medium":/(dificil|difcil|avancada|avanada)/.test(t)&&(n.difficulty="hard");const o=t.match(/(?:avaliacao|avaliao|nota|estrela|rating)\D*?(\d+(?:[.,]\d+)?)/);if(o){const g=parseFloat(o[1].replace(",","."));g>=1&&g<=5&&(n.minRating=g)}const a=t.match(/(\d+(?:[.,]\d+)?)\s*(?:para\s*cima|pra\s*cima|ou\s*mais|acima)/);if(a){const g=parseFloat(a[1].replace(",","."));g>=1&&g<=5&&(n.minRating=g)}const l=t.match(/(?:acima\s*de|mais\s*que|superior\s*a)\s*(\d+(?:[.,]\d+)?)/);if(l){const g=parseFloat(l[1].replace(",","."));g>=1&&g<=5&&(n.minRating=g)}/(por|de)\s+nutricionista/.test(t)&&(n.onlyNutritionist=!0);const u=e.match(/(?:nutricionista\s+|por\s+)([A-Z][\w]+(?:\s+[A-Z][\w]+){0,3})/i);u&&(n.authorName=u[1].trim(),n.onlyNutritionist=/nutricionista/i.test(u[0]));const d=[],h=e.match(/\b(com|de|usando|contendo|feito(?:a)?\s+com)\s+([A-Za-z- ,e]+)\b/i);if(h&&h[2].split(/,| e /i).map(g=>g.trim()).filter(Boolean).forEach(g=>d.push(g)),!d.length){const g=e.replace(/[?!.,;:()]+/g," ").split(/\s+/).filter(x=>x.length>=3);g.length&&d.push(g[g.length-1])}const f=d.map(g=>g.trim()).filter(g=>{const x=Or(g);return!(DN.has(x)||n.difficulty==="easy"&&["facil","fcil","simples","iniciante","faceis","fceis"].includes(x)||n.difficulty==="medium"&&["medio","mdio","media","mdia","intermediaria","intermedirio"].includes(x)||n.difficulty==="hard"&&["dificil","difcil","avancada","avanada"].includes(x))});return f.length&&(n.searchTerms=f),n}function Uv(e){return e?`
      id, title, description, image, category, prep_time, difficulty, rating, author_id,
      author_profile:profiles!inner(id, full_name, user_type)
    `:`
    id, title, description, image, category, prep_time, difficulty, rating, author_id,
    author_profile:profiles!recipes_author_id_fkey(id, full_name, user_type)
  `}async function po(e){const{categories:t,difficulty:n,maxPrepTime:r,minRating:s,searchTerm:i,searchTerms:o,authorName:a,onlyNutritionist:l,limit:u=50}=e,d=!!(a||l),h=[];o!=null&&o.length&&h.push(...o),i&&h.push(i);let f=H.from("recipes").select(Uv(d));if(t!=null&&t.length){const v=t.map(w=>`category.ilike.%${w}%`).join(",");f=f.or(v)}if(n&&(f=f.eq("difficulty",n)),typeof r=="number"&&(f=f.lte("prep_time",r)),typeof s=="number"&&(f=f.gte("rating",s)),h.length){const v=[];for(const w of h){const m=w.trim();m&&(v.push(`title.ilike.%${m}%`),v.push(`description.ilike.%${m}%`))}v.length&&(f=f.or(v.join(",")))}l&&(f=f.eq("author_profile.user_type","Nutritionist")),a&&(f=f.ilike("author_profile.full_name",`%${a}%`));const{data:g,error:x}=await f.order("rating",{ascending:!1}).limit(u);if(x)throw x;return g||[]}async function GN(e){const t=Array.isArray(e.searchTerms)?e.searchTerms:e.searchTerm?[e.searchTerm]:[];if(t.length)for(const s of t){const i=s.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),o=UN[i];if(o!=null&&o.length)for(const a of o){const l=await po({...e,searchTerms:[a],searchTerm:void 0});if(l.length)return l}}const n={...e};n.minRating&&n.minRating>1&&(n.minRating=Math.max(1,n.minRating-.5)),n.maxPrepTime&&(n.maxPrepTime+=15),(n.difficulty==="easy"||n.difficulty==="hard")&&(n.difficulty="medium");let r=await po(n);if(!r.length&&e.categories&&(r=await po({categories:e.categories,limit:20})),!r.length){const{data:s}=await H.from("recipes").select(Uv(!1)).gte("rating",4).order("rating",{ascending:!1}).limit(10);r=s||[]}return r}function KN(e,t=12){return e.slice(0,t).map(n=>({id:n.id,title:n.title,description:n.description,image:n.image,category:n.category,prepTime:n.prep_time,difficulty:n.difficulty,rating:n.rating,author:$N(n)}))}async function WN(e){var a,l,u;const t=zN(e),n=HN(e);let r=await po({categories:t==null?void 0:t.dbKeysEn,difficulty:n.difficulty,maxPrepTime:n.maxPrepTime,minRating:n.minRating,searchTerms:n.searchTerms,authorName:n.authorName,onlyNutritionist:n.onlyNutritionist,limit:n.wantAll?100:40}),s="",i=r;if(r.length){const d=[];if(t&&d.push(t.labelPt),n.difficulty){const h={easy:"fceis",medium:"mdias",hard:"difceis"};d.push(h[n.difficulty])}typeof n.maxPrepTime=="number"&&d.push(`at ${n.maxPrepTime} min`),typeof n.minRating=="number"&&d.push(`avaliao ${n.minRating}+ estrelas`),(u=n.searchTerms)!=null&&u.length&&d.push(`com ${n.searchTerms.join(", ")}`),n.authorName&&d.push(`por ${n.authorName}`),!n.authorName&&n.onlyNutritionist&&d.push("de nutricionistas"),s=`Encontrei ${i.length} receita${i.length>1?"s":""}${d.length?" ("+d.join(", ")+")":""}:`}else{const d=await GN({categories:t==null?void 0:t.dbKeysEn,difficulty:n.difficulty,maxPrepTime:n.maxPrepTime,minRating:n.minRating,searchTerms:n.searchTerms,authorName:n.authorName,onlyNutritionist:n.onlyNutritionist});if(d.length){const h=(a=n.searchTerms)!=null&&a.length?`"${n.searchTerms.join(", ")}"`:"";s=(l=n.searchTerms)!=null&&l.length?`No achei exatamente com ${h}, mas separei **receitas semelhantes** do nosso site:`:"Separei algumas sugestes do nosso site que podem te agradar:",i=d}else return{content:'No encontrei receitas com esses critrios. Que tal tentar algo mais geral como "receitas fceis" ou "receitas veganas"?',recipes:[],suggestions:["receitas fceis","receitas rpidas","receitas saudveis"]}}const o=KN(i,n.wantAll?100:12);return{content:s,recipes:o,suggestions:o.length<5?["receitas fceis","receitas rpidas","receitas saudveis"]:[]}}async function qN(e,t,n=[]){if(MN(e))return{content:"Oi!  Tudo bem? Me conta o que voc quer ver hoje.",recipes:[],suggestions:[]};if(LN(e))return{content:"Show! Me diz de que estilo voc quer ideias (ex.: vegana, sem glten). ",recipes:[],suggestions:[]};if(FN(e))return await WN(e);const s=`${`
Voc  o assistente do NutriChefe. Polticas estritas:
- No recomende, descreva ou cite receitas que no estejam no nosso banco de dados (site).
- Se o usurio pedir uma receita, ingredientes, substituies, tempo de preparo ou modo de preparo,
  devolva apenas uma orientao neutra (sem citar receitas) e a camada de aplicao far a busca.
- Voc pode responder dvidas gerais de nutrio, segurana alimentar e tcnicas de cozinha,
  mas SEM citar receitas especficas nem links externos.
  `.trim()}

[Mensagem do usurio]
${e}`;return{content:(await SN(s,t,n)).content,recipes:[],suggestions:[]}}const YN=En((e,t)=>({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null,fetchAIConfiguration:async n=>{e({loading:!0,error:null});try{const r=await Kp(n);e({aiConfig:r,loading:!1})}catch(r){console.error("Error fetching AI configuration:",r);const s=r instanceof Error?r.message:"Erro ao carregar configurao da IA";e({error:s,loading:!1})}},createAIConfiguration:async n=>{e({loading:!0,error:null});try{const r=await NN(n);e({aiConfig:r,loading:!1}),z.getState().showToast("Configurao da IA criada com sucesso!","success")}catch(r){console.error("Error creating AI configuration:",r);const s=r instanceof Error?r.message:"Erro ao criar configurao da IA";throw e({error:s,loading:!1}),z.getState().showToast("Erro ao criar configurao da IA","error"),r}},updateAIConfiguration:async(n,r)=>{e({loading:!0,error:null});try{const s=await PN(n,r);e({aiConfig:s,loading:!1}),z.getState().showToast("Configurao da IA atualizada com sucesso!","success")}catch(s){console.error("Error updating AI configuration:",s);const i=s instanceof Error?s.message:"Erro ao atualizar configurao da IA";throw e({error:i,loading:!1}),z.getState().showToast("Erro ao atualizar configurao da IA","error"),s}},fetchConversations:async n=>{e({loading:!0,error:null});try{const r=await AN(n);e({conversations:r,loading:!1})}catch(r){console.error("Error fetching conversations:",r);const s=r instanceof Error?r.message:"Erro ao carregar conversas";e({error:s,loading:!1})}},createConversation:async(n,r)=>{e({loading:!0,error:null});try{let s=null;if(r){const o=await Kp(r);s=(o==null?void 0:o.id)||null}const i=await RN({client_id:n,nutritionist_id:r,ai_config_id:s,title:"Nova conversa com IA",is_active:!0});return e(o=>({conversations:[i,...o.conversations],currentConversation:i,loading:!1})),i}catch(s){console.error("Error creating conversation:",s);const i=s instanceof Error?s.message:"Erro ao criar conversa";throw e({error:i,loading:!1}),z.getState().showToast("Erro ao criar conversa","error"),s}},setCurrentConversation:n=>{e({currentConversation:n,messages:[]}),n&&t().fetchMessages(n.id)},fetchMessages:async n=>{e({loading:!0,error:null});try{const r=await IN(n);e({messages:r,loading:!1})}catch(r){console.error("Error fetching messages:",r);const s=r instanceof Error?r.message:"Erro ao carregar mensagens";e({error:s,loading:!1})}},sendMessage:async(n,r)=>{const{currentConversation:s}=t();if(s){e({sendingMessage:!0,error:null});try{const i=await Wp({conversation_id:n,sender_type:"user",content:r,metadata:{}});e(u=>({messages:[...u.messages,i]}));let o=t().aiConfig;if(!o&&s.ai_config_id){const{data:u}=await H.from("ai_configurations").select("*").eq("id",s.ai_config_id).single();o=u}const a=await qN(r,o||{id:"default",nutritionist_id:"default",ai_name:"NutriBot",personality:"empathetic",custom_instructions:"",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t().messages),l=await Wp({conversation_id:n,sender_type:"ai",content:a.content,metadata:{recipes:a.recipes,suggestions:a.suggestions}});e(u=>({messages:[...u.messages,l],sendingMessage:!1}))}catch(i){console.error("Error sending message:",i);const o=i instanceof Error?i.message:"Erro ao enviar mensagem";e({error:o,sendingMessage:!1}),z.getState().showToast("Erro ao enviar mensagem","error")}}},clearError:()=>e({error:null}),reset:()=>e({aiConfig:null,conversations:[],currentConversation:null,messages:[],loading:!1,sendingMessage:!1,error:null})}));function Wc({size:e="md",className:t}){const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return c.jsx(Qs,{className:Y("animate-spin",n[e],t)})}function JN(){var p;const{user:e}=ke(),{conversations:t,currentConversation:n,messages:r,sendingMessage:s,createConversation:i,setCurrentConversation:o,sendMessage:a,fetchMessages:l}=YN(),[u,d]=S.useState(""),h=S.useRef(null),f=S.useRef(null),g=TN();S.useEffect(()=>{var y;(y=h.current)==null||y.scrollIntoView({behavior:"smooth"})},[r]),S.useEffect(()=>{!s&&f.current&&f.current.focus()},[s]);const x=async()=>{if(e)try{const y=await i(e.id);o(y)}catch(y){console.error("Error starting conversation:",y)}},v=async y=>{if(y.preventDefault(),!u.trim()||!n||s)return;const b=u.trim();d("");try{await a(n.id,b)}catch(k){console.error("Error sending message:",k),d(b)}},w=y=>y.split(`
`).map((b,k)=>{if(b.startsWith("# "))return c.jsx("h3",{className:"text-lg font-bold mt-4 mb-2",children:b.substring(2)},k);if(b.startsWith("## "))return c.jsx("h4",{className:"text-md font-semibold mt-3 mb-1",children:b.substring(3)},k);if(b.startsWith("- ")||b.startsWith(" "))return c.jsxs("div",{className:"flex items-start gap-2 my-1",children:[c.jsx("span",{className:"text-purple-500 mt-1",children:""}),c.jsx("span",{children:b.substring(2)})]},k);const E=b.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return b.trim()?c.jsx("p",{className:"mb-2",dangerouslySetInnerHTML:{__html:E}},k):c.jsx("br",{},k)}),m=y=>c.jsx(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-700 rounded-lg p-4 border border-purple-200 dark:border-purple-700 mt-3",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(fa,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:y.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:y.description}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Zs,{className:"w-3 h-3"}),y.author]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(fi,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),y.rating>0?y.rating.toFixed(1):"Sem avaliaes"]})]})]})]})});return n?c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:c.jsx(Vn,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white",children:((p=n.ai_config)==null?void 0:p.ai_name)||"NutriBot"}),c.jsx("p",{className:"text-purple-100 text-sm",children:"Assistente de Nutrio  Online"})]})]})}),c.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[c.jsx(wi,{children:r.map(y=>{var b;return c.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:Y("flex gap-3",y.sender_type==="user"?"justify-end":"justify-start"),children:[y.sender_type==="ai"&&c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex-shrink-0",children:c.jsx(Vn,{className:"w-4 h-4 text-white"})}),c.jsxs("div",{className:Y("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",y.sender_type==="user"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"),children:[c.jsx("div",{className:"text-sm",children:w(y.content)}),((b=y.metadata)==null?void 0:b.recipes)&&y.metadata.recipes.length>0&&c.jsx("div",{className:"mt-3 space-y-2",children:y.metadata.recipes.map((k,E)=>m(k))}),c.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(y.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),y.sender_type==="user"&&c.jsx("div",{className:"p-2 bg-green-600 rounded-full flex-shrink-0",children:c.jsx(Zs,{className:"w-4 h-4 text-white"})})]},y.id)})}),s&&c.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full",children:c.jsx(Vn,{className:"w-4 h-4 text-white"})}),c.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Wc,{size:"sm"}),c.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Digitando..."})]})})]}),c.jsx("div",{ref:h})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[c.jsxs("form",{onSubmit:v,className:"flex gap-3",children:[c.jsx("input",{ref:f,type:"text",value:u,onChange:y=>d(y.target.value),placeholder:"Digite sua pergunta sobre nutrio...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",disabled:s}),c.jsx(K.button,{type:"submit",disabled:!u.trim()||s,className:Y("px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",!u.trim()||s?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700"),whileHover:!s&&u.trim()?{scale:1.05}:{},whileTap:!s&&u.trim()?{scale:.95}:{},children:s?c.jsx(Qs,{className:"w-4 h-4 animate-spin"}):c.jsx(Ab,{className:"w-4 h-4"})})]}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["A IA pode cometer erros. Sempre consulte seu nutricionista para orientaes personalizadas.",!g]})]})]})}):c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-8 text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:c.jsx(Vn,{className:"w-12 h-12 text-white"})}),c.jsx(K.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1",children:c.jsx(u0,{className:"w-6 h-6 text-yellow-500"})})]})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Bem-vindo  Mentoria IA!"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:"Sua assistente de nutrio inteligente est pronta para ajudar com receitas, dicas alimentares, uso da plataforma e muito mais. Inicie uma conversa agora!"}),!g,c.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:" Receitas"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Me mostre receitas de bolo fit"'})]}),c.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2",children:" Dicas"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Como posso melhorar minha alimentao?"'})]}),c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-green-700 dark:text-green-300 mb-2",children:" Ajuda"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'"Como salvo receitas nos favoritos?"'})]})]}),c.jsxs(K.button,{onClick:x,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 mx-auto",whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.jsx(c0,{className:"w-5 h-5"}),"Iniciar Conversa"]})]})})}function QN(){je();const e=[{icon:c.jsx(Vn,{className:"w-5 h-5"}),title:"Mentoria IA Ilimitada",description:"Chat 24/7 com IA especializada em nutrio"},{icon:c.jsx(c0,{className:"w-5 h-5"}),title:"Consultas Personalizadas",description:"IA configurada pelo seu nutricionista"},{icon:c.jsx(fi,{className:"w-5 h-5"}),title:"Recomendaes Inteligentes",description:"Sugestes de receitas baseadas no seu perfil"},{icon:c.jsx(Fb,{className:"w-5 h-5"}),title:"Suporte Prioritrio",description:"Atendimento rpido e especializado"}];return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-2xl p-8 text-center border border-purple-200 dark:border-purple-700",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",children:c.jsx(il,{className:"w-12 h-12 text-white"})}),c.jsx(K.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:c.jsx(u0,{className:"w-6 h-6 text-yellow-500"})})]})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Desbloqueie a Mentoria IA"}),c.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto",children:["Para ter acesso ilimitado  nossa Mentoria IA e outras funcionalidades exclusivas, assine o nosso ",c.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"Plano Premium"}),"!"]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:e.map((t,n)=>c.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"flex items-start gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg text-white",children:t.icon}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description})]})]},n))}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 mb-8 border border-purple-200 dark:border-purple-700",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(il,{className:"w-6 h-6 text-purple-600"}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Plano Premium"})]}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("span",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400",children:"R$ 29,90"}),c.jsx("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:"/ms"})]}),c.jsxs("ul",{className:"space-y-3 mb-6 text-left max-w-md mx-auto",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Vi,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Chat IA ilimitado"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Vi,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"IA personalizada pelo nutricionista"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Vi,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Recomendaes inteligentes"})]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx(Vi,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Suporte prioritrio"})]})]}),c.jsxs(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2",children:[c.jsx(il,{className:"w-5 h-5"}),"Assinar Plano Premium"]})]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cancele a qualquer momento  Sem compromisso  Suporte 24/7"})]})})}function XN({onBack:e}){const{user:t,isNutritionist:n}=ke(),{hasFeatureAccess:r}=ed(),s=t&&(n()||r("ai_mentoring"));return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 group",children:[c.jsx(l0,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),"Voltar"]}),s?c.jsx(JN,{}):c.jsx(QN,{})]})}function ZN({message:e,type:t,onClose:n,duration:r=3e3}){Xc.useEffect(()=>{const i=setTimeout(n,r);return()=>clearTimeout(i)},[r,n]);const s={success:c.jsx(Hu,{className:"w-5 h-5 text-green-500"}),error:c.jsx(Bu,{className:"w-5 h-5 text-red-500"}),info:c.jsx(jb,{className:"w-5 h-5 text-blue-500"})};return c.jsx(wi,{children:c.jsxs(K.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:Y("fixed bottom-4 right-4 flex items-center gap-2 px-4 py-2 rounded-lg shadow-lg",t==="success"&&"bg-green-50 border border-green-200",t==="error"&&"bg-red-50 border border-red-200",t==="info"&&"bg-blue-50 border border-blue-200"),children:[s[t],c.jsx("span",{className:"text-gray-700",children:e}),c.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-full",children:c.jsx(Zn,{className:"w-4 h-4 text-gray-500"})})]})})}function e2(){const[e,t]=S.useState(null),[n,r]=S.useState(!1),[s,i]=S.useState(!1),[o,a]=S.useState(!1),[l,u]=S.useState(!1),{category:d,searchQuery:h,difficulty:f,prepTimeRange:g,minRating:x,setCategory:v}=td(),{recipes:w,loading:m,fetchRecipes:p}=Ct(),{isAuthenticated:y,isNutritionist:b,user:k,initializeAuth:E}=ke(),{message:C,type:j,hideToast:I}=z(),O=je(),A=["all","vegan","lowCarb","highProtein","glutenFree","vegetarian"],P=window.location.pathname==="/reset-password"||window.location.hash.includes("type=recovery");if(S.useEffect(()=>{(async()=>{if(!l){console.log("Initializing app...");try{await E(),await p(),u(!0),console.log("App initialized successfully")}catch(_){console.error("Error initializing app:",_),u(!0)}}})()},[E,p,l]),S.useEffect(()=>{l&&v("all")},[v,l]),P)return c.jsx(HT,{});const q=D=>D.toLowerCase().replace(/\s+/g,""),se=D=>{if(!g)return!0;switch(g){case"quick":return D.prepTime<=15;case"medium":return D.prepTime<=30;case"long":return D.prepTime>30;default:return!0}},Ve=w.filter(D=>{const _=q(D.category),N=q(d),M=N==="all"||_===N,U=D.title.toLowerCase().includes(h.toLowerCase())||D.description.toLowerCase().includes(h.toLowerCase()),de=!f||D.difficulty===f,Wt=!x||D.rating>=x,Tt=se(D);return M&&U&&de&&Wt&&Tt}),Ee=w.find(D=>D.id===e);return l?c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[c.jsx(AT,{onProfileClick:()=>i(!0),onAIMentoringClick:()=>a(!0)}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o?c.jsx(XN,{onBack:()=>a(!1)}):s?c.jsx(BT,{onBackToRecipes:()=>i(!1)}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-4",children:O.home.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl text-sm sm:text-base",children:O.home.subtitle})]}),y&&b()&&c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap text-sm sm:text-base",children:[c.jsx(Xs,{className:"w-4 h-4 sm:w-5 sm:h-5"}),O.home.createRecipe]})]}),c.jsxs("div",{className:"mb-8 space-y-4",children:[c.jsx("div",{className:"w-full",children:c.jsx(RT,{categories:A,selectedCategory:d,onSelectCategory:v})}),c.jsx("div",{className:"flex justify-center sm:justify-end",children:c.jsx(IT,{})})]}),m?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx(Wc,{size:"lg"})}):Ve.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:O.home.noRecipes}),w.length===0&&!m&&c.jsx("button",{onClick:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Tentar novamente"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ve.map(D=>c.jsx(Kc,{recipe:D,onClick:()=>t(D.id)},D.id))})]})}),Ee&&c.jsx(MT,{recipe:Ee,onClose:()=>t(null)}),c.jsx(LT,{isOpen:n,onClose:()=>r(!1)}),C&&c.jsx(ZN,{message:C,type:j,onClose:I})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-green-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:c.jsxs("div",{className:"text-center space-y-8 max-w-md",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-24 h-24 rounded-full bg-green-100 dark:bg-green-900/30 animate-pulse"})}),c.jsx("div",{className:"relative flex items-center justify-center py-8",children:c.jsx("h1",{className:"text-5xl font-bold text-green-600 dark:text-green-400 tracking-tight",children:"NutriChef"})})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[c.jsx(Wc,{size:"lg",className:"text-green-600 dark:text-green-400"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Carregando aplicao"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Preparando suas receitas favoritas..."})]})]}),c.jsx("div",{className:"w-full max-w-xs mx-auto",children:c.jsx("div",{className:"h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-600 rounded-full animate-[shimmer_2s_ease-in-out_infinite]",style:{width:"60%"}})})})]})})}class t2 extends S.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx(vb,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),c.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function n2({children:e}){const{theme:t}=Aa();return S.useEffect(()=>{const n=()=>{const r=t==="dark"||t==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",r)};if(n(),t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)");return r.addEventListener("change",n),()=>r.removeEventListener("change",n)}},[t]),c.jsx(c.Fragment,{children:e})}a0(document.getElementById("root")).render(c.jsx(S.StrictMode,{children:c.jsx(t2,{children:c.jsx(n2,{children:c.jsx(e2,{})})})}));export{qp as g};
